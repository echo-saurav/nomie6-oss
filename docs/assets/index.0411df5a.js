var AX=Object.defineProperty;var PX=(i,e,t)=>e in i?AX(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var NX=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var je=(i,e,t)=>(PX(i,typeof e!="symbol"?e+"":e,t),t);var wct=NX((Fct,Sp)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Z(){}const q1=i=>i;function St(i,e){for(const t in e)i[t]=e[t];return i}function MX(i){return i&&typeof i=="object"&&typeof i.then=="function"}function NI(i){return i()}function c3(){return Object.create(null)}function Ot(i){i.forEach(NI)}function ln(i){return typeof i=="function"}function he(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let x_;function Jr(i,e){return x_||(x_=document.createElement("a")),x_.href=e,i===x_.href}function LX(i){return Object.keys(i).length===0}function ta(i,...e){if(i==null)return Z;const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Bd(i){let e;return ta(i,t=>e=t)(),e}function Le(i,e,t){i.$$.on_destroy.push(ta(e,t))}function nt(i,e,t,n){if(i){const r=MI(i,e,t,n);return i[0](r)}}function MI(i,e,t,n){return i[1]&&n?St(t.ctx.slice(),i[1](n(e))):t.ctx}function it(i,e,t,n){if(i[2]&&n){const r=i[2](n(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const s=[],l=Math.max(e.dirty.length,r.length);for(let o=0;o<l;o+=1)s[o]=e.dirty[o]|r[o];return s}return e.dirty|r}return e.dirty}function rt(i,e,t,n,r,s){if(r){const l=MI(e,t,n,s);i.p(l,r)}}function st(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let n=0;n<t;n++)e[n]=-1;return e}return-1}function Qi(i){const e={};for(const t in i)t[0]!=="$"&&(e[t]=i[t]);return e}function mi(i,e){const t={};e=new Set(e);for(const n in i)!e.has(n)&&n[0]!=="$"&&(t[n]=i[n]);return t}function jg(i){return i==null?"":i}function ui(i,e,t){return i.set(t),e}function Wt(i){return i&&ln(i.destroy)?i.destroy:Z}const LI=typeof window<"u";let Zm=LI?()=>window.performance.now():()=>Date.now(),zk=LI?i=>requestAnimationFrame(i):Z;const Dd=new Set;function OI(i){Dd.forEach(e=>{e.c(i)||(Dd.delete(e),e.f())}),Dd.size!==0&&zk(OI)}function H1(i){let e;return Dd.size===0&&zk(OI),{promise:new Promise(t=>{Dd.add(e={c:i,f:t})}),abort(){Dd.delete(e)}}}function D(i,e){i.appendChild(e)}function II(i){if(!i)return document;const e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function OX(i){const e=P("style");return IX(II(i),e),e.sheet}function IX(i,e){return D(i.head||i,e),e.sheet}function w(i,e,t){i.insertBefore(e,t||null)}function y(i){i.parentNode&&i.parentNode.removeChild(i)}function pt(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function P(i){return document.createElement(i)}function ye(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function K(i){return document.createTextNode(i)}function W(){return K(" ")}function Ae(){return K("")}function Se(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function il(i){return function(e){return e.preventDefault(),i.call(this,e)}}function ic(i){return function(e){return e.stopPropagation(),i.call(this,e)}}function BI(i){return function(e){e.target===this&&i.call(this,e)}}function h(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Bt(i,e){const t=Object.getOwnPropertyDescriptors(i.__proto__);for(const n in e)e[n]==null?i.removeAttribute(n):n==="style"?i.style.cssText=e[n]:n==="__value"?i.value=i[n]=e[n]:t[n]&&t[n].set?i[n]=e[n]:h(i,n,e[n])}function p2(i,e,t){e in i?i[e]=typeof i[e]=="boolean"&&t===""?!0:t:h(i,e,t)}function oh(i){return i===""?null:+i}function BX(i){return Array.from(i.childNodes)}function de(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function Kn(i,e){i.value=e==null?"":e}function gt(i,e,t,n){t===null?i.style.removeProperty(e):i.style.setProperty(e,t,n?"important":"")}function ei(i,e){for(let t=0;t<i.options.length;t+=1){const n=i.options[t];if(n.__value===e){n.selected=!0;return}}i.selectedIndex=-1}function qo(i){const e=i.querySelector(":checked")||i.options[0];return e&&e.__value}let G_;function RX(){if(G_===void 0){G_=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{G_=!0}}return G_}function zX(i,e){getComputedStyle(i).position==="static"&&(i.style.position="relative");const n=P("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const r=RX();let s;return r?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=Se(window,"message",l=>{l.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=Se(n.contentWindow,"resize",e)}),D(i,n),()=>{(r||s&&n.contentWindow)&&s(),y(n)}}function ct(i,e,t){i.classList[t?"add":"remove"](e)}function RI(i,e,{bubbles:t=!1,cancelable:n=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(i,t,n,e),r}class jX{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.is_svg?this.e=ye(t.nodeName):this.e=P(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)w(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}function Un(i,e){return new i(e)}const Yg=new Map;let Ug=0;function YX(i){let e=5381,t=i.length;for(;t--;)e=(e<<5)-e^i.charCodeAt(t);return e>>>0}function UX(i,e){const t={stylesheet:OX(e),rules:{}};return Yg.set(i,t),t}function Wg(i,e,t,n,r,s,l,o=0){const a=16.666/n;let u=`{
`;for(let k=0;k<=1;k+=a){const $=e+(t-e)*s(k);u+=k*100+`%{${l($,1-$)}}
`}const c=u+`100% {${l(t,1-t)}}
}`,f=`__svelte_${YX(c)}_${o}`,d=II(i),{stylesheet:m,rules:p}=Yg.get(d)||UX(d,i);p[f]||(p[f]=!0,m.insertRule(`@keyframes ${f} ${c}`,m.cssRules.length));const g=i.style.animation||"";return i.style.animation=`${g?`${g}, `:""}${f} ${n}ms linear ${r}ms 1 both`,Ug+=1,f}function qg(i,e){const t=(i.style.animation||"").split(", "),n=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),r=t.length-n.length;r&&(i.style.animation=n.join(", "),Ug-=r,Ug||WX())}function WX(){zk(()=>{Ug||(Yg.forEach(i=>{const{ownerNode:e}=i.stylesheet;e&&y(e)}),Yg.clear())})}let Xm;function Ua(i){Xm=i}function Ms(){if(!Xm)throw new Error("Function called outside component initialization");return Xm}function Yt(i){Ms().$$.on_mount.push(i)}function qX(i){Ms().$$.after_update.push(i)}function Ns(i){Ms().$$.on_destroy.push(i)}function Ut(){const i=Ms();return(e,t,{cancelable:n=!1}={})=>{const r=i.$$.callbacks[e];if(r){const s=RI(e,t,{cancelable:n});return r.slice().forEach(l=>{l.call(i,s)}),!s.defaultPrevented}return!0}}function fo(i,e){return Ms().$$.context.set(i,e),e}function os(i){return Ms().$$.context.get(i)}function $l(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Fm=[],Oe=[],Ng=[],_2=[],zI=Promise.resolve();let g2=!1;function jI(){g2||(g2=!0,zI.then(jk))}function uo(){return jI(),zI}function Ei(i){Ng.push(i)}function tt(i){_2.push(i)}const db=new Set;let Z_=0;function jk(){const i=Xm;do{for(;Z_<Fm.length;){const e=Fm[Z_];Z_++,Ua(e),HX(e.$$)}for(Ua(null),Fm.length=0,Z_=0;Oe.length;)Oe.pop()();for(let e=0;e<Ng.length;e+=1){const t=Ng[e];db.has(t)||(db.add(t),t())}Ng.length=0}while(Fm.length);for(;_2.length;)_2.pop()();g2=!1,db.clear(),Ua(i)}function HX(i){if(i.fragment!==null){i.update(),Ot(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Ei)}}let am;function Yk(){return am||(am=Promise.resolve(),am.then(()=>{am=null})),am}function Qc(i,e,t){i.dispatchEvent(RI(`${e?"intro":"outro"}${t}`))}const Mg=new Set;let Ho;function ae(){Ho={r:0,c:[],p:Ho}}function ue(){Ho.r||Ot(Ho.c),Ho=Ho.p}function _(i,e){i&&i.i&&(Mg.delete(i),i.i(e))}function v(i,e,t,n){if(i&&i.o){if(Mg.has(i))return;Mg.add(i),Ho.c.push(()=>{Mg.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}const Uk={duration:0};function V1(i,e,t){const n={direction:"in"};let r=e(i,t,n),s=!1,l,o,a=0;function u(){l&&qg(i,l)}function c(){const{delay:d=0,duration:m=300,easing:p=q1,tick:g=Z,css:k}=r||Uk;k&&(l=Wg(i,0,1,m,d,p,k,a++)),g(0,1);const $=Zm()+d,C=$+m;o&&o.abort(),s=!0,Ei(()=>Qc(i,!0,"start")),o=H1(E=>{if(s){if(E>=C)return g(1,0),Qc(i,!0,"end"),u(),s=!1;if(E>=$){const S=p((E-$)/m);g(S,1-S)}}return s})}let f=!1;return{start(){f||(f=!0,qg(i),ln(r)?(r=r(n),Yk().then(c)):c())},invalidate(){f=!1},end(){s&&(u(),s=!1)}}}function Wk(i,e,t){const n={direction:"out"};let r=e(i,t,n),s=!0,l;const o=Ho;o.r+=1;function a(){const{delay:u=0,duration:c=300,easing:f=q1,tick:d=Z,css:m}=r||Uk;m&&(l=Wg(i,1,0,c,u,f,m));const p=Zm()+u,g=p+c;Ei(()=>Qc(i,!1,"start")),H1(k=>{if(s){if(k>=g)return d(0,1),Qc(i,!1,"end"),--o.r||Ot(o.c),!1;if(k>=p){const $=f((k-p)/c);d(1-$,$)}}return s})}return ln(r)?Yk().then(()=>{r=r(n),a()}):a(),{end(u){u&&r.tick&&r.tick(1,0),s&&(l&&qg(i,l),s=!1)}}}function as(i,e,t,n){const r={direction:"both"};let s=e(i,t,r),l=n?0:1,o=null,a=null,u=null;function c(){u&&qg(i,u)}function f(m,p){const g=m.b-l;return p*=Math.abs(g),{a:l,b:m.b,d:g,duration:p,start:m.start,end:m.start+p,group:m.group}}function d(m){const{delay:p=0,duration:g=300,easing:k=q1,tick:$=Z,css:C}=s||Uk,E={start:Zm()+p,b:m};m||(E.group=Ho,Ho.r+=1),o||a?a=E:(C&&(c(),u=Wg(i,l,m,g,p,k,C)),m&&$(0,1),o=f(E,g),Ei(()=>Qc(i,m,"start")),H1(S=>{if(a&&S>a.start&&(o=f(a,g),a=null,Qc(i,o.b,"start"),C&&(c(),u=Wg(i,l,o.b,o.duration,0,k,s.css))),o){if(S>=o.end)$(l=o.b,1-l),Qc(i,o.b,"end"),a||(o.b?c():--o.group.r||Ot(o.group.c)),o=null;else if(S>=o.start){const T=S-o.start;l=o.a+o.d*k(T/o.duration),$(l,1-l)}}return!!(o||a)}))}return{run(m){ln(s)?Yk().then(()=>{s=s(r),d(m)}):d(m)},end(){c(),o=a=null}}}function qk(i,e){const t=e.token={};function n(r,s,l,o){if(e.token!==t)return;e.resolved=o;let a=e.ctx;l!==void 0&&(a=a.slice(),a[l]=o);const u=r&&(e.current=r)(a);let c=!1;e.block&&(e.blocks?e.blocks.forEach((f,d)=>{d!==s&&f&&(ae(),v(f,1,1,()=>{e.blocks[d]===f&&(e.blocks[d]=null)}),ue())}):e.block.d(1),u.c(),_(u,1),u.m(e.mount(),e.anchor),c=!0),e.block=u,e.blocks&&(e.blocks[s]=u),c&&jk()}if(MX(i)){const r=Ms();if(i.then(s=>{Ua(r),n(e.then,1,e.value,s),Ua(null)},s=>{if(Ua(r),n(e.catch,2,e.error,s),Ua(null),!e.hasCatch)throw s}),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,i),!0;e.resolved=i}}function Hk(i,e,t){const n=e.slice(),{resolved:r}=i;i.current===i.then&&(n[i.value]=r),i.current===i.catch&&(n[i.error]=r),i.block.p(n,t)}const VX=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ef(i,e){i.d(1),e.delete(i.key)}function br(i,e){v(i,1,1,()=>{e.delete(i.key)})}function Pi(i,e,t,n,r,s,l,o,a,u,c,f){let d=i.length,m=s.length,p=d;const g={};for(;p--;)g[i[p].key]=p;const k=[],$=new Map,C=new Map;for(p=m;p--;){const M=f(r,s,p),R=t(M);let Y=l.get(R);Y?n&&Y.p(M,e):(Y=u(R,M),Y.c()),$.set(R,k[p]=Y),R in g&&C.set(R,Math.abs(p-g[R]))}const E=new Set,S=new Set;function T(M){_(M,1),M.m(o,c),l.set(M.key,M),c=M.first,m--}for(;d&&m;){const M=k[m-1],R=i[d-1],Y=M.key,z=R.key;M===R?(c=M.first,d--,m--):$.has(z)?!l.has(Y)||E.has(Y)?T(M):S.has(z)?d--:C.get(Y)>C.get(z)?(S.add(Y),T(M)):(E.add(z),d--):(a(R,l),d--)}for(;d--;){const M=i[d];$.has(M.key)||a(M,l)}for(;m;)T(k[m-1]);return k}function Zt(i,e){const t={},n={},r={$$scope:1};let s=i.length;for(;s--;){const l=i[s],o=e[s];if(o){for(const a in l)a in o||(n[a]=1);for(const a in o)r[a]||(t[a]=o[a],r[a]=1);i[s]=o}else for(const a in l)r[a]=1}for(const l in n)l in t||(t[l]=void 0);return t}function Qr(i){return typeof i=="object"&&i!==null?i:{}}function Qe(i,e,t,n){const r=i.$$.props[e];r!==void 0&&(i.$$.bound[r]=t,n===void 0&&t(i.$$.ctx[r]))}function B(i){i&&i.c()}function O(i,e,t,n){const{fragment:r,after_update:s}=i.$$;r&&r.m(e,t),n||Ei(()=>{const l=i.$$.on_mount.map(NI).filter(ln);i.$$.on_destroy?i.$$.on_destroy.push(...l):Ot(l),i.$$.on_mount=[]}),s.forEach(Ei)}function I(i,e){const t=i.$$;t.fragment!==null&&(Ot(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function xX(i,e){i.$$.dirty[0]===-1&&(Fm.push(i),jI(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function me(i,e,t,n,r,s,l,o=[-1]){const a=Xm;Ua(i);const u=i.$$={fragment:null,ctx:[],props:s,update:Z,not_equal:r,bound:c3(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:c3(),dirty:o,skip_bound:!1,root:e.target||a.$$.root};l&&l(u.root);let c=!1;if(u.ctx=t?t(i,e.props||{},(f,d,...m)=>{const p=m.length?m[0]:d;return u.ctx&&r(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),c&&xX(i,f)),d}):[],u.update(),c=!0,Ot(u.before_update),u.fragment=n?n(u.ctx):!1,e.target){if(e.hydrate){const f=BX(e.target);u.fragment&&u.fragment.l(f),f.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&_(i.$$.fragment),O(i,e.target,e.anchor,e.customElement),jk()}Ua(a)}class pe{$destroy(){I(this,1),this.$destroy=Z}$on(e,t){if(!ln(t))return Z;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}$set(e){this.$$set&&!LX(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const GX="modulepreload",ZX=function(i){return"/"+i},f3={},XX=function(e,t,n){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=ZX(s),s in f3)return;f3[s]=!0;const l=s.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(!!n)for(let c=r.length-1;c>=0;c--){const f=r[c];if(f.href===s&&(!l||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":GX,l||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),l)return new Promise((c,f)=>{u.addEventListener("load",c),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e())},od=[];function KX(i,e){return{subscribe:rn(i,e).subscribe}}function rn(i,e=Z){let t;const n=new Set;function r(o){if(he(i,o)&&(i=o,t)){const a=!od.length;for(const u of n)u[1](),od.push(u,i);if(a){for(let u=0;u<od.length;u+=2)od[u][0](od[u+1]);od.length=0}}}function s(o){r(o(i))}function l(o,a=Z){const u=[o,a];return n.add(u),n.size===1&&(t=e(r)||Z),o(i),()=>{n.delete(u),n.size===0&&(t(),t=null)}}return{set:r,update:s,subscribe:l}}function ds(i,e,t){const n=!Array.isArray(i),r=n?[i]:i,s=e.length<2;return KX(t,l=>{let o=!1;const a=[];let u=0,c=Z;const f=()=>{if(u)return;c();const m=e(n?a[0]:a,l);s?l(m):c=ln(m)?m:Z},d=r.map((m,p)=>ta(m,g=>{a[p]=g,u&=~(1<<p),o&&f()},()=>{u|=1<<p}));return o=!0,f(),function(){Ot(d),c()}})}function JX(i={}){const{immediate:e=!1,onNeedRefresh:t,onOfflineReady:n,onRegistered:r,onRegisteredSW:s,onRegisterError:l}=i;let o,a,u;const c=async(d=!0)=>{await a,await(u==null?void 0:u())};async function f(){if("serviceWorker"in navigator){const{Workbox:d}=await XX(()=>import("./workbox-window.prod.es5.d2780aeb.js"),[]);o=new d("/sw.js",{scope:"/",type:"classic"}),u=async()=>{await(o==null?void 0:o.messageSkipWaiting())};{let m=!1;const p=()=>{m=!0,o==null||o.addEventListener("controlling",g=>{g.isUpdate&&window.location.reload()}),t==null||t()};o.addEventListener("installed",g=>{typeof g.isUpdate>"u"?typeof g.isExternal<"u"?g.isExternal?p():!m&&(n==null||n()):g.isExternal?window.location.reload():!m&&(n==null||n()):g.isUpdate||n==null||n()}),o.addEventListener("waiting",p),o.addEventListener("externalwaiting",p)}o.register({immediate:e}).then(m=>{s?s("/sw.js",m):r==null||r(m)}).catch(m=>{l==null||l(m)})}}return a=f(),c}function YI(i={}){const{immediate:e=!0,onNeedRefresh:t,onOfflineReady:n,onRegistered:r,onRegisteredSW:s,onRegisterError:l}=i,o=rn(!1),a=rn(!1),u=JX({immediate:e,onOfflineReady(){a.set(!0),n==null||n()},onNeedRefresh(){o.set(!0),t==null||t()},onRegistered:r,onRegisteredSW:s,onRegisterError:l});return{needRefresh:o,offlineReady:a,updateServiceWorker:u}}function d3(i){let e,t,n,r,s,l,o,a,u;function c(p,g){if(p[2])return eK;if(p[0])return QX}let f=c(i),d=f&&f(i),m=i[0]&&h3(i);return{c(){e=P("div"),t=P("div"),n=P("div"),d&&d.c(),r=W(),s=P("div"),l=P("button"),l.textContent="Later",o=W(),m&&m.c(),h(n,"class","px-2 pb-2 mb-2 text-lg font-medium leading-snug text-black message"),h(l,"class","px-4 py-2 filler font-bold bg-white shadow-sm rounded-xl text-primary-600"),h(s,"class","flex items-center justify-end space-x-4"),h(t,"class","pwa-toast svelte-1dn1li6"),h(t,"role","alert"),h(e,"class","install-backdrop svelte-1dn1li6"),gt(e,"z-index","8999")},m(p,g){w(p,e,g),D(e,t),D(t,n),d&&d.m(n,null),D(t,r),D(t,s),D(s,l),D(s,o),m&&m.m(s,null),a||(u=Se(l,"click",i[6]),a=!0)},p(p,g){f!==(f=c(p))&&(d&&d.d(1),d=f&&f(p),d&&(d.c(),d.m(n,null))),p[0]?m?m.p(p,g):(m=h3(p),m.c(),m.m(s,null)):m&&(m.d(1),m=null)},d(p){p&&y(e),d&&d.d(),m&&m.d(),a=!1,u()}}}function QX(i){let e,t,n;return{c(){e=P("h1"),e.textContent="\u{1F389} Update Available",t=W(),n=P("p"),n.textContent="A new version of Nomie is ready to use.",h(e,"class","mb-2 text-2xl font-bold text-black")},m(r,s){w(r,e,s),w(r,t,s),w(r,n,s)},d(r){r&&y(e),r&&y(t),r&&y(n)}}}function eK(i){let e;return{c(){e=P("span"),e.textContent="App ready to work offline"},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function h3(i){let e,t,n;return{c(){e=P("button"),e.textContent="Update Now",h(e,"aria-label","Update the App"),h(e,"class","px-4 py-2 font-bold filler bg-white shadow-sm rounded-xl text-primary-600")},m(r,s){w(r,e,s),t||(n=Se(e,"click",i[7]),t=!0)},p:Z,d(r){r&&y(e),t=!1,n()}}}function tK(i){let e,t=i[1]&&d3(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[1]?t?t.p(n,r):(t=d3(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(n){t&&t.d(n),n&&y(e)}}}function nK(i,e,t){let n,r,s;const{offlineReady:l,needRefresh:o,updateServiceWorker:a}=YI({onRegistered(f){console.log("Nomie Service Worker registered",{installing:f.installing,active:f.active,scope:f.scope})},onRegisterError(f){console.error("Nomie Service Worker registration error",f)}});Le(i,l,f=>t(2,s=f)),Le(i,o,f=>t(0,r=f));function u(){l.set(!1),o.set(!1)}const c=()=>a(!0);return i.$$.update=()=>{i.$$.dirty&1&&t(1,n=r)},[r,n,s,l,o,a,u,c]}class iK extends pe{constructor(e){super(),me(this,e,nK,tK,he,{})}}function rK(i){let e;return{c(){e=P("div"),h(e,"class","tailwind")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}class sK extends pe{constructor(e){super(),me(this,e,null,rK,he,{})}}var bd,Em,kd;window.navigator.pointerEnabled?(bd="pointerdown",Em="pointerup",kd="pointermove"):window.navigator.msPointerEnabled?(bd="MSPointerDown",Em="MSPointerUp",kd="MSPointerMove"):"ontouchstart"in window?(bd="touchstart",Em="touchend",kd="touchmove"):(bd="mousedown",Em="mouseup",kd="mousemove");function um(i,e,t,n){if(!e)return void console.error("No event was provided. You do need to provide one.");if(typeof i=="string"&&(i=document.querySelector(i)),document.createEvent){var r=document.createEvent("Events");r.initEvent(e,!0,!1),r.data=t,r.originalEvent=n,i.dispatchEvent(r)}}var lK=function(){var i=Math.abs;function e(m){return"tagName"in m?m:m.parentNode}function t(m,p,g,k){return i(m-p)>=i(g-k)?0<m-p?"left":"right":0<g-k?"up":"down"}function n(m){if(d=null,u.last)try{u&&u.el&&(um(u.el,"longtap",null,m),u={})}catch{}}function r(){d&&clearTimeout(d),d=null}function s(){l&&clearTimeout(l),a&&clearTimeout(a),o&&clearTimeout(o),d&&clearTimeout(d),l=a=o=d=null,u={}}var l,o,a,u={},c=150,f=20;/android/gim.test(navigator.userAgent)&&(c=200);var d;(function(){var m,p,g=document.body;g.addEventListener(bd,function(k){if(m=Date.now(),p=m-(u.last||m),bd==="mousedown")u.el=e(k.target),k.target.nodeName==="ripple"&&(u.el=k.target.parentNode),l&&clearTimeout(l),u.x1=k.pageX,u.y1=k.pageY;else if(k.touches.length===1){if(k.target.disabled)return;u.el=e(k.touches[0].target),l&&clearTimeout(l),u.x1=k.touches[0].pageX,u.y1=k.touches[0].pageY}0<p&&450>=p&&(u.isDoubleTap=!0),u.last=m,d=setTimeout(n,750,k)}),g.addEventListener(kd,function(k){r(),kd==="mousemove"?(u.x2=k.pageX,u.y2=k.pageY):k.touches.length===1?(u.x2=k.touches[0].pageX,u.y2=k.touches[0].pageY,u.move=!0):k.touches.length}),g.addEventListener(Em,function(k){r(),!u.el||(u.x2&&i(u.x1-u.x2)>f||u.y2&&i(u.y1-u.y2)>f?o=setTimeout(function(){if(u&&u.el){var $=t(u.x1,u.x2,u.y1,u.y2);um(u.el,"swipe",$,k),um(u.el,"swipe"+$,null,k),u={}}},0):"last"in u&&(a=setTimeout(function(){u&&u.isDoubleTap?u&&u.el&&(um(u.el,"dbltap",null,k),k.preventDefault(),u={}):l=setTimeout(function(){l=null,u&&u.el&&!u.move?(um(u.el,"tap",null,k),u={}):s()},c)},0)))}),g.addEventListener("touchcancel",s)})()},fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oK(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function aK(i){var e=i.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var r=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return i[n]}})}),t}var UI={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(fi,function(){var t=1e3,n=6e4,r=36e5,s="millisecond",l="second",o="minute",a="hour",u="day",c="week",f="month",d="quarter",m="year",p="date",g="Invalid Date",k=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,$=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ee){var J=["th","st","nd","rd"],q=ee%100;return"["+ee+(J[(q-20)%10]||J[q]||J[0])+"]"}},E=function(ee,J,q){var le=String(ee);return!le||le.length>=J?ee:""+Array(J+1-le.length).join(q)+ee},S={s:E,z:function(ee){var J=-ee.utcOffset(),q=Math.abs(J),le=Math.floor(q/60),G=q%60;return(J<=0?"+":"-")+E(le,2,"0")+":"+E(G,2,"0")},m:function ee(J,q){if(J.date()<q.date())return-ee(q,J);var le=12*(q.year()-J.year())+(q.month()-J.month()),G=J.clone().add(le,f),X=q-G<0,se=J.clone().add(le+(X?-1:1),f);return+(-(le+(q-G)/(X?G-se:se-G))||0)},a:function(ee){return ee<0?Math.ceil(ee)||0:Math.floor(ee)},p:function(ee){return{M:f,y:m,w:c,d:u,D:p,h:a,m:o,s:l,ms:s,Q:d}[ee]||String(ee||"").toLowerCase().replace(/s$/,"")},u:function(ee){return ee===void 0}},T="en",M={};M[T]=C;var R=function(ee){return ee instanceof V},Y=function ee(J,q,le){var G;if(!J)return T;if(typeof J=="string"){var X=J.toLowerCase();M[X]&&(G=X),q&&(M[X]=q,G=X);var se=J.split("-");if(!G&&se.length>1)return ee(se[0])}else{var te=J.name;M[te]=J,G=te}return!le&&G&&(T=G),G||!le&&T},z=function(ee,J){if(R(ee))return ee.clone();var q=typeof J=="object"?J:{};return q.date=ee,q.args=arguments,new V(q)},j=S;j.l=Y,j.i=R,j.w=function(ee,J){return z(ee,{locale:J.$L,utc:J.$u,x:J.$x,$offset:J.$offset})};var V=function(){function ee(q){this.$L=Y(q.locale,null,!0),this.parse(q)}var J=ee.prototype;return J.parse=function(q){this.$d=function(le){var G=le.date,X=le.utc;if(G===null)return new Date(NaN);if(j.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var se=G.match(k);if(se){var te=se[2]-1||0,ie=(se[7]||"0").substring(0,3);return X?new Date(Date.UTC(se[1],te,se[3]||1,se[4]||0,se[5]||0,se[6]||0,ie)):new Date(se[1],te,se[3]||1,se[4]||0,se[5]||0,se[6]||0,ie)}}return new Date(G)}(q),this.$x=q.x||{},this.init()},J.init=function(){var q=this.$d;this.$y=q.getFullYear(),this.$M=q.getMonth(),this.$D=q.getDate(),this.$W=q.getDay(),this.$H=q.getHours(),this.$m=q.getMinutes(),this.$s=q.getSeconds(),this.$ms=q.getMilliseconds()},J.$utils=function(){return j},J.isValid=function(){return this.$d.toString()!==g},J.isSame=function(q,le){var G=z(q);return this.startOf(le)<=G&&G<=this.endOf(le)},J.isAfter=function(q,le){return z(q)<this.startOf(le)},J.isBefore=function(q,le){return this.endOf(le)<z(q)},J.$g=function(q,le,G){return j.u(q)?this[le]:this.set(G,q)},J.unix=function(){return Math.floor(this.valueOf()/1e3)},J.valueOf=function(){return this.$d.getTime()},J.startOf=function(q,le){var G=this,X=!!j.u(le)||le,se=j.p(q),te=function(ke,Ue){var Ce=j.w(G.$u?Date.UTC(G.$y,Ue,ke):new Date(G.$y,Ue,ke),G);return X?Ce:Ce.endOf(u)},ie=function(ke,Ue){return j.w(G.toDate()[ke].apply(G.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(Ue)),G)},re=this.$W,be=this.$M,we=this.$D,De="set"+(this.$u?"UTC":"");switch(se){case m:return X?te(1,0):te(31,11);case f:return X?te(1,be):te(0,be+1);case c:var Be=this.$locale().weekStart||0,ze=(re<Be?re+7:re)-Be;return te(X?we-ze:we+(6-ze),be);case u:case p:return ie(De+"Hours",0);case a:return ie(De+"Minutes",1);case o:return ie(De+"Seconds",2);case l:return ie(De+"Milliseconds",3);default:return this.clone()}},J.endOf=function(q){return this.startOf(q,!1)},J.$set=function(q,le){var G,X=j.p(q),se="set"+(this.$u?"UTC":""),te=(G={},G[u]=se+"Date",G[p]=se+"Date",G[f]=se+"Month",G[m]=se+"FullYear",G[a]=se+"Hours",G[o]=se+"Minutes",G[l]=se+"Seconds",G[s]=se+"Milliseconds",G)[X],ie=X===u?this.$D+(le-this.$W):le;if(X===f||X===m){var re=this.clone().set(p,1);re.$d[te](ie),re.init(),this.$d=re.set(p,Math.min(this.$D,re.daysInMonth())).$d}else te&&this.$d[te](ie);return this.init(),this},J.set=function(q,le){return this.clone().$set(q,le)},J.get=function(q){return this[j.p(q)]()},J.add=function(q,le){var G,X=this;q=Number(q);var se=j.p(le),te=function(be){var we=z(X);return j.w(we.date(we.date()+Math.round(be*q)),X)};if(se===f)return this.set(f,this.$M+q);if(se===m)return this.set(m,this.$y+q);if(se===u)return te(1);if(se===c)return te(7);var ie=(G={},G[o]=n,G[a]=r,G[l]=t,G)[se]||1,re=this.$d.getTime()+q*ie;return j.w(re,this)},J.subtract=function(q,le){return this.add(-1*q,le)},J.format=function(q){var le=this,G=this.$locale();if(!this.isValid())return G.invalidDate||g;var X=q||"YYYY-MM-DDTHH:mm:ssZ",se=j.z(this),te=this.$H,ie=this.$m,re=this.$M,be=G.weekdays,we=G.months,De=function(Ue,Ce,vt,$t){return Ue&&(Ue[Ce]||Ue(le,X))||vt[Ce].slice(0,$t)},Be=function(Ue){return j.s(te%12||12,Ue,"0")},ze=G.meridiem||function(Ue,Ce,vt){var $t=Ue<12?"AM":"PM";return vt?$t.toLowerCase():$t},ke={YY:String(this.$y).slice(-2),YYYY:this.$y,M:re+1,MM:j.s(re+1,2,"0"),MMM:De(G.monthsShort,re,we,3),MMMM:De(we,re),D:this.$D,DD:j.s(this.$D,2,"0"),d:String(this.$W),dd:De(G.weekdaysMin,this.$W,be,2),ddd:De(G.weekdaysShort,this.$W,be,3),dddd:be[this.$W],H:String(te),HH:j.s(te,2,"0"),h:Be(1),hh:Be(2),a:ze(te,ie,!0),A:ze(te,ie,!1),m:String(ie),mm:j.s(ie,2,"0"),s:String(this.$s),ss:j.s(this.$s,2,"0"),SSS:j.s(this.$ms,3,"0"),Z:se};return X.replace($,function(Ue,Ce){return Ce||ke[Ue]||se.replace(":","")})},J.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},J.diff=function(q,le,G){var X,se=j.p(le),te=z(q),ie=(te.utcOffset()-this.utcOffset())*n,re=this-te,be=j.m(this,te);return be=(X={},X[m]=be/12,X[f]=be,X[d]=be/3,X[c]=(re-ie)/6048e5,X[u]=(re-ie)/864e5,X[a]=re/r,X[o]=re/n,X[l]=re/t,X)[se]||re,G?be:j.a(be)},J.daysInMonth=function(){return this.endOf(f).$D},J.$locale=function(){return M[this.$L]},J.locale=function(q,le){if(!q)return this.$L;var G=this.clone(),X=Y(q,le,!0);return X&&(G.$L=X),G},J.clone=function(){return j.w(this.$d,this)},J.toDate=function(){return new Date(this.valueOf())},J.toJSON=function(){return this.isValid()?this.toISOString():null},J.toISOString=function(){return this.$d.toISOString()},J.toString=function(){return this.$d.toUTCString()},ee}(),x=V.prototype;return z.prototype=x,[["$ms",s],["$s",l],["$m",o],["$H",a],["$W",u],["$M",f],["$y",m],["$D",p]].forEach(function(ee){x[ee[1]]=function(J){return this.$g(J,ee[0],ee[1])}}),z.extend=function(ee,J){return ee.$i||(ee(J,V,z),ee.$i=!0),z},z.locale=Y,z.isDayjs=R,z.unix=function(ee){return z(1e3*ee)},z.en=M[T],z.Ls=M,z.p={},z})})(UI);const Te=UI.exports;var Sp={};(function i(e,t,n,r){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL);function l(){}function o(J){var q=t.exports.Promise,le=q!==void 0?q:e.Promise;return typeof le=="function"?new le(J):(J(l,l),null)}var a=function(){var J=Math.floor(16.666666666666668),q,le,G={},X=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(q=function(se){var te=Math.random();return G[te]=requestAnimationFrame(function ie(re){X===re||X+J-1<re?(X=re,delete G[te],se()):G[te]=requestAnimationFrame(ie)}),te},le=function(se){G[se]&&cancelAnimationFrame(G[se])}):(q=function(se){return setTimeout(se,J)},le=function(se){return clearTimeout(se)}),{frame:q,cancel:le}}(),u=function(){var J,q,le={};function G(X){function se(te,ie){X.postMessage({options:te||{},callback:ie})}X.init=function(ie){var re=ie.transferControlToOffscreen();X.postMessage({canvas:re},[re])},X.fire=function(ie,re,be){if(q)return se(ie,null),q;var we=Math.random().toString(36).slice(2);return q=o(function(De){function Be(ze){ze.data.callback===we&&(delete le[we],X.removeEventListener("message",Be),q=null,be(),De())}X.addEventListener("message",Be),se(ie,we),le[we]=Be.bind(null,{data:{callback:we}})}),q},X.reset=function(){X.postMessage({reset:!0});for(var ie in le)le[ie](),delete le[ie]}}return function(){if(J)return J;if(!n&&s){var X=["var CONFETTI, SIZE = {}, module = {};","("+i.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{J=new Worker(URL.createObjectURL(new Blob([X])))}catch(se){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("\u{1F38A} Could not load worker",se),null}G(J)}return J}}(),c={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function f(J,q){return q?q(J):J}function d(J){return J!=null}function m(J,q,le){return f(J&&d(J[q])?J[q]:c[q],le)}function p(J){return J<0?0:Math.floor(J)}function g(J,q){return Math.floor(Math.random()*(q-J))+J}function k(J){return parseInt(J,16)}function $(J){return J.map(C)}function C(J){var q=String(J).replace(/[^0-9a-f]/gi,"");return q.length<6&&(q=q[0]+q[0]+q[1]+q[1]+q[2]+q[2]),{r:k(q.substring(0,2)),g:k(q.substring(2,4)),b:k(q.substring(4,6))}}function E(J){var q=m(J,"origin",Object);return q.x=m(q,"x",Number),q.y=m(q,"y",Number),q}function S(J){J.width=document.documentElement.clientWidth,J.height=document.documentElement.clientHeight}function T(J){var q=J.getBoundingClientRect();J.width=q.width,J.height=q.height}function M(J){var q=document.createElement("canvas");return q.style.position="fixed",q.style.top="0px",q.style.left="0px",q.style.pointerEvents="none",q.style.zIndex=J,q}function R(J,q,le,G,X,se,te,ie,re){J.save(),J.translate(q,le),J.rotate(se),J.scale(G,X),J.arc(0,0,1,te,ie,re),J.restore()}function Y(J){var q=J.angle*(Math.PI/180),le=J.spread*(Math.PI/180);return{x:J.x,y:J.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:J.startVelocity*.5+Math.random()*J.startVelocity,angle2D:-q+(.5*le-Math.random()*le),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:J.color,shape:J.shape,tick:0,totalTicks:J.ticks,decay:J.decay,drift:J.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:J.gravity*3,ovalScalar:.6,scalar:J.scalar}}function z(J,q){q.x+=Math.cos(q.angle2D)*q.velocity+q.drift,q.y+=Math.sin(q.angle2D)*q.velocity+q.gravity,q.wobble+=q.wobbleSpeed,q.velocity*=q.decay,q.tiltAngle+=.1,q.tiltSin=Math.sin(q.tiltAngle),q.tiltCos=Math.cos(q.tiltAngle),q.random=Math.random()+2,q.wobbleX=q.x+10*q.scalar*Math.cos(q.wobble),q.wobbleY=q.y+10*q.scalar*Math.sin(q.wobble);var le=q.tick++/q.totalTicks,G=q.x+q.random*q.tiltCos,X=q.y+q.random*q.tiltSin,se=q.wobbleX+q.random*q.tiltCos,te=q.wobbleY+q.random*q.tiltSin;if(J.fillStyle="rgba("+q.color.r+", "+q.color.g+", "+q.color.b+", "+(1-le)+")",J.beginPath(),q.shape==="circle")J.ellipse?J.ellipse(q.x,q.y,Math.abs(se-G)*q.ovalScalar,Math.abs(te-X)*q.ovalScalar,Math.PI/10*q.wobble,0,2*Math.PI):R(J,q.x,q.y,Math.abs(se-G)*q.ovalScalar,Math.abs(te-X)*q.ovalScalar,Math.PI/10*q.wobble,0,2*Math.PI);else if(q.shape==="star")for(var ie=Math.PI/2*3,re=4*q.scalar,be=8*q.scalar,we=q.x,De=q.y,Be=5,ze=Math.PI/Be;Be--;)we=q.x+Math.cos(ie)*be,De=q.y+Math.sin(ie)*be,J.lineTo(we,De),ie+=ze,we=q.x+Math.cos(ie)*re,De=q.y+Math.sin(ie)*re,J.lineTo(we,De),ie+=ze;else J.moveTo(Math.floor(q.x),Math.floor(q.y)),J.lineTo(Math.floor(q.wobbleX),Math.floor(X)),J.lineTo(Math.floor(se),Math.floor(te)),J.lineTo(Math.floor(G),Math.floor(q.wobbleY));return J.closePath(),J.fill(),q.tick<q.totalTicks}function j(J,q,le,G,X){var se=q.slice(),te=J.getContext("2d"),ie,re,be=o(function(we){function De(){ie=re=null,te.clearRect(0,0,G.width,G.height),X(),we()}function Be(){n&&!(G.width===r.width&&G.height===r.height)&&(G.width=J.width=r.width,G.height=J.height=r.height),!G.width&&!G.height&&(le(J),G.width=J.width,G.height=J.height),te.clearRect(0,0,G.width,G.height),se=se.filter(function(ze){return z(te,ze)}),se.length?ie=a.frame(Be):De()}ie=a.frame(Be),re=De});return{addFettis:function(we){return se=se.concat(we),be},canvas:J,promise:be,reset:function(){ie&&a.cancel(ie),re&&re()}}}function V(J,q){var le=!J,G=!!m(q||{},"resize"),X=m(q,"disableForReducedMotion",Boolean),se=s&&!!m(q||{},"useWorker"),te=se?u():null,ie=le?S:T,re=J&&te?!!J.__confetti_initialized:!1,be=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,we;function De(ze,ke,Ue){for(var Ce=m(ze,"particleCount",p),vt=m(ze,"angle",Number),$t=m(ze,"spread",Number),bt=m(ze,"startVelocity",Number),Tt=m(ze,"decay",Number),It=m(ze,"gravity",Number),Je=m(ze,"drift",Number),Pt=m(ze,"colors",$),sn=m(ze,"ticks",Number),Tn=m(ze,"shapes"),Vn=m(ze,"scalar"),An=E(ze),xn=Ce,In=[],Hi=J.width*An.x,mt=J.height*An.y;xn--;)In.push(Y({x:Hi,y:mt,angle:vt,spread:$t,startVelocity:bt,color:Pt[xn%Pt.length],shape:Tn[g(0,Tn.length)],ticks:sn,decay:Tt,gravity:It,drift:Je,scalar:Vn}));return we?we.addFettis(In):(we=j(J,In,ie,ke,Ue),we.promise)}function Be(ze){var ke=X||m(ze,"disableForReducedMotion",Boolean),Ue=m(ze,"zIndex",Number);if(ke&&be)return o(function(bt){bt()});le&&we?J=we.canvas:le&&!J&&(J=M(Ue),document.body.appendChild(J)),G&&!re&&ie(J);var Ce={width:J.width,height:J.height};te&&!re&&te.init(J),re=!0,te&&(J.__confetti_initialized=!0);function vt(){if(te){var bt={getBoundingClientRect:function(){if(!le)return J.getBoundingClientRect()}};ie(bt),te.postMessage({resize:{width:bt.width,height:bt.height}});return}Ce.width=Ce.height=null}function $t(){we=null,G&&e.removeEventListener("resize",vt),le&&J&&(document.body.removeChild(J),J=null,re=!1)}return G&&e.addEventListener("resize",vt,!1),te?te.fire(ze,Ce,$t):De(ze,Ce,$t)}return Be.reset=function(){te&&te.reset(),we&&we.reset()},Be}var x;function ee(){return x||(x=V(null,{useWorker:!0,resize:!0})),x}t.exports=function(){return ee().apply(this,arguments)},t.exports.reset=function(){ee().reset()},t.exports.create=V})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),Sp,!1);const uK=Sp.exports;Sp.exports.create;const Ps=(i,e)=>new Promise(t=>{setTimeout(()=>{e&&e(),t(!0)},i)}),Lt=Ps,WI=async({...i}={})=>{const e=document.getElementById("canvas"),t=uK.create(e,{resize:!0,particleCount:100,spread:80,origin:{y:.6},zIndex:1e4});t(),await Lt(i.duration||3e3),t.reset()};function qI(i){const e=i-1;return e*e*e+1}function m3(i){return i/=.5,i<1?.5*i*i:(i--,-.5*(i*(i-2)-1))}function na(i){return--i*i*i*i*i+1}function Km(i,{delay:e=0,duration:t=400,easing:n=q1}={}){const r=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:n,css:s=>`opacity: ${s*r}`}}function Rd(i,{delay:e=0,duration:t=400,easing:n=qI,x:r=0,y:s=0,opacity:l=0}={}){const o=getComputedStyle(i),a=+o.opacity,u=o.transform==="none"?"":o.transform,c=a*(1-l);return{delay:e,duration:t,easing:n,css:(f,d)=>`
			transform: ${u} translate(${(1-f)*r}px, ${(1-f)*s}px);
			opacity: ${a-c*d}`}}function Yl(i,{delay:e=0,duration:t=400,easing:n=qI}={}){const r=getComputedStyle(i),s=+r.opacity,l=parseFloat(r.height),o=parseFloat(r.paddingTop),a=parseFloat(r.paddingBottom),u=parseFloat(r.marginTop),c=parseFloat(r.marginBottom),f=parseFloat(r.borderTopWidth),d=parseFloat(r.borderBottomWidth);return{delay:e,duration:t,easing:n,css:m=>`overflow: hidden;opacity: ${Math.min(m*20,1)*s};height: ${m*l}px;padding-top: ${m*o}px;padding-bottom: ${m*a}px;margin-top: ${m*u}px;margin-bottom: ${m*c}px;border-top-width: ${m*f}px;border-bottom-width: ${m*d}px;`}}function cK(i){let e,t,n;return{c(){e=P("div"),e.innerHTML='<canvas class="confetti" id="confetti"></canvas>',h(e,"class","confetti-wrapper")},m(r,s){w(r,e,s),n=!0},p:Z,i(r){n||(Ei(()=>{t||(t=as(e,Km,{},!0)),t.run(1)}),n=!0)},o(r){t||(t=as(e,Km,{},!1)),t.run(0),n=!1},d(r){r&&y(e),r&&t&&t.end()}}}function fK(i){return Yt(()=>{WI()}),[]}class dK extends pe{constructor(e){super(),me(this,e,fK,cK,he,{})}}var Vk={};Object.defineProperty(Vk,"__esModule",{value:!0});var Im=Vk.Md5=void 0,HI=function(){function i(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return i.hashStr=function(e,t){return t===void 0&&(t=!1),this.onePassHasher.start().appendStr(e).end(t)},i.hashAsciiStr=function(e,t){return t===void 0&&(t=!1),this.onePassHasher.start().appendAsciiStr(e).end(t)},i._hex=function(e){var t=i.hexChars,n=i.hexOut,r,s,l,o;for(o=0;o<4;o+=1)for(s=o*8,r=e[o],l=0;l<8;l+=2)n[s+1+l]=t.charAt(r&15),r>>>=4,n[s+0+l]=t.charAt(r&15),r>>>=4;return n.join("")},i._md5cycle=function(e,t){var n=e[0],r=e[1],s=e[2],l=e[3];n+=(r&s|~r&l)+t[0]-680876936|0,n=(n<<7|n>>>25)+r|0,l+=(n&r|~n&s)+t[1]-389564586|0,l=(l<<12|l>>>20)+n|0,s+=(l&n|~l&r)+t[2]+606105819|0,s=(s<<17|s>>>15)+l|0,r+=(s&l|~s&n)+t[3]-1044525330|0,r=(r<<22|r>>>10)+s|0,n+=(r&s|~r&l)+t[4]-176418897|0,n=(n<<7|n>>>25)+r|0,l+=(n&r|~n&s)+t[5]+1200080426|0,l=(l<<12|l>>>20)+n|0,s+=(l&n|~l&r)+t[6]-1473231341|0,s=(s<<17|s>>>15)+l|0,r+=(s&l|~s&n)+t[7]-45705983|0,r=(r<<22|r>>>10)+s|0,n+=(r&s|~r&l)+t[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,l+=(n&r|~n&s)+t[9]-1958414417|0,l=(l<<12|l>>>20)+n|0,s+=(l&n|~l&r)+t[10]-42063|0,s=(s<<17|s>>>15)+l|0,r+=(s&l|~s&n)+t[11]-1990404162|0,r=(r<<22|r>>>10)+s|0,n+=(r&s|~r&l)+t[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,l+=(n&r|~n&s)+t[13]-40341101|0,l=(l<<12|l>>>20)+n|0,s+=(l&n|~l&r)+t[14]-1502002290|0,s=(s<<17|s>>>15)+l|0,r+=(s&l|~s&n)+t[15]+1236535329|0,r=(r<<22|r>>>10)+s|0,n+=(r&l|s&~l)+t[1]-165796510|0,n=(n<<5|n>>>27)+r|0,l+=(n&s|r&~s)+t[6]-1069501632|0,l=(l<<9|l>>>23)+n|0,s+=(l&r|n&~r)+t[11]+643717713|0,s=(s<<14|s>>>18)+l|0,r+=(s&n|l&~n)+t[0]-373897302|0,r=(r<<20|r>>>12)+s|0,n+=(r&l|s&~l)+t[5]-701558691|0,n=(n<<5|n>>>27)+r|0,l+=(n&s|r&~s)+t[10]+38016083|0,l=(l<<9|l>>>23)+n|0,s+=(l&r|n&~r)+t[15]-660478335|0,s=(s<<14|s>>>18)+l|0,r+=(s&n|l&~n)+t[4]-405537848|0,r=(r<<20|r>>>12)+s|0,n+=(r&l|s&~l)+t[9]+568446438|0,n=(n<<5|n>>>27)+r|0,l+=(n&s|r&~s)+t[14]-1019803690|0,l=(l<<9|l>>>23)+n|0,s+=(l&r|n&~r)+t[3]-187363961|0,s=(s<<14|s>>>18)+l|0,r+=(s&n|l&~n)+t[8]+1163531501|0,r=(r<<20|r>>>12)+s|0,n+=(r&l|s&~l)+t[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,l+=(n&s|r&~s)+t[2]-51403784|0,l=(l<<9|l>>>23)+n|0,s+=(l&r|n&~r)+t[7]+1735328473|0,s=(s<<14|s>>>18)+l|0,r+=(s&n|l&~n)+t[12]-1926607734|0,r=(r<<20|r>>>12)+s|0,n+=(r^s^l)+t[5]-378558|0,n=(n<<4|n>>>28)+r|0,l+=(n^r^s)+t[8]-2022574463|0,l=(l<<11|l>>>21)+n|0,s+=(l^n^r)+t[11]+1839030562|0,s=(s<<16|s>>>16)+l|0,r+=(s^l^n)+t[14]-35309556|0,r=(r<<23|r>>>9)+s|0,n+=(r^s^l)+t[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,l+=(n^r^s)+t[4]+1272893353|0,l=(l<<11|l>>>21)+n|0,s+=(l^n^r)+t[7]-155497632|0,s=(s<<16|s>>>16)+l|0,r+=(s^l^n)+t[10]-1094730640|0,r=(r<<23|r>>>9)+s|0,n+=(r^s^l)+t[13]+681279174|0,n=(n<<4|n>>>28)+r|0,l+=(n^r^s)+t[0]-358537222|0,l=(l<<11|l>>>21)+n|0,s+=(l^n^r)+t[3]-722521979|0,s=(s<<16|s>>>16)+l|0,r+=(s^l^n)+t[6]+76029189|0,r=(r<<23|r>>>9)+s|0,n+=(r^s^l)+t[9]-640364487|0,n=(n<<4|n>>>28)+r|0,l+=(n^r^s)+t[12]-421815835|0,l=(l<<11|l>>>21)+n|0,s+=(l^n^r)+t[15]+530742520|0,s=(s<<16|s>>>16)+l|0,r+=(s^l^n)+t[2]-995338651|0,r=(r<<23|r>>>9)+s|0,n+=(s^(r|~l))+t[0]-198630844|0,n=(n<<6|n>>>26)+r|0,l+=(r^(n|~s))+t[7]+1126891415|0,l=(l<<10|l>>>22)+n|0,s+=(n^(l|~r))+t[14]-1416354905|0,s=(s<<15|s>>>17)+l|0,r+=(l^(s|~n))+t[5]-57434055|0,r=(r<<21|r>>>11)+s|0,n+=(s^(r|~l))+t[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,l+=(r^(n|~s))+t[3]-1894986606|0,l=(l<<10|l>>>22)+n|0,s+=(n^(l|~r))+t[10]-1051523|0,s=(s<<15|s>>>17)+l|0,r+=(l^(s|~n))+t[1]-2054922799|0,r=(r<<21|r>>>11)+s|0,n+=(s^(r|~l))+t[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,l+=(r^(n|~s))+t[15]-30611744|0,l=(l<<10|l>>>22)+n|0,s+=(n^(l|~r))+t[6]-1560198380|0,s=(s<<15|s>>>17)+l|0,r+=(l^(s|~n))+t[13]+1309151649|0,r=(r<<21|r>>>11)+s|0,n+=(s^(r|~l))+t[4]-145523070|0,n=(n<<6|n>>>26)+r|0,l+=(r^(n|~s))+t[11]-1120210379|0,l=(l<<10|l>>>22)+n|0,s+=(n^(l|~r))+t[2]+718787259|0,s=(s<<15|s>>>17)+l|0,r+=(l^(s|~n))+t[9]-343485551|0,r=(r<<21|r>>>11)+s|0,e[0]=n+e[0]|0,e[1]=r+e[1]|0,e[2]=s+e[2]|0,e[3]=l+e[3]|0},i.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(i.stateIdentity),this},i.prototype.appendStr=function(e){var t=this._buffer8,n=this._buffer32,r=this._bufferLength,s,l;for(l=0;l<e.length;l+=1){if(s=e.charCodeAt(l),s<128)t[r++]=s;else if(s<2048)t[r++]=(s>>>6)+192,t[r++]=s&63|128;else if(s<55296||s>56319)t[r++]=(s>>>12)+224,t[r++]=s>>>6&63|128,t[r++]=s&63|128;else{if(s=(s-55296)*1024+(e.charCodeAt(++l)-56320)+65536,s>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");t[r++]=(s>>>18)+240,t[r++]=s>>>12&63|128,t[r++]=s>>>6&63|128,t[r++]=s&63|128}r>=64&&(this._dataLength+=64,i._md5cycle(this._state,n),r-=64,n[0]=n[16])}return this._bufferLength=r,this},i.prototype.appendAsciiStr=function(e){for(var t=this._buffer8,n=this._buffer32,r=this._bufferLength,s,l=0;;){for(s=Math.min(e.length-l,64-r);s--;)t[r++]=e.charCodeAt(l++);if(r<64)break;this._dataLength+=64,i._md5cycle(this._state,n),r=0}return this._bufferLength=r,this},i.prototype.appendByteArray=function(e){for(var t=this._buffer8,n=this._buffer32,r=this._bufferLength,s,l=0;;){for(s=Math.min(e.length-l,64-r);s--;)t[r++]=e[l++];if(r<64)break;this._dataLength+=64,i._md5cycle(this._state,n),r=0}return this._bufferLength=r,this},i.prototype.getState=function(){var e=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[e[0],e[1],e[2],e[3]]}},i.prototype.setState=function(e){var t=e.buffer,n=e.state,r=this._state,s;for(this._dataLength=e.length,this._bufferLength=e.buflen,r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],s=0;s<t.length;s+=1)this._buffer8[s]=t.charCodeAt(s)},i.prototype.end=function(e){e===void 0&&(e=!1);var t=this._bufferLength,n=this._buffer8,r=this._buffer32,s=(t>>2)+1;this._dataLength+=t;var l=this._dataLength*8;if(n[t]=128,n[t+1]=n[t+2]=n[t+3]=0,r.set(i.buffer32Identity.subarray(s),s),t>55&&(i._md5cycle(this._state,r),r.set(i.buffer32Identity)),l<=4294967295)r[14]=l;else{var o=l.toString(16).match(/(.*?)(.{0,8})$/);if(o===null)return;var a=parseInt(o[2],16),u=parseInt(o[1],16)||0;r[14]=a,r[15]=u}return i._md5cycle(this._state,r),e?this._state:i._hex(this._state)},i.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),i.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i.hexChars="0123456789abcdef",i.hexOut=[],i.onePassHasher=new i,i}();Im=Vk.Md5=HI;if(HI.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");const Jn=(i,e)=>{let t=`${new Date().getTime()+Math.random()}`,n=32;if(i){if(typeof i=="string"){let r=typeof e=="number"?e:n;return t=i,Im.hashStr(t).toString().substr(0,r)}else if(typeof i=="number")return Im.hashStr(t).toString().substr(0,i)}else return Im.hashStr(t).toString().substr(0,n)};function ia(i){return Im.hashStr(i).toString()}const hK=i=>{let e=0,t,n;if(i.length===0)return e;for(t=0;t<i.length;t++)n=i.charCodeAt(t),e=(e<<5)-e+n,e|=0;return e};class Hg{constructor(e={name:void 0}){je(this,"id");je(this,"name");je(this,"reason");je(this,"value",0);je(this,"image");je(this,"hash");je(this,"phash");je(this,"timestamp");if(this.id=e.id||`awd-${Jn(6)}`,this.name=e.name,this.reason=e.reason,this.image=e.image,this.value=e.value,this.phash=e.phash,this.timestamp=e.timestamp||new Date,!this.name)throw new Error("Award name is required");this.hash=e.hash}getHash(){return ia(`${this.id}${this.phash}${this.timestamp.getTime()}${this.name}${this.reason}`)}}class mK{constructor(e,t){je(this,"chain");je(this,"storage");je(this,"path");this.storage=e,this.path=t}async open(){let e=await this.storage.get(this.path);if(this.chain=(e||[]).map(t=>new Hg(t)),!this.chain.length){let t=this.genesis;t.hash=t.getHash(),this.chain.push(t);try{await this.save()}catch(n){console.error(n.message)}}return this}async save(){return await this.storage.put(this.path,this.chain)}getById(e){return this.chain.find(t=>t.id===e)}awardExists(e){return!!this.getById(e.id)}latestAward(){return this.chain[this.chain.length-1]}get valid(){for(let e=1;e<this.chain.length;e++){const t=this.chain[e],n=this.chain[e-1];if(t.hash!==t.getHash()||t.phash!==n.hash)return!1}return!0}get genesis(){return new Hg({id:"nomie-6",name:"Started Nomie 6",reason:"You started using Nomie 6",image:"streak-0.svg",value:1,phash:"0"})}async add(e){if(this.chain.find(t=>t.id===e.id))return null;{let t=this.latestAward();e.phash=t.hash,e.hash=e.getHash(),this.chain.push(e);try{await this.save()}catch(n){console.error(n)}return e}}}function pK(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Add Circle"),r=ye("path"),s=ye("path"),h(r,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M256 176v160M336 256H176"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function _K(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Tp extends pe{constructor(e){super(),me(this,e,_K,pK,he,{size:0})}}function gK(i){let e,t,n,r;return{c(){e=ye("svg"),t=ye("path"),h(t,"d","M3 5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H15C15.5304 3 16.0391 3.21071 16.4142 3.58579C16.7893 3.96086 17 4.46957 17 5V15C17 15.5304 16.7893 16.0391 16.4142 16.4142C16.0391 16.7893 15.5304 17 15 17H5C4.46957 17 3.96086 16.7893 3.58579 16.4142C3.21071 16.0391 3 15.5304 3 15V5ZM5 4C4.73478 4 4.48043 4.10536 4.29289 4.29289C4.10536 4.48043 4 4.73478 4 5V15C4 15.2652 4.10536 15.5196 4.29289 15.7071C4.48043 15.8946 4.73478 16 5 16H15C15.2652 16 15.5196 15.8946 15.7071 15.7071C15.8946 15.5196 16 15.2652 16 15V5C16 4.73478 15.8946 4.48043 15.7071 4.29289C15.5196 4.10536 15.2652 4 15 4H5ZM10 6C10.1326 6 10.2598 6.05268 10.3536 6.14645C10.4473 6.24021 10.5 6.36739 10.5 6.5V9.5H13.5C13.6326 9.5 13.7598 9.55268 13.8536 9.64645C13.9473 9.74021 14 9.86739 14 10C14 10.1326 13.9473 10.2598 13.8536 10.3536C13.7598 10.4473 13.6326 10.5 13.5 10.5H10.5V13.5C10.5 13.6326 10.4473 13.7598 10.3536 13.8536C10.2598 13.9473 10.1326 14 10 14C9.86739 14 9.74021 13.9473 9.64645 13.8536C9.55268 13.7598 9.5 13.6326 9.5 13.5V10.5H6.5C6.36739 10.5 6.24021 10.4473 6.14645 10.3536C6.05268 10.2598 6 10.1326 6 10C6 9.86739 6.05268 9.74021 6.14645 9.64645C6.24021 9.55268 6.36739 9.5 6.5 9.5H9.5V6.5C9.5 6.36739 9.55268 6.24021 9.64645 6.14645C9.74021 6.05268 9.86739 6 10 6Z"),h(t,"fill","currentColor"),h(e,"height",n=i[0]+"px"),h(e,"width",r=i[0]+"px"),h(e,"viewBox","0 0 20 20"),h(e,"fill","none"),h(e,"xmlns","http://www.w3.org/2000/svg")},m(s,l){w(s,e,l),D(e,t)},p(s,[l]){l&1&&n!==(n=s[0]+"px")&&h(e,"height",n),l&1&&r!==(r=s[0]+"px")&&h(e,"width",r)},i:Z,o:Z,d(s){s&&y(e)}}}function vK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class bK extends pe{constructor(e){super(),me(this,e,vK,gK,he,{size:0})}}function kK(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Add"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M256 112v288M400 256H112"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function yK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class xk extends pe{constructor(e){super(),me(this,e,yK,kK,he,{size:0})}}function wK(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Alarm"),r=ye("path"),s=ye("path"),h(r,"d","M416.07 272a160 160 0 10-160 160 160 160 0 00160-160zM142.12 91.21A46.67 46.67 0 00112 80l-2.79.08C83.66 81.62 64 104 64.07 131c0 13.21 4.66 19.37 10.88 27.23a4.55 4.55 0 003.24 1.77h.88a3.23 3.23 0 002.54-1.31L142.38 99a5.38 5.38 0 001.55-4 5.26 5.26 0 00-1.81-3.79zM369.88 91.21A46.67 46.67 0 01400 80l2.79.08C428.34 81.62 448 104 447.93 131c0 13.21-4.66 19.37-10.88 27.23a4.55 4.55 0 01-3.24 1.76h-.88a3.23 3.23 0 01-2.54-1.31L369.62 99a5.38 5.38 0 01-1.55-4 5.26 5.26 0 011.81-3.79z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M256.07 160v112h-80M416.07 432l-40-40M96.07 432l40-40"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function $K(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class FK extends pe{constructor(e){super(),me(this,e,$K,wK,he,{size:0})}}function EK(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p;return{c(){e=ye("svg"),t=ye("title"),n=K("Apps"),r=ye("rect"),s=ye("rect"),l=ye("rect"),o=ye("rect"),a=ye("rect"),u=ye("rect"),c=ye("rect"),f=ye("rect"),d=ye("rect"),h(r,"x","64"),h(r,"y","64"),h(r,"width","80"),h(r,"height","80"),h(r,"rx","40"),h(r,"ry","40"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"x","216"),h(s,"y","64"),h(s,"width","80"),h(s,"height","80"),h(s,"rx","40"),h(s,"ry","40"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(l,"x","368"),h(l,"y","64"),h(l,"width","80"),h(l,"height","80"),h(l,"rx","40"),h(l,"ry","40"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-miterlimit","10"),h(l,"stroke-width","32"),h(o,"x","64"),h(o,"y","216"),h(o,"width","80"),h(o,"height","80"),h(o,"rx","40"),h(o,"ry","40"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-miterlimit","10"),h(o,"stroke-width","32"),h(a,"x","216"),h(a,"y","216"),h(a,"width","80"),h(a,"height","80"),h(a,"rx","40"),h(a,"ry","40"),h(a,"fill","none"),h(a,"stroke","currentColor"),h(a,"stroke-miterlimit","10"),h(a,"stroke-width","32"),h(u,"x","368"),h(u,"y","216"),h(u,"width","80"),h(u,"height","80"),h(u,"rx","40"),h(u,"ry","40"),h(u,"fill","none"),h(u,"stroke","currentColor"),h(u,"stroke-miterlimit","10"),h(u,"stroke-width","32"),h(c,"x","64"),h(c,"y","368"),h(c,"width","80"),h(c,"height","80"),h(c,"rx","40"),h(c,"ry","40"),h(c,"fill","none"),h(c,"stroke","currentColor"),h(c,"stroke-miterlimit","10"),h(c,"stroke-width","32"),h(f,"x","216"),h(f,"y","368"),h(f,"width","80"),h(f,"height","80"),h(f,"rx","40"),h(f,"ry","40"),h(f,"fill","none"),h(f,"stroke","currentColor"),h(f,"stroke-miterlimit","10"),h(f,"stroke-width","32"),h(d,"x","368"),h(d,"y","368"),h(d,"width","80"),h(d,"height","80"),h(d,"rx","40"),h(d,"ry","40"),h(d,"fill","none"),h(d,"stroke","currentColor"),h(d,"stroke-miterlimit","10"),h(d,"stroke-width","32"),h(e,"height",m=i[0]+"px"),h(e,"width",p=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(g,k){w(g,e,k),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l),D(e,o),D(e,a),D(e,u),D(e,c),D(e,f),D(e,d)},p(g,[k]){k&1&&m!==(m=g[0]+"px")&&h(e,"height",m),k&1&&p!==(p=g[0]+"px")&&h(e,"width",p)},i:Z,o:Z,d(g){g&&y(e)}}}function CK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class x1 extends pe{constructor(e){super(),me(this,e,CK,EK,he,{size:0})}}function DK(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Apps"),r=ye("path"),h(r,"d","M104 160a56 56 0 1156-56 56.06 56.06 0 01-56 56zM256 160a56 56 0 1156-56 56.06 56.06 0 01-56 56zM408 160a56 56 0 1156-56 56.06 56.06 0 01-56 56zM104 312a56 56 0 1156-56 56.06 56.06 0 01-56 56zM256 312a56 56 0 1156-56 56.06 56.06 0 01-56 56zM408 312a56 56 0 1156-56 56.06 56.06 0 01-56 56zM104 464a56 56 0 1156-56 56.06 56.06 0 01-56 56zM256 464a56 56 0 1156-56 56.06 56.06 0 01-56 56zM408 464a56 56 0 1156-56 56.06 56.06 0 01-56 56z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function SK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class VI extends pe{constructor(e){super(),me(this,e,SK,DK,he,{size:0})}}function TK(i){let e,t,n,r,s,l,o,a;return{c(){e=ye("svg"),t=ye("title"),n=K("Archive"),r=ye("path"),s=ye("rect"),l=ye("path"),h(r,"d","M80 152v256a40.12 40.12 0 0040 40h272a40.12 40.12 0 0040-40V152"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"x","48"),h(s,"y","64"),h(s,"width","416"),h(s,"height","80"),h(s,"rx","28"),h(s,"ry","28"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(l,"d","M320 304l-64 64-64-64M256 345.89V224"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:Z,o:Z,d(u){u&&y(e)}}}function AK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class PK extends pe{constructor(e){super(),me(this,e,AK,TK,he,{size:0})}}function NK(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Arrow Back"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","48"),h(r,"d","M244 400L100 256l144-144M120 256h292"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function MK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class xI extends pe{constructor(e){super(),me(this,e,MK,NK,he,{size:0})}}function LK(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Bar Chart"),r=ye("path"),s=ye("path"),h(r,"d","M480 496H48a32 32 0 01-32-32V32a16 16 0 0132 0v432h432a16 16 0 010 32z"),h(s,"d","M156 432h-40a36 36 0 01-36-36V244a36 36 0 0136-36h40a36 36 0 0136 36v152a36 36 0 01-36 36zM300 432h-40a36 36 0 01-36-36V196a36 36 0 0136-36h40a36 36 0 0136 36v200a36 36 0 01-36 36zM443.64 432h-40a36 36 0 01-36-36V132a36 36 0 0136-36h40a36 36 0 0136 36v264a36 36 0 01-36 36z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function OK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class IK extends pe{constructor(e){super(),me(this,e,OK,LK,he,{size:0})}}function BK(i){let e,t,n,r,s,l,o,a,u;return{c(){e=ye("svg"),t=ye("title"),n=K("Bar Chart"),r=ye("path"),s=ye("rect"),l=ye("rect"),o=ye("rect"),h(r,"d","M32 32v432a16 16 0 0016 16h432"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"x","96"),h(s,"y","224"),h(s,"width","80"),h(s,"height","192"),h(s,"rx","20"),h(s,"ry","20"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"x","240"),h(l,"y","176"),h(l,"width","80"),h(l,"height","240"),h(l,"rx","20"),h(l,"ry","20"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(o,"x","383.64"),h(o,"y","112"),h(o,"width","80"),h(o,"height","304"),h(o,"rx","20"),h(o,"ry","20"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-linecap","round"),h(o,"stroke-linejoin","round"),h(o,"stroke-width","32"),h(e,"height",a=i[0]+"px"),h(e,"width",u=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(c,f){w(c,e,f),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l),D(e,o)},p(c,[f]){f&1&&a!==(a=c[0]+"px")&&h(e,"height",a),f&1&&u!==(u=c[0]+"px")&&h(e,"width",u)},i:Z,o:Z,d(c){c&&y(e)}}}function RK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class GI extends pe{constructor(e){super(),me(this,e,RK,BK,he,{size:0})}}function zK(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Bar Chart"),r=ye("path"),s=ye("path"),h(r,"d","M480 496H48a32 32 0 01-32-32V32a16 16 0 0132 0v432h432a16 16 0 010 32z"),h(s,"d","M156 432h-40a36 36 0 01-36-36V244a36 36 0 0136-36h40a36 36 0 0136 36v152a36 36 0 01-36 36zM300 432h-40a36 36 0 01-36-36V196a36 36 0 0136-36h40a36 36 0 0136 36v200a36 36 0 01-36 36zM443.64 432h-40a36 36 0 01-36-36V132a36 36 0 0136-36h40a36 36 0 0136 36v264a36 36 0 01-36 36z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function jK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class ZI extends pe{constructor(e){super(),me(this,e,jK,zK,he,{size:0})}}function YK(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Book"),r=ye("path"),h(r,"d","M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0116 16v288a16 16 0 01-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0116-16c131.57.59 192 32.84 208 96zM256 160v288"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function UK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class WK extends pe{constructor(e){super(),me(this,e,UK,YK,he,{size:0})}}function qK(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$;return{c(){e=ye("svg"),t=ye("title"),n=K("Calendar"),r=ye("rect"),s=ye("circle"),l=ye("circle"),o=ye("circle"),a=ye("circle"),u=ye("circle"),c=ye("circle"),f=ye("circle"),d=ye("circle"),m=ye("circle"),p=ye("path"),g=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"x","48"),h(r,"y","80"),h(r,"width","416"),h(r,"height","384"),h(r,"rx","48"),h(s,"cx","296"),h(s,"cy","232"),h(s,"r","24"),h(l,"cx","376"),h(l,"cy","232"),h(l,"r","24"),h(o,"cx","296"),h(o,"cy","312"),h(o,"r","24"),h(a,"cx","376"),h(a,"cy","312"),h(a,"r","24"),h(u,"cx","136"),h(u,"cy","312"),h(u,"r","24"),h(c,"cx","216"),h(c,"cy","312"),h(c,"r","24"),h(f,"cx","136"),h(f,"cy","392"),h(f,"r","24"),h(d,"cx","216"),h(d,"cy","392"),h(d,"r","24"),h(m,"cx","296"),h(m,"cy","392"),h(m,"r","24"),h(p,"fill","none"),h(p,"stroke","currentColor"),h(p,"stroke-linejoin","round"),h(p,"stroke-width","32"),h(p,"stroke-linecap","round"),h(p,"d","M128 48v32M384 48v32"),h(g,"fill","none"),h(g,"stroke","currentColor"),h(g,"stroke-linejoin","round"),h(g,"stroke-width","32"),h(g,"d","M464 160H48"),h(e,"height",k=i[0]+"px"),h(e,"width",$=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(C,E){w(C,e,E),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l),D(e,o),D(e,a),D(e,u),D(e,c),D(e,f),D(e,d),D(e,m),D(e,p),D(e,g)},p(C,[E]){E&1&&k!==(k=C[0]+"px")&&h(e,"height",k),E&1&&$!==($=C[0]+"px")&&h(e,"width",$)},i:Z,o:Z,d(C){C&&y(e)}}}function HK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Gk extends pe{constructor(e){super(),me(this,e,HK,qK,he,{size:0})}}function VK(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Calendar"),r=ye("path"),h(r,"d","M480 128a64 64 0 00-64-64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00112 48v16H96a64 64 0 00-64 64v12a4 4 0 004 4h440a4 4 0 004-4zM32 416a64 64 0 0064 64h320a64 64 0 0064-64V179a3 3 0 00-3-3H35a3 3 0 00-3 3zm344-208a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24zm-80-80a24 24 0 11-24 24 24 24 0 0124-24zm0 80a24 24 0 11-24 24 24 24 0 0124-24z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function xK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class XI extends pe{constructor(e){super(),me(this,e,xK,VK,he,{size:0})}}function GK(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Chatbox"),r=ye("path"),h(r,"d","M408 64H104a56.16 56.16 0 00-56 56v192a56.16 56.16 0 0056 56h40v80l93.72-78.14a8 8 0 015.13-1.86H408a56.16 56.16 0 0056-56V120a56.16 56.16 0 00-56-56z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function ZK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class KI extends pe{constructor(e){super(),me(this,e,ZK,GK,he,{size:0})}}function XK(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Checkmark Circle"),r=ye("path"),h(r,"d","M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm108.25 138.29l-134.4 160a16 16 0 01-12 5.71h-.27a16 16 0 01-11.89-5.3l-57.6-64a16 16 0 1123.78-21.4l45.29 50.32 122.59-145.91a16 16 0 0124.5 20.58z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function KK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class G1 extends pe{constructor(e){super(),me(this,e,KK,XK,he,{size:0})}}function JK(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Checkmark"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M416 128L192 384l-96-96"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function QK(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class eJ extends pe{constructor(e){super(),me(this,e,QK,JK,he,{size:0})}}function tJ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Chevron Back"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","48"),h(r,"d","M328 112L184 256l144 144"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function nJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class iJ extends pe{constructor(e){super(),me(this,e,nJ,tJ,he,{size:0})}}function rJ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Chevron Back Circle"),r=ye("path"),s=ye("path"),h(r,"d","M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M296 352l-96-96 96-96"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function sJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class lJ extends pe{constructor(e){super(),me(this,e,sJ,rJ,he,{size:0})}}function oJ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Chevron Down"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","48"),h(r,"d","M112 184l144 144 144-144"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function aJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Zk extends pe{constructor(e){super(),me(this,e,aJ,oJ,he,{size:0})}}function uJ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Chevron Forward Circle"),r=ye("path"),s=ye("path"),h(r,"d","M64 256c0 106 86 192 192 192s192-86 192-192S362 64 256 64 64 150 64 256z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M216 352l96-96-96-96"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function cJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class fJ extends pe{constructor(e){super(),me(this,e,cJ,uJ,he,{size:0})}}function dJ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Chevron Forward"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","48"),h(r,"d","M184 112l144 144-144 144"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function hJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class JI extends pe{constructor(e){super(),me(this,e,hJ,dJ,he,{size:0})}}function mJ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Chevron Up"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","48"),h(r,"d","M112 328l144-144 144 144"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function pJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class _J extends pe{constructor(e){super(),me(this,e,pJ,mJ,he,{size:0})}}function gJ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Ellipse"),r=ye("circle"),h(r,"cx","256"),h(r,"cy","256"),h(r,"r","192"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function vJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class bJ extends pe{constructor(e){super(),me(this,e,vJ,gJ,he,{size:0})}}function kJ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Close"),r=ye("path"),h(r,"d","M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function yJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class ua extends pe{constructor(e){super(),me(this,e,yJ,kJ,he,{size:0})}}function wJ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Copy"),r=ye("rect"),s=ye("path"),h(r,"x","128"),h(r,"y","128"),h(r,"width","336"),h(r,"height","336"),h(r,"rx","57"),h(r,"ry","57"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function $J(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class FJ extends pe{constructor(e){super(),me(this,e,$J,wJ,he,{size:0})}}function EJ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Create"),r=ye("path"),s=ye("path"),h(r,"d","M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function CJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class ca extends pe{constructor(e){super(),me(this,e,CJ,EJ,he,{size:0})}}function DJ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Download"),r=ye("path"),s=ye("path"),h(r,"d","M336 176h40a40 40 0 0140 40v208a40 40 0 01-40 40H136a40 40 0 01-40-40V216a40 40 0 0140-40h40"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M176 272l80 80 80-80M256 48v288"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function SJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Ap extends pe{constructor(e){super(),me(this,e,SJ,DJ,he,{size:0})}}function TJ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Duplicate"),r=ye("rect"),s=ye("path"),h(r,"x","128"),h(r,"y","128"),h(r,"width","336"),h(r,"height","336"),h(r,"rx","57"),h(r,"ry","57"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M383.5 128l.5-24a56.16 56.16 0 00-56-56H112a64.19 64.19 0 00-64 64v216a56.16 56.16 0 0056 56h24M296 216v160M376 296H216"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function AJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class PJ extends pe{constructor(e){super(),me(this,e,AJ,TJ,he,{size:0})}}function NJ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Easel"),r=ye("rect"),s=ye("path"),h(r,"x","48"),h(r,"y","80"),h(r,"width","416"),h(r,"height","272"),h(r,"rx","32"),h(r,"ry","32"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M256 416v-64M256 80V48M400 464l-32-112M112 464l32-112"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function MJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Xk extends pe{constructor(e){super(),me(this,e,MJ,NJ,he,{size:0})}}function LJ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Easel"),r=ye("rect"),s=ye("path"),h(r,"x","80"),h(r,"y","112"),h(r,"width","352"),h(r,"height","208"),h(r,"rx","12"),h(r,"ry","12"),h(s,"d","M432 64H272V48a16 16 0 00-32 0v16H80a48.05 48.05 0 00-48 48v208a48.05 48.05 0 0048 48h42.79l-26.17 91.6a16 16 0 1030.76 8.8L156.07 368H240v48a16 16 0 0032 0v-48h83.93l28.69 100.4a16 16 0 1030.76-8.8L389.21 368H432a48.05 48.05 0 0048-48V112a48.05 48.05 0 00-48-48zm16 256a16 16 0 01-16 16H80a16 16 0 01-16-16V112a16 16 0 0116-16h352a16 16 0 0116 16z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function OJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class QI extends pe{constructor(e){super(),me(this,e,OJ,LJ,he,{size:0})}}function IJ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Expand"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M432 320v112H320M421.8 421.77L304 304M80 192V80h112M90.2 90.23L208 208M320 80h112v112M421.77 90.2L304 208M192 432H80V320M90.23 421.8L208 304"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function BJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Kk extends pe{constructor(e){super(),me(this,e,BJ,IJ,he,{size:0})}}function RJ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Eye"),r=ye("circle"),s=ye("path"),h(r,"cx","256"),h(r,"cy","256"),h(r,"r","64"),h(s,"d","M490.84 238.6c-26.46-40.92-60.79-75.68-99.27-100.53C349 110.55 302 96 255.66 96c-42.52 0-84.33 12.15-124.27 36.11-40.73 24.43-77.63 60.12-109.68 106.07a31.92 31.92 0 00-.64 35.54c26.41 41.33 60.4 76.14 98.28 100.65C162 402 207.9 416 255.66 416c46.71 0 93.81-14.43 136.2-41.72 38.46-24.77 72.72-59.66 99.08-100.92a32.2 32.2 0 00-.1-34.76zM256 352a96 96 0 1196-96 96.11 96.11 0 01-96 96z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function zJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class jJ extends pe{constructor(e){super(),me(this,e,zJ,RJ,he,{size:0})}}function YJ(i){let e,t,n,r,s,l,o,a,u;return{c(){e=ye("svg"),t=ye("title"),n=K("Git Compare"),r=ye("path"),s=ye("circle"),l=ye("circle"),o=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M304 160l-64-64 64-64M207 352l64 64-64 64"),h(s,"cx","112"),h(s,"cy","96"),h(s,"r","48"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"cx","400"),h(l,"cy","416"),h(l,"r","48"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(o,"d","M256 96h84a60 60 0 0160 60v212M255 416h-84a60 60 0 01-60-60V144"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-linecap","round"),h(o,"stroke-linejoin","round"),h(o,"stroke-width","32"),h(e,"height",a=i[0]+"px"),h(e,"width",u=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(c,f){w(c,e,f),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l),D(e,o)},p(c,[f]){f&1&&a!==(a=c[0]+"px")&&h(e,"height",a),f&1&&u!==(u=c[0]+"px")&&h(e,"width",u)},i:Z,o:Z,d(c){c&&y(e)}}}function UJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class WJ extends pe{constructor(e){super(),me(this,e,UJ,YJ,he,{size:0})}}function qJ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Map"),r=ye("path"),h(r,"d","M313.27 124.64L198.73 51.36a32 32 0 00-29.28.35L56.51 127.49A16 16 0 0048 141.63v295.8a16 16 0 0023.49 14.14l97.82-63.79a32 32 0 0129.5-.24l111.86 73a32 32 0 0029.27-.11l115.43-75.94a16 16 0 008.63-14.2V74.57a16 16 0 00-23.49-14.14l-98 63.86a32 32 0 01-29.24.35zM328 128v336M184 48v336"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function HJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class eB extends pe{constructor(e){super(),me(this,e,HJ,qJ,he,{size:0})}}function VJ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Menu"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(r,"d","M80 160h352M80 256h352M80 352h352"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function xJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class zd extends pe{constructor(e){super(),me(this,e,xJ,VJ,he,{size:0})}}function GJ(i){let e,t,n,r,s,l,o,a;return{c(){e=ye("svg"),t=ye("title"),n=K("Ellipsis Horizontal"),r=ye("circle"),s=ye("circle"),l=ye("circle"),h(r,"cx","256"),h(r,"cy","256"),h(r,"r","48"),h(s,"cx","416"),h(s,"cy","256"),h(s,"r","48"),h(l,"cx","96"),h(l,"cy","256"),h(l,"r","48"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:Z,o:Z,d(u){u&&y(e)}}}function ZJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class XJ extends pe{constructor(e){super(),me(this,e,ZJ,GJ,he,{size:0})}}function KJ(i){let e,t,n,r,s,l,o,a;return{c(){e=ye("svg"),t=ye("title"),n=K("Ellipsis Vertical"),r=ye("circle"),s=ye("circle"),l=ye("circle"),h(r,"cx","256"),h(r,"cy","256"),h(r,"r","48"),h(s,"cx","256"),h(s,"cy","416"),h(s,"r","48"),h(l,"cx","256"),h(l,"cy","96"),h(l,"r","48"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:Z,o:Z,d(u){u&&y(e)}}}function JJ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class QJ extends pe{constructor(e){super(),me(this,e,JJ,KJ,he,{size:0})}}function eQ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Navigate Circle"),r=ye("path"),h(r,"d","M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1 117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zM351 175.24l-82.24 186.52c-4.79 10.47-20.78 7-20.78-4.56V268a4 4 0 00-4-4H154.8c-11.52 0-15-15.87-4.57-20.67L336.76 161A10.73 10.73 0 01351 175.24z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function tQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class nQ extends pe{constructor(e){super(),me(this,e,tQ,eQ,he,{size:0})}}function iQ(i){let e,t,n,r,s,l,o,a,u;return{c(){e=ye("svg"),t=ye("title"),n=K("Options"),r=ye("path"),s=ye("circle"),l=ye("circle"),o=ye("circle"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M368 128h80M64 128h240M368 384h80M64 384h240M208 256h240M64 256h80"),h(s,"cx","336"),h(s,"cy","128"),h(s,"r","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"cx","176"),h(l,"cy","256"),h(l,"r","32"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(o,"cx","336"),h(o,"cy","384"),h(o,"r","32"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-linecap","round"),h(o,"stroke-linejoin","round"),h(o,"stroke-width","32"),h(e,"height",a=i[0]+"px"),h(e,"width",u=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(c,f){w(c,e,f),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l),D(e,o)},p(c,[f]){f&1&&a!==(a=c[0]+"px")&&h(e,"height",a),f&1&&u!==(u=c[0]+"px")&&h(e,"width",u)},i:Z,o:Z,d(c){c&&y(e)}}}function rQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class sQ extends pe{constructor(e){super(),me(this,e,rQ,iQ,he,{size:0})}}function lQ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Pencil"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M364.13 125.25L87 403l-23 45 44.99-23 277.76-277.13-22.62-22.62zM420.69 68.69l-22.62 22.62 22.62 22.63 22.62-22.63a16 16 0 000-22.62h0a16 16 0 00-22.62 0z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function oQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class tB extends pe{constructor(e){super(),me(this,e,oQ,lQ,he,{size:0})}}function aQ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("People"),r=ye("path"),h(r,"d","M336 256c-20.56 0-40.44-9.18-56-25.84-15.13-16.25-24.37-37.92-26-61-1.74-24.62 5.77-47.26 21.14-63.76S312 80 336 80c23.83 0 45.38 9.06 60.7 25.52 15.47 16.62 23 39.22 21.26 63.63-1.67 23.11-10.9 44.77-26 61C376.44 246.82 356.57 256 336 256zm66-88zM467.83 432H204.18a27.71 27.71 0 01-22-10.67 30.22 30.22 0 01-5.26-25.79c8.42-33.81 29.28-61.85 60.32-81.08C264.79 297.4 299.86 288 336 288c36.85 0 71 9 98.71 26.05 31.11 19.13 52 47.33 60.38 81.55a30.27 30.27 0 01-5.32 25.78A27.68 27.68 0 01467.83 432zM147 260c-35.19 0-66.13-32.72-69-72.93-1.42-20.6 5-39.65 18-53.62 12.86-13.83 31-21.45 51-21.45s38 7.66 50.93 21.57c13.1 14.08 19.5 33.09 18 53.52-2.87 40.2-33.8 72.91-68.93 72.91zM212.66 291.45c-17.59-8.6-40.42-12.9-65.65-12.9-29.46 0-58.07 7.68-80.57 21.62-25.51 15.83-42.67 38.88-49.6 66.71a27.39 27.39 0 004.79 23.36A25.32 25.32 0 0041.72 400h111a8 8 0 007.87-6.57c.11-.63.25-1.26.41-1.88 8.48-34.06 28.35-62.84 57.71-83.82a8 8 0 00-.63-13.39c-1.57-.92-3.37-1.89-5.42-2.89z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function uQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class cQ extends pe{constructor(e){super(),me(this,e,uQ,aQ,he,{size:0})}}function fQ(i){let e,t,n,r,s,l,o,a,u;return{c(){e=ye("svg"),t=ye("title"),n=K("People"),r=ye("path"),s=ye("path"),l=ye("path"),o=ye("path"),h(r,"d","M402 168c-2.93 40.67-33.1 72-66 72s-63.12-31.32-66-72c-3-42.31 26.37-72 66-72s69 30.46 66 72z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M336 304c-65.17 0-127.84 32.37-143.54 95.41-2.08 8.34 3.15 16.59 11.72 16.59h263.65c8.57 0 13.77-8.25 11.72-16.59C463.85 335.36 401.18 304 336 304z"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(l,"d","M200 185.94c-2.34 32.48-26.72 58.06-53 58.06s-50.7-25.57-53-58.06C91.61 152.15 115.34 128 147 128s55.39 24.77 53 57.94z"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(o,"d","M206 306c-18.05-8.27-37.93-11.45-59-11.45-52 0-102.1 25.85-114.65 76.2-1.65 6.66 2.53 13.25 9.37 13.25H154"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-linecap","round"),h(o,"stroke-miterlimit","10"),h(o,"stroke-width","32"),h(e,"height",a=i[0]+"px"),h(e,"width",u=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(c,f){w(c,e,f),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l),D(e,o)},p(c,[f]){f&1&&a!==(a=c[0]+"px")&&h(e,"height",a),f&1&&u!==(u=c[0]+"px")&&h(e,"width",u)},i:Z,o:Z,d(c){c&&y(e)}}}function dQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class hQ extends pe{constructor(e){super(),me(this,e,dQ,fQ,he,{size:0})}}function mQ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Pulse"),r=ye("path"),s=ye("circle"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M48 320h64l64-256 64 384 64-224 32 96h64"),h(s,"cx","432"),h(s,"cy","320"),h(s,"r","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function pQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class nB extends pe{constructor(e){super(),me(this,e,pQ,mQ,he,{size:0})}}function _Q(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Remove Circle"),r=ye("path"),s=ye("path"),h(r,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M336 256H176"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function gQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class vQ extends pe{constructor(e){super(),me(this,e,gQ,_Q,he,{size:0})}}function bQ(i){let e,t,n,r,s,l,o,a,u;return{c(){e=ye("svg"),t=ye("title"),n=K("Ribbon"),r=ye("circle"),s=ye("path"),l=ye("path"),o=ye("circle"),h(r,"cx","256"),h(r,"cy","160"),h(r,"r","128"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M143.65 227.82L48 400l86.86-.42a16 16 0 0113.82 7.8L192 480l88.33-194.32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"d","M366.54 224L464 400l-86.86-.42a16 16 0 00-13.82 7.8L320 480l-64-140.8"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(o,"cx","256"),h(o,"cy","160"),h(o,"r","64"),h(o,"fill","none"),h(o,"stroke","currentColor"),h(o,"stroke-linecap","round"),h(o,"stroke-linejoin","round"),h(o,"stroke-width","32"),h(e,"height",a=i[0]+"px"),h(e,"width",u=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(c,f){w(c,e,f),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l),D(e,o)},p(c,[f]){f&1&&a!==(a=c[0]+"px")&&h(e,"height",a),f&1&&u!==(u=c[0]+"px")&&h(e,"width",u)},i:Z,o:Z,d(c){c&&y(e)}}}function kQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class iB extends pe{constructor(e){super(),me(this,e,kQ,bQ,he,{size:0})}}function yQ(i){let e,t,n,r,s,l,o,a;return{c(){e=ye("svg"),t=ye("title"),n=K("Ribbon"),r=ye("path"),s=ye("ellipse"),l=ye("path"),h(r,"d","M269 335.61q-6.33.47-12.78.47c-5.23 0-10.4-.24-15.51-.69a176.11 176.11 0 01-127.67-72.94 4 4 0 00-6.77.35l-72 129.4c-2.74 5-3.17 11-.28 15.88A16.78 16.78 0 0048.22 416h78a15.28 15.28 0 0113.62 7.33L178.5 488a16.26 16.26 0 0013.75 8c5.94-.33 12.09-4.19 14.56-9.6l66.11-145.15a4 4 0 00-3.92-5.64zM477.64 391.88l-71.53-129.17a4 4 0 00-6.74-.36 176.5 176.5 0 01-78.31 61.42 16.09 16.09 0 00-8.72 8.25l-36.86 81.1a7.92 7.92 0 000 6.6l30.27 66.59c2.45 5.41 8.59 9.36 14.52 9.69a16.3 16.3 0 0013.7-8.12l38.53-64.58c2.89-4.85 8.13-7.33 13.78-7.3h78.77c6.67 0 11.72-3.48 14-10a16.92 16.92 0 00-1.41-14.12z"),h(s,"cx","256.26"),h(s,"cy","160"),h(s,"rx","48.01"),h(s,"ry","48"),h(l,"d","M256.26 16c-79.42 0-144 64.59-144 144s64.61 144 144 144 144-64.6 144-144-64.59-144-144-144zm0 224a80 80 0 1180-80 80.1 80.1 0 01-80 80z"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:Z,o:Z,d(u){u&&y(e)}}}function wQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class rB extends pe{constructor(e){super(),me(this,e,wQ,yQ,he,{size:0})}}function $Q(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Search"),r=ye("path"),h(r,"d","M456.69 421.39L362.6 327.3a173.81 173.81 0 0034.84-104.58C397.44 126.38 319.06 48 222.72 48S48 126.38 48 222.72s78.38 174.72 174.72 174.72A173.81 173.81 0 00327.3 362.6l94.09 94.09a25 25 0 0035.3-35.3zM97.92 222.72a124.8 124.8 0 11124.8 124.8 124.95 124.95 0 01-124.8-124.8z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function FQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Z1 extends pe{constructor(e){super(),me(this,e,FQ,$Q,he,{size:0})}}function EQ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Settings"),r=ye("path"),h(r,"d","M262.29 192.31a64 64 0 1057.4 57.4 64.13 64.13 0 00-57.4-57.4zM416.39 256a154.34 154.34 0 01-1.53 20.79l45.21 35.46a10.81 10.81 0 012.45 13.75l-42.77 74a10.81 10.81 0 01-13.14 4.59l-44.9-18.08a16.11 16.11 0 00-15.17 1.75A164.48 164.48 0 01325 400.8a15.94 15.94 0 00-8.82 12.14l-6.73 47.89a11.08 11.08 0 01-10.68 9.17h-85.54a11.11 11.11 0 01-10.69-8.87l-6.72-47.82a16.07 16.07 0 00-9-12.22 155.3 155.3 0 01-21.46-12.57 16 16 0 00-15.11-1.71l-44.89 18.07a10.81 10.81 0 01-13.14-4.58l-42.77-74a10.8 10.8 0 012.45-13.75l38.21-30a16.05 16.05 0 006-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 00-6.07-13.94l-38.19-30A10.81 10.81 0 0149.48 186l42.77-74a10.81 10.81 0 0113.14-4.59l44.9 18.08a16.11 16.11 0 0015.17-1.75A164.48 164.48 0 01187 111.2a15.94 15.94 0 008.82-12.14l6.73-47.89A11.08 11.08 0 01213.23 42h85.54a11.11 11.11 0 0110.69 8.87l6.72 47.82a16.07 16.07 0 009 12.22 155.3 155.3 0 0121.46 12.57 16 16 0 0015.11 1.71l44.89-18.07a10.81 10.81 0 0113.14 4.58l42.77 74a10.8 10.8 0 01-2.45 13.75l-38.21 30a16.05 16.05 0 00-6.05 14.08c.33 4.14.55 8.3.55 12.47z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function CQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class sB extends pe{constructor(e){super(),me(this,e,CQ,EQ,he,{size:0})}}function DQ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Share"),r=ye("path"),h(r,"d","M336 192h40a40 40 0 0140 40v192a40 40 0 01-40 40H136a40 40 0 01-40-40V232a40 40 0 0140-40h40M336 128l-80-80-80 80M256 321V48"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function SQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class lB extends pe{constructor(e){super(),me(this,e,SQ,DQ,he,{size:0})}}function TQ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Sparkles"),r=ye("path"),h(r,"d","M259.92 262.91L216.4 149.77a9 9 0 00-16.8 0l-43.52 113.14a9 9 0 01-5.17 5.17L37.77 311.6a9 9 0 000 16.8l113.14 43.52a9 9 0 015.17 5.17l43.52 113.14a9 9 0 0016.8 0l43.52-113.14a9 9 0 015.17-5.17l113.14-43.52a9 9 0 000-16.8l-113.14-43.52a9 9 0 01-5.17-5.17zM108 68L88 16 68 68 16 88l52 20 20 52 20-52 52-20-52-20zM426.67 117.33L400 48l-26.67 69.33L304 144l69.33 26.67L400 240l26.67-69.33L496 144l-69.33-26.67z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function AQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class PQ extends pe{constructor(e){super(),me(this,e,AQ,TQ,he,{size:0})}}function NQ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Star"),r=ye("path"),h(r,"d","M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function MQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class LQ extends pe{constructor(e){super(),me(this,e,MQ,NQ,he,{size:0})}}function OQ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Star"),r=ye("path"),h(r,"d","M394 480a16 16 0 01-9.39-3L256 383.76 127.39 477a16 16 0 01-24.55-18.08L153 310.35 23 221.2a16 16 0 019-29.2h160.38l48.4-148.95a16 16 0 0130.44 0l48.4 149H480a16 16 0 019.05 29.2L359 310.35l50.13 148.53A16 16 0 01394 480z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function IQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class oB extends pe{constructor(e){super(),me(this,e,IQ,OQ,he,{size:0})}}function BQ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Stop"),r=ye("path"),h(r,"d","M392 432H120a40 40 0 01-40-40V120a40 40 0 0140-40h272a40 40 0 0140 40v272a40 40 0 01-40 40z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function RQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class zQ extends pe{constructor(e){super(),me(this,e,RQ,BQ,he,{size:0})}}function jQ(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Swap Horizontal"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M304 48l112 112-112 112M398.87 160H96M208 464L96 352l112-112M114 352h302"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function YQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class UQ extends pe{constructor(e){super(),me(this,e,YQ,jQ,he,{size:0})}}function WQ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Albums"),r=ye("rect"),s=ye("path"),h(r,"x","64"),h(r,"y","176"),h(r,"width","384"),h(r,"height","256"),h(r,"rx","28.87"),h(r,"ry","28.87"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(s,"d","M144 80h224M112 128h288"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function qQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class HQ extends pe{constructor(e){super(),me(this,e,qQ,WQ,he,{size:0})}}function VQ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Text"),r=ye("path"),s=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M32 415.5l120-320 120 320M230 303.5H74M326 239.5c12.19-28.69 41-48 74-48h0c46 0 80 32 80 80v144"),h(s,"d","M320 358.5c0 36 26.86 58 60 58 54 0 100-27 100-106v-15c-20 0-58 1-92 5-32.77 3.86-68 19-68 58z"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function xQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class GQ extends pe{constructor(e){super(),me(this,e,xQ,VQ,he,{size:0})}}function ZQ(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Thermometer"),r=ye("path"),s=ye("circle"),h(r,"d","M307.72 302.27a8 8 0 01-3.72-6.75V80a48 48 0 00-48-48h0a48 48 0 00-48 48v215.52a8 8 0 01-3.71 6.74 97.51 97.51 0 00-44.19 86.07A96 96 0 00352 384a97.49 97.49 0 00-44.28-81.73zM256 112v272"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"cx","256"),h(s,"cy","384"),h(s,"r","48"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function XQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class KQ extends pe{constructor(e){super(),me(this,e,XQ,ZQ,he,{size:0})}}function JQ(i){let e,t,n,r,s,l,o,a;return{c(){e=ye("svg"),t=ye("title"),n=K("Trash"),r=ye("path"),s=ye("path"),l=ye("path"),h(r,"d","M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(s,"d","M80 112h352"),h(l,"d","M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:Z,o:Z,d(u){u&&y(e)}}}function QQ(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Pp extends pe{constructor(e){super(),me(this,e,QQ,JQ,he,{size:0})}}const eee=xI,tee=bK,Qa=ua,Go=G1,aB=ca,nee=GQ,iee=WJ,uB=PQ,ree=IK,see=KQ,lee=cQ,oee=HQ,cB=hQ,aee=LQ,fB=KI,dB=eB,hB=WK,yf=Gk,uee=Kk,Jk=QJ,Qk=xk,cee=xk,Np=Tp,mB=zd,fee=lB,dee=GI,p3=ZI,hee=sQ,pB=x1,mee=Ap,pee=VI,_ee=Xk,gee=QI,vee=XI,ah=Z1,bee=sB,kee=zQ,yee=jJ,wee=FK,$ee=nQ,Fee=rB,_B=iB,gB=lJ,Eee=oB,vB=fJ,rc=JI,X1=iJ,Vg=Zk,_3=_J,bB=tB,kB=nB,Cee=UQ,Dee=PJ,wf=Pp,v2=bJ,See=PK;var Tee=typeof fi=="object"&&fi&&fi.Object===Object&&fi,yB=Tee,Aee=yB,Pee=typeof self=="object"&&self&&self.Object===Object&&self,Nee=Aee||Pee||Function("return this")(),$f=Nee,Mee=$f,Lee=Mee.Symbol,ey=Lee;function Oee(i,e){for(var t=-1,n=i==null?0:i.length,r=Array(n);++t<n;)r[t]=e(i[t],t,i);return r}var wB=Oee,Iee=Array.isArray,ty=Iee,g3=ey,$B=Object.prototype,Bee=$B.hasOwnProperty,Ree=$B.toString,cm=g3?g3.toStringTag:void 0;function zee(i){var e=Bee.call(i,cm),t=i[cm];try{i[cm]=void 0;var n=!0}catch{}var r=Ree.call(i);return n&&(e?i[cm]=t:delete i[cm]),r}var jee=zee,Yee=Object.prototype,Uee=Yee.toString;function Wee(i){return Uee.call(i)}var qee=Wee,v3=ey,Hee=jee,Vee=qee,xee="[object Null]",Gee="[object Undefined]",b3=v3?v3.toStringTag:void 0;function Zee(i){return i==null?i===void 0?Gee:xee:b3&&b3 in Object(i)?Hee(i):Vee(i)}var Mp=Zee;function Xee(i){return i!=null&&typeof i=="object"}var Lp=Xee,Kee=Mp,Jee=Lp,Qee="[object Symbol]";function ete(i){return typeof i=="symbol"||Jee(i)&&Kee(i)==Qee}var ny=ete,k3=ey,tte=wB,nte=ty,ite=ny,rte=1/0,y3=k3?k3.prototype:void 0,w3=y3?y3.toString:void 0;function FB(i){if(typeof i=="string")return i;if(nte(i))return tte(i,FB)+"";if(ite(i))return w3?w3.call(i):"";var e=i+"";return e=="0"&&1/i==-rte?"-0":e}var ste=FB,lte=ste;function ote(i){return i==null?"":lte(i)}var uh=ote;function ate(i,e,t){var n=-1,r=i.length;e<0&&(e=-e>r?0:r+e),t=t>r?r:t,t<0&&(t+=r),r=e>t?0:t-e>>>0,e>>>=0;for(var s=Array(r);++n<r;)s[n]=i[n+e];return s}var iy=ate,ute=iy;function cte(i,e,t){var n=i.length;return t=t===void 0?n:t,!e&&t>=n?i:ute(i,e,t)}var fte=cte,dte="\\ud800-\\udfff",hte="\\u0300-\\u036f",mte="\\ufe20-\\ufe2f",pte="\\u20d0-\\u20ff",_te=hte+mte+pte,gte="\\ufe0e\\ufe0f",vte="\\u200d",bte=RegExp("["+vte+dte+_te+gte+"]");function kte(i){return bte.test(i)}var EB=kte;function yte(i){return i.split("")}var wte=yte,CB="\\ud800-\\udfff",$te="\\u0300-\\u036f",Fte="\\ufe20-\\ufe2f",Ete="\\u20d0-\\u20ff",Cte=$te+Fte+Ete,Dte="\\ufe0e\\ufe0f",Ste="["+CB+"]",b2="["+Cte+"]",k2="\\ud83c[\\udffb-\\udfff]",Tte="(?:"+b2+"|"+k2+")",DB="[^"+CB+"]",SB="(?:\\ud83c[\\udde6-\\uddff]){2}",TB="[\\ud800-\\udbff][\\udc00-\\udfff]",Ate="\\u200d",AB=Tte+"?",PB="["+Dte+"]?",Pte="(?:"+Ate+"(?:"+[DB,SB,TB].join("|")+")"+PB+AB+")*",Nte=PB+AB+Pte,Mte="(?:"+[DB+b2+"?",b2,SB,TB,Ste].join("|")+")",Lte=RegExp(k2+"(?="+k2+")|"+Mte+Nte,"g");function Ote(i){return i.match(Lte)||[]}var Ite=Ote,Bte=wte,Rte=EB,zte=Ite;function jte(i){return Rte(i)?zte(i):Bte(i)}var Yte=jte,Ute=fte,Wte=EB,qte=Yte,Hte=uh;function Vte(i){return function(e){e=Hte(e);var t=Wte(e)?qte(e):void 0,n=t?t[0]:e.charAt(0),r=t?Ute(t,1).join(""):e.slice(1);return n[i]()+r}}var xte=Vte,Gte=xte,Zte=Gte("toUpperCase"),Xte=Zte,Kte=uh,Jte=Xte;function Qte(i){return Jte(Kte(i).toLowerCase())}var Uu=Qte;const us={primary_color:"#07B2F5",green_color:"#48bb78",red_color:"#f56565",storage_engine:"local",book_time_format:"YYYY-w",book_time_unit:"week",data_root:"data",book_root:"data/books",always_locate_key:"always-locate",dark_mode_key:"dark-mode",theme_key:"theme",support_email:"support@happydata.org",support_contact:"Email Support",messages_url:"https://s3.amazonaws.com/cdn.nomie.app/messages/messages.json",s3providersLink:"https://spectacular-collard-13a.notion.site/S3-Storage-Providers-fa4888f87e964ffaabbe113c1ede8f83",apiDocumentation:"https://spectacular-collard-13a.notion.site/Nomie-API-4c29294776524e84bdafed6251abb20c",positivity:[{emoji:"\u{1F534}",label:"Awful",score:-2},{emoji:"\u{1F7E0}",label:"Not Good",score:-1},{emoji:"\u24C4",label:"Neutral",score:0},{emoji:"\u{1F7E2}",label:"Good",score:1},{emoji:"\u{1F49A}",label:"Great",score:2}]};class ry{constructor(e){je(this,"dbPath");je(this,"data");this.dbPath=`${us.data_root}/localDB/${e}`;try{this.data=JSON.parse(localStorage.getItem(this.dbPath)||"{}")}catch{console.error("SideStorage could not parse the JSON data")}}get(e){return this.data.hasOwnProperty(e)?this.data[e]:null}put(e,t){this.data[e]=t,localStorage.setItem(this.dbPath,JSON.stringify(this.data))}}const Jm=rn([]),$3=i=>{Jm.update(e=>e.filter(t=>t!==i))},qn=i=>{Jm.update(e=>(e.push(i),e)),setTimeout(()=>{Jm.update(e=>e.filter(t=>t!==i))},i.timeout||2e3)},sy=new ry("preferences"),NB=sy.get("state")||{use24hour:!1,useMetric:!1,usePin:void 0,storageType:void 0,betaFeatures:!1,peopleBoard:!1,contextBoard:!1,allBoard:!1,nowBoard:!1,startPage:"track",theme:"auto",fontSize:"md",language:"en-us",weekStarts:"sunday",compactTrackers:!1,lastBackup:void 0,backupDays:7,hideBackupMessage:!1,hideMessages:!1,allowFileEdit:!1,alwaysLocate:!0},Ht=rn(NB);let ly=NB;Ht.subscribe(i=>{ly=i,sy.put("state",i)});const Op=()=>sy.get("state"),ene=async()=>{Ht.update(i=>(i.betaFeatures=!0,i)),qn({message:"Beta Features Enabled",type:"success"})},Bm=i=>{const e=window.matchMedia("(prefers-color-scheme: dark)").matches;let t=i;i==="auto"&&(t=e?"dark":"light"),document.documentElement.className="",document.documentElement.classList.add(`mode-${t}`),document.documentElement.classList.add(`${t}`)},pi=()=>{let i={time:"h:mm A",hour:"h A",hourCompact:"ha",date:"MMM Do YYYY",dateDay:"ddd MMM Do YYYY",shortDate:"M/D/YYYY",tinyDate:"MMM D",mmm_d_yyyy:"MMM D, YYYY",tinyNumber:"M/D",monthYear:"MMM YYYY"};return ly.use24hour&&(i={time:"HH:mm",hour:"HH00",date:"Do MMM YYYY",dateDay:"ddd Do MMM YYYY",hourCompact:"HH",shortDate:"D MM YYYY",tinyDate:"D MMM",mmm_d_yyyy:"D MMM, YYYY",tinyNumber:"D/M",monthYear:"MMM YYYY"}),i},F3=()=>ly.storageType,oy=i=>{Ht.update(e=>(e.storageType=i,e))},tne=i=>({}),E3=i=>({}),nne=i=>({}),C3=i=>({});function ine(i){let e,t,n,r,s,l,o,a;const u=i[5].header,c=nt(u,i,i[4],C3),f=i[5].default,d=nt(f,i,i[4],null),m=i[5].footer,p=nt(m,i,i[4],E3);return{c(){e=P("div"),t=P("header"),c&&c.c(),n=W(),r=P("main"),d&&d.c(),s=W(),l=P("footer"),p&&p.c(),h(t,"class",i[2]),h(r,"class",i[1]),h(e,"class",o="bd-modal "+i[0]),h(e,"style",i[3])},m(g,k){w(g,e,k),D(e,t),c&&c.m(t,null),D(e,n),D(e,r),d&&d.m(r,null),D(e,s),D(e,l),p&&p.m(l,null),a=!0},p(g,[k]){c&&c.p&&(!a||k&16)&&rt(c,u,g,g[4],a?it(u,g[4],k,nne):st(g[4]),C3),(!a||k&4)&&h(t,"class",g[2]),d&&d.p&&(!a||k&16)&&rt(d,f,g,g[4],a?it(f,g[4],k,null):st(g[4]),null),(!a||k&2)&&h(r,"class",g[1]),p&&p.p&&(!a||k&16)&&rt(p,m,g,g[4],a?it(m,g[4],k,tne):st(g[4]),E3),(!a||k&1&&o!==(o="bd-modal "+g[0]))&&h(e,"class",o),(!a||k&8)&&h(e,"style",g[3])},i(g){a||(_(c,g),_(d,g),_(p,g),a=!0)},o(g){v(c,g),v(d,g),v(p,g),a=!1},d(g){g&&y(e),c&&c.d(g),d&&d.d(g),p&&p.d(g)}}}function rne(i,e,t){let{$$slots:n={},$$scope:r}=e,{className:s=""}=e,{mainClass:l=""}=e,{headerClass:o=""}=e,{style:a=""}=e;return i.$$set=u=>{"className"in u&&t(0,s=u.className),"mainClass"in u&&t(1,l=u.mainClass),"headerClass"in u&&t(2,o=u.headerClass),"style"in u&&t(3,a=u.style),"$$scope"in u&&t(4,r=u.$$scope)},[s,l,o,a,r,n]}class ti extends pe{constructor(e){super(),me(this,e,rne,ine,he,{className:0,mainClass:1,headerClass:2,style:3})}}const jd=rn([]),MB=ds(jd,i=>{let e=i[i.length-1];if(e)return e.id}),On=i=>{jd.update(e=>{const t=e.findIndex(r=>r.id===i.id),n=e[t];return t>-1?(e=e.filter((r,s)=>s!==t),e.push(n)):e.push(i),e})},tn=i=>{const e=typeof i=="string"?i:i.id;jd.update(t=>{const n=t.findIndex(s=>s.id===e),r=n>-1?t[n]:void 0;return r&&r.onClose&&r.onClose(),t.filter(s=>s!==r)})};var LB={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(window,function(){return function(t){var n={};function r(s){if(n[s])return n[s].exports;var l=n[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=t,r.c=n,r.d=function(s,l,o){r.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:o})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,l){if(1&l&&(s=r(s)),8&l||4&l&&typeof s=="object"&&s&&s.__esModule)return s;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:s}),2&l&&typeof s!="string")for(var a in s)r.d(o,a,function(u){return s[u]}.bind(null,a));return o},r.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(l,"a",l),l},r.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},r.p="",r(r.s=1)}([function(t,n,r){var s;/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(l,o,a,u){var c,f=["","webkit","Moz","MS","ms","o"],d=o.createElement("div"),m=Math.round,p=Math.abs,g=Date.now;function k(_e,Pe,Ve){return setTimeout(R(_e,Ve),Pe)}function $(_e,Pe,Ve){return!!Array.isArray(_e)&&(C(_e,Ve[Pe],Ve),!0)}function C(_e,Pe,Ve){var ht;if(_e)if(_e.forEach)_e.forEach(Pe,Ve);else if(_e.length!==void 0)for(ht=0;ht<_e.length;)Pe.call(Ve,_e[ht],ht,_e),ht++;else for(ht in _e)_e.hasOwnProperty(ht)&&Pe.call(Ve,_e[ht],ht,_e)}function E(_e,Pe,Ve){var ht="DEPRECATED METHOD: "+Pe+`
`+Ve+` AT 
`;return function(){var At=new Error("get-stack-trace"),Qt=At&&At.stack?At.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Rt=l.console&&(l.console.warn||l.console.log);return Rt&&Rt.call(l.console,ht,Qt),_e.apply(this,arguments)}}c=typeof Object.assign!="function"?function(_e){if(_e==null)throw new TypeError("Cannot convert undefined or null to object");for(var Pe=Object(_e),Ve=1;Ve<arguments.length;Ve++){var ht=arguments[Ve];if(ht!=null)for(var At in ht)ht.hasOwnProperty(At)&&(Pe[At]=ht[At])}return Pe}:Object.assign;var S=E(function(_e,Pe,Ve){for(var ht=Object.keys(Pe),At=0;At<ht.length;)(!Ve||Ve&&_e[ht[At]]===void 0)&&(_e[ht[At]]=Pe[ht[At]]),At++;return _e},"extend","Use `assign`."),T=E(function(_e,Pe){return S(_e,Pe,!0)},"merge","Use `assign`.");function M(_e,Pe,Ve){var ht,At=Pe.prototype;(ht=_e.prototype=Object.create(At)).constructor=_e,ht._super=At,Ve&&c(ht,Ve)}function R(_e,Pe){return function(){return _e.apply(Pe,arguments)}}function Y(_e,Pe){return typeof _e=="function"?_e.apply(Pe&&Pe[0]||void 0,Pe):_e}function z(_e,Pe){return _e===void 0?Pe:_e}function j(_e,Pe,Ve){C(J(Pe),function(ht){_e.addEventListener(ht,Ve,!1)})}function V(_e,Pe,Ve){C(J(Pe),function(ht){_e.removeEventListener(ht,Ve,!1)})}function x(_e,Pe){for(;_e;){if(_e==Pe)return!0;_e=_e.parentNode}return!1}function ee(_e,Pe){return _e.indexOf(Pe)>-1}function J(_e){return _e.trim().split(/\s+/g)}function q(_e,Pe,Ve){if(_e.indexOf&&!Ve)return _e.indexOf(Pe);for(var ht=0;ht<_e.length;){if(Ve&&_e[ht][Ve]==Pe||!Ve&&_e[ht]===Pe)return ht;ht++}return-1}function le(_e){return Array.prototype.slice.call(_e,0)}function G(_e,Pe,Ve){for(var ht=[],At=[],Qt=0;Qt<_e.length;){var Rt=Pe?_e[Qt][Pe]:_e[Qt];q(At,Rt)<0&&ht.push(_e[Qt]),At[Qt]=Rt,Qt++}return Ve&&(ht=Pe?ht.sort(function(Ki,Cn){return Ki[Pe]>Cn[Pe]}):ht.sort()),ht}function X(_e,Pe){for(var Ve,ht,At=Pe[0].toUpperCase()+Pe.slice(1),Qt=0;Qt<f.length;){if((ht=(Ve=f[Qt])?Ve+At:Pe)in _e)return ht;Qt++}}var se=1;function te(_e){var Pe=_e.ownerDocument||_e;return Pe.defaultView||Pe.parentWindow||l}var ie="ontouchstart"in l,re=X(l,"PointerEvent")!==void 0,be=ie&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),we=["x","y"],De=["clientX","clientY"];function Be(_e,Pe){var Ve=this;this.manager=_e,this.callback=Pe,this.element=_e.element,this.target=_e.options.inputTarget,this.domHandler=function(ht){Y(_e.options.enable,[_e])&&Ve.handler(ht)},this.init()}function ze(_e,Pe,Ve){var ht=Ve.pointers.length,At=Ve.changedPointers.length,Qt=1&Pe&&ht-At==0,Rt=12&Pe&&ht-At==0;Ve.isFirst=!!Qt,Ve.isFinal=!!Rt,Qt&&(_e.session={}),Ve.eventType=Pe,function(Ki,Cn){var nr=Ki.session,Zl=Cn.pointers,$o=Zl.length;nr.firstInput||(nr.firstInput=ke(Cn)),$o>1&&!nr.firstMultiple?nr.firstMultiple=ke(Cn):$o===1&&(nr.firstMultiple=!1);var ma=nr.firstInput,Rr=nr.firstMultiple,pa=Rr?Rr.center:ma.center,fu=Cn.center=Ue(Zl);Cn.timeStamp=g(),Cn.deltaTime=Cn.timeStamp-ma.timeStamp,Cn.angle=bt(pa,fu),Cn.distance=$t(pa,fu),function($r,Di){var hr=Di.center,Rs=$r.offsetDelta||{},zr=$r.prevDelta||{},fl=$r.prevInput||{};Di.eventType!==1&&fl.eventType!==4||(zr=$r.prevDelta={x:fl.deltaX||0,y:fl.deltaY||0},Rs=$r.offsetDelta={x:hr.x,y:hr.y}),Di.deltaX=zr.x+(hr.x-Rs.x),Di.deltaY=zr.y+(hr.y-Rs.y)}(nr,Cn),Cn.offsetDirection=vt(Cn.deltaX,Cn.deltaY);var Sl=Ce(Cn.deltaTime,Cn.deltaX,Cn.deltaY);Cn.overallVelocityX=Sl.x,Cn.overallVelocityY=Sl.y,Cn.overallVelocity=p(Sl.x)>p(Sl.y)?Sl.x:Sl.y,Cn.scale=Rr?(_a=Rr.pointers,ga=Zl,$t(ga[0],ga[1],De)/$t(_a[0],_a[1],De)):1,Cn.rotation=Rr?function($r,Di){return bt(Di[1],Di[0],De)+bt($r[1],$r[0],De)}(Rr.pointers,Zl):0,Cn.maxPointers=nr.prevInput?Cn.pointers.length>nr.prevInput.maxPointers?Cn.pointers.length:nr.prevInput.maxPointers:Cn.pointers.length,function($r,Di){var hr,Rs,zr,fl,jr=$r.lastInterval||Di,dl=Di.timeStamp-jr.timeStamp;if(Di.eventType!=8&&(dl>25||jr.velocity===void 0)){var hl=Di.deltaX-jr.deltaX,va=Di.deltaY-jr.deltaY,_s=Ce(dl,hl,va);Rs=_s.x,zr=_s.y,hr=p(_s.x)>p(_s.y)?_s.x:_s.y,fl=vt(hl,va),$r.lastInterval=Di}else hr=jr.velocity,Rs=jr.velocityX,zr=jr.velocityY,fl=jr.direction;Di.velocity=hr,Di.velocityX=Rs,Di.velocityY=zr,Di.direction=fl}(nr,Cn);var _a,ga,Fo=Ki.element;x(Cn.srcEvent.target,Fo)&&(Fo=Cn.srcEvent.target),Cn.target=Fo}(_e,Ve),_e.emit("hammer.input",Ve),_e.recognize(Ve),_e.session.prevInput=Ve}function ke(_e){for(var Pe=[],Ve=0;Ve<_e.pointers.length;)Pe[Ve]={clientX:m(_e.pointers[Ve].clientX),clientY:m(_e.pointers[Ve].clientY)},Ve++;return{timeStamp:g(),pointers:Pe,center:Ue(Pe),deltaX:_e.deltaX,deltaY:_e.deltaY}}function Ue(_e){var Pe=_e.length;if(Pe===1)return{x:m(_e[0].clientX),y:m(_e[0].clientY)};for(var Ve=0,ht=0,At=0;At<Pe;)Ve+=_e[At].clientX,ht+=_e[At].clientY,At++;return{x:m(Ve/Pe),y:m(ht/Pe)}}function Ce(_e,Pe,Ve){return{x:Pe/_e||0,y:Ve/_e||0}}function vt(_e,Pe){return _e===Pe?1:p(_e)>=p(Pe)?_e<0?2:4:Pe<0?8:16}function $t(_e,Pe,Ve){Ve||(Ve=we);var ht=Pe[Ve[0]]-_e[Ve[0]],At=Pe[Ve[1]]-_e[Ve[1]];return Math.sqrt(ht*ht+At*At)}function bt(_e,Pe,Ve){Ve||(Ve=we);var ht=Pe[Ve[0]]-_e[Ve[0]],At=Pe[Ve[1]]-_e[Ve[1]];return 180*Math.atan2(At,ht)/Math.PI}Be.prototype={handler:function(){},init:function(){this.evEl&&j(this.element,this.evEl,this.domHandler),this.evTarget&&j(this.target,this.evTarget,this.domHandler),this.evWin&&j(te(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&V(this.element,this.evEl,this.domHandler),this.evTarget&&V(this.target,this.evTarget,this.domHandler),this.evWin&&V(te(this.element),this.evWin,this.domHandler)}};var Tt={mousedown:1,mousemove:2,mouseup:4};function It(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,Be.apply(this,arguments)}M(It,Be,{handler:function(_e){var Pe=Tt[_e.type];1&Pe&&_e.button===0&&(this.pressed=!0),2&Pe&&_e.which!==1&&(Pe=4),this.pressed&&(4&Pe&&(this.pressed=!1),this.callback(this.manager,Pe,{pointers:[_e],changedPointers:[_e],pointerType:"mouse",srcEvent:_e}))}});var Je={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},sn="pointerdown",Tn="pointermove pointerup pointercancel";function Vn(){this.evEl=sn,this.evWin=Tn,Be.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}l.MSPointerEvent&&!l.PointerEvent&&(sn="MSPointerDown",Tn="MSPointerMove MSPointerUp MSPointerCancel"),M(Vn,Be,{handler:function(_e){var Pe=this.store,Ve=!1,ht=_e.type.toLowerCase().replace("ms",""),At=Je[ht],Qt=Pt[_e.pointerType]||_e.pointerType,Rt=Qt=="touch",Ki=q(Pe,_e.pointerId,"pointerId");1&At&&(_e.button===0||Rt)?Ki<0&&(Pe.push(_e),Ki=Pe.length-1):12&At&&(Ve=!0),Ki<0||(Pe[Ki]=_e,this.callback(this.manager,At,{pointers:Pe,changedPointers:[_e],pointerType:Qt,srcEvent:_e}),Ve&&Pe.splice(Ki,1))}});var An={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function xn(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,Be.apply(this,arguments)}function In(_e,Pe){var Ve=le(_e.touches),ht=le(_e.changedTouches);return 12&Pe&&(Ve=G(Ve.concat(ht),"identifier",!0)),[Ve,ht]}M(xn,Be,{handler:function(_e){var Pe=An[_e.type];if(Pe===1&&(this.started=!0),this.started){var Ve=In.call(this,_e,Pe);12&Pe&&Ve[0].length-Ve[1].length==0&&(this.started=!1),this.callback(this.manager,Pe,{pointers:Ve[0],changedPointers:Ve[1],pointerType:"touch",srcEvent:_e})}}});var Hi={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function mt(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},Be.apply(this,arguments)}function dr(_e,Pe){var Ve=le(_e.touches),ht=this.targetIds;if(3&Pe&&Ve.length===1)return ht[Ve[0].identifier]=!0,[Ve,Ve];var At,Qt,Rt=le(_e.changedTouches),Ki=[],Cn=this.target;if(Qt=Ve.filter(function(nr){return x(nr.target,Cn)}),Pe===1)for(At=0;At<Qt.length;)ht[Qt[At].identifier]=!0,At++;for(At=0;At<Rt.length;)ht[Rt[At].identifier]&&Ki.push(Rt[At]),12&Pe&&delete ht[Rt[At].identifier],At++;return Ki.length?[G(Qt.concat(Ki),"identifier",!0),Ki]:void 0}M(mt,Be,{handler:function(_e){var Pe=Hi[_e.type],Ve=dr.call(this,_e,Pe);Ve&&this.callback(this.manager,Pe,{pointers:Ve[0],changedPointers:Ve[1],pointerType:"touch",srcEvent:_e})}});function yi(){Be.apply(this,arguments);var _e=R(this.handler,this);this.touch=new mt(this.manager,_e),this.mouse=new It(this.manager,_e),this.primaryTouch=null,this.lastTouches=[]}function Ke(_e,Pe){1&_e?(this.primaryTouch=Pe.changedPointers[0].identifier,Pr.call(this,Pe)):12&_e&&Pr.call(this,Pe)}function Pr(_e){var Pe=_e.changedPointers[0];if(Pe.identifier===this.primaryTouch){var Ve={x:Pe.clientX,y:Pe.clientY};this.lastTouches.push(Ve);var ht=this.lastTouches;setTimeout(function(){var At=ht.indexOf(Ve);At>-1&&ht.splice(At,1)},2500)}}function Nr(_e){for(var Pe=_e.srcEvent.clientX,Ve=_e.srcEvent.clientY,ht=0;ht<this.lastTouches.length;ht++){var At=this.lastTouches[ht],Qt=Math.abs(Pe-At.x),Rt=Math.abs(Ve-At.y);if(Qt<=25&&Rt<=25)return!0}return!1}M(yi,Be,{handler:function(_e,Pe,Ve){var ht=Ve.pointerType=="touch",At=Ve.pointerType=="mouse";if(!(At&&Ve.sourceCapabilities&&Ve.sourceCapabilities.firesTouchEvents)){if(ht)Ke.call(this,Pe,Ve);else if(At&&Nr.call(this,Ve))return;this.callback(_e,Pe,Ve)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var yr=X(d.style,"touchAction"),ul=yr!==void 0,ot=function(){if(!ul)return!1;var _e={},Pe=l.CSS&&l.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Ve){_e[Ve]=!Pe||l.CSS.supports("touch-action",Ve)}),_e}();function Xt(_e,Pe){this.manager=_e,this.set(Pe)}Xt.prototype={set:function(_e){_e=="compute"&&(_e=this.compute()),ul&&this.manager.element.style&&ot[_e]&&(this.manager.element.style[yr]=_e),this.actions=_e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var _e=[];return C(this.manager.recognizers,function(Pe){Y(Pe.options.enable,[Pe])&&(_e=_e.concat(Pe.getTouchAction()))}),function(Pe){if(ee(Pe,"none"))return"none";var Ve=ee(Pe,"pan-x"),ht=ee(Pe,"pan-y");return Ve&&ht?"none":Ve||ht?Ve?"pan-x":"pan-y":ee(Pe,"manipulation")?"manipulation":"auto"}(_e.join(" "))},preventDefaults:function(_e){var Pe=_e.srcEvent,Ve=_e.offsetDirection;if(this.manager.session.prevented)Pe.preventDefault();else{var ht=this.actions,At=ee(ht,"none")&&!ot.none,Qt=ee(ht,"pan-y")&&!ot["pan-y"],Rt=ee(ht,"pan-x")&&!ot["pan-x"];if(At){var Ki=_e.pointers.length===1,Cn=_e.distance<2,nr=_e.deltaTime<250;if(Ki&&Cn&&nr)return}if(!Rt||!Qt)return At||Qt&&6&Ve||Rt&&24&Ve?this.preventSrc(Pe):void 0}},preventSrc:function(_e){this.manager.session.prevented=!0,_e.preventDefault()}};function yn(_e){this.options=c({},this.defaults,_e||{}),this.id=se++,this.manager=null,this.options.enable=z(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function jn(_e){return 16&_e?"cancel":8&_e?"end":4&_e?"move":2&_e?"start":""}function ji(_e){return _e==16?"down":_e==8?"up":_e==2?"left":_e==4?"right":""}function Bs(_e,Pe){var Ve=Pe.manager;return Ve?Ve.get(_e):_e}function Mr(){yn.apply(this,arguments)}function wr(){Mr.apply(this,arguments),this.pX=null,this.pY=null}function xl(){Mr.apply(this,arguments)}function Gl(){yn.apply(this,arguments),this._timer=null,this._input=null}function ko(){Mr.apply(this,arguments)}function ha(){Mr.apply(this,arguments)}function yo(){yn.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function cl(_e,Pe){return(Pe=Pe||{}).recognizers=z(Pe.recognizers,cl.defaults.preset),new wo(_e,Pe)}yn.prototype={defaults:{},set:function(_e){return c(this.options,_e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(_e){if($(_e,"recognizeWith",this))return this;var Pe=this.simultaneous;return Pe[(_e=Bs(_e,this)).id]||(Pe[_e.id]=_e,_e.recognizeWith(this)),this},dropRecognizeWith:function(_e){return $(_e,"dropRecognizeWith",this)?this:(_e=Bs(_e,this),delete this.simultaneous[_e.id],this)},requireFailure:function(_e){if($(_e,"requireFailure",this))return this;var Pe=this.requireFail;return q(Pe,_e=Bs(_e,this))===-1&&(Pe.push(_e),_e.requireFailure(this)),this},dropRequireFailure:function(_e){if($(_e,"dropRequireFailure",this))return this;_e=Bs(_e,this);var Pe=q(this.requireFail,_e);return Pe>-1&&this.requireFail.splice(Pe,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(_e){return!!this.simultaneous[_e.id]},emit:function(_e){var Pe=this,Ve=this.state;function ht(At){Pe.manager.emit(At,_e)}Ve<8&&ht(Pe.options.event+jn(Ve)),ht(Pe.options.event),_e.additionalEvent&&ht(_e.additionalEvent),Ve>=8&&ht(Pe.options.event+jn(Ve))},tryEmit:function(_e){if(this.canEmit())return this.emit(_e);this.state=32},canEmit:function(){for(var _e=0;_e<this.requireFail.length;){if(!(33&this.requireFail[_e].state))return!1;_e++}return!0},recognize:function(_e){var Pe=c({},_e);if(!Y(this.options.enable,[this,Pe]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(Pe),30&this.state&&this.tryEmit(Pe)},process:function(_e){},getTouchAction:function(){},reset:function(){}},M(Mr,yn,{defaults:{pointers:1},attrTest:function(_e){var Pe=this.options.pointers;return Pe===0||_e.pointers.length===Pe},process:function(_e){var Pe=this.state,Ve=_e.eventType,ht=6&Pe,At=this.attrTest(_e);return ht&&(8&Ve||!At)?16|Pe:ht||At?4&Ve?8|Pe:2&Pe?4|Pe:2:32}}),M(wr,Mr,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var _e=this.options.direction,Pe=[];return 6&_e&&Pe.push("pan-y"),24&_e&&Pe.push("pan-x"),Pe},directionTest:function(_e){var Pe=this.options,Ve=!0,ht=_e.distance,At=_e.direction,Qt=_e.deltaX,Rt=_e.deltaY;return At&Pe.direction||(6&Pe.direction?(At=Qt===0?1:Qt<0?2:4,Ve=Qt!=this.pX,ht=Math.abs(_e.deltaX)):(At=Rt===0?1:Rt<0?8:16,Ve=Rt!=this.pY,ht=Math.abs(_e.deltaY))),_e.direction=At,Ve&&ht>Pe.threshold&&At&Pe.direction},attrTest:function(_e){return Mr.prototype.attrTest.call(this,_e)&&(2&this.state||!(2&this.state)&&this.directionTest(_e))},emit:function(_e){this.pX=_e.deltaX,this.pY=_e.deltaY;var Pe=ji(_e.direction);Pe&&(_e.additionalEvent=this.options.event+Pe),this._super.emit.call(this,_e)}}),M(xl,Mr,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(_e){return this._super.attrTest.call(this,_e)&&(Math.abs(_e.scale-1)>this.options.threshold||2&this.state)},emit:function(_e){if(_e.scale!==1){var Pe=_e.scale<1?"in":"out";_e.additionalEvent=this.options.event+Pe}this._super.emit.call(this,_e)}}),M(Gl,yn,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(_e){var Pe=this.options,Ve=_e.pointers.length===Pe.pointers,ht=_e.distance<Pe.threshold,At=_e.deltaTime>Pe.time;if(this._input=_e,!ht||!Ve||12&_e.eventType&&!At)this.reset();else if(1&_e.eventType)this.reset(),this._timer=k(function(){this.state=8,this.tryEmit()},Pe.time,this);else if(4&_e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(_e){this.state===8&&(_e&&4&_e.eventType?this.manager.emit(this.options.event+"up",_e):(this._input.timeStamp=g(),this.manager.emit(this.options.event,this._input)))}}),M(ko,Mr,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(_e){return this._super.attrTest.call(this,_e)&&(Math.abs(_e.rotation)>this.options.threshold||2&this.state)}}),M(ha,Mr,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return wr.prototype.getTouchAction.call(this)},attrTest:function(_e){var Pe,Ve=this.options.direction;return 30&Ve?Pe=_e.overallVelocity:6&Ve?Pe=_e.overallVelocityX:24&Ve&&(Pe=_e.overallVelocityY),this._super.attrTest.call(this,_e)&&Ve&_e.offsetDirection&&_e.distance>this.options.threshold&&_e.maxPointers==this.options.pointers&&p(Pe)>this.options.velocity&&4&_e.eventType},emit:function(_e){var Pe=ji(_e.offsetDirection);Pe&&this.manager.emit(this.options.event+Pe,_e),this.manager.emit(this.options.event,_e)}}),M(yo,yn,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(_e){var Pe=this.options,Ve=_e.pointers.length===Pe.pointers,ht=_e.distance<Pe.threshold,At=_e.deltaTime<Pe.time;if(this.reset(),1&_e.eventType&&this.count===0)return this.failTimeout();if(ht&&At&&Ve){if(_e.eventType!=4)return this.failTimeout();var Qt=!this.pTime||_e.timeStamp-this.pTime<Pe.interval,Rt=!this.pCenter||$t(this.pCenter,_e.center)<Pe.posThreshold;if(this.pTime=_e.timeStamp,this.pCenter=_e.center,Rt&&Qt?this.count+=1:this.count=1,this._input=_e,this.count%Pe.taps===0)return this.hasRequireFailures()?(this._timer=k(function(){this.state=8,this.tryEmit()},Pe.interval,this),2):8}return 32},failTimeout:function(){return this._timer=k(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==8&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),cl.VERSION="2.0.7",cl.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[ko,{enable:!1}],[xl,{enable:!1},["rotate"]],[ha,{direction:6}],[wr,{direction:6},["swipe"]],[yo],[yo,{event:"doubletap",taps:2},["tap"]],[Gl]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function wo(_e,Pe){var Ve;this.options=c({},cl.defaults,Pe||{}),this.options.inputTarget=this.options.inputTarget||_e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=_e,this.input=new((Ve=this).options.inputClass||(re?Vn:be?mt:ie?yi:It))(Ve,ze),this.touchAction=new Xt(this,this.options.touchAction),cu(this,!0),C(this.options.recognizers,function(ht){var At=this.add(new ht[0](ht[1]));ht[2]&&At.recognizeWith(ht[2]),ht[3]&&At.requireFailure(ht[3])},this)}function cu(_e,Pe){var Ve,ht=_e.element;ht.style&&(C(_e.options.cssProps,function(At,Qt){Ve=X(ht.style,Qt),Pe?(_e.oldCssProps[Ve]=ht.style[Ve],ht.style[Ve]=At):ht.style[Ve]=_e.oldCssProps[Ve]||""}),Pe||(_e.oldCssProps={}))}wo.prototype={set:function(_e){return c(this.options,_e),_e.touchAction&&this.touchAction.update(),_e.inputTarget&&(this.input.destroy(),this.input.target=_e.inputTarget,this.input.init()),this},stop:function(_e){this.session.stopped=_e?2:1},recognize:function(_e){var Pe=this.session;if(!Pe.stopped){var Ve;this.touchAction.preventDefaults(_e);var ht=this.recognizers,At=Pe.curRecognizer;(!At||At&&8&At.state)&&(At=Pe.curRecognizer=null);for(var Qt=0;Qt<ht.length;)Ve=ht[Qt],Pe.stopped===2||At&&Ve!=At&&!Ve.canRecognizeWith(At)?Ve.reset():Ve.recognize(_e),!At&&14&Ve.state&&(At=Pe.curRecognizer=Ve),Qt++}},get:function(_e){if(_e instanceof yn)return _e;for(var Pe=this.recognizers,Ve=0;Ve<Pe.length;Ve++)if(Pe[Ve].options.event==_e)return Pe[Ve];return null},add:function(_e){if($(_e,"add",this))return this;var Pe=this.get(_e.options.event);return Pe&&this.remove(Pe),this.recognizers.push(_e),_e.manager=this,this.touchAction.update(),_e},remove:function(_e){if($(_e,"remove",this))return this;if(_e=this.get(_e)){var Pe=this.recognizers,Ve=q(Pe,_e);Ve!==-1&&(Pe.splice(Ve,1),this.touchAction.update())}return this},on:function(_e,Pe){if(_e!==void 0&&Pe!==void 0){var Ve=this.handlers;return C(J(_e),function(ht){Ve[ht]=Ve[ht]||[],Ve[ht].push(Pe)}),this}},off:function(_e,Pe){if(_e!==void 0){var Ve=this.handlers;return C(J(_e),function(ht){Pe?Ve[ht]&&Ve[ht].splice(q(Ve[ht],Pe),1):delete Ve[ht]}),this}},emit:function(_e,Pe){this.options.domEvents&&function(At,Qt){var Rt=o.createEvent("Event");Rt.initEvent(At,!0,!0),Rt.gesture=Qt,Qt.target.dispatchEvent(Rt)}(_e,Pe);var Ve=this.handlers[_e]&&this.handlers[_e].slice();if(Ve&&Ve.length){Pe.type=_e,Pe.preventDefault=function(){Pe.srcEvent.preventDefault()};for(var ht=0;ht<Ve.length;)Ve[ht](Pe),ht++}},destroy:function(){this.element&&cu(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},c(cl,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:wo,Input:Be,TouchAction:Xt,TouchInput:mt,MouseInput:It,PointerEventInput:Vn,TouchMouseInput:yi,SingleTouchInput:xn,Recognizer:yn,AttrRecognizer:Mr,Tap:yo,Pan:wr,Swipe:ha,Pinch:xl,Rotate:ko,Press:Gl,on:j,off:V,each:C,merge:T,extend:S,assign:c,inherit:M,bindFn:R,prefixed:X}),(l!==void 0?l:typeof self<"u"?self:{}).Hammer=cl,(s=function(){return cl}.call(n,r,n,t))===void 0||(t.exports=s)})(window,document)},function(t,n,r){r.r(n);var s=r(0),l=r.n(s),o=["swipe","swipeleft","swiperight","swipeup","swipedown"],a=function(E,S){var T=new l.a(E);T.get("swipe").set(S);for(var M=function(z){T.on(z,function(j){return E.dispatchEvent(new CustomEvent(z,{detail:j}))})},R=0,Y=o;R<Y.length;R++)M(Y[R]);return{update:function(z){T.get("swipe").set(z)},destroy:function(){for(var z=0,j=o;z<j.length;z++){var V=j[z];T.off(V)}}}},u=["pan","panstart","panmove","panend","pancancel","panleft","panright","panup","pandown"],c=function(E,S){var T=new l.a(E);T.get("pan").set(S);for(var M=function(z){T.on(z,function(j){return E.dispatchEvent(new CustomEvent(z,{detail:j}))})},R=0,Y=u;R<Y.length;R++)M(Y[R]);return{update:function(z){T.get("pan").set(z)},destroy:function(){for(var z=0,j=u;z<j.length;z++){var V=j[z];T.off(V)}}}},f=["pinch","pinchstart","pinchmove","pinchend","pinchcancel","pinchin","pinchout"],d=function(E,S){var T=new l.a(E);T.get("pinch").set(S);for(var M=function(z){T.on(z,function(j){return E.dispatchEvent(new CustomEvent(z,{detail:j}))})},R=0,Y=f;R<Y.length;R++)M(Y[R]);return{update:function(z){T.get("pinch").set(z)},destroy:function(){for(var z=0,j=f;z<j.length;z++){var V=j[z];T.off(V)}}}},m=["press","pressup"],p=function(E,S){var T=new l.a(E);T.get("press").set(S);for(var M=function(z){T.on(z,function(j){return E.dispatchEvent(new CustomEvent(z,{detail:j}))})},R=0,Y=m;R<Y.length;R++)M(Y[R]);return{update:function(z){T.get("press").set(z)},destroy:function(){for(var z=0,j=m;z<j.length;z++){var V=j[z];T.off(V)}}}},g=["rotate","rotatestart","rotatemove","rotateend","rotatecancel"],k=function(E,S){var T=new l.a(E);T.get("rotate").set(S);for(var M=function(z){T.on(z,function(j){return E.dispatchEvent(new CustomEvent(z,{detail:j}))})},R=0,Y=g;R<Y.length;R++)M(Y[R]);return{update:function(z){T.get("rotate").set(z)},destroy:function(){for(var z=0,j=g;z<j.length;z++){var V=j[z];T.off(V)}}}},$=["tap"],C=function(E,S){var T=new l.a(E);T.get("tap").set(S);for(var M=function(z){T.on(z,function(j){return E.dispatchEvent(new CustomEvent(z,{detail:j}))})},R=0,Y=$;R<Y.length;R++)M(Y[R]);return{update:function(z){T.get("tap").set(z)},destroy:function(){for(var z=0,j=$;z<j.length;z++){var V=j[z];T.off(V)}}}};r.d(n,"Hammer",function(){return l.a}),r.d(n,"swipe",function(){return a}),r.d(n,"pan",function(){return c}),r.d(n,"pinch",function(){return d}),r.d(n,"press",function(){return p}),r.d(n,"rotate",function(){return k}),r.d(n,"tap",function(){return C}),n.default={Hammer:l.a,swipe:a,pan:c,pinch:d,press:p,rotate:k,tap:C}}])})})(LB);const sne=i=>({}),D3=i=>({}),lne=i=>({}),S3=i=>({});function T3(i){let e,t,n;return{c(){e=P("div"),h(e,"class","flex items-center justify-center")},m(r,s){w(r,e,s),t||(n=Se(e,"click",ic(il(i[27]))),t=!0)},p:Z,d(r){r&&y(e),t=!1,n()}}}function one(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p=i[21]&&T3(i);const g=i[26].left,k=nt(g,i,i[25],S3),$=i[26].default,C=nt($,i,i[25],null),E=i[26].right,S=nt(E,i,i[25],D3);return{c(){e=P("button"),t=P("div"),n=W(),p&&p.c(),r=W(),k&&k.c(),s=W(),l=P("div"),C&&C.c(),a=W(),S&&S.c(),h(t,"class","hit-mark"),h(l,"class",o="button-main "+i[6]),h(e,"role",i[17]),h(e,"id",i[0]),h(e,"style",i[8]),e.autofocus=i[18],e.disabled=i[9],h(e,"type","button"),h(e,"class",u=`${i[5]} nbtn ${i[7]?"nbtn-block":""} ${i[11]?"nbtn-icon":""} nbtn-${i[2]} nbtn-${i[3]} nbtn-${i[4]} nbtn-${i[1]} ${i[15]?"nbtn-inline":""} ${i[16]?"nbtn-text":""} `),h(e,"title",i[12]),h(e,"aria-label",c=i[13]||i[12]),ct(e,"confirming",i[21]),ct(e,"text-primary",i[19]),ct(e,"clear",i[20])},m(T,M){w(T,e,M),D(e,t),D(e,n),p&&p.m(e,null),D(e,r),k&&k.m(e,null),D(e,s),D(e,l),C&&C.m(l,null),D(e,a),S&&S.m(e,null),f=!0,i[18]&&e.focus(),d||(m=[Wt(LB.exports.press.call(null,e)),Se(e,"press",i[28]),Se(e,"click",ic(il(i[29])),{passive:!1})],d=!0)},p(T,[M]){T[21]?p?p.p(T,M):(p=T3(T),p.c(),p.m(e,r)):p&&(p.d(1),p=null),k&&k.p&&(!f||M&33554432)&&rt(k,g,T,T[25],f?it(g,T[25],M,lne):st(T[25]),S3),C&&C.p&&(!f||M&33554432)&&rt(C,$,T,T[25],f?it($,T[25],M,null):st(T[25]),null),(!f||M&64&&o!==(o="button-main "+T[6]))&&h(l,"class",o),S&&S.p&&(!f||M&33554432)&&rt(S,E,T,T[25],f?it(E,T[25],M,sne):st(T[25]),D3),(!f||M&131072)&&h(e,"role",T[17]),(!f||M&1)&&h(e,"id",T[0]),(!f||M&256)&&h(e,"style",T[8]),(!f||M&262144)&&(e.autofocus=T[18]),(!f||M&512)&&(e.disabled=T[9]),(!f||M&100542&&u!==(u=`${T[5]} nbtn ${T[7]?"nbtn-block":""} ${T[11]?"nbtn-icon":""} nbtn-${T[2]} nbtn-${T[3]} nbtn-${T[4]} nbtn-${T[1]} ${T[15]?"nbtn-inline":""} ${T[16]?"nbtn-text":""} `))&&h(e,"class",u),(!f||M&4096)&&h(e,"title",T[12]),(!f||M&12288&&c!==(c=T[13]||T[12]))&&h(e,"aria-label",c),(!f||M&2197694)&&ct(e,"confirming",T[21]),(!f||M&624830)&&ct(e,"text-primary",T[19]),(!f||M&1149118)&&ct(e,"clear",T[20])},i(T){f||(_(k,T),_(C,T),_(S,T),f=!0)},o(T){v(k,T),v(C,T),v(S,T),f=!1},d(T){T&&y(e),p&&p.d(),k&&k.d(T),C&&C.d(T),S&&S.d(T),d=!1,Ot(m)}}}function ane(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Ut();let{id:l=void 0}=e,{size:o="md"}=e,{type:a=""}=e,{shape:u="rounded"}=e,{color:c=""}=e,{className:f=""}=e,{mainClass:d=""}=e,{block:m=!1}=e,{style:p=""}=e,{disabled:g=!1}=e,{delay:k=300}=e,{icon:$=!1}=e,{title:C=void 0}=e,{ariaLabel:E=void 0}=e,{prevent:S=!1}=e,{inline:T=!1}=e,{text:M=!1}=e,{confirm:R=!1}=e,{role:Y=""}=e,{autofocus:z=!1}=e,{primary:j=!1}=e,{clear:V=!1}=e,x=!1,ee;const J=async X=>{R?(clearTimeout(ee),x?(s("click",X),t(21,x=!1)):(t(21,x=!0),ee=setTimeout(()=>{t(21,x=!1)},3e3))):s("click",X)},q=()=>{t(21,x=!1)},le=X=>{X.preventDefault(),X.stopPropagation(),s("longpress",X)},G=X=>{S&&(X.stopPropagation(),X.preventDefault()),k?setTimeout(()=>{J(X)},k):J(X)};return i.$$set=X=>{"id"in X&&t(0,l=X.id),"size"in X&&t(1,o=X.size),"type"in X&&t(2,a=X.type),"shape"in X&&t(3,u=X.shape),"color"in X&&t(4,c=X.color),"className"in X&&t(5,f=X.className),"mainClass"in X&&t(6,d=X.mainClass),"block"in X&&t(7,m=X.block),"style"in X&&t(8,p=X.style),"disabled"in X&&t(9,g=X.disabled),"delay"in X&&t(10,k=X.delay),"icon"in X&&t(11,$=X.icon),"title"in X&&t(12,C=X.title),"ariaLabel"in X&&t(13,E=X.ariaLabel),"prevent"in X&&t(14,S=X.prevent),"inline"in X&&t(15,T=X.inline),"text"in X&&t(16,M=X.text),"confirm"in X&&t(24,R=X.confirm),"role"in X&&t(17,Y=X.role),"autofocus"in X&&t(18,z=X.autofocus),"primary"in X&&t(19,j=X.primary),"clear"in X&&t(20,V=X.clear),"$$scope"in X&&t(25,r=X.$$scope)},i.$$.update=()=>{i.$$.dirty&69665&&t(0,l=l||`auto-${ia(`${C}${f}${M}`)}`)},[l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M,Y,z,j,V,x,s,J,R,r,n,q,le,G]}class He extends pe{constructor(e){super(),me(this,e,ane,one,he,{id:0,size:1,type:2,shape:3,color:4,className:5,mainClass:6,block:7,style:8,disabled:9,delay:10,icon:11,title:12,ariaLabel:13,prevent:14,inline:15,text:16,confirm:24,role:17,autofocus:18,primary:19,clear:20})}}function A3(i){let e,t,n,r;var s=i[0];function l(o){return{props:{size:o[3]}}}return s&&(t=Un(s,l(i))),{c(){e=P("span"),t&&B(t.$$.fragment),h(e,"class",n="ion-icon "+i[1]+" text-current fill-current"),h(e,"style",i[2])},m(o,a){w(o,e,a),t&&O(t,e,null),r=!0},p(o,a){const u={};if(a&8&&(u.size=o[3]),s!==(s=o[0])){if(t){ae();const c=t;v(c.$$.fragment,1,0,()=>{I(c,1)}),ue()}s?(t=Un(s,l(o)),B(t.$$.fragment),_(t.$$.fragment,1),O(t,e,null)):t=null}else s&&t.$set(u);(!r||a&2&&n!==(n="ion-icon "+o[1]+" text-current fill-current"))&&h(e,"class",n),(!r||a&4)&&h(e,"style",o[2])},i(o){r||(t&&_(t.$$.fragment,o),r=!0)},o(o){t&&v(t.$$.fragment,o),r=!1},d(o){o&&y(e),t&&I(t)}}}function une(i){let e,t,n=i[0]&&A3(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=A3(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function cne(i,e,t){let{icon:n=void 0}=e,{className:r=""}=e,{style:s=""}=e,{size:l=24}=e;return i.$$set=o=>{"icon"in o&&t(0,n=o.icon),"className"in o&&t(1,r=o.className),"style"in o&&t(2,s=o.style),"size"in o&&t(3,l=o.size)},[n,r,s,l]}class et extends pe{constructor(e){super(),me(this,e,cne,une,he,{icon:0,className:1,style:2,size:3})}}const P3=["hour","month","value"],N3=["lt","lte","eq","gt","gte"];function hb(i,e){let t=!1;typeof i.v=="string"&&(i.v=parseFloat(i.v));let n=i.v;return i.is=="gt"?t=e>n:i.is=="lt"?t=e<n:i.is=="lte"?t=e<=n:i.is=="gte"?t=e>=n:i.is=="eq"&&(t=e==n),t}function fne(i,e,t){let n={true:!1,next:!0,score:0};switch(i.if){case"hour":let r=new Date(t).getHours();n.true=hb(i,r);break;case"month":let s=parseInt(Te(t).format("DD"));n.true=hb(i,s);break;case"value":typeof e=="string"&&(e=parseFloat(e)),n.true=hb(i,e);break}return n.next=!n.true,n.score=i.sc,n}function Qm(i,e,t){let n=0;if(e.score&&!e.score_calc)n=parseInt(`${e.score}`);else if(e.score_calc){let s=e.score_calc.map(l=>fne(l,i,t)).filter(l=>l.true);n=s.length?parseFloat(`${s[0].score}`):n}return n}const dne=i=>{const e=i.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g);return e?e.join("_").toLowerCase():""};var OB={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(fi,function(){return function(t,n,r){t=t||{};var s=n.prototype,l={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(u,c,f,d){return s.fromToBase(u,c,f,d)}r.en.relativeTime=l,s.fromToBase=function(u,c,f,d,m){for(var p,g,k,$=f.$locale().relativeTime||l,C=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],E=C.length,S=0;S<E;S+=1){var T=C[S];T.d&&(p=d?r(u).diff(f,T.d,!0):f.diff(u,T.d,!0));var M=(t.rounding||Math.round)(Math.abs(p));if(k=p>0,M<=T.r||!T.r){M<=1&&S>0&&(T=C[S-1]);var R=$[T.l];m&&(M=m(""+M)),g=typeof R=="string"?R.replace("%d",M):R(M,c,T.l,k);break}}if(c)return g;var Y=k?$.future:$.past;return typeof Y=="function"?Y(g):Y.replace("%s",g)},s.to=function(u,c){return o(u,c,this,!0)},s.from=function(u,c){return o(u,c,this)};var a=function(u){return u.$u?r.utc():r()};s.toNow=function(u){return this.to(a(this),u)},s.fromNow=function(u){return this.from(a(this),u)}}})})(OB);const ay=OB.exports;Te.extend(ay);const hne=i=>{let e=Te(i),t=parseInt(e.format("H"));return t>=6&&t<12?"morning":t>=12&&t<18?"afternoon":(t>=18&&t<20,"evening")},mne={toId(i){return[i.getTime().toString(16),Math.random().toString().substr(3,8)].join(".")},fromId(i){try{const e=i.split(".");return new Date(parseInt(e[0],16))}catch(e){throw e}},padTime(i){return(i+"").length===1?(i+"").padStart(2,"0"):i},isToday(i){return new Date().toDateString()===i.toDateString()},isSameDay(i,e){return i&&e?i.toDateString()===e.toDateString():!1},secondsToTime(i){i=i||0;let e=i,t=Math.floor(parseInt(`${e}`)/60).toString(),n;return parseInt(t)>59&&(n=Math.floor(parseInt(t)/60).toString(),t=(parseInt(t)-parseInt(n)*60).toString()),e=Math.floor(parseInt(`${e}`)%60),t=t,n?(n=parseInt(`${n}`),`${this.padTime(n)}:${this.padTime(t)}:${this.padTime(e)}`):`00:${this.padTime(t)}:${this.padTime(e)}`},dateToDesc(i){let e=Te(i),t=parseInt(e.format("H"));return t>=6&&t<12?"morning":t>=12&&t<18?"afternoon":t>=18&&t<20?"evening":"night"},fromNow(i,e=!0){let t=Te(i).fromNow(),n=t;return t=="a few seconds ago"?n="now":n=n.replace("minutes","min").replace("seconds","sec").replace("months","mon").replace("hours","hrs"),e||(n=n.replace("ago","").trim()),n},datetimeLocal(i){let e=i.split("T"),t=e[0],n=e[1];return Te(t,"YYYY-MM-DD").set("hour",parseFloat(n.split(":")[0])).set("minute",parseFloat(n.split(":")[1])).toDate()},msToSecond(i){return i/1e3},timestringToSeconds(i){let e=i.split(":");return this.unitsToSeconds(e[0],e[1],e[2])},unitsToSeconds(i,e,t){let n=0;return n=(parseInt(i)||0)*60*60,n=n+(parseInt(e)||0)*60,n=n+(parseInt(t)||0),n},getNumberedArray(i){i++;let e=[];for(var t=0;t<i;t++)e.push((t+"").toString().length==1?`0${t}`:`${t}`);return e},toggleAMPM(i){let e=Te(i),t=e.format("a"),n=parseInt(e.format("H"));return t=="am"&&n!==12?e.add(12,"hour").toDate():t=="pm"&&n!==12?e.subtract(12,"hour").toDate():e.toDate()},getDateFormat(i="md",e,t=!1){let n="";switch(i){case"xs":n=e=="imperial"?"M/D/YY":"D/M/YY";break;case"sm":n=e=="imperial"?"MM/DD/YYYY":"DD/MM/YYYY";break;case"md":n=e=="imperial"?"MMM D YYYY":"D MMM YYYY";break;case"lg":n=e=="imperial"?"MMM Do YYYY":"Do MMM YYYY";break;case"xl":n=e=="imperial"?"ddd MMM Do YYYY":"ddd Do MMM YYYY";break}return t?n.replace(/(YYYY|YY)/,""):n},getTimeFormat(i="md",e){switch(i){case"xs":return e=="imperial"?"ha":"H:mm";case"sm":return e=="imperial"?"h:mma":"HH:mm";default:return e=="imperial"?"h:mm a":"HH:mm"}},calendarMap:IB,getWeekOfMonth:BB,dateToWeekString:pne};function IB(i,e,t="day"){const n=Te(i).startOf(t),r=Te(e).endOf(t),s=Math.abs(r.startOf(t).diff(n,t))+1;return Array(s).fill(0).map(({},l)=>({date:n.add(l,t).toDate()}))}function BB(i){let e=i.getDate()+i.getDay();return parseInt(["0","1","2","3","4","5"][0|e/7])+1}function pne(i){return`${Te(i).format("YYYY-MM")}-w${BB(i)}`}const _ne={hour:{keyFormat:"YYYY-MM-DD-HH"},day:{keyFormat:"YYYY-MM-DD"},week:{keyFormat:"YYYY-MM-DD-w"},month:{keyFormat:"YYYY-MM"},quarter:{keyFormat:"YYYY-MM"},year:{keyFormat:"YYYY"}};var Il="INUMBER",ch="IOP1",fh="IOP2",dh="IOP3",xa="IVAR",lf="IVARNAME",Yd="IFUNCALL",K1="IFUNDEF",rl="IEXPR",uy="IEXPREVAL",Ff="IMEMBER",J1="IENDSTATEMENT",Ud="IARRAY";function ci(i,e){this.type=i,this.value=e!=null?e:0}ci.prototype.toString=function(){switch(this.type){case Il:case ch:case fh:case dh:case xa:case lf:case J1:return this.value;case Yd:return"CALL "+this.value;case K1:return"DEF "+this.value;case Ud:return"ARRAY "+this.value;case Ff:return"."+this.value;default:return"Invalid Instruction"}};function Q1(i){return new ci(ch,i)}function eu(i){return new ci(fh,i)}function RB(i){return new ci(dh,i)}function y2(i,e,t,n,r){for(var s=[],l=[],o,a,u,c,f=0;f<i.length;f++){var d=i[f],m=d.type;if(m===Il||m===lf)Array.isArray(d.value)?s.push.apply(s,y2(d.value.map(function(p){return new ci(Il,p)}).concat(new ci(Ud,d.value.length)),e,t,n,r)):s.push(d);else if(m===xa&&r.hasOwnProperty(d.value))d=new ci(Il,r[d.value]),s.push(d);else if(m===fh&&s.length>1)a=s.pop(),o=s.pop(),c=t[d.value],d=new ci(Il,c(o.value,a.value)),s.push(d);else if(m===dh&&s.length>2)u=s.pop(),a=s.pop(),o=s.pop(),d.value==="?"?s.push(o.value?a.value:u.value):(c=n[d.value],d=new ci(Il,c(o.value,a.value,u.value)),s.push(d));else if(m===ch&&s.length>0)o=s.pop(),c=e[d.value],d=new ci(Il,c(o.value)),s.push(d);else if(m===rl){for(;s.length>0;)l.push(s.shift());l.push(new ci(rl,y2(d.value,e,t,n,r)))}else if(m===Ff&&s.length>0)o=s.pop(),s.push(new ci(Il,o.value[d.value]));else{for(;s.length>0;)l.push(s.shift());l.push(d)}}for(;s.length>0;)l.push(s.shift());return l}function zB(i,e,t){for(var n=[],r=0;r<i.length;r++){var s=i[r],l=s.type;if(l===xa&&s.value===e)for(var o=0;o<t.tokens.length;o++){var a=t.tokens[o],u;a.type===ch?u=Q1(a.value):a.type===fh?u=eu(a.value):a.type===dh?u=RB(a.value):u=new ci(a.type,a.value),n.push(u)}else l===rl?n.push(new ci(rl,zB(s.value,e,t))):n.push(s)}return n}function Hc(i,e,t){var n=[],r,s,l,o,a,u;if(cy(i))return Ia(i,t);for(var c=i.length,f=0;f<c;f++){var d=i[f],m=d.type;if(m===Il||m===lf)n.push(d.value);else if(m===fh)s=n.pop(),r=n.pop(),d.value==="and"?n.push(r?!!Hc(s,e,t):!1):d.value==="or"?n.push(r?!0:!!Hc(s,e,t)):d.value==="="?(o=e.binaryOps[d.value],n.push(o(r,Hc(s,e,t),t))):(o=e.binaryOps[d.value],n.push(o(Ia(r,t),Ia(s,t))));else if(m===dh)l=n.pop(),s=n.pop(),r=n.pop(),d.value==="?"?n.push(Hc(r?s:l,e,t)):(o=e.ternaryOps[d.value],n.push(o(Ia(r,t),Ia(s,t),Ia(l,t))));else if(m===xa)if(d.value in e.functions)n.push(e.functions[d.value]);else if(d.value in e.unaryOps&&e.parser.isOperatorEnabled(d.value))n.push(e.unaryOps[d.value]);else{var p=t[d.value];if(p!==void 0)n.push(p);else throw new Error("undefined variable: "+d.value)}else if(m===ch)r=n.pop(),o=e.unaryOps[d.value],n.push(o(Ia(r,t)));else if(m===Yd){for(u=d.value,a=[];u-- >0;)a.unshift(Ia(n.pop(),t));if(o=n.pop(),o.apply&&o.call)n.push(o.apply(void 0,a));else throw new Error(o+" is not a function")}else if(m===K1)n.push(function(){for(var g=n.pop(),k=[],$=d.value;$-- >0;)k.unshift(n.pop());var C=n.pop(),E=function(){for(var S=Object.assign({},t),T=0,M=k.length;T<M;T++)S[k[T]]=arguments[T];return Hc(g,e,S)};return Object.defineProperty(E,"name",{value:C,writable:!1}),t[C]=E,E}());else if(m===rl)n.push(gne(d,e));else if(m===uy)n.push(d);else if(m===Ff)r=n.pop(),n.push(r[d.value]);else if(m===J1)n.pop();else if(m===Ud){for(u=d.value,a=[];u-- >0;)a.unshift(n.pop());n.push(a)}else throw new Error("invalid Expression")}if(n.length>1)throw new Error("invalid Expression (parity)");return n[0]===0?0:Ia(n[0],t)}function gne(i,e,t){return cy(i)?i:{type:uy,value:function(n){return Hc(i.value,e,n)}}}function cy(i){return i&&i.type===uy}function Ia(i,e){return cy(i)?i.value(e):i}function fy(i,e){for(var t=[],n,r,s,l,o,a,u=0;u<i.length;u++){var c=i[u],f=c.type;if(f===Il)typeof c.value=="number"&&c.value<0?t.push("("+c.value+")"):Array.isArray(c.value)?t.push("["+c.value.map(M3).join(", ")+"]"):t.push(M3(c.value));else if(f===fh)r=t.pop(),n=t.pop(),l=c.value,e?l==="^"?t.push("Math.pow("+n+", "+r+")"):l==="and"?t.push("(!!"+n+" && !!"+r+")"):l==="or"?t.push("(!!"+n+" || !!"+r+")"):l==="||"?t.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+n+"),("+r+")))"):l==="=="?t.push("("+n+" === "+r+")"):l==="!="?t.push("("+n+" !== "+r+")"):l==="["?t.push(n+"[("+r+") | 0]"):t.push("("+n+" "+l+" "+r+")"):l==="["?t.push(n+"["+r+"]"):t.push("("+n+" "+l+" "+r+")");else if(f===dh)if(s=t.pop(),r=t.pop(),n=t.pop(),l=c.value,l==="?")t.push("("+n+" ? "+r+" : "+s+")");else throw new Error("invalid Expression");else if(f===xa||f===lf)t.push(c.value);else if(f===ch)n=t.pop(),l=c.value,l==="-"||l==="+"?t.push("("+l+n+")"):e?l==="not"?t.push("(!"+n+")"):l==="!"?t.push("fac("+n+")"):t.push(l+"("+n+")"):l==="!"?t.push("("+n+"!)"):t.push("("+l+" "+n+")");else if(f===Yd){for(a=c.value,o=[];a-- >0;)o.unshift(t.pop());l=t.pop(),t.push(l+"("+o.join(", ")+")")}else if(f===K1){for(r=t.pop(),a=c.value,o=[];a-- >0;)o.unshift(t.pop());n=t.pop(),e?t.push("("+n+" = function("+o.join(", ")+") { return "+r+" })"):t.push("("+n+"("+o.join(", ")+") = "+r+")")}else if(f===Ff)n=t.pop(),t.push(n+"."+c.value);else if(f===Ud){for(a=c.value,o=[];a-- >0;)o.unshift(t.pop());t.push("["+o.join(", ")+"]")}else if(f===rl)t.push("("+fy(c.value,e)+")");else if(f!==J1)throw new Error("invalid Expression")}return t.length>1&&(e?t=[t.join(",")]:t=[t.join(";")]),String(t[0])}function M3(i){return typeof i=="string"?JSON.stringify(i).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):i}function yd(i,e){for(var t=0;t<i.length;t++)if(i[t]===e)return!0;return!1}function dy(i,e,t){t=t||{};for(var n=!!t.withMembers,r=null,s=0;s<i.length;s++){var l=i[s];l.type===xa||l.type===lf?!n&&!yd(e,l.value)?e.push(l.value):(r!==null&&(yd(e,r)||e.push(r)),r=l.value):l.type===Ff&&n&&r!==null?r+="."+l.value:l.type===rl?dy(l.value,e,t):r!==null&&(yd(e,r)||e.push(r),r=null)}r!==null&&!yd(e,r)&&e.push(r)}function ho(i,e){this.tokens=i,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}ho.prototype.simplify=function(i){return i=i||{},new ho(y2(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,i),this.parser)};ho.prototype.substitute=function(i,e){return e instanceof ho||(e=this.parser.parse(String(e))),new ho(zB(this.tokens,i,e),this.parser)};ho.prototype.evaluate=function(i){return i=i||{},Hc(this.tokens,this,i)};ho.prototype.toString=function(){return fy(this.tokens,!1)};ho.prototype.symbols=function(i){i=i||{};var e=[];return dy(this.tokens,e,i),e};ho.prototype.variables=function(i){i=i||{};var e=[];dy(this.tokens,e,i);var t=this.functions;return e.filter(function(n){return!(n in t)})};ho.prototype.toJSFunction=function(i,e){var t=this,n=new Function(i,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+fy(this.simplify(e).tokens,!0)+"; }");return function(){return n.apply(t,arguments)}};var ep="TEOF",Yi="TOP",e0="TNUMBER",jB="TSTRING",Ga="TPAREN",Wd="TBRACKET",t0="TCOMMA",hy="TNAME",my="TSEMICOLON";function YB(i,e,t){this.type=i,this.value=e,this.index=t}YB.prototype.toString=function(){return this.type+": "+this.value};function fr(i,e){this.pos=0,this.current=null,this.unaryOps=i.unaryOps,this.binaryOps=i.binaryOps,this.ternaryOps=i.ternaryOps,this.consts=i.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=i.options,this.parser=i}fr.prototype.newToken=function(i,e,t){return new YB(i,e,t!=null?t:this.pos)};fr.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current};fr.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent};fr.prototype.next=function(){if(this.pos>=this.expression.length)return this.newToken(ep,"EOF");if(this.isWhitespace()||this.isComment())return this.next();if(this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName())return this.current;this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')};fr.prototype.isString=function(){var i=!1,e=this.pos,t=this.expression.charAt(e);if(t==="'"||t==='"')for(var n=this.expression.indexOf(t,e+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,this.expression.charAt(n-1)!=="\\"){var r=this.expression.substring(e+1,n);this.current=this.newToken(jB,this.unescape(r),e),i=!0;break}n=this.expression.indexOf(t,n+1)}return i};fr.prototype.isParen=function(){var i=this.expression.charAt(this.pos);return i==="("||i===")"?(this.current=this.newToken(Ga,i),this.pos++,!0):!1};fr.prototype.isBracket=function(){var i=this.expression.charAt(this.pos);return(i==="["||i==="]")&&this.isOperatorEnabled("[")?(this.current=this.newToken(Wd,i),this.pos++,!0):!1};fr.prototype.isComma=function(){var i=this.expression.charAt(this.pos);return i===","?(this.current=this.newToken(t0,","),this.pos++,!0):!1};fr.prototype.isSemicolon=function(){var i=this.expression.charAt(this.pos);return i===";"?(this.current=this.newToken(my,";"),this.pos++,!0):!1};fr.prototype.isConst=function(){for(var i=this.pos,e=i;e<this.expression.length;e++){var t=this.expression.charAt(e);if(t.toUpperCase()===t.toLowerCase()&&(e===this.pos||t!=="_"&&t!=="."&&(t<"0"||t>"9")))break}if(e>i){var n=this.expression.substring(i,e);if(n in this.consts)return this.current=this.newToken(e0,this.consts[n]),this.pos+=n.length,!0}return!1};fr.prototype.isNamedOp=function(){for(var i=this.pos,e=i;e<this.expression.length;e++){var t=this.expression.charAt(e);if(t.toUpperCase()===t.toLowerCase()&&(e===this.pos||t!=="_"&&(t<"0"||t>"9")))break}if(e>i){var n=this.expression.substring(i,e);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(Yi,n),this.pos+=n.length,!0}return!1};fr.prototype.isName=function(){for(var i=this.pos,e=i,t=!1;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()){if(e===this.pos&&(n==="$"||n==="_")){n==="_"&&(t=!0);continue}else if(e===this.pos||!t||n!=="_"&&(n<"0"||n>"9"))break}else t=!0}if(t){var r=this.expression.substring(i,e);return this.current=this.newToken(hy,r),this.pos+=r.length,!0}return!1};fr.prototype.isWhitespace=function(){for(var i=!1,e=this.expression.charAt(this.pos);(e===" "||e==="	"||e===`
`||e==="\r")&&(i=!0,this.pos++,!(this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return i};var vne=/^[0-9a-f]{4}$/i;fr.prototype.unescape=function(i){var e=i.indexOf("\\");if(e<0)return i;for(var t=i.substring(0,e);e>=0;){var n=i.charAt(++e);switch(n){case"'":t+="'";break;case'"':t+='"';break;case"\\":t+="\\";break;case"/":t+="/";break;case"b":t+="\b";break;case"f":t+="\f";break;case"n":t+=`
`;break;case"r":t+="\r";break;case"t":t+="	";break;case"u":var r=i.substring(e+1,e+5);vne.test(r)||this.parseError("Illegal escape sequence: \\u"+r),t+=String.fromCharCode(parseInt(r,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++e;var s=i.indexOf("\\",e);t+=i.substring(e,s<0?i.length:s),e=s}return t};fr.prototype.isComment=function(){var i=this.expression.charAt(this.pos);return i==="/"&&this.expression.charAt(this.pos+1)==="*"?(this.pos=this.expression.indexOf("*/",this.pos)+2,this.pos===1&&(this.pos=this.expression.length),!0):!1};fr.prototype.isRadixInteger=function(){var i=this.pos;if(i>=this.expression.length-2||this.expression.charAt(i)!=="0")return!1;++i;var e,t;if(this.expression.charAt(i)==="x")e=16,t=/^[0-9a-f]$/i,++i;else if(this.expression.charAt(i)==="b")e=2,t=/^[01]$/i,++i;else return!1;for(var n=!1,r=i;i<this.expression.length;){var s=this.expression.charAt(i);if(t.test(s))i++,n=!0;else break}return n&&(this.current=this.newToken(e0,parseInt(this.expression.substring(r,i),e)),this.pos=i),n};fr.prototype.isNumber=function(){for(var i=!1,e=this.pos,t=e,n=e,r=!1,s=!1,l;e<this.expression.length&&(l=this.expression.charAt(e),l>="0"&&l<="9"||!r&&l===".");)l==="."?r=!0:s=!0,e++,i=s;if(i&&(n=e),l==="e"||l==="E"){e++;for(var o=!0,a=!1;e<this.expression.length;){if(l=this.expression.charAt(e),o&&(l==="+"||l==="-"))o=!1;else if(l>="0"&&l<="9")a=!0,o=!1;else break;e++}a||(e=n)}return i?(this.current=this.newToken(e0,parseFloat(this.expression.substring(t,e))),this.pos=e):this.pos=n,i};fr.prototype.isOperator=function(){var i=this.pos,e=this.expression.charAt(this.pos);if(e==="+"||e==="-"||e==="*"||e==="/"||e==="%"||e==="^"||e==="?"||e===":"||e===".")this.current=this.newToken(Yi,e);else if(e==="\u2219"||e==="\u2022")this.current=this.newToken(Yi,"*");else if(e===">")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(Yi,">="),this.pos++):this.current=this.newToken(Yi,">");else if(e==="<")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(Yi,"<="),this.pos++):this.current=this.newToken(Yi,"<");else if(e==="|")if(this.expression.charAt(this.pos+1)==="|")this.current=this.newToken(Yi,"||"),this.pos++;else return!1;else if(e==="=")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(Yi,"=="),this.pos++):this.current=this.newToken(Yi,e);else if(e==="!")this.expression.charAt(this.pos+1)==="="?(this.current=this.newToken(Yi,"!="),this.pos++):this.current=this.newToken(Yi,e);else return!1;return this.pos++,this.isOperatorEnabled(this.current.value)?!0:(this.pos=i,!1)};fr.prototype.isOperatorEnabled=function(i){return this.parser.isOperatorEnabled(i)};fr.prototype.getCoordinates=function(){var i=0,e,t=-1;do i++,e=this.pos-t,t=this.expression.indexOf(`
`,t+1);while(t>=0&&t<this.pos);return{line:i,column:e}};fr.prototype.parseError=function(i){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+i)};function Zi(i,e,t){this.parser=i,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=t.allowMemberAccess!==!1}Zi.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()};Zi.prototype.tokenMatches=function(i,e){return typeof e>"u"?!0:Array.isArray(e)?yd(e,i.value):typeof e=="function"?e(i):i.value===e};Zi.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()};Zi.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken};Zi.prototype.accept=function(i,e){return this.nextToken.type===i&&this.tokenMatches(this.nextToken,e)?(this.next(),!0):!1};Zi.prototype.expect=function(i,e){if(!this.accept(i,e)){var t=this.tokens.getCoordinates();throw new Error("parse error ["+t.line+":"+t.column+"]: Expected "+(e||i))}};Zi.prototype.parseAtom=function(i){var e=this.tokens.unaryOps;function t(r){return r.value in e}if(this.accept(hy)||this.accept(Yi,t))i.push(new ci(xa,this.current.value));else if(this.accept(e0))i.push(new ci(Il,this.current.value));else if(this.accept(jB))i.push(new ci(Il,this.current.value));else if(this.accept(Ga,"("))this.parseExpression(i),this.expect(Ga,")");else if(this.accept(Wd,"["))if(this.accept(Wd,"]"))i.push(new ci(Ud,0));else{var n=this.parseArrayList(i);i.push(new ci(Ud,n))}else throw new Error("unexpected "+this.nextToken)};Zi.prototype.parseExpression=function(i){var e=[];this.parseUntilEndStatement(i,e)||(this.parseVariableAssignmentExpression(e),!this.parseUntilEndStatement(i,e)&&this.pushExpression(i,e))};Zi.prototype.pushExpression=function(i,e){for(var t=0,n=e.length;t<n;t++)i.push(e[t])};Zi.prototype.parseUntilEndStatement=function(i,e){return this.accept(my)?(this.nextToken&&this.nextToken.type!==ep&&!(this.nextToken.type===Ga&&this.nextToken.value===")")&&e.push(new ci(J1)),this.nextToken.type!==ep&&this.parseExpression(e),i.push(new ci(rl,e)),!0):!1};Zi.prototype.parseArrayList=function(i){for(var e=0;!this.accept(Wd,"]");)for(this.parseExpression(i),++e;this.accept(t0);)this.parseExpression(i),++e;return e};Zi.prototype.parseVariableAssignmentExpression=function(i){for(this.parseConditionalExpression(i);this.accept(Yi,"=");){var e=i.pop(),t=[],n=i.length-1;if(e.type===Yd){if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var r=0,s=e.value+1;r<s;r++){var l=n-r;i[l].type===xa&&(i[l]=new ci(lf,i[l].value))}this.parseVariableAssignmentExpression(t),i.push(new ci(rl,t)),i.push(new ci(K1,e.value));continue}if(e.type!==xa&&e.type!==Ff)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(t),i.push(new ci(lf,e.value)),i.push(new ci(rl,t)),i.push(eu("="))}};Zi.prototype.parseConditionalExpression=function(i){for(this.parseOrExpression(i);this.accept(Yi,"?");){var e=[],t=[];this.parseConditionalExpression(e),this.expect(Yi,":"),this.parseConditionalExpression(t),i.push(new ci(rl,e)),i.push(new ci(rl,t)),i.push(RB("?"))}};Zi.prototype.parseOrExpression=function(i){for(this.parseAndExpression(i);this.accept(Yi,"or");){var e=[];this.parseAndExpression(e),i.push(new ci(rl,e)),i.push(eu("or"))}};Zi.prototype.parseAndExpression=function(i){for(this.parseComparison(i);this.accept(Yi,"and");){var e=[];this.parseComparison(e),i.push(new ci(rl,e)),i.push(eu("and"))}};var bne=["==","!=","<","<=",">=",">","in"];Zi.prototype.parseComparison=function(i){for(this.parseAddSub(i);this.accept(Yi,bne);){var e=this.current;this.parseAddSub(i),i.push(eu(e.value))}};var kne=["+","-","||"];Zi.prototype.parseAddSub=function(i){for(this.parseTerm(i);this.accept(Yi,kne);){var e=this.current;this.parseTerm(i),i.push(eu(e.value))}};var yne=["*","/","%"];Zi.prototype.parseTerm=function(i){for(this.parseFactor(i);this.accept(Yi,yne);){var e=this.current;this.parseFactor(i),i.push(eu(e.value))}};Zi.prototype.parseFactor=function(i){var e=this.tokens.unaryOps;function t(r){return r.value in e}if(this.save(),this.accept(Yi,t)){if(this.current.value!=="-"&&this.current.value!=="+"){if(this.nextToken.type===Ga&&this.nextToken.value==="("){this.restore(),this.parseExponential(i);return}else if(this.nextToken.type===my||this.nextToken.type===t0||this.nextToken.type===ep||this.nextToken.type===Ga&&this.nextToken.value===")"){this.restore(),this.parseAtom(i);return}}var n=this.current;this.parseFactor(i),i.push(Q1(n.value))}else this.parseExponential(i)};Zi.prototype.parseExponential=function(i){for(this.parsePostfixExpression(i);this.accept(Yi,"^");)this.parseFactor(i),i.push(eu("^"))};Zi.prototype.parsePostfixExpression=function(i){for(this.parseFunctionCall(i);this.accept(Yi,"!");)i.push(Q1("!"))};Zi.prototype.parseFunctionCall=function(i){var e=this.tokens.unaryOps;function t(s){return s.value in e}if(this.accept(Yi,t)){var n=this.current;this.parseAtom(i),i.push(Q1(n.value))}else for(this.parseMemberExpression(i);this.accept(Ga,"(");)if(this.accept(Ga,")"))i.push(new ci(Yd,0));else{var r=this.parseArgumentList(i);i.push(new ci(Yd,r))}};Zi.prototype.parseArgumentList=function(i){for(var e=0;!this.accept(Ga,")");)for(this.parseExpression(i),++e;this.accept(t0);)this.parseExpression(i),++e;return e};Zi.prototype.parseMemberExpression=function(i){for(this.parseAtom(i);this.accept(Yi,".")||this.accept(Wd,"[");){var e=this.current;if(e.value==="."){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(hy),i.push(new ci(Ff,this.current.value))}else if(e.value==="["){if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(i),this.expect(Wd,"]"),i.push(eu("["))}else throw new Error("unexpected symbol: "+e.value)}};function wne(i,e){return Number(i)+Number(e)}function $ne(i,e){return i-e}function Fne(i,e){return i*e}function Ene(i,e){return i/e}function Cne(i,e){return i%e}function Dne(i,e){return Array.isArray(i)&&Array.isArray(e)?i.concat(e):""+i+e}function Sne(i,e){return i===e}function Tne(i,e){return i!==e}function Ane(i,e){return i>e}function Pne(i,e){return i<e}function Nne(i,e){return i>=e}function Mne(i,e){return i<=e}function Lne(i,e){return Boolean(i&&e)}function One(i,e){return Boolean(i||e)}function Ine(i,e){return yd(e,i)}function Bne(i){return(Math.exp(i)-Math.exp(-i))/2}function Rne(i){return(Math.exp(i)+Math.exp(-i))/2}function zne(i){return i===1/0?1:i===-1/0?-1:(Math.exp(i)-Math.exp(-i))/(Math.exp(i)+Math.exp(-i))}function jne(i){return i===-1/0?i:Math.log(i+Math.sqrt(i*i+1))}function Yne(i){return Math.log(i+Math.sqrt(i*i-1))}function Une(i){return Math.log((1+i)/(1-i))/2}function L3(i){return Math.log(i)*Math.LOG10E}function Wne(i){return-i}function qne(i){return!i}function Hne(i){return i<0?Math.ceil(i):Math.floor(i)}function Vne(i){return Math.random()*(i||1)}function O3(i){return py(i+1)}function xne(i){return isFinite(i)&&i===Math.round(i)}var Gne=4.7421875,mb=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function py(i){var e,t;if(xne(i)){if(i<=0)return isFinite(i)?1/0:NaN;if(i>171)return 1/0;for(var n=i-2,r=i-1;n>1;)r*=n,n--;return r===0&&(r=1),r}if(i<.5)return Math.PI/(Math.sin(Math.PI*i)*py(1-i));if(i>=171.35)return 1/0;if(i>85){var s=i*i,l=s*i,o=l*i,a=o*i;return Math.sqrt(2*Math.PI/i)*Math.pow(i/Math.E,i)*(1+1/(12*i)+1/(288*s)-139/(51840*l)-571/(2488320*o)+163879/(209018880*a)+5246819/(75246796800*a*i))}--i,t=mb[0];for(var u=1;u<mb.length;++u)t+=mb[u]/(i+u);return e=i+Gne+.5,Math.sqrt(2*Math.PI)*Math.pow(e,i+.5)*Math.exp(-e)*t}function Zne(i){return Array.isArray(i)?i.length:String(i).length}function I3(){for(var i=0,e=0,t=0;t<arguments.length;t++){var n=Math.abs(arguments[t]),r;e<n?(r=e/n,i=i*r*r+1,e=n):n>0?(r=n/e,i+=r*r):i+=n}return e===1/0?1/0:e*Math.sqrt(i)}function B3(i,e,t){return i?e:t}function Xne(i,e){return typeof e>"u"||+e==0?Math.round(i):(i=+i,e=-+e,isNaN(i)||!(typeof e=="number"&&e%1===0)?NaN:(i=i.toString().split("e"),i=Math.round(+(i[0]+"e"+(i[1]?+i[1]-e:-e))),i=i.toString().split("e"),+(i[0]+"e"+(i[1]?+i[1]+e:e))))}function Kne(i,e,t){return t&&(t[i]=e),e}function Jne(i,e){return i[e|0]}function Qne(i){return arguments.length===1&&Array.isArray(i)?Math.max.apply(Math,i):Math.max.apply(Math,arguments)}function eie(i){return arguments.length===1&&Array.isArray(i)?Math.min.apply(Math,i):Math.min.apply(Math,arguments)}function tie(i,e){if(typeof i!="function")throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map(function(t,n){return i(t,n)})}function nie(i,e,t){if(typeof i!="function")throw new Error("First argument to fold is not a function");if(!Array.isArray(t))throw new Error("Second argument to fold is not an array");return t.reduce(function(n,r,s){return i(n,r,s)},e)}function iie(i,e){if(typeof i!="function")throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter(function(t,n){return i(t,n)})}function rie(i,e){if(!(Array.isArray(e)||typeof e=="string"))throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(i)}function sie(i,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(i)}function lie(i){return(i>0)-(i<0)||+i}var R3=1/3;function oie(i){return i<0?-Math.pow(-i,R3):Math.pow(i,R3)}function aie(i){return Math.exp(i)-1}function uie(i){return Math.log(1+i)}function cie(i){return Math.log(i)/Math.LN2}function Ef(i){this.options=i||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||Bne,cosh:Math.cosh||Rne,tanh:Math.tanh||zne,asinh:Math.asinh||jne,acosh:Math.acosh||Yne,atanh:Math.atanh||Une,sqrt:Math.sqrt,cbrt:Math.cbrt||oie,log:Math.log,log2:Math.log2||cie,ln:Math.log,lg:Math.log10||L3,log10:Math.log10||L3,expm1:Math.expm1||aie,log1p:Math.log1p||uie,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||Hne,"-":Wne,"+":Number,exp:Math.exp,not:qne,length:Zne,"!":O3,sign:Math.sign||lie},this.binaryOps={"+":wne,"-":$ne,"*":Fne,"/":Ene,"%":Cne,"^":Math.pow,"||":Dne,"==":Sne,"!=":Tne,">":Ane,"<":Pne,">=":Nne,"<=":Mne,and:Lne,or:One,in:Ine,"=":Kne,"[":Jne},this.ternaryOps={"?":B3},this.functions={random:Vne,fac:O3,min:eie,max:Qne,hypot:Math.hypot||I3,pyt:Math.hypot||I3,pow:Math.pow,atan2:Math.atan2,if:B3,gamma:py,roundTo:Xne,map:tie,fold:nie,filter:iie,indexOf:rie,join:sie},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}Ef.prototype.parse=function(i){var e=[],t=new Zi(this,new fr(this,i),{allowMemberAccess:this.options.allowMemberAccess});return t.parseExpression(e),t.expect(ep,"EOF"),new ho(e,this)};Ef.prototype.evaluate=function(i,e){return this.parse(i).evaluate(e)};var UB=new Ef;Ef.parse=function(i){return UB.parse(i)};Ef.evaluate=function(i,e){return UB.parse(i).evaluate(e)};var z3={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function fie(i){return z3.hasOwnProperty(i)?z3[i]:i}Ef.prototype.isOperatorEnabled=function(i){var e=fie(i),t=this.options.operators||{};return!(e in t)||!!t[e]};const die={context:"+",person:"@",tracker:"#"};function hie(i){const e=i.split("(");let t=e.length===2?e[1].replace(")",""):"1";return t=t.length?t:"1",mie(t)}function mie(i){const e=i.match(/[a-z/%$]+/gi),t=e?e[0]:void 0;if(i.match(/\+|-|\/|\*|Mod|\(|\)/)){i=i.replace(/[a-z]+/gi,"");try{return{value:Ef.evaluate(i),uom:t}}catch{return{value:0,uom:t}}}else return i.split(".").length===2?{value:parseFloat(i),uom:t}:i.search(":")>-1?{value:mne.timestringToSeconds(i),uom:"timer"}:{value:parseInt(i),uom:t}}function pie(i){const e=i.trim().replace(/(s|'s|'|,|\.|!||\?|:)/gi,"");return{word:e,remainder:i.trim().replace(e,"")}}function Pu(i){const{word:e,type:t,value:n,remainder:r,raw:s,uom:l}=i,o=die[t]||"";return{id:(e.search(/\(/)>-1?e.replace(o,"").split("(")[0]:e.replace(o,"")).toLowerCase(),raw:s||e||"",prefix:o,type:t,value:n,remainder:r,uom:l}}const tp=(i="")=>{const e=WB(i);if(e.length)return e[0]},WB=(i="")=>{const e=i.split(/\r?\n/),t=[];return e.forEach(n=>{sc(n).forEach(s=>{t.push(s)}),e.length>1&&t.push(Pu({type:"line-break",word:""}))}),t},sc=(i="")=>i.trim().replace(/\n/g,` 
 `).split(" ").map(t=>{const n=pie(t),r=hie(t),s=t.trim().substring(0,1);if(s==="#"&&t.length>1)return t.match(/\d\d:\d\d/)?Pu({type:"tracker",word:t.trim(),value:r.value,remainder:n.remainder.replace(t,""),uom:r.uom}):Pu({type:"tracker",word:n.word,raw:t.trim(),value:r.value,remainder:n.remainder.replace(t,"").trim(),uom:r.uom});if(s==="@"&&t.length>1)return Pu({type:"person",word:n.word.toLowerCase(),raw:t.trim(),value:r.value,remainder:n.remainder,uom:r.uom});if(s==="+"&&t.length>1)return Pu({type:"context",word:n.word,raw:t.trim(),value:r.value,remainder:n.remainder,uom:r.uom});if(t.search(/(\w){3}:\/\/(\w)/)>-1)return Pu({type:"link",word:t.trim().replace(/(https|http):\/\//gi,""),raw:t.trim()});if(t==`
`)return Pu({type:"line-break",word:`
`});if(t)return Pu({type:"generic",word:t.trim()})}).filter(t=>t);function Cm(i="",e){return e=e||{},sc(i).filter(t=>e.includeGeneric?!0:t.type!=="generic"&&t.type!=="line-break")}function _ie(i){const e=Cm(i);return e.length?e[0]:(i.length&&e.push({id:dne(i),prefix:"",raw:i,type:"generic"}),e.length?e[0]:null)}function gie(i="",e="generic"){switch(e){case"tracker":return`#${i}`;case"person":return`@${i}`;case"context":return`+${i}`;default:return i}}const np={parse:Cm,toElement:_ie,generateRaw:gie,people(i){return Cm(i).filter(e=>e.type=="person")},trackers(i){return Cm(i).filter(e=>e.type=="tracker")},context(i){return Cm(i).filter(e=>e.type=="context")}};function vie(i){return!isNaN(i)&&i!==null&&i!==void 0}function bie(i){return Number(i)===i&&i%1!==0}function kie(i){let e=0,t=null,a={"*":u=>{e=e*u},"-":u=>{e=e-u},"+":u=>{e=e+u},"/":u=>{e=e/u},".":u=>{bie(e)||(e=parseFloat(`${e}.${u}`))}};return i.forEach((u,c)=>{vie(u)?c==0?e=u:t&&t(u):a[u]&&(t=a[u])}),i.length?e:0}function yie(i,e){for(var t,n=-1,r=i.length;++n<r;){var s=e(i[n]);s!==void 0&&(t=t===void 0?s:t+s)}return t}var qB=yie,wie=qB,$ie=0/0;function Fie(i,e){var t=i==null?0:i.length;return t?wie(i,e)/t:$ie}var Eie=Fie;function Cie(i){return i}var n0=Cie,Die=Eie,Sie=n0;function Tie(i){return Die(i,Sie)}var Aie=Tie,Pie=ny;function Nie(i,e,t){for(var n=-1,r=i.length;++n<r;){var s=i[n],l=e(s);if(l!=null&&(o===void 0?l===l&&!Pie(l):t(l,o)))var o=l,a=s}return a}var HB=Nie;function Mie(i,e){return i<e}var Lie=Mie,Oie=HB,Iie=Lie,Bie=n0;function Rie(i){return i&&i.length?Oie(i,Bie,Iie):void 0}var zie=Rie,jie=qB,Yie=n0;function Uie(i){return i&&i.length?jie(i,Yie):0}var Wie=Uie;function qie(i,e){return i>e}var Hie=qie,Vie=HB,xie=Hie,Gie=n0;function Zie(i){return i&&i.length?Vie(i,Gie,xie):void 0}var Xie=Zie,Kie=Math.floor,Jie=Math.random;function Qie(i,e){return i+Kie(Jie()*(e-i+1))}var VB=Qie;function ere(i,e){return i===e||i!==i&&e!==e}var xB=ere;function tre(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}var hh=tre,nre=Mp,ire=hh,rre="[object AsyncFunction]",sre="[object Function]",lre="[object GeneratorFunction]",ore="[object Proxy]";function are(i){if(!ire(i))return!1;var e=nre(i);return e==sre||e==lre||e==rre||e==ore}var GB=are,ure=9007199254740991;function cre(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=ure}var ZB=cre,fre=GB,dre=ZB;function hre(i){return i!=null&&dre(i.length)&&!fre(i)}var XB=hre,mre=9007199254740991,pre=/^(?:0|[1-9]\d*)$/;function _re(i,e){var t=typeof i;return e=e==null?mre:e,!!e&&(t=="number"||t!="symbol"&&pre.test(i))&&i>-1&&i%1==0&&i<e}var KB=_re,gre=xB,vre=XB,bre=KB,kre=hh;function yre(i,e,t){if(!kre(t))return!1;var n=typeof e;return(n=="number"?vre(t)&&bre(e,t.length):n=="string"&&e in t)?gre(t[e],i):!1}var JB=yre,wre=/\s/;function $re(i){for(var e=i.length;e--&&wre.test(i.charAt(e)););return e}var Fre=$re,Ere=Fre,Cre=/^\s+/;function Dre(i){return i&&i.slice(0,Ere(i)+1).replace(Cre,"")}var Sre=Dre,Tre=Sre,j3=hh,Are=ny,Y3=0/0,Pre=/^[-+]0x[0-9a-f]+$/i,Nre=/^0b[01]+$/i,Mre=/^0o[0-7]+$/i,Lre=parseInt;function Ore(i){if(typeof i=="number")return i;if(Are(i))return Y3;if(j3(i)){var e=typeof i.valueOf=="function"?i.valueOf():i;i=j3(e)?e+"":e}if(typeof i!="string")return i===0?i:+i;i=Tre(i);var t=Nre.test(i);return t||Mre.test(i)?Lre(i.slice(2),t?2:8):Pre.test(i)?Y3:+i}var _y=Ore,Ire=_y,U3=1/0,Bre=17976931348623157e292;function Rre(i){if(!i)return i===0?i:0;if(i=Ire(i),i===U3||i===-U3){var e=i<0?-1:1;return e*Bre}return i===i?i:0}var QB=Rre,zre=VB,jre=JB,W3=QB,Yre=parseFloat,Ure=Math.min,Wre=Math.random;function qre(i,e,t){if(t&&typeof t!="boolean"&&jre(i,e,t)&&(e=t=void 0),t===void 0&&(typeof e=="boolean"?(t=e,e=void 0):typeof i=="boolean"&&(t=i,i=void 0)),i===void 0&&e===void 0?(i=0,e=1):(i=W3(i),e===void 0?(e=i,i=0):e=W3(e)),i>e){var n=i;i=e,e=n}if(t||i%1||e%1){var r=Wre();return Ure(i+r*(e-i+Yre("1e-"+((r+"").length-1))),e)}return zre(i,e)}var Hre=qre,Vre=QB;function xre(i){var e=Vre(i),t=e%1;return e===e?t?e-t:e:0}var gy=xre,Gre=$f,Zre=gy,Xre=_y,q3=uh,Kre=Gre.isFinite,Jre=Math.min;function Qre(i){var e=Math[i];return function(t,n){if(t=Xre(t),n=n==null?0:Jre(Zre(n),292),n&&Kre(t)){var r=(q3(t)+"e").split("e"),s=e(r[0]+"e"+(+r[1]+n));return r=(q3(s)+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}var ese=Qre,tse=ese,nse=tse("round"),pb=nse,ise=VB;function rse(i){var e=i.length;return e?i[ise(0,e-1)]:void 0}var eR=rse,sse=wB;function lse(i,e){return sse(e,function(t){return i[t]})}var ose=lse;function ase(i,e){for(var t=-1,n=Array(i);++t<i;)n[t]=e(t);return n}var use=ase,cse=Mp,fse=Lp,dse="[object Arguments]";function hse(i){return fse(i)&&cse(i)==dse}var mse=hse,H3=mse,pse=Lp,tR=Object.prototype,_se=tR.hasOwnProperty,gse=tR.propertyIsEnumerable,vse=H3(function(){return arguments}())?H3:function(i){return pse(i)&&_se.call(i,"callee")&&!gse.call(i,"callee")},bse=vse,w2={exports:{}};function kse(){return!1}var yse=kse;(function(i,e){var t=$f,n=yse,r=e&&!e.nodeType&&e,s=r&&!0&&i&&!i.nodeType&&i,l=s&&s.exports===r,o=l?t.Buffer:void 0,a=o?o.isBuffer:void 0,u=a||n;i.exports=u})(w2,w2.exports);var wse=Mp,$se=ZB,Fse=Lp,Ese="[object Arguments]",Cse="[object Array]",Dse="[object Boolean]",Sse="[object Date]",Tse="[object Error]",Ase="[object Function]",Pse="[object Map]",Nse="[object Number]",Mse="[object Object]",Lse="[object RegExp]",Ose="[object Set]",Ise="[object String]",Bse="[object WeakMap]",Rse="[object ArrayBuffer]",zse="[object DataView]",jse="[object Float32Array]",Yse="[object Float64Array]",Use="[object Int8Array]",Wse="[object Int16Array]",qse="[object Int32Array]",Hse="[object Uint8Array]",Vse="[object Uint8ClampedArray]",xse="[object Uint16Array]",Gse="[object Uint32Array]",xi={};xi[jse]=xi[Yse]=xi[Use]=xi[Wse]=xi[qse]=xi[Hse]=xi[Vse]=xi[xse]=xi[Gse]=!0;xi[Ese]=xi[Cse]=xi[Rse]=xi[Dse]=xi[zse]=xi[Sse]=xi[Tse]=xi[Ase]=xi[Pse]=xi[Nse]=xi[Mse]=xi[Lse]=xi[Ose]=xi[Ise]=xi[Bse]=!1;function Zse(i){return Fse(i)&&$se(i.length)&&!!xi[wse(i)]}var Xse=Zse;function Kse(i){return function(e){return i(e)}}var Jse=Kse,$2={exports:{}};(function(i,e){var t=yB,n=e&&!e.nodeType&&e,r=n&&!0&&i&&!i.nodeType&&i,s=r&&r.exports===n,l=s&&t.process,o=function(){try{var a=r&&r.require&&r.require("util").types;return a||l&&l.binding&&l.binding("util")}catch{}}();i.exports=o})($2,$2.exports);var Qse=Xse,ele=Jse,V3=$2.exports,x3=V3&&V3.isTypedArray,tle=x3?ele(x3):Qse,nle=tle,ile=use,rle=bse,sle=ty,lle=w2.exports,ole=KB,ale=nle,ule=Object.prototype,cle=ule.hasOwnProperty;function fle(i,e){var t=sle(i),n=!t&&rle(i),r=!t&&!n&&lle(i),s=!t&&!n&&!r&&ale(i),l=t||n||r||s,o=l?ile(i.length,String):[],a=o.length;for(var u in i)(e||cle.call(i,u))&&!(l&&(u=="length"||r&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ole(u,a)))&&o.push(u);return o}var dle=fle,hle=Object.prototype;function mle(i){var e=i&&i.constructor,t=typeof e=="function"&&e.prototype||hle;return i===t}var ple=mle;function _le(i,e){return function(t){return i(e(t))}}var gle=_le,vle=gle,ble=vle(Object.keys,Object),kle=ble,yle=ple,wle=kle,$le=Object.prototype,Fle=$le.hasOwnProperty;function Ele(i){if(!yle(i))return wle(i);var e=[];for(var t in Object(i))Fle.call(i,t)&&t!="constructor"&&e.push(t);return e}var Cle=Ele,Dle=dle,Sle=Cle,Tle=XB;function Ale(i){return Tle(i)?Dle(i):Sle(i)}var Ple=Ale,Nle=ose,Mle=Ple;function Lle(i){return i==null?[]:Nle(i,Mle(i))}var Ole=Lle,Ile=eR,Ble=Ole;function Rle(i){return Ile(Ble(i))}var zle=Rle,jle=eR,Yle=zle,Ule=ty;function Wle(i){var e=Ule(i)?jle:Yle;return e(i)}var qle=Wle,Ds=function(i){this.value=i};Ds.math={isDegree:!0,acos:function(i){return Ds.math.isDegree?180/Math.PI*Math.acos(i):Math.acos(i)},add:function(i,e){return i+e},asin:function(i){return Ds.math.isDegree?180/Math.PI*Math.asin(i):Math.asin(i)},atan:function(i){return Ds.math.isDegree?180/Math.PI*Math.atan(i):Math.atan(i)},acosh:function(i){return Math.log(i+Math.sqrt(i*i-1))},asinh:function(i){return Math.log(i+Math.sqrt(i*i+1))},atanh:function(i){return Math.log((1+i)/(1-i))},C:function(i,e){var t=1,n=i-e,r=e;r<n&&(r=n,n=e);for(var s=r+1;s<=i;s++)t*=s;return t/Ds.math.fact(n)},changeSign:function(i){return-i},cos:function(i){return Ds.math.isDegree&&(i=Ds.math.toRadian(i)),Math.cos(i)},cosh:function(i){return(Math.pow(Math.E,i)+Math.pow(Math.E,-1*i))/2},div:function(i,e){return i/e},fact:function(i){if(i%1!==0)return"NaN";for(var e=1,t=2;t<=i;t++)e*=t;return e},inverse:function(i){return 1/i},log:function(i){return Math.log(i)/Math.log(10)},mod:function(i,e){return i%e},mul:function(i,e){return i*e},P:function(i,e){for(var t=1,n=Math.floor(i)-Math.floor(e)+1;n<=Math.floor(i);n++)t*=n;return t},Pi:function(i,e,t){for(var n=1,r=i;r<=e;r++)n*=Number(t.postfixEval({n:r}));return n},pow10x:function(i){for(var e=1;i--;)e*=10;return e},sigma:function(i,e,t){for(var n=0,r=i;r<=e;r++)n+=Number(t.postfixEval({n:r}));return n},sin:function(i){return Ds.math.isDegree&&(i=Ds.math.toRadian(i)),Math.sin(i)},sinh:function(i){return(Math.pow(Math.E,i)-Math.pow(Math.E,-1*i))/2},sub:function(i,e){return i-e},tan:function(i){return Ds.math.isDegree&&(i=Ds.math.toRadian(i)),Math.tan(i)},tanh:function(i){return Ds.sinha(i)/Ds.cosha(i)},toRadian:function(i){return i*Math.PI/180},and:function(i,e){return i&e}};Ds.Exception=function(i){this.message=i};var Hle=Ds,En=Hle;function Cs(i,e){for(var t=0;t<i.length;t++)i[t]+=e;return i}var Iu=[{token:"sin",show:"sin",type:0,value:En.math.sin},{token:"cos",show:"cos",type:0,value:En.math.cos},{token:"tan",show:"tan",type:0,value:En.math.tan},{token:"pi",show:"&pi;",type:3,value:"PI"},{token:"(",show:"(",type:4,value:"("},{token:")",show:")",type:5,value:")"},{token:"P",show:"P",type:10,value:En.math.P},{token:"C",show:"C",type:10,value:En.math.C},{token:" ",show:" ",type:14,value:" ".anchor},{token:"asin",show:"asin",type:0,value:En.math.asin},{token:"acos",show:"acos",type:0,value:En.math.acos},{token:"atan",show:"atan",type:0,value:En.math.atan},{token:"7",show:"7",type:1,value:"7"},{token:"8",show:"8",type:1,value:"8"},{token:"9",show:"9",type:1,value:"9"},{token:"int",show:"Int",type:0,value:Math.floor},{token:"cosh",show:"cosh",type:0,value:En.math.cosh},{token:"acosh",show:"acosh",type:0,value:En.math.acosh},{token:"ln",show:" ln",type:0,value:Math.log},{token:"^",show:"^",type:10,value:Math.pow},{token:"root",show:"root",type:0,value:Math.sqrt},{token:"4",show:"4",type:1,value:"4"},{token:"5",show:"5",type:1,value:"5"},{token:"6",show:"6",type:1,value:"6"},{token:"/",show:"&divide;",type:2,value:En.math.div},{token:"!",show:"!",type:7,value:En.math.fact},{token:"tanh",show:"tanh",type:0,value:En.math.tanh},{token:"atanh",show:"atanh",type:0,value:En.math.atanh},{token:"Mod",show:" Mod ",type:2,value:En.math.mod},{token:"1",show:"1",type:1,value:"1"},{token:"2",show:"2",type:1,value:"2"},{token:"3",show:"3",type:1,value:"3"},{token:"*",show:"&times;",type:2,value:En.math.mul},{token:"sinh",show:"sinh",type:0,value:En.math.sinh},{token:"asinh",show:"asinh",type:0,value:En.math.asinh},{token:"e",show:"e",type:3,value:"E"},{token:"log",show:" log",type:0,value:En.math.log},{token:"0",show:"0",type:1,value:"0"},{token:".",show:".",type:6,value:"."},{token:"+",show:"+",type:9,value:En.math.add},{token:"-",show:"-",type:9,value:En.math.sub},{token:",",show:",",type:11,value:","},{token:"Sigma",show:"&Sigma;",type:12,value:En.math.sigma},{token:"n",show:"n",type:13,value:"n"},{token:"Pi",show:"&Pi;",type:12,value:En.math.Pi},{token:"pow",show:"pow",type:8,value:Math.pow,numberOfArguments:2},{token:"&",show:"&",type:9,value:En.math.and}],F2={0:11,1:0,2:3,3:0,4:0,5:0,6:0,7:11,8:11,9:1,10:10,11:0,12:11,13:0,14:-1,15:11};for(var X_=0;X_<Iu.length;X_++)Iu[X_].precedence=F2[Iu[X_].type];var Io={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,9:!0,12:!0,13:!0,14:!0,15:!0},ad={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0,10:!0,11:!0,12:!0,13:!0,15:!0},Vle={0:!0,3:!0,4:!0,8:!0,12:!0,13:!0,15:!0},ro={},fm={0:!0,1:!0,3:!0,4:!0,6:!0,8:!0,12:!0,13:!0,15:!0},xle={1:!0},Ts=[[],["1","2","3","7","8","9","4","5","6","+","-","*","/","(",")","^","!","P","C","e","0",".",",","n"," ","&"],["pi","ln","Pi"],["sin","cos","tan","Del","int","Mod","log","pow"],["asin","acos","atan","cosh","root","tanh","sinh"],["acosh","atanh","asinh","Sigma"]];function Gle(i,e,t,n){for(var r=0;r<n;r++)if(i[t+r]!==e[r])return!1;return!0}En.tokenTypes={FUNCTION_WITH_ONE_ARG:0,NUMBER:1,BINARY_OPERATOR_HIGH_PRECENDENCE:2,CONSTANT:3,OPENING_PARENTHESIS:4,CLOSING_PARENTHESIS:5,DECIMAL:6,POSTFIX_FUNCTION_WITH_ONE_ARG:7,FUNCTION_WITH_N_ARGS:8,BINARY_OPERATOR_LOW_PRECENDENCE:9,BINARY_OPERATOR_PERMUTATION:10,COMMA:11,EVALUATED_FUNCTION:12,EVALUATED_FUNCTION_PARAMETER:13,SPACE:14};En.addToken=function(i){for(var e=0;e<i.length;e++){var t=i[e].token.length,n=-1;i[e].type===En.tokenTypes.FUNCTION_WITH_N_ARGS&&i[e].numberOfArguments===void 0&&(i[e].numberOfArguments=2),Ts[t]=Ts[t]||[];for(var r=0;r<Ts[t].length;r++)if(i[e].token===Ts[t][r]){n=nR(Ts[t][r],Iu);break}n===-1?(Iu.push(i[e]),i[e].precedence=F2[i[e].type],Ts.length<=i[e].token.length&&(Ts[i[e].token.length]=[]),Ts[i[e].token.length].push(i[e].token)):(Iu[n]=i[e],i[e].precedence=F2[i[e].type])}};function nR(i,e){for(var t=0;t<e.length;t++)if(e[t].token===i)return t;return-1}function Zle(i){for(var e=[],t=i.length,n,r,s,l=0;l<t;l++)if(!(l<t-1&&i[l]===" "&&i[l+1]===" ")){for(n="",r=i.length-l>Ts.length-2?Ts.length-1:i.length-l;r>0;r--)if(Ts[r]!==void 0)for(s=0;s<Ts[r].length;s++)Gle(i,Ts[r][s],l,r)&&(n=Ts[r][s],s=Ts[r].length,r=0);if(l+=n.length-1,n==="")throw new En.Exception("Can't understand after "+i.slice(l));e.push(Iu[nR(n,Iu)])}return e}var Xle={value:En.math.changeSign,type:0,pre:21,show:"-"},K_={value:")",show:")",type:5,pre:0},dm={value:"(",type:4,pre:0,show:"("};En.lex=function(i,e){var t=[dm],n=[],r=i,s=Io,l=0,o=ro,a="",u;typeof e<"u"&&En.addToken(e);var c={},f=Zle(r);for(u=0;u<f.length;u++){var d=f[u];if(d.type===14){if(u>0&&u<f.length-1&&f[u+1].type===1&&(f[u-1].type===1||f[u-1].type===6))throw new En.Exception("Unexpected Space");continue}var m=d.token,p=d.type,g=d.value,k=d.precedence,$=d.show,C=t[t.length-1],E;for(E=n.length;E--&&n[E]===0;)if([0,2,3,4,5,9,11,12,13].indexOf(p)!==-1){if(s[p]!==!0)throw new En.Exception(m+" is not allowed after "+a);t.push(K_),s=ad,o=fm,n.pop()}if(s[p]!==!0)throw new En.Exception(m+" is not allowed after "+a);if(o[p]===!0&&(p=2,g=En.math.mul,$="&times;",k=3,u=u-1),c={value:g,type:p,pre:k,show:$,numberOfArguments:d.numberOfArguments},p===0)s=Io,o=ro,Cs(n,2),t.push(c),f[u+1].type!==4&&(t.push(dm),n.push(2));else if(p===1)C.type===1?(C.value+=g,Cs(n,1)):t.push(c),s=ad,o=Vle;else if(p===2)s=Io,o=ro,Cs(n,2),t.push(c);else if(p===3)t.push(c),s=ad,o=fm;else if(p===4)Cs(n,1),l++,s=Io,o=ro,t.push(c);else if(p===5){if(!l)throw new En.Exception("Closing parenthesis are more than opening one, wait What!!!");l--,s=ad,o=fm,t.push(c),Cs(n,1)}else if(p===6){if(C.hasDec)throw new En.Exception("Two decimals are not allowed in one number");C.type!==1&&(C={value:0,type:1,pre:0},t.push(C)),s=xle,Cs(n,1),o=ro,C.value+=g,C.hasDec=!0}else p===7&&(s=ad,o=fm,Cs(n,1),t.push(c));p===8?(s=Io,o=ro,Cs(n,d.numberOfArguments+2),t.push(c),f[u+1].type!==4&&(t.push(dm),n.push(d.numberOfArguments+2))):p===9?(C.type===9?C.value===En.math.add?(C.value=g,C.show=$,Cs(n,1)):C.value===En.math.sub&&$==="-"&&(C.value=En.math.add,C.show="+",Cs(n,1)):C.type!==5&&C.type!==7&&C.type!==1&&C.type!==3&&C.type!==13?m==="-"&&(s=Io,o=ro,Cs(n,2).push(2),t.push(Xle),t.push(dm)):(t.push(c),Cs(n,2)),s=Io,o=ro):p===10?(s=Io,o=ro,Cs(n,2),t.push(c)):p===11?(s=Io,o=ro,t.push(c)):p===12?(s=Io,o=ro,Cs(n,6),t.push(c),f[u+1].type!==4&&(t.push(dm),n.push(6))):p===13&&(s=ad,o=fm,t.push(c)),Cs(n,-1),a=m}for(E=n.length;E--;)t.push(K_);if(s[5]!==!0)throw new En.Exception("complete the expression");for(;l--;)t.push(K_);return t.push(K_),new En(t)};var Kle=En,E2=Kle;E2.prototype.toPostfix=function(){for(var i=[],e,t,n,r,s,l=[{value:"(",type:4,pre:0}],o=this.value,a=1;a<o.length;a++)if(o[a].type===1||o[a].type===3||o[a].type===13)o[a].type===1&&(o[a].value=Number(o[a].value)),i.push(o[a]);else if(o[a].type===4)l.push(o[a]);else if(o[a].type===5)for(;(t=l.pop()).type!==4;)i.push(t);else if(o[a].type===11){for(;(t=l.pop()).type!==4;)i.push(t);l.push(t)}else{e=o[a],r=e.pre,s=l[l.length-1],n=s.pre;var u=s.value=="Math.pow"&&e.value=="Math.pow";if(r>n)l.push(e);else{for(;n>=r&&!u||u&&r<n;)t=l.pop(),s=l[l.length-1],i.push(t),n=s.pre,u=e.value=="Math.pow"&&s.value=="Math.pow";l.push(e)}}return new E2(i)};var Jle=E2,Rm=Jle;Rm.prototype.postfixEval=function(i){i=i||{},i.PI=Math.PI,i.E=Math.E;for(var e=[],t,n,r,s=this.value,l=typeof i.n<"u",o=0;o<s.length;o++)if(s[o].type===1)e.push({value:s[o].value,type:1});else if(s[o].type===3)e.push({value:i[s[o].value],type:1});else if(s[o].type===0)typeof e[e.length-1].type>"u"?e[e.length-1].value.push(s[o]):e[e.length-1].value=s[o].value(e[e.length-1].value);else if(s[o].type===7)typeof e[e.length-1].type>"u"?e[e.length-1].value.push(s[o]):e[e.length-1].value=s[o].value(e[e.length-1].value);else if(s[o].type===8){for(var a=[],u=0;u<s[o].numberOfArguments;u++)a.push(e.pop().value);e.push({type:1,value:s[o].value.apply(s[o],a.reverse())})}else s[o].type===10?(t=e.pop(),n=e.pop(),typeof n.type>"u"?(n.value=n.concat(t),n.value.push(s[o]),e.push(n)):typeof t.type>"u"?(t.unshift(n),t.push(s[o]),e.push(t)):e.push({type:1,value:s[o].value(n.value,t.value)})):s[o].type===2||s[o].type===9?(t=e.pop(),n=e.pop(),typeof n.type>"u"?(n=n.concat(t),n.push(s[o]),e.push(n)):typeof t.type>"u"?(t.unshift(n),t.push(s[o]),e.push(t)):e.push({type:1,value:s[o].value(n.value,t.value)})):s[o].type===12?(t=e.pop(),typeof t.type<"u"&&(t=[t]),n=e.pop(),r=e.pop(),e.push({type:1,value:s[o].value(r.value,n.value,new Rm(t))})):s[o].type===13&&(l?e.push({value:i[s[o].value],type:3}):e.push([s[o]]));if(e.length>1)throw new Rm.Exception("Uncaught Syntax error");return e[0].value>1e15?"Infinity":parseFloat(e[0].value.toFixed(15))};Rm.eval=function(i,e,t){return typeof e>"u"?this.lex(i).toPostfix().postfixEval():typeof t>"u"?typeof e.length<"u"?this.lex(i,e).toPostfix().postfixEval():this.lex(i).toPostfix().postfixEval(e):this.lex(i,e).toPostfix().postfixEval(t)};var Qle=Rm,iR=Qle;iR.prototype.formulaEval=function(){for(var i,e,t,n=[],r=this.value,s=0;s<r.length;s++)r[s].type===1||r[s].type===3?n.push({value:r[s].type===3?r[s].show:r[s].value,type:1}):r[s].type===13?n.push({value:r[s].show,type:1}):r[s].type===0?n[n.length-1]={value:r[s].show+(r[s].show!="-"?"(":"")+n[n.length-1].value+(r[s].show!="-"?")":""),type:0}:r[s].type===7?n[n.length-1]={value:(n[n.length-1].type!=1?"(":"")+n[n.length-1].value+(n[n.length-1].type!=1?")":"")+r[s].show,type:7}:r[s].type===10?(i=n.pop(),e=n.pop(),r[s].show==="P"||r[s].show==="C"?n.push({value:"<sup>"+e.value+"</sup>"+r[s].show+"<sub>"+i.value+"</sub>",type:10}):n.push({value:(e.type!=1?"(":"")+e.value+(e.type!=1?")":"")+"<sup>"+i.value+"</sup>",type:1})):r[s].type===2||r[s].type===9?(i=n.pop(),e=n.pop(),n.push({value:(e.type!=1?"(":"")+e.value+(e.type!=1?")":"")+r[s].show+(i.type!=1?"(":"")+i.value+(i.type!=1?")":""),type:r[s].type})):r[s].type===12&&(i=n.pop(),e=n.pop(),t=n.pop(),n.push({value:r[s].show+"("+t.value+","+e.value+","+i.value+")",type:12}));return n[0].value};var eoe=iR;const Nt={evaluate(i){return eoe(i)},sum:i=>(i||[]).length?Wie(i):0,round:(i,e)=>(e=e||100,Math.round(e*i)/e),max:i=>(i||[]).length?Xie([...i]):0,min:(i,e=!1)=>i.length?(i=e==!0?i:i.filter(t=>t),zie(i)):0,average:(i,e)=>(i=i||[0],i=i.length?i:[0],e&&(i=e?i.filter(t=>t):i),pb(Aie(i),2)||0),percentage:(i,e,t)=>pb(t?(i-e)/i*100:100-(i-e)/i*100),random_range:(i,e)=>Hre(i,e),random:i=>qle(i),percentile(i){const e=this.sum(i);return i.map(t=>this.percentage(e,t))},trustfulNumber(i,e){return isNaN(i)?e:i},isNumber(i){return!isNaN(i)&&i!==null&&i!==void 0},isInt(i){return Number(i)===i&&i%1===0},isFloat(i){return Number(i)===i&&i%1!==0},calculate(i){return kie(i)}},gi=i=>{if(typeof i=="number")return Math.round(100*i)/100;if(typeof i=="string"&&i.search(/\./)>-1){const e=parseFloat(`${i}`);return Math.round(100*e)/100}return typeof i=="string"?parseInt(`${i}`):NaN};function Cf(i,e,t){e=e||new Date;let n=np.trackers(i||"");t=t||{};let r=n.map(s=>t[s.id]?Qm(gi(s.value),t[s.id],e):0);return Nt.sum(r)}const ip=i=>{if(i){const e=i.getBoundingClientRect(),t=document.body,n=document.documentElement,r=window.pageYOffset||n.scrollTop||t.scrollTop,s=window.pageXOffset||n.scrollLeft||t.scrollLeft,l=n.clientTop||t.clientTop||0,o=n.clientLeft||t.clientLeft||0,a=e.top+r-l,u=e.left+s-o;return{top:Math.round(a),left:Math.round(u),eleHeight:e.height,eleWidth:e.width}}};function toe(){let i={visible:!1,buttons:[],caller:void 0};const{subscribe:e,set:t,update:n}=rn(i);async function r(o,a){n(u=>(u.buttons=o,u.caller=a,u.visible=!0,u))}function s(){n(o=>(o.onCancel&&o.onCancel(),o.visible=!1,o.onClick=void 0,o.onCancel=void 0,o))}function l(){n(o=>(o.visible=!1,o.title=void 0,o.buttons=[],o.emoji=void 0,o.onCancel=void 0,o.onClick=void 0,o))}return{subscribe:e,update:n,set:t,cancel:s,present:r,close:l}}const C2=toe(),vy=rn(!1),noe=()=>{vy.update(i=>!0)},rR=()=>{vy.update(i=>!1)},by=(i,e)=>{Jn(),C2.present(e,i)};class lc{constructor(e,t=!0){je(this,"label");je(this,"render");this.label=e,this.render=t}success(e,t){this.render&&(console.log("\u2705 \u2705 \u2705 \u2705 "+this.label),this.showArgs("\u2705 ",arguments),console.log(""))}log(e,t){this.render&&this.showArgs(`${this.label} \u21A0`,arguments)}error(e){console.log("\u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} "),console.log("\u{1F4DB} "+this.label),this.showArgs("\u{1F4DB}",arguments),console.log("\u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} \u{1F4DB} "),console.log("")}notice(e){console.log("\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}"),console.log("\u{1F46F} "+this.label),this.showArgs("\u{1F46F}",arguments),console.log("\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}\u{1F46F}"),console.log("")}showArgs(e,t){if(t)for(let n=0;n<t.length;n++)console.log(n==0?"\u2B50\uFE0F "+e:"\u2728   ",t[n])}}function mo(i){return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(i)}function ioe(i,e){if(mo(i)!=="object"||i===null)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var n=t.call(i,e||"default");if(mo(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function sR(i){var e=ioe(i,"string");return mo(e)==="symbol"?e:String(e)}function roe(i,e,t){return e=sR(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Ks(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&n.push.apply(n,Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.forEach(function(r){roe(i,r,t[r])})}return i}function tu(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function G3(i,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,sR(n.key),n)}}function nu(i,e,t){return e&&G3(i.prototype,e),t&&G3(i,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function of(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function rp(i,e){if(e&&(mo(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return of(i)}function qd(i){return qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},qd(i)}function D2(i,e){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},D2(i,e)}function i0(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&D2(i,e)}function S2(i,e){(e==null||e>i.length)&&(e=i.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=i[t];return n}function soe(i){if(Array.isArray(i))return S2(i)}function loe(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function lR(i,e){if(!!i){if(typeof i=="string")return S2(i,e);var t=Object.prototype.toString.call(i).slice(8,-1);if(t==="Object"&&i.constructor&&(t=i.constructor.name),t==="Map"||t==="Set")return Array.from(i);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return S2(i,e)}}function ooe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aoe(i){return soe(i)||loe(i)||lR(i)||ooe()}function uoe(i){if(Array.isArray(i))return i}function coe(i,e){var t=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(t!=null){var n,r,s,l,o=[],a=!0,u=!1;try{if(s=(t=t.call(i)).next,e===0){if(Object(t)!==t)return;a=!1}else for(;!(a=(n=s.call(t)).done)&&(o.push(n.value),o.length!==e);a=!0);}catch(c){u=!0,r=c}finally{try{if(!a&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw r}}return o}}function foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z3(i,e){return uoe(i)||coe(i,e)||lR(i,e)||foe()}var doe={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){var n;console&&console[e]&&(n=console)[e].apply(n,aoe(t))}},hoe=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};tu(this,i),this.init(e,t)}return nu(i,[{key:"init",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=t||doe,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,n,r,s){return s&&!this.debug?null:(typeof t[0]=="string"&&(t[0]="".concat(r).concat(this.prefix," ").concat(t[0])),this.logger[n](t))}},{key:"create",value:function(t){return new i(this.logger,Ks({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),i}(),Wa=new hoe,Wu=function(){function i(){tu(this,i),this.observers={}}return nu(i,[{key:"on",value:function(t,n){var r=this;return t.split(" ").forEach(function(s){r.observers[s]=r.observers[s]||[],r.observers[s].push(n)}),this}},{key:"off",value:function(t,n){if(!!this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t]=this.observers[t].filter(function(r){return r!==n})}}},{key:"emit",value:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];if(this.observers[t]){var l=[].concat(this.observers[t]);l.forEach(function(a){a.apply(void 0,r)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(a){a.apply(a,[t].concat(r))})}}}]),i}();function hm(){var i,e,t=new Promise(function(n,r){i=n,e=r});return t.resolve=i,t.reject=e,t}function _b(i){return i==null?"":""+i}function moe(i,e,t){i.forEach(function(n){e[n]&&(t[n]=e[n])})}function ky(i,e,t){function n(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function r(){return!i||typeof i=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(r())return{};var l=n(s.shift());!i[l]&&t&&(i[l]=new t),i=i[l]}return r()?{}:{obj:i,k:n(s.shift())}}function X3(i,e,t){var n=ky(i,e,Object),r=n.obj,s=n.k;r[s]=t}function poe(i,e,t,n){var r=ky(i,e,Object),s=r.obj,l=r.k;s[l]=s[l]||[],n&&(s[l]=s[l].concat(t)),n||s[l].push(t)}function xg(i,e){var t=ky(i,e),n=t.obj,r=t.k;if(!!n)return n[r]}function K3(i,e,t){var n=xg(i,t);return n!==void 0?n:xg(e,t)}function oR(i,e,t){for(var n in e)n in i?typeof i[n]=="string"||i[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?t&&(i[n]=e[n]):oR(i[n],e[n],t):i[n]=e[n];return i}function ud(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function goe(i){return typeof i=="string"?i.replace(/[&<>"'\/]/g,function(e){return _oe[e]}):i}var voe=function(i){i0(e,i);function e(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return tu(this,e),n=rp(this,qd(e).call(this)),Wu.call(of(n)),n.data=t||{},n.options=r,n.options.keySeparator===void 0&&(n.options.keySeparator="."),n}return nu(e,[{key:"addNamespaces",value:function(n){this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}},{key:"removeNamespaces",value:function(n){var r=this.options.ns.indexOf(n);r>-1&&this.options.ns.splice(r,1)}},{key:"getResource",value:function(n,r,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,a=[n,r];return s&&typeof s!="string"&&(a=a.concat(s)),s&&typeof s=="string"&&(a=a.concat(o?s.split(o):s)),n.indexOf(".")>-1&&(a=n.split(".")),xg(this.data,a)}},{key:"addResource",value:function(n,r,s,l){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},a=this.options.keySeparator;a===void 0&&(a=".");var u=[n,r];s&&(u=u.concat(a?s.split(a):s)),n.indexOf(".")>-1&&(u=n.split("."),l=r,r=u[1]),this.addNamespaces(r),X3(this.data,u,l),o.silent||this.emit("added",n,r,s,l)}},{key:"addResources",value:function(n,r,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var o in s)(typeof s[o]=="string"||Object.prototype.toString.apply(s[o])==="[object Array]")&&this.addResource(n,r,o,s[o],{silent:!0});l.silent||this.emit("added",n,r,s)}},{key:"addResourceBundle",value:function(n,r,s,l,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[n,r];n.indexOf(".")>-1&&(u=n.split("."),l=s,s=r,r=u[1]),this.addNamespaces(r);var c=xg(this.data,u)||{};l?oR(c,s,o):c=Ks({},c,s),X3(this.data,u,c),a.silent||this.emit("added",n,r,s)}},{key:"removeResourceBundle",value:function(n,r){this.hasResourceBundle(n,r)&&delete this.data[n][r],this.removeNamespaces(r),this.emit("removed",n,r)}},{key:"hasResourceBundle",value:function(n,r){return this.getResource(n,r)!==void 0}},{key:"getResourceBundle",value:function(n,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Ks({},{},this.getResource(n,r)):this.getResource(n,r)}},{key:"getDataByLanguage",value:function(n){return this.data[n]}},{key:"toJSON",value:function(){return this.data}}]),e}(Wu),aR={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,s){var l=this;return e.forEach(function(o){l.processors[o]&&(t=l.processors[o].process(t,n,r,s))}),t}},J3=function(i){i0(e,i);function e(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return tu(this,e),n=rp(this,qd(e).call(this)),Wu.call(of(n)),moe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,of(n)),n.options=r,n.options.keySeparator===void 0&&(n.options.keySeparator="."),n.logger=Wa.create("translator"),n}return nu(e,[{key:"changeLanguage",value:function(n){n&&(this.language=n)}},{key:"exists",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},s=this.resolve(n,r);return s&&s.res!==void 0}},{key:"extractFromKey",value:function(n,r){var s=r.nsSeparator||this.options.nsSeparator;s===void 0&&(s=":");var l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=r.ns||this.options.defaultNS;if(s&&n.indexOf(s)>-1){var a=n.split(s);(s!==l||s===l&&this.options.ns.indexOf(a[0])>-1)&&(o=a.shift()),n=a.join(l)}return typeof o=="string"&&(o=[o]),{key:n,namespaces:o}}},{key:"translate",value:function(n,r){var s=this;if(mo(r)!=="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),r||(r={}),n==null)return"";Array.isArray(n)||(n=[String(n)]);var l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,o=this.extractFromKey(n[n.length-1],r),a=o.key,u=o.namespaces,c=u[u.length-1],f=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f&&f.toLowerCase()==="cimode"){if(d){var m=r.nsSeparator||this.options.nsSeparator;return c+m+a}return a}var p=this.resolve(n,r),g=p&&p.res,k=p&&p.usedKey||a,$=p&&p.exactUsedKey||a,C=Object.prototype.toString.apply(g),E=["[object Number]","[object Function]","[object RegExp]"],S=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,M=typeof g!="string"&&typeof g!="boolean"&&typeof g!="number";if(T&&g&&M&&E.indexOf(C)<0&&!(typeof S=="string"&&C==="[object Array]")){if(!r.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(k,g,r):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(l){var R=C==="[object Array]",Y=R?[]:{},z=R?$:k;for(var j in g)if(Object.prototype.hasOwnProperty.call(g,j)){var V="".concat(z).concat(l).concat(j);Y[j]=this.translate(V,Ks({},r,{joinArrays:!1,ns:u})),Y[j]===V&&(Y[j]=g[j])}g=Y}}else if(T&&typeof S=="string"&&C==="[object Array]")g=g.join(S),g&&(g=this.extendTranslation(g,n,r));else{var x=!1,ee=!1;if(!this.isValidLookup(g)&&r.defaultValue!==void 0){if(x=!0,r.count!==void 0){var J=this.pluralResolver.getSuffix(f,r.count);g=r["defaultValue".concat(J)]}g||(g=r.defaultValue)}this.isValidLookup(g)||(ee=!0,g=a);var q=r.defaultValue&&r.defaultValue!==g&&this.options.updateMissing;if(ee||x||q){this.logger.log(q?"updateKey":"missingKey",f,c,a,q?r.defaultValue:g);var le=[],G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(var X=0;X<G.length;X++)le.push(G[X]);else this.options.saveMissingTo==="all"?le=this.languageUtils.toResolveHierarchy(r.lng||this.language):le.push(r.lng||this.language);var se=function(re,be){s.options.missingKeyHandler?s.options.missingKeyHandler(re,c,be,q?r.defaultValue:g,q,r):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(re,c,be,q?r.defaultValue:g,q,r),s.emit("missingKey",re,c,be,g)};if(this.options.saveMissing){var te=r.count!==void 0&&typeof r.count!="string";this.options.saveMissingPlurals&&te?le.forEach(function(ie){var re=s.pluralResolver.getPluralFormsOfKey(ie,a);re.forEach(function(be){return se([ie],be)})}):se(le,a)}}g=this.extendTranslation(g,n,r,p),ee&&g===a&&this.options.appendNamespaceToMissingKey&&(g="".concat(c,":").concat(a)),ee&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(g))}return g}},{key:"extendTranslation",value:function(n,r,s,l){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)n=this.i18nFormat.parse(n,s,l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init(Ks({},s,{interpolation:Ks({},this.options.interpolation,s.interpolation)}));var a=s.replace&&typeof s.replace!="string"?s.replace:s;this.options.interpolation.defaultVariables&&(a=Ks({},this.options.interpolation.defaultVariables,a)),n=this.interpolator.interpolate(n,a,s.lng||this.language,s),s.nest!==!1&&(n=this.interpolator.nest(n,function(){return o.translate.apply(o,arguments)},s)),s.interpolation&&this.interpolator.reset()}var u=s.postProcess||this.options.postProcess,c=typeof u=="string"?[u]:u;return n!=null&&c&&c.length&&s.applyPostProcessor!==!1&&(n=aR.handle(c,n,r,this.options&&this.options.postProcessPassResolved?Ks({i18nResolved:l},s):s,this)),n}},{key:"resolve",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l,o,a,u,c;return typeof n=="string"&&(n=[n]),n.forEach(function(f){if(!r.isValidLookup(l)){var d=r.extractFromKey(f,s),m=d.key;o=m;var p=d.namespaces;r.options.fallbackNS&&(p=p.concat(r.options.fallbackNS));var g=s.count!==void 0&&typeof s.count!="string",k=s.context!==void 0&&typeof s.context=="string"&&s.context!=="",$=s.lngs?s.lngs:r.languageUtils.toResolveHierarchy(s.lng||r.language,s.fallbackLng);p.forEach(function(C){r.isValidLookup(l)||(c=C,r.utils&&r.utils.hasLoadedNamespace&&!r.utils.hasLoadedNamespace(c)&&r.logger.warn('key "'.concat(o,'" for namespace "').concat(c,`" won't get resolved as namespace was not yet loaded`),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"),$.forEach(function(E){if(!r.isValidLookup(l)){u=E;var S=m,T=[S];if(r.i18nFormat&&r.i18nFormat.addLookupKeys)r.i18nFormat.addLookupKeys(T,m,E,C,s);else{var M;g&&(M=r.pluralResolver.getSuffix(E,s.count)),g&&k&&T.push(S+M),k&&T.push(S+="".concat(r.options.contextSeparator).concat(s.context)),g&&T.push(S+=M)}for(var R;R=T.pop();)r.isValidLookup(l)||(a=R,l=r.getResource(E,C,R,s))}}))})}}),{res:l,usedKey:o,exactUsedKey:a,usedLng:u,usedNS:c}}},{key:"isValidLookup",value:function(n){return n!==void 0&&!(!this.options.returnNull&&n===null)&&!(!this.options.returnEmptyString&&n==="")}},{key:"getResource",value:function(n,r,s){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(n,r,s,l):this.resourceStore.getResource(n,r,s,l)}}]),e}(Wu);function gb(i){return i.charAt(0).toUpperCase()+i.slice(1)}var boe=function(){function i(e){tu(this,i),this.options=e,this.whitelist=this.options.whitelist||!1,this.logger=Wa.create("languageUtils")}return nu(i,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var n=t.split("-");return n.length===2?null:(n.pop(),this.formatLanguageCode(n.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var n=t.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(t){if(typeof t=="string"&&t.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],r=t.split("-");return this.options.lowerCaseLng?r=r.map(function(s){return s.toLowerCase()}):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=gb(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=gb(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=gb(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isWhitelisted",value:function(t){return(this.options.load==="languageOnly"||this.options.nonExplicitWhitelist)&&(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(t)>-1}},{key:"getFallbackCodes",value:function(t,n){if(!t)return[];if(typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!n)return t.default||[];var r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t.default),r||[]}},{key:"toResolveHierarchy",value:function(t,n){var r=this,s=this.getFallbackCodes(n||this.options.fallbackLng||[],t),l=[],o=function(u){!u||(r.isWhitelisted(u)?l.push(u):r.logger.warn("rejecting non-whitelisted language code: ".concat(u)))};return typeof t=="string"&&t.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(t))):typeof t=="string"&&o(this.formatLanguageCode(t)),s.forEach(function(a){l.indexOf(a)<0&&o(r.formatLanguageCode(a))}),l}}]),i}(),koe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}],yoe={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e===0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e===0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e===0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e===1?0:e===2?1:(e<0||e>10)&&e%10==0?2:3)}};function woe(){var i={};return koe.forEach(function(e){e.lngs.forEach(function(t){i[t]={numbers:e.nr,plurals:yoe[e.fc]}})}),i}var $oe=function(){function i(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};tu(this,i),this.languageUtils=e,this.options=t,this.logger=Wa.create("pluralResolver"),this.rules=woe()}return nu(i,[{key:"addRule",value:function(t,n){this.rules[t]=n}},{key:"getRule",value:function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var n=this.getRule(t);return n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,n){var r=this,s=[],l=this.getRule(t);return l&&l.numbers.forEach(function(o){var a=r.getSuffix(t,o);s.push("".concat(n).concat(a))}),s}},{key:"getSuffix",value:function(t,n){var r=this,s=this.getRule(t);if(s){var l=s.noAbs?s.plurals(n):s.plurals(Math.abs(n)),o=s.numbers[l];this.options.simplifyPluralSuffix&&s.numbers.length===2&&s.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var a=function(){return r.options.prepend&&o.toString()?r.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&s.numbers.length===2&&s.numbers[0]===1?a():this.options.prepend&&l.toString()?this.options.prepend+l.toString():l.toString()}return this.logger.warn("no plural rule found for: ".concat(t)),""}}]),i}(),Foe=function(){function i(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};tu(this,i),this.logger=Wa.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return nu(i,[{key:"init",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var n=t.interpolation;this.escape=n.escape!==void 0?n.escape:goe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?ud(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?ud(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?ud(n.nestingPrefix):n.nestingPrefixEscaped||ud("$t("),this.nestingSuffix=n.nestingSuffix?ud(n.nestingSuffix):n.nestingSuffixEscaped||ud(")"),this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(t,n,r,s){var l=this,o,a,u,c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(k){return k.replace(/\$/g,"$$$$")}var d=function($){if($.indexOf(l.formatSeparator)<0)return K3(n,c,$);var C=$.split(l.formatSeparator),E=C.shift().trim(),S=C.join(l.formatSeparator).trim();return l.format(K3(n,c,E),S,r)};this.resetRegExp();var m=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler;for(u=0;o=this.regexpUnescape.exec(t);){if(a=d(o[1].trim()),a===void 0)if(typeof m=="function"){var p=m(t,o,s);a=typeof p=="string"?p:""}else this.logger.warn("missed to pass in variable ".concat(o[1]," for interpolating ").concat(t)),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=_b(a));if(t=t.replace(o[0],f(a)),this.regexpUnescape.lastIndex=0,u++,u>=this.maxReplaces)break}for(u=0;o=this.regexp.exec(t);){if(a=d(o[1].trim()),a===void 0)if(typeof m=="function"){var g=m(t,o,s);a=typeof g=="string"?g:""}else this.logger.warn("missed to pass in variable ".concat(o[1]," for interpolating ").concat(t)),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=_b(a));if(a=this.escapeValue?f(this.escape(a)):f(a),t=t.replace(o[0],a),this.regexp.lastIndex=0,u++,u>=this.maxReplaces)break}return t}},{key:"nest",value:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,l,o=Ks({},r);o.applyPostProcessor=!1,delete o.defaultValue;function a(u,c){if(u.indexOf(",")<0)return u;var f=u.split(",");u=f.shift();var d=f.join(",");d=this.interpolate(d,o),d=d.replace(/'/g,'"');try{o=JSON.parse(d),c&&(o=Ks({},c,o))}catch(m){this.logger.error("failed parsing options string in nesting for key ".concat(u),m)}return delete o.defaultValue,u}for(;s=this.nestingRegexp.exec(t);){if(l=n(a.call(this,s[1].trim(),o),o),l&&s[0]===t&&typeof l!="string")return l;typeof l!="string"&&(l=_b(l)),l||(this.logger.warn("missed to resolve ".concat(s[1]," for nesting ").concat(t)),l=""),t=t.replace(s[0],l),this.regexp.lastIndex=0}return t}}]),i}();function Eoe(i,e){for(var t=i.indexOf(e);t!==-1;)i.splice(t,1),t=i.indexOf(e)}var Coe=function(i){i0(e,i);function e(t,n,r){var s,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return tu(this,e),s=rp(this,qd(e).call(this)),Wu.call(of(s)),s.backend=t,s.store=n,s.services=r,s.languageUtils=r.languageUtils,s.options=l,s.logger=Wa.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(r,l.backend,l),s}return nu(e,[{key:"queueLoad",value:function(n,r,s,l){var o=this,a=[],u=[],c=[],f=[];return n.forEach(function(d){var m=!0;r.forEach(function(p){var g="".concat(d,"|").concat(p);!s.reload&&o.store.hasResourceBundle(d,p)?o.state[g]=2:o.state[g]<0||(o.state[g]===1?u.indexOf(g)<0&&u.push(g):(o.state[g]=1,m=!1,u.indexOf(g)<0&&u.push(g),a.indexOf(g)<0&&a.push(g),f.indexOf(p)<0&&f.push(p)))}),m||c.push(d)}),(a.length||u.length)&&this.queue.push({pending:u,loaded:{},errors:[],callback:l}),{toLoad:a,pending:u,toLoadLanguages:c,toLoadNamespaces:f}}},{key:"loaded",value:function(n,r,s){var l=n.split("|"),o=Z3(l,2),a=o[0],u=o[1];r&&this.emit("failedLoading",a,u,r),s&&this.store.addResourceBundle(a,u,s),this.state[n]=r?-1:2;var c={};this.queue.forEach(function(f){poe(f.loaded,[a],u),Eoe(f.pending,n),r&&f.errors.push(r),f.pending.length===0&&!f.done&&(Object.keys(f.loaded).forEach(function(d){c[d]||(c[d]=[]),f.loaded[d].length&&f.loaded[d].forEach(function(m){c[d].indexOf(m)<0&&c[d].push(m)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(n,r,s){var l=this,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:250,u=arguments.length>5?arguments[5]:void 0;return n.length?this.backend[s](n,r,function(c,f){if(c&&f&&o<5){setTimeout(function(){l.read.call(l,n,r,s,o+1,a*2,u)},a);return}u(c,f)}):u(null,{})}},{key:"prepareLoading",value:function(n,r){var s=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();typeof n=="string"&&(n=this.languageUtils.toResolveHierarchy(n)),typeof r=="string"&&(r=[r]);var a=this.queueLoad(n,r,l,o);if(!a.toLoad.length)return a.pending.length||o(),null;a.toLoad.forEach(function(u){s.loadOne(u)})}},{key:"load",value:function(n,r,s){this.prepareLoading(n,r,{},s)}},{key:"reload",value:function(n,r,s){this.prepareLoading(n,r,{reload:!0},s)}},{key:"loadOne",value:function(n){var r=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=n.split("|"),o=Z3(l,2),a=o[0],u=o[1];this.read(a,u,"read",null,null,function(c,f){c&&r.logger.warn("".concat(s,"loading namespace ").concat(u," for language ").concat(a," failed"),c),!c&&f&&r.logger.log("".concat(s,"loaded namespace ").concat(u," for language ").concat(a),f),r.loaded(n,c,f)})}},{key:"saveMissing",value:function(n,r,s,l,o){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn('did not save key "'.concat(s,'" for namespace "').concat(r,'" as the namespace was not yet loaded'),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}this.backend&&this.backend.create&&this.backend.create(n,r,s,l,null,Ks({},a,{isUpdate:o})),!(!n||!n[0])&&this.store.addResource(n[0],r,s,l)}}]),e}(Wu);function Doe(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if(mo(e[1])==="object"&&(t=e[1]),typeof e[1]=="string"&&(t.defaultValue=e[1]),typeof e[2]=="string"&&(t.tDescription=e[2]),mo(e[2])==="object"||mo(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(r){t[r]=n[r]})}return t},interpolation:{escapeValue:!0,format:function(e,t,n){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function Q3(i){return typeof i.ns=="string"&&(i.ns=[i.ns]),typeof i.fallbackLng=="string"&&(i.fallbackLng=[i.fallbackLng]),typeof i.fallbackNS=="string"&&(i.fallbackNS=[i.fallbackNS]),i.whitelist&&i.whitelist.indexOf("cimode")<0&&(i.whitelist=i.whitelist.concat(["cimode"])),i}function J_(){}var Soe=function(i){i0(e,i);function e(){var t,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(tu(this,e),t=rp(this,qd(e).call(this)),Wu.call(of(t)),t.options=Q3(n),t.services={},t.logger=Wa,t.modules={external:[]},r&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,r),rp(t,of(t));setTimeout(function(){t.init(n,r)},0)}return t}return nu(e,[{key:"init",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;typeof r=="function"&&(s=r,r={}),this.options=Ks({},Doe(),this.options,Q3(r)),this.format=this.options.interpolation.format,s||(s=J_);function l(d){return d?typeof d=="function"?new d:d:null}if(!this.options.isClone){this.modules.logger?Wa.init(l(this.modules.logger),this.options):Wa.init(null,this.options);var o=new boe(this.options);this.store=new voe(this.options.resources,this.options);var a=this.services;a.logger=Wa,a.resourceStore=this.store,a.languageUtils=o,a.pluralResolver=new $oe(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),a.interpolator=new Foe(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new Coe(l(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(d){for(var m=arguments.length,p=new Array(m>1?m-1:0),g=1;g<m;g++)p[g-1]=arguments[g];n.emit.apply(n,[d].concat(p))}),this.modules.languageDetector&&(a.languageDetector=l(this.modules.languageDetector),a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=l(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new J3(this.services,this.options),this.translator.on("*",function(d){for(var m=arguments.length,p=new Array(m>1?m-1:0),g=1;g<m;g++)p[g-1]=arguments[g];n.emit.apply(n,[d].concat(p))}),this.modules.external.forEach(function(d){d.init&&d.init(n)})}var u=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];u.forEach(function(d){n[d]=function(){var m;return(m=n.store)[d].apply(m,arguments)}});var c=hm(),f=function(){n.changeLanguage(n.options.lng,function(m,p){n.isInitialized=!0,n.logger.log("initialized",n.options),n.emit("initialized",n.options),c.resolve(p),s(m,p)})};return this.options.resources||!this.options.initImmediate?f():setTimeout(f,0),c}},{key:"loadResources",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:J_;if(!this.options.resources||this.options.partialBundledLanguages){if(this.language&&this.language.toLowerCase()==="cimode")return r();var s=[],l=function(u){if(!!u){var c=n.services.languageUtils.toResolveHierarchy(u);c.forEach(function(f){s.indexOf(f)<0&&s.push(f)})}};if(this.language)l(this.language);else{var o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.forEach(function(a){return l(a)})}this.options.preload&&this.options.preload.forEach(function(a){return l(a)}),this.services.backendConnector.load(s,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(n,r,s){var l=hm();return n||(n=this.languages),r||(r=this.options.ns),s||(s=J_),this.services.backendConnector.reload(n,r,function(o){l.resolve(),s(o)}),l}},{key:"use",value:function(n){return n.type==="backend"&&(this.modules.backend=n),(n.type==="logger"||n.log&&n.warn&&n.error)&&(this.modules.logger=n),n.type==="languageDetector"&&(this.modules.languageDetector=n),n.type==="i18nFormat"&&(this.modules.i18nFormat=n),n.type==="postProcessor"&&aR.addPostProcessor(n),n.type==="3rdParty"&&this.modules.external.push(n),this}},{key:"changeLanguage",value:function(n,r){var s=this,l=hm();this.emit("languageChanging",n);var o=function(c,f){s.translator.changeLanguage(f),f&&(s.emit("languageChanged",f),s.logger.log("languageChanged",f)),l.resolve(function(){return s.t.apply(s,arguments)}),r&&r(c,function(){return s.t.apply(s,arguments)})},a=function(c){c&&(s.language=c,s.languages=s.services.languageUtils.toResolveHierarchy(c),s.translator.language||s.translator.changeLanguage(c),s.services.languageDetector&&s.services.languageDetector.cacheUserLanguage(c)),s.loadResources(function(f){o(f,c)})};return!n&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!n&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(a):a(n),l}},{key:"getFixedT",value:function(n,r){var s=this,l=function o(a,u){var c;if(mo(u)!=="object"){for(var f=arguments.length,d=new Array(f>2?f-2:0),m=2;m<f;m++)d[m-2]=arguments[m];c=s.options.overloadTranslationOptionHandler([a,u].concat(d))}else c=Ks({},u);return c.lng=c.lng||o.lng,c.lngs=c.lngs||o.lngs,c.ns=c.ns||o.ns,s.t(a,c)};return typeof n=="string"?l.lng=n:l.lngs=n,l.ns=r,l}},{key:"t",value:function(){var n;return this.translator&&(n=this.translator).translate.apply(n,arguments)}},{key:"exists",value:function(){var n;return this.translator&&(n=this.translator).exists.apply(n,arguments)}},{key:"setDefaultNamespace",value:function(n){this.options.defaultNS=n}},{key:"hasLoadedNamespace",value:function(n){var r=this;if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=this.languages[0],l=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var a=function(c,f){var d=r.services.backendConnector.state["".concat(c,"|").concat(f)];return d===-1||d===2};return!!(this.hasResourceBundle(s,n)||!this.services.backendConnector.backend||a(s,n)&&(!l||a(o,n)))}},{key:"loadNamespaces",value:function(n,r){var s=this,l=hm();return this.options.ns?(typeof n=="string"&&(n=[n]),n.forEach(function(o){s.options.ns.indexOf(o)<0&&s.options.ns.push(o)}),this.loadResources(function(o){l.resolve(),r&&r(o)}),l):(r&&r(),Promise.resolve())}},{key:"loadLanguages",value:function(n,r){var s=hm();typeof n=="string"&&(n=[n]);var l=this.options.preload||[],o=n.filter(function(a){return l.indexOf(a)<0});return o.length?(this.options.preload=l.concat(o),this.loadResources(function(a){s.resolve(),r&&r(a)}),s):(r&&r(),Promise.resolve())}},{key:"dir",value:function(n){if(n||(n=this.languages&&this.languages.length>0?this.languages[0]:this.language),!n)return"rtl";var r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return r.indexOf(this.services.languageUtils.getLanguagePartFromCode(n))>=0?"rtl":"ltr"}},{key:"createInstance",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new e(n,r)}},{key:"cloneInstance",value:function(){var n=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:J_,l=Ks({},this.options,r,{isClone:!0}),o=new e(l),a=["store","services","language"];return a.forEach(function(u){o[u]=n[u]}),o.translator=new J3(o.services,o.options),o.translator.on("*",function(u){for(var c=arguments.length,f=new Array(c>1?c-1:0),d=1;d<c;d++)f[d-1]=arguments[d];o.emit.apply(o,[u].concat(f))}),o.init(l,s),o.translator.options=o.options,o}}]),e}(Wu),e4=new Soe;const Toe={translation:{general:{"whats-up":"Come va?",date:"Data",location:"Posizione",remove:"Rimuovi",error:"Errore",all:"Tutto",sum:"Somma",avg:"Media",min:"Min",max:"Max",save:"Salva",saved:"Salvato",delete:"Elimina",cancel:"Annulla",show:"Mostra",done:"Fatto",hide:"Nascondi",customize:"Personalizza",start:"Inizio",end:"Fine",set:"Imposta",edit:"Modifica",created:"Creato",local:"Locale",finished:"Finito",cloud:"Cloud",search:"Cerca","delete-from-nomie":"Elimina {{thing}} da Nomie?","learn-more":"Scopri di pi\xF9","open-source":"Open Source",version:"Versione",questions:"Domande?",faq:"FAQ","continue-question":"Continua?",loading:"Caricamento...",day:"Giorno",month:"Mese",year:"Anno",map:"Mappa",time:"Orario",close:"Chiudi"},stats:{when:"Quando",chart:"Grafico",where:"Dove",streak:"Serie",logs:"Registro","all-logs":"Tutti i registri"},tabs:{track:"Track",history:"Storico",settings:"Impostazioni",plugins:"Plugin",people:"Persone",dash:"Dash"},history:{"no-records-found":"Nessun elemento trovato"},export:{csv:{download:"Scarica CSV...",description:"Esporta i dati dei tuoi tracker in CSV. \xC8 supportato solo un anno alla volta. Tieni presente che le esportazioni in CSV non possono essere reimportate in Nomie al momento. "},backup:{description:"Crea un file di backup importabile. Questo ti permette di trasferire i tuoi dati da un dispositivo all'altro usando un unico file JSON che contiene TUTTI i tuoi dati di Nomie.",download:"Scarica file di backup..."}},board:{"board-empty":"Sembra sia vuoto!","edit-board":"Modifica scheda","board-label":"Etichetta della scheda","create-custom-tracker":"Crea tracker","add-existing-tracker":"Aggiungi tracker esistente","browse-starter-trackers":"Sfoglia catalogo","add-a-board":"Aggiungi una scheda","add-a-board-description":"Le schede ti aiutano ad organizzare i tracker. Per esempio: socialit\xE0, cibo, esercizio fisico possono contenere tracker specifici per tali attivit\xE0. Puoi avere lo stesso tracker su pi\xF9 schede.","board-input-placeholder":"Nome scheda o emoji \u{1F44D}"},settings:{language:"Lingua","sign-out":"Disconnettiti","enable-boards":"Abilita schede",settings:"Impostazioni",theme:"Tema","use-location":"Monitora posizione","dark-mode":"Modalit\xE0 scura","require-pin":"Richiedi PIN","24-hour-clock":"Orologio 24 ore",data:"Dati","nomie-api":"API Nomie","import-from-backup":"Importa da backup","generate-backup":"Genera backup","generate-csv":"Genera CSV","find-and-replace":"Trova e sostituisci",storage:"Archiviazione","use-local":"Passa a locale","use-cloud":"Passa a cloud","first-book":"Prima voce","about-nomie":"Riguardo Nomie","export-confirm":`Questa operazione potrebbe richiedere un paio di minuti. 
            Se hai molti dati, pu\xF2 sembrare che il processo si sia bloccato. 
            Sii paziente.`,"export-complete":"Esportazione completata!","switch-to-cloud-notice":`I dati non sono spostati automaticamente nel cloud.
            Devi prima esportare i tuoi dati locali, poi importarli quando il cambio \xE8 completato. 
            Puoi sempre tornare indietro`,"switch-to-cloud-confirm":"Passare a Blockstack?","switch-to-local-notice":`I dati non sono spostati automaticamente DAL cloud.
            Devi prima esportare i tuoi dati, poi importarli quando il cambio \xE8 completato. 
            Puoi sempre tornare indietro`,"switch-to-local-confirm":"Passare a locale?","pin-details":"Inserisci un PIN da 1 a 6 cifre","aggressive-sync":"Sicronizzazione aggressiva","aggressive-description":`Usi Nomie su pi\xF9 dispositivi? Abilita la sincronizzazione aggressiva
            per sincronizzare pi\xF9 frequentemente`},tracker:{"things-to-track":"Catalogo tracker","pick-at-least-one":"Aggiungi almeno un tracker per continuare...","install-tracker-question":"Installa {{tracker}}?","add-tracker":"Aggiungi tracker","edit-tracker":"Modifica tracker","tracker-selector":"Selettore tracker",label:"Etichetta",emoji:"Emoji",tag:"Tag",type:"Tipo","save-on-tap":"Salva al tocco","measure-by":"Misura con",calculate:"Calcola",count:"Conteggio",default:"Default",positivity:"Positivit\xE0","min-max":"Min/Max","note-placeholder":"#usa #gli_hashtag #che_preferisci","note-description":`Combina pi\xF9 tracker insieme usando i loro
      #hashtag. Per esempio, #mood #qualit\xE0_sonno. Nomie ti chieder\xE0
            i valori richiesti uno per uno.`,"delete-description":"Puoi sempre ricrearlo pi\xF9 tardi. I dati storici non verranno cancellati."}}},Aoe={translation:{general:{"whats-up":"\u6709\u4EC0\u4E48\u65B0\u9C9C\u4E8B\uFF1F",date:"\u65E5\u671F",location:"\u4F4D\u7F6E",remove:"\u5220\u9664",all:"\u5168\u90E8",sum:"\u603B\u548C",avg:"\u5E73\u5747\u6570",min:"\u6700\u5C0F\u503C",max:"\u6700\u5927\u503C",save:"\u4FDD\u5B58",cancel:"\u53D6\u6D88",show:"\u663E\u793A",done:"\u5B8C\u6210",hide:"\u9690\u85CF",customize:"\u81EA\u5B9A\u4E49",start:"\u5F00\u59CB",end:"\u7ED3\u675F",set:"\u8BBE\u5B9A",edit:"\u7F16\u8F91",created:"\u521B\u5EFA",local:"\u672C\u5730",finished:"\u5DF2\u5B8C\u6210",cloud:"\u4E91\u7AEF",search:"\u641C\u7D22","delete-from-nomie":"\u4ECE Nomie \u5220\u9664 {{thing}}\uFF1F","learn-more":"\u4E86\u89E3\u8BE6\u60C5","open-source":"\u5F00\u6E90",version:"\u7248\u672C",questions:"\u95EE\u9898\uFF1F",faq:"\u5E38\u89C1\u95EE\u9898","continue-question":"\u786E\u8BA4\u7EE7\u7EED\uFF1F",loading:"\u52A0\u8F7D\u4E2D..."},tabs:{track:"\u8BB0\u5F55",history:"\u5386\u53F2",settings:"\u8BBE\u7F6E",plugins:"\u63D2\u4EF6",people:"\u4EBA",dash:"\u4EEA\u8868\u677F"},history:{"no-records-found":"\u6CA1\u6709\u627E\u5230\u4EFB\u4F55\u8BB0\u5F55"},export:{csv:{download:"\u4E0B\u8F7D CSV...",description:"Export your individual tracker data to CSV. Only one year at a time is supported. Please note, that CSV exports cannot currently be imported back into Nomie. "},backup:{description:"Create an importable backup file. This allows you to transfer your data from one device to another using a single JSON file that contains ALL of you Nomie data.",download:"\u4E0B\u8F7D\u5907\u4EFD\u6587\u4EF6..."}},board:{"board-empty":"\u8FD9\u91CC\u4EC0\u4E48\u90FD\u6CA1\u6709\uFF01","edit-board":"\u7F16\u8F91\u6807\u7B7E\u9875","board-label":"\u6807\u7B7E\u9875\u540D\u79F0","create-custom-tracker":"\u65B0\u5EFA\u8BB0\u5F55\u5668","add-existing-tracker":"\u6DFB\u52A0\u73B0\u6709\u8BB0\u5F55\u5668","browse-starter-trackers":"\u6D4F\u89C8\u8BB0\u5F55\u5668\u5E93","add-a-board":"\u65B0\u5EFA\u6807\u7B7E\u9875","add-a-board-description":"Tabs help you organize your trackers. For example: social, food, and fitness can contain trackers specifically for those activies. You can have the same tracker on multiple tabs.","board-input-placeholder":"\u6807\u7B7E\u9875\u540D\u79F0\u6216 Emoji \u{1F44D}"},settings:{"sign-out":"\u767B\u51FA","enable-boards":"\u8BB0\u5F55\u5668\u6807\u7B7E\u9875",settings:"\u8BBE\u7F6E","use-location":"\u4F7F\u7528\u4F4D\u7F6E\u4FE1\u606F","dark-mode":"\u6DF1\u8272\u6A21\u5F0F","require-pin":"\u4F7F\u7528\u5BC6\u7801","24-hour-clock":"24 \u5C0F\u65F6\u5236",data:"\u65E5\u671F","nomie-api":"Nomie API","import-from-backup":"\u5BFC\u5165\u5907\u4EFD","generate-backup":"\u5BFC\u51FA\u5907\u4EFD","generate-csv":"\u5BFC\u51FA\u4E3A CSV","find-and-replace":"\u67E5\u627E\u548C\u66FF\u6362",storage:"\u50A8\u5B58","use-local":"\u5207\u6362\u5230\u672C\u5730","use-cloud":"\u5207\u6362\u5230\u4E91\u7AEF","first-book":"\u7B2C\u4E00\u4EFD\u8BB0\u5F55","about-nomie":"\u5173\u4E8E Nomie","export-confirm":`This process might take a couple minutes. 
            If you have a lot of data, it will seem like it gets hung up. 
            Have patience.`,"export-complete":"\u5BFC\u51FA\u5B8C\u6210\uFF01","switch-to-cloud-notice":`Data is not automatically migrated to the cloud.
            You should export your local data first, then import it once the switch is complete. 
            You can always switch back`,"switch-to-cloud-confirm":"\u5207\u6362\u5230 Blockstack \u50A8\u5B58\uFF1F","switch-to-local-notice":`Data is not automatically migrated FROM the cloud.
            You should export your data first, then import it once the switch is complete. 
            You can always switch back`,"switch-to-local-confirm":"\u5207\u6362\u5230\u672C\u5730\u50A8\u5B58\uFF1F","pin-details":"\u8BF7\u8F93\u5165 1 \u5230 6 \u4F4D\u7684\u6570\u5B57","aggressive-sync":"\u5F3A\u5236\u540C\u6B65","aggressive-description":"\u5728\u591A\u4E2A\u8BBE\u5907\u4E0A\u540C\u65F6\u4F7F\u7528 Nomie \u65F6\uFF0C\u6253\u5F00\u5F3A\u5236\u540C\u6B65\u6765\u589E\u52A0\u540C\u6B65\u9891\u7387"},tracker:{"things-to-track":"\u9700\u8981\u8BB0\u5F55\u7684\u4E8B\u60C5","install-tracker-question":"\u5B89\u88C5 {{tracker}}\uFF1F","add-tracker":"\u6DFB\u52A0\u8BB0\u5F55\u5668","edit-tracker":"\u7F16\u8F91\u8BB0\u5F55\u5668",label:"\u540D\u79F0",emoji:"Emoji",tag:"\u6807\u7B7E",type:"\u79CD\u7C7B","save-on-tap":"\u70B9\u51FB\u5373\u4FDD\u5B58","measure-by":"\u7EDF\u8BA1\u5355\u4F4D",calculate:"\u8BA1\u7B97",count:"\u4E2A\u6570",default:"\u9ED8\u8BA4",positivity:"\u79EF\u6781\u6027","min-max":"\u6700\u5C0F\u503C/\u6700\u5927\u503C","note-placeholder":"#any #tracker #hashtags","note-description":`Combine multiple trackers together using their
            #hashtags. For example, #mood #sleep_quality. Nomie will then ask
            for values one by one.`,"delete-description":"You can always recreate it later. No historic data will be deleted deleted."}}},Poe={name:"base",author:"Brandon",translation:{settings:{"pin-required":"Nomie","pin-invalid":"Nomie","danger-zone":"Nomie","delete-warning":"Nomie",destroy:"Nomie","delete-warning-again":"Nomie","deleting-data":"Nomie",settings:"Nomie","tab-features":"Nomie","tab-tweaks":"Nomie","tab-data":"Nomie","tab-about":"Nomie","patron-official":"Nomie","become-a-patron":"Nomie","patron-description":"Nomie","patron-unlock":"Nomie","patron-join-now":"Nomie","storage-location":"Nomie","import-data":"Nomie","nomie-api":"Nomie","import-from-backup":"Nomie","import-from-csv":"Nomie","export-data":"Nomie","generate-backup":"Nomie","generate-csv":"Nomie","hide-backup-reminder":"Nomie",miscellaneous:"Nomie","update-last-used-date":"Nomie","destroy-all-data":"Nomie","join-the-community":"Nomie","redo-setup":"Nomie","export-title":"Nomie","export-confirm":"Nomie","export-complete":"Nomie",sunday:"Nomie",monday:"Nomie",theme:"Nomie",theme_accent:"Nomie","base-font-size":"Nomie","small-tracker-buttons":"Nomie","hide-tab-labels":"Nomie",locale:"Nomie","first-day-of-week":"Nomie",sun:"Nomie",mon:"Nomie",language:"Nomie","24-hour-clock":"Nomie","translate-nomie":"Nomie","pin-details":"Nomie","confirm-pin":"Nomie","pins-do-not-match":"Nomie","feature-people-tracking":"Nomie","feature-people-description":"Nomie","feature-dashboard":"Nomie","feature-dashboard-description":"Nomie","use-location":"Nomie","use-location-description":"Nomie","require-pin":"Nomie","require-pin-description":"Nomie","set-pin":"Nomie","enable-advanced-buttons":"Nomie","pin-requirements":"Nomie","select-nomie-backup":"Nomie","sign-out":"Nomie","allow-file-editing":"Nomie","find-and-replace":"Nomie"},tracker:{stats:"Nomie",streak:"Nomie","edit-tracker":"Nomie","duplication-complete":"Nomie","edit-tracker-now":"Nomie","update-all-tracker-last-used":"Nomie",type:"Nomie",positivity:"Nomie",neutral:"Nomie",positive:"Nomie",negative:"Nomie","add-condition":"Nomie","create-condition":"Nomie","delete-from-nomie":"Nomie","delete-description":"Nomie",label:"Nomie","tracker-type":"Nomie","save-on-tap":"Nomie","save-on-tap-description":"Nomie",min:"Nomie",max:"Nomie","note-placeholder":"Nomie","note-description":"Nomie",step:"Nomie","measure-by":"Nomie","calculate-total":"Nomie",value:"Nomie","default-value":"Nomie",include:"Nomie","include-placeholder":"Nomie","hide-on-all-board":"Nomie","duplicate-tracker":"Nomie","remove-tracker":"Nomie","things-to-track":"Nomie","pick-at-least-one":"Nomie","add-tracker":"Nomie"},general:{error:"Nomie",loading:"Nomie","update-complete":"Nomie",edit:"Nomie","on-this-day":"Nomie","copy-to-clipboard":"Nomie","share-as-image":"Nomie",delete:"Nomie",ok:"Nomie",cancel:"Nomie",duplicate:"Nomie",faq:"Nomie",latest:"Nomie",change:"Nomie","browse-files":"Nomie",type:"Nomie","tracker-count":"Nomie",first_log:"Nomie","launch-count":"Nomie",device:"Nomie",platform:"Nomie",pwa:"Nomie",questions:"Nomie",supporters:"Nomie",success:"Nomie",failure:"Nomie",saving:"Nomie",accept:"Nomie","select-date":"Nomie","no-results":"Nomie","all-trackers":"Nomie",start:"Nomie",end:"Nomie",beta:"Nomie",done:"Nomie",saved:"Nomie",save:"Nomie","tracker-selector":"Nomie",close:"Nomie",customize:"Nomie",select:"Nomie",stop:"Nomie",notice:"Nomie",sum:"Nomie",avg:"Nomie",download:"Nomie",total:"Nomie",average:"Nomie",score:"Nomie",home:"Nomie",map:"Nomie",logs:"Nomie","search-for":"Nomie",options:"Nomie",today:"Nomie",goto:"Nomie",style:"Nomie",disable:"Nomie",history:"Nomie",trackers:"Nomie",people:"Nomie",notes:"Nomie",locations:"Nomie",context:"Nomie","no-favorites-found":"Nomie","edit-log":"Nomie",positivity:"Nomie",note:"Nomie",where:"Nomie",when:"Nomie",boards:"Nomie",dashboards:"Nomie",finished:"Nomie",setup:"Nomie",more:"Nomie","trackable-item":"Nomie",remove:"Nomie",widget:"Nomie",update:"Nomie","add-a-tracker":"Nomie","import-from-file":"Nomie","delete-from-nomie":"Nomie","no-known-backups":"Nomie","backup-now":"Nomie","error-connecting":"Nomie",search:"Nomie","save-list-edits":"Nomie",journal:"Nomie","whats-up":"Nomie",location:"Nomie",back:"Nomie"},locations:{"select-a-location":"Nomie"},dashboard:{"edit-widget":"Nomie","small-widget":"Nomie","medium-widget":"Nomie","large-widget":"Nomie","move-tabs":"Nomie","delete-widget":"Nomie","widget-options":"Nomie","select-a-widget":"Nomie","widget-under-value-color":"Nomie","widget-over-value-color":"Nomie","add-a-widget":"Nomie","add-tab":"Nomie",options:"Nomie","select-dashboard-to-move-widget":"Nomie","empty-message":"Nomie","widget-editor":"Nomie"},storage:{local_title:"Nomie",local_description:"Nomie",blockstack_title:"Nomie",pouchdb_title:"Nomie",type_selector_title:"Nomie",pouchdb:"Nomie",blockstack:"Nomie"},people:{"person-name":"Nomie","empty-message":"Nomie","add-a-person":"Nomie","check-in":"Nomie"},tabs:{people:"Nomie",history:"Nomie",dashboard:"Nomie",track:"Nomie",settings:"Nomie"},"nomie-api":{"generate-api-key":"Nomie","manually-set-keys":"Nomie","clear-remaining":"Nomie","no-recent-logs-capture":"Nomie","auto-accept":"Nomie","auto-import-description":"Nomie","api-key":"Nomie","api-key-copied":"Nomie","private-key":"Nomie","private-key-copied":"Nomie","example-request":"Nomie",fields:"Nomie","forget-api":"Nomie","destroy-api":"Nomie"},history:{"go-to-today":"Nomie","empty-day":"Nomie"},export:{"csv-description":"Nomie","csv-download":"Nomie","backup-description":"Nomie","backup-download":"Nomie"},"csv-import":{"saved-templates":"Nomie","select-csv-file":"Nomie","map-fields":"Nomie","compose-note":"Nomie"},positivity:{"sort-message":"Nomie"},stats:{"daily-average":"Nomie",range:"Nomie",compare:"Nomie",time:"Nomie",streak:"Nomie","compare-trackers":"Nomie","compare-description":"Nomie",analyze:"Nomie"},time:{"start-of-month":"Nomie","start-of-year":"Nomie","start-of-week":"Nomie"},setup:{"choose-time-format":"Nomie","choose-theme":"Nomie","pick-data-storage":"Nomie","use-location":"Nomie","choose-first-day-of-week":"Nomie"},search:{"search-trackers":"Nomie","previous-searches":"Nomie","search-people":"Nomie","no-results":"Nomie","search-history":"Nomie"},"on-this-day":{"no-notes":"Nomie","no-people":"Nomie","no-context":"Nomie"},location:{"saved-locations":"Nomie","unable-to-get-your-location":"Nomie","pick-a-location":"Nomie","use-current-location":"Nomie",locating:"Nomie"},import:{"import-all":"Nomie",import:"Nomie"},board:{"edit-sort":"Nomie","create-new-board":"Nomie","board-options":"Nomie","add-existing-tracker":"Nomie","create-custom-tracker":"Nomie","browse-starter-trackers":"Nomie","add-a-board":"Nomie","board-input-placeholder":"Nomie","last-used":"Nomie","sort-tabs":"Nomie"},picker:{title:"Nomie"},theme:{light:"Nomie",dark:"Nomie",auto:"Nomie"}}},Noe={name:"base",author:"Brandon",translation:{settings:{"pin-required":"Pin Required","pin-invalid":"Invalid Pin, try again","danger-zone":"Danger Zone","delete-warning":"This will destroy ALL data in Nomie. Are you absolutely sure?",destroy:"Destroy","delete-warning-again":"So you REALLY want all ALL data in Nomie destroyed?","deleting-data":"Deleting data...",settings:"Settings","tab-features":"Features","tab-tweaks":"Tweaks","tab-data":"Data","tab-about":"About","patron-official":"Official Nomie Patron","become-a-patron":"Become a Patron","patron-description":"Starting at $2/mon for early features, exclusive content, and support.","patron-unlock":"Unlock","patron-join-now":"Join Now","storage-location":"Storage Location","import-data":"Import Data","nomie-api":"Nomie API","import-from-backup":"Import from Backup","import-from-csv":"Import from CSV","export-data":"Export Data","generate-backup":"Generate Backup","generate-csv":"Generate CSV","hide-backup-reminder":"Hide backup reminder",miscellaneous:"Miscellaneous","update-last-used-date":"Update Usage and Streak Data","destroy-all-data":"Destroy all Data","join-the-community":"Join the Community","redo-setup":"Redo Setup","export-title":"Generate a Backup","export-confirm":"Depending on how long much data you have, this might take a while.","export-complete":"Export Complete",sunday:"Sunday",monday:"Monday",theme:"Theme",theme_accent:"Accent","base-font-size":"Text Size","small-tracker-buttons":"Compact Trackers","hide-tab-labels":"Hide bottom tab labels",locale:"Locale","first-day-of-week":"Week Starts On",sun:"Sun",mon:"Mon",language:"Language","24-hour-clock":"24 hour clock","translate-nomie":"Help Translate Nomie","pin-details":"Set your Pin","confirm-pin":"Confirm Pin","pins-do-not-match":"Pins do not match","feature-people-tracking":"People Tracking","feature-people-description":"Keep track of those you interact with the most","feature-dashboard":"Personal Dashboard","feature-dashboard-description":"A dedicated tab for creating custom views of your data","use-location":"Track Location","use-location-description":"Lookup location each time you save a log","require-pin":"Require Access Pin","require-pin-description":"Require a pin to launch Nomie. Don't forget it!","set-pin":"Set Lock Pin","enable-advanced-buttons":"Advanced Tracker Buttons","pin-requirements":"1 to 6 digits","select-nomie-backup":"Select Nomie Backup...","sign-out":"Sign Out","allow-file-editing":"Allow file editing","find-and-replace":"Find and Replace"},tracker:{stats:"Stats",streak:"Streak","edit-tracker":"Edit Tracker","duplication-complete":"Duplication Complete","edit-tracker-now":"Would you like to edit the new tracker?","update-all-tracker-last-used":"Update last used dates on all trackers?",type:"Tally",positivity:"Positivity",neutral:"Neutral",positive:"Positive",negative:"Negative","add-condition":"Add Rule","create-condition":"New Positivity Rule...","delete-from-nomie":"Delete from Nomie?","delete-description":"You can always recreate it later. No log data will be deleted.",label:"Tracker Label","tracker-type":"Tracker Type","save-on-tap":"Save on Tap","save-on-tap-description":"Save note immediately after tapping the button.",min:"Min Value",max:"Max Value","note-placeholder":"Any content including #tracker @people +context","note-description":"Combine multiple trackers together using their #hashtags. For example, #mood #sleep_quality. Nomie will then ask for values one by one.",step:"Range Step","measure-by":"Measure By","calculate-total":"Calculate Totals",value:"Default Value","default-value":"Default Value",include:"Also Include","include-placeholder":"Insert additional #trackers, @people, and +context when using this tracker","hide-on-all-board":"Hide on All Board","duplicate-tracker":"Duplicate Tracker","remove-tracker":"Delete Tracker","things-to-track":"Things to Track","pick-at-least-one":"Pick at least 1 to continue","add-tracker":"Add Tracker"},general:{error:"Error",loading:"Loading...","update-complete":"Update complete",edit:"Edit","on-this-day":"On this Day","copy-to-clipboard":"Copy to Clipboard","share-as-image":"Share as Image",delete:"Delete",ok:"Ok",cancel:"Cancel",duplicate:"Duplicate",faq:"FAQ",latest:"Latest",change:"Change","browse-files":"Browse Files...",type:"Finding old data","tracker-count":"Tracker Count",first_log:"First Log","launch-count":"Launch Count",device:"Device",platform:"Platform",pwa:"PWA",questions:"Questions",supporters:"Supporters",success:"Success",failure:"Failure",saving:"Saving",accept:"Accept","select-date":"Select Date","no-results":"No results","all-trackers":"All Trackers",start:"Start",end:"End",beta:"Beta",done:"Done",saved:"Saved",save:"Save","tracker-selector":"Tracker Selector",close:"Close",customize:"Custom",select:"Select",stop:"Stop",notice:"Notice",sum:"Sum",avg:"Average",download:"Download",total:"Total",average:"Average",score:"Score",home:"Home",map:"Map",logs:"Logs","search-for":"Search For",options:"Options",today:"Today",goto:"Go to...",style:"Style",disable:"Disable",history:"History",trackers:"Trackers",people:"People",notes:"Notes",locations:"Locations",context:"Context","no-favorites-found":"No Favorites Found","edit-log":"Edit Record",positivity:"Positivity",note:"Note",where:"Where",when:"When",boards:"Boards",dashboards:"Dashboards",finished:"Finished",setup:"Setup",more:"More","trackable-item":"Trackable Item",remove:"Remove",widget:"widget",update:"Update","add-a-tracker":"Add a Tracker","import-from-file":"Import from File","delete-from-nomie":"Delete from Nomie?","no-known-backups":"No recent backups","backup-now":"Backup Now","error-connecting":"Error Connecting",search:"Search","save-list-edits":"Save List Edits",journal:"Journal","whats-up":"What's up?",location:"Location",back:"Back"},locations:{"select-a-location":"Select a Location"},dashboard:{"edit-widget":"Edit Widget","small-widget":"Small Widget","medium-widget":"Medium Widget","large-widget":"Large Widget","move-tabs":"Move Tabs","delete-widget":"Delete Widget","widget-options":"Widget Options","select-a-widget":"Select a Widget","widget-under-value-color":"Under value color","widget-over-value-color":"Over value color","add-a-widget":"Add a Widget...","add-tab":"Add a Dashboard Tab...",options:"Dashboard Options","select-dashboard-to-move-widget":"Move widget to which dashboard?","empty-message":"Fill in the blanks with different charts, statistics, and other widgets to build your own personalized picture of your life.","widget-editor":"Widget Editor"},storage:{local_title:"This Device Only",local_description:"Good for getting started, but make sure you backup your data.",blockstack_title:"Blockstack",pouchdb_title:"CouchDB (beta)",type_selector_title:"Storage Options",pouchdb:"Local + CouchDB",blockstack:"Blockstack"},people:{"person-name":"Person Name","empty-message":"Track & monitor how you interact with your friends and family","add-a-person":"Add a Person...","check-in":"Check-in"},tabs:{people:"People",history:"History",dashboard:"Dash",track:"Track",settings:"Settings"},"nomie-api":{"generate-api-key":"Generate API Key...","manually-set-keys":"Manually set API/Private Key...","clear-remaining":"Clear Remaining","no-recent-logs-capture":"No Recent Logs Captured","auto-accept":"Auto Accept","auto-import-description":"Auto import API logs when Nomie launches","api-key":"API Key","api-key-copied":"API Key Copied","private-key":"Private Key","private-key-copied":"Private Key Copied","example-request":"Example Request",fields:"Fields","forget-api":"Forget API Key...","destroy-api":"Destroy API Key..."},history:{"go-to-today":"Go to Today","empty-day":"No data was found"},export:{"csv-description":"Export individual tracker data to CSV. Only one year at a time is supported.","csv-download":"Download CSV...","backup-description":"Create an importable backup file. This allows you to transfer your data from one device to another using a single file (JSON) that contains ALL your Nomie data.","backup-download":"Download Backup"},"csv-import":{"saved-templates":"Saved Templates","select-csv-file":"Select CSV File...","map-fields":"Map Fields","compose-note":"Compose a note for this CSV data"},positivity:{"sort-message":"First true wins"},stats:{"daily-average":"Daily Average",range:"Range",compare:"Relate",time:"Time",streak:"Streak","compare-trackers":"Compare Trackers","compare-description":"Find potentially related trackers either automatically, or by selecting manually.",analyze:"Auto"},time:{"start-of-month":"Start of month","start-of-year":"Start of year","start-of-week":"Start of week"},setup:{"choose-time-format":"Which format looks right?","choose-theme":"Choose your Theme","pick-data-storage":"Choose your data's location...","use-location":"Locations","choose-first-day-of-week":"Pick first day of the week"},search:{"search-trackers":"Search Trackers...","previous-searches":"Previous Searches","search-people":"Search People...","no-results":"No results found","search-history":"Search History..."},"on-this-day":{"no-notes":"No Notes on this Day","no-people":"No People on this Day","no-context":"No Context on this Day"},location:{"saved-locations":"Saved Locations","unable-to-get-your-location":"Unable to get your location","pick-a-location":"Pick a Location","use-current-location":"Use Current Location",locating:"Locating..."},import:{"import-all":"Import All",import:"Import"},board:{"edit-sort":"Edit / Sort","create-new-board":"Add New Tab","board-options":"Tab Options","add-existing-tracker":"From Existing","create-custom-tracker":"Add New Tracker","browse-starter-trackers":"Browse Library","add-a-board":"Add a Tab","board-input-placeholder":"Tab name or Emoji \u{1F44D}","last-used":"Last used","sort-tabs":"Sort Tabs"},picker:{title:"List one item per line"},theme:{light:"Light",dark:"Dark",auto:"Auto"}}},Moe={name:"German",author:"Brandon",translation:{settings:{"pin-required":"Pin ben\xF6tigt","pin-invalid":"ung\xFCltige Pin, versuche es noch einmal","danger-zone":"Gefahrenzone","delete-warning":"Dies wird ALLE deiner Daten in Nomie vernichten. Bist du dir wirklich sicher?",destroy:"Vernichten","delete-warning-again":"Du willst also WIRKLICH deine GESAMTEN Daten in Nomie vernichten?","deleting-data":"L\xF6sche Daten...",settings:"Einstellungen","tab-features":"Features","tab-tweaks":"Anpassungen","tab-data":"Daten","tab-about":"\xDCber","patron-official":"Offizieller Nomie Patron","become-a-patron":"Werde Patron","patron-description":"ab 2$ im Monat f\xFCr fr\xFCheren Zugang zu Features, exklusive Inhalte und zu unserer Unterst\xFCtzung.","patron-unlock":"Freischalten","patron-join-now":"Tritt jetzt bei","storage-location":"Speicherort","import-data":"Importiere Daten","nomie-api":"Nomie API","import-from-backup":"Importiere Backup","import-from-csv":"Importiere CSV","export-data":"Exportiere Daten","generate-backup":"Erstelle Backup","generate-csv":"Erstelle CSV","hide-backup-reminder":"Verstecke Backup-Erinnerung",miscellaneous:"Sonstiges","update-last-used-date":'Aktualisiere "Zuletzt Benutzt" bei jedem Tracker',"destroy-all-data":"Vernichte alle Daten","join-the-community":"Tritt der Community bei","redo-setup":"Aufbau zur\xFCcksetzen","export-title":"Erstelle ein Backup","export-confirm":"Wenn du viele Daten eingetragen hast, kann das eine Weile dauern.","export-complete":"Export abgeschlossen",sunday:"Sonntag",monday:"Montag",theme:"Theme",theme_accent:"Akzent","base-font-size":"Textgr\xF6\xDFe","small-tracker-buttons":"Kompakte Tracker","hide-tab-labels":"Tab-Beschreibungen unten ausblenden.",locale:"Ort","first-day-of-week":"Woche beginnt am",sun:"Son",mon:"Mon",language:"Sprache","24-hour-clock":"24-Stunden Uhr","translate-nomie":"Hilf, Nomie zu \xFCbersetzen","pin-details":"Erstelle deinen Pincode","confirm-pin":"Best\xE4tige deinen Pincode","pins-do-not-match":"Pincodes stimmen nicht \xFCberein","feature-people-tracking":"Tracke Personen","feature-people-description":"Behalte im Auge, mit wem du am meisten interagierst.","feature-dashboard":"Pers\xF6nliches Dashboard","feature-dashboard-description":"Ein Tab um personalisierte Ansichten deiner Daten zu kreieren.","use-location":"Tracke Standpunkt","use-location-description":"Notiere deinen Standpunkt bei jedem Eintrag","require-pin":"Stelle einen Pincode ein","require-pin-description":"Stelle einen Pincode zur Nutzung von Nomie ein. Vergiss es nicht!","set-pin":"Erstelle Pincode","enable-advanced-buttons":"Erweiterte Tracker Buttons","pin-requirements":"1 bis 6 Zeichen","select-nomie-backup":"W\xE4hle Nomie Backup...","sign-out":"Ausloggen","allow-file-editing":"Datei-Bearbeitung erlauben","find-and-replace":"Finden und Ersetzen"},tracker:{stats:"Statistiken",streak:"Streak","edit-tracker":"Bearbeite Tracker","duplication-complete":"Kopieren abgeschlossen","edit-tracker-now":"M\xF6chtest du den neuen Tracker bearbeiten?","update-all-tracker-last-used":'Aktualisiere "Zuletzt Benutzt" bei jedem Tracker',type:"Z\xE4hler",positivity:"Positivit\xE4t",neutral:"Neutral",positive:"Positiv",negative:"Negativ","add-condition":"Regel hinzuf\xFCgen","create-condition":"Neue Positivit\xE4ts-Regel","delete-from-nomie":"Aus Nomie l\xF6schen?","delete-description":"Das kannst du sp\xE4ter wiederherstellen. Deine Eintr\xE4ge werden nicht endg\xFCltig gel\xF6scht.",label:"Name des Trackers","tracker-type":"Art des Trackers","save-on-tap":"Beim Antippen Speichern","save-on-tap-description":"Speichert deine Notiz direkt nach dem antippen.",min:"Mindestwert",max:"H\xF6chstwert","note-placeholder":"Erstelle Inhalte mit #Tracker @Personen +Kontext","note-description":"Kombiniere mehrere Tracker, indem du ihre #Hashtags benutzt. Zum Beispiel: #Stimmung #Schlafqualit\xE4t. Nomie wird dich dann nach den einzelnen Werten fragen.",step:"Schrittgr\xF6\xDFe","measure-by":"Einheit","calculate-total":"Gesamtzahl berechnen",value:"Standardwert","default-value":"Standardwert",include:"miteinbeziehen","include-placeholder":"F\xFCge weitere #Tracker, @Personen und +Kontext hinzu, wenn du diesen Tracker nutzt","hide-on-all-board":"In jeder \xDCbersicht verstecken","duplicate-tracker":"Tracker kopieren","remove-tracker":"Tracker l\xF6schen","things-to-track":"Dinge zum Tracken","pick-at-least-one":"W\xE4hle mindestens 1 um fortzufahren","add-tracker":"Tracker hinzuf\xFCgen"},general:{error:"Error",loading:"L\xE4dt...","update-complete":"Update abgeschlossen",edit:"Bearbeiten","on-this-day":"An diesem Teg","copy-to-clipboard":"In Ablage kopieren","share-as-image":"Als Bild teilen",delete:"L\xF6schen",ok:"Ok",cancel:"Abbrechen",duplicate:"Kopie",faq:"FAQ",latest:"Letzte",change:"\xC4ndern","browse-files":"Ordner durchsuchen...",type:"Alte Daten finden","tracker-count":"Tracker-Anzahl",first_log:"Erster Eintrag","launch-count":"Launch-Z\xE4hler",device:"Ger\xE4t",platform:"Plattform",pwa:"PWA",questions:"Fragen",supporters:"Unterst\xFCtzer",success:"Erfolg",failure:"Misserfolg",saving:"Speichert",accept:"Akkzeptieren","select-date":"Datum ausw\xE4hlen","no-results":"Keine Ergebnisse","all-trackers":"Alle Tracker",start:"Start",end:"Ende",beta:"Beta",done:"Fertig",saved:"Gespeichert",save:"Speichern","tracker-selector":"Tracker-Auswahl",close:"Schlie\xDFen",customize:"Benutzerdefiniert",select:"Ausw\xE4hlen",stop:"Stop",notice:"Notiz",sum:"Summe",avg:"Durchschnitt",download:"Download",total:"Gesamt",average:"Durchschnitt",score:"Stand",home:"Home",map:"Karte",logs:"Eintr\xE4ge","search-for":"Suchen",options:"Optionen",today:"Heute",goto:"Gehe zu...",style:"Style",disable:"deaktivieren",history:"Verlauf",trackers:"Tracker",people:"Personen",notes:"Notizen",locations:"Orte",context:"Kontext","no-favorites-found":"Keine Favoriten gefunden","edit-log":"Eintrag bearbeiten",positivity:"Positivit\xE4t",note:"Notiz",where:"Wo",when:"Wann",boards:"Boards",dashboards:"Dashboards",finished:"Abgeschlossen",setup:"Aufbau",more:"Mehr","trackable-item":"Trackbare Sache",remove:"Entfernen",widget:"Steuerelement",update:"Update","add-a-tracker":"Tracker hinzuf\xFCgen","import-from-file":"Importiere von  Datei","delete-from-nomie":"Aus Nomie l\xF6schen?","no-known-backups":"Keine bekannten Backups","backup-now":"Jetzt Backup erstellen","error-connecting":"Verbindungsfehler",search:"Suchen","save-list-edits":"Speichere \xC4nderungen der Liste",journal:"Tagebuch","whats-up":"Was gibt's?",location:"Ort",back:"Zur\xFCck"},locations:{"select-a-location":"W\xE4hle einen Ort"},dashboard:{"edit-widget":"Element bearbeiten","small-widget":"kleines Element","medium-widget":"mittelgro\xDFes Element","large-widget":"gro\xDFes Element","move-tabs":"Tabs verschieben","delete-widget":"Element l\xF6schen","widget-options":"Element-Optionen","select-a-widget":"w\xE4hle ein Steuerelement","widget-under-value-color":"Farbe bei niedrigem Wert","widget-over-value-color":"Farbe bei hohem Wert","add-a-widget":"Steuerelement hinzuf\xFCgen","add-tab":"Neuen Tab hinzuf\xFCgen",options:"Dashboard-Optionen","select-dashboard-to-move-widget":"Element auf welches Dashboard verschieben?","empty-message":"F\xFCge verschiedene Diagramme, Statistiken und andere Steuerelemente hinzu, um einen ma\xDFgeschneiderten Blick auf dein Leben zu erstellen.","widget-editor":"Steuerelement-Editor"},storage:{local_title:"Nur dieses Ger\xE4t",local_description:"Gut, um anzufangen. Erstelle aber zur Sicherheit ein Backup deiner Daten.",blockstack_title:"Blockstack",pouchdb_title:"CouchDB (beta)",type_selector_title:"Speicheroptionen",pouchdb:"Lokal + CouchDB",blockstack:"Blockstack"},people:{"person-name":"Name der Person","empty-message":"Notiere und \xFCberpr\xFCfe, wie du mit Freunden und Familie interagierst.","add-a-person":"Person hinzuf\xFCgen...","check-in":"Check-in"},tabs:{people:"Personen",history:"Verlauf",dashboard:"Dash",track:"Track",settings:"Einstellungen"},"nomie-api":{"generate-api-key":"API Schl\xFCssel generieren...","manually-set-keys":"API/Privaten Schl\xFCssel eigenh\xE4ndig einstellen...","clear-remaining":"Rest l\xF6schen","no-recent-logs-capture":"Keine k\xFCrzlich entstandenen Eintr\xE4ge","auto-accept":"automatisch akzeptieren","auto-import-description":"API-Eintr\xE4ge automatisch importieren wenn Nomie ge\xF6ffnet wird","api-key":"API-Schl\xFCssel","api-key-copied":"API-Schl\xFCssel kopiert","private-key":"Privater Schl\xFCssel","private-key-copied":"Privater Schl\xFCssel kopiert","example-request":"Beispielanfrage",fields:"Felder","forget-api":"API-Schl\xFCssel vergessen","destroy-api":"API-Schl\xFCssel vernichten"},history:{"go-to-today":"Zu Heute springen","empty-day":"Keine Daten gefunden"},export:{"csv-description":"Exportiere deine Tracker-Daten als CSV. Die Datei kann nicht mehr als ein Jahr am St\xFCck erfassen.","csv-download":"Downloade CSV...","backup-description":"Erstelle eine importierbare Backup-Datei. So kannst du ALL deine Nomie-Daten  mit einer einzelnen Datei (JSON) von einem Ger\xE4t auf ein anderes \xFCbertragen.","backup-download":"Backup downloaden"},"csv-import":{"saved-templates":"Gespeicherte Templates","select-csv-file":"W\xE4hle CSV File...","map-fields":"Bereiche erfassen","compose-note":"Erstelle eine Notiz f\xFCr diese CSV Daten"},positivity:{"sort-message":"First true wins"},stats:{"daily-average":"Tagesdurchschnitt",range:"Spannweite",compare:"Vergleichen",time:"Zeit",streak:"Durchlauf","compare-trackers":"Tracker vergleichen","compare-description":"Finde Tracker, die m\xF6glicherweise miteinander zu tun haben. Entweder automatisch, oder von dir selbst ausgew\xE4hlt.",analyze:"Automatisch"},time:{"start-of-month":"Monatsbeginn","start-of-year":"Jahresbeginn","start-of-week":"Wochenbeginn"},setup:{"choose-time-format":"Welche Zeit sieht richtig aus?","choose-theme":"Design w\xE4hlen","pick-data-storage":"W\xE4hle, wo deine Daten gespeichert werden sollen","use-location":"Standpunkt-Tracking aktivieren","choose-first-day-of-week":"W\xE4hle den ersten Tag der Woche"},search:{"search-trackers":"Tracker durchsuchen...","previous-searches":"Vorherige Suchanfragen","search-people":"Personen durchsuchen...","no-results":"Keine Suchergebnisse","search-history":"Verlauf durchsuchen..."},"on-this-day":{"no-notes":"Keine Notizen an diesem Tag","no-people":"Keine Personen an diesem Tag","no-context":"Kein Kontext an diesem Tag"},location:{"saved-locations":"Gespeicherte Orte","unable-to-get-your-location":"Ortung nicht m\xF6glich","pick-a-location":"W\xE4hle einen Ort","use-current-location":"Benutze aktuellen Standpunkt",locating:"Lokalisiere.."},import:{"import-all":"Importiere alle",import:"Importiere"},board:{"edit-sort":"Bearbeiten / Sortieren","create-new-board":"Neuen Tab hinzuf\xFCgen","board-options":"Tab-Optionen","add-existing-tracker":"Aus meinen Trackern w\xE4hlen","create-custom-tracker":"Erstelle einen Tracker","browse-starter-trackers":"Bibliothek durchsuchen","add-a-board":"F\xFCge einen Tab hinzu","board-input-placeholder":"Tab-Name oder Emoji","last-used":"Zuletzt benutzt","sort-tabs":"Tabs sortieren"},picker:{title:"Z\xE4hle ein Element pro Zeile auf."},theme:{light:"Hell",dark:"Dunkel",auto:"Automatisch"}}},Ic={en:{label:"English",lang:Noe},it:{label:"Italian",lang:Toe},de:{label:"German",lang:Moe},zhcn:{label:"Simplified Chinese",lang:Aoe},test:{label:"Tester",lang:Poe}};new lc("\u{1F6A6} Lang");const Loe=()=>{let i={lang:localStorage.getItem("n4-lang")||"en"};const{update:e,subscribe:t,set:n}=rn(i);return e4.init({lng:i.lang,fallbackLng:"en",resources:{en:Ic.en.lang,zhcn:Ic.zhcn.lang,it:Ic.it.lang,de:Ic.de.lang,test:Ic.test.lang}}),{update:e,subscribe:t,set:n,...{t(s,l){return e4.t(s,l)},getLangs(){return Object.keys(Ic).map(s=>{let l=Ic[s];return l.key=s,l})},setLang(s){e(l=>(l.lang=s,l)),localStorage.setItem("n4-lang",s),setTimeout(()=>{window.location.href="/"},10)}}}},Fe=Loe();var Ooe=uh,uR=/[\\^$.*+?()[\]{}|]/g,Ioe=RegExp(uR.source);function Boe(i){return i=Ooe(i),i&&Ioe.test(i)?i.replace(uR,"\\$&"):i}var yy=Boe;function Roe(i,e,t,n){var r=-1,s=i==null?0:i.length;for(n&&s&&(t=i[++r]);++r<s;)t=e(t,i[r],r,i);return t}var zoe=Roe;function joe(i){return function(e){return i==null?void 0:i[e]}}var Yoe=joe,Uoe=Yoe,Woe={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},qoe=Uoe(Woe),Hoe=qoe,Voe=Hoe,xoe=uh,Goe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zoe="\\u0300-\\u036f",Xoe="\\ufe20-\\ufe2f",Koe="\\u20d0-\\u20ff",Joe=Zoe+Xoe+Koe,Qoe="["+Joe+"]",eae=RegExp(Qoe,"g");function tae(i){return i=xoe(i),i&&i.replace(Goe,Voe).replace(eae,"")}var nae=tae,iae=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function rae(i){return i.match(iae)||[]}var sae=rae,lae=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function oae(i){return lae.test(i)}var aae=oae,cR="\\ud800-\\udfff",uae="\\u0300-\\u036f",cae="\\ufe20-\\ufe2f",fae="\\u20d0-\\u20ff",dae=uae+cae+fae,fR="\\u2700-\\u27bf",dR="a-z\\xdf-\\xf6\\xf8-\\xff",hae="\\xac\\xb1\\xd7\\xf7",mae="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",pae="\\u2000-\\u206f",_ae=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hR="A-Z\\xc0-\\xd6\\xd8-\\xde",gae="\\ufe0e\\ufe0f",mR=hae+mae+pae+_ae,pR="['\u2019]",t4="["+mR+"]",vae="["+dae+"]",_R="\\d+",bae="["+fR+"]",gR="["+dR+"]",vR="[^"+cR+mR+_R+fR+dR+hR+"]",kae="\\ud83c[\\udffb-\\udfff]",yae="(?:"+vae+"|"+kae+")",wae="[^"+cR+"]",bR="(?:\\ud83c[\\udde6-\\uddff]){2}",kR="[\\ud800-\\udbff][\\udc00-\\udfff]",gd="["+hR+"]",$ae="\\u200d",n4="(?:"+gR+"|"+vR+")",Fae="(?:"+gd+"|"+vR+")",i4="(?:"+pR+"(?:d|ll|m|re|s|t|ve))?",r4="(?:"+pR+"(?:D|LL|M|RE|S|T|VE))?",yR=yae+"?",wR="["+gae+"]?",Eae="(?:"+$ae+"(?:"+[wae,bR,kR].join("|")+")"+wR+yR+")*",Cae="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Dae="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Sae=wR+yR+Eae,Tae="(?:"+[bae,bR,kR].join("|")+")"+Sae,Aae=RegExp([gd+"?"+gR+"+"+i4+"(?="+[t4,gd,"$"].join("|")+")",Fae+"+"+r4+"(?="+[t4,gd+n4,"$"].join("|")+")",gd+"?"+n4+"+"+i4,gd+"+"+r4,Dae,Cae,_R,Tae].join("|"),"g");function Pae(i){return i.match(Aae)||[]}var Nae=Pae,Mae=sae,Lae=aae,Oae=uh,Iae=Nae;function Bae(i,e,t){return i=Oae(i),e=t?void 0:e,e===void 0?Lae(i)?Iae(i):Mae(i):i.match(e)||[]}var Rae=Bae,zae=zoe,jae=nae,Yae=Rae,Uae="['\u2019]",Wae=RegExp(Uae,"g");function qae(i){return function(e){return zae(Yae(jae(e).replace(Wae,"")),i,"")}}var $R=qae,Hae=Uu,Vae=$R,xae=Vae(function(i,e,t){return e=e.toLowerCase(),i+(t?Hae(e):e)}),Gae=xae;function Za(i,e,t=0){if(i.length<=e)return i;if(t){let n=i.substr(i.length-t,i.length);return`${i.substr(0,e-t)}...${n}`}else return i.substr(0,e)+"..."}const Gg=i=>`id-${Gae(i)}`,sp=i=>i.replace(/(\#|\@|\+)/gi,"");function T2(i){i=`${i}`;const e=i.split(" ");return e.length==1&&i.length?i.substr(0,2).toUpperCase():e.length>1?`${e[0].substr(0,1)}${e[e.length-1].substr(0,1)}`.toUpperCase():"NA"}const Zae=(i,e,t,n)=>{let r=`${i}`,s=r.substring(0,n),l=r.substring(n,r.length),o=new RegExp(yy(e),"gi");return`${s}${l.replace(o,t)}`},Xae={truncate:Za,initials:T2},wy=["#f44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#795548","#607D8B","#B39DDB","#9FA8DA","#90CAF9","#81D4FA","#80DEEA","#80CBC4","#A5D6A7","#B0BEC5","#e57373","#9575CD","#7986CB","#64B5F6","#4FC3F7","#4DD0E1","#4DB6AC","#81C784","#AED581","#DCE775","#A1887F","#90A4AE","#ef5350","#EC407A","#AB47BC","#7E57C2","#5C6BC0","#42A5F5","#29B6F6","#26C6DA","#26A69A","#66BB6A","#9CCC65","#8D6E63","#78909C","#f44336","#E91E63","#9C27B0","#673AB7","#3F51B5","#2196F3","#03A9F4","#00BCD4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722","#795548","#9E9E9E","#607D8B","#e53935","#D81B60","#8E24AA","#5E35B1","#3949AB","#1E88E5","#039BE5","#00ACC1","#00897B","#43A047","#7CB342","#C0CA33","#FDD835","#FFB300","#FB8C00","#F4511E","#6D4C41","#757575","#546E7A","#d32f2f","#C2185B","#7B1FA2","#512DA8","#303F9F","#1976D2","#0288D1","#0097A7","#00796B","#388E3C","#689F38","#AFB42B","#FBC02D","#FFA000","#F57C00","#E64A19","#5D4037","#616161","#455A64","#c62828","#AD1457","#6A1B9A","#4527A0","#283593","#1565C0","#0277BD","#00838F","#00695C","#2E7D32","#558B2F","#9E9D24","#F9A825","#FF8F00","#EF6C00","#D84315","#4E342E","#424242","#37474F","#b71c1c","#880E4F","#4A148C","#311B92","#1A237E","#0D47A1","#01579B","#006064","#004D40","#1B5E20","#33691E","#827717","#F57F17","#FF6F00","#E65100","#BF360C","#3E2723","#212121","#263238","#ff8a80","#FF80AB","#EA80FC","#B388FF","#8C9EFF","#82B1FF","#E040FB","#7C4DFF","#536DFE","#448AFF","#40C4FF","#64FFDA","#69F0AE","#D500F9","#3D5AFE","#2979FF","#00B0FF","#00E5FF","#1DE9B6","#00E676","#d50000","#C51162","#AA00FF","#6200EA","#304FFE","#2962FF","#0091EA","#00B8D4","#00BFA5","#00C853","#64DD17","#DD2C00"],FR=wy,Kae=()=>Nt.random(wy),Jae=(i,e=1)=>{let t;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(i)?(t=i.substring(1).split(""),t.length==3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),"rgba("+[t>>16&255,t>>8&255,t&255].join(",")+`,${e})`):`rgba(155,155,155,${e})`},s4=(i,e=1)=>{let t;return/^#([A-Fa-f0-9]{3}){1,2}$/.test(i)?(t=i.substring(1).split(""),t.length==3&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),t="0x"+t.join(""),[t>>16&255,t>>8&255,t&255].join(",")):"155,155,155"};class Qae{constructor(e){je(this,"hash");je(this,"assets");this.hash=this.fh5(e),this.assets={}}fh5(e){let t=3735928559;for(let n=0;n<e.length;n++)t=Math.imul(t^e.charCodeAt(n),2654435761);return(t^t>>>16)>>>0}xor(){return this.hash%2}pick(e,t=""){const n=Math.sqrt(parseInt(`${this.hash}${t}`,16)).toString().substr(3,4);return e.length?e[parseInt(n)%e.length]:null}}class eue{constructor(e={}){je(this,"colors",[]);je(this,"size",42);je(this,"radius",.12);this.colors=(e.colors||[]).length?e.colors:FR,this.size=e.size||42,this.radius=e.radius||.12}}const Dm=(i="")=>{let e=new eue;return new Qae(i).pick(e.colors)};function l4(i){const e="\u200D",t=i.replace(/[a-zA-Z0-9]+/g,"").split(e);let n=0;for(const r of t){const s=Array.from(r.split(/[\ufe00-\ufe0f]/).join("")).length;n+=s}return n/t.length}function tue(i){let e=T2(i[1])+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&2&&e!==(e=T2(n[1])+"")&&de(t,e)},d(n){n&&y(t)}}}function nue(i){let e;return{c(){e=K(i[3])},m(t,n){w(t,e,n)},p(t,n){n&8&&de(e,t[3])},d(t){t&&y(e)}}}function iue(i){let e,t,n,r,s;function l(u,c){if(u[3])return nue;if(u[1]&&!u[2])return tue}let o=l(i),a=o&&o(i);return{c(){e=P("div"),a&&a.c(),h(e,"class",t="n-avatar "+(i[3]?`emolen-${l4(i[3])}`:"no-emoji")+" "+i[0]+" "+i[5].join(" ")),h(e,"style",n=`${i[6].join("; ")}; ${i[4]}`)},m(u,c){w(u,e,c),a&&a.m(e,null),r||(s=Se(e,"click",il(i[7])),r=!0)},p(u,[c]){o===(o=l(u))&&a?a.p(u,c):(a&&a.d(1),a=o&&o(u),a&&(a.c(),a.m(e,null))),c&41&&t!==(t="n-avatar "+(u[3]?`emolen-${l4(u[3])}`:"no-emoji")+" "+u[0]+" "+u[5].join(" "))&&h(e,"class",t),c&16&&n!==(n=`${u[6].join("; ")}; ${u[4]}`)&&h(e,"style",n)},i:Z,o:Z,d(u){u&&y(e),a&&a.d(),r=!1,s()}}}function rue(i,e,t){let{size:n=32}=e,{label:r=void 0}=e,{src:s=void 0}=e,{emoji:l=void 0}=e,{transparent:o=!1}=e,{style:a=""}=e,{color:u=void 0}=e,{circle:c=!1}=e,{className:f=""}=e;const d=Ut();let m=[],p=[];function g(){d("click")}return i.$$set=k=>{"size"in k&&t(0,n=k.size),"label"in k&&t(1,r=k.label),"src"in k&&t(2,s=k.src),"emoji"in k&&t(3,l=k.emoji),"transparent"in k&&t(8,o=k.transparent),"style"in k&&t(4,a=k.style),"color"in k&&t(9,u=k.color),"circle"in k&&t(10,c=k.circle),"className"in k&&t(11,f=k.className)},i.$$.update=()=>{if(i.$$.dirty&3887){if(t(5,p=[f]),m.push(`--avatar-size:${n}px`),m.push(`height:${n}px; min-width:${n}px; width:${n}px`),s&&s.length)p.push("src"),m.push(`background-image:url(${s})`);else if(l&&l.length)p.push("emoji"),u&&m.push(`color:${u}`);else if(r&&r.length){p.push("label");const k=u||Dm(r);m.push(`background-color:${k}; text-shadow:0px 2px 2px rgba(0,0,0,0.2); color:#FFF !important`),m.push(`font-size: ${n*.5}px`)}o&&p.push("transparent"),c?p.push("circle"):p.push("rounded")}},[n,r,s,l,a,p,m,g,o,u,c,f]}class kr extends pe{constructor(e){super(),me(this,e,rue,iue,he,{size:0,label:1,src:2,emoji:3,transparent:8,style:4,color:9,circle:10,className:11})}}function sue(i){let e,t,n,r,s;const l=i[20].default,o=nt(l,i,i[19],null);return{c(){e=P("div"),o&&o.c(),h(e,"style",i[9]),h(e,"class",t="n-text "+` ${i[15]?"leading1":""} ${i[16]?"leading2":""} ${i[17]?"leading3":""} ${i[0]||"sm"} ${i[3]} text-${i[4]} ${i[11]?"truncate":""} ${i[12]?"truncate-2":""} ${i[13]?"truncate-3":""} ${i[7]?"line-height-md":""} ${i[2]?"text-center":""} ${i[14]?"text-underline":""} ${i[5]?"faded ":""} ${i[1]?"font-weight-bold ":""} ${i[8]?"font-weight-medium ":""}`.trim()+" svelte-ncnqt4")},m(a,u){w(a,e,u),o&&o.m(e,null),n=!0,r||(s=Se(e,"click",i[22]),r=!0)},p(a,u){o&&o.p&&(!n||u&524288)&&rt(o,l,a,a[19],n?it(l,a[19],u,null):st(a[19]),null),(!n||u&512)&&h(e,"style",a[9]),(!n||u&260543&&t!==(t="n-text "+` ${a[15]?"leading1":""} ${a[16]?"leading2":""} ${a[17]?"leading3":""} ${a[0]||"sm"} ${a[3]} text-${a[4]} ${a[11]?"truncate":""} ${a[12]?"truncate-2":""} ${a[13]?"truncate-3":""} ${a[7]?"line-height-md":""} ${a[2]?"text-center":""} ${a[14]?"text-underline":""} ${a[5]?"faded ":""} ${a[1]?"font-weight-bold ":""} ${a[8]?"font-weight-medium ":""}`.trim()+" svelte-ncnqt4"))&&h(e,"class",t)},i(a){n||(_(o,a),n=!0)},o(a){v(o,a),n=!1},d(a){a&&y(e),o&&o.d(a),r=!1,s()}}}function lue(i){let e,t,n,r,s;const l=i[20].default,o=nt(l,i,i[19],null);return{c(){e=P("span"),o&&o.c(),h(e,"style",i[9]),h(e,"class",t="n-text "+` ${i[15]?"leading1":""} ${i[16]?"leading2":""} ${i[17]?"leading3":""} ${i[0]||"sm"} ${i[3]} text-${i[4]} ${i[11]?"truncate":""} ${i[12]?"truncate-2":""} ${i[13]?"truncate-3":""} ${i[7]?"line-height-md":""} ${i[2]?"text-center":""} ${i[14]?"text-underline":""} ${i[5]?"faded ":""} ${i[1]?"font-weight-bold ":""} ${i[8]?"font-weight-medium ":""}`.trim()+" svelte-ncnqt4")},m(a,u){w(a,e,u),o&&o.m(e,null),n=!0,r||(s=Se(e,"click",i[21]),r=!0)},p(a,u){o&&o.p&&(!n||u&524288)&&rt(o,l,a,a[19],n?it(l,a[19],u,null):st(a[19]),null),(!n||u&512)&&h(e,"style",a[9]),(!n||u&260543&&t!==(t="n-text "+` ${a[15]?"leading1":""} ${a[16]?"leading2":""} ${a[17]?"leading3":""} ${a[0]||"sm"} ${a[3]} text-${a[4]} ${a[11]?"truncate":""} ${a[12]?"truncate-2":""} ${a[13]?"truncate-3":""} ${a[7]?"line-height-md":""} ${a[2]?"text-center":""} ${a[14]?"text-underline":""} ${a[5]?"faded ":""} ${a[1]?"font-weight-bold ":""} ${a[8]?"font-weight-medium ":""}`.trim()+" svelte-ncnqt4"))&&h(e,"class",t)},i(a){n||(_(o,a),n=!0)},o(a){v(o,a),n=!1},d(a){a&&y(e),o&&o.d(a),r=!1,s()}}}function oue(i){let e,t,n,r;const s=[lue,sue],l=[];function o(a,u){return a[10]==="span"||a[6]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function aue(i,e,t){let{$$slots:n={},$$scope:r}=e,{size:s="md"}=e,{bold:l=!1}=e,{center:o=!1}=e,{className:a=""}=e,{color:u=""}=e,{faded:c=!1}=e,{inline:f=!1}=e,{lineHeightMd:d=!1}=e,{medium:m=!1}=e,{style:p=""}=e,{tag:g="div"}=e,{truncate:k=!1}=e,{truncate2:$=!1}=e,{truncate3:C=!1}=e,{underline:E=!1}=e,{leading1:S=!1}=e,{leading2:T=!1}=e,{leading3:M=!1}=e;const R=Ut(),Y=()=>{R("click")},z=()=>{R("click")};return i.$$set=j=>{"size"in j&&t(0,s=j.size),"bold"in j&&t(1,l=j.bold),"center"in j&&t(2,o=j.center),"className"in j&&t(3,a=j.className),"color"in j&&t(4,u=j.color),"faded"in j&&t(5,c=j.faded),"inline"in j&&t(6,f=j.inline),"lineHeightMd"in j&&t(7,d=j.lineHeightMd),"medium"in j&&t(8,m=j.medium),"style"in j&&t(9,p=j.style),"tag"in j&&t(10,g=j.tag),"truncate"in j&&t(11,k=j.truncate),"truncate2"in j&&t(12,$=j.truncate2),"truncate3"in j&&t(13,C=j.truncate3),"underline"in j&&t(14,E=j.underline),"leading1"in j&&t(15,S=j.leading1),"leading2"in j&&t(16,T=j.leading2),"leading3"in j&&t(17,M=j.leading3),"$$scope"in j&&t(19,r=j.$$scope)},[s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M,R,r,n,Y,z]}class vr extends pe{constructor(e){super(),me(this,e,aue,oue,he,{size:0,bold:1,center:2,className:3,color:4,faded:5,inline:6,lineHeightMd:7,medium:8,style:9,tag:10,truncate:11,truncate2:12,truncate3:13,underline:14,leading1:15,leading2:16,leading3:17})}}const uue=i=>({}),o4=i=>({}),cue=i=>({}),a4=i=>({}),fue=i=>({}),u4=i=>({}),due=i=>({}),c4=i=>({}),hue=i=>({}),f4=i=>({});function d4(i){let e,t,n,r,s,l,o,a;const u=i[9]["header-left"],c=nt(u,i,i[10],f4),f=i[9]["header-right"],d=nt(f,i,i[10],c4),m=i[9].subheader,p=nt(m,i,i[10],u4);return{c(){e=P("header"),t=P("div"),n=P("h2"),r=K(i[4]),s=W(),c&&c.c(),l=W(),d&&d.c(),o=W(),p&&p.c(),h(n,"class","text-lg lg:text-2xl pl-1 font-bold leading-tight"),h(t,"class","outside-title flex items-end lg:mt-4 mb-1 lg:mb-2")},m(g,k){w(g,e,k),D(e,t),D(t,n),D(n,r),D(t,s),c&&c.m(t,null),D(t,l),d&&d.m(t,null),D(e,o),p&&p.m(e,null),a=!0},p(g,k){(!a||k&16)&&de(r,g[4]),c&&c.p&&(!a||k&1024)&&rt(c,u,g,g[10],a?it(u,g[10],k,hue):st(g[10]),f4),d&&d.p&&(!a||k&1024)&&rt(d,f,g,g[10],a?it(f,g[10],k,due):st(g[10]),c4),p&&p.p&&(!a||k&1024)&&rt(p,m,g,g[10],a?it(m,g[10],k,fue):st(g[10]),u4)},i(g){a||(_(c,g),_(d,g),_(p,g),a=!0)},o(g){v(c,g),v(d,g),v(p,g),a=!1},d(g){g&&y(e),c&&c.d(g),d&&d.d(g),p&&p.d(g)}}}function h4(i){let e,t,n,r;t=new vr({props:{size:"xs",className:"pt-3 px-3 pb-2",bold:!0,faded:!0,$$slots:{default:[mue]},$$scope:{ctx:i}}});const s=i[9]["header-left"],l=nt(s,i,i[10],a4);return{c(){e=P("div"),B(t.$$.fragment),n=W(),l&&l.c(),h(e,"class","flex items-center justify-between")},m(o,a){w(o,e,a),O(t,e,null),D(e,n),l&&l.m(e,null),r=!0},p(o,a){const u={};a&1040&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),l&&l.p&&(!r||a&1024)&&rt(l,s,o,o[10],r?it(s,o[10],a,cue):st(o[10]),a4)},i(o){r||(_(t.$$.fragment,o),_(l,o),r=!0)},o(o){v(t.$$.fragment,o),v(l,o),r=!1},d(o){o&&y(e),I(t),l&&l.d(o)}}}function mue(i){let e=i[4].toUpperCase()+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&16&&e!==(e=n[4].toUpperCase()+"")&&de(t,e)},d(n){n&&y(t)}}}function pue(i){let e,t,n,r,s,l,o=i[4]&&i[7]&&d4(i),a=i[4]&&!i[7]&&h4(i);const u=i[9].default,c=nt(u,i,i[10],null),f=i[9].bottom,d=nt(f,i,i[10],o4);return{c(){o&&o.c(),e=W(),t=P("div"),a&&a.c(),n=W(),c&&c.c(),s=W(),d&&d.c(),h(t,"id",i[6]),h(t,"class",r="n-list "+(i[5]?"disabled":"")+" "+(i[1]?"solo":"")+" "+(i[2]?"transparent":"")+" "+i[3]),h(t,"style",i[0]),h(t,"role",i[8])},m(m,p){o&&o.m(m,p),w(m,e,p),w(m,t,p),a&&a.m(t,null),D(t,n),c&&c.m(t,null),w(m,s,p),d&&d.m(m,p),l=!0},p(m,[p]){m[4]&&m[7]?o?(o.p(m,p),p&144&&_(o,1)):(o=d4(m),o.c(),_(o,1),o.m(e.parentNode,e)):o&&(ae(),v(o,1,1,()=>{o=null}),ue()),m[4]&&!m[7]?a?(a.p(m,p),p&144&&_(a,1)):(a=h4(m),a.c(),_(a,1),a.m(t,n)):a&&(ae(),v(a,1,1,()=>{a=null}),ue()),c&&c.p&&(!l||p&1024)&&rt(c,u,m,m[10],l?it(u,m[10],p,null):st(m[10]),null),(!l||p&64)&&h(t,"id",m[6]),(!l||p&46&&r!==(r="n-list "+(m[5]?"disabled":"")+" "+(m[1]?"solo":"")+" "+(m[2]?"transparent":"")+" "+m[3]))&&h(t,"class",r),(!l||p&1)&&h(t,"style",m[0]),(!l||p&256)&&h(t,"role",m[8]),d&&d.p&&(!l||p&1024)&&rt(d,f,m,m[10],l?it(f,m[10],p,uue):st(m[10]),o4)},i(m){l||(_(o),_(a),_(c,m),_(d,m),l=!0)},o(m){v(o),v(a),v(c,m),v(d,m),l=!1},d(m){o&&o.d(m),m&&y(e),m&&y(t),a&&a.d(),c&&c.d(m),m&&y(s),d&&d.d(m)}}}function _ue(i,e,t){let{$$slots:n={},$$scope:r}=e,{style:s=""}=e,{solo:l=!1}=e,{transparent:o=!1}=e,{className:a=""}=e,{title:u=void 0}=e,{disabled:c=!1}=e,{id:f=""}=e,{outside:d=!1}=e,{role:m="menu"}=e;return i.$$set=p=>{"style"in p&&t(0,s=p.style),"solo"in p&&t(1,l=p.solo),"transparent"in p&&t(2,o=p.transparent),"className"in p&&t(3,a=p.className),"title"in p&&t(4,u=p.title),"disabled"in p&&t(5,c=p.disabled),"id"in p&&t(6,f=p.id),"outside"in p&&t(7,d=p.outside),"role"in p&&t(8,m=p.role),"$$scope"in p&&t(10,r=p.$$scope)},[s,l,o,a,u,c,f,d,m,n,r]}class jt extends pe{constructor(e){super(),me(this,e,_ue,pue,he,{style:0,solo:1,transparent:2,className:3,title:4,disabled:5,id:6,outside:7,role:8})}}const ER=i=>$y.find(e=>e.id==i),$y=[{id:"open-streak-1",name:"1 Day Open Streak",value:.01,config:{type:"open-streak",days:1}},{id:"open-streak-2",name:"2 Day Open Streak",value:.02,config:{type:"open-streak",days:2}},{id:"open-streak-7",name:"7 Day Open Streak",value:.05,config:{type:"open-streak",days:7}},{id:"open-streak-14",name:"14 Day Open Streak",value:.1,config:{type:"open-streak",days:14}},{id:"open-streak-30",name:"30 Day Open Streak",value:.6,config:{type:"open-streak",days:30}},{id:"open-streak-90",name:"90 Day Open Streak",value:1,config:{type:"open-streak",days:90}},{id:"usage-1-year",name:"1 Year of Nomie",value:.6,config:{type:"usage-length",days:365}},{id:"usage-2-year",name:"2 Years of Nomie",value:.6,config:{type:"usage-length",days:365*2}},{id:"usage-3-year",name:"3 Years of Nomie",value:.6,config:{type:"usage-length",days:365*3}},{id:"usage-4-year",name:"4 Years of Nomie",value:.6,config:{type:"usage-length",days:365*4}},{id:"usage-5-year",name:"5 Years of Nomie",value:.6,config:{type:"usage-length",days:365*5}},{id:"usage-6-year",name:"s of Nomie",value:.6,config:{type:"usage-length",days:365*6}},{id:"usage-7-year",name:"7 Years of Nomie",value:.6,config:{type:"usage-length",days:365*7}},{id:"usage-8-year",name:"8 Years of Nomie",value:.6,config:{type:"usage-length",days:365*8}},{id:"usage-9-year",name:"9 Years of Nomie",value:.6,config:{type:"usage-length",days:365*9}},{id:"usage-10-year",name:"A decade of Nomie",value:.6,config:{type:"usage-length",days:365*10}},{id:"award-creator",name:"The Creator",reason:"Created a tracker",value:.8},{id:"award-wordsmith",name:"Wordsmith",value:.7}];function m4(i,e,t){const n=i.slice();return n[7]=e[t],n[9]=t,n}function p4(i,e,t){const n=i.slice();return n[10]=e[t],n[12]=t,n}function _4(i){let e,t;function n(...s){return i[5](i[10],...s)}function r(...s){return i[6](i[10],...s)}return e=new He({props:{role:"menuitem",id:`${i[10].id||`button-id-${i[12]}`}`,size:"lg",ariaLabel:i[10].title,disabled:i[10].disabled,mainClass:"flex items-center space-between",className:"pm2-button h-auto flex items-center "+(i[10].awardRequired?i[2].awards.find(n)?"unlocked":"locked":""),$$slots:{right:[yue],left:[vue],default:[gue]},$$scope:{ctx:i}}}),e.$on("click",r),{c(){B(e.$$.fragment)},m(s,l){O(e,s,l),t=!0},p(s,l){i=s;const o={};l&2&&(o.id=`${i[10].id||`button-id-${i[12]}`}`),l&2&&(o.ariaLabel=i[10].title),l&2&&(o.disabled=i[10].disabled),l&6&&(o.className="pm2-button h-auto flex items-center "+(i[10].awardRequired?i[2].awards.find(n)?"unlocked":"locked":"")),l&8194&&(o.$$scope={dirty:l,ctx:i}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function g4(i){let e,t,n=i[10].description+"",r;return{c(){e=P("div"),t=P("p"),r=K(n),h(t,"class","line-clamp-3 leading-tight"),h(e,"class","text-sm text-gray-500 leading-tight font-base text-left pr-4 mt-1"),h(e,"aria-label","Description")},m(s,l){w(s,e,l),D(e,t),D(t,r)},p(s,l){l&2&&n!==(n=s[10].description+"")&&de(r,n)},d(s){s&&y(e)}}}function v4(i){let e,t=i[10].right+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","right-text")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&2&&t!==(t=r[10].right+"")&&de(n,t)},d(r){r&&y(e)}}}function gue(i){let e,t,n=i[10].title+"",r,s,l,o,a=i[10].description&&g4(i),u=i[10].right&&v4(i);return{c(){e=P("div"),t=P("div"),r=K(n),s=W(),a&&a.c(),l=W(),u&&u.c(),o=Ae(),h(t,"class","title"),h(e,"class","w-full pr-4")},m(c,f){w(c,e,f),D(e,t),D(t,r),D(e,s),a&&a.m(e,null),w(c,l,f),u&&u.m(c,f),w(c,o,f)},p(c,f){f&2&&n!==(n=c[10].title+"")&&de(r,n),c[10].description?a?a.p(c,f):(a=g4(c),a.c(),a.m(e,null)):a&&(a.d(1),a=null),c[10].right?u?u.p(c,f):(u=v4(c),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},d(c){c&&y(e),a&&a.d(),c&&y(l),u&&u.d(c),c&&y(o)}}}function b4(i){let e,t,n,r;return t=new et({props:{className:"text-gray-800 dark:text-gray-200",icon:G1}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","mr-4")},m(s,l){w(s,e,l),O(t,e,null),r=!0},p:Z,i(s){r||(_(t.$$.fragment,s),n||Ei(()=>{n=V1(e,Rd,{y:50}),n.start()}),r=!0)},o(s){v(t.$$.fragment,s),r=!1},d(s){s&&y(e),I(t)}}}function vue(i){let e,t,n=i[10].checked&&b4();return{c(){e=P("div"),n&&n.c(),h(e,"slot","left"),h(e,"class","text-gray-500")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[10].checked?n?(n.p(r,s),s&2&&_(n,1)):(n=b4(),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function bue(i){let e,t;return e=new kr({props:{emoji:i[10].emoji,size:42}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.emoji=n[10].emoji),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function kue(i){let e,t;return e=new et({props:{icon:i[10].icon,className:"text-gray-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.icon=n[10].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function yue(i){let e,t,n,r;const s=[kue,bue],l=[];function o(a,u){return a[10].icon?0:a[10].emoji?1:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=P("div"),n&&n.c(),h(e,"slot","right"),h(e,"class","flex items-center")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function k4(i){let e,t,n=i[10].title&&_4(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[10].title?n?(n.p(r,s),s&2&&_(n,1)):(n=_4(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function wue(i){let e,t,n=i[7],r=[];for(let l=0;l<n.length;l+=1)r[l]=k4(p4(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=W()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&14){n=l[7];let a;for(a=0;a<n.length;a+=1){const u=p4(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=k4(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function y4(i){let e,t;return e=new jt({props:{className:"rounded-xl pop-buttons  "+(i[0]=="grid"?"list-grid":"")+" overflow-y-auto",$$slots:{default:[wue]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.className="rounded-xl pop-buttons  "+(n[0]=="grid"?"list-grid":"")+" overflow-y-auto"),r&8198&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $ue(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=y4(m4(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,[o]){if(o&15){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=m4(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=y4(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function Fue(i,e,t){let n;Le(i,ll,c=>t(2,n=c));let{buttons:r=[]}=e,{listType:s="list"}=e,l=Ut(),o=[];const a=(c,f)=>f.id==c.awardRequired,u=async(c,f)=>{c.disabled||(c.awardRequired&&!n.awards.find(d=>d.id==c.awardRequired)?at.alert(`You need the ${ER(c.awardRequired).name} Award before you can use this feature`):(await Lt(200),c.click(),l("clicked",f),c.skipClosing||l("close")))};return i.$$set=c=>{"buttons"in c&&t(4,r=c.buttons),"listType"in c&&t(0,s=c.listType)},i.$$.update=()=>{if(i.$$.dirty&18&&r){t(1,o=[[]]);let c=o.length-1;r.forEach(f=>{f.divider&&(o.push([]),c=o.length-1),o[c].push(f)})}},[s,o,n,l,r,a,u]}class Eue extends pe{constructor(e){super(),me(this,e,Fue,$ue,he,{buttons:4,listType:0})}}function Cue(i){let e,t;return e=new kr({props:{size:i[3],className:i[1],style:i[2],label:"Unknown",color:"#666666"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.size=n[3]),r&2&&(s.className=n[1]),r&4&&(s.style=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Due(i){let e,t;return e=new kr({props:{size:i[3],className:i[1],style:i[2],src:i[0].avatar,emoji:i[0].emoji,label:i[0].label,color:i[0].color}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.size=n[3]),r&2&&(s.className=n[1]),r&4&&(s.style=n[2]),r&1&&(s.src=n[0].avatar),r&1&&(s.emoji=n[0].emoji),r&1&&(s.label=n[0].label),r&1&&(s.color=n[0].color),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Sue(i){let e,t,n,r;const s=[Due,Cue],l=[];function o(a,u){return a[0]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Tue(i,e,t){let{trackable:n}=e,{className:r=""}=e,{style:s=""}=e,{size:l=32}=e;return i.$$set=o=>{"trackable"in o&&t(0,n=o.trackable),"className"in o&&t(1,r=o.className),"style"in o&&t(2,s=o.style),"size"in o&&t(3,l=o.size)},[n,r,s,l]}class er extends pe{constructor(e){super(),me(this,e,Tue,Sue,he,{trackable:0,className:1,style:2,size:3})}}function w4(i){let e,t,n,r,s,l,o,a=i[0].trackable&&$4(i),u=i[0].title&&F4(i),c=i[0].description&&E4(i);return{c(){e=P("header"),a&&a.c(),t=W(),n=P("main"),u&&u.c(),r=W(),c&&c.c(),s=W(),l=P("div"),h(n,"class","py-0"),h(l,"class","filler"),h(e,"class","space-x-3 px-2 flex items-center py-1")},m(f,d){w(f,e,d),a&&a.m(e,null),D(e,t),D(e,n),u&&u.m(n,null),D(n,r),c&&c.m(n,null),D(e,s),D(e,l),o=!0},p(f,d){f[0].trackable?a?(a.p(f,d),d&1&&_(a,1)):(a=$4(f),a.c(),_(a,1),a.m(e,t)):a&&(ae(),v(a,1,1,()=>{a=null}),ue()),f[0].title?u?u.p(f,d):(u=F4(f),u.c(),u.m(n,r)):u&&(u.d(1),u=null),f[0].description?c?c.p(f,d):(c=E4(f),c.c(),c.m(n,null)):c&&(c.d(1),c=null)},i(f){o||(_(a),o=!0)},o(f){v(a),o=!1},d(f){f&&y(e),a&&a.d(),u&&u.d(),c&&c.d()}}}function $4(i){let e,t;return e=new er({props:{size:48,className:"shadow-md",trackable:i[0].trackable}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[0].trackable),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function F4(i){let e,t=i[0].title+"",n,r;return{c(){e=P("h5"),n=K(t),h(e,"aria-label","Title"),h(e,"class",r="font-semibold text-black dark:text-white text-lg leading-tight "+(i[0].description?"mt-3":"pb-1"))},m(s,l){w(s,e,l),D(e,n)},p(s,l){l&1&&t!==(t=s[0].title+"")&&de(n,t),l&1&&r!==(r="font-semibold text-black dark:text-white text-lg leading-tight "+(s[0].description?"mt-3":"pb-1"))&&h(e,"class",r)},d(s){s&&y(e)}}}function E4(i){let e,t=i[0].description+"",n;return{c(){e=P("p"),n=K(t),h(e,"class","p-0 m-0 mb-2 mt-2 text-sm leading-tight text-gray-600 dark:text-gray-400 line-clamp-4")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].description+"")&&de(n,t)},d(r){r&&y(e)}}}function C4(i){let e,t,n;const r=[i[0].componentProps||{}];var s=i[0].component;function l(o){let a={};for(let u=0;u<r.length;u+=1)a=St(a,r[u]);return{props:a}}return s&&(t=Un(s,l())),{c(){e=P("div"),t&&B(t.$$.fragment),h(e,"class","rounded-xl overflow-hidden flex-shrink-0 text-gray-500")},m(o,a){w(o,e,a),t&&O(t,e,null),n=!0},p(o,a){const u=a&1?Zt(r,[Qr(o[0].componentProps||{})]):{};if(s!==(s=o[0].component)){if(t){ae();const c=t;v(c.$$.fragment,1,0,()=>{I(c,1)}),ue()}s?(t=Un(s,l()),B(t.$$.fragment),_(t.$$.fragment,1),O(t,e,null)):t=null}else s&&t.$set(u)},i(o){n||(t&&_(t.$$.fragment,o),n=!0)},o(o){t&&v(t.$$.fragment,o),n=!1},d(o){o&&y(e),t&&I(t)}}}function Aue(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Pue(i){let e,t,n,r,s,l,o,a,u,c,f=(i[0].title||i[0].description)&&w4(i),d=i[0].component&&C4(i);return l=new Eue({props:{buttons:i[0].buttons,listType:i[0].buttonView}}),l.$on("close",i[2]),u=new He({props:{size:"lg",className:"w-full bg-red-gradient text-white stiff",style:"min-height:50px;",$$slots:{default:[Aue]},$$scope:{ctx:i}}}),u.$on("click",i[3]),{c(){e=P("div"),t=P("div"),f&&f.c(),n=W(),d&&d.c(),r=W(),s=P("main"),B(l.$$.fragment),o=W(),a=P("footer"),B(u.$$.fragment),h(s,"class","overflow-y-auto space-y-3"),h(a,"class","pb-1"),h(t,"class","pop-menu2 shadow-2xl"),h(t,"role","dialog"),h(e,"class","pop-menu2-wrapper w-full max-w-md"),gt(e,"min-width","320px")},m(m,p){w(m,e,p),D(e,t),f&&f.m(t,null),D(t,n),d&&d.m(t,null),D(t,r),D(t,s),O(l,s,null),D(t,o),D(t,a),O(u,a,null),c=!0},p(m,[p]){m[0].title||m[0].description?f?(f.p(m,p),p&1&&_(f,1)):(f=w4(m),f.c(),_(f,1),f.m(t,n)):f&&(ae(),v(f,1,1,()=>{f=null}),ue()),m[0].component?d?(d.p(m,p),p&1&&_(d,1)):(d=C4(m),d.c(),_(d,1),d.m(t,r)):d&&(ae(),v(d,1,1,()=>{d=null}),ue());const g={};p&1&&(g.buttons=m[0].buttons),p&1&&(g.listType=m[0].buttonView),l.$set(g);const k={};p&16&&(k.$$scope={dirty:p,ctx:m}),u.$set(k)},i(m){c||(_(f),_(d),_(l.$$.fragment,m),_(u.$$.fragment,m),c=!0)},o(m){v(f),v(d),v(l.$$.fragment,m),v(u.$$.fragment,m),c=!1},d(m){m&&y(e),f&&f.d(),d&&d.d(),I(l),I(u)}}}function Nue(i,e,t){let{menu:n}=e,{id:r}=e;const s=o=>{tn(r)},l=()=>{tn(r)};return i.$$set=o=>{"menu"in o&&t(0,n=o.menu),"id"in o&&t(1,r=o.id)},[n,r,s,l]}class Mue extends pe{constructor(e){super(),me(this,e,Nue,Pue,he,{menu:0,id:1})}}const Js=i=>{On({id:`popmenu-${i.id}`,component:Mue,tappable:!0,componentProps:{menu:i},position:"bottom"})},af=(i,e=[])=>{const t=iv(i);Js({id:`date-options-${i.toDateString()}`,title:"Date Options",buttons:[...t,...e]})},Lue=i=>us.positivity.sort((e,t)=>e.score<t.score?1:-1).map(e=>({title:e.label,emoji:e.emoji,click(){i(e)}})),Oue=i=>new Promise(e=>{Js({title:"Select Positivity",id:"select-positivity",buttons:Lue(e)})});function qu(i,e=!1){let t=typeof i=="number"?i:0;t<-2?t=-2:t>2?t=2:t===void 0&&(t=0);let n=us.positivity.find(r=>r.score==t);if(n)return e?n.emoji:n}function Iue(i,e){let t=0,n=0,r=0,s=0,l=Array(24).fill(0);return i.forEach(o=>{let a=o.score||Cf(o.note,o.end,e);a==0?r++:a>0?t=t+a:n=n+Math.abs(a),s++;let u=o.endDayjs().hour();l[u]=l[u]+a}),{positive:t,negative:n,neutral:r,total:s,byHour:l}}new lc("modules/hooks");class CR{constructor(){je(this,"hooks");this.hooks={}}hook(e,t){if(typeof t=="function")return this.hooks[e]=this.hooks[e]||[],this.hooks[e].push(t),()=>{this.hooks[e]=this.hooks[e].filter(n=>n!==t)}}run(e,t){this.hooks.hasOwnProperty(e)&&this.hooks[e].forEach(n=>{n(t)})}}const Bue=i=>new Rue(i).pick(wy);class Rue{constructor(e){je(this,"hash");je(this,"assets");this.hash=this.fh5(e),this.assets={}}fh5(e){let t=3735928559;for(let n=0;n<e.length;n++)t=Math.imul(t^e.charCodeAt(n),2654435761);return(t^t>>>16)>>>0}xor(){return this.hash%2}pick(e,t=""){const n=Math.sqrt(parseInt(`${this.hash}${t}`,16)).toString().substr(3,4);return e.length?e[parseInt(n)%e.length]:null}}class r0{constructor(e){je(this,"tag");je(this,"duration");je(this,"label");je(this,"avatar");je(this,"emoji");je(this,"color");e&&typeof e=="string"?(this.tag=e,this.label=e.replace("+","")):e&&typeof e=="object"&&e.tag&&(this.tag=e.tag,this.label=e.label||e.tag,this.duration=e.duration||1,this.avatar=e.avatar,this.emoji=e.emoji,this.color=e.color||Bue(this.tag))}get asObject(){return JSON.parse(JSON.stringify(this))}toTrackable(){return new Wi({type:"context",id:this.tag,ctx:this,value:1})}}var zue=Mp,jue=Lp,Yue="[object Number]";function Uue(i){return typeof i=="number"||jue(i)&&zue(i)==Yue}var Wue=Uue;class Xa{constructor(e={}){je(this,"username");je(this,"displayName");je(this,"avatar");je(this,"emoji");je(this,"color");je(this,"last");je(this,"notes");typeof e=="string"?(this.username=e,this.displayName=e,this.last=new Date,this.notes="",e={}):typeof e=="object"&&(this.username=e.username?e.username.toLowerCase():void 0,this.displayName=e.displayName||e.username,this.avatar=e.avatar,this.last=e.last?new Date(e.last):new Date,this.notes=e.notes||"",this.emoji=e.emoji,this.color=e.color)}setLast(e){e=e||new Date,this.last=e}getLast(){return this.last}toTrackable(){return new Wi({type:"person",id:this.username,person:this})}setUsername(e){this.username=e}setDisplayName(e){this.displayName=e}setAvatar(e){this.avatar=e}getUsername(){return this.username}getDisplayName(){return this.displayName||this.username}getAvatar(){return this.avatar}}const Hu={num:{singular:"Count",plural:"Count",symbol:"",type:"general"},steps:{singular:"Step",plural:"Steps",symbol:"steps",type:"general"},bottles:{singular:"Bottle",plural:"Bottles",symbol:"",type:"general"},reps:{singular:"Rep",plural:"Reps",symbol:"",type:"general"},pages:{singular:"Page",plural:"Pages",symbol:"",type:"general"},tabs:{singular:"Tab",plural:"Tabs",symbol:"",type:"health"},calorie:{singular:"Calorie",plural:"Calories",symbol:"cal",type:"health"},kcal:{singular:"Kcal",plural:"Kcals",symbol:"kcal",type:"health"},capsules:{singular:"Capsule",plural:"Capsules",symbol:"caps",type:"health"},bpm:{singular:"Beat Per Minute",plural:"Beat Per Minute",symbol:"bpm",type:"health"},pain:{singular:"Pain",plural:"Pain",symbol:"",type:"health"},percent:{singular:"Percent",plural:"Percent",symbol:"%",type:"general",symbolAffix:"post"},iu:{singular:"International Unit",plural:"International Units",symbolAffix:"post",symbol:"IU",type:"general"},dollars:{singular:"Dollar",plural:"Dollars",symbol:"$",type:"currency",symbolAffix:"pre",display:function(i){return"$"+i.toFixed(2)}},peso:{singular:"Peso",plural:"Peso",symbol:"$",type:"currency",symbolAffix:"pre",display:function(i){return"$"+i.toFixed(2)}},franc:{singular:"Franc",plural:"Francs",symbol:"Fr.",type:"currency",symbolAffix:"pre",display:function(i){return"Fr. "+i.toFixed(2)}},cpound:{singular:"Pound",plural:"Pounds",symbol:"\xA3",type:"currency",symbolAffix:"pre",display:function(i){return"\xA3"+i.toFixed(2)}},rupee:{singular:"Rupee",plural:"Rupees",symbol:"Rs.",type:"currency",symbolAffix:"pre",display:function(i){return"Rs. "+i.toFixed(2)}},yen:{singular:"Yen",plural:"Yen",symbol:"\xA5",type:"currency",symbolAffix:"pre",display:function(i){return"\xA5"+i.toFixed(2)}},yuan:{singular:"Yuan",plural:"Yuan",symbol:"\xA5",type:"currency",symbolAffix:"pre",display:function(i){return"\xA5"+i.toFixed(2)}},bitcoin:{singular:"Bitcoin",plural:"Bitcoins",type:"currency",symbolAffix:"pre",symbol:"B"},euro:{singular:"Euro",plural:"Euros",symbol:"\u20AC",type:"currency",symbolAffix:"pre",display:function(i){return"\u20AC"+i.toFixed(2)}},timer:{singular:"Time",plural:"Time",symbol:"",type:"timer",symbolAffix:"post",symbolSpace:!1,display:function(i){var e=parseInt(i,10),t=Math.floor(e/3600),n=Math.floor((e-t*3600)/60),r=e-t*3600-n*60;return t?t+"h "+n+"m":n+"m "+r+"s"}},sec:{singular:"Second",plural:"Seconds",symbol:"secs",type:"time",symbolAffix:"post",symbolSpace:!0,display:function(i){return i<3600?i+"s":Math.round(i/60*100)/100+"m"}},min:{singular:"Minute",plural:"Minutes",symbol:"m",type:"time",symbolAffix:"post",symbolSpace:!1,display:function(i){return i<60?i+"m":i>60&&i<1441?Math.round(i/60*100)/100+"h":(i>1440&&i<1e4,(i/1440).toFixed(0)+"d")}},hour:{singular:"Hour",plural:"Hours",symbol:"hrs",type:"time",symbolAffix:"post",symbolSpace:!1,display:function(i){return i<168?Math.round(i*100)/100+"h":(i/24).toFixed(0)+"d"}},day:{singular:"Day",plural:"Days",symbol:"days",type:"time"},mm:{singular:"Millimeter",plural:"Millimeters",symbol:"mm",type:"distance",system:"metric"},cm:{singular:"Centimeter",plural:"Centimeters",symbol:"cm",type:"distance",symbolAffix:"post",symbolSpace:!0,system:"metric"},meter:{singular:"Meter",plural:"Meter",symbol:"m",type:"distance",symbolAffix:"post",symbolSpace:!0,system:"metric"},km:{singular:"Kilometer",plural:"Kilometers",symbol:"km",type:"distance",symbolAffix:"post",symbolSpace:!0,system:"metric",cousin:"mile",convert(i){return i&&i*.621371}},inch:{singular:"Inch",plural:"Inches",symbol:"in",type:"distance",symbolAffix:"post",symbolSpace:!0},degrees:{singular:"Degree",plural:"Degrees",symbol:"\xB0",type:"temperature",symbolAffix:"post",symbolSpace:!1},celsius:{singular:"Celsius",plural:"Celsius",symbol:"\xB0C",type:"temperature",symbolAffix:"post",symbolSpace:!1,system:"metric",cousin:"fahrenheit"},kelvin:{singular:"Kelvin",plural:"Kelvin",symbol:"K",type:"temperature",symbolAffix:"post",symbolSpace:!1},fahrenheit:{singular:"Fahrenheit",plural:"Fahrenheit",symbol:"\xB0F",type:"temperature",symbolAffix:"post",symbolSpace:!1,system:"imperial",cousin:"celcius"},foot:{singular:"Foot",plural:"Feet",symbol:"ft",type:"distance",symbolAffix:"post",symbolSpace:!0,system:"imperial"},yard:{singular:"Yard",plural:"Yards",symbol:"yrds",type:"distance",symbolAffix:"post",symbolSpace:!0,system:"imperial"},mile:{singular:"Mile",plural:"Miles",symbol:"mi",type:"distance",symbolAffix:"post",system:"imperial",cousin:"km",convert(i){return i&&i/.621371}},mcg:{singular:"Microgram",plural:"Micrograms",symbol:"mcg",type:"weight",symbolAffix:"post"},mg:{singular:"Milligram",plural:"Milligrams",symbol:"mg",type:"weight",symbolAffix:"post",system:"metric"},gram:{singular:"Gram",plural:"Grams",symbol:"g",type:"weight",symbolAffix:"post",system:"metric",cousin:"oz",convert(i){return i&&i/28.3495}},kg:{singular:"Kilogram",plural:"Kilograms",symbol:"kg",type:"weight",symbolAffix:"post",system:"metric",cousin:"pound",convert(i){return i&&i/.453592}},stone:{singular:"Stone",plural:"Stones",symbol:"st",type:"weight",system:"metric"},oz:{singular:"Ounce",plural:"Ounces",symbol:"oz",type:"weight",symbolAffix:"post",symbolSpace:!0,system:"imperial",cousin:"gram",convert(i){return i&&i*28.3495}},pound:{singular:"Pound",plural:"Pounds",symbol:"lbs",type:"weight",symbolAffix:"post",symbolSpace:!0,system:"imperial",cousin:"kg",convert(i){return i&&i*.453592}},cup:{singular:"Cup",plural:"Cups",symbol:"cups",type:"volume",symbolAffix:"post",symbolSpace:!0,system:"imperial"},fluidounce:{singular:"Fluid Ounce",plural:"Fluid Ounces",symbol:"oz",type:"volume",symbolAffix:"post",symbolSpace:!0,system:"imperial",cousin:"milliliter",convert(i){return i*29.57353}},pint:{singular:"Pint",plural:"Pints",symbol:"pint",type:"volume"},deciliter:{singular:"Deciliter",plural:"Deciliters",symbol:"dL",type:"volume"},mdgl:{singular:"Blood Sugar",plural:"Blood Sugar",symbol:"mg/dl",type:"health",symbolAffix:"post",symbolSpace:!0},quart:{singular:"Quart",plural:"Quarts",symbol:"qt",type:"volume",symbolAffix:"post"},gallon:{singular:"Gallon",plural:"Gallons",symbol:"gal",type:"volume",symbolAffix:"post",symbolSpace:!0,system:"imperial",cousin:"liter",convert(i){return i!==0?i*3.78:i}},liter:{singular:"Liter",plural:"Liters",symbol:"L",type:"volume",symbolAffix:"post",symbolSpace:!1,system:"metric",cousin:"gallon",convert(i){return i!==0?i/3.78:i}},kiloliter:{singular:"Kiloliter",plural:"Kiloliters",symbol:"kl",type:"volume",symbolAffix:"post",symbolSpace:!1,system:"metric"},milliliter:{singular:"Millilitre",plural:"Millilitres",symbol:"ml",type:"volume",symbolAffix:"post",symbolSpace:!1,system:"metric"}},D4=i=>{const e=Hu[i];return e?e.plural:i},Fy=i=>{const e=Hu[i];return!e||!e.symbol?"":e.symbol},que=i=>Hu[i],Hue=(i,e,t=!0)=>{const n=[i],r=que(e);return r?(r.symbolAffix==="post"&&t?n.push(`${r.symbolSpace?" ":""}${r.symbol}`):r.symbolAffix==="pre"&&t&&n.unshift(`${r.symbol}${r.symbolSpace?" ":""}`),n.join(" ")):i},Vue=(i,e,t)=>{const n=Hu[e];return!n||!n.display?Hue(i,e,t):n.display(i,t)},DR=(i=!0)=>{let e={};return Object.keys(Hu).forEach(t=>{let n=Hu[t];n.key=t,e[n.type]=e[n.type]||[],e[n.type].push(n)}),Object.keys(e).forEach(t=>{e[t]=e[t].sort((n,r)=>n.plural>r.plural?1:-1)}),i&&delete e.timer,e};function SR(i){return(i||"").replace(/('|"|\?|-|\)|\(|\*|\&|\||\$|\@|\+|\#)/gi,"").trim().replace(/( )/g,"_").toLowerCase()}class qi{constructor(e){je(this,"id");je(this,"tag");je(this,"label");je(this,"type");je(this,"color");je(this,"math");je(this,"ignore_zeros");je(this,"uom");je(this,"emoji");je(this,"avatar");je(this,"default");je(this,"max");je(this,"min");je(this,"maxLabel");je(this,"minLabel");je(this,"step");je(this,"score");je(this,"score_calc");je(this,"goal");je(this,"one_tap");je(this,"include");je(this,"note");je(this,"hidden");je(this,"started");je(this,"timeTracked");je(this,"picks");je(this,"_dirty");je(this,"focus");e=e||{},this.tag=this.toTag(e.tag||""),this.tag.length?this._dirty=void 0:this._dirty=!0,this.id=e.id||Jn(),this.type=e.type||"tick",this.color=e.color||"#369DD3",this.math=e.math||"sum",this.ignore_zeros=e.ignore_zeros||!1,this.uom=e.uom||"num",this.focus=e.focus||[],this.emoji=e.emoji||null,this.avatar=e.avatar||null,this.default=e.default,this.type==="range"&&(this.max=e.max?e.max.toString():"10",this.min=e.max?e.min.toString():"1",this.step=e.step||"1",this.minLabel=e.minLabel,this.maxLabel=e.maxLabel),this.score=e.score,this.score_calc=e.score_calc,this.goal=e.goal,this.one_tap=e.one_tap===!0,this.include=e.include||"",this.note=e.note,this.hidden=e.hidden===!0,this.type==="timer"&&(this.started=e.started,this.timeTracked=e.timeTracked||0),this.picks=e.picks||void 0,e.label?this.label=e.label:this.label=this.displayTag()}getUID(){return Jn(this.tag)}toTrackable(e){return new Wi({type:"tracker",id:this.id,tracker:this,value:gi(e)})}toNoteString(e=void 0){const t=[];return t.push(`#${this.tag}`),e!==void 0?(t.push(`(${e})`),this.include&&this.include.length&&t.push(` ${this.getIncluded(e)}`)):this.default&&(t.push(`(${this.default})`),this.include&&this.include.length&&(t.push(" "),t.push(` ${this.getIncluded(this.default)}`))),t.join("").trim()}getIncluded(e){let t=this.include||"";return t.search("{value}")>-1?t=t.replace(/\{value\}/gi,e||""):t=t.replace(/\*/,e||""),t.trim()}toToken(e){const t=e?`#${this.tag}(${e})`:`#${this.tag}`;return{id:this.tag,type:"tracker",raw:t,prefix:"#",value:gi(e)}}displayTag(){return this.tag.replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}toTag(e){return SR(e)}displayValue(e,t=!0){let n=gi(e)||0;return Vue(Math.round(n*100)/100,this.uom,t)}calculateScore(e,t){return Qm(e,this,t)}displayValues(e,t=!0){const n=this.math==="sum"?Nt.sum(e):Nt.average(e);return this.displayValue(n,t)}get asObject(){return JSON.parse(JSON.stringify(this))}}function Hd(i){return i===!1?!1:i!=null}const Ci={emoji(i){const e=["(?:[\u2700-\u27BF]|(?:\uD83C[\uDDE6-\uDDFF]){2}|[\uD800-\uDBFF][\uDC00-\uDFFF]|[#-9]\uFE0F?\u20E3|\u3299|\u3297|\u303D|\u3030|\u24C2|\uD83C[\uDD70-\uDD71]|\uD83C[\uDD7E-\uDD7F]|\u{1F18E}|\uD83C[\uDD91-\uDD9A]|\uD83C[\uDDE6-\uDDFF]|[\uD83C[\uDE01-\uDE02]|\u{1F21A}|\u{1F22F}|[\uD83C[\uDE32-\uDE3A]|[\uD83C[\uDE50-\uDE51]|\u203C|\u2049|[\u25AA-\u25AB]|\u25B6|\u25C0|[\u25FB-\u25FE]|\xA9|\xAE|\u2122|\u2139|\u{1F004}|[\u2600-\u26FF]|\u2B05|\u2B06|\u2B07|\u2B1B|\u2B1C|\u2B50|\u2B55|\u231A|\u231B|\u2328|\u23CF|[\u23E9-\u23F3]|[\u23F8-\u23FA]|\u{1F0CF}|\u2934|\u2935|[\u2190-\u21FF])"];return!!i.match(e.join("|"))},truthy(i){return Hd(i)},number(i){return!isNaN(i)},url(i){try{return Boolean(new URL(i))}catch{return!1}}};class Wi{constructor(e){je(this,"type");je(this,"id");je(this,"person");je(this,"tracker");je(this,"context");je(this,"ctx");je(this,"value");this.type=e.type,e.type=="tracker"?(this.tracker=e.tracker instanceof qi?e.tracker:new qi(e.tracker),this.id=e.id||`#${(this.tracker||{}).tag}`):e.type==="person"?(this.person=e.person?e.person instanceof Xa?e.person:new Xa(e.person):void 0,this.id=e.id||"@(this.person || {}).username"):e.type==="context"&&(this.context=e.context,this.id=e.id,this.ctx=new r0(e.ctx||this.context)),this.value=e.value}get label(){switch(this.type){case"tracker":return`${this.tracker.label||""}`;case"person":return`${this.person.displayName||""}`;case"context":return`${this.ctx.label||""}`}}get prefix(){switch(this.type){case"tracker":return"#";case"person":return"@";case"context":return"+";default:return""}}set avatar(e){this.type=="tracker"?this.tracker.avatar=e:this.type=="person"?this.person.avatar=e:this.type=="context"&&(this.ctx.avatar=e)}set emoji(e){this.type=="tracker"?this.tracker.emoji=e:this.type=="person"?this.person.emoji=e:this.type=="context"&&(this.ctx.emoji=e)}set tag(e){this.type=="tracker"?this.tracker.tag=e:this.type=="person"?this.person.username=e:this.type=="context"&&(this.ctx.tag=e)}set label(e){this.type=="tracker"?this.tracker.label=e:this.type=="person"?this.person.displayName=e:this.type=="context"&&(this.ctx.label=e)}set color(e){this.type=="tracker"?this.tracker.color=e:this.type=="person"?this.person.color=e:this.type=="context"&&(this.ctx.color=e)}get avatar(){if(this.type=="tracker")return this.tracker.avatar;if(this.type=="person")return this.person.avatar;if(this.type=="context")return this.ctx.avatar}get emoji(){if(this.type=="tracker")return this.tracker.emoji;if(this.type=="person")return this.person.emoji;if(this.type==="context")return this.ctx.emoji}get canSave(){return this.type=="tracker"?!!(this.tracker.label&&this.tracker.type&&this.tracker.tag):this.type=="person"?!!this.person.username:this.type==="context"?!!this.ctx.label:!1}get defaultValue(){switch(this.type){case"tracker":return this.tracker.default!==void 0?this.tracker.default:1;case"person":return 1;case"context":return 1}}formatValue(e,t){return this.tracker?this.tracker.displayValue(e,t):e}tallyValues(e){var n;const t=e.filter(r=>!isNaN(r));return((n=this.tracker)==null?void 0:n.math)==="mean"?Nt.average(t):Nt.sum(t)}get color(){var e,t,n;switch(this.type){case"tracker":return((e=this.tracker)==null?void 0:e.color)||Dm(`#${this.tracker.tag}`);case"person":return((t=this.person)==null?void 0:t.color)||Dm(`@${this.person.username}`);case"context":return((n=this.ctx)==null?void 0:n.color)||Dm(`+${this.context}`);default:return Dm(`unknown-${this.id}`)}}getNoteValue(e,t=!0){const n=this.tag,r=e||this.value||this.defaultValue||NaN;if(this.type=="tracker"){let s=[];return!isNaN(r)&&Ci.truthy(r)?s.push(`${n}(${r})`):s.push(`${n}`),t&&s.push(this.tracker.getIncluded(gi(r))),s.join(" ")}else if(Wue(r)&&this.type!=="person")return`${n}(${r})`;return n}get tag(){if(this.type=="tracker")return this.tracker.tag?`#${this.tracker.tag}`:void 0;if(this.type=="person")return this.person.username?`@${this.person.username}`:void 0;if(this.type==="context")return this.ctx.tag?`+${this.ctx.tag}`:void 0}tagWithValue(e){return e?`${this.tag}(${e})`:this.tag}}const wd=i=>{const e=Te(i),t=e.format("DD").substring(0,1);return`${e.format("YYYY-MM-")}${t}`},xue=(i,e)=>{let t=i.startOf("day"),n=e.endOf("day"),r=Math.abs(n.diff(t,"day"))+1;const s={};for(let l=0;l<r;l++){const o=wd(t.add(l,"day"));s.hasOwnProperty(o)||(s[o]=o)}return Object.keys(s)},TR=i=>{const e=sc(i),t=e.filter(n=>n.type==="generic").length;return Math.round(100*Nt.percentage(e.length,t))/100},Gue=i=>TR(i)>=50,AR=i=>i.split(" ").length<5?!1:Gue(i),PR=(i,e=!1)=>e&&i.value?`${i.prefix}${i.id}(${i.value})`:`${i.prefix}${i.id}`,rr=(i,e={})=>{if(["tracker","person","context"].indexOf(i.type)>-1){const t=`${i.prefix}${i.id}`;let n=e[t];return n?(n.value=gi(i.value),i.type=="tracker"&&n.value,n):(n||(i.type==="tracker"?(n=new qi({tag:t}).toTrackable(),n.value=i.value?gi(`${i.value}`):NaN,n.tracker.default=n.value):i.type==="person"?n=new Xa({username:`${i.id}`}).toTrackable():i.type==="context"&&(n=new r0({tag:i.id,label:i.id}).toTrackable(),n.value=i.value?gi(`${i.value}`):NaN)),n)}else return};class gn{constructor(e){je(this,"_dirty");je(this,"_id");je(this,"note");je(this,"start");je(this,"end");je(this,"score");je(this,"lat");je(this,"lng");je(this,"location");je(this,"offset");je(this,"modified");je(this,"source");je(this,"pinned");je(this,"trackers");je(this,"people");je(this,"context");e=e||{},this._dirty=e._id?void 0:!0,this._id=e._id||Jn(10),this.note=(e.note||e.notes||"").trim(),this.end=e.end?new Date(e.end):new Date,this.start=e.start?new Date(e.start):new Date(this.end.getTime()-1e3),this.pinned=!!e.pinned,this.score=e.score,this.lat=e.lat||null,this.lng=e.lng||null,this.location=e.location||"",this.offset=e.offset||new Date().getTimezoneOffset(),this.modified=e.modified||!1,this.source=e.source||null}get hasNote(){return TR(this.note||"")>5}endDayjs(){return Te(this.end)}startDayjs(){return Te(this.start)}get elements(){return sc(this.note)}get bookId(){return wd(this.end)}get hasTodo(){return`${this.note||""}`.search(/(\[\]|\[x\])/gi)>-1}toObject(){return{_id:this._id,note:this.note,end:this.end,start:this.start,score:this.score,lat:this.lat,lng:this.lng,location:this.location,source:this.source,modified:this.modified}}hash(){return hK([this.note,this.start,this.end,this.lat,this.lng].join(""))}isValid(){return!!(this.note.length>0||this.lat||this.lng)}calculateScore(e){return Cf(this.note,this.end,e)}setScore(e){this.score=e}addTag(e,t){return t?this.note=`${this.note} #${e}(${t})`:this.note=`${this.note} #${e}`,this.getMeta(),this}get geoType(){return{lat:this.lat,lng:this.lng,name:this.location}}hasTracker(e){return this.trackers||this.getMeta(),!!this.trackers.find(t=>t.id==e)}getTrackerValues(e){return this.trackers.filter(t=>t.id==e).map(t=>t.value)}noteTextLength(){return this.getScrubbedNote().length}getScrubbedNote(){return this.note.split(" ").filter(t=>!(t.length>1&&t.substr(0,1)=="#")).join(" ")}expand(){return this.expanded()}expanded(){return Object.assign(this,{tokens:np.parse(this.note),duration:this.end.getTime()-this.start.getTime(),startDate:new Date(this.start),endDate:new Date(this.end)})}getTrackerValue(e,t="sum"){let n=this.getMeta().trackers.filter(r=>r.id==e).map(r=>parseFloat(`${r.value}`));return t=="sum"?Nt.round(Nt.sum(n)):Nt.round(Nt.average(n))}getTrackables(e={}){const t=this.getMeta(),n=[];return t.trackers.forEach(r=>{let s=rr(r,e);n.push(new Wi(s))}),t.people.forEach(r=>{n.push(rr(r,e))}),t.context.forEach(r=>{n.push(rr(r,e))}),n.filter(r=>r)}getMeta(){let e=np.parse(this.note);return Object.assign(this,{duration:this.end.getTime()-this.start.getTime(),startDate:Te(this.start),endDate:Te(this.end),people:e.filter(t=>t.type=="person"),context:e.filter(t=>t.type=="context"),trackers:e.filter(t=>t.type=="tracker")})}}var Zue=$f,Xue=function(){return Zue.Date.now()},Kue=Xue,Jue=hh,vb=Kue,S4=_y,Que="Expected a function",ece=Math.max,tce=Math.min;function nce(i,e,t){var n,r,s,l,o,a,u=0,c=!1,f=!1,d=!0;if(typeof i!="function")throw new TypeError(Que);e=S4(e)||0,Jue(t)&&(c=!!t.leading,f="maxWait"in t,s=f?ece(S4(t.maxWait)||0,e):s,d="trailing"in t?!!t.trailing:d);function m(M){var R=n,Y=r;return n=r=void 0,u=M,l=i.apply(Y,R),l}function p(M){return u=M,o=setTimeout($,e),c?m(M):l}function g(M){var R=M-a,Y=M-u,z=e-R;return f?tce(z,s-Y):z}function k(M){var R=M-a,Y=M-u;return a===void 0||R>=e||R<0||f&&Y>=s}function $(){var M=vb();if(k(M))return C(M);o=setTimeout($,g(M))}function C(M){return o=void 0,d&&n?m(M):(n=r=void 0,l)}function E(){o!==void 0&&clearTimeout(o),u=0,n=a=r=o=void 0}function S(){return o===void 0?l:C(vb())}function T(){var M=vb(),R=k(M);if(n=arguments,r=this,a=M,R){if(o===void 0)return p(a);if(f)return clearTimeout(o),o=setTimeout($,e),m(a)}return o===void 0&&(o=setTimeout($,e)),l}return T.cancel=E,T.flush=S,T}var Ey=nce;function ice(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Magnet"),r=ye("path"),s=ye("path"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(r,"d","M191.98 463.79v-48M90.16 421.61l33.94-33.94M47.98 319.79h48"),h(s,"d","M267.56 312.32l-31.11 31.11a16 16 0 000 22.63l45.26 45.25a16 16 0 0022.62 0l31.12-31.11a4 4 0 000-5.66l-62.23-62.22a4 4 0 00-5.66 0zM131.8 176.55l-31.11 31.12a16 16 0 000 22.62l45.25 45.26a16 16 0 0022.63 0l31.11-31.11a4 4 0 000-5.66l-62.22-62.23a4 4 0 00-5.66 0zM428.85 83.28a144 144 0 00-203.71-.06l-65.06 65.05a4 4 0 000 5.66l62.23 62.22a4 4 0 005.66 0l65-65.05a48 48 0 0168.46.59c18.3 18.92 17.47 49.24-1.14 67.85L295.85 284a4 4 0 000 5.66l62.22 62.23a4 4 0 005.66 0l64.08-64.08c56.37-56.34 57.37-148.13 1.04-204.53z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function rce(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class sce extends pe{constructor(e){super(),me(this,e,rce,ice,he,{size:0})}}const lce=i=>({}),T4=i=>({}),oce=i=>({}),A4=i=>({}),ace=i=>({}),P4=i=>({});function uce(i){let e,t,n,r,s,l,o,a,u,c;const f=i[5].left,d=nt(f,i,i[4],P4),m=i[5].main,p=nt(m,i,i[4],A4),g=i[5].default,k=nt(g,i,i[4],null),$=i[5].right,C=nt($,i,i[4],T4);return{c(){e=P("div"),t=P("div"),d&&d.c(),n=W(),r=P("div"),p&&p.c(),s=W(),k&&k.c(),o=W(),a=P("div"),C&&C.c(),h(t,"class","left"),h(r,"class",l="main "+i[2]),h(a,"class","flex items-center justify-end text-right right"),h(e,"class",u="n-toolbar-grid "+(i[3]?"shadow":"")+" "+i[0]),h(e,"style",i[1])},m(E,S){w(E,e,S),D(e,t),d&&d.m(t,null),D(e,n),D(e,r),p&&p.m(r,null),D(r,s),k&&k.m(r,null),D(e,o),D(e,a),C&&C.m(a,null),c=!0},p(E,[S]){d&&d.p&&(!c||S&16)&&rt(d,f,E,E[4],c?it(f,E[4],S,ace):st(E[4]),P4),p&&p.p&&(!c||S&16)&&rt(p,m,E,E[4],c?it(m,E[4],S,oce):st(E[4]),A4),k&&k.p&&(!c||S&16)&&rt(k,g,E,E[4],c?it(g,E[4],S,null):st(E[4]),null),(!c||S&4&&l!==(l="main "+E[2]))&&h(r,"class",l),C&&C.p&&(!c||S&16)&&rt(C,$,E,E[4],c?it($,E[4],S,lce):st(E[4]),T4),(!c||S&9&&u!==(u="n-toolbar-grid "+(E[3]?"shadow":"")+" "+E[0]))&&h(e,"class",u),(!c||S&2)&&h(e,"style",E[1])},i(E){c||(_(d,E),_(p,E),_(k,E),_(C,E),c=!0)},o(E){v(d,E),v(p,E),v(k,E),v(C,E),c=!1},d(E){E&&y(e),d&&d.d(E),p&&p.d(E),k&&k.d(E),C&&C.d(E)}}}function cce(i,e,t){let{$$slots:n={},$$scope:r}=e,{className:s=""}=e,{style:l=""}=e,{mainClass:o=""}=e,{shadow:a=!1}=e;return i.$$set=u=>{"className"in u&&t(0,s=u.className),"style"in u&&t(1,l=u.style),"mainClass"in u&&t(2,o=u.mainClass),"shadow"in u&&t(3,a=u.shadow),"$$scope"in u&&t(4,r=u.$$scope)},[s,l,o,a,r,n]}class Sn extends pe{constructor(e){super(),me(this,e,cce,uce,he,{className:0,style:1,mainClass:2,shadow:3})}}function fce(i){try{const e=document.createElement("textarea");return e.value=i,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),!0}catch(e){alert(e.message)}}new lc("\u{1F4F2} Device Store");const so={xs:-1,sm:0,md:350,lg:767,xl:1280,"2xl":1536},A2={appName:navigator.appName,appCodeName:navigator.appCodeName,appVersion:navigator.appVersion,userAgent:navigator.userAgent,product:navigator.product},N4=JSON.stringify(A2).toLowerCase(),bb=function(i){if(i>so.xs&&i<so.sm)return"xs";if(i>so.sm&&i<so.md)return"sm";if(i>so.md&&i<so.lg)return"md";if(i>so.lg&&i<so.xl)return"lg";if(i>so.xl)return"xl"},NR={xs:"0.94em",sm:"0.98em",md:"1.15em",lg:"1.25em",xl:"1.4em"},dce=()=>{let i=N4.match(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i),e=i?i[0]:"browser";const t={lastUrl:"",width:window.innerWidth,height:window.innerHeight,platform:navigator.platform,device:e,offline:!navigator.onLine,pwa:window.navigator.standalone===!0||window.matchMedia("(display-mode: standalone)").matches,info:A2,size:bb(window.innerWidth),fontSize:localStorage.getItem("fontSize")||"md"},{update:n,subscribe:r,set:s}=rn(t);document.documentElement.style.fontSize=NR[t.fontSize]||"16px";const l=a=>{n(u=>({...u,...a}))};return{subscribe:r,update:n,set:s,...{copy(a,u){fce(a),qn({message:u||"Copied"})},tempURL(a,u=""){n(c=>(c.lastUrl=document.location.pathname,c)),window.history.pushState({},u,a)},restoreURL(){n(a=>{let u=a.lastUrl;return window.history.pushState({},"Nomie",u),a.lastUrl=void 0,a})},isDesktop(){return document.body.scrollWidth>=900},iOS(){return/iPad|iPhone|iPod/.test(navigator.platform)?!0:navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)},scrollToTop(){document.body.scrollTop=document.documentElement.scrollTop=0},open(a){window.open(`${a}`,"_blank")},isSmallerThan(a){return window.innerWidth<so[a]},isLargerThan(a){return window.innerWidth>so[a]},reload(){window.location.reload()},is(a){return typeof a=="string"&&(a=new RegExp(a,"gi")),N4.match(a)},init(){const a=()=>{navigator.onLine?(document.body.classList.remove("is-offline"),window.offline=!1,l({offline:!1,width:window.innerWidth,size:bb(window.innerWidth),height:window.innerHeight})):(document.body.classList.add("is-offline"),window.offline=!0,l({offline:!0,width:window.innerWidth,size:bb(window.innerWidth),height:window.innerHeight}))};window.addEventListener("online",a),window.addEventListener("offline",a),window.addEventListener("resize",a),a()}},info:A2}},Ni=dce(),hce=i=>{const e=NR[i]||"16px";localStorage.setItem("fontSize",i),document.documentElement.style.fontSize=e,Ni.update(t=>(t.fontSize=i,t))};function M4(i,e,t){const n=i.slice();return n[28]=e[t],n}function L4(i,e,t){const n=i.slice();return n[31]=e[t],n}function O4(i,e,t){const n=i.slice();return n[31]=e[t],n}function I4(i){let e,t,n,r,s,l,o,a,u,c,f,d,m=i[4]&&B4(i);function p(S,T){return S[3]?pce:mce}let g=p(i),k=g(i),$=i[12],C=[];for(let S=0;S<$.length;S+=1)C[S]=j4(M4(i,$,S));let E=!i[3]&&Y4(i);return{c(){e=P("div"),t=P("div"),n=P("div"),m&&m.c(),r=W(),k.c(),s=W(),l=P("span"),l.textContent=":",o=W(),a=P("select");for(let S=0;S<C.length;S+=1)C[S].c();u=W(),E&&E.c(),h(l,"class","blinker"),h(a,"class","minutes"),i[7]===void 0&&Ei(()=>i[23].call(a)),h(n,"class","flex items-center time-parts"),h(t,"class","time-picker"),h(e,"class",c="time-picker-wrapper "+i[1]),h(e,"style",i[2])},m(S,T){w(S,e,T),D(e,t),D(t,n),m&&m.m(n,null),D(n,r),k.m(n,null),D(n,s),D(n,l),D(n,o),D(n,a);for(let M=0;M<C.length;M+=1)C[M].m(a,null);ei(a,i[7]),D(t,u),E&&E.m(t,null),f||(d=[Se(a,"blur",i[17]),Se(a,"change",i[23]),Se(a,"change",i[14])],f=!0)},p(S,T){if(S[4]?m?m.p(S,T):(m=B4(S),m.c(),m.m(n,r)):m&&(m.d(1),m=null),g===(g=p(S))&&k?k.p(S,T):(k.d(1),k=g(S),k&&(k.c(),k.m(n,s))),T[0]&4224){$=S[12];let M;for(M=0;M<$.length;M+=1){const R=M4(S,$,M);C[M]?C[M].p(R,T):(C[M]=j4(R),C[M].c(),C[M].m(a,null))}for(;M<C.length;M+=1)C[M].d(1);C.length=$.length}T[0]&4224&&ei(a,S[7]),S[3]?E&&(E.d(1),E=null):E?E.p(S,T):(E=Y4(S),E.c(),E.m(t,null)),T[0]&2&&c!==(c="time-picker-wrapper "+S[1])&&h(e,"class",c),T[0]&4&&h(e,"style",S[2])},d(S){S&&y(e),m&&m.d(),k.d(),pt(C,S),E&&E.d(),f=!1,Ot(d)}}}function B4(i){let e,t,n=i[0].format(i[13].tinyDate)+"",r,s,l,o;return{c(){e=P("div"),t=P("button"),r=K(n),h(t,"class","text-sm font-bold px-2 uppercase"),h(e,"class",s="section "+i[5]+" border-r border-gray-500 border-opacity-30 mr-1")},m(a,u){w(a,e,u),D(e,t),D(t,r),l||(o=Se(t,"click",i[20]),l=!0)},p(a,u){u[0]&1&&n!==(n=a[0].format(a[13].tinyDate)+"")&&de(r,n),u[0]&32&&s!==(s="section "+a[5]+" border-r border-gray-500 border-opacity-30 mr-1")&&h(e,"class",s)},d(a){a&&y(e),l=!1,o()}}}function mce(i){let e,t,n,r=i[10],s=[];for(let l=0;l<r.length;l+=1)s[l]=R4(L4(i,r,l));return{c(){e=P("select");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"class","hour"),i[9]===void 0&&Ei(()=>i[22].call(e))},m(l,o){w(l,e,o);for(let a=0;a<s.length;a+=1)s[a].m(e,null);ei(e,i[9]),t||(n=[Se(e,"blur",i[19]),Se(e,"change",i[22]),Se(e,"change",i[14])],t=!0)},p(l,o){if(o[0]&1536){r=l[10];let a;for(a=0;a<r.length;a+=1){const u=L4(l,r,a);s[a]?s[a].p(u,o):(s[a]=R4(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}o[0]&1536&&ei(e,l[9])},d(l){l&&y(e),pt(s,l),t=!1,Ot(n)}}}function pce(i){let e,t,n,r=i[10],s=[];for(let l=0;l<r.length;l+=1)s[l]=z4(O4(i,r,l));return{c(){e=P("select");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"class","hour"),i[6]===void 0&&Ei(()=>i[21].call(e))},m(l,o){w(l,e,o);for(let a=0;a<s.length;a+=1)s[a].m(e,null);ei(e,i[6]),t||(n=[Se(e,"blur",i[18]),Se(e,"change",i[21]),Se(e,"change",i[14])],t=!0)},p(l,o){if(o[0]&1088){r=l[10];let a;for(a=0;a<r.length;a+=1){const u=O4(l,r,a);s[a]?s[a].p(u,o):(s[a]=z4(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}o[0]&1088&&ei(e,l[6])},d(l){l&&y(e),pt(s,l),t=!1,Ot(n)}}}function R4(i){let e,t=(`${i[31]}`.length==1?`0${i[31]}`:i[31])+"",n,r,s,l,o;return{c(){e=P("option"),n=K(t),r=W(),h(e,"data-hour12",i[9]),h(e,"data-mmatch",s=`${i[31]}`==`${i[9]}`),e.__value=l=i[31],e.value=e.__value,e.selected=o=`${i[31]}`==`${i[9]}`,gt(e,"text-align","center")},m(a,u){w(a,e,u),D(e,n),D(e,r)},p(a,u){u[0]&1024&&t!==(t=(`${a[31]}`.length==1?`0${a[31]}`:a[31])+"")&&de(n,t),u[0]&1536&&h(e,"data-hour12",a[9]),u[0]&1536&&s!==(s=`${a[31]}`==`${a[9]}`)&&h(e,"data-mmatch",s),u[0]&1024&&l!==(l=a[31])&&(e.__value=l,e.value=e.__value),u[0]&1536&&o!==(o=`${a[31]}`==`${a[9]}`)&&(e.selected=o)},d(a){a&&y(e)}}}function z4(i){let e,t=(`${i[31]}`.length==1?`0${i[31]}`:i[31])+"",n,r,s,l;return{c(){e=P("option"),n=K(t),r=W(),e.__value=s=i[31],e.value=e.__value,e.selected=l=i[31]===i[6],gt(e,"text-align","center")},m(o,a){w(o,e,a),D(e,n),D(e,r)},p(o,a){a[0]&1024&&t!==(t=(`${o[31]}`.length==1?`0${o[31]}`:o[31])+"")&&de(n,t),a[0]&1024&&s!==(s=o[31])&&(e.__value=s,e.value=e.__value),a[0]&1088&&l!==(l=o[31]===o[6])&&(e.selected=l)},d(o){o&&y(e)}}}function j4(i){let e,t=(`${i[28]}`.length==1?`0${i[28]}`:i[28])+"",n,r,s;return{c(){e=P("option"),n=K(t),r=W(),e.__value=i[28],e.value=e.__value,e.selected=s=i[28]==i[7]},m(l,o){w(l,e,o),D(e,n),D(e,r)},p(l,o){o[0]&4224&&s!==(s=l[28]==l[7])&&(e.selected=s)},d(l){l&&y(e)}}}function Y4(i){let e,t,n,r,s;return{c(){e=P("select"),t=P("option"),t.textContent="AM",n=P("option"),n.textContent="PM",t.__value="am",t.value=t.__value,n.__value="pm",n.value=n.__value,i[8]===void 0&&Ei(()=>i[24].call(e))},m(l,o){w(l,e,o),D(e,t),D(e,n),ei(e,i[8]),r||(s=[Se(e,"change",i[24]),Se(e,"change",i[25])],r=!0)},p(l,o){o[0]&256&&ei(e,l[8])},d(l){l&&y(e),r=!1,Ot(s)}}}function _ce(i){let e,t=i[0]&&I4(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,r){n[0]?t?t.p(n,r):(t=I4(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(n){t&&t.d(n),n&&y(e)}}}function gce(i,e,t){let n;const r=Ut();let{time:s=new Date().getTime()}=e,{className:l=""}=e,{style:o=""}=e,{is24Hour:a}=e,{showDateButton:u=!1}=e,{dateButtonClass:c=""}=e,{value:f=void 0}=e,d,m,p,g,k,$=Array(24).fill(0).map(({},q)=>q),C=Array(12).fill(0).map(({},q)=>q+1),E=Array(60).fill(0).map(({},q)=>q);const S=pi();function T(q){let le=f,G=le.get("day"),X=m;a||(X=k,X==12&&g=="am"?X=0:g=="am"&&X>12?X=X-12:g=="pm"&&X<12&&(X=X+12));const se=le.set("hour",X).set("minute",p).set("day",G);r("change",se.toDate())}function M(q){$l.call(this,i,q)}function R(q){$l.call(this,i,q)}function Y(q){$l.call(this,i,q)}const z=()=>{r("dateClick")};function j(){m=qo(this),t(6,m),t(0,f),t(16,d),t(15,s),t(10,n),t(3,a),t(26,$),t(27,C)}function V(){k=qo(this),t(9,k),t(0,f),t(16,d),t(6,m),t(15,s),t(10,n),t(3,a),t(26,$),t(27,C)}function x(){p=qo(this),t(7,p),t(0,f),t(16,d),t(6,m),t(15,s),t(12,E)}function ee(){g=qo(this),t(8,g),t(0,f),t(16,d),t(6,m),t(15,s)}const J=()=>T();return i.$$set=q=>{"time"in q&&t(15,s=q.time),"className"in q&&t(1,l=q.className),"style"in q&&t(2,o=q.style),"is24Hour"in q&&t(3,a=q.is24Hour),"showDateButton"in q&&t(4,u=q.showDateButton),"dateButtonClass"in q&&t(5,c=q.dateButtonClass),"value"in q&&t(0,f=q.value)},i.$$.update=()=>{i.$$.dirty[0]&32768&&s&&t(0,f=Te(new Date(s))),i.$$.dirty[0]&8&&t(10,n=a?$:C),i.$$.dirty[0]&65601&&f&&f.format("hh:mm a")!==Te(d||"2010-01-01T01:01:01").format("hh:mm a")&&(t(16,d=f),t(6,m=parseInt(f.format("HH"))),t(9,k=(m+11)%12+1),t(7,p=parseInt(f.format("mm"))),t(8,g=f.format("a")))},[f,l,o,a,u,c,m,p,g,k,n,r,E,S,T,s,d,M,R,Y,z,j,V,x,ee,J]}class MR extends pe{constructor(e){super(),me(this,e,gce,_ce,he,{time:15,className:1,style:2,is24Hour:3,showDateButton:4,dateButtonClass:5,value:0},null,[-1,-1])}}function U4(i,e,t){const n=i.slice();return n[12]=e[t],n}function W4(i){let e,t,n,r,s,l,o,a,u,c,f,d=i[8].filter(V4).sort(x4),m=[];for(let p=0;p<d.length;p+=1)m[p]=H4(U4(i,d,p));return{c(){e=P("div"),t=P("div");for(let p=0;p<m.length;p+=1)m[p].c();n=W(),r=P("div"),s=P("div"),l=P("span"),o=K(i[6]),h(s,"class","score-ball is-neutral"),h(r,"class","unit neutral"),h(r,"data-score",i[2]),h(r,"style",a=`height:${i[5]}; width:${i[7].percent}%`),h(t,"class","bar"),gt(t,"height",i[5]),h(e,"class",u="positivity-bar cursor-pointer "+i[3]+" "+(i[6]<0?"is-negative":i[6]>0?"is-positive":"is-neutral")),h(e,"style",i[4])},m(p,g){w(p,e,g),D(e,t);for(let k=0;k<m.length;k+=1)m[k].m(t,null);D(t,n),D(t,r),D(r,s),D(s,l),D(l,o),c||(f=Se(e,"click",i[10]),c=!0)},p(p,g){if(g&352){d=p[8].filter(V4).sort(x4);let k;for(k=0;k<d.length;k+=1){const $=U4(p,d,k);m[k]?m[k].p($,g):(m[k]=H4($),m[k].c(),m[k].m(t,n))}for(;k<m.length;k+=1)m[k].d(1);m.length=d.length}g&64&&de(o,p[6]),g&4&&h(r,"data-score",p[2]),g&160&&a!==(a=`height:${p[5]}; width:${p[7].percent}%`)&&h(r,"style",a),g&32&&gt(t,"height",p[5]),g&72&&u!==(u="positivity-bar cursor-pointer "+p[3]+" "+(p[6]<0?"is-negative":p[6]>0?"is-positive":"is-neutral"))&&h(e,"class",u),g&16&&h(e,"style",p[4])},d(p){p&&y(e),pt(m,p),c=!1,f()}}}function q4(i){let e,t,n,r,s,l,o,a;return{c(){e=P("div"),t=P("div"),n=P("span"),r=K(i[6]),h(t,"class",s="score-ball "+(i[6]<0?"is-negative":i[6]>0?"is-positive":"is-neutral")),h(e,"class",l="unit relative "+i[12].type),h(e,"data-score",o=i[12].count),h(e,"style",a=`height:${i[5]}; width:${i[12].percent}%`)},m(u,c){w(u,e,c),D(e,t),D(t,n),D(n,r)},p(u,c){c&64&&de(r,u[6]),c&64&&s!==(s="score-ball "+(u[6]<0?"is-negative":u[6]>0?"is-positive":"is-neutral"))&&h(t,"class",s),c&256&&l!==(l="unit relative "+u[12].type)&&h(e,"class",l),c&256&&o!==(o=u[12].count)&&h(e,"data-score",o),c&288&&a!==(a=`height:${u[5]}; width:${u[12].percent}%`)&&h(e,"style",a)},d(u){u&&y(e)}}}function H4(i){let e,t=(i[12].count>0||i[12].count<0)&&q4(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,r){n[12].count>0||n[12].count<0?t?t.p(n,r):(t=q4(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&y(e)}}}function vce(i){let e,t=(i[1]||i[2]||i[0])&&W4(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[1]||n[2]||n[0]?t?t.p(n,r):(t=W4(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(n){t&&t.d(n),n&&y(e)}}}const V4=i=>i.type!=="neutral",x4=(i,e)=>i.count>e.count?1:-1;function bce(i,e,t){let{positive:n}=e,{negative:r}=e,{neutral:s}=e,{className:l=""}=e,{style:o=""}=e,{height:a="8pt"}=e,u=0,c={type:"neutral",count:0,percent:0},f=[];function d(){let g=`Using your total negative (red), positive (green), and neutral (gray) events for the day, Nomie calculates your Positivity Score. 
      ${f.map(k=>`${Nt.round(k.count)} ${k.type}`).join(", ")}
    `;at.alert("What is this?",g)}function m(){let g=Nt.sum([r,s,n]),k=Nt.percentage(g,r),$=Nt.percentage(g,s),C=Nt.percentage(g,n);t(7,c={type:"neutral",percent:$,count:s}),t(8,f=[{type:"negative",percent:k,count:r},{type:"positive",percent:C,count:n},{type:"neutral",percent:$,count:s}]),t(6,u=n-r)}const p=()=>d();return i.$$set=g=>{"positive"in g&&t(0,n=g.positive),"negative"in g&&t(1,r=g.negative),"neutral"in g&&t(2,s=g.neutral),"className"in g&&t(3,l=g.className),"style"in g&&t(4,o=g.style),"height"in g&&t(5,a=g.height)},i.$$.update=()=>{i.$$.dirty&7&&s|n|r&&m()},[n,r,s,l,o,a,u,c,f,d,p]}class kce extends pe{constructor(e){super(),me(this,e,bce,vce,he,{positive:0,negative:1,neutral:2,className:3,style:4,height:5})}}function yce(i){let e,t,n;return{c(){e=P("div"),t=P("div"),t.innerHTML=`<div class="ball-container svelte-lgqs6c"><div class="single-ball svelte-lgqs6c"><div class="ball ball-top-left svelte-lgqs6c">\xA0</div></div> 
      <div class="contener_mixte"><div class="ball ball-top-right svelte-lgqs6c">\xA0</div></div> 
      <div class="contener_mixte"><div class="ball ball-bottom-left svelte-lgqs6c">\xA0</div></div> 
      <div class="contener_mixte"><div class="ball ball-bottom-right svelte-lgqs6c">\xA0</div></div></div>`,h(t,"class","inner svelte-lgqs6c"),h(e,"class","wrapper svelte-lgqs6c"),h(e,"style",n="--size: "+i[0]+i[1]+"; --floatSize: "+i[0]+"; --ballTopLeftColor: "+i[2]+"; --ballTopRightColor: "+i[3]+"; --ballBottomLeftColor: "+i[4]+"; --ballBottomRightColor: "+i[5]+"; --duration: "+i[7]+"; "+i[6])},m(r,s){w(r,e,s),D(e,t)},p(r,[s]){s&255&&n!==(n="--size: "+r[0]+r[1]+"; --floatSize: "+r[0]+"; --ballTopLeftColor: "+r[2]+"; --ballTopRightColor: "+r[3]+"; --ballBottomLeftColor: "+r[4]+"; --ballBottomRightColor: "+r[5]+"; --duration: "+r[7]+"; "+r[6])&&h(e,"style",n)},i:Z,o:Z,d(r){r&&y(e)}}}function wce(i,e,t){let{size:n="60"}=e,{unit:r="px"}=e,{ballTopLeft:s="#FF3E00"}=e,{ballTopRight:l="#F8B334"}=e,{ballBottomLeft:o="#40B3FF"}=e,{ballBottomRight:a="#676778"}=e,{style:u=""}=e,{duration:c="1.5s"}=e;return i.$$set=f=>{"size"in f&&t(0,n=f.size),"unit"in f&&t(1,r=f.unit),"ballTopLeft"in f&&t(2,s=f.ballTopLeft),"ballTopRight"in f&&t(3,l=f.ballTopRight),"ballBottomLeft"in f&&t(4,o=f.ballBottomLeft),"ballBottomRight"in f&&t(5,a=f.ballBottomRight),"style"in f&&t(6,u=f.style),"duration"in f&&t(7,c=f.duration)},[n,r,s,l,o,a,u,c]}class $ce extends pe{constructor(e){super(),me(this,e,wce,yce,he,{size:0,unit:1,ballTopLeft:2,ballTopRight:3,ballBottomLeft:4,ballBottomRight:5,style:6,duration:7})}}function Fce(i){let e,t;return e=new $ce({props:{size:i[0],style:i[1]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.size=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ece(i,e,t){let{size:n=60}=e;const r="";return i.$$set=s=>{"size"in s&&t(0,n=s.size)},[n,r]}class ki extends pe{constructor(e){super(),me(this,e,Ece,Fce,he,{size:0,style:1})}get style(){return this.$$.ctx[1]}}function Cce(i){let e,t;return e=new et({props:{icon:X1,size:24,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function G4(i){let e,t;return e=new He({props:{className:"calendar-action "+(i[0]?"tap-icon":"text-white bg-primary-500"),delay:0,icon:!0,color:"transparent",shape:"round",$$slots:{default:[Dce]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.className="calendar-action "+(n[0]?"tap-icon":"text-white bg-primary-500")),r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Dce(i){let e,t;return e=new et({props:{icon:yf,size:24}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Sce(i){let e,t;return e=new et({props:{icon:rc,size:24,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Tce(i){let e,t,n,r,s,l,o,a;t=new He({props:{className:"previous-action",icon:!0,delay:0,$$slots:{default:[Cce]},$$scope:{ctx:i}}}),t.$on("click",i[6]);let u=!i[1]&&G4(i);const c=i[5].default,f=nt(c,i,i[9],null);return l=new He({props:{className:"next-action",delay:0,icon:!0,$$slots:{default:[Sce]},$$scope:{ctx:i}}}),l.$on("click",i[8]),{c(){e=P("div"),B(t.$$.fragment),n=W(),u&&u.c(),r=W(),f&&f.c(),s=W(),B(l.$$.fragment),h(e,"class",o="flex items-center flex-grow-0 flex-shrink-0 next-prev-cal "+i[3]+" svelte-1apmul7"),h(e,"style",i[2])},m(d,m){w(d,e,m),O(t,e,null),D(e,n),u&&u.m(e,null),D(e,r),f&&f.m(e,null),D(e,s),O(l,e,null),a=!0},p(d,[m]){const p={};m&512&&(p.$$scope={dirty:m,ctx:d}),t.$set(p),d[1]?u&&(ae(),v(u,1,1,()=>{u=null}),ue()):u?(u.p(d,m),m&2&&_(u,1)):(u=G4(d),u.c(),_(u,1),u.m(e,r)),f&&f.p&&(!a||m&512)&&rt(f,c,d,d[9],a?it(c,d[9],m,null):st(d[9]),null);const g={};m&512&&(g.$$scope={dirty:m,ctx:d}),l.$set(g),(!a||m&8&&o!==(o="flex items-center flex-grow-0 flex-shrink-0 next-prev-cal "+d[3]+" svelte-1apmul7"))&&h(e,"class",o),(!a||m&4)&&h(e,"style",d[2])},i(d){a||(_(t.$$.fragment,d),_(u),_(f,d),_(l.$$.fragment,d),a=!0)},o(d){v(t.$$.fragment,d),v(u),v(f,d),v(l.$$.fragment,d),a=!1},d(d){d&&y(e),I(t),u&&u.d(),f&&f.d(d),I(l)}}}function Ace(i,e,t){let{$$slots:n={},$$scope:r}=e,{isToday:s=!0}=e,{hideCal:l=!1}=e,{style:o=""}=e,{className:a=""}=e;const u=Ut(),c=()=>{u("previous")},f=()=>{u("calendar")},d=()=>{u("next")};return i.$$set=m=>{"isToday"in m&&t(0,s=m.isToday),"hideCal"in m&&t(1,l=m.hideCal),"style"in m&&t(2,o=m.style),"className"in m&&t(3,a=m.className),"$$scope"in m&&t(9,r=m.$$scope)},[s,l,o,a,u,n,c,f,d,r]}class mh extends pe{constructor(e){super(),me(this,e,Ace,Tce,he,{isToday:0,hideCal:1,style:2,className:3})}}function Z4(i,e,t){const n=i.slice();return n[33]=e[t],n}function X4(i,e,t){const n=i.slice();return n[33]=e[t],n[37]=t,n}function Pce(i){let e,t,n;return t=new ki({}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","loading flex w-full h-auto justify-center items-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Nce(i){let e,t,n,r,s,l,o,a,u,c,f=i[6]&&K4(i),d=i[0].weekdays||[],m=[];for(let $=0;$<d.length;$+=1)m[$]=Q4(X4(i,d,$));let p=i[12]||[],g=[];for(let $=0;$<p.length;$+=1)g[$]=t6(Z4(i,p,$));let k=i[9]&&!i[10]&&n6(i);return{c(){e=P("div"),t=P("div"),f&&f.c(),n=W(),r=P("div");for(let $=0;$<m.length;$+=1)m[$].c();s=W();for(let $=0;$<g.length;$+=1)g[$].c();a=W(),k&&k.c(),u=Ae(),h(r,"class","body svelte-1s23l4v"),h(t,"class","n-calendar-container calendar svelte-1s23l4v"),h(e,"class",l="n-calendar "+i[2]+" "+i[1]+" "+(i[10]?"compact":"")+" svelte-1s23l4v"),h(e,"style",o=`${i[5]?`width:${i[5]};`:""} ${i[4]?`height:${i[4]};`:""} outline:none;  ${i[3]};`)},m($,C){w($,e,C),D(e,t),f&&f.m(t,null),D(t,n),D(t,r);for(let E=0;E<m.length;E+=1)m[E].m(r,null);D(r,s);for(let E=0;E<g.length;E+=1)g[E].m(r,null);w($,a,C),k&&k.m($,C),w($,u,C),c=!0},p($,C){if($[6]?f?(f.p($,C),C[0]&64&&_(f,1)):(f=K4($),f.c(),_(f,1),f.m(t,n)):f&&(ae(),v(f,1,1,()=>{f=null}),ue()),C[0]&1){d=$[0].weekdays||[];let E;for(E=0;E<d.length;E+=1){const S=X4($,d,E);m[E]?m[E].p(S,C):(m[E]=Q4(S),m[E].c(),m[E].m(r,s))}for(;E<m.length;E+=1)m[E].d(1);m.length=d.length}if(C[0]&102401){p=$[12]||[];let E;for(E=0;E<p.length;E+=1){const S=Z4($,p,E);g[E]?g[E].p(S,C):(g[E]=t6(S),g[E].c(),g[E].m(r,null))}for(;E<g.length;E+=1)g[E].d(1);g.length=p.length}(!c||C[0]&1030&&l!==(l="n-calendar "+$[2]+" "+$[1]+" "+($[10]?"compact":"")+" svelte-1s23l4v"))&&h(e,"class",l),(!c||C[0]&56&&o!==(o=`${$[5]?`width:${$[5]};`:""} ${$[4]?`height:${$[4]};`:""} outline:none;  ${$[3]};`))&&h(e,"style",o),$[9]&&!$[10]?k?(k.p($,C),C[0]&1536&&_(k,1)):(k=n6($),k.c(),_(k,1),k.m(u.parentNode,u)):k&&(ae(),v(k,1,1,()=>{k=null}),ue())},i($){c||(_(f),_(k),c=!0)},o($){v(f),v(k),c=!1},d($){$&&y(e),f&&f.d(),pt(m,$),pt(g,$),$&&y(a),k&&k.d($),$&&y(u)}}}function K4(i){let e,t,n,r,s,l,o,a,u=i[7]&&!i[10]&&J4(i);return{c(){e=P("div"),t=P("div"),n=P("span"),r=K(i[13]),s=W(),l=K(i[14]),o=W(),u&&u.c(),h(n,"class","text-black dark:text-white text-sm svelte-1s23l4v"),h(t,"class","month filler pr-3"),h(e,"class","header flex svelte-1s23l4v")},m(c,f){w(c,e,f),D(e,t),D(t,n),D(n,r),D(n,s),D(n,l),D(e,o),u&&u.m(e,null),a=!0},p(c,f){(!a||f[0]&8192)&&de(r,c[13]),(!a||f[0]&16384)&&de(l,c[14]),c[7]&&!c[10]?u?(u.p(c,f),f[0]&1152&&_(u,1)):(u=J4(c),u.c(),_(u,1),u.m(e,null)):u&&(ae(),v(u,1,1,()=>{u=null}),ue())},i(c){a||(_(u),a=!0)},o(c){v(u),a=!1},d(c){c&&y(e),u&&u.d()}}}function J4(i){let e,t;return e=new mh({props:{hideCal:!i[8]}}),e.$on("previous",i[16].prevMonth),e.$on("next",i[16].nextMonth),e.$on("calendar",i[25]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&256&&(s.hideCal=!n[8]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Q4(i){let e,t=i[33][0]+"",n,r;return{c(){e=P("div"),n=K(t),h(e,"class","day-name svelte-1s23l4v"),h(e,"aria-label",r=i[33])},m(s,l){w(s,e,l),D(e,n)},p(s,l){l[0]&1&&t!==(t=s[33][0]+"")&&de(n,t),l[0]&1&&r!==(r=s[33])&&h(e,"aria-label",r)},d(s){s&&y(e)}}}function e6(i){let e,t,n=i[33].format("D")+"",r,s,l,o,a,u,c;function f(...d){return i[26](i[33],...d)}return{c(){e=P("div"),t=P("span"),r=K(n),h(t,"class","svelte-1s23l4v"),h(e,"data-date",s=i[33].format("YYYY-MM-DD")),h(e,"data-day",l=i[33].format("DD")),h(e,"class",o=jg(i[16].getDayClass(i[33]))+" svelte-1s23l4v"),h(e,"style",a=i[16].getDayStyle(i[33]))},m(d,m){w(d,e,m),D(e,t),D(t,r),u||(c=Se(e,"click",f),u=!0)},p(d,m){i=d,m[0]&4096&&n!==(n=i[33].format("D")+"")&&de(r,n),m[0]&4096&&s!==(s=i[33].format("YYYY-MM-DD"))&&h(e,"data-date",s),m[0]&4096&&l!==(l=i[33].format("DD"))&&h(e,"data-day",l),m[0]&4096&&o!==(o=jg(i[16].getDayClass(i[33]))+" svelte-1s23l4v")&&h(e,"class",o),m[0]&4096&&a!==(a=i[16].getDayStyle(i[33]))&&h(e,"style",a)},d(d){d&&y(e),u=!1,c()}}}function t6(i){let e,t,n=i[33]&&e6(i);return{c(){e=P("div"),n&&n.c(),t=W(),h(e,"class","day-container clickable svelte-1s23l4v")},m(r,s){w(r,e,s),n&&n.m(e,null),D(e,t)},p(r,s){r[33]?n?n.p(r,s):(n=e6(r),n.c(),n.m(e,t)):n&&(n.d(1),n=null)},d(r){r&&y(e),n&&n.d()}}}function n6(i){let e,t;return e=new kce({props:{positive:i[0].totals.positive,neutral:i[0].totals.neutral,negative:i[0].totals.negative}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.positive=n[0].totals.positive),r[0]&1&&(s.neutral=n[0].totals.neutral),r[0]&1&&(s.negative=n[0].totals.negative),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Mce(i){let e,t,n,r;const s=[Nce,Pce],l=[];function o(a,u){return a[0].date&&a[11]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Lce(i,e,t){let n;Le(i,Ht,te=>t(24,n=te));const r=new lc("\u{1F4C5} calendar/calendar"),s=Ut();let{initialDate:l=Te()}=e,{size:o="md"}=e,{className:a=""}=e,{style:u=""}=e,{height:c=void 0}=e,{width:f=void 0}=e,d="sunday",{events:m=[]}=e,{offDays:p=[[1,7]]}=e,{showHeader:g=!0}=e,{showControls:k=!0}=e,{showCalControl:$=!0}=e,{showDetails:C=!0}=e,{tracker:E=null}=e;const S=us.primary_color;let{compact:T=!1}=e,{state:M={date:l.format?l:Te(l),selectedDate:void 0,today:new Date,weekdays:null,percentage:null,totals:{positive:0,negative:0,neutral:0}}}=e,R=!1;Yt(()=>{t(11,R=!0)}),Ns(()=>{t(11,R=!1)});let Y,z="MMMM",j=M.date.startOf("month").toDate().getDay()+1,V=M.date.daysInMonth(),x=M.date.format(z),ee=M.date.format("YYYY"),J=Te(M.date).startOf("month");function q(){t(23,le=M.date),t(0,M.totals.neutral=0,M),t(0,M.totals.positive=0,M),t(0,M.totals.negative=0,M),j=M.date.startOf("month").toDate().getDay()+1,V=M.date.daysInMonth(),t(13,x=M.date.format(z)),t(14,ee=M.date.format("YYYY")),J=Te(M.date).startOf("month");let ie=Array((j-(d==="sunday"?1:2)+7)%7).fill(null),re=Array(V).fill(0).map((be,we)=>Te(J).add(we,"day"));t(12,Y=ie.concat(re)),t(0,M.percentage=re.length/(ie.length+re.length),M)}let le=null;const G={prevMonth(){t(0,M.date=M.date.subtract(1,"month"),M)},nextMonth(){t(0,M.date=M.date.add(1,"month"),M)},generateWeekdayNames(te){let ie=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];if(te==="monday"){let re=ie.shift();ie.push(re)}return ie},refresh(){},goToday(te=!0){t(0,M.date=Te(),M),te&&s("dayClick",M.date)},getDayStyle(te){let ie=0,re,be=m.filter(we=>te.toDate().toDateString()===new Date(we.end).toDateString()).map(we=>(we.trackers||we.getMeta(),E.math=="sum"?Nt.sum(we.getTrackerValues(E.tag)):Nt.average(we.getTrackerValues(E.tag))));return be.length&&(E.math=="sum"?ie=Nt.sum(be):ie=Nt.average(be)),ie&&(re=Qm(ie,E)),be.length?(re==0?t(0,M.totals.neutral=M.totals.neutral+1,M):re>0?t(0,M.totals.positive=M.totals.positive+1,M):re<0&&t(0,M.totals.negative=M.totals.negative+1,M),G.getDayBorder(re)):""},getDayBorder(te){return te?te>0?"font-weight:bold; border:solid 2px var(--color-green); color:#FFF; background-color:var(--color-green)":"font-weight:bold; border:solid 2px var(--color-red); color:#FFF; background-color:var(--color-red)":"font-weight:bold; border:solid 2px var(--color-primary-bright); color:#FFF; background-color:var(--color-primary-bright);"},getDayClass(te){try{const ie=te.format("YYYY-MM-DD"),re=M.date.format("YYYY-MM-DD"),be=(M.selectedDate||Te()).format("YYYY-MM-DD"),we=Te().format("YYYY-MM-DD"),De=m.find(ze=>ie===re);return["day",`day-${te.format("D")}`,`weekday-${te.toDate().getDay()}`,De?"selected":"not-selected",p.includes(te.toDate().getDay())?"off-day":null,ie===we?"today":null,ie===be?"active":"inactive"].join(" ")}catch(ie){return r.error(ie),"error-generating-classes"}}},X=()=>{G.goToday(!1)},se=(te,ie)=>{t(0,M.selectedDate=te,M),s("dayClick",te)};return i.$$set=te=>{"initialDate"in te&&t(17,l=te.initialDate),"size"in te&&t(1,o=te.size),"className"in te&&t(2,a=te.className),"style"in te&&t(3,u=te.style),"height"in te&&t(4,c=te.height),"width"in te&&t(5,f=te.width),"events"in te&&t(18,m=te.events),"offDays"in te&&t(19,p=te.offDays),"showHeader"in te&&t(6,g=te.showHeader),"showControls"in te&&t(7,k=te.showControls),"showCalControl"in te&&t(8,$=te.showCalControl),"showDetails"in te&&t(9,C=te.showDetails),"tracker"in te&&t(20,E=te.tracker),"compact"in te&&t(10,T=te.compact),"state"in te&&t(0,M=te.state)},i.$$.update=()=>{i.$$.dirty[0]&16777216&&t(22,d=n.weekStarts),i.$$.dirty[0]&1024&&(T?z="MMM":z="MMMM"),i.$$.dirty[0]&4325376&&l&&(t(0,M.date=Te(l),M),t(0,M.weekdays=G.generateWeekdayNames(d),M)),i.$$.dirty[0]&8388609&&M.date&&M.date!=le&&q()},[M,o,a,u,c,f,g,k,$,C,T,R,Y,x,ee,s,G,l,m,p,E,S,d,le,n,X,se]}class Oce extends pe{constructor(e){super(),me(this,e,Lce,Mce,he,{initialDate:17,size:1,className:2,style:3,height:4,width:5,events:18,offDays:19,showHeader:6,showControls:7,showCalControl:8,showDetails:9,tracker:20,color:21,compact:10,state:0},null,[-1,-1])}get color(){return this.$$.ctx[21]}}const Ice=i=>({}),i6=i=>({});function r6(i){let e,t,n,r,s,l=(i[6].use24hour?i[4].format("ddd D MMM YYYY"):i[4].format("ddd MMM D YYYY"))+"",o,a,u,c,f,d,m,p,g;const k=i[12].left,$=nt(k,i,i[11],i6);function C(T){i[14](T)}let E={is24Hour:i[6].use24hour};i[0]!==void 0&&(E.time=i[0]),u=new MR({props:E}),Oe.push(()=>Qe(u,"time",C,i[0])),u.$on("change",i[15]);let S=i[5]&&s6(i);return{c(){e=P("div"),t=P("div"),n=P("div"),$&&$.c(),r=W(),s=P("button"),o=K(l),a=W(),B(u.$$.fragment),f=W(),S&&S.c(),h(s,"class","justify-content-start flex-grow text-sm"),h(n,"class","flex"),h(t,"class","date-time-bar"),h(t,"style",i[1]),h(e,"class",d="date-time-bar-wrapper "+(i[3]=="top"?"calendar-top":"calendar-bottom"))},m(T,M){w(T,e,M),D(e,t),D(t,n),$&&$.m(n,null),D(n,r),D(n,s),D(s,o),D(t,a),O(u,t,null),D(e,f),S&&S.m(e,null),m=!0,p||(g=Se(s,"click",i[13]),p=!0)},p(T,M){$&&$.p&&(!m||M&2048)&&rt($,k,T,T[11],m?it(k,T[11],M,Ice):st(T[11]),i6),(!m||M&80)&&l!==(l=(T[6].use24hour?T[4].format("ddd D MMM YYYY"):T[4].format("ddd MMM D YYYY"))+"")&&de(o,l);const R={};M&64&&(R.is24Hour=T[6].use24hour),!c&&M&1&&(c=!0,R.time=T[0],tt(()=>c=!1)),u.$set(R),(!m||M&2)&&h(t,"style",T[1]),T[5]?S?(S.p(T,M),M&32&&_(S,1)):(S=s6(T),S.c(),_(S,1),S.m(e,null)):S&&(ae(),v(S,1,1,()=>{S=null}),ue()),(!m||M&8&&d!==(d="date-time-bar-wrapper "+(T[3]=="top"?"calendar-top":"calendar-bottom")))&&h(e,"class",d)},i(T){m||(_($,T),_(u.$$.fragment,T),_(S),m=!0)},o(T){v($,T),v(u.$$.fragment,T),v(S),m=!1},d(T){T&&y(e),$&&$.d(T),I(u),S&&S.d(),p=!1,g()}}}function s6(i){let e,t,n,r;return t=new Oce({props:{className:i[2],initialDate:i[4],showCalControl:!0}}),t.$on("dayClick",i[16]),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","view date")},m(s,l){w(s,e,l),O(t,e,null),r=!0},p(s,l){i=s;const o={};l&4&&(o.className=i[2]),l&16&&(o.initialDate=i[4]),t.$set(o)},i(s){r||(_(t.$$.fragment,s),Ei(()=>{n||(n=as(e,Yl,{delay:0,duration:300,easing:na},!0)),n.run(1)}),r=!0)},o(s){v(t.$$.fragment,s),n||(n=as(e,Yl,{delay:0,duration:300,easing:na},!1)),n.run(0),r=!1},d(s){s&&y(e),I(t),s&&n&&n.end()}}}function Bce(i){let e,t,n=i[4]&&r6(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[4]?n?(n.p(r,s),s&16&&_(n,1)):(n=r6(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function Rce(i,e,t){let n;Le(i,Ht,M=>t(6,n=M));let{$$slots:r={},$$scope:s}=e;const l=Ut();let{date:o=new Date().getTime()}=e,{opened:a=!1}=e,{style:u=""}=e,{calendarClass:c=""}=e,{calendarPosition:f="bottom"}=e,d,m,p=a;async function g(){t(5,p=!p)}function k(){t(0,o=o||new Date().getTime()),t(4,m=o instanceof Date?Te(o):Te(new Date(o))),t(5,p=a),t(10,d=o)}async function $(M){t(4,m=M),t(4,m),!a&&p&&(await Ps(300),await Ps(200),t(5,p=!1)),l("change",m)}Yt(k);const C=()=>{g()};function E(M){o=M,t(0,o)}const S=M=>{$(Te(new Date(M.detail)))},T=M=>{let R=M.detail.hour(m.hour()).minute(m.minute());$(R)};return i.$$set=M=>{"date"in M&&t(0,o=M.date),"opened"in M&&t(9,a=M.opened),"style"in M&&t(1,u=M.style),"calendarClass"in M&&t(2,c=M.calendarClass),"calendarPosition"in M&&t(3,f=M.calendarPosition),"$$scope"in M&&t(11,s=M.$$scope)},i.$$.update=()=>{i.$$.dirty&1025&&(o&&o!==d||!o&&d)&&k()},[o,u,c,f,m,p,n,g,$,a,d,s,r,C,E,S,T]}class LR extends pe{constructor(e){super(),me(this,e,Rce,Bce,he,{date:0,opened:9,style:1,calendarClass:2,calendarPosition:3})}}function zce(i){let e,t,n,r,s;return{c(){e=P("input"),h(e,"style",i[2]),h(e,"type","datetime-local"),h(e,"placeholder",t=Te().format(i[6])),h(e,"class",n="native-datetime m-0 size-"+i[3])},m(l,o){w(l,e,o),Kn(e,i[5]),i[14](e),r||(s=[Se(e,"input",i[7]),Se(e,"input",i[13])],r=!0)},p(l,o){o&4&&h(e,"style",l[2]),o&64&&t!==(t=Te().format(l[6]))&&h(e,"placeholder",t),o&8&&n!==(n="native-datetime m-0 size-"+l[3])&&h(e,"class",n),o&32&&Kn(e,l[5])},i:Z,o:Z,d(l){l&&y(e),i[14](null),r=!1,Ot(s)}}}function jce(i){let e,t,n;function r(l){i[11](l)}let s={style:i[2]};return i[0]!==void 0&&(s.date=i[0]),e=new LR({props:s}),Oe.push(()=>Qe(e,"date",r,i[0])),e.$on("change",i[12]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o&4&&(a.style=l[2]),!t&&o&1&&(t=!0,a.date=l[0],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function Yce(i){let e,t,n,r,s;const l=[jce,zce],o=[];function a(u,c){return Ni.is(/(firefox)/gi)?0:1}return t=a(),n=o[t]=l[t](i),{c(){e=P("div"),n.c(),h(e,"class",r="n-date-picker "+i[1])},m(u,c){w(u,e,c),o[t].m(e,null),s=!0},p(u,[c]){n.p(u,c),(!s||c&2&&r!==(r="n-date-picker "+u[1]))&&h(e,"class",r)},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),o[t].d()}}}const l6="YYYY-MM-DDTHH:mm";function Uce(i,e,t){let n;Le(i,Ht,E=>t(10,n=E));let{date:r}=e,{time:s=void 0}=e,{className:l=""}=e,{style:o=""}=e,{size:a="sm"}=e;const u=Ut();let c,f,d,m;function p(E){t(8,r=new Date(E.target.value)),t(0,s=r.getTime()),u("change",r)}function g(E){s=E,t(0,s)}const k=E=>{p({target:{value:E.detail}})};function $(){f=this.value,t(5,f),t(0,s),t(9,d)}function C(E){Oe[E?"unshift":"push"](()=>{c=E,t(4,c)})}return i.$$set=E=>{"date"in E&&t(8,r=E.date),"time"in E&&t(0,s=E.time),"className"in E&&t(1,l=E.className),"style"in E&&t(2,o=E.style),"size"in E&&t(3,a=E.size)},i.$$.update=()=>{i.$$.dirty&1024&&t(6,m=n.use24hour?"dd/mm/yyyy HH:mm":"mm/dd/yyyy hh:mm a"),i.$$.dirty&513&&(s?s!==d&&(t(9,d=s),t(5,f=Te(new Date(s)).format(l6))):t(5,f=Te(new Date).format(l6)))},[s,l,o,a,c,f,m,p,r,d,n,g,k,$,C]}class Wce extends pe{constructor(e){super(),me(this,e,Uce,Yce,he,{date:8,time:0,className:1,style:2,size:3})}}const Ii={awardChainDoc(i="local"){return"awards.json"},routes:{board(i){return`/board/${i}`},analytics(){return"/analytics"},search(){return"/search"},history(){return"/history"},dashboard(){return"/dashboard"},people(){return"/people"},settings(){return"/settings"},uoms(){return"/uoms"}},storage:{trackers(){return"trackers.json"},backup(){return"backup-settings.json"},search(){return"searches.json"},book(i){return`${us.data_root}/books/${i}`},boards(){return"boards.json"},uniboards(){return"uniboards.json"},dashboards(){return"dashboards.json"},context(){return"context.json"},csvTemplates(){return"csv-templates.json"},templates(){return"templates.json"},people(){return"people.json"},locations(){return"locations.json"},writingPrompts(){return"writing-prompts.json"},plugins(){return"plugins.json"},goals(){return"goals.json"},awards(){return"awards.json"},lastUsage(){return"last-usage.json"},lastUsed(){return"trackable-usage.json"},trackableUsage(){return"trackable-usage.json"},uom(){return"uoms.json"}},local:{storage(i){return`storage/${i}`},storageType(){return Ii.local.storage("root/storage_type")},sidestore(i){return`${us.data_root}/localDB/${i}`}}};function Q_(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var OR={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(n,r,s){function l(u,c){if(!r[u]){if(!n[u]){var f=typeof Q_=="function"&&Q_;if(!c&&f)return f(u,!0);if(o)return o(u,!0);var d=new Error("Cannot find module '"+u+"'");throw d.code="MODULE_NOT_FOUND",d}var m=r[u]={exports:{}};n[u][0].call(m.exports,function(p){var g=n[u][1][p];return l(g||p)},m,m.exports,t,n,r,s)}return r[u].exports}for(var o=typeof Q_=="function"&&Q_,a=0;a<s.length;a++)l(s[a]);return l}({1:[function(t,n,r){(function(s){var l=s.MutationObserver||s.WebKitMutationObserver,o;if(l){var a=0,u=new l(p),c=s.document.createTextNode("");u.observe(c,{characterData:!0}),o=function(){c.data=a=++a%2}}else if(!s.setImmediate&&typeof s.MessageChannel<"u"){var f=new s.MessageChannel;f.port1.onmessage=p,o=function(){f.port2.postMessage(0)}}else"document"in s&&"onreadystatechange"in s.document.createElement("script")?o=function(){var k=s.document.createElement("script");k.onreadystatechange=function(){p(),k.onreadystatechange=null,k.parentNode.removeChild(k),k=null},s.document.documentElement.appendChild(k)}:o=function(){setTimeout(p,0)};var d,m=[];function p(){d=!0;for(var k,$,C=m.length;C;){for($=m,m=[],k=-1;++k<C;)$[k]();C=m.length}d=!1}n.exports=g;function g(k){m.push(k)===1&&!d&&o()}}).call(this,typeof fi<"u"?fi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,n,r){var s=t(1);function l(){}var o={},a=["REJECTED"],u=["FULFILLED"],c=["PENDING"];n.exports=f;function f(T){if(typeof T!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,T!==l&&g(this,T)}f.prototype.catch=function(T){return this.then(null,T)},f.prototype.then=function(T,M){if(typeof T!="function"&&this.state===u||typeof M!="function"&&this.state===a)return this;var R=new this.constructor(l);if(this.state!==c){var Y=this.state===u?T:M;m(R,Y,this.outcome)}else this.queue.push(new d(R,T,M));return R};function d(T,M,R){this.promise=T,typeof M=="function"&&(this.onFulfilled=M,this.callFulfilled=this.otherCallFulfilled),typeof R=="function"&&(this.onRejected=R,this.callRejected=this.otherCallRejected)}d.prototype.callFulfilled=function(T){o.resolve(this.promise,T)},d.prototype.otherCallFulfilled=function(T){m(this.promise,this.onFulfilled,T)},d.prototype.callRejected=function(T){o.reject(this.promise,T)},d.prototype.otherCallRejected=function(T){m(this.promise,this.onRejected,T)};function m(T,M,R){s(function(){var Y;try{Y=M(R)}catch(z){return o.reject(T,z)}Y===T?o.reject(T,new TypeError("Cannot resolve promise with itself")):o.resolve(T,Y)})}o.resolve=function(T,M){var R=k(p,M);if(R.status==="error")return o.reject(T,R.value);var Y=R.value;if(Y)g(T,Y);else{T.state=u,T.outcome=M;for(var z=-1,j=T.queue.length;++z<j;)T.queue[z].callFulfilled(M)}return T},o.reject=function(T,M){T.state=a,T.outcome=M;for(var R=-1,Y=T.queue.length;++R<Y;)T.queue[R].callRejected(M);return T};function p(T){var M=T&&T.then;if(T&&(typeof T=="object"||typeof T=="function")&&typeof M=="function")return function(){M.apply(T,arguments)}}function g(T,M){var R=!1;function Y(x){R||(R=!0,o.reject(T,x))}function z(x){R||(R=!0,o.resolve(T,x))}function j(){M(z,Y)}var V=k(j);V.status==="error"&&Y(V.value)}function k(T,M){var R={};try{R.value=T(M),R.status="success"}catch(Y){R.status="error",R.value=Y}return R}f.resolve=$;function $(T){return T instanceof this?T:o.resolve(new this(l),T)}f.reject=C;function C(T){var M=new this(l);return o.reject(M,T)}f.all=E;function E(T){var M=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=T.length,Y=!1;if(!R)return this.resolve([]);for(var z=new Array(R),j=0,V=-1,x=new this(l);++V<R;)ee(T[V],V);return x;function ee(J,q){M.resolve(J).then(le,function(G){Y||(Y=!0,o.reject(x,G))});function le(G){z[q]=G,++j===R&&!Y&&(Y=!0,o.resolve(x,z))}}}f.race=S;function S(T){var M=this;if(Object.prototype.toString.call(T)!=="[object Array]")return this.reject(new TypeError("must be an array"));var R=T.length,Y=!1;if(!R)return this.resolve([]);for(var z=-1,j=new this(l);++z<R;)V(T[z]);return j;function V(x){M.resolve(x).then(function(ee){Y||(Y=!0,o.resolve(j,ee))},function(ee){Y||(Y=!0,o.reject(j,ee))})}}},{1:1}],3:[function(t,n,r){(function(s){typeof s.Promise!="function"&&(s.Promise=t(2))}).call(this,typeof fi<"u"?fi:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,n,r){var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ge){return typeof ge}:function(ge){return ge&&typeof Symbol=="function"&&ge.constructor===Symbol&&ge!==Symbol.prototype?"symbol":typeof ge};function l(ge,Re){if(!(ge instanceof Re))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var a=o();function u(){try{if(!a||!a.open)return!1;var ge=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Re=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!ge||Re)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function c(ge,Re){ge=ge||[],Re=Re||{};try{return new Blob(ge,Re)}catch(Ie){if(Ie.name!=="TypeError")throw Ie;for(var Ee=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,We=new Ee,Ge=0;Ge<ge.length;Ge+=1)We.append(ge[Ge]);return We.getBlob(Re.type)}}typeof Promise>"u"&&t(3);var f=Promise;function d(ge,Re){Re&&ge.then(function(Ee){Re(null,Ee)},function(Ee){Re(Ee)})}function m(ge,Re,Ee){typeof Re=="function"&&ge.then(Re),typeof Ee=="function"&&ge.catch(Ee)}function p(ge){return typeof ge!="string"&&(console.warn(ge+" used as a key, but it is not a string."),ge=String(ge)),ge}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var k="local-forage-detect-blob-support",$=void 0,C={},E=Object.prototype.toString,S="readonly",T="readwrite";function M(ge){for(var Re=ge.length,Ee=new ArrayBuffer(Re),We=new Uint8Array(Ee),Ge=0;Ge<Re;Ge++)We[Ge]=ge.charCodeAt(Ge);return Ee}function R(ge){return new f(function(Re){var Ee=ge.transaction(k,T),We=c([""]);Ee.objectStore(k).put(We,"key"),Ee.onabort=function(Ge){Ge.preventDefault(),Ge.stopPropagation(),Re(!1)},Ee.oncomplete=function(){var Ge=navigator.userAgent.match(/Chrome\/(\d+)/),Ie=navigator.userAgent.match(/Edge\//);Re(Ie||!Ge||parseInt(Ge[1],10)>=43)}}).catch(function(){return!1})}function Y(ge){return typeof $=="boolean"?f.resolve($):R(ge).then(function(Re){return $=Re,$})}function z(ge){var Re=C[ge.name],Ee={};Ee.promise=new f(function(We,Ge){Ee.resolve=We,Ee.reject=Ge}),Re.deferredOperations.push(Ee),Re.dbReady?Re.dbReady=Re.dbReady.then(function(){return Ee.promise}):Re.dbReady=Ee.promise}function j(ge){var Re=C[ge.name],Ee=Re.deferredOperations.pop();if(Ee)return Ee.resolve(),Ee.promise}function V(ge,Re){var Ee=C[ge.name],We=Ee.deferredOperations.pop();if(We)return We.reject(Re),We.promise}function x(ge,Re){return new f(function(Ee,We){if(C[ge.name]=C[ge.name]||re(),ge.db)if(Re)z(ge),ge.db.close();else return Ee(ge.db);var Ge=[ge.name];Re&&Ge.push(ge.version);var Ie=a.open.apply(a,Ge);Re&&(Ie.onupgradeneeded=function(dt){var Ft=Ie.result;try{Ft.createObjectStore(ge.storeName),dt.oldVersion<=1&&Ft.createObjectStore(k)}catch(Mt){if(Mt.name==="ConstraintError")console.warn('The database "'+ge.name+'" has been upgraded from version '+dt.oldVersion+" to version "+dt.newVersion+', but the storage "'+ge.storeName+'" already exists.');else throw Mt}}),Ie.onerror=function(dt){dt.preventDefault(),We(Ie.error)},Ie.onsuccess=function(){var dt=Ie.result;dt.onversionchange=function(Ft){Ft.target.close()},Ee(dt),j(ge)}})}function ee(ge){return x(ge,!1)}function J(ge){return x(ge,!0)}function q(ge,Re){if(!ge.db)return!0;var Ee=!ge.db.objectStoreNames.contains(ge.storeName),We=ge.version<ge.db.version,Ge=ge.version>ge.db.version;if(We&&(ge.version!==Re&&console.warn('The database "'+ge.name+`" can't be downgraded from version `+ge.db.version+" to version "+ge.version+"."),ge.version=ge.db.version),Ge||Ee){if(Ee){var Ie=ge.db.version+1;Ie>ge.version&&(ge.version=Ie)}return!0}return!1}function le(ge){return new f(function(Re,Ee){var We=new FileReader;We.onerror=Ee,We.onloadend=function(Ge){var Ie=btoa(Ge.target.result||"");Re({__local_forage_encoded_blob:!0,data:Ie,type:ge.type})},We.readAsBinaryString(ge)})}function G(ge){var Re=M(atob(ge.data));return c([Re],{type:ge.type})}function X(ge){return ge&&ge.__local_forage_encoded_blob}function se(ge){var Re=this,Ee=Re._initReady().then(function(){var We=C[Re._dbInfo.name];if(We&&We.dbReady)return We.dbReady});return m(Ee,ge,ge),Ee}function te(ge){z(ge);for(var Re=C[ge.name],Ee=Re.forages,We=0;We<Ee.length;We++){var Ge=Ee[We];Ge._dbInfo.db&&(Ge._dbInfo.db.close(),Ge._dbInfo.db=null)}return ge.db=null,ee(ge).then(function(Ie){return ge.db=Ie,q(ge)?J(ge):Ie}).then(function(Ie){ge.db=Re.db=Ie;for(var dt=0;dt<Ee.length;dt++)Ee[dt]._dbInfo.db=Ie}).catch(function(Ie){throw V(ge,Ie),Ie})}function ie(ge,Re,Ee,We){We===void 0&&(We=1);try{var Ge=ge.db.transaction(ge.storeName,Re);Ee(null,Ge)}catch(Ie){if(We>0&&(!ge.db||Ie.name==="InvalidStateError"||Ie.name==="NotFoundError"))return f.resolve().then(function(){if(!ge.db||Ie.name==="NotFoundError"&&!ge.db.objectStoreNames.contains(ge.storeName)&&ge.version<=ge.db.version)return ge.db&&(ge.version=ge.db.version+1),J(ge)}).then(function(){return te(ge).then(function(){ie(ge,Re,Ee,We-1)})}).catch(Ee);Ee(Ie)}}function re(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function be(ge){var Re=this,Ee={db:null};if(ge)for(var We in ge)Ee[We]=ge[We];var Ge=C[Ee.name];Ge||(Ge=re(),C[Ee.name]=Ge),Ge.forages.push(Re),Re._initReady||(Re._initReady=Re.ready,Re.ready=se);var Ie=[];function dt(){return f.resolve()}for(var Ft=0;Ft<Ge.forages.length;Ft++){var Mt=Ge.forages[Ft];Mt!==Re&&Ie.push(Mt._initReady().catch(dt))}var Et=Ge.forages.slice(0);return f.all(Ie).then(function(){return Ee.db=Ge.db,ee(Ee)}).then(function(zt){return Ee.db=zt,q(Ee,Re._defaultConfig.version)?J(Ee):zt}).then(function(zt){Ee.db=Ge.db=zt,Re._dbInfo=Ee;for(var xt=0;xt<Et.length;xt++){var hn=Et[xt];hn!==Re&&(hn._dbInfo.db=Ee.db,hn._dbInfo.version=Ee.version)}})}function we(ge,Re){var Ee=this;ge=p(ge);var We=new f(function(Ge,Ie){Ee.ready().then(function(){ie(Ee._dbInfo,S,function(dt,Ft){if(dt)return Ie(dt);try{var Mt=Ft.objectStore(Ee._dbInfo.storeName),Et=Mt.get(ge);Et.onsuccess=function(){var zt=Et.result;zt===void 0&&(zt=null),X(zt)&&(zt=G(zt)),Ge(zt)},Et.onerror=function(){Ie(Et.error)}}catch(zt){Ie(zt)}})}).catch(Ie)});return d(We,Re),We}function De(ge,Re){var Ee=this,We=new f(function(Ge,Ie){Ee.ready().then(function(){ie(Ee._dbInfo,S,function(dt,Ft){if(dt)return Ie(dt);try{var Mt=Ft.objectStore(Ee._dbInfo.storeName),Et=Mt.openCursor(),zt=1;Et.onsuccess=function(){var xt=Et.result;if(xt){var hn=xt.value;X(hn)&&(hn=G(hn));var nn=ge(hn,xt.key,zt++);nn!==void 0?Ge(nn):xt.continue()}else Ge()},Et.onerror=function(){Ie(Et.error)}}catch(xt){Ie(xt)}})}).catch(Ie)});return d(We,Re),We}function Be(ge,Re,Ee){var We=this;ge=p(ge);var Ge=new f(function(Ie,dt){var Ft;We.ready().then(function(){return Ft=We._dbInfo,E.call(Re)==="[object Blob]"?Y(Ft.db).then(function(Mt){return Mt?Re:le(Re)}):Re}).then(function(Mt){ie(We._dbInfo,T,function(Et,zt){if(Et)return dt(Et);try{var xt=zt.objectStore(We._dbInfo.storeName);Mt===null&&(Mt=void 0);var hn=xt.put(Mt,ge);zt.oncomplete=function(){Mt===void 0&&(Mt=null),Ie(Mt)},zt.onabort=zt.onerror=function(){var nn=hn.error?hn.error:hn.transaction.error;dt(nn)}}catch(nn){dt(nn)}})}).catch(dt)});return d(Ge,Ee),Ge}function ze(ge,Re){var Ee=this;ge=p(ge);var We=new f(function(Ge,Ie){Ee.ready().then(function(){ie(Ee._dbInfo,T,function(dt,Ft){if(dt)return Ie(dt);try{var Mt=Ft.objectStore(Ee._dbInfo.storeName),Et=Mt.delete(ge);Ft.oncomplete=function(){Ge()},Ft.onerror=function(){Ie(Et.error)},Ft.onabort=function(){var zt=Et.error?Et.error:Et.transaction.error;Ie(zt)}}catch(zt){Ie(zt)}})}).catch(Ie)});return d(We,Re),We}function ke(ge){var Re=this,Ee=new f(function(We,Ge){Re.ready().then(function(){ie(Re._dbInfo,T,function(Ie,dt){if(Ie)return Ge(Ie);try{var Ft=dt.objectStore(Re._dbInfo.storeName),Mt=Ft.clear();dt.oncomplete=function(){We()},dt.onabort=dt.onerror=function(){var Et=Mt.error?Mt.error:Mt.transaction.error;Ge(Et)}}catch(Et){Ge(Et)}})}).catch(Ge)});return d(Ee,ge),Ee}function Ue(ge){var Re=this,Ee=new f(function(We,Ge){Re.ready().then(function(){ie(Re._dbInfo,S,function(Ie,dt){if(Ie)return Ge(Ie);try{var Ft=dt.objectStore(Re._dbInfo.storeName),Mt=Ft.count();Mt.onsuccess=function(){We(Mt.result)},Mt.onerror=function(){Ge(Mt.error)}}catch(Et){Ge(Et)}})}).catch(Ge)});return d(Ee,ge),Ee}function Ce(ge,Re){var Ee=this,We=new f(function(Ge,Ie){if(ge<0){Ge(null);return}Ee.ready().then(function(){ie(Ee._dbInfo,S,function(dt,Ft){if(dt)return Ie(dt);try{var Mt=Ft.objectStore(Ee._dbInfo.storeName),Et=!1,zt=Mt.openKeyCursor();zt.onsuccess=function(){var xt=zt.result;if(!xt){Ge(null);return}ge===0||Et?Ge(xt.key):(Et=!0,xt.advance(ge))},zt.onerror=function(){Ie(zt.error)}}catch(xt){Ie(xt)}})}).catch(Ie)});return d(We,Re),We}function vt(ge){var Re=this,Ee=new f(function(We,Ge){Re.ready().then(function(){ie(Re._dbInfo,S,function(Ie,dt){if(Ie)return Ge(Ie);try{var Ft=dt.objectStore(Re._dbInfo.storeName),Mt=Ft.openKeyCursor(),Et=[];Mt.onsuccess=function(){var zt=Mt.result;if(!zt){We(Et);return}Et.push(zt.key),zt.continue()},Mt.onerror=function(){Ge(Mt.error)}}catch(zt){Ge(zt)}})}).catch(Ge)});return d(Ee,ge),Ee}function $t(ge,Re){Re=g.apply(this,arguments);var Ee=this.config();ge=typeof ge!="function"&&ge||{},ge.name||(ge.name=ge.name||Ee.name,ge.storeName=ge.storeName||Ee.storeName);var We=this,Ge;if(!ge.name)Ge=f.reject("Invalid arguments");else{var Ie=ge.name===Ee.name&&We._dbInfo.db,dt=Ie?f.resolve(We._dbInfo.db):ee(ge).then(function(Ft){var Mt=C[ge.name],Et=Mt.forages;Mt.db=Ft;for(var zt=0;zt<Et.length;zt++)Et[zt]._dbInfo.db=Ft;return Ft});ge.storeName?Ge=dt.then(function(Ft){if(!!Ft.objectStoreNames.contains(ge.storeName)){var Mt=Ft.version+1;z(ge);var Et=C[ge.name],zt=Et.forages;Ft.close();for(var xt=0;xt<zt.length;xt++){var hn=zt[xt];hn._dbInfo.db=null,hn._dbInfo.version=Mt}var nn=new f(function(Pn,vi){var ni=a.open(ge.name,Mt);ni.onerror=function(Lr){var zs=ni.result;zs.close(),vi(Lr)},ni.onupgradeneeded=function(){var Lr=ni.result;Lr.deleteObjectStore(ge.storeName)},ni.onsuccess=function(){var Lr=ni.result;Lr.close(),Pn(Lr)}});return nn.then(function(Pn){Et.db=Pn;for(var vi=0;vi<zt.length;vi++){var ni=zt[vi];ni._dbInfo.db=Pn,j(ni._dbInfo)}}).catch(function(Pn){throw(V(ge,Pn)||f.resolve()).catch(function(){}),Pn})}}):Ge=dt.then(function(Ft){z(ge);var Mt=C[ge.name],Et=Mt.forages;Ft.close();for(var zt=0;zt<Et.length;zt++){var xt=Et[zt];xt._dbInfo.db=null}var hn=new f(function(nn,Pn){var vi=a.deleteDatabase(ge.name);vi.onerror=function(){var ni=vi.result;ni&&ni.close(),Pn(vi.error)},vi.onblocked=function(){console.warn('dropInstance blocked for database "'+ge.name+'" until all open connections are closed')},vi.onsuccess=function(){var ni=vi.result;ni&&ni.close(),nn(ni)}});return hn.then(function(nn){Mt.db=nn;for(var Pn=0;Pn<Et.length;Pn++){var vi=Et[Pn];j(vi._dbInfo)}}).catch(function(nn){throw(V(ge,nn)||f.resolve()).catch(function(){}),nn})})}return d(Ge,Re),Ge}var bt={_driver:"asyncStorage",_initStorage:be,_support:u(),iterate:De,getItem:we,setItem:Be,removeItem:ze,clear:ke,length:Ue,key:Ce,keys:vt,dropInstance:$t};function Tt(){return typeof openDatabase=="function"}var It="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Je="~~local_forage_type~",Pt=/^~~local_forage_type~([^~]+)~/,sn="__lfsc__:",Tn=sn.length,Vn="arbf",An="blob",xn="si08",In="ui08",Hi="uic8",mt="si16",dr="si32",yi="ur16",Ke="ui32",Pr="fl32",Nr="fl64",yr=Tn+Vn.length,ul=Object.prototype.toString;function ot(ge){var Re=ge.length*.75,Ee=ge.length,We,Ge=0,Ie,dt,Ft,Mt;ge[ge.length-1]==="="&&(Re--,ge[ge.length-2]==="="&&Re--);var Et=new ArrayBuffer(Re),zt=new Uint8Array(Et);for(We=0;We<Ee;We+=4)Ie=It.indexOf(ge[We]),dt=It.indexOf(ge[We+1]),Ft=It.indexOf(ge[We+2]),Mt=It.indexOf(ge[We+3]),zt[Ge++]=Ie<<2|dt>>4,zt[Ge++]=(dt&15)<<4|Ft>>2,zt[Ge++]=(Ft&3)<<6|Mt&63;return Et}function Xt(ge){var Re=new Uint8Array(ge),Ee="",We;for(We=0;We<Re.length;We+=3)Ee+=It[Re[We]>>2],Ee+=It[(Re[We]&3)<<4|Re[We+1]>>4],Ee+=It[(Re[We+1]&15)<<2|Re[We+2]>>6],Ee+=It[Re[We+2]&63];return Re.length%3===2?Ee=Ee.substring(0,Ee.length-1)+"=":Re.length%3===1&&(Ee=Ee.substring(0,Ee.length-2)+"=="),Ee}function yn(ge,Re){var Ee="";if(ge&&(Ee=ul.call(ge)),ge&&(Ee==="[object ArrayBuffer]"||ge.buffer&&ul.call(ge.buffer)==="[object ArrayBuffer]")){var We,Ge=sn;ge instanceof ArrayBuffer?(We=ge,Ge+=Vn):(We=ge.buffer,Ee==="[object Int8Array]"?Ge+=xn:Ee==="[object Uint8Array]"?Ge+=In:Ee==="[object Uint8ClampedArray]"?Ge+=Hi:Ee==="[object Int16Array]"?Ge+=mt:Ee==="[object Uint16Array]"?Ge+=yi:Ee==="[object Int32Array]"?Ge+=dr:Ee==="[object Uint32Array]"?Ge+=Ke:Ee==="[object Float32Array]"?Ge+=Pr:Ee==="[object Float64Array]"?Ge+=Nr:Re(new Error("Failed to get type for BinaryArray"))),Re(Ge+Xt(We))}else if(Ee==="[object Blob]"){var Ie=new FileReader;Ie.onload=function(){var dt=Je+ge.type+"~"+Xt(this.result);Re(sn+An+dt)},Ie.readAsArrayBuffer(ge)}else try{Re(JSON.stringify(ge))}catch(dt){console.error("Couldn't convert value into a JSON string: ",ge),Re(null,dt)}}function jn(ge){if(ge.substring(0,Tn)!==sn)return JSON.parse(ge);var Re=ge.substring(yr),Ee=ge.substring(Tn,yr),We;if(Ee===An&&Pt.test(Re)){var Ge=Re.match(Pt);We=Ge[1],Re=Re.substring(Ge[0].length)}var Ie=ot(Re);switch(Ee){case Vn:return Ie;case An:return c([Ie],{type:We});case xn:return new Int8Array(Ie);case In:return new Uint8Array(Ie);case Hi:return new Uint8ClampedArray(Ie);case mt:return new Int16Array(Ie);case yi:return new Uint16Array(Ie);case dr:return new Int32Array(Ie);case Ke:return new Uint32Array(Ie);case Pr:return new Float32Array(Ie);case Nr:return new Float64Array(Ie);default:throw new Error("Unkown type: "+Ee)}}var ji={serialize:yn,deserialize:jn,stringToBuffer:ot,bufferToString:Xt};function Bs(ge,Re,Ee,We){ge.executeSql("CREATE TABLE IF NOT EXISTS "+Re.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],Ee,We)}function Mr(ge){var Re=this,Ee={db:null};if(ge)for(var We in ge)Ee[We]=typeof ge[We]!="string"?ge[We].toString():ge[We];var Ge=new f(function(Ie,dt){try{Ee.db=openDatabase(Ee.name,String(Ee.version),Ee.description,Ee.size)}catch(Ft){return dt(Ft)}Ee.db.transaction(function(Ft){Bs(Ft,Ee,function(){Re._dbInfo=Ee,Ie()},function(Mt,Et){dt(Et)})},dt)});return Ee.serializer=ji,Ge}function wr(ge,Re,Ee,We,Ge,Ie){ge.executeSql(Ee,We,Ge,function(dt,Ft){Ft.code===Ft.SYNTAX_ERR?dt.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Re.storeName],function(Mt,Et){Et.rows.length?Ie(Mt,Ft):Bs(Mt,Re,function(){Mt.executeSql(Ee,We,Ge,Ie)},Ie)},Ie):Ie(dt,Ft)},Ie)}function xl(ge,Re){var Ee=this;ge=p(ge);var We=new f(function(Ge,Ie){Ee.ready().then(function(){var dt=Ee._dbInfo;dt.db.transaction(function(Ft){wr(Ft,dt,"SELECT * FROM "+dt.storeName+" WHERE key = ? LIMIT 1",[ge],function(Mt,Et){var zt=Et.rows.length?Et.rows.item(0).value:null;zt&&(zt=dt.serializer.deserialize(zt)),Ge(zt)},function(Mt,Et){Ie(Et)})})}).catch(Ie)});return d(We,Re),We}function Gl(ge,Re){var Ee=this,We=new f(function(Ge,Ie){Ee.ready().then(function(){var dt=Ee._dbInfo;dt.db.transaction(function(Ft){wr(Ft,dt,"SELECT * FROM "+dt.storeName,[],function(Mt,Et){for(var zt=Et.rows,xt=zt.length,hn=0;hn<xt;hn++){var nn=zt.item(hn),Pn=nn.value;if(Pn&&(Pn=dt.serializer.deserialize(Pn)),Pn=ge(Pn,nn.key,hn+1),Pn!==void 0){Ge(Pn);return}}Ge()},function(Mt,Et){Ie(Et)})})}).catch(Ie)});return d(We,Re),We}function ko(ge,Re,Ee,We){var Ge=this;ge=p(ge);var Ie=new f(function(dt,Ft){Ge.ready().then(function(){Re===void 0&&(Re=null);var Mt=Re,Et=Ge._dbInfo;Et.serializer.serialize(Re,function(zt,xt){xt?Ft(xt):Et.db.transaction(function(hn){wr(hn,Et,"INSERT OR REPLACE INTO "+Et.storeName+" (key, value) VALUES (?, ?)",[ge,zt],function(){dt(Mt)},function(nn,Pn){Ft(Pn)})},function(hn){if(hn.code===hn.QUOTA_ERR){if(We>0){dt(ko.apply(Ge,[ge,Mt,Ee,We-1]));return}Ft(hn)}})})}).catch(Ft)});return d(Ie,Ee),Ie}function ha(ge,Re,Ee){return ko.apply(this,[ge,Re,Ee,1])}function yo(ge,Re){var Ee=this;ge=p(ge);var We=new f(function(Ge,Ie){Ee.ready().then(function(){var dt=Ee._dbInfo;dt.db.transaction(function(Ft){wr(Ft,dt,"DELETE FROM "+dt.storeName+" WHERE key = ?",[ge],function(){Ge()},function(Mt,Et){Ie(Et)})})}).catch(Ie)});return d(We,Re),We}function cl(ge){var Re=this,Ee=new f(function(We,Ge){Re.ready().then(function(){var Ie=Re._dbInfo;Ie.db.transaction(function(dt){wr(dt,Ie,"DELETE FROM "+Ie.storeName,[],function(){We()},function(Ft,Mt){Ge(Mt)})})}).catch(Ge)});return d(Ee,ge),Ee}function wo(ge){var Re=this,Ee=new f(function(We,Ge){Re.ready().then(function(){var Ie=Re._dbInfo;Ie.db.transaction(function(dt){wr(dt,Ie,"SELECT COUNT(key) as c FROM "+Ie.storeName,[],function(Ft,Mt){var Et=Mt.rows.item(0).c;We(Et)},function(Ft,Mt){Ge(Mt)})})}).catch(Ge)});return d(Ee,ge),Ee}function cu(ge,Re){var Ee=this,We=new f(function(Ge,Ie){Ee.ready().then(function(){var dt=Ee._dbInfo;dt.db.transaction(function(Ft){wr(Ft,dt,"SELECT key FROM "+dt.storeName+" WHERE id = ? LIMIT 1",[ge+1],function(Mt,Et){var zt=Et.rows.length?Et.rows.item(0).key:null;Ge(zt)},function(Mt,Et){Ie(Et)})})}).catch(Ie)});return d(We,Re),We}function _e(ge){var Re=this,Ee=new f(function(We,Ge){Re.ready().then(function(){var Ie=Re._dbInfo;Ie.db.transaction(function(dt){wr(dt,Ie,"SELECT key FROM "+Ie.storeName,[],function(Ft,Mt){for(var Et=[],zt=0;zt<Mt.rows.length;zt++)Et.push(Mt.rows.item(zt).key);We(Et)},function(Ft,Mt){Ge(Mt)})})}).catch(Ge)});return d(Ee,ge),Ee}function Pe(ge){return new f(function(Re,Ee){ge.transaction(function(We){We.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ge,Ie){for(var dt=[],Ft=0;Ft<Ie.rows.length;Ft++)dt.push(Ie.rows.item(Ft).name);Re({db:ge,storeNames:dt})},function(Ge,Ie){Ee(Ie)})},function(We){Ee(We)})})}function Ve(ge,Re){Re=g.apply(this,arguments);var Ee=this.config();ge=typeof ge!="function"&&ge||{},ge.name||(ge.name=ge.name||Ee.name,ge.storeName=ge.storeName||Ee.storeName);var We=this,Ge;return ge.name?Ge=new f(function(Ie){var dt;ge.name===Ee.name?dt=We._dbInfo.db:dt=openDatabase(ge.name,"","",0),ge.storeName?Ie({db:dt,storeNames:[ge.storeName]}):Ie(Pe(dt))}).then(function(Ie){return new f(function(dt,Ft){Ie.db.transaction(function(Mt){function Et(nn){return new f(function(Pn,vi){Mt.executeSql("DROP TABLE IF EXISTS "+nn,[],function(){Pn()},function(ni,Lr){vi(Lr)})})}for(var zt=[],xt=0,hn=Ie.storeNames.length;xt<hn;xt++)zt.push(Et(Ie.storeNames[xt]));f.all(zt).then(function(){dt()}).catch(function(nn){Ft(nn)})},function(Mt){Ft(Mt)})})}):Ge=f.reject("Invalid arguments"),d(Ge,Re),Ge}var ht={_driver:"webSQLStorage",_initStorage:Mr,_support:Tt(),iterate:Gl,getItem:xl,setItem:ha,removeItem:yo,clear:cl,length:wo,key:cu,keys:_e,dropInstance:Ve};function At(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Qt(ge,Re){var Ee=ge.name+"/";return ge.storeName!==Re.storeName&&(Ee+=ge.storeName+"/"),Ee}function Rt(){var ge="_localforage_support_test";try{return localStorage.setItem(ge,!0),localStorage.removeItem(ge),!1}catch{return!0}}function Ki(){return!Rt()||localStorage.length>0}function Cn(ge){var Re=this,Ee={};if(ge)for(var We in ge)Ee[We]=ge[We];return Ee.keyPrefix=Qt(ge,Re._defaultConfig),Ki()?(Re._dbInfo=Ee,Ee.serializer=ji,f.resolve()):f.reject()}function nr(ge){var Re=this,Ee=Re.ready().then(function(){for(var We=Re._dbInfo.keyPrefix,Ge=localStorage.length-1;Ge>=0;Ge--){var Ie=localStorage.key(Ge);Ie.indexOf(We)===0&&localStorage.removeItem(Ie)}});return d(Ee,ge),Ee}function Zl(ge,Re){var Ee=this;ge=p(ge);var We=Ee.ready().then(function(){var Ge=Ee._dbInfo,Ie=localStorage.getItem(Ge.keyPrefix+ge);return Ie&&(Ie=Ge.serializer.deserialize(Ie)),Ie});return d(We,Re),We}function $o(ge,Re){var Ee=this,We=Ee.ready().then(function(){for(var Ge=Ee._dbInfo,Ie=Ge.keyPrefix,dt=Ie.length,Ft=localStorage.length,Mt=1,Et=0;Et<Ft;Et++){var zt=localStorage.key(Et);if(zt.indexOf(Ie)===0){var xt=localStorage.getItem(zt);if(xt&&(xt=Ge.serializer.deserialize(xt)),xt=ge(xt,zt.substring(dt),Mt++),xt!==void 0)return xt}}});return d(We,Re),We}function ma(ge,Re){var Ee=this,We=Ee.ready().then(function(){var Ge=Ee._dbInfo,Ie;try{Ie=localStorage.key(ge)}catch{Ie=null}return Ie&&(Ie=Ie.substring(Ge.keyPrefix.length)),Ie});return d(We,Re),We}function Rr(ge){var Re=this,Ee=Re.ready().then(function(){for(var We=Re._dbInfo,Ge=localStorage.length,Ie=[],dt=0;dt<Ge;dt++){var Ft=localStorage.key(dt);Ft.indexOf(We.keyPrefix)===0&&Ie.push(Ft.substring(We.keyPrefix.length))}return Ie});return d(Ee,ge),Ee}function pa(ge){var Re=this,Ee=Re.keys().then(function(We){return We.length});return d(Ee,ge),Ee}function fu(ge,Re){var Ee=this;ge=p(ge);var We=Ee.ready().then(function(){var Ge=Ee._dbInfo;localStorage.removeItem(Ge.keyPrefix+ge)});return d(We,Re),We}function Sl(ge,Re,Ee){var We=this;ge=p(ge);var Ge=We.ready().then(function(){Re===void 0&&(Re=null);var Ie=Re;return new f(function(dt,Ft){var Mt=We._dbInfo;Mt.serializer.serialize(Re,function(Et,zt){if(zt)Ft(zt);else try{localStorage.setItem(Mt.keyPrefix+ge,Et),dt(Ie)}catch(xt){(xt.name==="QuotaExceededError"||xt.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Ft(xt),Ft(xt)}})})});return d(Ge,Ee),Ge}function _a(ge,Re){if(Re=g.apply(this,arguments),ge=typeof ge!="function"&&ge||{},!ge.name){var Ee=this.config();ge.name=ge.name||Ee.name,ge.storeName=ge.storeName||Ee.storeName}var We=this,Ge;return ge.name?Ge=new f(function(Ie){ge.storeName?Ie(Qt(ge,We._defaultConfig)):Ie(ge.name+"/")}).then(function(Ie){for(var dt=localStorage.length-1;dt>=0;dt--){var Ft=localStorage.key(dt);Ft.indexOf(Ie)===0&&localStorage.removeItem(Ft)}}):Ge=f.reject("Invalid arguments"),d(Ge,Re),Ge}var ga={_driver:"localStorageWrapper",_initStorage:Cn,_support:At(),iterate:$o,getItem:Zl,setItem:Sl,removeItem:fu,clear:nr,length:pa,key:ma,keys:Rr,dropInstance:_a},Fo=function(Re,Ee){return Re===Ee||typeof Re=="number"&&typeof Ee=="number"&&isNaN(Re)&&isNaN(Ee)},$r=function(Re,Ee){for(var We=Re.length,Ge=0;Ge<We;){if(Fo(Re[Ge],Ee))return!0;Ge++}return!1},Di=Array.isArray||function(ge){return Object.prototype.toString.call(ge)==="[object Array]"},hr={},Rs={},zr={INDEXEDDB:bt,WEBSQL:ht,LOCALSTORAGE:ga},fl=[zr.INDEXEDDB._driver,zr.WEBSQL._driver,zr.LOCALSTORAGE._driver],jr=["dropInstance"],dl=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(jr),hl={description:"",driver:fl.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function va(ge,Re){ge[Re]=function(){var Ee=arguments;return ge.ready().then(function(){return ge[Re].apply(ge,Ee)})}}function _s(){for(var ge=1;ge<arguments.length;ge++){var Re=arguments[ge];if(Re)for(var Ee in Re)Re.hasOwnProperty(Ee)&&(Di(Re[Ee])?arguments[0][Ee]=Re[Ee].slice():arguments[0][Ee]=Re[Ee])}return arguments[0]}var ba=function(){function ge(Re){l(this,ge);for(var Ee in zr)if(zr.hasOwnProperty(Ee)){var We=zr[Ee],Ge=We._driver;this[Ee]=Ge,hr[Ge]||this.defineDriver(We)}this._defaultConfig=_s({},hl),this._config=_s({},this._defaultConfig,Re),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return ge.prototype.config=function(Ee){if((typeof Ee>"u"?"undefined":s(Ee))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var We in Ee){if(We==="storeName"&&(Ee[We]=Ee[We].replace(/\W/g,"_")),We==="version"&&typeof Ee[We]!="number")return new Error("Database version must be a number.");this._config[We]=Ee[We]}return"driver"in Ee&&Ee.driver?this.setDriver(this._config.driver):!0}else return typeof Ee=="string"?this._config[Ee]:this._config},ge.prototype.defineDriver=function(Ee,We,Ge){var Ie=new f(function(dt,Ft){try{var Mt=Ee._driver,Et=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!Ee._driver){Ft(Et);return}for(var zt=dl.concat("_initStorage"),xt=0,hn=zt.length;xt<hn;xt++){var nn=zt[xt],Pn=!$r(jr,nn);if((Pn||Ee[nn])&&typeof Ee[nn]!="function"){Ft(Et);return}}var vi=function(){for(var zs=function(hu){return function(){var mu=new Error("Method "+hu+" is not implemented by the current driver"),_c=f.reject(mu);return d(_c,arguments[arguments.length-1]),_c}},ka=0,du=jr.length;ka<du;ka++){var Xl=jr[ka];Ee[Xl]||(Ee[Xl]=zs(Xl))}};vi();var ni=function(zs){hr[Mt]&&console.info("Redefining LocalForage driver: "+Mt),hr[Mt]=Ee,Rs[Mt]=zs,dt()};"_support"in Ee?Ee._support&&typeof Ee._support=="function"?Ee._support().then(ni,Ft):ni(!!Ee._support):ni(!0)}catch(Lr){Ft(Lr)}});return m(Ie,We,Ge),Ie},ge.prototype.driver=function(){return this._driver||null},ge.prototype.getDriver=function(Ee,We,Ge){var Ie=hr[Ee]?f.resolve(hr[Ee]):f.reject(new Error("Driver not found."));return m(Ie,We,Ge),Ie},ge.prototype.getSerializer=function(Ee){var We=f.resolve(ji);return m(We,Ee),We},ge.prototype.ready=function(Ee){var We=this,Ge=We._driverSet.then(function(){return We._ready===null&&(We._ready=We._initDriver()),We._ready});return m(Ge,Ee,Ee),Ge},ge.prototype.setDriver=function(Ee,We,Ge){var Ie=this;Di(Ee)||(Ee=[Ee]);var dt=this._getSupportedDrivers(Ee);function Ft(){Ie._config.driver=Ie.driver()}function Mt(xt){return Ie._extend(xt),Ft(),Ie._ready=Ie._initStorage(Ie._config),Ie._ready}function Et(xt){return function(){var hn=0;function nn(){for(;hn<xt.length;){var Pn=xt[hn];return hn++,Ie._dbInfo=null,Ie._ready=null,Ie.getDriver(Pn).then(Mt).catch(nn)}Ft();var vi=new Error("No available storage method found.");return Ie._driverSet=f.reject(vi),Ie._driverSet}return nn()}}var zt=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=zt.then(function(){var xt=dt[0];return Ie._dbInfo=null,Ie._ready=null,Ie.getDriver(xt).then(function(hn){Ie._driver=hn._driver,Ft(),Ie._wrapLibraryMethodsWithReady(),Ie._initDriver=Et(dt)})}).catch(function(){Ft();var xt=new Error("No available storage method found.");return Ie._driverSet=f.reject(xt),Ie._driverSet}),m(this._driverSet,We,Ge),this._driverSet},ge.prototype.supports=function(Ee){return!!Rs[Ee]},ge.prototype._extend=function(Ee){_s(this,Ee)},ge.prototype._getSupportedDrivers=function(Ee){for(var We=[],Ge=0,Ie=Ee.length;Ge<Ie;Ge++){var dt=Ee[Ge];this.supports(dt)&&We.push(dt)}return We},ge.prototype._wrapLibraryMethodsWithReady=function(){for(var Ee=0,We=dl.length;Ee<We;Ee++)va(this,dl[Ee])},ge.prototype.createInstance=function(Ee){return new ge(Ee)},ge}(),Gn=new ba;n.exports=Gn},{3:3}]},{},[4])(4)})})(OR);const $d=OR.exports;var qce=$f,Hce=qce["__core-js_shared__"],Vce=Hce,kb=Vce,o6=function(){var i=/[^.]+$/.exec(kb&&kb.keys&&kb.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function xce(i){return!!o6&&o6 in i}var Gce=xce,Zce=Function.prototype,Xce=Zce.toString;function Kce(i){if(i!=null){try{return Xce.call(i)}catch{}try{return i+""}catch{}}return""}var Jce=Kce,Qce=GB,efe=Gce,tfe=hh,nfe=Jce,ife=/[\\^$.*+?()[\]{}|]/g,rfe=/^\[object .+?Constructor\]$/,sfe=Function.prototype,lfe=Object.prototype,ofe=sfe.toString,afe=lfe.hasOwnProperty,ufe=RegExp("^"+ofe.call(afe).replace(ife,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cfe(i){if(!tfe(i)||efe(i))return!1;var e=Qce(i)?ufe:rfe;return e.test(nfe(i))}var ffe=cfe;function dfe(i,e){return i==null?void 0:i[e]}var hfe=dfe,mfe=ffe,pfe=hfe;function _fe(i,e){var t=pfe(i,e);return mfe(t)?t:void 0}var Cy=_fe,gfe=Cy,vfe=gfe(Object,"create"),s0=vfe,a6=s0;function bfe(){this.__data__=a6?a6(null):{},this.size=0}var kfe=bfe;function yfe(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}var wfe=yfe,$fe=s0,Ffe="__lodash_hash_undefined__",Efe=Object.prototype,Cfe=Efe.hasOwnProperty;function Dfe(i){var e=this.__data__;if($fe){var t=e[i];return t===Ffe?void 0:t}return Cfe.call(e,i)?e[i]:void 0}var Sfe=Dfe,Tfe=s0,Afe=Object.prototype,Pfe=Afe.hasOwnProperty;function Nfe(i){var e=this.__data__;return Tfe?e[i]!==void 0:Pfe.call(e,i)}var Mfe=Nfe,Lfe=s0,Ofe="__lodash_hash_undefined__";function Ife(i,e){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=Lfe&&e===void 0?Ofe:e,this}var Bfe=Ife,Rfe=kfe,zfe=wfe,jfe=Sfe,Yfe=Mfe,Ufe=Bfe;function ph(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}ph.prototype.clear=Rfe;ph.prototype.delete=zfe;ph.prototype.get=jfe;ph.prototype.has=Yfe;ph.prototype.set=Ufe;var Wfe=ph;function qfe(){this.__data__=[],this.size=0}var Hfe=qfe,Vfe=xB;function xfe(i,e){for(var t=i.length;t--;)if(Vfe(i[t][0],e))return t;return-1}var l0=xfe,Gfe=l0,Zfe=Array.prototype,Xfe=Zfe.splice;function Kfe(i){var e=this.__data__,t=Gfe(e,i);if(t<0)return!1;var n=e.length-1;return t==n?e.pop():Xfe.call(e,t,1),--this.size,!0}var Jfe=Kfe,Qfe=l0;function ede(i){var e=this.__data__,t=Qfe(e,i);return t<0?void 0:e[t][1]}var tde=ede,nde=l0;function ide(i){return nde(this.__data__,i)>-1}var rde=ide,sde=l0;function lde(i,e){var t=this.__data__,n=sde(t,i);return n<0?(++this.size,t.push([i,e])):t[n][1]=e,this}var ode=lde,ade=Hfe,ude=Jfe,cde=tde,fde=rde,dde=ode;function _h(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}_h.prototype.clear=ade;_h.prototype.delete=ude;_h.prototype.get=cde;_h.prototype.has=fde;_h.prototype.set=dde;var hde=_h,mde=Cy,pde=$f,_de=mde(pde,"Map"),gde=_de,u6=Wfe,vde=hde,bde=gde;function kde(){this.size=0,this.__data__={hash:new u6,map:new(bde||vde),string:new u6}}var yde=kde;function wde(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}var $de=wde,Fde=$de;function Ede(i,e){var t=i.__data__;return Fde(e)?t[typeof e=="string"?"string":"hash"]:t.map}var o0=Ede,Cde=o0;function Dde(i){var e=Cde(this,i).delete(i);return this.size-=e?1:0,e}var Sde=Dde,Tde=o0;function Ade(i){return Tde(this,i).get(i)}var Pde=Ade,Nde=o0;function Mde(i){return Nde(this,i).has(i)}var Lde=Mde,Ode=o0;function Ide(i,e){var t=Ode(this,i),n=t.size;return t.set(i,e),this.size+=t.size==n?0:1,this}var Bde=Ide,Rde=yde,zde=Sde,jde=Pde,Yde=Lde,Ude=Bde;function gh(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var n=i[e];this.set(n[0],n[1])}}gh.prototype.clear=Rde;gh.prototype.delete=zde;gh.prototype.get=jde;gh.prototype.has=Yde;gh.prototype.set=Ude;var Wde=gh,qde="__lodash_hash_undefined__";function Hde(i){return this.__data__.set(i,qde),this}var Vde=Hde;function xde(i){return this.__data__.has(i)}var Gde=xde,Zde=Wde,Xde=Vde,Kde=Gde;function Zg(i){var e=-1,t=i==null?0:i.length;for(this.__data__=new Zde;++e<t;)this.add(i[e])}Zg.prototype.add=Zg.prototype.push=Xde;Zg.prototype.has=Kde;var Jde=Zg;function Qde(i,e,t,n){for(var r=i.length,s=t+(n?1:-1);n?s--:++s<r;)if(e(i[s],s,i))return s;return-1}var ehe=Qde;function the(i){return i!==i}var nhe=the;function ihe(i,e,t){for(var n=t-1,r=i.length;++n<r;)if(i[n]===e)return n;return-1}var rhe=ihe,she=ehe,lhe=nhe,ohe=rhe;function ahe(i,e,t){return e===e?ohe(i,e,t):she(i,lhe,t)}var uhe=ahe,che=uhe;function fhe(i,e){var t=i==null?0:i.length;return!!t&&che(i,e,0)>-1}var dhe=fhe;function hhe(i,e,t){for(var n=-1,r=i==null?0:i.length;++n<r;)if(t(e,i[n]))return!0;return!1}var mhe=hhe;function phe(i,e){return i.has(e)}var _he=phe,ghe=Cy,vhe=$f,bhe=ghe(vhe,"Set"),khe=bhe;function yhe(){}var whe=yhe;function $he(i){var e=-1,t=Array(i.size);return i.forEach(function(n){t[++e]=n}),t}var IR=$he,yb=khe,Fhe=whe,Ehe=IR,Che=1/0,Dhe=yb&&1/Ehe(new yb([,-0]))[1]==Che?function(i){return new yb(i)}:Fhe,She=Dhe,The=Jde,Ahe=dhe,Phe=mhe,Nhe=_he,Mhe=She,Lhe=IR,Ohe=200;function Ihe(i,e,t){var n=-1,r=Ahe,s=i.length,l=!0,o=[],a=o;if(t)l=!1,r=Phe;else if(s>=Ohe){var u=e?null:Mhe(i);if(u)return Lhe(u);l=!1,r=Nhe,a=new The}else a=e?[]:o;e:for(;++n<s;){var c=i[n],f=e?e(c):c;if(c=t||c!==0?c:0,l&&f===f){for(var d=a.length;d--;)if(a[d]===f)continue e;e&&a.push(f),o.push(c)}else r(a,f,t)||(a!==o&&a.push(f),o.push(c))}return o}var Bhe=Ihe,Rhe=Bhe;function zhe(i){return i&&i.length?Rhe(i):[]}var jhe=zhe;const BR=$d.createInstance({name:"log-cache"}),Yhe=async i=>{try{const e=`${i.endDayjs().format("YYYY-MM-DD")}/${i._id}`;return BR.removeItem(e)}catch{return}},Uhe=async()=>await BR.clear(),iu=i=>{sa_event(i)},Whe=async()=>{await at.confirm("Switch to Local Only?","You can always switch back later. Note that data is not shared between storage types.")&&(oy("local"),window.location.href="/")},qhe=async i=>{const e=Op();let t=v0.map(n=>{let r=!1;return{title:n.name,disabled:r,description:`${n.price} ${n.description}`,click(){e.storageType!==n.id&&(iu(`switch-engine-${n.id}`),i.onSelect(n.id))},icon:i.current===n.id?Go:v2}});Js({id:"storage-options",title:`${Fe.t("storage.type_selector_title","Storage Options")}`,description:`${Fe.t("storage.type_selector_description","How would you like your data stored?")}`,buttons:t})},Hhe=async()=>{try{let i=await at.confirm(`${Fe.t("settings.danger-zone")}`,`${Fe.t("settings.delete-warning","This will destroy ALL data in Nomie. Are you absolutely sure?")}`,`${Fe.t("settings.destroy","Destroy")}`);if(i&&(await Lt(300),i=await at.confirm(`${Fe.t("settings.danger-zone")}`,`${Fe.t("settings.delete-warning-again","So you REALLY want all ALL data in Nomie destroyed?")}`,`${Fe.t("settings.destroy","Destroy")}`),await Lt(200),i)){at.blocker(`${Fe.t("settings.deleting-data","Deleting data...")}`),await Lt(200);let e=await _n.list(),t=[];e.forEach(n=>{t.push(_n.delete(n))}),await Promise.all(t),await $d.clear(),await Uhe(),localStorage.clear(),at.stopBlocker(),await at.alert("Done","Your data has been destroyed."),window.location.href="/"}}catch(i){at.alert(Fe.t("general.error"),i.message)}};let eg=[];const Vhe={onReady(i){eg.indexOf(i)==-1&&eg.push(i)},basePath(i){return i},fireReady(){eg.forEach(i=>{i()}),eg=[]},async init(){return navigator.storage&&navigator.storage.persist&&(await navigator.storage.persisted()||await navigator.storage.persist()),this.fireReady()},async getProfile(){return{username:"Local User"}},async put(i,e){return $d.setItem(i,JSON.stringify(e))},async get(i){return $d.getItem(i).then(e=>e?JSON.parse(e):null)},async list(){return $d.keys().then(i=>i)},async delete(i){return $d.removeItem(i)}},xhe={},Ghe=Object.freeze(Object.defineProperty({__proto__:null,default:xhe},Symbol.toStringTag,{value:"Module"})),Zhe=aK(Ghe);var Dy={};Dy.test=function(){return typeof fi.queueMicrotask=="function"};Dy.install=function(i){return function(){fi.queueMicrotask(i)}};var Sy={},RR=fi.MutationObserver||fi.WebKitMutationObserver;Sy.test=function(){return RR};Sy.install=function(i){var e=0,t=new RR(i),n=fi.document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}};var Ty={};Ty.test=function(){return fi.setImmediate?!1:typeof fi.MessageChannel<"u"};Ty.install=function(i){var e=new fi.MessageChannel;return e.port1.onmessage=i,function(){e.port2.postMessage(0)}};var Ay={};Ay.test=function(){return"document"in fi&&"onreadystatechange"in fi.document.createElement("script")};Ay.install=function(i){return function(){var e=fi.document.createElement("script");return e.onreadystatechange=function(){i(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},fi.document.documentElement.appendChild(e),i}};var Py={};Py.test=function(){return!0};Py.install=function(i){return function(){setTimeout(i,0)}};var Sm=[Zhe,Dy,Sy,Ty,Ay,Py],Sd,Zc,Tm=-1,Mu=[],P2=!1;function Xhe(){!Sd||!Zc||(Sd=!1,Zc.length?Mu=Zc.concat(Mu):Tm=-1,Mu.length&&zR())}function zR(){if(!Sd){P2=!1,Sd=!0;for(var i=Mu.length,e=setTimeout(Xhe);i;){for(Zc=Mu,Mu=[];Zc&&++Tm<i;)Zc[Tm].run();Tm=-1,i=Mu.length}Zc=null,Tm=-1,Sd=!1,clearTimeout(e)}}var jR,mm=-1,Khe=Sm.length;for(;++mm<Khe;)if(Sm[mm]&&Sm[mm].test&&Sm[mm].test()){jR=Sm[mm].install(zR);break}function YR(i,e){this.fun=i,this.array=e}YR.prototype.run=function(){var i=this.fun,e=this.array;switch(e.length){case 0:return i();case 1:return i(e[0]);case 2:return i(e[0],e[1]);case 3:return i(e[0],e[1],e[2]);default:return i.apply(null,e)}};var ra=Jhe;function Jhe(i){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Mu.push(new YR(i,e)),!P2&&!Sd&&(P2=!0,jR())}var tg,Qhe=new Uint8Array(16);function eme(){if(!tg&&(tg=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!tg))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tg(Qhe)}const tme=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function nme(i){return typeof i=="string"&&tme.test(i)}var Gr=[];for(var wb=0;wb<256;++wb)Gr.push((wb+256).toString(16).substr(1));function ime(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Gr[i[e+0]]+Gr[i[e+1]]+Gr[i[e+2]]+Gr[i[e+3]]+"-"+Gr[i[e+4]]+Gr[i[e+5]]+"-"+Gr[i[e+6]]+Gr[i[e+7]]+"-"+Gr[i[e+8]]+Gr[i[e+9]]+"-"+Gr[i[e+10]]+Gr[i[e+11]]+Gr[i[e+12]]+Gr[i[e+13]]+Gr[i[e+14]]+Gr[i[e+15]]).toLowerCase();if(!nme(t))throw TypeError("Stringified UUID is invalid");return t}function UR(i,e,t){i=i||{};var n=i.random||(i.rng||eme)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){t=t||0;for(var r=0;r<16;++r)e[t+r]=n[r];return e}return ime(n)}var WR={exports:{}};(function(i,e){(function(t){i.exports=t()})(function(t){var n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r($,C){var E=$[0],S=$[1],T=$[2],M=$[3];E+=(S&T|~S&M)+C[0]-680876936|0,E=(E<<7|E>>>25)+S|0,M+=(E&S|~E&T)+C[1]-389564586|0,M=(M<<12|M>>>20)+E|0,T+=(M&E|~M&S)+C[2]+606105819|0,T=(T<<17|T>>>15)+M|0,S+=(T&M|~T&E)+C[3]-1044525330|0,S=(S<<22|S>>>10)+T|0,E+=(S&T|~S&M)+C[4]-176418897|0,E=(E<<7|E>>>25)+S|0,M+=(E&S|~E&T)+C[5]+1200080426|0,M=(M<<12|M>>>20)+E|0,T+=(M&E|~M&S)+C[6]-1473231341|0,T=(T<<17|T>>>15)+M|0,S+=(T&M|~T&E)+C[7]-45705983|0,S=(S<<22|S>>>10)+T|0,E+=(S&T|~S&M)+C[8]+1770035416|0,E=(E<<7|E>>>25)+S|0,M+=(E&S|~E&T)+C[9]-1958414417|0,M=(M<<12|M>>>20)+E|0,T+=(M&E|~M&S)+C[10]-42063|0,T=(T<<17|T>>>15)+M|0,S+=(T&M|~T&E)+C[11]-1990404162|0,S=(S<<22|S>>>10)+T|0,E+=(S&T|~S&M)+C[12]+1804603682|0,E=(E<<7|E>>>25)+S|0,M+=(E&S|~E&T)+C[13]-40341101|0,M=(M<<12|M>>>20)+E|0,T+=(M&E|~M&S)+C[14]-1502002290|0,T=(T<<17|T>>>15)+M|0,S+=(T&M|~T&E)+C[15]+1236535329|0,S=(S<<22|S>>>10)+T|0,E+=(S&M|T&~M)+C[1]-165796510|0,E=(E<<5|E>>>27)+S|0,M+=(E&T|S&~T)+C[6]-1069501632|0,M=(M<<9|M>>>23)+E|0,T+=(M&S|E&~S)+C[11]+643717713|0,T=(T<<14|T>>>18)+M|0,S+=(T&E|M&~E)+C[0]-373897302|0,S=(S<<20|S>>>12)+T|0,E+=(S&M|T&~M)+C[5]-701558691|0,E=(E<<5|E>>>27)+S|0,M+=(E&T|S&~T)+C[10]+38016083|0,M=(M<<9|M>>>23)+E|0,T+=(M&S|E&~S)+C[15]-660478335|0,T=(T<<14|T>>>18)+M|0,S+=(T&E|M&~E)+C[4]-405537848|0,S=(S<<20|S>>>12)+T|0,E+=(S&M|T&~M)+C[9]+568446438|0,E=(E<<5|E>>>27)+S|0,M+=(E&T|S&~T)+C[14]-1019803690|0,M=(M<<9|M>>>23)+E|0,T+=(M&S|E&~S)+C[3]-187363961|0,T=(T<<14|T>>>18)+M|0,S+=(T&E|M&~E)+C[8]+1163531501|0,S=(S<<20|S>>>12)+T|0,E+=(S&M|T&~M)+C[13]-1444681467|0,E=(E<<5|E>>>27)+S|0,M+=(E&T|S&~T)+C[2]-51403784|0,M=(M<<9|M>>>23)+E|0,T+=(M&S|E&~S)+C[7]+1735328473|0,T=(T<<14|T>>>18)+M|0,S+=(T&E|M&~E)+C[12]-1926607734|0,S=(S<<20|S>>>12)+T|0,E+=(S^T^M)+C[5]-378558|0,E=(E<<4|E>>>28)+S|0,M+=(E^S^T)+C[8]-2022574463|0,M=(M<<11|M>>>21)+E|0,T+=(M^E^S)+C[11]+1839030562|0,T=(T<<16|T>>>16)+M|0,S+=(T^M^E)+C[14]-35309556|0,S=(S<<23|S>>>9)+T|0,E+=(S^T^M)+C[1]-1530992060|0,E=(E<<4|E>>>28)+S|0,M+=(E^S^T)+C[4]+1272893353|0,M=(M<<11|M>>>21)+E|0,T+=(M^E^S)+C[7]-155497632|0,T=(T<<16|T>>>16)+M|0,S+=(T^M^E)+C[10]-1094730640|0,S=(S<<23|S>>>9)+T|0,E+=(S^T^M)+C[13]+681279174|0,E=(E<<4|E>>>28)+S|0,M+=(E^S^T)+C[0]-358537222|0,M=(M<<11|M>>>21)+E|0,T+=(M^E^S)+C[3]-722521979|0,T=(T<<16|T>>>16)+M|0,S+=(T^M^E)+C[6]+76029189|0,S=(S<<23|S>>>9)+T|0,E+=(S^T^M)+C[9]-640364487|0,E=(E<<4|E>>>28)+S|0,M+=(E^S^T)+C[12]-421815835|0,M=(M<<11|M>>>21)+E|0,T+=(M^E^S)+C[15]+530742520|0,T=(T<<16|T>>>16)+M|0,S+=(T^M^E)+C[2]-995338651|0,S=(S<<23|S>>>9)+T|0,E+=(T^(S|~M))+C[0]-198630844|0,E=(E<<6|E>>>26)+S|0,M+=(S^(E|~T))+C[7]+1126891415|0,M=(M<<10|M>>>22)+E|0,T+=(E^(M|~S))+C[14]-1416354905|0,T=(T<<15|T>>>17)+M|0,S+=(M^(T|~E))+C[5]-57434055|0,S=(S<<21|S>>>11)+T|0,E+=(T^(S|~M))+C[12]+1700485571|0,E=(E<<6|E>>>26)+S|0,M+=(S^(E|~T))+C[3]-1894986606|0,M=(M<<10|M>>>22)+E|0,T+=(E^(M|~S))+C[10]-1051523|0,T=(T<<15|T>>>17)+M|0,S+=(M^(T|~E))+C[1]-2054922799|0,S=(S<<21|S>>>11)+T|0,E+=(T^(S|~M))+C[8]+1873313359|0,E=(E<<6|E>>>26)+S|0,M+=(S^(E|~T))+C[15]-30611744|0,M=(M<<10|M>>>22)+E|0,T+=(E^(M|~S))+C[6]-1560198380|0,T=(T<<15|T>>>17)+M|0,S+=(M^(T|~E))+C[13]+1309151649|0,S=(S<<21|S>>>11)+T|0,E+=(T^(S|~M))+C[4]-145523070|0,E=(E<<6|E>>>26)+S|0,M+=(S^(E|~T))+C[11]-1120210379|0,M=(M<<10|M>>>22)+E|0,T+=(E^(M|~S))+C[2]+718787259|0,T=(T<<15|T>>>17)+M|0,S+=(M^(T|~E))+C[9]-343485551|0,S=(S<<21|S>>>11)+T|0,$[0]=E+$[0]|0,$[1]=S+$[1]|0,$[2]=T+$[2]|0,$[3]=M+$[3]|0}function s($){var C=[],E;for(E=0;E<64;E+=4)C[E>>2]=$.charCodeAt(E)+($.charCodeAt(E+1)<<8)+($.charCodeAt(E+2)<<16)+($.charCodeAt(E+3)<<24);return C}function l($){var C=[],E;for(E=0;E<64;E+=4)C[E>>2]=$[E]+($[E+1]<<8)+($[E+2]<<16)+($[E+3]<<24);return C}function o($){var C=$.length,E=[1732584193,-271733879,-1732584194,271733878],S,T,M,R,Y,z;for(S=64;S<=C;S+=64)r(E,s($.substring(S-64,S)));for($=$.substring(S-64),T=$.length,M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=0;S<T;S+=1)M[S>>2]|=$.charCodeAt(S)<<(S%4<<3);if(M[S>>2]|=128<<(S%4<<3),S>55)for(r(E,M),S=0;S<16;S+=1)M[S]=0;return R=C*8,R=R.toString(16).match(/(.*?)(.{0,8})$/),Y=parseInt(R[2],16),z=parseInt(R[1],16)||0,M[14]=Y,M[15]=z,r(E,M),E}function a($){var C=$.length,E=[1732584193,-271733879,-1732584194,271733878],S,T,M,R,Y,z;for(S=64;S<=C;S+=64)r(E,l($.subarray(S-64,S)));for($=S-64<C?$.subarray(S-64):new Uint8Array(0),T=$.length,M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],S=0;S<T;S+=1)M[S>>2]|=$[S]<<(S%4<<3);if(M[S>>2]|=128<<(S%4<<3),S>55)for(r(E,M),S=0;S<16;S+=1)M[S]=0;return R=C*8,R=R.toString(16).match(/(.*?)(.{0,8})$/),Y=parseInt(R[2],16),z=parseInt(R[1],16)||0,M[14]=Y,M[15]=z,r(E,M),E}function u($){var C="",E;for(E=0;E<4;E+=1)C+=n[$>>E*8+4&15]+n[$>>E*8&15];return C}function c($){var C;for(C=0;C<$.length;C+=1)$[C]=u($[C]);return $.join("")}c(o("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function $(C,E){return C=C|0||0,C<0?Math.max(C+E,0):Math.min(C,E)}ArrayBuffer.prototype.slice=function(C,E){var S=this.byteLength,T=$(C,S),M=S,R,Y,z,j;return E!==t&&(M=$(E,S)),T>M?new ArrayBuffer(0):(R=M-T,Y=new ArrayBuffer(R),z=new Uint8Array(Y),j=new Uint8Array(this,T,R),z.set(j),Y)}}();function f($){return/[\u0080-\uFFFF]/.test($)&&($=unescape(encodeURIComponent($))),$}function d($,C){var E=$.length,S=new ArrayBuffer(E),T=new Uint8Array(S),M;for(M=0;M<E;M+=1)T[M]=$.charCodeAt(M);return C?T:S}function m($){return String.fromCharCode.apply(null,new Uint8Array($))}function p($,C,E){var S=new Uint8Array($.byteLength+C.byteLength);return S.set(new Uint8Array($)),S.set(new Uint8Array(C),$.byteLength),E?S:S.buffer}function g($){var C=[],E=$.length,S;for(S=0;S<E-1;S+=2)C.push(parseInt($.substr(S,2),16));return String.fromCharCode.apply(String,C)}function k(){this.reset()}return k.prototype.append=function($){return this.appendBinary(f($)),this},k.prototype.appendBinary=function($){this._buff+=$,this._length+=$.length;var C=this._buff.length,E;for(E=64;E<=C;E+=64)r(this._hash,s(this._buff.substring(E-64,E)));return this._buff=this._buff.substring(E-64),this},k.prototype.end=function($){var C=this._buff,E=C.length,S,T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],M;for(S=0;S<E;S+=1)T[S>>2]|=C.charCodeAt(S)<<(S%4<<3);return this._finish(T,E),M=c(this._hash),$&&(M=g(M)),this.reset(),M},k.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},k.prototype.setState=function($){return this._buff=$.buff,this._length=$.length,this._hash=$.hash,this},k.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},k.prototype._finish=function($,C){var E=C,S,T,M;if($[E>>2]|=128<<(E%4<<3),E>55)for(r(this._hash,$),E=0;E<16;E+=1)$[E]=0;S=this._length*8,S=S.toString(16).match(/(.*?)(.{0,8})$/),T=parseInt(S[2],16),M=parseInt(S[1],16)||0,$[14]=T,$[15]=M,r(this._hash,$)},k.hash=function($,C){return k.hashBinary(f($),C)},k.hashBinary=function($,C){var E=o($),S=c(E);return C?g(S):S},k.ArrayBuffer=function(){this.reset()},k.ArrayBuffer.prototype.append=function($){var C=p(this._buff.buffer,$,!0),E=C.length,S;for(this._length+=$.byteLength,S=64;S<=E;S+=64)r(this._hash,l(C.subarray(S-64,S)));return this._buff=S-64<E?new Uint8Array(C.buffer.slice(S-64)):new Uint8Array(0),this},k.ArrayBuffer.prototype.end=function($){var C=this._buff,E=C.length,S=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],T,M;for(T=0;T<E;T+=1)S[T>>2]|=C[T]<<(T%4<<3);return this._finish(S,E),M=c(this._hash),$&&(M=g(M)),this.reset(),M},k.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.ArrayBuffer.prototype.getState=function(){var $=k.prototype.getState.call(this);return $.buff=m($.buff),$},k.ArrayBuffer.prototype.setState=function($){return $.buff=d($.buff,!0),k.prototype.setState.call(this,$)},k.ArrayBuffer.prototype.destroy=k.prototype.destroy,k.ArrayBuffer.prototype._finish=k.prototype._finish,k.ArrayBuffer.hash=function($,C){var E=a(new Uint8Array($)),S=c(E);return C?g(S):S},k})})(WR);const N2=WR.exports;var a0={};a0.stringify=function(e){var t=[];t.push({obj:e});for(var n="",r,s,l,o,a,u,c,f,d,m,p;r=t.pop();)if(s=r.obj,l=r.prefix||"",o=r.val||"",n+=l,o)n+=o;else if(typeof s!="object")n+=typeof s>"u"?null:JSON.stringify(s);else if(s===null)n+="null";else if(Array.isArray(s)){for(t.push({val:"]"}),a=s.length-1;a>=0;a--)u=a===0?"":",",t.push({obj:s[a],prefix:u});t.push({val:"["})}else{c=[];for(f in s)s.hasOwnProperty(f)&&c.push(f);for(t.push({val:"}"}),a=c.length-1;a>=0;a--)d=c[a],m=s[d],p=a>0?",":"",p+=JSON.stringify(d)+":",t.push({obj:m,prefix:p});t.push({val:"{"})}return n};function cd(i,e,t){var n=t[t.length-1];i===n.element&&(t.pop(),n=t[t.length-1]);var r=n.element,s=n.index;if(Array.isArray(r))r.push(i);else if(s===e.length-2){var l=e.pop();r[l]=i}else e.push(i)}a0.parse=function(i){for(var e=[],t=[],n=0,r,s,l,o,a,u,c,f,d;;){if(r=i[n++],r==="}"||r==="]"||typeof r>"u"){if(e.length===1)return e.pop();cd(e.pop(),e,t);continue}switch(r){case" ":case"	":case`
`:case":":case",":break;case"n":n+=3,cd(null,e,t);break;case"t":n+=3,cd(!0,e,t);break;case"f":n+=4,cd(!1,e,t);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(s="",n--;;)if(l=i[n++],/[\d\.\-e\+]/.test(l))s+=l;else{n--;break}cd(parseFloat(s),e,t);break;case'"':for(o="",a=void 0,u=0;c=i[n++],c!=='"'||a==="\\"&&u%2===1;)o+=c,a=c,a==="\\"?u++:u=0;cd(JSON.parse('"'+o+'"'),e,t);break;case"[":f={element:[],index:e.length},e.push(f.element),t.push(f);break;case"{":d={element:{},index:e.length},e.push(d.element),t.push(d);break;default:throw new Error("unexpectedly reached end of input: "+r)}}};var vh=rme;function rme(i){return function(){var e=arguments.length;if(e){for(var t=[],n=-1;++n<e;)t[n]=arguments[n];return i.call(this,t)}else return i.call(this,[])}}var El={exports:{}};typeof Object.create=="function"?El.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:El.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var cs={exports:{}},Td=typeof Reflect=="object"?Reflect:null,c6=Td&&typeof Td.apply=="function"?Td.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},Lg;Td&&typeof Td.ownKeys=="function"?Lg=Td.ownKeys:Object.getOwnPropertySymbols?Lg=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Lg=function(e){return Object.getOwnPropertyNames(e)};function sme(i){console&&console.warn&&console.warn(i)}var qR=Number.isNaN||function(e){return e!==e};function Mi(){Mi.init.call(this)}cs.exports=Mi;cs.exports.once=ume;Mi.EventEmitter=Mi;Mi.prototype._events=void 0;Mi.prototype._eventsCount=0;Mi.prototype._maxListeners=void 0;var f6=10;function u0(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(Mi,"defaultMaxListeners",{enumerable:!0,get:function(){return f6},set:function(i){if(typeof i!="number"||i<0||qR(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");f6=i}});Mi.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Mi.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||qR(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function HR(i){return i._maxListeners===void 0?Mi.defaultMaxListeners:i._maxListeners}Mi.prototype.getMaxListeners=function(){return HR(this)};Mi.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r=e==="error",s=this._events;if(s!==void 0)r=r&&s.error===void 0;else if(!r)return!1;if(r){var l;if(t.length>0&&(l=t[0]),l instanceof Error)throw l;var o=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw o.context=l,o}var a=s[e];if(a===void 0)return!1;if(typeof a=="function")c6(a,this,t);else for(var u=a.length,c=XR(a,u),n=0;n<u;++n)c6(c[n],this,t);return!0};function VR(i,e,t,n){var r,s,l;if(u0(t),s=i._events,s===void 0?(s=i._events=Object.create(null),i._eventsCount=0):(s.newListener!==void 0&&(i.emit("newListener",e,t.listener?t.listener:t),s=i._events),l=s[e]),l===void 0)l=s[e]=t,++i._eventsCount;else if(typeof l=="function"?l=s[e]=n?[t,l]:[l,t]:n?l.unshift(t):l.push(t),r=HR(i),r>0&&l.length>r&&!l.warned){l.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=i,o.type=e,o.count=l.length,sme(o)}return i}Mi.prototype.addListener=function(e,t){return VR(this,e,t,!1)};Mi.prototype.on=Mi.prototype.addListener;Mi.prototype.prependListener=function(e,t){return VR(this,e,t,!0)};function lme(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function xR(i,e,t){var n={fired:!1,wrapFn:void 0,target:i,type:e,listener:t},r=lme.bind(n);return r.listener=t,n.wrapFn=r,r}Mi.prototype.once=function(e,t){return u0(t),this.on(e,xR(this,e,t)),this};Mi.prototype.prependOnceListener=function(e,t){return u0(t),this.prependListener(e,xR(this,e,t)),this};Mi.prototype.removeListener=function(e,t){var n,r,s,l,o;if(u0(t),r=this._events,r===void 0)return this;if(n=r[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(s=-1,l=n.length-1;l>=0;l--)if(n[l]===t||n[l].listener===t){o=n[l].listener,s=l;break}if(s<0)return this;s===0?n.shift():ome(n,s),n.length===1&&(r[e]=n[0]),r.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this};Mi.prototype.off=Mi.prototype.removeListener;Mi.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),l;for(r=0;r<s.length;++r)l=s[r],l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this};function GR(i,e,t){var n=i._events;if(n===void 0)return[];var r=n[e];return r===void 0?[]:typeof r=="function"?t?[r.listener||r]:[r]:t?ame(r):XR(r,r.length)}Mi.prototype.listeners=function(e){return GR(this,e,!0)};Mi.prototype.rawListeners=function(e){return GR(this,e,!1)};Mi.listenerCount=function(i,e){return typeof i.listenerCount=="function"?i.listenerCount(e):ZR.call(i,e)};Mi.prototype.listenerCount=ZR;function ZR(i){var e=this._events;if(e!==void 0){var t=e[i];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}Mi.prototype.eventNames=function(){return this._eventsCount>0?Lg(this._events):[]};function XR(i,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=i[n];return t}function ome(i,e){for(;e+1<i.length;e++)i[e]=i[e+1];i.pop()}function ame(i){for(var e=new Array(i.length),t=0;t<e.length;++t)e[t]=i[t].listener||i[t];return e}function ume(i,e){return new Promise(function(t,n){function r(l){i.removeListener(e,s),n(l)}function s(){typeof i.removeListener=="function"&&i.removeListener("error",r),t([].slice.call(arguments))}KR(i,e,s,{once:!0}),e!=="error"&&cme(i,r,{once:!0})})}function cme(i,e,t){typeof i.on=="function"&&KR(i,"error",e,t)}function KR(i,e,t,n){if(typeof i.on=="function")n.once?i.once(e,t):i.on(e,t);else if(typeof i.addEventListener=="function")i.addEventListener(e,function r(s){n.once&&i.removeEventListener(e,r),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof i)}function c0(i){return"$"+i}function JR(i){return i.substring(1)}function ru(){this._store={}}ru.prototype.get=function(i){var e=c0(i);return this._store[e]};ru.prototype.set=function(i,e){var t=c0(i);return this._store[t]=e,!0};ru.prototype.has=function(i){var e=c0(i);return e in this._store};ru.prototype.keys=function(){return Object.keys(this._store).map(i=>JR(i))};ru.prototype.delete=function(i){var e=c0(i),t=e in this._store;return delete this._store[e],t};ru.prototype.forEach=function(i){for(var e=Object.keys(this._store),t=0,n=e.length;t<n;t++){var r=e[t],s=this._store[r];r=JR(r),i(s,r)}};Object.defineProperty(ru.prototype,"size",{get:function(){return Object.keys(this._store).length}});function Ip(i){if(this._store=new ru,i&&Array.isArray(i))for(var e=0,t=i.length;e<t;e++)this.add(i[e])}Ip.prototype.add=function(i){return this._store.set(i,!0)};Ip.prototype.has=function(i){return this._store.has(i)};Ip.prototype.forEach=function(i){this._store.forEach(function(e,t){i(t)})};Object.defineProperty(Ip.prototype,"size",{get:function(){return this._store.size}});function fme(){if(typeof Symbol>"u"||typeof Map>"u"||typeof Set>"u")return!1;var i=Object.getOwnPropertyDescriptor(Map,Symbol.species);return i&&"get"in i&&Map[Symbol.species]===Map}var Vd,el;fme()?(Vd=Set,el=Map):(Vd=Ip,el=ru);function dme(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer||typeof Blob<"u"&&i instanceof Blob}function hme(i){if(typeof i.slice=="function")return i.slice(0);var e=new ArrayBuffer(i.byteLength),t=new Uint8Array(e),n=new Uint8Array(i);return t.set(n),e}function mme(i){if(i instanceof ArrayBuffer)return hme(i);var e=i.size,t=i.type;return typeof i.slice=="function"?i.slice(0,e,t):i.webkitSlice(0,e,t)}var QR=Function.prototype.toString,pme=QR.call(Object);function _me(i){var e=Object.getPrototypeOf(i);if(e===null)return!0;var t=e.constructor;return typeof t=="function"&&t instanceof t&&QR.call(t)==pme}function Br(i){var e,t,n;if(!i||typeof i!="object")return i;if(Array.isArray(i)){for(e=[],t=0,n=i.length;t<n;t++)e[t]=Br(i[t]);return e}if(i instanceof Date&&isFinite(i))return i.toISOString();if(dme(i))return mme(i);if(!_me(i))return i;e={};for(t in i)if(Object.prototype.hasOwnProperty.call(i,t)){var r=Br(i[t]);typeof r<"u"&&(e[t]=r)}return e}function ez(i){var e=!1;return vh(function(t){if(e)throw new Error("once called more than once");e=!0,i.apply(this,t)})}function tz(i){return vh(function(e){e=Br(e);var t=this,n=typeof e[e.length-1]=="function"?e.pop():!1,r=new Promise(function(s,l){var o;try{var a=ez(function(u,c){u?l(u):s(c)});e.push(a),o=i.apply(t,e),o&&typeof o.then=="function"&&s(o)}catch(u){l(u)}});return n&&r.then(function(s){n(null,s)},n),r})}function gme(i,e,t){if(i.constructor.listeners("debug").length){for(var n=["api",i.name,e],r=0;r<t.length-1;r++)n.push(t[r]);i.constructor.emit("debug",n);var s=t[t.length-1];t[t.length-1]=function(l,o){var a=["api",i.name,e];a=a.concat(l?["error",l]:["success",o]),i.constructor.emit("debug",a),s(l,o)}}}function Tr(i,e){return tz(vh(function(t){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var n=this;return gme(n,i,t),this.taskqueue.isReady?e.apply(this,t):new Promise(function(r,s){n.taskqueue.addTask(function(l){l?s(l):r(n[i].apply(n,t))})})}))}function Bp(i,e){for(var t={},n=0,r=e.length;n<r;n++){var s=e[n];s in i&&(t[s]=i[s])}return t}var vme=6;function d6(i){return i}function bme(i){return[{ok:i}]}function nz(i,e,t){var n=e.docs,r=new el;n.forEach(function(g){r.has(g.id)?r.get(g.id).push(g):r.set(g.id,[g])});var s=r.size,l=0,o=new Array(s);function a(){var g=[];o.forEach(function(k){k.docs.forEach(function($){g.push({id:k.id,docs:[$]})})}),t(null,{results:g})}function u(){++l===s&&a()}function c(g,k,$){o[g]={id:k,docs:$},u()}var f=[];r.forEach(function(g,k){f.push(k)});var d=0;function m(){if(!(d>=f.length)){var g=Math.min(d+vme,f.length),k=f.slice(d,g);p(k,d),d+=k.length}}function p(g,k){g.forEach(function($,C){var E=k+C,S=r.get($),T=Bp(S[0],["atts_since","attachments"]);T.open_revs=S.map(function(R){return R.rev}),T.open_revs=T.open_revs.filter(d6);var M=d6;T.open_revs.length===0&&(delete T.open_revs,M=bme),["revs","attachments","binary","ajax","latest"].forEach(function(R){R in e&&(T[R]=e[R])}),i.get($,T,function(R,Y){var z;R?z=[{error:R}]:z=M(Y),c(E,$,z),m()})})}m()}var M2;try{localStorage.setItem("_pouch_check_localstorage",1),M2=!!localStorage.getItem("_pouch_check_localstorage")}catch{M2=!1}function f0(){return M2}El.exports(bh,cs.exports);function kme(i){f0()&&addEventListener("storage",function(e){i.emit(e.key)})}function bh(){cs.exports.call(this),this._listeners={},kme(this)}bh.prototype.addListener=function(i,e,t,n){if(this._listeners[e])return;var r=this,s=!1;function l(){if(!r._listeners[e])return;if(s){s="waiting";return}s=!0;var o=Bp(n,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function a(){s=!1}t.changes(o).on("change",function(u){u.seq>n.since&&!n.cancelled&&(n.since=u.seq,n.onChange(u))}).on("complete",function(){s==="waiting"&&ra(l),s=!1}).on("error",a)}this._listeners[e]=l,this.on(i,l)};bh.prototype.removeListener=function(i,e){e in this._listeners&&(cs.exports.prototype.removeListener.call(this,i,this._listeners[e]),delete this._listeners[e])};bh.prototype.notifyLocalWindows=function(i){f0()&&(localStorage[i]=localStorage[i]==="a"?"b":"a")};bh.prototype.notify=function(i){this.emit(i),this.notifyLocalWindows(i)};function Ul(i){if(typeof console<"u"&&typeof console[i]=="function"){var e=Array.prototype.slice.call(arguments,1);console[i].apply(console,e)}}function yme(i,e){var t=6e5;i=parseInt(i,10)||0,e=parseInt(e,10),e!==e||e<=i?e=(i||1)<<1:e=e+1,e>t&&(i=t>>1,e=t);var n=Math.random(),r=e-i;return~~(r*n+i)}function wme(i){var e=0;return i||(e=2e3),yme(i,e)}function L2(i,e){Ul("info","The above "+i+" is totally normal. "+e)}var O2;typeof Object.assign=="function"?O2=Object.assign:O2=function(i){for(var e=Object(i),t=1;t<arguments.length;t++){var n=arguments[t];if(n!=null)for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var uf=O2;El.exports(Ri,Error);function Ri(i,e,t){Error.call(this,t),this.status=i,this.name=e,this.message=t,this.error=!0}Ri.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new Ri(401,"unauthorized","Name or password is incorrect.");var $me=new Ri(400,"bad_request","Missing JSON list of 'docs'"),ao=new Ri(404,"not_found","missing"),xd=new Ri(409,"conflict","Document update conflict"),iz=new Ri(400,"bad_request","_id field must contain a string"),Fme=new Ri(412,"missing_id","_id is required for puts"),Eme=new Ri(400,"bad_request","Only reserved document ids may start with underscore.");new Ri(412,"precondition_failed","Database not open");var rz=new Ri(500,"unknown_error","Database encountered an unknown error"),sz=new Ri(500,"badarg","Some query argument is invalid");new Ri(400,"invalid_request","Request was invalid");var Cme=new Ri(400,"query_parse_error","Some query parameter is invalid"),h6=new Ri(500,"doc_validation","Bad special document member"),d0=new Ri(400,"bad_request","Something wrong with the request"),Ny=new Ri(400,"bad_request","Document must be a JSON object");new Ri(404,"not_found","Database not found");var My=new Ri(500,"indexed_db_went_bad","unknown");new Ri(500,"web_sql_went_bad","unknown");new Ri(500,"levelDB_went_went_bad","unknown");new Ri(403,"forbidden","Forbidden by design doc validate_doc_update function");var lz=new Ri(400,"bad_request","Invalid rev format");new Ri(412,"file_exists","The database could not be created, the file already exists.");var Dme=new Ri(412,"missing_stub","A pre-existing attachment stub wasn't found");new Ri(413,"invalid_url","Provided URL is invalid");function Ln(i,e){function t(n){for(var r=Object.getOwnPropertyNames(i),s=0,l=r.length;s<l;s++)typeof i[r[s]]!="function"&&(this[r[s]]=i[r[s]]);this.stack===void 0&&(this.stack=new Error().stack),n!==void 0&&(this.reason=n)}return t.prototype=Ri.prototype,new t(e)}function Gd(i){if(typeof i!="object"){var e=i;i=rz,i.data=e}return"error"in i&&i.error==="conflict"&&(i.name="conflict",i.status=409),"name"in i||(i.name=i.error||"unknown"),"status"in i||(i.status=500),"message"in i||(i.message=i.message||i.reason),"stack"in i||(i.stack=new Error().stack),i}function Sme(i,e,t){try{return!i(e,t)}catch(r){var n="Filter function threw: "+r.toString();return Ln(d0,n)}}function Ly(i){var e={},t=i.filter&&typeof i.filter=="function";return e.query=i.query_params,function(r){r.doc||(r.doc={});var s=t&&Sme(i.filter,r.doc,e);if(typeof s=="object")return s;if(s)return!1;if(!i.include_docs)delete r.doc;else if(!i.attachments)for(var l in r.doc._attachments)Object.prototype.hasOwnProperty.call(r.doc._attachments,l)&&(r.doc._attachments[l].stub=!0);return!0}}function Xg(i){for(var e=[],t=0,n=i.length;t<n;t++)e=e.concat(i[t]);return e}function oz(i){var e;if(i?typeof i!="string"?e=Ln(iz):/^_/.test(i)&&!/^_(design|local)/.test(i)&&(e=Ln(Eme)):e=Ln(Fme),e)throw e}function sa(i){return typeof i._remote=="boolean"?i._remote:typeof i.type=="function"?(Ul("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),i.type()==="http"):!1}function Tme(i,e){return"listenerCount"in i?i.listenerCount(e):cs.exports.listenerCount(i,e)}function I2(i){if(!i)return null;var e=i.split("/");return e.length===2?e:e.length===1?[i,i]:null}function m6(i){var e=I2(i);return e?e.join("/"):null}var p6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],_6="queryKey",Ame=/(?:^|&)([^&=]*)=?([^&]*)/g,Pme=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function az(i){for(var e=Pme.exec(i),t={},n=14;n--;){var r=p6[n],s=e[n]||"",l=["user","password"].indexOf(r)!==-1;t[r]=l?decodeURIComponent(s):s}return t[_6]={},t[p6[12]].replace(Ame,function(o,a,u){a&&(t[_6][a]=u)}),t}function Oy(i,e){var t=[],n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t.push(r),n.push(e[r]));return t.push(i),Function.apply(null,t).apply(null,n)}function h0(i,e,t){return i.get(e).catch(function(n){if(n.status!==404)throw n;return{}}).then(function(n){var r=n._rev,s=t(n);return s?(s._id=e,s._rev=r,Nme(i,s,t)):{updated:!1,rev:r}})}function Nme(i,e,t){return i.put(e).then(function(n){return{updated:!0,rev:n.rev}},function(n){if(n.status!==409)throw n;return h0(i,e._id,t)})}var Iy=function(i){return atob(i)},Rp=function(i){return btoa(i)};function By(i,e){i=i||[],e=e||{};try{return new Blob(i,e)}catch(s){if(s.name!=="TypeError")throw s;for(var t=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,n=new t,r=0;r<i.length;r+=1)n.append(i[r]);return n.getBlob(e.type)}}function Mme(i){for(var e=i.length,t=new ArrayBuffer(e),n=new Uint8Array(t),r=0;r<e;r++)n[r]=i.charCodeAt(r);return t}function Ry(i,e){return By([Mme(i)],{type:e})}function zy(i,e){return Ry(Iy(i),e)}function Lme(i){for(var e="",t=new Uint8Array(i),n=t.byteLength,r=0;r<n;r++)e+=String.fromCharCode(t[r]);return e}function uz(i,e){var t=new FileReader,n=typeof t.readAsBinaryString=="function";t.onloadend=function(r){var s=r.target.result||"";if(n)return e(s);e(Lme(s))},n?t.readAsBinaryString(i):t.readAsArrayBuffer(i)}function cz(i,e){uz(i,function(t){e(t)})}function jy(i,e){cz(i,function(t){e(Rp(t))})}function Ome(i,e){var t=new FileReader;t.onloadend=function(n){var r=n.target.result||new ArrayBuffer(0);e(r)},t.readAsArrayBuffer(i)}var Ime=self.setImmediate||self.setTimeout,Bme=32768;function Rme(i){return Rp(i)}function zme(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.slice(e,t)}function jme(i,e,t,n,r){(t>0||n<e.size)&&(e=zme(e,t,n)),Ome(e,function(s){i.append(s),r()})}function Yme(i,e,t,n,r){(t>0||n<e.length)&&(e=e.substring(t,n)),i.appendBinary(e),r()}function Yy(i,e){var t=typeof i=="string",n=t?i.length:i.size,r=Math.min(Bme,n),s=Math.ceil(n/r),l=0,o=t?new N2:new N2.ArrayBuffer,a=t?Yme:jme;function u(){Ime(f)}function c(){var d=o.end(!0),m=Rme(d);e(m),o.destroy()}function f(){var d=l*r,m=d+r;l++,l<s?a(o,i,d,m,u):a(o,i,d,m,c)}f()}function fz(i){return N2.hash(i)}function dz(i,e){if(!e)return UR().replace(/-/g,"").toLowerCase();var t=uf({},i);return delete t._rev_tree,fz(JSON.stringify(t))}var m0=UR;function cf(i){for(var e,t,n,r=i.rev_tree.slice(),s;s=r.pop();){var l=s.ids,o=l[2],a=s.pos;if(o.length){for(var u=0,c=o.length;u<c;u++)r.push({pos:a+1,ids:o[u]});continue}var f=!!l[1].deleted,d=l[0];(!e||(n!==f?n:t!==a?t<a:e<d))&&(e=d,t=a,n=f)}return t+"-"+e}function Df(i,e){for(var t=i.slice(),n;n=t.pop();)for(var r=n.pos,s=n.ids,l=s[2],o=e(l.length===0,r,s[0],n.ctx,s[1]),a=0,u=l.length;a<u;a++)t.push({pos:r+1,ids:l[a],ctx:o})}function Ume(i,e){return i.pos-e.pos}function Uy(i){var e=[];Df(i,function(r,s,l,o,a){r&&e.push({rev:s+"-"+l,pos:s,opts:a})}),e.sort(Ume).reverse();for(var t=0,n=e.length;t<n;t++)delete e[t].pos;return e}function Wy(i){for(var e=cf(i),t=Uy(i.rev_tree),n=[],r=0,s=t.length;r<s;r++){var l=t[r];l.rev!==e&&!l.opts.deleted&&n.push(l.rev)}return n}function Wme(i){var e=[];return Df(i.rev_tree,function(t,n,r,s,l){l.status==="available"&&!t&&(e.push(n+"-"+r),l.status="missing")}),e}function hz(i){for(var e=[],t=i.slice(),n;n=t.pop();){var r=n.pos,s=n.ids,l=s[0],o=s[1],a=s[2],u=a.length===0,c=n.history?n.history.slice():[];c.push({id:l,opts:o}),u&&e.push({pos:r+1-c.length,ids:c});for(var f=0,d=a.length;f<d;f++)t.push({pos:r+1,ids:a[f],history:c})}return e.reverse()}function qme(i,e){return i.pos-e.pos}function Hme(i,e,t){for(var n=0,r=i.length,s;n<r;)s=n+r>>>1,t(i[s],e)<0?n=s+1:r=s;return n}function Vme(i,e,t){var n=Hme(i,e,t);i.splice(n,0,e)}function g6(i,e){for(var t,n,r=e,s=i.length;r<s;r++){var l=i[r],o=[l.id,l.opts,[]];n?(n[2].push(o),n=o):t=n=o}return t}function xme(i,e){return i[0]<e[0]?-1:1}function v6(i,e){for(var t=[{tree1:i,tree2:e}],n=!1;t.length>0;){var r=t.pop(),s=r.tree1,l=r.tree2;(s[1].status||l[1].status)&&(s[1].status=s[1].status==="available"||l[1].status==="available"?"available":"missing");for(var o=0;o<l[2].length;o++){if(!s[2][0]){n="new_leaf",s[2][0]=l[2][o];continue}for(var a=!1,u=0;u<s[2].length;u++)s[2][u][0]===l[2][o][0]&&(t.push({tree1:s[2][u],tree2:l[2][o]}),a=!0);a||(n="new_branch",Vme(s[2],l[2][o],xme))}}return{conflicts:n,tree:i}}function mz(i,e,t){var n=[],r=!1,s=!1,l;if(!i.length)return{tree:[e],conflicts:"new_leaf"};for(var o=0,a=i.length;o<a;o++){var u=i[o];if(u.pos===e.pos&&u.ids[0]===e.ids[0])l=v6(u.ids,e.ids),n.push({pos:u.pos,ids:l.tree}),r=r||l.conflicts,s=!0;else if(t!==!0){var c=u.pos<e.pos?u:e,f=u.pos<e.pos?e:u,d=f.pos-c.pos,m=[],p=[];for(p.push({ids:c.ids,diff:d,parent:null,parentIdx:null});p.length>0;){var g=p.pop();if(g.diff===0){g.ids[0]===f.ids[0]&&m.push(g);continue}for(var k=g.ids[2],$=0,C=k.length;$<C;$++)p.push({ids:k[$],diff:g.diff-1,parent:g.ids,parentIdx:$})}var E=m[0];E?(l=v6(E.ids,f.ids),E.parent[2][E.parentIdx]=l.tree,n.push({pos:c.pos,ids:c.ids}),r=r||l.conflicts,s=!0):n.push(u)}else n.push(u)}return s||n.push(e),n.sort(qme),{tree:n,conflicts:r||"internal_node"}}function Gme(i,e){for(var t=hz(i),n,r,s=0,l=t.length;s<l;s++){var o=t[s],a=o.ids,u;if(a.length>e){n||(n={});var c=a.length-e;u={pos:o.pos+c,ids:g6(a,c)};for(var f=0;f<c;f++){var d=o.pos+f+"-"+a[f].id;n[d]=!0}}else u={pos:o.pos,ids:g6(a,0)};r?r=mz(r,u,!0).tree:r=[u]}return n&&Df(r,function(m,p,g){delete n[p+"-"+g]}),{tree:r,revs:n?Object.keys(n):[]}}function pz(i,e,t){var n=mz(i,e),r=Gme(n.tree,t);return{tree:r.tree,stemmedRevs:r.revs,conflicts:n.conflicts}}function Zme(i,e){for(var t=i.slice(),n=e.split("-"),r=parseInt(n[0],10),s=n[1],l;l=t.pop();){if(l.pos===r&&l.ids[0]===s)return!0;for(var o=l.ids[2],a=0,u=o.length;a<u;a++)t.push({pos:l.pos+1,ids:o[a]})}return!1}function Xme(i){return i.ids}function qa(i,e){e||(e=cf(i));for(var t=e.substring(e.indexOf("-")+1),n=i.rev_tree.map(Xme),r;r=n.pop();){if(r[0]===t)return!!r[1].deleted;n=n.concat(r[2])}}function ff(i){return/^_local/.test(i)}function Kme(i,e){for(var t=e.rev_tree.slice(),n;n=t.pop();){var r=n.pos,s=n.ids,l=s[0],o=s[1],a=s[2],u=a.length===0,c=n.history?n.history.slice():[];if(c.push({id:l,pos:r,opts:o}),u)for(var f=0,d=c.length;f<d;f++){var m=c[f],p=m.pos+"-"+m.id;if(p===i)return r+"-"+l}for(var g=0,k=a.length;g<k;g++)t.push({pos:r+1,ids:a[g],history:c})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+i)}El.exports(zp,cs.exports);function Jme(i,e,t,n){try{i.emit("change",e,t,n)}catch(r){Ul("error",'Error in .on("change", function):',r)}}function zp(i,e,t){cs.exports.call(this);var n=this;this.db=i,e=e?Br(e):{};var r=e.complete=ez(function(o,a){o?Tme(n,"error")>0&&n.emit("error",o):n.emit("complete",a),n.removeAllListeners(),i.removeListener("destroyed",s)});t&&(n.on("complete",function(o){t(null,o)}),n.on("error",t));function s(){n.cancel()}i.once("destroyed",s),e.onChange=function(o,a,u){n.isCancelled||Jme(n,o,a,u)};var l=new Promise(function(o,a){e.complete=function(u,c){u?a(u):o(c)}});n.once("cancel",function(){i.removeListener("destroyed",s),e.complete(null,{status:"cancelled"})}),this.then=l.then.bind(l),this.catch=l.catch.bind(l),this.then(function(o){r(null,o)},r),i.taskqueue.isReady?n.validateChanges(e):i.taskqueue.addTask(function(o){o?e.complete(o):n.isCancelled?n.emit("cancel"):n.validateChanges(e)})}zp.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")};function Qme(i,e,t){var n=[{rev:i._rev}];t.style==="all_docs"&&(n=Uy(e.rev_tree).map(function(s){return{rev:s.rev}}));var r={id:e.id,changes:n,doc:i};return qa(e,i._rev)&&(r.deleted=!0),t.conflicts&&(r.doc._conflicts=Wy(e),r.doc._conflicts.length||delete r.doc._conflicts),r}zp.prototype.validateChanges=function(i){var e=i.complete,t=this;kn._changesFilterPlugin?kn._changesFilterPlugin.validate(i,function(n){if(n)return e(n);t.doChanges(i)}):t.doChanges(i)};zp.prototype.doChanges=function(i){var e=this,t=i.complete;if(i=Br(i),"live"in i&&!("continuous"in i)&&(i.continuous=i.live),i.processChange=Qme,i.since==="latest"&&(i.since="now"),i.since||(i.since=0),i.since==="now"){this.db.info().then(function(s){if(e.isCancelled){t(null,{status:"cancelled"});return}i.since=s.update_seq,e.doChanges(i)},t);return}if(kn._changesFilterPlugin){if(kn._changesFilterPlugin.normalize(i),kn._changesFilterPlugin.shouldFilter(this,i))return kn._changesFilterPlugin.filter(this,i)}else["doc_ids","filter","selector","view"].forEach(function(s){s in i&&Ul("warn",'The "'+s+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in i||(i.descending=!1),i.limit=i.limit===0?1:i.limit,i.complete=t;var n=this.db._changes(i);if(n&&typeof n.cancel=="function"){var r=e.cancel;e.cancel=vh(function(s){n.cancel(),r.apply(this,s)})}};function b6(i,e){return i<e?-1:i>e?1:0}function qy(i,e){return function(t,n){t||n[0]&&n[0].error?(t=t||n[0],t.docId=e,i(t)):i(null,n.length?n[0]:n)}}function epe(i){for(var e=0;e<i.length;e++){var t=i[e];if(t._deleted)delete t._attachments;else if(t._attachments)for(var n=Object.keys(t._attachments),r=0;r<n.length;r++){var s=n[r];t._attachments[s]=Bp(t._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}function tpe(i,e){var t=b6(i._id,e._id);if(t!==0)return t;var n=i._revisions?i._revisions.start:0,r=e._revisions?e._revisions.start:0;return b6(n,r)}function npe(i){var e={},t=[];return Df(i,function(n,r,s,l){var o=r+"-"+s;return n&&(e[o]=0),l!==void 0&&t.push({from:l,to:o}),o}),t.reverse(),t.forEach(function(n){e[n.from]===void 0?e[n.from]=1+e[n.to]:e[n.from]=Math.min(e[n.from],1+e[n.to])}),e}function ipe(i){var e="limit"in i?i.keys.slice(i.skip,i.limit+i.skip):i.skip>0?i.keys.slice(i.skip):i.keys;i.keys=e,i.skip=0,delete i.limit,i.descending&&(e.reverse(),i.descending=!1)}function _z(i){var e=i._compactionQueue[0],t=e.opts,n=e.callback;i.get("_local/compaction").catch(function(){return!1}).then(function(r){r&&r.last_seq&&(t.last_seq=r.last_seq),i._compact(t,function(s,l){s?n(s):n(null,l),ra(function(){i._compactionQueue.shift(),i._compactionQueue.length&&_z(i)})})})}function rpe(i){return i.charAt(0)==="_"?i+" is not a valid attachment name, attachment names cannot start with '_'":!1}El.exports(Xi,cs.exports);function Xi(){cs.exports.call(this);for(var i in Xi.prototype)typeof this[i]=="function"&&(this[i]=this[i].bind(this))}Xi.prototype.post=Tr("post",function(i,e,t){if(typeof e=="function"&&(t=e,e={}),typeof i!="object"||Array.isArray(i))return t(Ln(Ny));this.bulkDocs({docs:[i]},e,qy(t,i._id))});Xi.prototype.put=Tr("put",function(i,e,t){if(typeof e=="function"&&(t=e,e={}),typeof i!="object"||Array.isArray(i))return t(Ln(Ny));if(oz(i._id),ff(i._id)&&typeof this._putLocal=="function")return i._deleted?this._removeLocal(i,t):this._putLocal(i,t);var n=this;e.force&&i._rev?(r(),s(function(l){var o=l?null:{ok:!0,id:i._id,rev:i._rev};t(l,o)})):s(t);function r(){var l=i._rev.split("-"),o=l[1],a=parseInt(l[0],10),u=a+1,c=dz();i._revisions={start:u,ids:[c,o]},i._rev=u+"-"+c,e.new_edits=!1}function s(l){typeof n._put=="function"&&e.new_edits!==!1?n._put(i,e,l):n.bulkDocs({docs:[i]},e,qy(l,i._id))}});Xi.prototype.putAttachment=Tr("putAttachment",function(i,e,t,n,r){var s=this;typeof r=="function"&&(r=n,n=t,t=null),typeof r>"u"&&(r=n,n=t,t=null),r||Ul("warn","Attachment",e,"on document",i,"is missing content_type");function l(o){var a="_rev"in o?parseInt(o._rev,10):0;return o._attachments=o._attachments||{},o._attachments[e]={content_type:r,data:n,revpos:++a},s.put(o)}return s.get(i).then(function(o){if(o._rev!==t)throw Ln(xd);return l(o)},function(o){if(o.reason===ao.message)return l({_id:i});throw o})});Xi.prototype.removeAttachment=Tr("removeAttachment",function(i,e,t,n){var r=this;r.get(i,function(s,l){if(s){n(s);return}if(l._rev!==t){n(Ln(xd));return}if(!l._attachments)return n();delete l._attachments[e],Object.keys(l._attachments).length===0&&delete l._attachments,r.put(l,n)})});Xi.prototype.remove=Tr("remove",function(i,e,t,n){var r;typeof e=="string"?(r={_id:i,_rev:e},typeof t=="function"&&(n=t,t={})):(r=i,typeof e=="function"?(n=e,t={}):(n=t,t=e)),t=t||{},t.was_delete=!0;var s={_id:r._id,_rev:r._rev||t.rev};if(s._deleted=!0,ff(s._id)&&typeof this._removeLocal=="function")return this._removeLocal(r,n);this.bulkDocs({docs:[s]},t,qy(n,s._id))});Xi.prototype.revsDiff=Tr("revsDiff",function(i,e,t){typeof e=="function"&&(t=e,e={});var n=Object.keys(i);if(!n.length)return t(null,{});var r=0,s=new el;function l(a,u){s.has(a)||s.set(a,{missing:[]}),s.get(a).missing.push(u)}function o(a,u){var c=i[a].slice(0);Df(u,function(f,d,m,p,g){var k=d+"-"+m,$=c.indexOf(k);$!==-1&&(c.splice($,1),g.status!=="available"&&l(a,k))}),c.forEach(function(f){l(a,f)})}n.map(function(a){this._getRevisionTree(a,function(u,c){if(u&&u.status===404&&u.message==="missing")s.set(a,{missing:i[a]});else{if(u)return t(u);o(a,c)}if(++r===n.length){var f={};return s.forEach(function(d,m){f[m]=d}),t(null,f)}})},this)});Xi.prototype.bulkGet=Tr("bulkGet",function(i,e){nz(this,i,e)});Xi.prototype.compactDocument=Tr("compactDocument",function(i,e,t){var n=this;this._getRevisionTree(i,function(r,s){if(r)return t(r);var l=npe(s),o=[],a=[];Object.keys(l).forEach(function(u){l[u]>e&&o.push(u)}),Df(s,function(u,c,f,d,m){var p=c+"-"+f;m.status==="available"&&o.indexOf(p)!==-1&&a.push(p)}),n._doCompaction(i,a,t)})});Xi.prototype.compact=Tr("compact",function(i,e){typeof i=="function"&&(e=i,i={});var t=this;i=i||{},t._compactionQueue=t._compactionQueue||[],t._compactionQueue.push({opts:i,callback:e}),t._compactionQueue.length===1&&_z(t)});Xi.prototype._compact=function(i,e){var t=this,n={return_docs:!1,last_seq:i.last_seq||0},r=[];function s(o){r.push(t.compactDocument(o.id,0))}function l(o){var a=o.last_seq;Promise.all(r).then(function(){return h0(t,"_local/compaction",function(c){return!c.last_seq||c.last_seq<a?(c.last_seq=a,c):!1})}).then(function(){e(null,{ok:!0})}).catch(e)}t.changes(n).on("change",s).on("complete",l).on("error",e)};Xi.prototype.get=Tr("get",function(i,e,t){if(typeof e=="function"&&(t=e,e={}),typeof i!="string")return t(Ln(iz));if(ff(i)&&typeof this._getLocal=="function")return this._getLocal(i,t);var n=[],r=this;function s(){var a=[],u=n.length;if(!u)return t(null,a);n.forEach(function(c){r.get(i,{rev:c,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},function(f,d){if(f)a.push({missing:c});else{for(var m,p=0,g=a.length;p<g;p++)if(a[p].ok&&a[p].ok._rev===d._rev){m=!0;break}m||a.push({ok:d})}u--,u||t(null,a)})})}if(e.open_revs){if(e.open_revs==="all")this._getRevisionTree(i,function(a,u){if(a)return t(a);n=Uy(u).map(function(c){return c.rev}),s()});else if(Array.isArray(e.open_revs)){n=e.open_revs;for(var l=0;l<n.length;l++){var o=n[l];if(!(typeof o=="string"&&/^\d+-/.test(o)))return t(Ln(lz))}s()}else return t(Ln(rz,"function_clause"));return}return this._get(i,e,function(a,u){if(a)return a.docId=i,t(a);var c=u.doc,f=u.metadata,d=u.ctx;if(e.conflicts){var m=Wy(f);m.length&&(c._conflicts=m)}if(qa(f,c._rev)&&(c._deleted=!0),e.revs||e.revs_info){for(var p=c._rev.split("-"),g=parseInt(p[0],10),k=p[1],$=hz(f.rev_tree),C=null,E=0;E<$.length;E++){var S=$[E],T=S.ids.map(function(ee){return ee.id}).indexOf(k),M=T===g-1;(M||!C&&T!==-1)&&(C=S)}if(!C)return a=new Error("invalid rev tree"),a.docId=i,t(a);var R=C.ids.map(function(ee){return ee.id}).indexOf(c._rev.split("-")[1])+1,Y=C.ids.length-R;if(C.ids.splice(R,Y),C.ids.reverse(),e.revs&&(c._revisions={start:C.pos+C.ids.length-1,ids:C.ids.map(function(ee){return ee.id})}),e.revs_info){var z=C.pos+C.ids.length;c._revs_info=C.ids.map(function(ee){return z--,{rev:z+"-"+ee.id,status:ee.opts.status}})}}if(e.attachments&&c._attachments){var j=c._attachments,V=Object.keys(j).length;if(V===0)return t(null,c);Object.keys(j).forEach(function(ee){this._getAttachment(c._id,ee,j[ee],{rev:c._rev,binary:e.binary,ctx:d},function(J,q){var le=c._attachments[ee];le.data=q,delete le.stub,delete le.length,--V||t(null,c)})},r)}else{if(c._attachments)for(var x in c._attachments)Object.prototype.hasOwnProperty.call(c._attachments,x)&&(c._attachments[x].stub=!0);t(null,c)}})});Xi.prototype.getAttachment=Tr("getAttachment",function(i,e,t,n){var r=this;t instanceof Function&&(n=t,t={}),this._get(i,t,function(s,l){if(s)return n(s);if(l.doc._attachments&&l.doc._attachments[e])t.ctx=l.ctx,t.binary=!0,r._getAttachment(i,e,l.doc._attachments[e],t,n);else return n(Ln(ao))})});Xi.prototype.allDocs=Tr("allDocs",function(i,e){if(typeof i=="function"&&(e=i,i={}),i.skip=typeof i.skip<"u"?i.skip:0,i.start_key&&(i.startkey=i.start_key),i.end_key&&(i.endkey=i.end_key),"keys"in i){if(!Array.isArray(i.keys))return e(new TypeError("options.keys must be an array"));var t=["startkey","endkey","key"].filter(function(n){return n in i})[0];if(t){e(Ln(Cme,"Query parameter `"+t+"` is not compatible with multi-get"));return}if(!sa(this)&&(ipe(i),i.keys.length===0))return this._allDocs({limit:0},e)}return this._allDocs(i,e)});Xi.prototype.changes=function(i,e){return typeof i=="function"&&(e=i,i={}),i=i||{},i.return_docs="return_docs"in i?i.return_docs:!i.live,new zp(this,i,e)};Xi.prototype.close=Tr("close",function(i){return this._closed=!0,this.emit("closed"),this._close(i)});Xi.prototype.info=Tr("info",function(i){var e=this;this._info(function(t,n){if(t)return i(t);n.db_name=n.db_name||e.name,n.auto_compaction=!!(e.auto_compaction&&!sa(e)),n.adapter=e.adapter,i(null,n)})});Xi.prototype.id=Tr("id",function(i){return this._id(i)});Xi.prototype.type=function(){return typeof this._type=="function"?this._type():this.adapter};Xi.prototype.bulkDocs=Tr("bulkDocs",function(i,e,t){if(typeof e=="function"&&(t=e,e={}),e=e||{},Array.isArray(i)&&(i={docs:i}),!i||!i.docs||!Array.isArray(i.docs))return t(Ln($me));for(var n=0;n<i.docs.length;++n)if(typeof i.docs[n]!="object"||Array.isArray(i.docs[n]))return t(Ln(Ny));var r;if(i.docs.forEach(function(o){o._attachments&&Object.keys(o._attachments).forEach(function(a){r=r||rpe(a),o._attachments[a].content_type||Ul("warn","Attachment",a,"on document",o._id,"is missing content_type")})}),r)return t(Ln(d0,r));"new_edits"in e||("new_edits"in i?e.new_edits=i.new_edits:e.new_edits=!0);var s=this;!e.new_edits&&!sa(s)&&i.docs.sort(tpe),epe(i.docs);var l=i.docs.map(function(o){return o._id});return this._bulkDocs(i,e,function(o,a){if(o)return t(o);if(e.new_edits||(a=a.filter(function(f){return f.error})),!sa(s))for(var u=0,c=a.length;u<c;u++)a[u].id=a[u].id||l[u];t(null,a)})});Xi.prototype.registerDependentDatabase=Tr("registerDependentDatabase",function(i,e){var t=Br(this.__opts);this.__opts.view_adapter&&(t.adapter=this.__opts.view_adapter);var n=new this.constructor(i,t);function r(s){return s.dependentDbs=s.dependentDbs||{},s.dependentDbs[i]?!1:(s.dependentDbs[i]=!0,s)}h0(this,"_local/_pouch_dependentDbs",r).then(function(){e(null,{db:n})}).catch(e)});Xi.prototype.destroy=Tr("destroy",function(i,e){typeof i=="function"&&(e=i,i={});var t=this,n="use_prefix"in t?t.use_prefix:!0;function r(){t._destroy(i,function(s,l){if(s)return e(s);t._destroyed=!0,t.emit("destroyed"),e(null,l||{ok:!0})})}if(sa(t))return r();t.get("_local/_pouch_dependentDbs",function(s,l){if(s)return s.status!==404?e(s):r();var o=l.dependentDbs,a=t.constructor,u=Object.keys(o).map(function(c){var f=n?c.replace(new RegExp("^"+a.prefix),""):c;return new a(f,t.__opts).destroy()});Promise.all(u).then(r,e)})});function jp(){this.isReady=!1,this.failed=!1,this.queue=[]}jp.prototype.execute=function(){var i;if(this.failed)for(;i=this.queue.shift();)i(this.failed);else for(;i=this.queue.shift();)i()};jp.prototype.fail=function(i){this.failed=i,this.execute()};jp.prototype.ready=function(i){this.isReady=!0,this.db=i,this.execute()};jp.prototype.addTask=function(i){this.queue.push(i),this.failed&&this.execute()};function spe(i,e){var t=i.match(/([a-z-]*):\/\/(.*)/);if(t)return{name:/https?/.test(t[1])?t[1]+"://"+t[2]:t[2],adapter:t[1]};var n=kn.adapters,r=kn.preferredAdapters,s=kn.prefix,l=e.adapter;if(!l)for(var o=0;o<r.length;++o){if(l=r[o],l==="idb"&&"websql"in n&&f0()&&localStorage["_pouch__websqldb_"+s+i]){Ul("log",'PouchDB is downgrading "'+i+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var a=n[l],u=a&&"use_prefix"in a?a.use_prefix:!0;return{name:u?s+i:i,adapter:l}}function lpe(i){function e(n){i.removeListener("closed",t),n||i.constructor.emit("destroyed",i.name)}function t(){i.removeListener("destroyed",e),i.constructor.emit("unref",i)}i.once("destroyed",e),i.once("closed",t),i.constructor.emit("ref",i)}El.exports(kn,Xi);function kn(i,e){if(!(this instanceof kn))return new kn(i,e);var t=this;if(e=e||{},i&&typeof i=="object"&&(e=i,i=e.name,delete e.name),e.deterministic_revs===void 0&&(e.deterministic_revs=!0),this.__opts=e=Br(e),t.auto_compaction=e.auto_compaction,t.prefix=kn.prefix,typeof i!="string")throw new Error("Missing/invalid DB name");var n=(e.prefix||"")+i,r=spe(n,e);if(e.name=r.name,e.adapter=e.adapter||r.adapter,t.name=i,t._adapter=e.adapter,kn.emit("debug",["adapter","Picked adapter: ",e.adapter]),!kn.adapters[e.adapter]||!kn.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);if(e.view_adapter&&(!kn.adapters[e.view_adapter]||!kn.adapters[e.view_adapter].valid()))throw new Error("Invalid View Adapter: "+e.view_adapter);Xi.call(t),t.taskqueue=new jp,t.adapter=e.adapter,kn.adapters[e.adapter].call(t,e,function(s){if(s)return t.taskqueue.fail(s);lpe(t),t.emit("created",t),kn.emit("created",t.name),t.taskqueue.ready(t)})}var ope=typeof AbortController<"u"?AbortController:function(){return{abort:function(){}}},gz=fetch,Ad=Headers;kn.adapters={};kn.preferredAdapters=[];kn.prefix="_pouch_";var k6=new cs.exports;function ape(i){Object.keys(cs.exports.prototype).forEach(function(t){typeof cs.exports.prototype[t]=="function"&&(i[t]=k6[t].bind(k6))});var e=i._destructionListeners=new el;i.on("ref",function(n){e.has(n.name)||e.set(n.name,[]),e.get(n.name).push(n)}),i.on("unref",function(n){if(!!e.has(n.name)){var r=e.get(n.name),s=r.indexOf(n);s<0||(r.splice(s,1),r.length>1?e.set(n.name,r):e.delete(n.name))}}),i.on("destroyed",function(n){if(!!e.has(n)){var r=e.get(n);e.delete(n),r.forEach(function(s){s.emit("destroyed",!0)})}})}ape(kn);kn.adapter=function(i,e,t){e.valid()&&(kn.adapters[i]=e,t&&kn.preferredAdapters.push(i))};kn.plugin=function(i){if(typeof i=="function")i(kn);else{if(typeof i!="object"||Object.keys(i).length===0)throw new Error('Invalid plugin: got "'+i+'", expected an object or a function');Object.keys(i).forEach(function(e){kn.prototype[e]=i[e]})}return this.__defaults&&(kn.__defaults=uf({},this.__defaults)),kn};kn.defaults=function(i){function e(t,n){if(!(this instanceof e))return new e(t,n);n=n||{},t&&typeof t=="object"&&(n=t,t=n.name,delete n.name),n=uf({},e.__defaults,n),kn.call(this,t,n)}return El.exports(e,kn),e.preferredAdapters=kn.preferredAdapters.slice(),Object.keys(kn).forEach(function(t){t in e||(e[t]=kn[t])}),e.__defaults=uf({},this.__defaults,i),e};kn.fetch=function(i,e){return gz(i,e)};var upe="7.3.1";function Hy(i,e){for(var t=i,n=0,r=e.length;n<r;n++){var s=e[n];if(t=t[s],!t)break}return t}function cpe(i,e){return i<e?-1:i>e?1:0}function Vy(i){for(var e=[],t="",n=0,r=i.length;n<r;n++){var s=i[n];n>0&&i[n-1]==="\\"&&(s==="$"||s===".")?t=t.substring(0,t.length-1)+s:s==="."?(e.push(t),t=""):t+=s}return e.push(t),e}var fpe=["$or","$nor","$not"];function vz(i){return fpe.indexOf(i)>-1}function bz(i){return Object.keys(i)[0]}function dpe(i){return i[bz(i)]}function lp(i){var e={},t={$or:!0,$nor:!0};return i.forEach(function(n){Object.keys(n).forEach(function(r){var s=n[r];if(typeof s!="object"&&(s={$eq:s}),vz(r))if(s instanceof Array){if(t[r]){t[r]=!1,e[r]=s;return}var l=[];e[r].forEach(function(a){Object.keys(s).forEach(function(u){var c=s[u],f=Math.max(Object.keys(a).length,Object.keys(c).length),d=lp([a,c]);Object.keys(d).length<=f||l.push(d)})}),e[r]=l}else e[r]=lp([s]);else{var o=e[r]=e[r]||{};Object.keys(s).forEach(function(a){var u=s[a];if(a==="$gt"||a==="$gte")return hpe(a,u,o);if(a==="$lt"||a==="$lte")return mpe(a,u,o);if(a==="$ne")return ppe(u,o);if(a==="$eq")return _pe(u,o);if(a==="$regex")return gpe(u,o);o[a]=u})}})}),e}function hpe(i,e,t){typeof t.$eq<"u"||(typeof t.$gte<"u"?i==="$gte"?e>t.$gte&&(t.$gte=e):e>=t.$gte&&(delete t.$gte,t.$gt=e):typeof t.$gt<"u"?i==="$gte"?e>t.$gt&&(delete t.$gt,t.$gte=e):e>t.$gt&&(t.$gt=e):t[i]=e)}function mpe(i,e,t){typeof t.$eq<"u"||(typeof t.$lte<"u"?i==="$lte"?e<t.$lte&&(t.$lte=e):e<=t.$lte&&(delete t.$lte,t.$lt=e):typeof t.$lt<"u"?i==="$lte"?e<t.$lt&&(delete t.$lt,t.$lte=e):e<t.$lt&&(t.$lt=e):t[i]=e)}function ppe(i,e){"$ne"in e?e.$ne.push(i):e.$ne=[i]}function _pe(i,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=i}function gpe(i,e){"$regex"in e?e.$regex.push(i):e.$regex=[i]}function kz(i){for(var e in i){if(Array.isArray(i))for(var t in i)i[t].$and&&(i[t]=lp(i[t].$and));var n=i[e];typeof n=="object"&&kz(n)}return i}function yz(i,e){for(var t in i){t==="$and"&&(e=!0);var n=i[t];typeof n=="object"&&(e=yz(n,e))}return e}function vpe(i){var e=Br(i),t=!1;yz(e,!1)&&(e=kz(e),"$and"in e&&(e=lp(e.$and)),t=!0),["$or","$nor"].forEach(function(o){o in e&&e[o].forEach(function(a){for(var u=Object.keys(a),c=0;c<u.length;c++){var f=u[c],d=a[f];(typeof d!="object"||d===null)&&(a[f]={$eq:d})}})}),"$not"in e&&(e.$not=lp([e.$not]));for(var n=Object.keys(e),r=0;r<n.length;r++){var s=n[r],l=e[s];typeof l!="object"||l===null?l={$eq:l}:t||("$ne"in l&&(l.$ne=[l.$ne]),"$regex"in l&&(l.$regex=[l.$regex])),e[s]=l}return e}function bpe(i,e,t){for(var n="",r=t-i.length;n.length<r;)n+=e;return n}function kpe(i,e,t){var n=bpe(i,e,t);return n+i}var wz=-324,B2=3,R2="";function _r(i,e){if(i===e)return 0;i=df(i),e=df(e);var t=z2(i),n=z2(e);if(t-n!==0)return t-n;switch(typeof i){case"number":return i-e;case"boolean":return i<e?-1:1;case"string":return Cpe(i,e)}return Array.isArray(i)?Epe(i,e):Dpe(i,e)}function df(i){switch(typeof i){case"undefined":return null;case"number":return i===1/0||i===-1/0||isNaN(i)?null:i;case"object":var e=i;if(Array.isArray(i)){var t=i.length;i=new Array(t);for(var n=0;n<t;n++)i[n]=df(e[n])}else{if(i instanceof Date)return i.toJSON();if(i!==null){i={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s<"u"&&(i[r]=df(s))}}}}return i}function ype(i){if(i!==null)switch(typeof i){case"boolean":return i?1:0;case"number":return Spe(i);case"string":return i.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(i),t=e?i:Object.keys(i),n=-1,r=t.length,s="";if(e)for(;++n<r;)s+=lo(t[n]);else for(;++n<r;){var l=t[n];s+=lo(l)+lo(i[l])}return s}return""}function lo(i){var e="\0";return i=df(i),z2(i)+R2+ype(i)+e}function wpe(i,e){var t=e,n,r=i[e]==="1";if(r)n=0,e++;else{var s=i[e]==="0";e++;var l="",o=i.substring(e,e+B2),a=parseInt(o,10)+wz;for(s&&(a=-a),e+=B2;;){var u=i[e];if(u==="\0")break;l+=u,e++}l=l.split("."),l.length===1?n=parseInt(l,10):n=parseFloat(l[0]+"."+l[1]),s&&(n=n-10),a!==0&&(n=parseFloat(n+"e"+a))}return{num:n,length:e-t}}function $pe(i,e){var t=i.pop();if(e.length){var n=e[e.length-1];t===n.element&&(e.pop(),n=e[e.length-1]);var r=n.element,s=n.index;if(Array.isArray(r))r.push(t);else if(s===i.length-2){var l=i.pop();r[l]=t}else i.push(t)}}function Fpe(i){for(var e=[],t=[],n=0;;){var r=i[n++];if(r==="\0"){if(e.length===1)return e.pop();$pe(e,t);continue}switch(r){case"1":e.push(null);break;case"2":e.push(i[n]==="1"),n++;break;case"3":var s=wpe(i,n);e.push(s.num),n+=s.length;break;case"4":for(var l="";;){var o=i[n];if(o==="\0")break;l+=o,n++}l=l.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(l);break;case"5":var a={element:[],index:e.length};e.push(a.element),t.push(a);break;case"6":var u={element:{},index:e.length};e.push(u.element),t.push(u);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}}}function Epe(i,e){for(var t=Math.min(i.length,e.length),n=0;n<t;n++){var r=_r(i[n],e[n]);if(r!==0)return r}return i.length===e.length?0:i.length>e.length?1:-1}function Cpe(i,e){return i===e?0:i>e?1:-1}function Dpe(i,e){for(var t=Object.keys(i),n=Object.keys(e),r=Math.min(t.length,n.length),s=0;s<r;s++){var l=_r(t[s],n[s]);if(l!==0||(l=_r(i[t[s]],e[n[s]]),l!==0))return l}return t.length===n.length?0:t.length>n.length?1:-1}function z2(i){var e=["boolean","number","string","object"],t=e.indexOf(typeof i);if(~t)return i===null?1:Array.isArray(i)?5:t<3?t+2:t+3;if(Array.isArray(i))return 5}function Spe(i){if(i===0)return"1";var e=i.toExponential().split(/e\+?/),t=parseInt(e[1],10),n=i<0,r=n?"0":"2",s=(n?-t:t)-wz,l=kpe(s.toString(),"0",B2);r+=R2+l;var o=Math.abs(parseFloat(e[0]));n&&(o=10-o);var a=o.toFixed(20);return a=a.replace(/\.?0+$/,""),r+=R2+a,r}function Tpe(i){function e(t){return i.map(function(n){var r=bz(n),s=Vy(r),l=Hy(t,s);return l})}return function(t,n){var r=e(t.doc),s=e(n.doc),l=_r(r,s);return l!==0?l:cpe(t.doc._id,n.doc._id)}}function Ape(i,e,t){if(i=i.filter(function(l){return Pd(l.doc,e.selector,t)}),e.sort){var n=Tpe(e.sort);i=i.sort(n),typeof e.sort[0]!="string"&&dpe(e.sort[0])==="desc"&&(i=i.reverse())}if("limit"in e||"skip"in e){var r=e.skip||0,s=("limit"in e?e.limit:i.length)+r;i=i.slice(r,s)}return i}function Pd(i,e,t){return t.every(function(n){var r=e[n],s=Vy(n),l=Hy(i,s);return vz(n)?Ppe(n,r,i):Kg(r,i,s,l)})}function Kg(i,e,t,n){return i?typeof i=="object"?Object.keys(i).every(function(r){var s=i[r];if(r.indexOf("$")===0)return y6(r,e,s,t,n);var l=Vy(r);if(n===void 0&&typeof s!="object"&&l.length>0)return!1;var o=Hy(n,l);return typeof s=="object"?Kg(s,e,t,o):y6("$eq",e,s,l,o)}):i===n:!0}function Ppe(i,e,t){return i==="$or"?e.some(function(n){return Pd(t,n,Object.keys(n))}):i==="$not"?!Pd(t,e,Object.keys(e)):!e.find(function(n){return Pd(t,n,Object.keys(n))})}function y6(i,e,t,n,r){if(!$6[i])throw new Error('unknown operator "'+i+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return $6[i](e,t,n,r)}function pm(i){return typeof i<"u"&&i!==null}function Bc(i){return typeof i<"u"}function Npe(i,e){if(typeof i!="number"||parseInt(i,10)!==i)return!1;var t=e[0],n=e[1];return i%t===n}function w6(i,e){return e.some(function(t){return i instanceof Array?i.some(function(n){return _r(t,n)===0}):_r(t,i)===0})}function Mpe(i,e){return e.every(function(t){return i.some(function(n){return _r(t,n)===0})})}function Lpe(i,e){return i.length===e}function Ope(i,e){var t=new RegExp(e);return t.test(i)}function Ipe(i,e){switch(e){case"null":return i===null;case"boolean":return typeof i=="boolean";case"number":return typeof i=="number";case"string":return typeof i=="string";case"array":return i instanceof Array;case"object":return{}.toString.call(i)==="[object Object]"}}var $6={$elemMatch:function(i,e,t,n){return!Array.isArray(n)||n.length===0?!1:typeof n[0]=="object"&&n[0]!==null?n.some(function(r){return Pd(r,e,Object.keys(e))}):n.some(function(r){return Kg(e,i,t,r)})},$allMatch:function(i,e,t,n){return!Array.isArray(n)||n.length===0?!1:typeof n[0]=="object"&&n[0]!==null?n.every(function(r){return Pd(r,e,Object.keys(e))}):n.every(function(r){return Kg(e,i,t,r)})},$eq:function(i,e,t,n){return Bc(n)&&_r(n,e)===0},$gte:function(i,e,t,n){return Bc(n)&&_r(n,e)>=0},$gt:function(i,e,t,n){return Bc(n)&&_r(n,e)>0},$lte:function(i,e,t,n){return Bc(n)&&_r(n,e)<=0},$lt:function(i,e,t,n){return Bc(n)&&_r(n,e)<0},$exists:function(i,e,t,n){return e?Bc(n):!Bc(n)},$mod:function(i,e,t,n){return pm(n)&&Npe(n,e)},$ne:function(i,e,t,n){return e.every(function(r){return _r(n,r)!==0})},$in:function(i,e,t,n){return pm(n)&&w6(n,e)},$nin:function(i,e,t,n){return pm(n)&&!w6(n,e)},$size:function(i,e,t,n){return pm(n)&&Array.isArray(n)&&Lpe(n,e)},$all:function(i,e,t,n){return Array.isArray(n)&&Mpe(n,e)},$regex:function(i,e,t,n){return pm(n)&&typeof n=="string"&&e.every(function(r){return Ope(n,r)})},$type:function(i,e,t,n){return Ipe(n,e)}};function Bpe(i,e){if(typeof e!="object")throw new Error("Selector error: expected a JSON object");e=vpe(e);var t={doc:i},n=Ape([t],{selector:e},Object.keys(e));return n&&n.length===1}function Rpe(i){return Oy(`"use strict";
return `+i+";",{})}function zpe(i){var e=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+i+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return Oy(e,{})}function jpe(i,e){if(i.selector&&i.filter&&i.filter!=="_selector"){var t=typeof i.filter=="string"?i.filter:"function";return e(new Error('selector invalid for filter "'+t+'"'))}e()}function Ype(i){i.view&&!i.filter&&(i.filter="_view"),i.selector&&!i.filter&&(i.filter="_selector"),i.filter&&typeof i.filter=="string"&&(i.filter==="_view"?i.view=m6(i.view):i.filter=m6(i.filter))}function Upe(i,e){return e.filter&&typeof e.filter=="string"&&!e.doc_ids&&!sa(i.db)}function Wpe(i,e){var t=e.complete;if(e.filter==="_view"){if(!e.view||typeof e.view!="string"){var n=Ln(d0,"`view` filter parameter not found or invalid.");return t(n)}var r=I2(e.view);i.db.get("_design/"+r[0],function(l,o){if(i.isCancelled)return t(null,{status:"cancelled"});if(l)return t(Gd(l));var a=o&&o.views&&o.views[r[1]]&&o.views[r[1]].map;if(!a)return t(Ln(ao,o.views?"missing json key: "+r[1]:"missing json key: views"));e.filter=zpe(a),i.doChanges(e)})}else if(e.selector)e.filter=function(l){return Bpe(l,e.selector)},i.doChanges(e);else{var s=I2(e.filter);i.db.get("_design/"+s[0],function(l,o){if(i.isCancelled)return t(null,{status:"cancelled"});if(l)return t(Gd(l));var a=o&&o.filters&&o.filters[s[1]];if(!a)return t(Ln(ao,o&&o.filters?"missing json key: "+s[1]:"missing json key: filters"));e.filter=Rpe(a),i.doChanges(e)})}}function qpe(i){i._changesFilterPlugin={validate:jpe,normalize:Ype,shouldFilter:Upe,filter:Wpe}}kn.plugin(qpe);kn.version=upe;function $z(i){return i.reduce(function(e,t){return e[t]=!0,e},{})}var Hpe=$z(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Vpe=$z(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function F6(i){if(!/^\d+-/.test(i))return Ln(lz);var e=i.indexOf("-"),t=i.substring(0,e),n=i.substring(e+1);return{prefix:parseInt(t,10),id:n}}function xpe(i,e){for(var t=i.start-i.ids.length+1,n=i.ids,r=[n[0],e,[]],s=1,l=n.length;s<l;s++)r=[n[s],{status:"missing"},[r]];return[{pos:t,ids:r}]}function Fz(i,e,t){t||(t={deterministic_revs:!0});var n,r,s,l={status:"available"};if(i._deleted&&(l.deleted=!0),e)if(i._id||(i._id=m0()),r=dz(i,t.deterministic_revs),i._rev){if(s=F6(i._rev),s.error)return s;i._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[r,l,[]]]]}],n=s.prefix+1}else i._rev_tree=[{pos:1,ids:[r,l,[]]}],n=1;else if(i._revisions&&(i._rev_tree=xpe(i._revisions,l),n=i._revisions.start,r=i._revisions.ids[0]),!i._rev_tree){if(s=F6(i._rev),s.error)return s;n=s.prefix,r=s.id,i._rev_tree=[{pos:n,ids:[r,l,[]]}]}oz(i._id),i._rev=n+"-"+r;var o={metadata:{},data:{}};for(var a in i)if(Object.prototype.hasOwnProperty.call(i,a)){var u=a[0]==="_";if(u&&!Hpe[a]){var c=Ln(h6,a);throw c.message=h6.message+": "+a,c}else u&&!Vpe[a]?o.metadata[a.slice(1)]=i[a]:o.data[a]=i[a]}return o}function Gpe(i){try{return Iy(i)}catch{var e=Ln(sz,"Attachment is not a valid base64 string");return{error:e}}}function Zpe(i,e,t){var n=Gpe(i.data);if(n.error)return t(n.error);i.length=n.length,e==="blob"?i.data=Ry(n,i.content_type):e==="base64"?i.data=Rp(n):i.data=n,Yy(n,function(r){i.digest="md5-"+r,t()})}function Xpe(i,e,t){Yy(i.data,function(n){i.digest="md5-"+n,i.length=i.data.size||i.data.length||0,e==="binary"?cz(i.data,function(r){i.data=r,t()}):e==="base64"?jy(i.data,function(r){i.data=r,t()}):t()})}function Kpe(i,e,t){if(i.stub)return t();typeof i.data=="string"?Zpe(i,e,t):Xpe(i,e,t)}function Jpe(i,e,t){if(!i.length)return t();var n=0,r;i.forEach(function(l){var o=l.data&&l.data._attachments?Object.keys(l.data._attachments):[],a=0;if(!o.length)return s();function u(f){r=f,a++,a===o.length&&s()}for(var c in l.data._attachments)Object.prototype.hasOwnProperty.call(l.data._attachments,c)&&Kpe(l.data._attachments[c],e,u)});function s(){n++,i.length===n&&(r?t(r):t())}}function Qpe(i,e,t,n,r,s,l,o){if(Zme(e.rev_tree,t.metadata.rev)&&!o)return n[r]=t,s();var a=e.winningRev||cf(e),u="deleted"in e?e.deleted:qa(e,a),c="deleted"in t.metadata?t.metadata.deleted:qa(t.metadata),f=/^1-/.test(t.metadata.rev);if(u&&!c&&o&&f){var d=t.data;d._rev=a,d._id=t.metadata.id,t=Fz(d,o)}var m=pz(e.rev_tree,t.metadata.rev_tree[0],i),p=o&&(u&&c&&m.conflicts!=="new_leaf"||!u&&m.conflicts!=="new_leaf"||u&&!c&&m.conflicts==="new_branch");if(p){var g=Ln(xd);return n[r]=g,s()}var k=t.metadata.rev;t.metadata.rev_tree=m.tree,t.stemmedRevs=m.stemmedRevs||[],e.rev_map&&(t.metadata.rev_map=e.rev_map);var $=cf(t.metadata),C=qa(t.metadata,$),E=u===C?0:u<C?-1:1,S;k===$?S=C:S=qa(t.metadata,k),l(t,$,C,S,!0,E,r,s)}function e_e(i){return i.metadata.rev_tree[0].ids[1].status==="missing"}function t_e(i,e,t,n,r,s,l,o,a){i=i||1e3;function u(g,k,$){var C=cf(g.metadata),E=qa(g.metadata,C);if("was_delete"in o&&E)return s[k]=Ln(ao,"deleted"),$();var S=c&&e_e(g);if(S){var T=Ln(xd);return s[k]=T,$()}var M=E?0:1;l(g,C,E,E,!1,M,k,$)}var c=o.new_edits,f=new el,d=0,m=e.length;function p(){++d===m&&a&&a()}e.forEach(function(g,k){if(g._id&&ff(g._id)){var $=g._deleted?"_removeLocal":"_putLocal";t[$](g,{ctx:r},function(E,S){s[k]=E||S,p()});return}var C=g.metadata.id;f.has(C)?(m--,f.get(C).push([g,k])):f.set(C,[[g,k]])}),f.forEach(function(g,k){var $=0;function C(){++$<g.length?E():p()}function E(){var S=g[$],T=S[0],M=S[1];if(n.has(k))Qpe(i,n.get(k),T,s,M,C,l,c);else{var R=pz([],T.metadata.rev_tree[0],i);T.metadata.rev_tree=R.tree,T.stemmedRevs=R.stemmedRevs||[],u(T,M,C)}}E()})}var n_e=5,Cr="document-store",Zr="by-sequence",Bl="attach-store",Xc="attach-seq-store",Ss="meta-store",Bo="local-store",j2="detect-blob-support";function i_e(i){try{return JSON.parse(i)}catch{return a0.parse(i)}}function r_e(i){try{return JSON.stringify(i)}catch{return a0.stringify(i)}}function Uo(i){return function(e){var t="unknown_error";e.target&&e.target.error&&(t=e.target.error.name||e.target.error.message),i(Ln(My,t,e.type))}}function Y2(i,e,t){return{data:r_e(i),winningRev:e,deletedOrLocal:t?"1":"0",seq:i.seq,id:i.id}}function Kc(i){if(!i)return null;var e=i_e(i.data);return e.winningRev=i.winningRev,e.deleted=i.deletedOrLocal==="1",e.seq=i.seq,e}function Jg(i){if(!i)return i;var e=i._doc_id_rev.lastIndexOf(":");return i._id=i._doc_id_rev.substring(0,e-1),i._rev=i._doc_id_rev.substring(e+1),delete i._doc_id_rev,i}function Ez(i,e,t,n){t?n(i?typeof i!="string"?i:zy(i,e):By([""],{type:e})):i?typeof i!="string"?uz(i,function(r){n(Rp(r))}):n(i):n("")}function Cz(i,e,t,n){var r=Object.keys(i._attachments||{});if(!r.length)return n&&n();var s=0;function l(){++s===r.length&&n&&n()}function o(a,u){var c=a._attachments[u],f=c.digest,d=t.objectStore(Bl).get(f);d.onsuccess=function(m){c.body=m.target.result.body,l()}}r.forEach(function(a){e.attachments&&e.include_docs?o(i,a):(i._attachments[a].stub=!0,l())})}function U2(i,e){return Promise.all(i.map(function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return Promise.all(n.map(function(r){var s=t.doc._attachments[r];if("body"in s){var l=s.body,o=s.content_type;return new Promise(function(a){Ez(l,o,e,function(u){t.doc._attachments[r]=uf(Bp(s,["digest","content_type"]),{data:u}),a()})})}}))}}))}function Dz(i,e,t){var n=[],r=t.objectStore(Zr),s=t.objectStore(Bl),l=t.objectStore(Xc),o=i.length;function a(){o--,o||u()}function u(){!n.length||n.forEach(function(c){var f=l.index("digestSeq").count(IDBKeyRange.bound(c+"::",c+"::\uFFFF",!1,!1));f.onsuccess=function(d){var m=d.target.result;m||s.delete(c)}})}i.forEach(function(c){var f=r.index("_doc_id_rev"),d=e+"::"+c;f.getKey(d).onsuccess=function(m){var p=m.target.result;if(typeof p!="number")return a();r.delete(p);var g=l.index("seq").openCursor(IDBKeyRange.only(p));g.onsuccess=function(k){var $=k.target.result;if($){var C=$.value.digestSeq.split("::")[0];n.push(C),l.delete($.primaryKey),$.continue()}else a()}}})}function oo(i,e,t){try{return{txn:i.transaction(e,t)}}catch(n){return{error:n}}}var zm=new bh;function s_e(i,e,t,n,r,s){for(var l=e.docs,o,a,u,c,f,d,m,p,g=0,k=l.length;g<k;g++){var $=l[g];$._id&&ff($._id)||($=l[g]=Fz($,t.new_edits,i),$.error&&!m&&(m=$))}if(m)return s(m);var C=!1,E=0,S=new Array(l.length),T=new el,M=!1,R=n._meta.blobSupport?"blob":"base64";Jpe(l,R,function(ie){if(ie)return s(ie);Y()});function Y(){var ie=[Cr,Zr,Bl,Bo,Xc,Ss],re=oo(r,ie,"readwrite");if(re.error)return s(re.error);o=re.txn,o.onabort=Uo(s),o.ontimeout=Uo(s),o.oncomplete=ee,a=o.objectStore(Cr),u=o.objectStore(Zr),c=o.objectStore(Bl),f=o.objectStore(Xc),d=o.objectStore(Ss),d.get(Ss).onsuccess=function(be){p=be.target.result,V()},q(function(be){if(be)return M=!0,s(be);x()})}function z(){C=!0,V()}function j(){t_e(i.revs_limit,l,n,T,o,S,le,t,z)}function V(){!p||!C||(p.docCount+=E,d.put(p))}function x(){if(!l.length)return;var ie=0;function re(){++ie===l.length&&j()}function be(ke){var Ue=Kc(ke.target.result);Ue&&T.set(Ue.id,Ue),re()}for(var we=0,De=l.length;we<De;we++){var Be=l[we];if(Be._id&&ff(Be._id)){re();continue}var ze=a.get(Be.metadata.id);ze.onsuccess=be}}function ee(){M||(zm.notify(n._meta.name),s(null,S))}function J(ie,re){var be=c.get(ie);be.onsuccess=function(we){if(we.target.result)re();else{var De=Ln(Dme,"unknown stub attachment with digest "+ie);De.status=412,re(De)}}}function q(ie){var re=[];if(l.forEach(function(Be){Be.data&&Be.data._attachments&&Object.keys(Be.data._attachments).forEach(function(ze){var ke=Be.data._attachments[ze];ke.stub&&re.push(ke.digest)})}),!re.length)return ie();var be=0,we;function De(){++be===re.length&&ie(we)}re.forEach(function(Be){J(Be,function(ze){ze&&!we&&(we=ze),De()})})}function le(ie,re,be,we,De,Be,ze,ke){ie.metadata.winningRev=re,ie.metadata.deleted=be;var Ue=ie.data;Ue._id=ie.metadata.id,Ue._rev=ie.metadata.rev,we&&(Ue._deleted=!0);var Ce=Ue._attachments&&Object.keys(Ue._attachments).length;if(Ce)return X(ie,re,be,De,ze,ke);E+=Be,V(),G(ie,re,be,De,ze,ke)}function G(ie,re,be,we,De,Be){var ze=ie.data,ke=ie.metadata;ze._doc_id_rev=ke.id+"::"+ke.rev,delete ze._id,delete ze._rev;function Ue(bt){var Tt=ie.stemmedRevs||[];we&&n.auto_compaction&&(Tt=Tt.concat(Wme(ie.metadata))),Tt&&Tt.length&&Dz(Tt,ie.metadata.id,o),ke.seq=bt.target.result;var It=Y2(ke,re,be),Je=a.put(It);Je.onsuccess=vt}function Ce(bt){bt.preventDefault(),bt.stopPropagation();var Tt=u.index("_doc_id_rev"),It=Tt.getKey(ze._doc_id_rev);It.onsuccess=function(Je){var Pt=u.put(ze,Je.target.result);Pt.onsuccess=Ue}}function vt(){S[De]={ok:!0,id:ke.id,rev:ke.rev},T.set(ie.metadata.id,ie.metadata),se(ie,ke.seq,Be)}var $t=u.put(ze);$t.onsuccess=Ue,$t.onerror=Ce}function X(ie,re,be,we,De,Be){var ze=ie.data,ke=0,Ue=Object.keys(ze._attachments);function Ce(){ke===Ue.length&&G(ie,re,be,we,De,Be)}function vt(){ke++,Ce()}Ue.forEach(function($t){var bt=ie.data._attachments[$t];if(bt.stub)ke++,Ce();else{var Tt=bt.data;delete bt.data,bt.revpos=parseInt(re,10);var It=bt.digest;te(It,Tt,vt)}})}function se(ie,re,be){var we=0,De=Object.keys(ie.data._attachments||{});if(!De.length)return be();function Be(){++we===De.length&&be()}function ze(Ue){var Ce=ie.data._attachments[Ue].digest,vt=f.put({seq:re,digestSeq:Ce+"::"+re});vt.onsuccess=Be,vt.onerror=function($t){$t.preventDefault(),$t.stopPropagation(),Be()}}for(var ke=0;ke<De.length;ke++)ze(De[ke])}function te(ie,re,be){var we=c.count(ie);we.onsuccess=function(De){var Be=De.target.result;if(Be)return be();var ze={digest:ie,body:re},ke=c.put(ze);ke.onsuccess=be}}}function Sz(i,e,t,n,r){n===-1&&(n=1e3);var s=typeof i.getAll=="function"&&typeof i.getAllKeys=="function"&&n>1&&!t,l,o,a;function u(m){o=m.target.result,l&&r(l,o,a)}function c(m){l=m.target.result,o&&r(l,o,a)}function f(){if(!l.length)return r();var m=l[l.length-1],p;if(e&&e.upper)try{p=IDBKeyRange.bound(m,e.upper,!0,e.upperOpen)}catch(g){if(g.name==="DataError"&&g.code===0)return r()}else p=IDBKeyRange.lowerBound(m,!0);e=p,l=null,o=null,i.getAll(e,n).onsuccess=u,i.getAllKeys(e,n).onsuccess=c}function d(m){var p=m.target.result;if(!p)return r();r([p.key],[p.value],p)}s?(a={continue:f},i.getAll(e,n).onsuccess=u,i.getAllKeys(e,n).onsuccess=c):t?i.openCursor(e,"prev").onsuccess=d:i.openCursor(e).onsuccess=d}function l_e(i,e,t){if(typeof i.getAll=="function"){i.getAll(e).onsuccess=t;return}var n=[];function r(s){var l=s.target.result;l?(n.push(l.value),l.continue()):t({target:{result:n}})}i.openCursor(e).onsuccess=r}function o_e(i,e,t){var n=new Array(i.length),r=0;i.forEach(function(s,l){e.get(s).onsuccess=function(o){o.target.result?n[l]=o.target.result:n[l]={key:s,error:"not_found"},r++,r===i.length&&t(i,n,{})}})}function a_e(i,e,t,n,r){try{if(i&&e)return r?IDBKeyRange.bound(e,i,!t,!1):IDBKeyRange.bound(i,e,!1,!t);if(i)return r?IDBKeyRange.upperBound(i):IDBKeyRange.lowerBound(i);if(e)return r?IDBKeyRange.lowerBound(e,!t):IDBKeyRange.upperBound(e,!t);if(n)return IDBKeyRange.only(n)}catch(s){return{error:s}}return null}function u_e(i,e,t){var n="startkey"in i?i.startkey:!1,r="endkey"in i?i.endkey:!1,s="key"in i?i.key:!1,l="keys"in i?i.keys:!1,o=i.skip||0,a=typeof i.limit=="number"?i.limit:-1,u=i.inclusive_end!==!1,c,f;if(!l&&(c=a_e(n,r,u,s,i.descending),f=c&&c.error,f&&!(f.name==="DataError"&&f.code===0)))return t(Ln(My,f.name,f.message));var d=[Cr,Zr,Ss];i.attachments&&d.push(Bl);var m=oo(e,d,"readonly");if(m.error)return t(m.error);var p=m.txn;p.oncomplete=ee,p.onabort=Uo(t);var g=p.objectStore(Cr),k=p.objectStore(Zr),$=p.objectStore(Ss),C=k.index("_doc_id_rev"),E=[],S,T;$.get(Ss).onsuccess=function(J){S=J.target.result.docCount},i.update_seq&&M(k,function(J){J.target.result&&J.target.result.length>0&&(T=J.target.result[0])});function M(J,q){function le(G){var X=G.target.result,se=void 0;return X&&X.key&&(se=X.key),q({target:{result:[se]}})}J.openCursor(null,"prev").onsuccess=le}function R(J,q,le){var G=J.id+"::"+le;C.get(G).onsuccess=function(se){if(q.doc=Jg(se.target.result)||{},i.conflicts){var te=Wy(J);te.length&&(q.doc._conflicts=te)}Cz(q.doc,i,p)}}function Y(J,q){var le={id:q.id,key:q.id,value:{rev:J}},G=q.deleted;G?l&&(E.push(le),le.value.deleted=!0,le.doc=null):o--<=0&&(E.push(le),i.include_docs&&R(q,le,J))}function z(J){for(var q=0,le=J.length;q<le&&E.length!==a;q++){var G=J[q];if(G.error&&l){E.push(G);continue}var X=Kc(G),se=X.winningRev;Y(se,X)}}function j(J,q,le){!le||(z(q),E.length<a&&le.continue())}function V(J){var q=J.target.result;i.descending&&(q=q.reverse()),z(q)}function x(){var J={total_rows:S,offset:i.skip,rows:E};i.update_seq&&T!==void 0&&(J.update_seq=T),t(null,J)}function ee(){i.attachments?U2(E,i.binary).then(x):x()}if(!(f||a===0)){if(l)return o_e(i.keys,g,j);if(a===-1)return l_e(g,c,V);Sz(g,c,i.descending,a+o,j)}}function c_e(i){return new Promise(function(e){var t=By([""]),n=i.objectStore(j2).put(t,"key");n.onsuccess=function(){var r=navigator.userAgent.match(/Chrome\/(\d+)/),s=navigator.userAgent.match(/Edge\//);e(s||!r||parseInt(r[1],10)>=43)},n.onerror=i.onabort=function(r){r.preventDefault(),r.stopPropagation(),e(!1)}}).catch(function(){return!1})}function f_e(i,e){var t=i.objectStore(Cr).index("deletedOrLocal");t.count(IDBKeyRange.only("0")).onsuccess=function(n){e(n.target.result)}}var W2=!1,q2=[];function d_e(i,e,t,n){try{i(e,t)}catch(r){n.emit("error",r)}}function E6(){W2||!q2.length||(W2=!0,q2.shift()())}function h_e(i,e,t){q2.push(function(){i(function(s,l){d_e(e,s,l,t),W2=!1,ra(function(){E6()})})}),E6()}function m_e(i,e,t,n){if(i=Br(i),i.continuous){var r=t+":"+m0();return zm.addListener(t,r,e,i),zm.notify(t),{cancel:function(){zm.removeListener(t,r)}}}var s=i.doc_ids&&new Vd(i.doc_ids);i.since=i.since||0;var l=i.since,o="limit"in i?i.limit:-1;o===0&&(o=1);var a=[],u=0,c=Ly(i),f=new el,d,m,p,g;function k(Y,z,j){if(!j||!Y.length)return;var V=new Array(Y.length),x=new Array(Y.length);function ee(le,G){var X=i.processChange(G,le,i);l=X.seq=le.seq;var se=c(X);return typeof se=="object"?Promise.reject(se):se?(u++,i.return_docs&&a.push(X),i.attachments&&i.include_docs?new Promise(function(te){Cz(G,i,d,function(){U2([X],i.binary).then(function(){te(X)})})}):Promise.resolve(X)):Promise.resolve()}function J(){for(var le=[],G=0,X=V.length;G<X&&u!==o;G++){var se=V[G];if(!!se){var te=x[G];le.push(ee(te,se))}}Promise.all(le).then(function(ie){for(var re=0,be=ie.length;re<be;re++)ie[re]&&i.onChange(ie[re])}).catch(i.complete),u!==o&&j.continue()}var q=0;z.forEach(function(le,G){var X=Jg(le),se=Y[G];C(X,se,function(te,ie){x[G]=te,V[G]=ie,++q===Y.length&&J()})})}function $(Y,z,j,V){if(j.seq!==z)return V();if(j.winningRev===Y._rev)return V(j,Y);var x=Y._id+"::"+j.winningRev,ee=g.get(x);ee.onsuccess=function(J){V(j,Jg(J.target.result))}}function C(Y,z,j){if(s&&!s.has(Y._id))return j();var V=f.get(Y._id);if(V)return $(Y,z,V,j);p.get(Y._id).onsuccess=function(x){V=Kc(x.target.result),f.set(Y._id,V),$(Y,z,V,j)}}function E(){i.complete(null,{results:a,last_seq:l})}function S(){!i.continuous&&i.attachments?U2(a).then(E):E()}var T=[Cr,Zr];i.attachments&&T.push(Bl);var M=oo(n,T,"readonly");if(M.error)return i.complete(M.error);d=M.txn,d.onabort=Uo(i.complete),d.oncomplete=S,m=d.objectStore(Zr),p=d.objectStore(Cr),g=m.index("_doc_id_rev");var R=i.since&&!i.descending?IDBKeyRange.lowerBound(i.since,!0):null;Sz(m,R,i.descending,o,k)}var fd=new el,$b,Fb=new el;function Tz(i,e){var t=this;h_e(function(n){p_e(t,i,n)},e,t.constructor)}function p_e(i,e,t){var n=e.name,r=null,s=null;i._meta=null;function l(k){return function($,C){$&&$ instanceof Error&&!$.reason&&s&&($.reason=s),k($,C)}}function o(k){var $=k.createObjectStore(Cr,{keyPath:"id"});k.createObjectStore(Zr,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),k.createObjectStore(Bl,{keyPath:"digest"}),k.createObjectStore(Ss,{keyPath:"id",autoIncrement:!1}),k.createObjectStore(j2),$.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),k.createObjectStore(Bo,{keyPath:"_id"});var C=k.createObjectStore(Xc,{autoIncrement:!0});C.createIndex("seq","seq"),C.createIndex("digestSeq","digestSeq",{unique:!0})}function a(k,$){var C=k.objectStore(Cr);C.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),C.openCursor().onsuccess=function(E){var S=E.target.result;if(S){var T=S.value,M=qa(T);T.deletedOrLocal=M?"1":"0",C.put(T),S.continue()}else $()}}function u(k){k.createObjectStore(Bo,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function c(k,$){var C=k.objectStore(Bo),E=k.objectStore(Cr),S=k.objectStore(Zr),T=E.openCursor();T.onsuccess=function(M){var R=M.target.result;if(R){var Y=R.value,z=Y.id,j=ff(z),V=cf(Y);if(j){var x=z+"::"+V,ee=z+"::",J=z+"::~",q=S.index("_doc_id_rev"),le=IDBKeyRange.bound(ee,J,!1,!1),G=q.openCursor(le);G.onsuccess=function(X){if(G=X.target.result,!G)E.delete(R.primaryKey),R.continue();else{var se=G.value;se._doc_id_rev===x&&C.put(se),S.delete(G.primaryKey),G.continue()}}}else R.continue()}else $&&$()}}function f(k){var $=k.createObjectStore(Xc,{autoIncrement:!0});$.createIndex("seq","seq"),$.createIndex("digestSeq","digestSeq",{unique:!0})}function d(k,$){var C=k.objectStore(Zr),E=k.objectStore(Bl),S=k.objectStore(Xc),T=E.count();T.onsuccess=function(M){var R=M.target.result;if(!R)return $();C.openCursor().onsuccess=function(Y){var z=Y.target.result;if(!z)return $();for(var j=z.value,V=z.primaryKey,x=Object.keys(j._attachments||{}),ee={},J=0;J<x.length;J++){var q=j._attachments[x[J]];ee[q.digest]=!0}var le=Object.keys(ee);for(J=0;J<le.length;J++){var G=le[J];S.put({seq:V,digestSeq:G+"::"+V})}z.continue()}}}function m(k){function $(T){return T.data?Kc(T):(T.deleted=T.deletedOrLocal==="1",T)}var C=k.objectStore(Zr),E=k.objectStore(Cr),S=E.openCursor();S.onsuccess=function(T){var M=T.target.result;if(!M)return;var R=$(M.value);R.winningRev=R.winningRev||cf(R);function Y(){var j=R.id+"::",V=R.id+"::\uFFFF",x=C.index("_doc_id_rev").openCursor(IDBKeyRange.bound(j,V)),ee=0;x.onsuccess=function(J){var q=J.target.result;if(!q)return R.seq=ee,z();var le=q.primaryKey;le>ee&&(ee=le),q.continue()}}function z(){var j=Y2(R,R.winningRev,R.deleted),V=E.put(j);V.onsuccess=function(){M.continue()}}if(R.seq)return z();Y()}}i._remote=!1,i.type=function(){return"idb"},i._id=tz(function(k){k(null,i._meta.instanceId)}),i._bulkDocs=function($,C,E){s_e(e,$,C,i,r,l(E))},i._get=function($,C,E){var S,T,M,R=C.ctx;if(!R){var Y=oo(r,[Cr,Zr,Bl],"readonly");if(Y.error)return E(Y.error);R=Y.txn}function z(){E(M,{doc:S,metadata:T,ctx:R})}R.objectStore(Cr).get($).onsuccess=function(j){if(T=Kc(j.target.result),!T)return M=Ln(ao,"missing"),z();var V;if(C.rev)V=C.latest?Kme(C.rev,T):C.rev;else{V=T.winningRev;var x=qa(T);if(x)return M=Ln(ao,"deleted"),z()}var ee=R.objectStore(Zr),J=T.id+"::"+V;ee.index("_doc_id_rev").get(J).onsuccess=function(q){if(S=q.target.result,S&&(S=Jg(S)),!S)return M=Ln(ao,"missing"),z();z()}}},i._getAttachment=function(k,$,C,E,S){var T;if(E.ctx)T=E.ctx;else{var M=oo(r,[Cr,Zr,Bl],"readonly");if(M.error)return S(M.error);T=M.txn}var R=C.digest,Y=C.content_type;T.objectStore(Bl).get(R).onsuccess=function(z){var j=z.target.result.body;Ez(j,Y,E.binary,function(V){S(null,V)})}},i._info=function($){var C,E,S=oo(r,[Ss,Zr],"readonly");if(S.error)return $(S.error);var T=S.txn;T.objectStore(Ss).get(Ss).onsuccess=function(M){E=M.target.result.docCount},T.objectStore(Zr).openCursor(null,"prev").onsuccess=function(M){var R=M.target.result;C=R?R.key:0},T.oncomplete=function(){$(null,{doc_count:E,update_seq:C,idb_attachment_format:i._meta.blobSupport?"binary":"base64"})}},i._allDocs=function($,C){u_e($,r,l(C))},i._changes=function($){return m_e($,i,n,r)},i._close=function(k){r.close(),fd.delete(n),k()},i._getRevisionTree=function(k,$){var C=oo(r,[Cr],"readonly");if(C.error)return $(C.error);var E=C.txn,S=E.objectStore(Cr).get(k);S.onsuccess=function(T){var M=Kc(T.target.result);M?$(null,M.rev_tree):$(Ln(ao))}},i._doCompaction=function(k,$,C){var E=[Cr,Zr,Bl,Xc],S=oo(r,E,"readwrite");if(S.error)return C(S.error);var T=S.txn,M=T.objectStore(Cr);M.get(k).onsuccess=function(R){var Y=Kc(R.target.result);Df(Y.rev_tree,function(V,x,ee,J,q){var le=x+"-"+ee;$.indexOf(le)!==-1&&(q.status="missing")}),Dz($,k,T);var z=Y.winningRev,j=Y.deleted;T.objectStore(Cr).put(Y2(Y,z,j))},T.onabort=Uo(C),T.oncomplete=function(){C()}},i._getLocal=function(k,$){var C=oo(r,[Bo],"readonly");if(C.error)return $(C.error);var E=C.txn,S=E.objectStore(Bo).get(k);S.onerror=Uo($),S.onsuccess=function(T){var M=T.target.result;M?(delete M._doc_id_rev,$(null,M)):$(Ln(ao))}},i._putLocal=function(k,$,C){typeof $=="function"&&(C=$,$={}),delete k._revisions;var E=k._rev,S=k._id;E?k._rev="0-"+(parseInt(E.split("-")[1],10)+1):k._rev="0-1";var T=$.ctx,M;if(!T){var R=oo(r,[Bo],"readwrite");if(R.error)return C(R.error);T=R.txn,T.onerror=Uo(C),T.oncomplete=function(){M&&C(null,M)}}var Y=T.objectStore(Bo),z;E?(z=Y.get(S),z.onsuccess=function(j){var V=j.target.result;if(!V||V._rev!==E)C(Ln(xd));else{var x=Y.put(k);x.onsuccess=function(){M={ok:!0,id:k._id,rev:k._rev},$.ctx&&C(null,M)}}}):(z=Y.add(k),z.onerror=function(j){C(Ln(xd)),j.preventDefault(),j.stopPropagation()},z.onsuccess=function(){M={ok:!0,id:k._id,rev:k._rev},$.ctx&&C(null,M)})},i._removeLocal=function(k,$,C){typeof $=="function"&&(C=$,$={});var E=$.ctx;if(!E){var S=oo(r,[Bo],"readwrite");if(S.error)return C(S.error);E=S.txn,E.oncomplete=function(){T&&C(null,T)}}var T,M=k._id,R=E.objectStore(Bo),Y=R.get(M);Y.onerror=Uo(C),Y.onsuccess=function(z){var j=z.target.result;!j||j._rev!==k._rev?C(Ln(ao)):(R.delete(M),T={ok:!0,id:M,rev:"0-0"},$.ctx&&C(null,T))}},i._destroy=function(k,$){zm.removeAllListeners(n);var C=Fb.get(n);C&&C.result&&(C.result.close(),fd.delete(n));var E=indexedDB.deleteDatabase(n);E.onsuccess=function(){Fb.delete(n),f0()&&n in localStorage&&delete localStorage[n],$(null,{ok:!0})},E.onerror=Uo($)};var p=fd.get(n);if(p)return r=p.idb,i._meta=p.global,ra(function(){t(null,i)});var g=indexedDB.open(n,n_e);Fb.set(n,g),g.onupgradeneeded=function(k){var $=k.target.result;if(k.oldVersion<1)return o($);var C=k.currentTarget.transaction;k.oldVersion<3&&u($),k.oldVersion<4&&f($);var E=[a,c,d,m],S=k.oldVersion;function T(){var M=E[S-1];S++,M&&M(C,T)}T()},g.onsuccess=function(k){r=k.target.result,r.onversionchange=function(){r.close(),fd.delete(n)},r.onabort=function(z){Ul("error","Database has a global failure",z.target.error),s=z.target.error,r.close(),fd.delete(n)};var $=r.transaction([Ss,j2,Cr],"readwrite"),C=!1,E,S,T,M;function R(){typeof T>"u"||!C||(i._meta={name:n,instanceId:M,blobSupport:T},fd.set(n,{idb:r,global:i._meta}),t(null,i))}function Y(){if(!(typeof S>"u"||typeof E>"u")){var z=n+"_id";z in E?M=E[z]:E[z]=M=m0(),E.docCount=S,$.objectStore(Ss).put(E)}}$.objectStore(Ss).get(Ss).onsuccess=function(z){E=z.target.result||{id:Ss},Y()},f_e($,function(z){S=z,Y()}),$b||($b=c_e($)),$b.then(function(z){T=z,R()}),$.oncomplete=function(){C=!0,R()},$.onabort=Uo(t)},g.onerror=function(k){var $=k.target.error&&k.target.error.message;$?$.indexOf("stored database is a higher version")!==-1&&($=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):$="Failed to open indexedDB, are you in private browsing mode?",Ul("error",$),t(Ln(My,$))}}Tz.valid=function(){try{return typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}};function __e(i){i.adapter("idb",Tz,!0)}function g_e(i,e){return new Promise(function(t,n){var r=0,s=0,l=0,o=i.length,a;function u(){r++,i[s++]().then(f,d)}function c(){++l===o?a?n(a):t():m()}function f(){r--,c()}function d(p){r--,a=a||p,c()}function m(){for(;r<e&&s<o;)u()}m()})}var v_e=25,b_e=50,ng=5e3,k_e=1e4,Eb={};function Cb(i){var e=i.doc||i.ok,t=e&&e._attachments;!t||Object.keys(t).forEach(function(n){var r=t[n];r.data=zy(r.data,r.content_type)})}function Rc(i){return/^_design/.test(i)?"_design/"+encodeURIComponent(i.slice(8)):/^_local/.test(i)?"_local/"+encodeURIComponent(i.slice(7)):encodeURIComponent(i)}function C6(i){return!i._attachments||!Object.keys(i._attachments)?Promise.resolve():Promise.all(Object.keys(i._attachments).map(function(e){var t=i._attachments[e];if(t.data&&typeof t.data!="string")return new Promise(function(n){jy(t.data,n)}).then(function(n){t.data=n})}))}function y_e(i){if(!i.prefix)return!1;var e=az(i.prefix).protocol;return e==="http"||e==="https"}function w_e(i,e){if(y_e(e)){var t=e.name.substr(e.prefix.length),n=e.prefix.replace(/\/?$/,"/");i=n+encodeURIComponent(t)}var r=az(i);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var s=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=s.pop(),r.db.indexOf("%")===-1&&(r.db=encodeURIComponent(r.db)),r.path=s.join("/"),r}function Ir(i,e){return Og(i,i.db+"/"+e)}function Og(i,e){var t=i.path?"/":"";return i.protocol+"://"+i.host+(i.port?":"+i.port:"")+"/"+i.path+t+e}function ig(i){return"?"+Object.keys(i).map(function(e){return e+"="+encodeURIComponent(i[e])}).join("&")}function $_e(i){var e=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",t=e.indexOf("msie")!==-1,n=e.indexOf("trident")!==-1,r=e.indexOf("edge")!==-1,s=!("method"in i)||i.method==="GET";return(t||n||r)&&s}function H2(i,e){var t=this,n=w_e(i.name,i),r=Ir(n,"");i=Br(i);var s=function(f,d){if(d=d||{},d.headers=d.headers||new Ad,d.credentials="include",i.auth||n.auth){var m=i.auth||n.auth,p=m.username+":"+m.password,g=Rp(unescape(encodeURIComponent(p)));d.headers.set("Authorization","Basic "+g)}var k=i.headers||{};Object.keys(k).forEach(function(C){d.headers.append(C,k[C])}),$_e(d)&&(f+=(f.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now());var $=i.fetch||gz;return $(f,d)};function l(f,d){return Tr(f,vh(function(m){u().then(function(){return d.apply(this,m)}).catch(function(p){var g=m.pop();g(p)})})).bind(t)}function o(f,d,m){var p={};return d=d||{},d.headers=d.headers||new Ad,d.headers.get("Content-Type")||d.headers.set("Content-Type","application/json"),d.headers.get("Accept")||d.headers.set("Accept","application/json"),s(f,d).then(function(g){return p.ok=g.ok,p.status=g.status,g.json()}).then(function(g){if(p.data=g,!p.ok){p.data.status=p.status;var k=Gd(p.data);if(m)return m(k);throw k}if(Array.isArray(p.data)&&(p.data=p.data.map(function($){return $.error||$.missing?Gd($):$})),m)m(null,p.data);else return p})}var a;function u(){return i.skip_setup?Promise.resolve():a||(a=o(r).catch(function(f){return f&&f.status&&f.status===404?(L2(404,"PouchDB is just detecting if the remote exists."),o(r,{method:"PUT"})):Promise.reject(f)}).catch(function(f){return f&&f.status&&f.status===412?!0:Promise.reject(f)}),a.catch(function(){a=null}),a)}ra(function(){e(null,t)}),t._remote=!0,t.type=function(){return"http"},t.id=l("id",function(f){s(Og(n,"")).then(function(d){return d.json()}).catch(function(){return{}}).then(function(d){var m=d&&d.uuid?d.uuid+n.db:Ir(n,"");f(null,m)})}),t.compact=l("compact",function(f,d){typeof f=="function"&&(d=f,f={}),f=Br(f),o(Ir(n,"_compact"),{method:"POST"}).then(function(){function m(){t.info(function(p,g){g&&!g.compact_running?d(null,{ok:!0}):setTimeout(m,f.interval||200)})}m()})}),t.bulkGet=Tr("bulkGet",function(f,d){var m=this;function p(C){var E={};f.revs&&(E.revs=!0),f.attachments&&(E.attachments=!0),f.latest&&(E.latest=!0),o(Ir(n,"_bulk_get"+ig(E)),{method:"POST",body:JSON.stringify({docs:f.docs})}).then(function(S){f.attachments&&f.binary&&S.data.results.forEach(function(T){T.docs.forEach(Cb)}),C(null,S.data)}).catch(C)}function g(){var C=b_e,E=Math.ceil(f.docs.length/C),S=0,T=new Array(E);function M(z){return function(j,V){T[z]=V.results,++S===E&&d(null,{results:Xg(T)})}}for(var R=0;R<E;R++){var Y=Bp(f,["revs","attachments","binary","latest"]);Y.docs=f.docs.slice(R*C,Math.min(f.docs.length,(R+1)*C)),nz(m,Y,M(R))}}var k=Og(n,""),$=Eb[k];typeof $!="boolean"?p(function(C,E){C?(Eb[k]=!1,L2(C.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),g()):(Eb[k]=!0,d(null,E))}):$?p(d):g()}),t._info=function(f){u().then(function(){return s(Ir(n,""))}).then(function(d){return d.json()}).then(function(d){d.host=Ir(n,""),f(null,d)}).catch(f)},t.fetch=function(f,d){return u().then(function(){var m=f.substring(0,1)==="/"?Og(n,f.substring(1)):Ir(n,f);return s(m,d)})},t.get=l("get",function(f,d,m){typeof d=="function"&&(m=d,d={}),d=Br(d);var p={};d.revs&&(p.revs=!0),d.revs_info&&(p.revs_info=!0),d.latest&&(p.latest=!0),d.open_revs&&(d.open_revs!=="all"&&(d.open_revs=JSON.stringify(d.open_revs)),p.open_revs=d.open_revs),d.rev&&(p.rev=d.rev),d.conflicts&&(p.conflicts=d.conflicts),d.update_seq&&(p.update_seq=d.update_seq),f=Rc(f);function g(C){var E=C._attachments,S=E&&Object.keys(E);if(!E||!S.length)return;function T(R){var Y=E[R],z=Rc(C._id)+"/"+c(R)+"?rev="+C._rev;return s(Ir(n,z)).then(function(j){return"buffer"in j?j.buffer():j.blob()}).then(function(j){if(d.binary){var V=Object.getOwnPropertyDescriptor(j.__proto__,"type");return(!V||V.set)&&(j.type=Y.content_type),j}return new Promise(function(x){jy(j,x)})}).then(function(j){delete Y.stub,delete Y.length,Y.data=j})}var M=S.map(function(R){return function(){return T(R)}});return g_e(M,5)}function k(C){return Array.isArray(C)?Promise.all(C.map(function(E){if(E.ok)return g(E.ok)})):g(C)}var $=Ir(n,f+ig(p));o($).then(function(C){return Promise.resolve().then(function(){if(d.attachments)return k(C.data)}).then(function(){m(null,C.data)})}).catch(function(C){C.docId=f,m(C)})}),t.remove=l("remove",function(f,d,m,p){var g;typeof d=="string"?(g={_id:f,_rev:d},typeof m=="function"&&(p=m,m={})):(g=f,typeof d=="function"?(p=d,m={}):(p=m,m=d));var k=g._rev||m.rev,$=Ir(n,Rc(g._id))+"?rev="+k;o($,{method:"DELETE"},p).catch(p)});function c(f){return f.split("/").map(encodeURIComponent).join("/")}t.getAttachment=l("getAttachment",function(f,d,m,p){typeof m=="function"&&(p=m,m={});var g=m.rev?"?rev="+m.rev:"",k=Ir(n,Rc(f))+"/"+c(d)+g,$;s(k,{method:"GET"}).then(function(C){if($=C.headers.get("content-type"),C.ok)return typeof process<"u"&&!process.browser&&typeof C.buffer=="function"?C.buffer():C.blob();throw C}).then(function(C){if(typeof process<"u"&&!process.browser){var E=Object.getOwnPropertyDescriptor(C.__proto__,"type");(!E||E.set)&&(C.type=$)}p(null,C)}).catch(function(C){p(C)})}),t.removeAttachment=l("removeAttachment",function(f,d,m,p){var g=Ir(n,Rc(f)+"/"+c(d))+"?rev="+m;o(g,{method:"DELETE"},p).catch(p)}),t.putAttachment=l("putAttachment",function(f,d,m,p,g,k){typeof g=="function"&&(k=g,g=p,p=m,m=null);var $=Rc(f)+"/"+c(d),C=Ir(n,$);if(m&&(C+="?rev="+m),typeof p=="string"){var E;try{E=Iy(p)}catch{return k(Ln(sz,"Attachment is not a valid base64 string"))}p=E?Ry(E,g):""}o(C,{headers:new Ad({"Content-Type":g}),method:"PUT",body:p},k).catch(k)}),t._bulkDocs=function(f,d,m){f.new_edits=d.new_edits,u().then(function(){return Promise.all(f.docs.map(C6))}).then(function(){return o(Ir(n,"_bulk_docs"),{method:"POST",body:JSON.stringify(f)},m)}).catch(m)},t._put=function(f,d,m){u().then(function(){return C6(f)}).then(function(){return o(Ir(n,Rc(f._id)),{method:"PUT",body:JSON.stringify(f)})}).then(function(p){m(null,p.data)}).catch(function(p){p.docId=f&&f._id,m(p)})},t.allDocs=l("allDocs",function(f,d){typeof f=="function"&&(d=f,f={}),f=Br(f);var m={},p,g="GET";f.conflicts&&(m.conflicts=!0),f.update_seq&&(m.update_seq=!0),f.descending&&(m.descending=!0),f.include_docs&&(m.include_docs=!0),f.attachments&&(m.attachments=!0),f.key&&(m.key=JSON.stringify(f.key)),f.start_key&&(f.startkey=f.start_key),f.startkey&&(m.startkey=JSON.stringify(f.startkey)),f.end_key&&(f.endkey=f.end_key),f.endkey&&(m.endkey=JSON.stringify(f.endkey)),typeof f.inclusive_end<"u"&&(m.inclusive_end=!!f.inclusive_end),typeof f.limit<"u"&&(m.limit=f.limit),typeof f.skip<"u"&&(m.skip=f.skip);var k=ig(m);typeof f.keys<"u"&&(g="POST",p={keys:f.keys}),o(Ir(n,"_all_docs"+k),{method:g,body:JSON.stringify(p)}).then(function($){f.include_docs&&f.attachments&&f.binary&&$.data.rows.forEach(Cb),d(null,$.data)}).catch(d)}),t._changes=function(f){var d="batch_size"in f?f.batch_size:v_e;f=Br(f),f.continuous&&!("heartbeat"in f)&&(f.heartbeat=k_e);var m="timeout"in f?f.timeout:30*1e3;"timeout"in f&&f.timeout&&m-f.timeout<ng&&(m=f.timeout+ng),"heartbeat"in f&&f.heartbeat&&m-f.heartbeat<ng&&(m=f.heartbeat+ng);var p={};"timeout"in f&&f.timeout&&(p.timeout=f.timeout);var g=typeof f.limit<"u"?f.limit:!1,k=g;if(f.style&&(p.style=f.style),(f.include_docs||f.filter&&typeof f.filter=="function")&&(p.include_docs=!0),f.attachments&&(p.attachments=!0),f.continuous&&(p.feed="longpoll"),f.seq_interval&&(p.seq_interval=f.seq_interval),f.conflicts&&(p.conflicts=!0),f.descending&&(p.descending=!0),f.update_seq&&(p.update_seq=!0),"heartbeat"in f&&f.heartbeat&&(p.heartbeat=f.heartbeat),f.filter&&typeof f.filter=="string"&&(p.filter=f.filter),f.view&&typeof f.view=="string"&&(p.filter="_view",p.view=f.view),f.query_params&&typeof f.query_params=="object")for(var $ in f.query_params)Object.prototype.hasOwnProperty.call(f.query_params,$)&&(p[$]=f.query_params[$]);var C="GET",E;f.doc_ids?(p.filter="_doc_ids",C="POST",E={doc_ids:f.doc_ids}):f.selector&&(p.filter="_selector",C="POST",E={selector:f.selector});var S=new ope,T,M=function(z,j){if(!f.aborted){p.since=z,typeof p.since=="object"&&(p.since=JSON.stringify(p.since)),f.descending?g&&(p.limit=k):p.limit=!g||k>d?d:k;var V=Ir(n,"_changes"+ig(p)),x={signal:S.signal,method:C,body:JSON.stringify(E)};T=z,!f.aborted&&u().then(function(){return o(V,x,j)}).catch(j)}},R={results:[]},Y=function(z,j){if(!f.aborted){var V=0;if(j&&j.results){V=j.results.length,R.last_seq=j.last_seq;var x=null,ee=null;typeof j.pending=="number"&&(x=j.pending),(typeof R.last_seq=="string"||typeof R.last_seq=="number")&&(ee=R.last_seq);var J={};J.query=f.query_params,j.results=j.results.filter(function(le){k--;var G=Ly(f)(le);return G&&(f.include_docs&&f.attachments&&f.binary&&Cb(le),f.return_docs&&R.results.push(le),f.onChange(le,x,ee)),G})}else if(z){f.aborted=!0,f.complete(z);return}j&&j.last_seq&&(T=j.last_seq);var q=g&&k<=0||j&&V<d||f.descending;f.continuous&&!(g&&k<=0)||!q?ra(function(){M(T,Y)}):f.complete(null,R)}};return M(f.since||0,Y),{cancel:function(){f.aborted=!0,S.abort()}}},t.revsDiff=l("revsDiff",function(f,d,m){typeof d=="function"&&(m=d,d={}),o(Ir(n,"_revs_diff"),{method:"POST",body:JSON.stringify(f)},m).catch(m)}),t._close=function(f){f()},t._destroy=function(f,d){o(Ir(n,""),{method:"DELETE"}).then(function(m){d(null,m)}).catch(function(m){m.status===404?d(null,{ok:!0}):d(m)})}}H2.valid=function(){return!0};function F_e(i){i.adapter("http",H2,!1),i.adapter("https",H2,!1)}function Vc(i){this.status=400,this.name="query_parse_error",this.message=i,this.error=!0;try{Error.captureStackTrace(this,Vc)}catch{}}El.exports(Vc,Error);function p0(i){this.status=404,this.name="not_found",this.message=i,this.error=!0;try{Error.captureStackTrace(this,p0)}catch{}}El.exports(p0,Error);function _0(i){this.status=500,this.name="invalid_value",this.message=i,this.error=!0;try{Error.captureStackTrace(this,_0)}catch{}}El.exports(_0,Error);function Az(i,e){return e&&i.then(function(t){ra(function(){e(null,t)})},function(t){ra(function(){e(t)})}),i}function E_e(i){return vh(function(e){var t=e.pop(),n=i.apply(this,e);return typeof t=="function"&&Az(n,t),n})}function C_e(i,e){return i.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function Db(i,e){return function(){var t=arguments,n=this;return i.add(function(){return e.apply(n,t)})}}function D6(i){var e=new Vd(i),t=new Array(e.size),n=-1;return e.forEach(function(r){t[++n]=r}),t}function Sb(i){var e=new Array(i.size),t=-1;return i.forEach(function(n,r){e[++t]=r}),e}function S6(i){var e="builtin "+i+" function requires map values to be numbers or number arrays";return new _0(e)}function V2(i){for(var e=0,t=0,n=i.length;t<n;t++){var r=i[t];if(typeof r!="number")if(Array.isArray(r)){e=typeof e=="number"?[e]:e;for(var s=0,l=r.length;s<l;s++){var o=r[s];if(typeof o!="number")throw S6("_sum");typeof e[s]>"u"?e.push(o):e[s]+=o}}else throw S6("_sum");else typeof e=="number"?e+=r:e[0]+=r}return e}var D_e=Ul.bind(null,"log"),S_e=Array.isArray,T_e=JSON.parse;function Pz(i,e){return Oy("return ("+i.replace(/;\s*$/,"")+");",{emit:e,sum:V2,log:D_e,isArray:S_e,toJSON:T_e})}function op(){this.promise=new Promise(function(i){i()})}op.prototype.add=function(i){return this.promise=this.promise.catch(function(){}).then(function(){return i()}),this.promise};op.prototype.finish=function(){return this.promise};function T6(i){if(!i)return"undefined";switch(typeof i){case"function":return i.toString();case"string":return i.toString();default:return JSON.stringify(i)}}function A_e(i,e){return T6(i)+T6(e)+"undefined"}function A6(i,e,t,n,r,s){var l=A_e(t,n),o;if(!r&&(o=i._cachedViews=i._cachedViews||{},o[l]))return o[l];var a=i.info().then(function(u){var c=u.db_name+"-mrview-"+(r?"temp":fz(l));function f(d){d.views=d.views||{};var m=e;m.indexOf("/")===-1&&(m=e+"/"+e);var p=d.views[m]=d.views[m]||{};if(!p[c])return p[c]=!0,d}return h0(i,"_local/"+s,f).then(function(){return i.registerDependentDatabase(c).then(function(d){var m=d.db;m.auto_compaction=!0;var p={name:c,db:m,sourceDB:i,adapter:i.adapter,mapFun:t,reduceFun:n};return p.db.get("_local/lastSeq").catch(function(g){if(g.status!==404)throw g}).then(function(g){return p.seq=g?g.seq:0,o&&p.db.once("destroyed",function(){delete o[l]}),p})})})});return o&&(o[l]=a),a}var P6={},N6=new op,P_e=50;function Tb(i){return i.indexOf("/")===-1?[i,i]:i.split("/")}function N_e(i){return i.length===1&&/^1-/.test(i[0].rev)}function M6(i,e,t){try{i.emit("error",e)}catch{Ul("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),Ul("error",e,t)}}function M_e(i,e,t,n){function r(G,X,se){try{X(se)}catch(te){M6(G,te,{fun:X,doc:se})}}function s(G,X,se,te,ie){try{return{output:X(se,te,ie)}}catch(re){return M6(G,re,{fun:X,keys:se,values:te,rereduce:ie}),{error:re}}}function l(G,X){var se=_r(G.key,X.key);return se!==0?se:_r(G.value,X.value)}function o(G,X,se){return se=se||0,typeof X=="number"?G.slice(se,X+se):se>0?G.slice(se):G}function a(G){var X=G.value,se=X&&typeof X=="object"&&X._id||G.id;return se}function u(G){G.rows.forEach(function(X){var se=X.doc&&X.doc._attachments;!se||Object.keys(se).forEach(function(te){var ie=se[te];se[te].data=zy(ie.data,ie.content_type)})})}function c(G){return function(X){return G.include_docs&&G.attachments&&G.binary&&u(X),X}}function f(G,X,se,te){var ie=X[G];typeof ie<"u"&&(te&&(ie=encodeURIComponent(JSON.stringify(ie))),se.push(G+"="+ie))}function d(G){if(typeof G<"u"){var X=Number(G);return!isNaN(X)&&X===parseInt(G,10)?X:G}}function m(G){return G.group_level=d(G.group_level),G.limit=d(G.limit),G.skip=d(G.skip),G}function p(G){if(G){if(typeof G!="number")return new Vc('Invalid value for integer: "'+G+'"');if(G<0)return new Vc('Invalid value for positive integer: "'+G+'"')}}function g(G,X){var se=G.descending?"endkey":"startkey",te=G.descending?"startkey":"endkey";if(typeof G[se]<"u"&&typeof G[te]<"u"&&_r(G[se],G[te])>0)throw new Vc("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(X.reduce&&G.reduce!==!1){if(G.include_docs)throw new Vc("{include_docs:true} is invalid for reduce");if(G.keys&&G.keys.length>1&&!G.group&&!G.group_level)throw new Vc("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(ie){var re=p(G[ie]);if(re)throw re})}function k(G,X,se){var te=[],ie,re="GET",be,we;if(f("reduce",se,te),f("include_docs",se,te),f("attachments",se,te),f("limit",se,te),f("descending",se,te),f("group",se,te),f("group_level",se,te),f("skip",se,te),f("stale",se,te),f("conflicts",se,te),f("startkey",se,te,!0),f("start_key",se,te,!0),f("endkey",se,te,!0),f("end_key",se,te,!0),f("inclusive_end",se,te),f("key",se,te,!0),f("update_seq",se,te),te=te.join("&"),te=te===""?"":"?"+te,typeof se.keys<"u"){var De=2e3,Be="keys="+encodeURIComponent(JSON.stringify(se.keys));Be.length+te.length+1<=De?te+=(te[0]==="?"?"&":"?")+Be:(re="POST",typeof X=="string"?ie={keys:se.keys}:X.keys=se.keys)}if(typeof X=="string"){var ze=Tb(X);return G.fetch("_design/"+ze[0]+"/_view/"+ze[1]+te,{headers:new Ad({"Content-Type":"application/json"}),method:re,body:JSON.stringify(ie)}).then(function(ke){return be=ke.ok,we=ke.status,ke.json()}).then(function(ke){if(!be)throw ke.status=we,Gd(ke);return ke.rows.forEach(function(Ue){if(Ue.value&&Ue.value.error&&Ue.value.error==="builtin_reduce_error")throw new Error(Ue.reason)}),ke}).then(c(se))}return ie=ie||{},Object.keys(X).forEach(function(ke){Array.isArray(X[ke])?ie[ke]=X[ke]:ie[ke]=X[ke].toString()}),G.fetch("_temp_view"+te,{headers:new Ad({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(ie)}).then(function(ke){return be=ke.ok,we=ke.status,ke.json()}).then(function(ke){if(!be)throw ke.status=we,Gd(ke);return ke}).then(c(se))}function $(G,X,se){return new Promise(function(te,ie){G._query(X,se,function(re,be){if(re)return ie(re);te(be)})})}function C(G){return new Promise(function(X,se){G._viewCleanup(function(te,ie){if(te)return se(te);X(ie)})})}function E(G){return function(X){if(X.status===404)return G;throw X}}function S(G,X,se){var te="_local/doc_"+G,ie={_id:te,keys:[]},re=se.get(G),be=re[0],we=re[1];function De(){return N_e(we)?Promise.resolve(ie):X.db.get(te).catch(E(ie))}function Be(ke){return ke.keys.length?X.db.allDocs({keys:ke.keys,include_docs:!0}):Promise.resolve({rows:[]})}function ze(ke,Ue){for(var Ce=[],vt=new Vd,$t=0,bt=Ue.rows.length;$t<bt;$t++){var Tt=Ue.rows[$t],It=Tt.doc;if(!!It&&(Ce.push(It),vt.add(It._id),It._deleted=!be.has(It._id),!It._deleted)){var Je=be.get(It._id);"value"in Je&&(It.value=Je.value)}}var Pt=Sb(be);return Pt.forEach(function(sn){if(!vt.has(sn)){var Tn={_id:sn},Vn=be.get(sn);"value"in Vn&&(Tn.value=Vn.value),Ce.push(Tn)}}),ke.keys=D6(Pt.concat(ke.keys)),Ce.push(ke),Ce}return De().then(function(ke){return Be(ke).then(function(Ue){return ze(ke,Ue)})})}function T(G,X,se){var te="_local/lastSeq";return G.db.get(te).catch(E({_id:te,seq:0})).then(function(ie){var re=Sb(X);return Promise.all(re.map(function(be){return S(be,G,X)})).then(function(be){var we=Xg(be);return ie.seq=se,we.push(ie),G.db.bulkDocs({docs:we})})})}function M(G){var X=typeof G=="string"?G:G.name,se=P6[X];return se||(se=P6[X]=new op),se}function R(G,X){return Db(M(G),function(){return Y(G,X)})()}function Y(G,X){var se,te;function ie($t,bt){var Tt={id:te._id,key:df($t)};typeof bt<"u"&&bt!==null&&(Tt.value=df(bt)),se.push(Tt)}var re=e(G.mapFun,ie),be=G.seq||0;function we($t,bt){return function(){return T(G,$t,bt)}}let De=0,Be={view:G.name,indexed_docs:De};G.sourceDB.emit("indexing",Be);var ze=new op;function ke(){return G.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:be,limit:X.changes_batch_size}).then(Ue)}function Ue($t){var bt=$t.results;if(!bt.length)return;var Tt=Ce(bt);ze.add(we(Tt,be)),De=De+bt.length;let It={view:G.name,last_seq:$t.last_seq,results_count:bt.length,indexed_docs:De};if(G.sourceDB.emit("indexing",It),!(bt.length<X.changes_batch_size))return ke()}function Ce($t){for(var bt=new el,Tt=0,It=$t.length;Tt<It;Tt++){var Je=$t[Tt];if(Je.doc._id[0]!=="_"){se=[],te=Je.doc,te._deleted||r(G.sourceDB,re,te),se.sort(l);var Pt=vt(se);bt.set(Je.doc._id,[Pt,Je.changes])}be=Je.seq}return bt}function vt($t){for(var bt=new el,Tt,It=0,Je=$t.length;It<Je;It++){var Pt=$t[It],sn=[Pt.key,Pt.id];It>0&&_r(Pt.key,Tt)===0&&sn.push(It),bt.set(lo(sn),Pt),Tt=Pt.key}return bt}return ke().then(function(){return ze.finish()}).then(function(){G.seq=be})}function z(G,X,se){se.group_level===0&&delete se.group_level;var te=se.group||se.group_level,ie=t(G.reduceFun),re=[],be=isNaN(se.group_level)?Number.POSITIVE_INFINITY:se.group_level;X.forEach(function(ke){var Ue=re[re.length-1],Ce=te?ke.key:null;if(te&&Array.isArray(Ce)&&(Ce=Ce.slice(0,be)),Ue&&_r(Ue.groupKey,Ce)===0){Ue.keys.push([ke.key,ke.id]),Ue.values.push(ke.value);return}re.push({keys:[[ke.key,ke.id]],values:[ke.value],groupKey:Ce})}),X=[];for(var we=0,De=re.length;we<De;we++){var Be=re[we],ze=s(G.sourceDB,ie,Be.keys,Be.values,!1);if(ze.error&&ze.error instanceof _0)throw ze.error;X.push({value:ze.error?null:ze.output,key:Be.groupKey})}return{rows:o(X,se.limit,se.skip)}}function j(G,X){return Db(M(G),function(){return V(G,X)})()}function V(G,X){var se,te=G.reduceFun&&X.reduce!==!1,ie=X.skip||0;typeof X.keys<"u"&&!X.keys.length&&(X.limit=0,delete X.keys);function re($t){return $t.include_docs=!0,G.db.allDocs($t).then(function(bt){return se=bt.total_rows,bt.rows.map(function(Tt){if("value"in Tt.doc&&typeof Tt.doc.value=="object"&&Tt.doc.value!==null){var It=Object.keys(Tt.doc.value).sort(),Je=["id","key","value"];if(!(It<Je||It>Je))return Tt.doc.value}var Pt=Fpe(Tt.doc._id);return{key:Pt[0],id:Pt[1],value:"value"in Tt.doc?Tt.doc.value:null}})})}function be($t){var bt;if(te?bt=z(G,$t,X):typeof X.keys>"u"?bt={total_rows:se,offset:ie,rows:$t}:bt={total_rows:se,offset:ie,rows:o($t,X.limit,X.skip)},X.update_seq&&(bt.update_seq=G.seq),X.include_docs){var Tt=D6($t.map(a));return G.sourceDB.allDocs({keys:Tt,include_docs:!0,conflicts:X.conflicts,attachments:X.attachments,binary:X.binary}).then(function(It){var Je=new el;return It.rows.forEach(function(Pt){Je.set(Pt.id,Pt.doc)}),$t.forEach(function(Pt){var sn=a(Pt),Tn=Je.get(sn);Tn&&(Pt.doc=Tn)}),bt})}else return bt}if(typeof X.keys<"u"){var we=X.keys,De=we.map(function($t){var bt={startkey:lo([$t]),endkey:lo([$t,{}])};return X.update_seq&&(bt.update_seq=!0),re(bt)});return Promise.all(De).then(Xg).then(be)}else{var Be={descending:X.descending};X.update_seq&&(Be.update_seq=!0);var ze,ke;if("start_key"in X&&(ze=X.start_key),"startkey"in X&&(ze=X.startkey),"end_key"in X&&(ke=X.end_key),"endkey"in X&&(ke=X.endkey),typeof ze<"u"&&(Be.startkey=X.descending?lo([ze,{}]):lo([ze])),typeof ke<"u"){var Ue=X.inclusive_end!==!1;X.descending&&(Ue=!Ue),Be.endkey=lo(Ue?[ke,{}]:[ke])}if(typeof X.key<"u"){var Ce=lo([X.key]),vt=lo([X.key,{}]);Be.descending?(Be.endkey=Ce,Be.startkey=vt):(Be.startkey=Ce,Be.endkey=vt)}return te||(typeof X.limit=="number"&&(Be.limit=X.limit),Be.skip=ie),re(Be).then(be)}}function x(G){return G.fetch("_view_cleanup",{headers:new Ad({"Content-Type":"application/json"}),method:"POST"}).then(function(X){return X.json()})}function ee(G){return G.get("_local/"+i).then(function(X){var se=new el;Object.keys(X.views).forEach(function(ie){var re=Tb(ie),be="_design/"+re[0],we=re[1],De=se.get(be);De||(De=new Vd,se.set(be,De)),De.add(we)});var te={keys:Sb(se),include_docs:!0};return G.allDocs(te).then(function(ie){var re={};ie.rows.forEach(function(De){var Be=De.key.substring(8);se.get(De.key).forEach(function(ze){var ke=Be+"/"+ze;X.views[ke]||(ke=ze);var Ue=Object.keys(X.views[ke]),Ce=De.doc&&De.doc.views&&De.doc.views[ze];Ue.forEach(function(vt){re[vt]=re[vt]||Ce})})});var be=Object.keys(re).filter(function(De){return!re[De]}),we=be.map(function(De){return Db(M(De),function(){return new G.constructor(De,G.__opts).destroy()})()});return Promise.all(we).then(function(){return{ok:!0}})})},E({ok:!0}))}function J(G,X,se){if(typeof G._query=="function")return $(G,X,se);if(sa(G))return k(G,X,se);var te={changes_batch_size:G.__opts.view_update_changes_batch_size||P_e};if(typeof X!="string")return g(se,X),N6.add(function(){var De=A6(G,"temp_view/temp_view",X.map,X.reduce,!0,i);return De.then(function(Be){return C_e(R(Be,te).then(function(){return j(Be,se)}),function(){return Be.db.destroy()})})}),N6.finish();var ie=X,re=Tb(ie),be=re[0],we=re[1];return G.get("_design/"+be).then(function(De){var Be=De.views&&De.views[we];if(!Be)throw new p0("ddoc "+De._id+" has no view named "+we);n(De,we),g(se,Be);var ze=A6(G,ie,Be.map,Be.reduce,!1,i);return ze.then(function(ke){return se.stale==="ok"||se.stale==="update_after"?(se.stale==="update_after"&&ra(function(){R(ke,te)}),j(ke,se)):R(ke,te).then(function(){return j(ke,se)})})})}function q(G,X,se){var te=this;typeof X=="function"&&(se=X,X={}),X=X?m(X):{},typeof G=="function"&&(G={map:G});var ie=Promise.resolve().then(function(){return J(te,G,X)});return Az(ie,se),ie}var le=E_e(function(){var G=this;return typeof G._viewCleanup=="function"?C(G):sa(G)?x(G):ee(G)});return{query:q,viewCleanup:le}}var Ab={_sum:function(i,e){return V2(e)},_count:function(i,e){return e.length},_stats:function(i,e){function t(n){for(var r=0,s=0,l=n.length;s<l;s++){var o=n[s];r+=o*o}return r}return{sum:V2(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:t(e)}}};function L_e(i){if(/^_sum/.test(i))return Ab._sum;if(/^_count/.test(i))return Ab._count;if(/^_stats/.test(i))return Ab._stats;if(/^_/.test(i))throw new Error(i+" is not a supported reduce function.")}function O_e(i,e){if(typeof i=="function"&&i.length===2){var t=i;return function(n){return t(n,e)}}else return Pz(i.toString(),e)}function I_e(i){var e=i.toString(),t=L_e(e);return t||Pz(e)}function B_e(i,e){var t=i.views&&i.views[e];if(typeof t.map!="string")throw new p0("ddoc "+i._id+" has no string view named "+e+", instead found object of type: "+typeof t.map)}var R_e="mrviews",Nz=M_e(R_e,O_e,I_e,B_e);function z_e(i,e,t){return Nz.query.call(this,i,e,t)}function j_e(i){return Nz.viewCleanup.call(this,i)}var Y_e={query:z_e,viewCleanup:j_e};function L6(i){return/^1-/.test(i)}function U_e(i,e,t){return!i._attachments||!i._attachments[t]||i._attachments[t].digest!==e._attachments[t].digest}function O6(i,e){var t=Object.keys(e._attachments);return Promise.all(t.map(function(n){return i.getAttachment(e._id,n,{rev:e._rev})}))}function W_e(i,e,t){var n=sa(e)&&!sa(i),r=Object.keys(t._attachments);return n?i.get(t._id).then(function(s){return Promise.all(r.map(function(l){return U_e(s,t,l)?e.getAttachment(t._id,l):i.getAttachment(s._id,l)}))}).catch(function(s){if(s.status!==404)throw s;return O6(e,t)}):O6(e,t)}function q_e(i){var e=[];return Object.keys(i).forEach(function(t){var n=i[t].missing;n.forEach(function(r){e.push({id:t,rev:r})})}),{docs:e,revs:!0,latest:!0}}function H_e(i,e,t,n){t=Br(t);var r=[],s=!0;function l(){var d=q_e(t);if(!!d.docs.length)return i.bulkGet(d).then(function(m){if(n.cancelled)throw new Error("cancelled");return Promise.all(m.results.map(function(p){return Promise.all(p.docs.map(function(g){var k=g.ok;return g.error&&(s=!1),!k||!k._attachments?k:W_e(e,i,k).then(function($){var C=Object.keys(k._attachments);return $.forEach(function(E,S){var T=k._attachments[C[S]];delete T.stub,delete T.length,T.data=E}),k})}))})).then(function(p){r=r.concat(Xg(p).filter(Boolean))})})}function o(d){return d._attachments&&Object.keys(d._attachments).length>0}function a(d){return d._conflicts&&d._conflicts.length>0}function u(d){return i.allDocs({keys:d,include_docs:!0,conflicts:!0}).then(function(m){if(n.cancelled)throw new Error("cancelled");m.rows.forEach(function(p){p.deleted||!p.doc||!L6(p.value.rev)||o(p.doc)||a(p.doc)||(p.doc._conflicts&&delete p.doc._conflicts,r.push(p.doc),delete t[p.id])})})}function c(){var d=Object.keys(t).filter(function(m){var p=t[m].missing;return p.length===1&&L6(p[0])});if(d.length>0)return u(d)}function f(){return{ok:s,docs:r}}return Promise.resolve().then(c).then(l).then(f)}var I6=1,B6="pouchdb",V_e=5,Ro=0;function xy(i,e,t,n,r){return i.get(e).catch(function(s){if(s.status===404)return(i.adapter==="http"||i.adapter==="https")&&L2(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:n,_id:e,history:[],replicator:B6,version:I6};throw s}).then(function(s){if(!r.cancelled&&s.last_seq!==t)return s.history=(s.history||[]).filter(function(l){return l.session_id!==n}),s.history.unshift({last_seq:t,session_id:n}),s.history=s.history.slice(0,V_e),s.version=I6,s.replicator=B6,s.session_id=n,s.last_seq=t,i.put(s).catch(function(l){if(l.status===409)return xy(i,e,t,n,r);throw l})})}function Yp(i,e,t,n,r){this.src=i,this.target=e,this.id=t,this.returnValue=n,this.opts=r||{}}Yp.prototype.writeCheckpoint=function(i,e){var t=this;return this.updateTarget(i,e).then(function(){return t.updateSource(i,e)})};Yp.prototype.updateTarget=function(i,e){return this.opts.writeTargetCheckpoint?xy(this.target,this.id,i,e,this.returnValue):Promise.resolve(!0)};Yp.prototype.updateSource=function(i,e){if(this.opts.writeSourceCheckpoint){var t=this;return xy(this.src,this.id,i,e,this.returnValue).catch(function(n){if(Lz(n))return t.opts.writeSourceCheckpoint=!1,!0;throw n})}else return Promise.resolve(!0)};var R6={undefined:function(i,e){return _r(i.last_seq,e.last_seq)===0?e.last_seq:0},1:function(i,e){return x_e(e,i).last_seq}};Yp.prototype.getCheckpoint=function(){var i=this;return i.opts&&i.opts.writeSourceCheckpoint&&!i.opts.writeTargetCheckpoint?i.src.get(i.id).then(function(e){return e.last_seq||Ro}).catch(function(e){if(e.status!==404)throw e;return Ro}):i.target.get(i.id).then(function(e){return i.opts&&i.opts.writeTargetCheckpoint&&!i.opts.writeSourceCheckpoint?e.last_seq||Ro:i.src.get(i.id).then(function(t){if(e.version!==t.version)return Ro;var n;return e.version?n=e.version.toString():n="undefined",n in R6?R6[n](e,t):Ro},function(t){if(t.status===404&&e.last_seq)return i.src.put({_id:i.id,last_seq:Ro}).then(function(){return Ro},function(n){return Lz(n)?(i.opts.writeSourceCheckpoint=!1,e.last_seq):Ro});throw t})}).catch(function(e){if(e.status!==404)throw e;return Ro})};function x_e(i,e){return i.session_id===e.session_id?{last_seq:i.last_seq,history:i.history}:Mz(i.history,e.history)}function Mz(i,e){var t=i[0],n=i.slice(1),r=e[0],s=e.slice(1);if(!t||e.length===0)return{last_seq:Ro,history:[]};var l=t.session_id;if(x2(l,e))return{last_seq:t.last_seq,history:i};var o=r.session_id;return x2(o,n)?{last_seq:r.last_seq,history:s}:Mz(n,s)}function x2(i,e){var t=e[0],n=e.slice(1);return!i||e.length===0?!1:i===t.session_id?!0:x2(i,n)}function Lz(i){return typeof i.status=="number"&&Math.floor(i.status/100)===4}var z6=0;function G_e(i,e,t,n){if(i.retry===!1){e.emit("error",t),e.removeAllListeners();return}if(typeof i.back_off_function!="function"&&(i.back_off_function=wme),e.emit("requestError",t),e.state==="active"||e.state==="pending"){e.emit("paused",t),e.state="stopped";var r=function(){i.current_back_off=z6},s=function(){e.removeListener("active",r)};e.once("paused",s),e.once("active",r)}i.current_back_off=i.current_back_off||z6,i.current_back_off=i.back_off_function(i.current_back_off),setTimeout(n,i.current_back_off)}function Z_e(i){return Object.keys(i).sort(_r).reduce(function(e,t){return e[t]=i[t],e},{})}function X_e(i,e,t){var n=t.doc_ids?t.doc_ids.sort(_r):"",r=t.filter?t.filter.toString():"",s="",l="",o="";return t.selector&&(o=JSON.stringify(t.selector)),t.filter&&t.query_params&&(s=JSON.stringify(Z_e(t.query_params))),t.filter&&t.filter==="_view"&&(l=t.view.toString()),Promise.all([i.id(),e.id()]).then(function(a){var u=a[0]+a[1]+r+l+s+n+o;return new Promise(function(c){Yy(u,c)})}).then(function(a){return a=a.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+a})}function Oz(i,e,t,n,r){var s=[],l,o={seq:0,changes:[],docs:[]},a=!1,u=!1,c=!1,f=0,d=t.continuous||t.live||!1,m=t.batch_size||100,p=t.batches_limit||10,g=t.style||"all_docs",k=!1,$=t.doc_ids,C=t.selector,E,S,T=[],M=m0();r=r||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var R={};n.ready(i,e);function Y(){return S?Promise.resolve():X_e(i,e,t).then(function(be){E=be;var we={};t.checkpoint===!1?we={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:t.checkpoint==="source"?we={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:t.checkpoint==="target"?we={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:we={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},S=new Yp(i,e,E,n,we)})}function z(){if(T=[],l.docs.length!==0){var be=l.docs,we={timeout:t.timeout};return e.bulkDocs({docs:be,new_edits:!1},we).then(function(De){if(n.cancelled)throw le(),new Error("cancelled");var Be=Object.create(null);De.forEach(function(ke){ke.error&&(Be[ke.id]=ke)});var ze=Object.keys(Be).length;r.doc_write_failures+=ze,r.docs_written+=be.length-ze,be.forEach(function(ke){var Ue=Be[ke._id];if(Ue){r.errors.push(Ue);var Ce=(Ue.name||"").toLowerCase();if(Ce==="unauthorized"||Ce==="forbidden")n.emit("denied",Br(Ue));else throw Ue}else T.push(ke)})},function(De){throw r.doc_write_failures+=be.length,De})}}function j(){if(l.error)throw new Error("There was a problem getting docs.");r.last_seq=f=l.seq;var be=Br(r);return T.length&&(be.docs=T,typeof l.pending=="number"&&(be.pending=l.pending,delete l.pending),n.emit("change",be)),a=!0,S.writeCheckpoint(l.seq,M).then(function(){if(n.emit("checkpoint",{checkpoint:l.seq}),a=!1,n.cancelled)throw le(),new Error("cancelled");l=void 0,te()}).catch(function(we){throw re(we),we})}function V(){var be={};return l.changes.forEach(function(we){n.emit("checkpoint",{revs_diff:we}),we.id!=="_user/"&&(be[we.id]=we.changes.map(function(De){return De.rev}))}),e.revsDiff(be).then(function(we){if(n.cancelled)throw le(),new Error("cancelled");l.diffs=we})}function x(){return H_e(i,e,l.diffs,n).then(function(be){l.error=!be.ok,be.docs.forEach(function(we){delete l.diffs[we._id],r.docs_read++,l.docs.push(we)})})}function ee(){if(!(n.cancelled||l)){if(s.length===0){J(!0);return}l=s.shift(),n.emit("checkpoint",{start_next_batch:l.seq}),V().then(x).then(z).then(j).then(ee).catch(function(be){q("batch processing terminated with error",be)})}}function J(be){if(o.changes.length===0){s.length===0&&!l&&((d&&R.live||u)&&(n.state="pending",n.emit("paused")),u&&le());return}(be||u||o.changes.length>=m)&&(s.push(o),o={seq:0,changes:[],docs:[]},(n.state==="pending"||n.state==="stopped")&&(n.state="active",n.emit("active")),ee())}function q(be,we){c||(we.message||(we.message=be),r.ok=!1,r.status="aborting",s=[],o={seq:0,changes:[],docs:[]},le(we))}function le(be){if(!c&&!(n.cancelled&&(r.status="cancelled",a)))if(r.status=r.status||"complete",r.end_time=new Date().toISOString(),r.last_seq=f,c=!0,be){be=Ln(be),be.result=r;var we=(be.name||"").toLowerCase();we==="unauthorized"||we==="forbidden"?(n.emit("error",be),n.removeAllListeners()):G_e(t,n,be,function(){Oz(i,e,t,n)})}else n.emit("complete",r),n.removeAllListeners()}function G(be,we,De){if(n.cancelled)return le();typeof we=="number"&&(o.pending=we);var Be=Ly(t)(be);!Be||(o.seq=be.seq||De,o.changes.push(be),n.emit("checkpoint",{pending_batch:o.seq}),ra(function(){J(s.length===0&&R.live)}))}function X(be){if(k=!1,n.cancelled)return le();if(be.results.length>0)R.since=be.results[be.results.length-1].seq,te(),J(!0);else{var we=function(){d?(R.live=!0,te()):u=!0,J(!0)};!l&&be.results.length===0?(a=!0,S.writeCheckpoint(be.last_seq,M).then(function(){a=!1,r.last_seq=f=be.last_seq,we()}).catch(re)):we()}}function se(be){if(k=!1,n.cancelled)return le();q("changes rejected",be)}function te(){if(!(!k&&!u&&s.length<p))return;k=!0;function be(){De.cancel()}function we(){n.removeListener("cancel",be)}n._changes&&(n.removeListener("cancel",n._abortChanges),n._changes.cancel()),n.once("cancel",be);var De=i.changes(R).on("change",G);De.then(we,we),De.then(X).catch(se),t.retry&&(n._changes=De,n._abortChanges=be)}function ie(){Y().then(function(){if(n.cancelled){le();return}return S.getCheckpoint().then(function(be){f=be,R={since:f,limit:m,batch_size:m,style:g,doc_ids:$,selector:C,return_docs:!0},t.filter&&(typeof t.filter!="string"?R.include_docs=!0:R.filter=t.filter),"heartbeat"in t&&(R.heartbeat=t.heartbeat),"timeout"in t&&(R.timeout=t.timeout),t.query_params&&(R.query_params=t.query_params),t.view&&(R.view=t.view),te()})}).catch(function(be){q("getCheckpoint rejected with ",be)})}function re(be){a=!1,q("writeCheckpoint completed with error",be)}if(n.cancelled){le();return}n._addedListeners||(n.once("cancel",le),typeof t.complete=="function"&&(n.once("error",t.complete),n.once("complete",function(be){t.complete(null,be)})),n._addedListeners=!0),typeof t.since>"u"?ie():Y().then(function(){return a=!0,S.writeCheckpoint(t.since,M)}).then(function(){if(a=!1,n.cancelled){le();return}f=t.since,ie()}).catch(re)}El.exports(g0,cs.exports);function g0(){cs.exports.call(this),this.cancelled=!1,this.state="pending";var i=this,e=new Promise(function(t,n){i.once("complete",t),i.once("error",n)});i.then=function(t,n){return e.then(t,n)},i.catch=function(t){return e.catch(t)},i.catch(function(){})}g0.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")};g0.prototype.ready=function(i,e){var t=this;if(t._readyCalled)return;t._readyCalled=!0;function n(){t.cancel()}i.once("destroyed",n),e.once("destroyed",n);function r(){i.removeListener("destroyed",n),e.removeListener("destroyed",n)}t.once("complete",r),t.once("error",r)};function Qg(i,e){var t=e.PouchConstructor;return typeof i=="string"?new t(i,e):i}function G2(i,e,t,n){if(typeof t=="function"&&(n=t,t={}),typeof t>"u"&&(t={}),t.doc_ids&&!Array.isArray(t.doc_ids))throw Ln(d0,"`doc_ids` filter parameter is not a list.");t.complete=n,t=Br(t),t.continuous=t.continuous||t.live,t.retry="retry"in t?t.retry:!1,t.PouchConstructor=t.PouchConstructor||this;var r=new g0,s=Qg(i,t),l=Qg(e,t);return Oz(s,l,t,r),r}El.exports(Gy,cs.exports);function K_e(i,e,t,n){return typeof t=="function"&&(n=t,t={}),typeof t>"u"&&(t={}),t=Br(t),t.PouchConstructor=t.PouchConstructor||this,i=Qg(i,t),e=Qg(e,t),new Gy(i,e,t,n)}function Gy(i,e,t,n){var r=this;this.canceled=!1;var s=t.push?uf({},t,t.push):t,l=t.pull?uf({},t,t.pull):t;this.push=G2(i,e,s),this.pull=G2(e,i,l),this.pushPaused=!0,this.pullPaused=!0;function o(E){r.emit("change",{direction:"pull",change:E})}function a(E){r.emit("change",{direction:"push",change:E})}function u(E){r.emit("denied",{direction:"push",doc:E})}function c(E){r.emit("denied",{direction:"pull",doc:E})}function f(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function d(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function m(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function p(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}var g={};function k(E){return function(S,T){var M=S==="change"&&(T===o||T===a),R=S==="denied"&&(T===c||T===u),Y=S==="paused"&&(T===d||T===f),z=S==="active"&&(T===p||T===m);(M||R||Y||z)&&(S in g||(g[S]={}),g[S][E]=!0,Object.keys(g[S]).length===2&&r.removeAllListeners(S))}}t.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push)));function $(E,S,T){E.listeners(S).indexOf(T)==-1&&E.on(S,T)}this.on("newListener",function(E){E==="change"?($(r.pull,"change",o),$(r.push,"change",a)):E==="denied"?($(r.pull,"denied",c),$(r.push,"denied",u)):E==="active"?($(r.pull,"active",p),$(r.push,"active",m)):E==="paused"&&($(r.pull,"paused",d),$(r.push,"paused",f))}),this.on("removeListener",function(E){E==="change"?(r.pull.removeListener("change",o),r.push.removeListener("change",a)):E==="denied"?(r.pull.removeListener("denied",c),r.push.removeListener("denied",u)):E==="active"?(r.pull.removeListener("active",p),r.push.removeListener("active",m)):E==="paused"&&(r.pull.removeListener("paused",d),r.push.removeListener("paused",f))}),this.pull.on("removeListener",k("pull")),this.push.on("removeListener",k("push"));var C=Promise.all([this.push,this.pull]).then(function(E){var S={push:E[0],pull:E[1]};return r.emit("complete",S),n&&n(null,S),r.removeAllListeners(),S},function(E){if(r.cancel(),n?n(E):r.emit("error",E),r.removeAllListeners(),n)throw E});this.then=function(E,S){return C.then(E,S)},this.catch=function(E){return C.catch(E)}}Gy.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};function J_e(i){i.replicate=G2,i.sync=K_e,Object.defineProperty(i.prototype,"replicate",{get:function(){var e=this;return typeof this.replicateMethods>"u"&&(this.replicateMethods={from:function(t,n,r){return e.constructor.replicate(t,e,n,r)},to:function(t,n,r){return e.constructor.replicate(e,t,n,r)}}),this.replicateMethods}}),i.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}}kn.plugin(__e).plugin(F_e).plugin(Y_e).plugin(J_e);class Iz{constructor(e){je(this,"url");je(this,"syncEnabled");je(this,"username");je(this,"password");je(this,"dbPrefix");je(this,"database");je(this,"_dirty");e=e||{},this.url=e.url?new URL(e.url):null,e.host&&(this.url=new URL(e.host)),e.valid&&(this.syncEnabled=!0),this.username=e.username||null,this.password=e.password||null,this.dbPrefix=e.dbPrefix||"",this.database=e.database||"nomie",this.syncEnabled=e.syncEnabled||!1}setURL(e){try{this.url=new URL(e),this._dirty=!1}catch(t){console.error("Set URL error",t.message)}return this}isValid(){return this.url}getURL(){this.url}auth(){return btoa(`${this.username}:${this.password}`)}}let j6=[],dd={},Q_e,Pb="nomie6-pouch";const ege={name:"PouchDB",syncValid:!1,description:"Stored locally, with CouchDB Syncing support",authRequired:!1,remote:null,sync:!1,dbKey:Pb,syncing:!1,syncer:null,db:new kn(Pb,{auto_compaction:!0,ajax:{cache:!1}}),basePath(i){return"/"},onReady(i){i(this)},fireReady(){j6.forEach(i=>{i()}),j6=[]},remoteToUrl(){let i=this.getRemote();if(i.isValid()){let e=i.url;return e.pathname=`/${i.database}`,e.toString()}else return null},onChange(i){this.syncing=!0,i.direction=="pull"&&i.change.docs.forEach(e=>{dd.hasOwnProperty(e._id)&&dd[e._id].forEach(t=>{t(e.data)})})},onPaused(i){this.syncing=!1},onError(i){at.alert(Fe.t("sync.error","Sync Error"),i.message),console.error(i),this.syncing=!1},stopSync(){if(this.syncer){this.syncer.cancel(),this.syncing=!1;let i=this.getRemote();i.syncEnabled=!1,this.saveRemote(i)}},startSync(){let i=this.getRemote(),e=0,t=this.remoteToUrl(),n=this;if(t){let r={live:!0,retry:!0,ajax:{cache:!1},batch_size:10};(i.username||i.password)&&(r.auth={username:i.username,password:i.password}),this.syncer=kn.sync(Pb,t,r),this.syncer.catch(s=>{console.error(`Catch error in syncer ${s.message}`),this.syncing=!1}).then(s=>{n.syncing=!0,n.syncValid=!0}),this.syncer.on("complete",this.onChange).on("change",this.onChange).on("paused",this.onPaused).on("error",s=>{this.onError(s),e++,e>10&&alert("Something bad is going on")})}},getRemote(){return this.remote=new Iz(_n.local.get("pouchdb-remote")),this.remote},saveRemote(i){this.remote=i,_n.local.put("pouchdb-remote",i)},init(){return this.getRemote(),this.sync=this.remote.sync,this.remote.syncEnabled&&setTimeout(()=>{this.startSync()},500),this.fireReady()},info(){return{sync:Q_e}},async getProfile(){return{username:"Local User"}},async put(i,e){let t={_id:i,data:e},n=await this.getFullDoc(i);try{return n?this.db.put({...n,...t}):this.db.put(t)}catch(r){console.error(r),at.error(r.message)}},async getFullDoc(i){let e=null;try{e=await this.db.get(i)}catch{}return e},async get(i,e){e&&(dd[i]||[]).indexOf(e)==-1&&(dd[i]=dd[i]||[],dd[i].push(e));let t=null;try{let n=await this.getFullDoc(i);t=n?n.data:null}catch{}return t},async list(){let i=await this.db.allDocs();return(i?i.rows:[]).map(t=>t.id)},async delete(i){let e=await this.getFullDoc(i);return e?await this.db.remove(e):null}},v0=[{id:"local",name:"Local Only",shortName:"Local",description:"Data is stored on this device only.",price:"FREE",multipleDevices:!1,engine:Vhe},{id:"pouchdb",name:"CouchDB",shortName:"CouchDB",description:"Sync to your own CouchDB server",price:"FREE",multipleDevices:!1,engine:ege,advanced:!0}],tge=i=>v0.find(e=>e.id==i),Bz={};v0.map(i=>{Bz[i.id]=i.engine});const Rz={engines:Bz,engine:F3(),storageType(){return this.engine||this._storageType()||"local"},convertPath(i){const e=this.getEngine();return e.convertPath?e.convertPath(i):i},_storageType(){return F3()},setType(i){oy(i)},getEngine(){try{return this.engines[this.storageType()]}catch(i){return console.error("Error getting Engine"),console.error("e",i.message),null}},getProfile(){return this.getEngine().getProfile()},onReady(i){return this.getEngine().onReady(i)},async init(){try{return this.getEngine().init()}catch(i){await at.confirm("Error loading this storage engine",`${i}.
 Restart with Local Storage?`)&&Whe()}},async get(i,e=null){return await this.getEngine().get(i,e)},async put(i,e){return await this.getEngine().put(i,e).catch(t=>{throw t})},async putBinary(i,e){return await this.getEngine().putBinary(i,e)},async delete(i){return await this.getEngine().delete(i)},async list(){return await this.getEngine().list()},local:{get(i){return JSON.parse(localStorage.getItem(`storage/${i}`)||"null")},put(i,e){return localStorage.setItem(`storage/${i}`,JSON.stringify(e))},remove(i){return localStorage.removeItem(`storage/${i}`)}},SideStore:ry},_n=Rz;window.NStorage=Rz;const Zy=(i,e)=>{const t={},{update:n,subscribe:r,set:s}=rn(t);let l={};const o=async p=>{const g=await _n.get(i)||{};return l=p||{},Object.keys(g).forEach(k=>{e.itemInitializer&&(g[k]=e.itemInitializer(g[k],k))}),n(k=>g),e.initialized&&e.initialized(g,l),g},a=async p=>{const g=p;return Object.keys(g).map(k=>{const $=e.itemSerializer?e.itemSerializer(g[k]):p[k];g[k]=$}),await _n.put(i,g),p};return{init:o,upsert:async p=>{let g;return n(k=>{const $=p[e.key];return k[$]=e.itemInitializer?e.itemInitializer(p):p,g=k,k}),await a(g)},upsertMany:async p=>{let g;return n(k=>(Object.keys(p).forEach($=>{const C=p[$];k[$]=e.itemInitializer?e.itemInitializer(C):C}),g=k,k)),await a(g)},remove:async p=>{let g;return n(k=>{let $=p[e.key];return $&&k[$]&&delete k[$],g=k,k}),await a(g)},update:n,updateSync:async p=>{let g;return n(k=>(g=p(k),g)),await a(g)},subscribe:r,set:s,rawState:()=>{let p;return n(g=>(p=g,g)),p}}};var tf={},b0={},Y6=6e4,nge=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();t.setSeconds(0,0);var r=t.getTime()%Y6;return n*Y6+r};function ige(i){return i instanceof Date}var zz=ige,Nb=nge,rge=zz,Mb=36e5,Z2=6e4,sge=2,lge=/[T ]/,oge=/:/,age=/^(\d{2})$/,uge=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],cge=/^(\d{4})/,fge=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],dge=/^-(\d{2})$/,hge=/^-?(\d{3})$/,mge=/^-?(\d{2})-?(\d{2})$/,pge=/^-?W(\d{2})$/,_ge=/^-?W(\d{2})-?(\d{1})$/,gge=/^(\d{2}([.,]\d*)?)$/,vge=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,bge=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,kge=/([Z+-].*)$/,yge=/^(Z)$/,wge=/^([+-])(\d{2})$/,$ge=/^([+-])(\d{2}):?(\d{2})$/;function Fge(i,e){if(rge(i))return new Date(i.getTime());if(typeof i!="string")return new Date(i);var t=e||{},n=t.additionalDigits;n==null?n=sge:n=Number(n);var r=Ege(i),s=Cge(r.date,n),l=s.year,o=s.restDateString,a=Dge(o,l);if(a){var u=a.getTime(),c=0,f;if(r.time&&(c=Sge(r.time)),r.timezone)f=Tge(r.timezone)*Z2;else{var d=u+c,m=new Date(d);f=Nb(m);var p=new Date(d);p.setDate(m.getDate()+1);var g=Nb(p)-Nb(m);g>0&&(f+=g)}return new Date(u+c+f)}else return new Date(i)}function Ege(i){var e={},t=i.split(lge),n;if(oge.test(t[0])?(e.date=null,n=t[0]):(e.date=t[0],n=t[1]),n){var r=kge.exec(n);r?(e.time=n.replace(r[1],""),e.timezone=r[1]):e.time=n}return e}function Cge(i,e){var t=uge[e],n=fge[e],r;if(r=cge.exec(i)||n.exec(i),r){var s=r[1];return{year:parseInt(s,10),restDateString:i.slice(s.length)}}if(r=age.exec(i)||t.exec(i),r){var l=r[1];return{year:parseInt(l,10)*100,restDateString:i.slice(l.length)}}return{year:null}}function Dge(i,e){if(e===null)return null;var t,n,r,s;if(i.length===0)return n=new Date(0),n.setUTCFullYear(e),n;if(t=dge.exec(i),t)return n=new Date(0),r=parseInt(t[1],10)-1,n.setUTCFullYear(e,r),n;if(t=hge.exec(i),t){n=new Date(0);var l=parseInt(t[1],10);return n.setUTCFullYear(e,0,l),n}if(t=mge.exec(i),t){n=new Date(0),r=parseInt(t[1],10)-1;var o=parseInt(t[2],10);return n.setUTCFullYear(e,r,o),n}if(t=pge.exec(i),t)return s=parseInt(t[1],10)-1,U6(e,s);if(t=_ge.exec(i),t){s=parseInt(t[1],10)-1;var a=parseInt(t[2],10)-1;return U6(e,s,a)}return null}function Sge(i){var e,t,n;if(e=gge.exec(i),e)return t=parseFloat(e[1].replace(",",".")),t%24*Mb;if(e=vge.exec(i),e)return t=parseInt(e[1],10),n=parseFloat(e[2].replace(",",".")),t%24*Mb+n*Z2;if(e=bge.exec(i),e){t=parseInt(e[1],10),n=parseInt(e[2],10);var r=parseFloat(e[3].replace(",","."));return t%24*Mb+n*Z2+r*1e3}return null}function Tge(i){var e,t;return e=yge.exec(i),e?0:(e=wge.exec(i),e?(t=parseInt(e[2],10)*60,e[1]==="+"?-t:t):(e=$ge.exec(i),e?(t=parseInt(e[2],10)*60+parseInt(e[3],10),e[1]==="+"?-t:t):0))}function U6(i,e,t){e=e||0,t=t||0;var n=new Date(0);n.setUTCFullYear(i,0,4);var r=n.getUTCDay()||7,s=e*7+t+1-r;return n.setUTCDate(n.getUTCDate()+s),n}var k0=Fge,Age=k0;function Pge(i){var e=Age(i);return e.setHours(0,0,0,0),e}var Xy=Pge,W6=Xy,q6=6e4,Nge=864e5;function Mge(i,e){var t=W6(i),n=W6(e),r=t.getTime()-t.getTimezoneOffset()*q6,s=n.getTime()-n.getTimezoneOffset()*q6;return Math.round((r-s)/Nge)}var Lge=Mge,H6=k0;function Oge(i,e){var t=H6(i),n=t.getTime(),r=H6(e),s=r.getTime();return n<s?-1:n>s?1:0}var Ige=Oge,V6=k0,Bge=Lge,x6=Ige;function Rge(i,e){var t=V6(i),n=V6(e),r=x6(t,n),s=Math.abs(Bge(t,n));t.setDate(t.getDate()-r*s);var l=x6(t,n)===-r;return r*(s-l)}var zge=Rge,zl={},jge=k0;function Yge(i,e){var t=jge(i),n=Number(e);return t.setDate(t.getDate()+n),t}var jz=Yge,Uge=jz;function Wge(i,e){var t=Number(e);return Uge(i,-t)}var Yz=Wge,qge=zz;function Hge(i){if(qge(i))return!isNaN(i);throw new TypeError(toString.call(i)+" is not an instance of Date")}var Vge=Hge;Object.defineProperty(zl,"__esModule",{value:!0});zl.getDatesParameter=zl.sortDates=zl.filterInvalidDates=zl.relativeDates=void 0;var xge=Xy,jm=y0(xge),Gge=Yz,Zge=y0(Gge),Xge=jz,Kge=y0(Xge),Jge=Vge,Qge=y0(Jge);function y0(i){return i&&i.__esModule?i:{default:i}}zl.relativeDates=function(){return{today:(0,jm.default)(new Date),yesterday:(0,jm.default)((0,Zge.default)(new Date,1)),tomorrow:(0,jm.default)((0,Kge.default)(new Date,1))}};zl.filterInvalidDates=function(e){return e.filter(function(t){return(0,Qge.default)(new Date(t))?new Date(t):console.error("The date '"+t+"' is not in a valid date format and date-streaks is ignoring it. Browsers do not consistently support this and this package's results may fail. Verify the array of dates you're passing to date-streaks are all valid date strings. http://momentjs.com/docs/#/parsing/string/")})};zl.sortDates=function(e){return e.sort(function(t,n){return(0,jm.default)(n)-(0,jm.default)(t)}).reverse()};zl.getDatesParameter=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Array.isArray(e))return e;var t=e.dates;return t||[]};Object.defineProperty(b0,"__esModule",{value:!0});var e1e=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},t1e=zge,rg=n1e(t1e),sg=zl;function n1e(i){return i&&i.__esModule?i:{default:i}}function i1e(i,e){var t={};for(var n in i)e.indexOf(n)>=0||!Object.prototype.hasOwnProperty.call(i,n)||(t[n]=i[n]);return t}function r1e(i){if(Array.isArray(i)){for(var e=0,t=Array(i.length);e<i.length;e++)t[e]=i[e];return t}else return Array.from(i)}function s1e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=(0,sg.getDatesParameter)(i),t=(0,sg.relativeDates)(),n=t.today,r=t.yesterday,s=(0,sg.filterInvalidDates)(e),l=(0,sg.sortDates)(s),o=l.reduce(function(u,c,f){var d=new Date(c),m=l[f+1]?new Date(l[f+1]):d,p=(0,rg.default)(m,d),g=u.isToday||(0,rg.default)(c,n)===0,k=u.isYesterday||(0,rg.default)(c,r)===0,$=u.isInFuture||(0,rg.default)(n,c)<0;return p===0?g&&(u.todayInStreak=!0):p===1?++u.streaks[u.streaks.length-1]:u.streaks.push(1),e1e({},u,{longestStreak:Math.max.apply(Math,r1e(u.streaks)),withinCurrentStreak:u.isToday||u.isYesterday||u.isInFuture||g||k||$,currentStreak:g||k||$?u.streaks[u.streaks.length-1]:0,isInFuture:$,isYesterday:k,isToday:g})},{currentStreak:0,longestStreak:0,streaks:[1],todayInStreak:!1,withinCurrentStreak:!1,isInFuture:!1,isToday:!1,isYesterday:!1});o.isToday,o.isYesterday,o.isInFuture;var a=i1e(o,["isToday","isYesterday","isInFuture"]);return a}b0.default=s1e;var Ky={};Object.defineProperty(Ky,"__esModule",{value:!0});var G6=zl,l1e=b0,o1e=a1e(l1e);function a1e(i){return i&&i.__esModule?i:{default:i}}function Z6(i){if(Array.isArray(i)){for(var e=0,t=Array(i.length);e<i.length;e++)t[e]=i[e];return t}else return Array.from(i)}function u1e(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=(0,G6.getDatesParameter)(i);if(e.length===0)return[];var t=(0,o1e.default)({dates:e}),n=t.streaks,r=n===void 0?[]:n,s=[].concat(Z6((0,G6.sortDates)(e)));return r.reduce(function(l,o){var a=void 0,u=void 0,c=s.slice(0,o);return s.splice(0,o),c&&c.length>1?(a=new Date(c[0]),u=new Date(c[c.length-1])):(a=new Date(c[0]),u=null),[].concat(Z6(l),[{start:a,end:u,duration:o}])},[]).reverse()}Ky.default=u1e;var Jy={};Object.defineProperty(Jy,"__esModule",{value:!0});var c1e=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},f1e=Xy,X6=Uz(f1e),d1e=Yz,h1e=Uz(d1e),m1e=zl;function Uz(i){return i&&i.__esModule?i:{default:i}}function p1e(i,e,t){return e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function _1e(i){if(Array.isArray(i)){for(var e=0,t=Array(i.length);e<i.length;e++)t[e]=i[e];return t}else return Array.from(i)}var g1e=function(e){var t=e.dates,n=t===void 0?[]:t,r=e.length,s=r===void 0?7:r,l=e.endDate,o=l===void 0?new Date:l,a=[].concat(_1e(Array(s))).map(function(f,d){return(0,X6.default)((0,h1e.default)(o,d))}),u=(0,m1e.sortDates)(n).map(function(f){return(0,X6.default)(f).getTime()}),c=a.reduce(function(f,d){return f=c1e({},f,p1e({},d,u.includes(d.getTime()))),f},{});return c};Jy.default=g1e;Object.defineProperty(tf,"__esModule",{value:!0});tf.trackRecord=tf.streakRanges=ew=tf.summary=void 0;var v1e=b0,b1e=Qy(v1e),k1e=Ky,y1e=Qy(k1e),w1e=Jy,$1e=Qy(w1e);function Qy(i){return i&&i.__esModule?i:{default:i}}var ew=tf.summary=b1e.default;tf.streakRanges=y1e.default;tf.trackRecord=$1e.default;class As{constructor(e){je(this,"trackable");je(this,"values");je(this,"hours");je(this,"dates");je(this,"positivity");je(this,"displayValue");je(this,"groupedBy");je(this,"logs");je(this,"unitScores");je(this,"noteScores");this.trackable=new Wi(e.trackable),this.values=e.values||[],this.dates=e.dates||[],this.displayValue=e.displayValue,this.hours=e.hours||[],this.groupedBy=e.groupedBy,this.logs=e.logs||[],this.positivity=e.positivity||[]}getTotalScore(e){return Nt.sum((this.logs||[]).map(t=>Cf(t.note,t.end,e)))}get middleDate(){return new Date((this.dates[0].toDate().getTime()+this.dates[this.dates.length-1].toDate().getTime())/2)}get firstDate(){return this.logs.sort((e,t)=>e.end>t.end?1:-1)[0].end}get lastDate(){return this.logs.sort((e,t)=>e.end<t.end?1:-1)[0].end}groupBy(e,t,n=!1){const r=e;let s={};for(let c=0;c<this.dates.length;c++){let f=this.dates[c],d=Te(f).format(t);s[d]=s[d]||{key:d,values:[],date:f,format:t};let m=isNaN(this.values[c])?NaN:this.values[c];s[d].values.push(m)}const l=Object.keys(s).map(c=>{let f=s[c].values.filter(d=>!isNaN(d)).length;return{dates:s[c].date,values:f>0?this.trackable.tallyValues(s[c].values):NaN}}),o=l.map(c=>c.values),a=l.map(c=>c.dates),u=(this.logs||[]).map(c=>c.score);return new As({trackable:this.trackable,displayValue:this.displayValue,values:o,dates:a,groupedBy:r,noteScores:u,positivity:o.map((c,f)=>{var d;return n?0:this.trackable.tracker?(d=this.trackable.tracker)==null?void 0:d.calculateScore(c,a[f].toDate()):0})})}get total(){return this.trackable.tallyValues(this.values)}formatValue(e,t=!0){return this.trackable.tracker?this.trackable.tracker.displayValue(e,t):`${e}`}get totalDisplay(){try{return`${this.trackable.formatValue(this.total)}`}catch{return""}}get totalFormatted(){return this.totalDisplay}get totalOnly(){try{return`${this.trackable.formatValue(this.total,!1)}`}catch{return""}}get average(){return Nt.average(this.values.filter(e=>!isNaN(e)))}get averaged(){const e=new As(this),t=e.values.filter(r=>!isNaN(r)),n=Nt.max(t);return e.values=e.values.map(r=>isNaN(r)?r:Nt.percentage(n,r)),e}getMinMax(e){let t;e=="min"?t=Nt.min(this.values):t=Nt.max(this.values);let n=this.values.indexOf(t);if(n>-1)return{date:this.dates[n],value:this.values[n],display:this.trackable.formatValue(this.values[n])}}get max(){return this.getMinMax("max")}get min(){return this.getMinMax("min")}get byDay(){return this.groupBy("day","YYYY-MM-DD")}get streakSummary(){return ew({dates:this.dates.map(e=>e.startOf("day").toDate())})}truncate(e,t){const n=[],r=[];return this.dates.map((s,l)=>{s.unix()<=t.unix()&&s.unix()>=e.unix()&&(n.push(this.values[l]),r.push(this.dates[l]))}),new As({trackable:this.trackable,displayValue:this.displayValue,values:n,dates:r,groupedBy:this.groupedBy})}reverse(){let e=new As(this);return e.values=[...this.values].reverse(),e.dates=[...this.dates].reverse(),e.positivity=[...this.positivity].reverse(),e}backfill(e,t){if(!e&&!this.dates.length)return new As({trackable:this.trackable,displayValue:this.displayValue,values:this.values,dates:this.dates,groupedBy:this.groupedBy});const n=Te(e||this.dates[0]),r=Te(t||this.dates[this.dates.length-1]);let s,l;l=n.toDate().getTime()>r.toDate().getTime()?n:r,s=n.toDate().getTime()<r.toDate().getTime()?n:r;const o=this.groupedBy||"day",a=IB(s.toDate(),l.toDate(),o),u=a.map(d=>Te(d.date)),c=a.map(()=>NaN),f=(_ne[o]||{}).keyFormat;if(!f)throw new Error(`Could not find calendar groupby ${o}`);return u.forEach((d,m)=>{const p=this.dates.findIndex(g=>Te(g).format(f)===Te(d).format(f));p>-1&&(c[m]=this.values[p])}),new As({trackable:this.trackable,displayValue:this.displayValue,values:c,dates:u,groupedBy:o,positivity:c.map((d,m)=>{var p;return this.trackable.tracker?(p=this.trackable.tracker)==null?void 0:p.calculateScore(d,u[m].toDate()):0})})}}const F1e=(i,e)=>{const t=[],n=i.getTrackables();return e.forEach(r=>{n.find(s=>s.tag===r.tag)&&t.push(1)}),t.length==e.length},K6=(i,e)=>i.filter(t=>{let n=!0;return e.trackables&&(n=F1e(t,e.trackables)),n&&e.start&&(n=t.end.getTime()>=e.start.toDate().getTime()),n&&e.end&&(n=t.end.getTime()<=e.end.toDate().getTime()),n});function _o(i,e={}){let t={};return i.sort((n,r)=>n.end>r.end?1:-1).forEach(n=>{t=E1e(n,t,e)}),t}function E1e(i,e={},t={}){const n=e;return i.getTrackables(t.trackables||{}).forEach(r=>{const s=n[r.tag],l=parseInt(Te(new Date(i.end)).format("HH"));{if(s){const o=Hd(r.value)?gi(`${r.value||0}`):1,a=r.tracker?Qm(o,r.tracker):0;if(n[r.tag]){const u=n[r.tag];u.values.push(o),u.hours.push(l),u.logs.push(i),u.positivity.push(a),u.dates.push(i.endDayjs())}}else{const o=Hd(r.value)?gi(`${r.value||0}`):1,a=r.tracker?Qm(o,r.tracker):0,u=new As({trackable:r,values:[o],hours:[l],dates:[i.endDayjs()],logs:[i],positivity:[a]});n[r.tag]=n[r.tag]||u}n[r.tag].displayValue=r.formatValue(r.tallyValues(n[r.tag].values))}}),n}const C1e=(i,e,t=new Date)=>{var m,p;const r={tag:i.tag},s=new Date(i.last.d),l=new Date(e.d),o=((m=i.max)==null?void 0:m.v)||0,a=((p=i.min)==null?void 0:p.v)||0,u=e.v||0,c=e.v||0;s>=l?r.last=i.last:r.last=e,o>=u?r.max=i.max:r.max=e,a<=c?r.min=i.min:r.min=e,i.longest=i.longest||{v:0,d:void 0};const{streak:f,longest:d}=D1e(e,i.streak,i.longest,t);return r.streak=f,r.longest=d,r},D1e=(i,e,t,n=new Date)=>{let r=Te(e.d);const s={...e},l={...t};return r.format("YYYY-MM-DD")===Te(n).format("YYYY-MM-DD")?s.v=s.v||1:r.startOf("day").format("YYYY-MM-DD")===Te(n).startOf("day").subtract(1,"day").format("YYYY-MM-DD")?(s.v=s.v+1,s.d=i.d):(s.v=1,s.d=i.d),{streak:s,longest:l}},sl=Zy(Ii.storage.trackableUsage(),{label:"Usage Store",key:"tag",itemInitializer:(i,e)=>(i.tag=e,i),itemSerializer:i=>i});ds(sl,i=>{const e={};return Object.keys(i).map(t=>{e[t]=i[t].streak}),e});const Wz=ds(sl,i=>{const e={};return Object.keys(i).map(t=>{let n=i[t].last;n&&(e[t]=n)}),e}),S1e=i=>sl.rawState()[i.tag],T1e=async i=>{await sl.init();const e=sl.rawState();return await P1e(i,e)},A1e=async(i,e=650)=>{const t=await dn.query({start:Te().subtract(e,"days"),end:Te().endOf("day")});let n=_o(t,i),r={};return Object.keys(n).forEach(l=>{var o,a;if(i[l]){let u=n[l];if(u)try{let c=u.streakSummary,f=u.logs[u.logs.length-1],d=u.values[u.values.length-1],m=u.dates[u.dates.length-1];r[l]={tag:u.trackable.tag,min:{v:((o=u.min)==null?void 0:o.value)||0,d:(a=u.min)==null?void 0:a.date.toDate()},max:{v:u.max.value,d:u.max.date.toDate()},last:{v:d,d:m==null?void 0:m.toDate()},longest:{v:c.longestStreak},streak:c.todayInStreak?{v:c.currentStreak,d:new Date}:{v:0,d:new Date},logId:f==null?void 0:f._id,bookId:f==null?void 0:f.bookId}}catch(c){console.error(c)}}}),await sl.updateSync(l=>({...l,...r}))},P1e=async(i,e)=>{const t=e,n=i.elements.filter(l=>l.type!=="generic").map(l=>({tag:PR(l),token:l})).filter(l=>l.tag.trim().length),r={};return n.forEach(l=>{const o=l.tag,a=l.token.value,u=t[o],c=gi(a);let f={d:i.end,v:c};u?i.end.toDateString()!==new Date().toDateString()||(r[o]=C1e(u||{},f)):r[o]={tag:o,last:f,min:f,max:f,logId:i._id,bookId:i.bookId,streak:{v:1,d:new Date},longest:{v:1,d:new Date}}}),await sl.updateSync(l=>({...l,...r}))};class N1e{constructor(e,t,n,r){je(this,"storage");je(this,"status");je(this,"rows");je(this,"ledgerTools");this.storage=e,this.rows=t,this.status=n,this.ledgerTools=r}async import(){let e=this.status||function(){},t={};this.rows.forEach(o=>{let a=o instanceof gn?o:new gn(o),u=a.bookId;delete a._dirty,t[u]=t[u]||[],t[u].push(a)});let n=Object.keys(t).map(o=>({date:o,records:t[o]})),r={},s=0;const l=[];for(let o=0;o<n.length;o++){let a=n[o],u=a.date,c=[];r[u]?c=r[u]:(c=await this.ledgerTools.getBook(u,!0),c=c||[],r[u]=c),a.records.forEach(f=>{c.findIndex(d=>d.hash()==f.hash())==-1?c.push(f):s++}),await this.ledgerTools.saveBook(a.date,c).catch(f=>{console.error("Error importing",f.message),l.push(a.date)}),this.storage.engine.id==="firebase"&&await Lt(20),e({importing:"logs",step:o,total:n.length-1,duplicates:s})}return s&&console.error(`${s} duplicates found`),l.length&&alert(`Importer failed to import ${l.length} weeks of data. ${l.join(", ")}`),r}}var M1e=iy,L1e=JB,O1e=gy,I1e=Math.ceil,B1e=Math.max;function R1e(i,e,t){(t?L1e(i,e,t):e===void 0)?e=1:e=B1e(O1e(e),0);var n=i==null?0:i.length;if(!n||e<1)return[];for(var r=0,s=0,l=Array(I1e(n/e));r<n;)l[s++]=M1e(i,r,r+=e);return l}var tw=R1e;const e1={split(i=[]){let e=Math.ceil(i.length*.5);return[i.splice(0,e),i.splice(-e)]},unique(i){return jhe(i)},chunk(i,e){return tw(i,e)}},hf=(i,e)=>Array.from(new Set(i.map(t=>t[e]))).map(t=>i.find(n=>n.id===t));function t1(i){return typeof i=="string"?i.replace(/[^A-Za-z0-9]/g,function(e){return z1e[e]||e}):i}const z1e={\u00C1:"A",\u0102:"A",\u1EAE:"A",\u1EB6:"A",\u1EB0:"A",\u1EB2:"A",\u1EB4:"A",\u01CD:"A",\u00C2:"A",\u1EA4:"A",\u1EAC:"A",\u1EA6:"A",\u1EA8:"A",\u1EAA:"A",\u00C4:"A",\u01DE:"A",\u0226:"A",\u01E0:"A",\u1EA0:"A",\u0200:"A",\u00C0:"A",\u1EA2:"A",\u0202:"A",\u0100:"A",\u0104:"A",\u00C5:"A",\u01FA:"A",\u1E00:"A","\u023A":"A",\u00C3:"A","\uA732":"AA",\u00C6:"AE",\u01FC:"AE",\u01E2:"AE","\uA734":"AO","\uA736":"AU","\uA738":"AV","\uA73A":"AV","\uA73C":"AY",\u1E02:"B",\u1E04:"B",\u0181:"B",\u1E06:"B","\u0243":"B",\u0182:"B",\u0106:"C",\u010C:"C",\u00C7:"C",\u1E08:"C",\u0108:"C",\u010A:"C",\u0187:"C","\u023B":"C",\u010E:"D",\u1E10:"D",\u1E12:"D",\u1E0A:"D",\u1E0C:"D",\u018A:"D",\u1E0E:"D",\u01F2:"D",\u01C5:"D",\u0110:"D",\u00D0:"D",\u018B:"D",\u01F1:"DZ",\u01C4:"DZ",\u00C9:"E",\u0114:"E",\u011A:"E",\u0228:"E",\u1E1C:"E",\u00CA:"E",\u1EBE:"E",\u1EC6:"E",\u1EC0:"E",\u1EC2:"E",\u1EC4:"E",\u1E18:"E",\u00CB:"E",\u0116:"E",\u1EB8:"E",\u0204:"E",\u00C8:"E",\u1EBA:"E",\u0206:"E",\u0112:"E",\u1E16:"E",\u1E14:"E",\u0118:"E","\u0246":"E",\u1EBC:"E",\u1E1A:"E","\uA76A":"ET",\u1E1E:"F",\u0191:"F",\u01F4:"G",\u011E:"G",\u01E6:"G",\u0122:"G",\u011C:"G",\u0120:"G",\u0193:"G",\u1E20:"G",\u01E4:"G",\u1E2A:"H",\u021E:"H",\u1E28:"H",\u0124:"H","\u2C67":"H",\u1E26:"H",\u1E22:"H",\u1E24:"H",\u0126:"H",\u00CD:"I",\u012C:"I",\u01CF:"I",\u00CE:"I",\u00CF:"I",\u1E2E:"I",\u0130:"I",\u1ECA:"I",\u0208:"I",\u00CC:"I",\u1EC8:"I",\u020A:"I",\u012A:"I",\u012E:"I",\u0197:"I",\u0128:"I",\u1E2C:"I","\uA779":"D","\uA77B":"F","\uA77D":"G","\uA782":"R","\uA784":"S","\uA786":"T","\uA76C":"IS",\u0134:"J","\u0248":"J",\u1E30:"K",\u01E8:"K",\u0136:"K","\u2C69":"K","\uA742":"K",\u1E32:"K",\u0198:"K",\u1E34:"K","\uA740":"K","\uA744":"K",\u0139:"L","\u023D":"L",\u013D:"L",\u013B:"L",\u1E3C:"L",\u1E36:"L",\u1E38:"L","\u2C60":"L","\uA748":"L",\u1E3A:"L",\u013F:"L","\u2C62":"L",\u01C8:"L",\u0141:"L",\u01C7:"LJ",\u1E3E:"M",\u1E40:"M",\u1E42:"M","\u2C6E":"M",\u0143:"N",\u0147:"N",\u0145:"N",\u1E4A:"N",\u1E44:"N",\u1E46:"N",\u01F8:"N",\u019D:"N",\u1E48:"N","\u0220":"N",\u01CB:"N",\u00D1:"N",\u01CA:"NJ",\u00D3:"O",\u014E:"O",\u01D1:"O",\u00D4:"O",\u1ED0:"O",\u1ED8:"O",\u1ED2:"O",\u1ED4:"O",\u1ED6:"O",\u00D6:"O",\u022A:"O",\u022E:"O",\u0230:"O",\u1ECC:"O",\u0150:"O",\u020C:"O",\u00D2:"O",\u1ECE:"O",\u01A0:"O",\u1EDA:"O",\u1EE2:"O",\u1EDC:"O",\u1EDE:"O",\u1EE0:"O",\u020E:"O","\uA74A":"O","\uA74C":"O",\u014C:"O",\u1E52:"O",\u1E50:"O",\u019F:"O",\u01EA:"O",\u01EC:"O",\u00D8:"O",\u01FE:"O",\u00D5:"O",\u1E4C:"O",\u1E4E:"O",\u022C:"O",\u01A2:"OI","\uA74E":"OO",\u0190:"E",\u0186:"O",\u0222:"OU",\u1E54:"P",\u1E56:"P","\uA752":"P",\u01A4:"P","\uA754":"P","\u2C63":"P","\uA750":"P","\uA758":"Q","\uA756":"Q",\u0154:"R",\u0158:"R",\u0156:"R",\u1E58:"R",\u1E5A:"R",\u1E5C:"R",\u0210:"R",\u0212:"R",\u1E5E:"R","\u024C":"R","\u2C64":"R","\uA73E":"C",\u018E:"E",\u015A:"S",\u1E64:"S",\u0160:"S",\u1E66:"S",\u015E:"S",\u015C:"S",\u0218:"S",\u1E60:"S",\u1E62:"S",\u1E68:"S",\u00DF:"ss",\u0164:"T",\u0162:"T",\u1E70:"T",\u021A:"T","\u023E":"T",\u1E6A:"T",\u1E6C:"T",\u01AC:"T",\u1E6E:"T",\u01AE:"T",\u0166:"T","\u2C6F":"A","\uA780":"L",\u019C:"M","\u0245":"V","\uA728":"TZ",\u00DA:"U",\u016C:"U",\u01D3:"U",\u00DB:"U",\u1E76:"U",\u00DC:"U",\u01D7:"U",\u01D9:"U",\u01DB:"U",\u01D5:"U",\u1E72:"U",\u1EE4:"U",\u0170:"U",\u0214:"U",\u00D9:"U",\u1EE6:"U",\u01AF:"U",\u1EE8:"U",\u1EF0:"U",\u1EEA:"U",\u1EEC:"U",\u1EEE:"U",\u0216:"U",\u016A:"U",\u1E7A:"U",\u0172:"U",\u016E:"U",\u0168:"U",\u1E78:"U",\u1E74:"U","\uA75E":"V",\u1E7E:"V",\u01B2:"V",\u1E7C:"V","\uA760":"VY",\u1E82:"W",\u0174:"W",\u1E84:"W",\u1E86:"W",\u1E88:"W",\u1E80:"W","\u2C72":"W",\u1E8C:"X",\u1E8A:"X",\u00DD:"Y",\u0176:"Y",\u0178:"Y",\u1E8E:"Y",\u1EF4:"Y",\u1EF2:"Y",\u01B3:"Y",\u1EF6:"Y","\u1EFE":"Y",\u0232:"Y","\u024E":"Y",\u1EF8:"Y",\u0179:"Z",\u017D:"Z",\u1E90:"Z","\u2C6B":"Z",\u017B:"Z",\u1E92:"Z",\u0224:"Z",\u1E94:"Z",\u01B5:"Z",\u00DE:"TH",\u0132:"IJ",\u0152:"OE","\u1D00":"A","\u1D01":"AE",\u0299:"B","\u1D03":"B","\u1D04":"C","\u1D05":"D","\u1D07":"E","\uA730":"F",\u0262:"G",\u029B:"G",\u029C:"H",\u026A:"I",\u0281:"R","\u1D0A":"J","\u1D0B":"K",\u029F:"L","\u1D0C":"L","\u1D0D":"M",\u0274:"N","\u1D0F":"O",\u0276:"OE","\u1D10":"O","\u1D15":"OU","\u1D18":"P",\u0280:"R","\u1D0E":"N","\u1D19":"R","\uA731":"S","\u1D1B":"T","\u2C7B":"E","\u1D1A":"R","\u1D1C":"U","\u1D20":"V","\u1D21":"W",\u028F:"Y","\u1D22":"Z",\u00E1:"a",\u0103:"a",\u1EAF:"a",\u1EB7:"a",\u1EB1:"a",\u1EB3:"a",\u1EB5:"a",\u01CE:"a",\u00E2:"a",\u1EA5:"a",\u1EAD:"a",\u1EA7:"a",\u1EA9:"a",\u1EAB:"a",\u00E4:"a",\u01DF:"a",\u0227:"a",\u01E1:"a",\u1EA1:"a",\u0201:"a",\u00E0:"a",\u1EA3:"a",\u0203:"a",\u0101:"a",\u0105:"a","\u1D8F":"a",\u1E9A:"a",\u00E5:"a",\u01FB:"a",\u1E01:"a","\u2C65":"a",\u00E3:"a","\uA733":"aa",\u00E6:"ae",\u01FD:"ae",\u01E3:"ae","\uA735":"ao","\uA737":"au","\uA739":"av","\uA73B":"av","\uA73D":"ay",\u1E03:"b",\u1E05:"b",\u0253:"b",\u1E07:"b","\u1D6C":"b","\u1D80":"b",\u0180:"b",\u0183:"b",\u0275:"o",\u0107:"c",\u010D:"c",\u00E7:"c",\u1E09:"c",\u0109:"c",\u0255:"c",\u010B:"c",\u0188:"c","\u023C":"c",\u010F:"d",\u1E11:"d",\u1E13:"d","\u0221":"d",\u1E0B:"d",\u1E0D:"d",\u0257:"d","\u1D91":"d",\u1E0F:"d","\u1D6D":"d","\u1D81":"d",\u0111:"d",\u0256:"d",\u018C:"d",\u00F0:"d",\u0131:"i","\u0237":"j",\u025F:"j",\u0284:"j",\u01F3:"dz",\u01C6:"dz",\u00E9:"e",\u0115:"e",\u011B:"e",\u0229:"e",\u1E1D:"e",\u00EA:"e",\u1EBF:"e",\u1EC7:"e",\u1EC1:"e",\u1EC3:"e",\u1EC5:"e",\u1E19:"e",\u00EB:"e",\u0117:"e",\u1EB9:"e",\u0205:"e",\u00E8:"e",\u1EBB:"e",\u0207:"e",\u0113:"e",\u1E17:"e",\u1E15:"e","\u2C78":"e",\u0119:"e","\u1D92":"e","\u0247":"e",\u1EBD:"e",\u1E1B:"e","\uA76B":"et",\u1E1F:"f",\u0192:"f","\u1D6E":"f","\u1D82":"f",\u01F5:"g",\u011F:"g",\u01E7:"g",\u0123:"g",\u011D:"g",\u0121:"g",\u0260:"g",\u1E21:"g","\u1D83":"g",\u01E5:"g",\u1E2B:"h",\u021F:"h",\u1E29:"h",\u0125:"h","\u2C68":"h",\u1E27:"h",\u1E23:"h",\u1E25:"h",\u0266:"h",\u1E96:"h",\u0127:"h",\u0195:"hv",\u00ED:"i",\u012D:"i",\u01D0:"i",\u00EE:"i",\u00EF:"i",\u1E2F:"i",\u1ECB:"i",\u0209:"i",\u00EC:"i",\u1EC9:"i",\u020B:"i",\u012B:"i",\u012F:"i","\u1D96":"i",\u0268:"i",\u0129:"i",\u1E2D:"i","\uA77A":"d","\uA77C":"f","\u1D79":"g","\uA783":"r","\uA785":"s","\uA787":"t","\uA76D":"is",\u01F0:"j",\u0135:"j",\u029D:"j","\u0249":"j",\u1E31:"k",\u01E9:"k",\u0137:"k","\u2C6A":"k","\uA743":"k",\u1E33:"k",\u0199:"k",\u1E35:"k","\u1D84":"k","\uA741":"k","\uA745":"k",\u013A:"l",\u019A:"l",\u026C:"l",\u013E:"l",\u013C:"l",\u1E3D:"l","\u0234":"l",\u1E37:"l",\u1E39:"l","\u2C61":"l","\uA749":"l",\u1E3B:"l",\u0140:"l",\u026B:"l","\u1D85":"l",\u026D:"l",\u0142:"l",\u01C9:"lj",\u017F:"s","\u1E9C":"s",\u1E9B:"s","\u1E9D":"s",\u1E3F:"m",\u1E41:"m",\u1E43:"m",\u0271:"m","\u1D6F":"m","\u1D86":"m",\u0144:"n",\u0148:"n",\u0146:"n",\u1E4B:"n","\u0235":"n",\u1E45:"n",\u1E47:"n",\u01F9:"n",\u0272:"n",\u1E49:"n",\u019E:"n","\u1D70":"n","\u1D87":"n",\u0273:"n",\u00F1:"n",\u01CC:"nj",\u00F3:"o",\u014F:"o",\u01D2:"o",\u00F4:"o",\u1ED1:"o",\u1ED9:"o",\u1ED3:"o",\u1ED5:"o",\u1ED7:"o",\u00F6:"o",\u022B:"o",\u022F:"o",\u0231:"o",\u1ECD:"o",\u0151:"o",\u020D:"o",\u00F2:"o",\u1ECF:"o",\u01A1:"o",\u1EDB:"o",\u1EE3:"o",\u1EDD:"o",\u1EDF:"o",\u1EE1:"o",\u020F:"o","\uA74B":"o","\uA74D":"o","\u2C7A":"o",\u014D:"o",\u1E53:"o",\u1E51:"o",\u01EB:"o",\u01ED:"o",\u00F8:"o",\u01FF:"o",\u00F5:"o",\u1E4D:"o",\u1E4F:"o",\u022D:"o",\u01A3:"oi","\uA74F":"oo",\u025B:"e","\u1D93":"e",\u0254:"o","\u1D97":"o",\u0223:"ou",\u1E55:"p",\u1E57:"p","\uA753":"p",\u01A5:"p","\u1D71":"p","\u1D88":"p","\uA755":"p","\u1D7D":"p","\uA751":"p","\uA759":"q",\u02A0:"q","\u024B":"q","\uA757":"q",\u0155:"r",\u0159:"r",\u0157:"r",\u1E59:"r",\u1E5B:"r",\u1E5D:"r",\u0211:"r",\u027E:"r","\u1D73":"r",\u0213:"r",\u1E5F:"r",\u027C:"r","\u1D72":"r","\u1D89":"r","\u024D":"r",\u027D:"r","\u2184":"c","\uA73F":"c",\u0258:"e",\u027F:"r",\u015B:"s",\u1E65:"s",\u0161:"s",\u1E67:"s",\u015F:"s",\u015D:"s",\u0219:"s",\u1E61:"s",\u1E63:"s",\u1E69:"s",\u0282:"s","\u1D74":"s","\u1D8A":"s","\u023F":"s",\u0261:"g","\u1D11":"o","\u1D13":"o","\u1D1D":"u",\u0165:"t",\u0163:"t",\u1E71:"t",\u021B:"t","\u0236":"t",\u1E97:"t","\u2C66":"t",\u1E6B:"t",\u1E6D:"t",\u01AD:"t",\u1E6F:"t","\u1D75":"t",\u01AB:"t",\u0288:"t",\u0167:"t","\u1D7A":"th",\u0250:"a","\u1D02":"ae",\u01DD:"e","\u1D77":"g",\u0265:"h","\u02AE":"h","\u02AF":"h","\u1D09":"i",\u029E:"k","\uA781":"l",\u026F:"m",\u0270:"m","\u1D14":"oe",\u0279:"r",\u027B:"r",\u027A:"r","\u2C79":"r",\u0287:"t",\u028C:"v",\u028D:"w",\u028E:"y","\uA729":"tz",\u00FA:"u",\u016D:"u",\u01D4:"u",\u00FB:"u",\u1E77:"u",\u00FC:"u",\u01D8:"u",\u01DA:"u",\u01DC:"u",\u01D6:"u",\u1E73:"u",\u1EE5:"u",\u0171:"u",\u0215:"u",\u00F9:"u",\u1EE7:"u",\u01B0:"u",\u1EE9:"u",\u1EF1:"u",\u1EEB:"u",\u1EED:"u",\u1EEF:"u",\u0217:"u",\u016B:"u",\u1E7B:"u",\u0173:"u","\u1D99":"u",\u016F:"u",\u0169:"u",\u1E79:"u",\u1E75:"u","\u1D6B":"ue","\uA778":"um","\u2C74":"v","\uA75F":"v",\u1E7F:"v",\u028B:"v","\u1D8C":"v","\u2C71":"v",\u1E7D:"v","\uA761":"vy",\u1E83:"w",\u0175:"w",\u1E85:"w",\u1E87:"w",\u1E89:"w",\u1E81:"w","\u2C73":"w",\u1E98:"w",\u1E8D:"x",\u1E8B:"x","\u1D8D":"x",\u00FD:"y",\u0177:"y",\u00FF:"y",\u1E8F:"y",\u1EF5:"y",\u1EF3:"y",\u01B4:"y",\u1EF7:"y","\u1EFF":"y",\u0233:"y",\u1E99:"y","\u024F":"y",\u1EF9:"y",\u017A:"z",\u017E:"z",\u1E91:"z",\u0291:"z","\u2C6C":"z",\u017C:"z",\u1E93:"z",\u0225:"z",\u1E95:"z","\u1D76":"z","\u1D8E":"z",\u0290:"z",\u01B6:"z","\u0240":"z",\u00FE:"th",\uFB00:"ff",\uFB03:"ffi",\uFB04:"ffl",\uFB01:"fi",\uFB02:"fl",\u0133:"ij",\u0153:"oe",\uFB06:"st","\u2090":"a","\u2091":"e","\u1D62":"i","\u2C7C":"j","\u2092":"o","\u1D63":"r","\u1D64":"u","\u1D65":"v","\u2093":"x",\u0401:"YO",\u0419:"I",\u0426:"TS",\u0423:"U",\u041A:"K",\u0415:"E",\u041D:"N",\u0413:"G",\u0428:"SH",\u0429:"SCH",\u0417:"Z",\u0425:"H",\u042A:"'",\u0451:"yo",\u0439:"i",\u0446:"ts",\u0443:"u",\u043A:"k",\u0435:"e",\u043D:"n",\u0433:"g",\u0448:"sh",\u0449:"sch",\u0437:"z",\u0445:"h",\u044A:"'",\u0424:"F",\u042B:"I",\u0412:"V",\u0410:"a",\u041F:"P",\u0420:"R",\u041E:"O",\u041B:"L",\u0414:"D",\u0416:"ZH",\u042D:"E",\u0444:"f",\u044B:"i",\u0432:"v",\u0430:"a",\u043F:"p",\u0440:"r",\u043E:"o",\u043B:"l",\u0434:"d",\u0436:"zh",\u044D:"e",\u042F:"Ya",\u0427:"CH",\u0421:"S",\u041C:"M",\u0418:"I",\u0422:"T",\u042C:"'",\u0411:"B",\u042E:"YU",\u044F:"ya",\u0447:"ch",\u0441:"s",\u043C:"m",\u0438:"i",\u0442:"t",\u044C:"'",\u0431:"b",\u044E:"yu"};function j1e(i,e){if(!Array.isArray(i)||!Array.isArray(e))throw new TypeError("both parameters have to be an array");if(i.length!==e.length)return!1;for(var t=0;t<i.length;t++)if(i[t]!==e[t])return!1;return!0}function qz(i){i=Xz(i),i=Hz(i);var e=X2("OR",i),t=e.map(function(n){for(var r=X2("AND",n),s=[],l=[],o=0;o<r.length;o++)nw(r[o])?s.push(qz(r[o])):l.push(r[o]);return s.push([l]),xz(s)});return Zz(t)}function Hz(i){return i.replace(/[\s]+/g," ")}function Vz(i,e){var t=[];return i.forEach(function(n){e.forEach(function(r){t.push(Gz(n,r))})}),t}function xz(i){for(var e=[[]],t=0;t<i.length;t++)e=Vz(e,i[t]);return e}function Y1e(i,e){var t=e?i:i.map(function(n){return n.sort()});return t.reduce(function(n,r){for(var s=0;s<n.length;s++)if(j1e(n[s],r))return n;return n.push(r),n},[])}function Gz(i,e){return i.concat(e)}function Zz(i){for(var e=i[0],t=1;t<i.length;t++)e=e.concat(i[t]);return e}function Xz(i){if(i.charAt(0)==="("){for(var e=0,t=0;t<i.length;t++)if(i.charAt(t)==="("?e++:i.charAt(t)===")"&&e--,e===0)return t!==i.length-1?i:i.substring(1,i.length-1)}return i}function nw(i){return!!~i.search(/\(|\)/)}function X2(i,e){for(var t=e.split(" "+i+" "),n=[],r=[],s=0;s<t.length;s++)if(nw(t[s])||r.length>0){r.push(t[s]);var l=""+r,o=(l.match(/\(/g)||[]).length,a=(l.match(/\)/g)||[]).length;o===a&&(n.push(r.join(" "+i+" ")),r=[])}else n.push(t[s]);return n}var U1e={deduplicateOr:Y1e,andAndMerge:Gz,orAndOrMerge:Vz,orsAndMerge:xz,mergeOrs:Zz,splitRoot:X2,removeDoubleWhiteSpace:Hz,removeOuterBrackets:Xz,parseBooleanQuery:qz,containsBrackets:nw};const W1e=i=>(i=t1(i.toLowerCase()).replace(/\s(and|or)\s/g,(e,t)=>` ${t.toUpperCase()} `),U1e.parseBooleanQuery(i)),Kz={escape(i){return i.replace(/[@.*+?^${}()|[\]\\]/g,"\\$&")}},q1e=Kz.escape;function H1e(i,e){let t;return e&&e.fields?t=e.fields.map(n=>i[n]).join(" ").toLowerCase():t=JSON.stringify(i).toLowerCase(),t=t1(t.replace(/\n/g," ").replace(/(\'|,|\.|\?|\!|\"|\:|\)|\()/gi," ")),t}function V1e(i,e,t){let n=[];if(t=t||{fuzzy:!1},i&&i.length>1){let r=W1e(i);e.forEach(s=>{let l=H1e(s,t);r.forEach(o=>{let a=[];o.forEach(u=>{const c=Kz.escape(u);let f=`(${c})(\\s|$)`;(t.fuzzy&&l.search(c)>-1||!t.fuzzy&&l.match(new RegExp(f,"gi")))&&a.push(!0)}),a.length==o.length&&n.indexOf(s)==-1&&n.push(s)})})}return n}const Jz=(i,e)=>{var r,s;let t=i||[];e=e||{fuzzy:!1};let n;if(typeof e.search=="object"?n=t1(`${e.search.prefix}${e.search.id}`):e.search&&(n=t1(e.search)),n&&(t=V1e(n,i,{fields:["note"],fuzzy:e.fuzzy})),e.start||e.end){let l=(r=e.start.startOf("day"))==null?void 0:r.valueOf(),o=(s=e.end)==null?void 0:s.endOf("day").valueOf();t=t.filter(a=>{a=a instanceof gn?a:new gn(a);let u=!1;return l&&o?u=a.end.getTime()>=l&&a.end.getTime()<=o:e.start?u=a.end.getTime()>=l:e.end&&(u=a.end.getTime()<=o),u})}return e.limit&&(t=t.filter((l,o)=>o<=e.limit)),t};function x1e(i){if(!(i instanceof Array))throw new Error("Logs must be an array");let e={};return i.forEach(t=>{t=t instanceof gn?t:new gn(t),t.trackers||t.getMeta(),t.people.forEach(n=>{let r=`@${n.id}`;e[r]=e[r]||{values:[1],tag:`#${r}`,hours:[],logs:[],dates:[]}}),t.context.forEach(n=>{let r=`+${n.id}`;e[r]=e[r]||{values:[1],tag:`+${r}`,hours:[],logs:[],dates:[]}}),t.trackers.forEach(n=>{let r=`#${n.id}`;e[r]=e[r]||{values:[],tag:r,hours:[],logs:[],dates:[]};let s=gi(n.value),l=isNaN(s)?1:s;e[r].values.push(l),e[r].dates.push(t.end),e[r].logs.indexOf(t)==-1&&e[r].logs.push(t);let o=parseInt(Te(t.end).format("H"));e[r].hours.indexOf(o)==-1&&e[r].hours.push(o)})}),e}function Qz(i){if(!(i instanceof Array))throw new Error("Logs must be an array");let e={};return i.forEach(t=>{t=t instanceof gn?t:new gn(t),t.trackers||t.getMeta(),t.trackers.forEach(n=>{let r=n.id;e[r]=e[r]||{values:[],tag:r,hours:[],logs:[]};let s=gi(n.value),l=isNaN(s)?1:s;e[r].values.push(l),e[r].logs.indexOf(t)==-1&&e[r].logs.push(t);let o=parseInt(Te(t.end).format("H"));e[r].hours.indexOf(o)==-1&&e[r].hours.push(o)})}),e}class G1e{constructor(e,t){je(this,"storage");je(this,"importer");je(this,"bookPathLookup");je(this,"anyDateToDayjs",e=>Te(e));this.storage=e,this.bookPathLookup=t}getDateOfWeek(e,t){let n=1+(e-1)*7;return new Date(t,0,n)}async getBook(e,t=!1){let n=await this.storage.get(this.bookPathLookup(e)),r=n instanceof Array?n:[];if(!(t&&!n))return r.map(s=>new gn(s)).filter(s=>s.isValid())}async saveBook(e,t){if(t instanceof Array)return await this.storage.put(this.bookPathLookup(e),t);throw new Error("invalid book content provided. save failed")}prepareLogForSave(e){let t=new gn(e);return t.end=t.end||new Date().getTime(),t.start=t.start||t.end-1e3,t.note=t.note.trim(),t.source=t.source||"n6",delete t._dirty,t}hashTrackersSummary(e){let t=Object.keys(e).map(n=>`${n}-${e[n].values.join(",")}`);return Jn(t.join(","))}getTrackersAndValuesFromLogs(e){return Qz(e)}getTrackablesFromLogs(e){return x1e(e)}listBooks(){return this.storage.list().then(e=>e.filter(t=>t.search(/books(-|_|\/)/g)>-1&&t.search("_last")===-1))}async getFirstDate(e=!1){let t={date:null,lastChecked:null},n=this.storage.local.get("firstBook")||t;if((n.lastChecked?Math.abs(Te(n.lastChecked).diff(Te(),"day")):100)>2||e){const s=await this.listBooks();if(s.length){let o=s.map(a=>{let u=a.split("/"),c=u[u.length-1].split("-"),f=parseInt(c[0]),d=parseInt(c[1]),m=parseInt(c[2]);if(!isNaN(f)&&!isNaN(m)){d=isNaN(d)?1:d;let p=`${f}-${d}-${m}1`;return Te(p)}else return null}).filter(a=>a).sort((a,u)=>a.unix()>u.unix()?1:-1)[0];return o&&this.storage.local.put("firstBook",{date:o.toDate().getTime(),lastChecked:new Date().getTime()}),o}else return Te()}else return Te(n.date)}async getMemories(e){let t=[],n=await this.getFirstDate(),r=Te().diff(n,"year");if(r>1)for(var s=0;s<r;s++)s!==0&&s<6&&t.push(Te().subtract(s,"year"));else Te().diff(n,"month")>5&&t.push(Te().subtract(6,"month"));let l=[];t.filter(u=>u).forEach(u=>{l.push(e(u))});let o=await Promise.all(l),a=[];return o.forEach(u=>{u=u.filter(c=>AR(c.note)).sort((c,f)=>c.note.length<f.note.length?1:-1),u.length&&a.push(u[0])}),a}async query(e,t=[]){e=e||{},e.fresh=e.fresh!==!1,e.start=e.start?this.anyDateToDayjs(e.start):Te().subtract(30,"day"),e.end=e.end?this.anyDateToDayjs(e.end):Te().endOf("day");let n=e.start.startOf("day"),r=e.end.endOf("day");const s=xue(n,r),l=async()=>{let c=[],f=10,d=e1.chunk(s,f);for(var m=0;m<d.length;m++)(await a(d[m])).forEach(g=>{g.forEach(k=>{k=k instanceof gn?k:new gn(k),c.find($=>$._id==k._id)||c.push(k)})});return c};let o={...t};const a=async c=>{let f=[];return c.forEach(d=>{if(o[d]=o[d]||[],e.fresh!==!1){let m=this.getBook(d);m.then(p=>{o[d]=p}),f.push(m)}else f.push(Promise.resolve(o[d]))}),Promise.all(f)};let u=async()=>{let c=await l();return Jz(c,e)};try{let c=await u();return{books:o,logs:c.sort((f,d)=>f.end<d.end?1:-1)}}catch(c){console.error("Error caught ",c);return}}}const di=(i={})=>ia(JSON.stringify(i));var Z1e=function(i,e,t,n){var r=typeof n<"u"?[n,i]:[i],s=new Blob(r,{type:t||"application/octet-stream"});if(typeof window.navigator.msSaveBlob<"u")window.navigator.msSaveBlob(s,e);else{var l=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(s):window.webkitURL.createObjectURL(s),o=document.createElement("a");o.style.display="none",o.href=l,o.setAttribute("download",e),typeof o.download>"u"&&o.setAttribute("target","_blank"),document.body.appendChild(o),o.click(),setTimeout(function(){document.body.removeChild(o),window.URL.revokeObjectURL(l)},200)}};function Lb(i,e,t){Z1e(e,i)}const X1e=async i=>new Promise(e=>{const t=document.createElement("input");t.accept=i,t.type="file",t.id="file-uploader",t.addEventListener("change",r),t.style.height="0px",t.style.width="0px",t.style.overflow="hidden",t.style.position="absolute",t.style.bottom="-300px",document.body.appendChild(t),t.click();const n=s=>{t.remove();let l=new FileReader;try{l.onload=async o=>{let a=o.target.result;const u={data:null,file:null};u.data=a,u.file=s,e(u),t.remove()},l.readAsText(s)}catch(o){alert(o.message)}};function r(s){let l=s.target.files;n(l[0])}}),kh={csv(i="download.csv",e){i=i.search(".json")==-1?`${i}.csv`:i,Lb(i,e)},json(i="download.json",e){typeof e=="object"&&(e=JSON.stringify(e)),i=i.search(".json")==-1?`${i}.json`:i,Lb(i,e)},text(i="download.json",e){Lb(i,e)},file(i){const e=window.URL.createObjectURL(i),t=document.createElement("a");t.href=e,t.setAttribute("download",i.name),document.body.appendChild(t),t.click(),document.body.removeChild(t)}};var K1e=$R,J1e=K1e(function(i,e,t){return i+(t?"_":"")+e.toLowerCase()}),Q1e=J1e;const Sf=i=>Object.keys(i).map(e=>{const t=i[e];return t.id=t.tag,t}),e0e=i=>{let e;switch(i.type){case"tracker":e=i.id.replace("#","");break;case"person":e=i.id.replace("@","");break;case"context":e=i.id.replace("+","");break}return{id:e,type:i.type,value:i.value,raw:i.tag,prefix:i==null?void 0:i.tag.substring(0,1)}},t0e=(i,e)=>{const t=tp(i);if(t){const n={value:t.value},r=Sf(e).find(l=>l.id===`${t.prefix}${t.id}`);if(r)return r.value=gi(t.value),r;t.type==="tracker"?(n.type="tracker",n.tracker=new qi({tag:t.id})):t.type==="person"?(n.type="person",n.id=i,n.person=new Xa({username:t.id})):t.type==="context"&&(n.type="context",n.context=t.id);const s=new Wi(n);return n.value&&n.value>1&&n.type=="tracker"&&(s.tracker.type="value"),s}else return},n0e=i=>({color:i.color,emoji:i.emoji,avatar:i.avatar,label:i.label}),Nd=i=>i.replace(/(\@|\+\#)/gi,"").trim().replace(/[^A-Z0-9]/gi,"_").toLowerCase(),i0e=(i,e="6.0.0")=>{let t={type:"trackables",trackables:i,created:new Date,version:e};kh.text(`${Q1e(i.map(n=>n.label).join("-")).toLowerCase()}.trackables.json`,JSON.stringify(t))};function r0e(i){let e,t,n,r,s,l,o,a;return{c(){e=ye("svg"),t=ye("path"),n=ye("defs"),r=ye("linearGradient"),s=ye("stop"),l=ye("stop"),h(t,"fill-rule","evenodd"),h(t,"clip-rule","evenodd"),h(t,"d","M144.231 93.0684C157.461 93.0684 168.187 103.822 168.187 117.087C168.187 128.223 160.626 137.589 150.371 140.308C147.068 141.244 145.033 145.107 145.033 149.537C145.033 154.672 148.35 158.836 152.442 158.836C152.954 158.836 153.453 158.77 153.978 158.561C176.258 153.853 192.982 134.317 192.982 110.577C192.982 105.372 192.243 100.333 190.753 95.6224C178.308 58.6338 143.421 32 102.33 32C93.2252 32 84.4242 33.3075 76.1047 35.7452C76.0196 35.6756 75.7835 35.5509 75.5213 35.4124C75.2538 35.2711 74.9593 35.1156 74.7705 34.9897C70.878 30.8598 21.0251 33.1017 18.1813 52.487C16.7823 55.6322 16.8383 59.1629 16.8977 62.9063C16.9064 63.458 16.9152 64.0144 16.9195 64.5748C16.9831 72.9706 20.3487 80.2234 20.3487 80.2234C20.3487 80.2234 20.2078 80.0849 17.9697 84.706C11.5604 97.4049 6.37874 115.18 6.37874 130.357C6.37874 132.632 6.45975 134.889 6.61886 137.123C4.59952 139.584 -0.702874 147.397 3.64329 157.345C3.64329 157.345 4.64056 158.819 4.68377 156.861C4.11422 151.659 5.32946 147.189 7.67995 146.031C8.82656 152.868 10.708 159.455 13.2329 165.709C13.2329 166.504 17.3686 167.149 22.4703 167.149C27.572 167.149 31.7077 166.504 31.7077 165.709C33.7896 154.876 42.8863 146.615 54.299 146.615C65.6191 146.615 75.0637 154.665 77.1584 165.551C77.1584 166.903 84.1908 168 92.8653 168C101.54 168 108.572 166.903 108.68 165.508C106.217 159.12 104.867 152.176 104.867 144.917C104.867 138.935 105.784 133.169 107.484 127.75C107.507 127.612 107.531 127.475 107.554 127.339L107.156 128.387C107.305 127.887 107.464 127.39 107.633 126.899C112.888 98.2194 137.257 94.0583 137.257 94.0583C139.532 93.4195 141.841 93.0684 144.231 93.0684Z"),h(t,"fill","url(#paint0_linear_1350_1998)"),h(s,"stop-color","#07B6F7"),h(l,"offset","1"),h(l,"stop-color","#059CE5"),h(r,"id","paint0_linear_1350_1998"),h(r,"x1","128.982"),h(r,"y1","36.309"),h(r,"x2","31.5105"),h(r,"y2","184.894"),h(r,"gradientUnits","userSpaceOnUse"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 196 196")},m(u,c){w(u,e,c),D(e,t),D(e,n),D(n,r),D(r,s),D(r,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:Z,o:Z,d(u){u&&y(e)}}}function s0e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class ej extends pe{constructor(e){super(),me(this,e,s0e,r0e,he,{size:0})}}function l0e(i){let e,t,n,r,s,l,o,a,u,c,f,d;return{c(){e=ye("svg"),t=ye("path"),n=ye("path"),r=ye("defs"),s=ye("linearGradient"),l=ye("stop"),o=ye("stop"),a=ye("linearGradient"),u=ye("stop"),c=ye("stop"),h(t,"d","M98.1333 105.765C122.33 105.765 142.016 86.079 142.016 61.8825C142.016 37.6861 122.33 18 98.1333 18C73.9369 18 54.2508 37.6861 54.2508 61.8825C54.2508 86.079 73.9369 105.765 98.1333 105.765Z"),h(t,"fill","url(#paint0_linear_1350_1980)"),h(n,"d","M163.957 177C166.986 177 169.442 174.547 169.442 171.515C169.442 142.872 152.416 122.655 126.069 111.416C124.628 110.795 122.997 110.827 121.591 111.497C106.736 118.45 89.5304 118.45 74.6761 111.497C73.2646 110.827 71.6335 110.795 70.1979 111.416C43.8507 122.655 26.8242 142.872 26.8242 171.515C26.8242 174.547 29.2803 177 32.3096 177H163.957Z"),h(n,"fill","url(#paint1_linear_1350_1980)"),h(l,"stop-color","#FF7AF5"),h(o,"offset","1"),h(o,"stop-color","#513162"),h(s,"id","paint0_linear_1350_1980"),h(s,"x1","54.2508"),h(s,"y1","18"),h(s,"x2","142.016"),h(s,"y2","105.765"),h(s,"gradientUnits","userSpaceOnUse"),h(u,"stop-color","#FF6FD8"),h(c,"offset","1"),h(c,"stop-color","#3813C2"),h(a,"id","paint1_linear_1350_1980"),h(a,"x1","26.8242"),h(a,"y1","110.972"),h(a,"x2","77.1714"),h(a,"y2","219.719"),h(a,"gradientUnits","userSpaceOnUse"),h(e,"height",f=i[0]+"px"),h(e,"width",d=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 196 196")},m(m,p){w(m,e,p),D(e,t),D(e,n),D(e,r),D(r,s),D(s,l),D(s,o),D(r,a),D(a,u),D(a,c)},p(m,[p]){p&1&&f!==(f=m[0]+"px")&&h(e,"height",f),p&1&&d!==(d=m[0]+"px")&&h(e,"width",d)},i:Z,o:Z,d(m){m&&y(e)}}}function o0e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class tj extends pe{constructor(e){super(),me(this,e,o0e,l0e,he,{size:0})}}function a0e(i){let e,t,n,r,s,l,o,a;return{c(){e=ye("svg"),t=ye("path"),n=ye("defs"),r=ye("linearGradient"),s=ye("stop"),l=ye("stop"),h(t,"d","M147.221 175.348L98.4961 149.338L49.7716 175.349C48.1847 176.196 46.2081 176.218 44.5979 175.407C42.9877 174.595 41.9922 173.076 41.9922 171.429V24.5705C41.9922 22.0465 44.2921 20.0002 47.1289 20.0002H149.863C152.7 20.0002 155 22.0465 155 24.5705V171.429C155 173.076 154.005 174.595 152.394 175.407C150.787 176.216 148.81 176.197 147.221 175.348Z"),h(t,"fill","url(#paint0_linear_1350_1976)"),h(s,"stop-color","#FD3A84"),h(l,"offset","1"),h(l,"stop-color","#FFA68D"),h(r,"id","paint0_linear_1350_1976"),h(r,"x1","155.122"),h(r,"y1","176"),h(r,"x2","104.988"),h(r,"y2","17.9411"),h(r,"gradientUnits","userSpaceOnUse"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 196 196")},m(u,c){w(u,e,c),D(e,t),D(e,n),D(n,r),D(r,s),D(r,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:Z,o:Z,d(u){u&&y(e)}}}function u0e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class nj extends pe{constructor(e){super(),me(this,e,u0e,a0e,he,{size:0})}}const ij="last-known-board",ap=()=>localStorage.getItem(ij)||"main",rj=i=>{localStorage.setItem(ij,i)},c0e=async i=>{let e;return ol.update(t=>(t.boards=t.boards.filter(n=>n.id!==i.id),t.hash=di(t.boards),e=t,t)),await $0(e.boards)},f0e={activeId:ap(),boards:[],editMode:!1,hash:"",dynamicBoards:{all:void 0,people:void 0,now:void 0,context:void 0},loaded:!1},ol=rn(f0e),d0e=()=>{let i;return ol.update(e=>(i=e,e)),i},h0e=()=>{const i=Op(),e=d0e();return lj(e,i).find(n=>(n==null?void 0:n.id)==e.activeId)},sj=()=>{ol.update(i=>(i.editMode=!i.editMode,i))},m0e=()=>{ol.update(i=>(i.editMode=!1,i))},yh=async()=>{let i=await _n.get(Ii.storage.boards())||[];if(!i.length){const e={id:"main",label:"Main",elements:[]};i.push(e)}return i=i.filter(e=>e).filter(e=>e.id!=="all").map(e=>{const t=e;return t.trackers&&(e.elements=e.elements||[],e.elements=[...e.elements,...t.trackers.map(n=>`#${n}`.replace("##","#"))],delete e.trackers),e.elements=e.elements||[],e}).filter(e=>e),i},lj=(i,e)=>{var l,o,a;const t=i.dynamicBoards.people,n=i.dynamicBoards.context,r=i.dynamicBoards.all;let s=[];return e.allBoard&&(l=r==null?void 0:r.elements)!=null&&l.length&&(s=[...s,r]),e.peopleBoard&&(o=t==null?void 0:t.elements)!=null&&o.length&&(s=[...s,t]),e.contextBoard&&(a=n==null?void 0:n.elements)!=null&&a.length&&(s=[...s,n]),s=[...s,...i.boards],hf(s.filter(u=>u),"id")},Up=ds(ol,i=>{const e=Op();return lj(i,e).map(n=>(i.activeId==n.id?n.active=!0:n.active=!1,n))}),w0=ds(Up,i=>i.find(t=>t==null?void 0:t.active)),n1=async i=>{let e=await yh();const t=Sf(i);ol.update(n=>(n.boards=e,n.hash=di(e),n.dynamicBoards.people={label:"People",icon:tj,id:"_people",elements:t.filter(r=>r.person).map(r=>r.tag)},n.dynamicBoards.context={label:"Context",icon:nj,id:"_context",elements:t.filter(r=>r.type==="context").map(r=>r.tag)},n.dynamicBoards.all={label:"All",icon:ej,id:"_all",elements:t.filter(r=>r.type==="tracker").map(r=>r.tag)},n.boards.find(r=>r.id==ap())?n.activeId=ap():n.activeId=e.length?e[0].id:void 0,n.loaded=!0,n))},$0=async i=>await _n.put(Ii.storage.boards(),i).catch(e=>{console.error(e.message)}),iw=async i=>{try{return await $0(i),ol.update(e=>(e.boards=i,e.hash=di(i),e)),!0}catch(e){return console.error(e),!1}},p0e=async i=>{const e=await yh(),t=i.filter(r=>r.id!=="_all"),n=e.filter(r=>!t.find(s=>s.id===r.id));if(n.length)console.error("Cannot save the boards, we have missing data"),console.table(n);else{const r=t.map(l=>l.id).join(","),s=e.map(l=>l.id).join(",");r!=s&&await iw(t)}return!1},_0e=async i=>{let t={id:Jn(new Date().getTime()+i).substring(0,10),label:i,elements:[]};return new Promise((n,r)=>{ol.update(s=>(s.boards.push(t),s.hash=di(s.boards),s.activeId=t.id,rj(t.id),_n.put(Ii.storage.boards(),s.boards).then(()=>{n(t)}).catch(r),s))})},i1=async(i,e)=>{let t=i.map(s=>s.tag);const r=(await yh()).filter(s=>s).map(s=>(s.id==(e==null?void 0:e.id)&&t.map(l=>(s.elements.indexOf(l)===-1&&s.elements.push(l),l)),s));r&&r.length&&(await $0(r),ol.update(s=>(s.boards=r,s.hash=di(r),s)))};let J6;const K2=i=>{const e=typeof i=="string"?i:i==null?void 0:i.id;clearTimeout(J6),J6=setTimeout(()=>{i&&(rj(e),ol.update(t=>(t.activeId=e,t.boards=[...t.boards],t.hash=di(t.boards),t)))},60)},Tf=(i,e)=>{const t=[],{update:n,subscribe:r,set:s}=rn(t);let l={};const o=async g=>{l=g;const k=(await _n.get(i)||[]).map($=>e.itemInitializer?e.itemInitializer($):$);return n($=>k),e.onInitalized&&e.onInitalized(k,l),k},a=async g=>{const k=g.map($=>e.itemSerializer?e.itemSerializer($):$);return await _n.put(i,k),g},u=async g=>{let k;return n($=>(k=[...c($,g,e.key)],k)),await a(k)},c=(g,k,$)=>{let C=!1,E=g.map(S=>{let T=S[$],M=k[$];return T==M?(C=!0,k):S});return C||E.push(k),E};return{init:o,upsert:u,upsertMany:async g=>{let k;return n($=>(k=$,g.forEach(C=>{k=c(k,C,e.key)}),[...k])),await a(k)},remove:async g=>{let k;return n($=>(k=$.filter(C=>C[e.key]!==g[e.key]),[...k])),await a(k)},update:n,updateSync:async g=>{let k;return n($=>(k=g($),[...k])),await a(k)},subscribe:r,set:s,rawState:()=>{let g;return n(k=>(g=k,k)),g}}};new lc("\u{1F5FA} $ContextStore");const Wp=Tf(Ii.storage.context(),{key:"tag",label:"Context",itemInitializer:i=>new r0(i),itemSerializer:i=>i.asObject}),su=Zy(Ii.storage.people(),{label:"People",key:"username",itemInitializer(i){return new Xa(i)},itemSerializer(i){return JSON.parse(JSON.stringify(i))}});ds(su,i=>Object.keys(i).map(e=>i[e]));const Ls=Zy(Ii.storage.trackers(),{label:"Trackers",key:"tag",itemSerializer:i=>i.asObject,itemInitializer:i=>new qi(i)}),oj=async(i,e)=>{let t;return await Ls.updateSync(n=>{switch(t=new qi(n[i.tag]),t.timeTracked=n[i.tag].timeTracked||t.default,e){case"start":t.started=new Date().getTime();break;case"stop":t.timeTracked+=(new Date().getTime()-n[i.tag].started)/1e3,t.started=void 0}return n[i.tag]=t,n}),Af(),t},aj=async i=>await oj(i,"start"),uj=async i=>await oj(i,"stop"),lg=async(i,e=0)=>{let t;return await Ls.updateSync(n=>(t=new qi(n[i.tag]),t.timeTracked=e,t.started=void 0,n[i.tag]=t,n)),Af(),t},g0e=i=>Object.keys(i).map(e=>i[e]).filter(e=>e.started),F0=ds(Ls,i=>g0e(i));ds(Ls,i=>Object.keys(i).map(e=>i[e]));const v0e={trackables:{},ready:!1},en=rn(v0e),b0e=ds(en,i=>i.trackables),k0e=ds(en,i=>{let e=i.trackables;return Object.keys(e).map(t=>e[t])}),y0e=ds(en,i=>Object.keys(i.trackables).map(t=>i.trackables[t]).filter(t=>t).filter(t=>t.type=="tracker")),w0e=ds(en,i=>Object.keys(i.trackables).map(t=>i.trackables[t]).filter(t=>t.type=="person")),$0e=ds(en,i=>Object.keys(i.trackables).map(t=>i.trackables[t]).filter(t=>t.type=="context")),Fd={},cj=async()=>{const i=await Promise.all([su.init(),Ls.init(),Wp.init()]),e=i[0]||{},t=i[1]||{},n=i[2]||[];return Object.keys(e||{}).map(r=>{const l=new Xa(e[r]).toTrackable();Fd[l.tag]=l}),Object.keys(t||{}).map(r=>{const s=new qi(t[r]);if(s){const l=s.toTrackable();Fd[l.tag]=l}}),n.length&&n.forEach(r=>{const s=r.toTrackable();Fd[s.tag]=s}),Fd},Af=async()=>{const i=await cj();return en.update(e=>(delete i["#"],e.trackables=i,e.ready=!0,e)),i},E0=async({trackable:i,known:e,permissions:t,prompt:n=!0,saveToActiveBoard:r=!0})=>{var s;try{let l=!1;if(i.type==="tracker"){if(!i.tracker.tag)throw new Error("Tracker missing data");l=await E0e([i])}else i.type==="person"?l=await su.upsert(i.person):i.type==="context"&&(l=await Wp.upsert(i.ctx));if(r){const o=h0e();o&&!o.elements.find(a=>a==i.tag)&&(n===!0&&((s=o==null?void 0:o.id)==null?void 0:s.substring(0,1))!=="_"?await at.confirm(`Add ${i.tag} to ${o.label}?`)&&i1([i],o):i1([i],o))}return l}catch(l){return at.alert(l.message),!1}},F0e=async(i,e)=>{(e?await at.confirm("Remove Official Trackable?","No tracked data will be deleted, only this trackable."):!0)&&(i.type=="tracker"&&i.tracker?await Ls.remove(i.tracker):i.type=="person"&&i.person?await su.remove(i.person):i.type=="context"&&i.ctx&&await Wp.remove(i.ctx),qn({message:Fe.t("general.removed","Removed")}))},E0e=async i=>{try{const e={};return i.filter(t=>t.type==="tracker").map(t=>{e[t.tracker.tag]=t.tracker}),await Ls.updateSync(t=>({...t,...e})),Af(),!0}catch(e){return console.error(e),!1}},C0e={date:Te(),usage:{},usageHash:"",showController:!1},Zo=rn(C0e),D0e=()=>{Zo.update(i=>(i.showController=!0,i))},Vu=async i=>{const e=Te(i.date||new Date),t=await dn.query({start:e.startOf("day"),end:e.endOf("day"),caller:"today-store"}),n=_o(t,{trackables:i.knownTrackables||{},caller:"$TodayStore.loadToday"});Zo.update(r=>(r.date=e,r.usage=n,r.usageHash=di(n),i.showController===!1&&(r.showController=!1),r))},Ob="0123456789bcdefghjkmnpqrstuvwxyz";class Wr{static encode(e,t,n){if(typeof n>"u"){for(let d=1;d<=12;d++){const m=Wr.encode(e,t,d),p=Wr.decode(m);if(p.lat==e&&p.lon==t)return m}n=12}if(e=Number(e),t=Number(t),n=Number(n),isNaN(e)||isNaN(t)||isNaN(n))throw new Error("Invalid geohash");let r=0,s=0,l=!0,o="",a=-90,u=90,c=-180,f=180;for(;o.length<n;){if(l){const d=(c+f)/2;t>=d?(r=r*2+1,c=d):(r=r*2,f=d)}else{const d=(a+u)/2;e>=d?(r=r*2+1,a=d):(r=r*2,u=d)}l=!l,++s==5&&(o+=Ob.charAt(r),s=0,r=0)}return o}static decode(e){const t=Wr.bounds(e),n=t.sw.lat,r=t.sw.lon,s=t.ne.lat,l=t.ne.lon;let o=(n+s)/2,a=(r+l)/2;return o=o.toFixed(Math.floor(2-Math.log(s-n)/Math.LN10)),a=a.toFixed(Math.floor(2-Math.log(l-r)/Math.LN10)),{lat:Number(o),lon:Number(a)}}static bounds(e){if(e.length==0)throw new Error("Invalid geohash");e=e.toLowerCase();let t=!0,n=-90,r=90,s=-180,l=180;for(let a=0;a<e.length;a++){const u=e.charAt(a),c=Ob.indexOf(u);if(c==-1)throw new Error("Invalid geohash");for(let f=4;f>=0;f--){const d=c>>f&1;if(t){const m=(s+l)/2;d==1?s=m:l=m}else{const m=(n+r)/2;d==1?n=m:r=m}t=!t}}return{sw:{lat:n,lon:s},ne:{lat:r,lon:l}}}static adjacent(e,t){if(e=e.toLowerCase(),t=t.toLowerCase(),e.length==0)throw new Error("Invalid geohash");if("nsew".indexOf(t)==-1)throw new Error("Invalid direction");const n={n:["p0r21436x8zb9dcf5h7kjnmqesgutwvy","bc01fg45238967deuvhjyznpkmstqrwx"],s:["14365h7k9dcfesgujnmqp0r2twvyx8zb","238967debc01fg45kmstqrwxuvhjyznp"],e:["bc01fg45238967deuvhjyznpkmstqrwx","p0r21436x8zb9dcf5h7kjnmqesgutwvy"],w:["238967debc01fg45kmstqrwxuvhjyznp","14365h7k9dcfesgujnmqp0r2twvyx8zb"]},r={n:["prxz","bcfguvyz"],s:["028b","0145hjnp"],e:["bcfguvyz","prxz"],w:["0145hjnp","028b"]},s=e.slice(-1);let l=e.slice(0,-1);const o=e.length%2;return r[t][o].indexOf(s)!=-1&&l!=""&&(l=Wr.adjacent(l,t)),l+Ob.charAt(n[t][o].indexOf(s))}static neighbours(e){return{n:Wr.adjacent(e,"n"),ne:Wr.adjacent(Wr.adjacent(e,"n"),"e"),e:Wr.adjacent(e,"e"),se:Wr.adjacent(Wr.adjacent(e,"s"),"e"),s:Wr.adjacent(e,"s"),sw:Wr.adjacent(Wr.adjacent(e,"s"),"w"),w:Wr.adjacent(e,"w"),nw:Wr.adjacent(Wr.adjacent(e,"n"),"w")}}}class Bu{constructor(e){je(this,"lat");je(this,"lng");je(this,"name");je(this,"hash");je(this,"id");this.lat=e.lat,this.lng=e.lng,this.name=e.name,this.hash=e.hash||this.getGeoHash(),this.id=e.id||`${this.hash}:${Jn(4)}`}getGeoHash(){return Wr.encode(this.lat,this.lng,10)}}const fj={between(i,e,t){t=t||"km";const n=i[0],r=i[1],s=e[0],l=e[1];if(n==s&&r==l)return 0;{let o=Math.PI*n/180,a=Math.PI*s/180,u=r-l,c=Math.PI*u/180,f=Math.sin(o)*Math.sin(a)+Math.cos(o)*Math.cos(a)*Math.cos(c);return f>1&&(f=1),f=Math.acos(f),f=f*180/Math.PI,f=f*60*1.1515,t=="km"?f=f*1.609344:f=f*.8684,f}},furthest(i,e){e=e||"nm";let t=0;if((i||[]).length>1){let n=i[0];i.forEach(r=>{let s=this.between(r,n,e);t<s&&(t=s)})}return t}},yl=Tf(Ii.storage.locations(),{label:"Locations",key:"id",itemInitializer:i=>new Bu(i),itemSerializer:i=>JSON.parse(JSON.stringify(i))}),S0e=(i,e)=>{let t=[...e].map(n=>({distance:fj.between([i.lat,i.lng],[n.lat,n.lng],"nm"),location:n})).sort((n,r)=>n.distance>r.distance?1:-1).find(n=>n.distance<.1);return t?t.location:null},dj=i=>{const e=yl.rawState();return S0e(i,e)},T0e=async i=>{const e=`https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/findAddressCandidates?outSr=4326&forStorage=false&outFields=*&maxLocations=5&singleLine=${encodeURIComponent(i.name)}&magicKey=${i.magicKey}&f=json`,r=(await(await fetch(e)).json()).candidates[0];if(r)return new Bu({lat:r.location.y,lng:r.location.x,name:i.name})},A0e=async i=>{const e=`https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/suggest?text=${encodeURIComponent(i)}&maxSuggestions=5&f=json`;return((await(await fetch(e)).json()).suggestions||[]).map(r=>({name:r.text,magicKey:r.magicKey}))};new lc("\u{1F5FA} locate.js");const Q6="loc-cache",wh=()=>{let i=()=>new Promise((e,t)=>{try{navigator.geolocation.getCurrentPosition(n=>{let r={time:new Date().getTime(),latitude:n.coords.latitude,lat:n.coords.latitude,longitude:n.coords.longitude,lng:n.coords.longitude};localStorage.setItem(Q6,JSON.stringify(r)),e(r)},n=>{t(n)},{timeout:3e3})}catch(n){t(n)}});return new Promise((e,t)=>{let n=JSON.parse(localStorage.getItem(Q6)||"null");try{n?new Date().getTime()-n.time<1e3*60*2?e({time:n.time,latitude:n.latitude,longitude:n.longitude}):navigator.geolocation?i().then(e).catch(t):t({message:"No geolocation service found"}):i().then(e).catch(t)}catch(r){t(r)}})};async function hj(i){if(Op().alwaysLocate)try{let n=await wh(),r=new Bu({lat:n.latitude,lng:n.longitude}),s=dj(r);return s&&s.name&&(r.name=s.name),r&&!i.lat&&(i.lat=r.lat,i.lng=r.lng,i.location=r.name),i}catch(n){return console.error("Non-fatal location error",n.message),i}else return i}let zo;const P0e=()=>{let i={books:{},booksLastUpdate:{},today:{},count:0,saving:!1,hash:null,memories:[]};zo=new G1e(_n,Ii.storage.book);function e(l={}){let o;return s(a=>(o={...a,...l,hash:t.getHash(a)},o)),o}const t={hooks:new CR,async init(){return!0},filterLogs(l,o){return Jz(l,o||{})},hook(l,o){return t.hooks.hook(l,o)},async getBook(l,o=!1){return await zo.getBook(l,o)},async putBook(l,o){return await zo.saveBook(l,o)},async getFirstDate(l=!1){return zo.getFirstDate(l)},async listBooks(){return zo.listBooks()},getLastUsed(){alert("FIX THIS LedgerStore line 173")},extractTrackerTagAndValues(l){return zo.getTrackablesFromLogs(l)},async locateIfNeeded(l){return await hj(l)},async updateLog(l,o){{t.hooks.run("onBeforeUpdate",l),nf.update(k=>!0),l.modified=new Date().getTime();let a=l.bookId,u=wd(o),c=a===u,f=await t.getBook(a),d;const m=f.findIndex(k=>k._id==l._id);m>-1?f[m]=l:f.push(l),c||(d=await t.getBook(u),d=d.filter(k=>k._id!==l._id)),s(k=>(k.books[a]=f,c||(k.books[u]=d),k.hash=t.getHash(k),k)),nf.update(k=>!1);let p=[t.putBook(a,f)];c||p.push(t.putBook(u,d));let g=Promise.all(p).then(k=>k[0]);return t.hooks.run("onLogUpdate",l),g}},getLastUpdatePath(l){return Ii.storage.book(`${l}_last`)},async getLastUpdate(l){return await _n.get(t.getLastUpdatePath(l))},async getBookWithSync(l){try{const o=await _n.get(Ii.storage.book(l));return!o&&_n.storageType()=="firebase"?(qn({message:`Creating ${wd(new Date)} in Nomie Cloud`}),[]):o||[]}catch(o){throw at.error(o),o}},async getLog(l,o){let u=(await _n.get(Ii.storage.book(o))).find(c=>c._id==l);return u?new gn(u):null},async _saveLog(l,o){let a=e({saving:!0});try{let u=wd(l.end),c=Ii.storage.book(u),f=await t.getBookWithSync(u);!f.length&&a.books[u].length&&(console.error("NOTICE: I was not able to get the latest from the server as it returned an empty array. Instead, I'm just using the book that we have stored locally."),f=a.books[u]),f.push(l),await _n.put(c,f),a.books[u]=f;let d=new Date().toJSON(),m=t.getLastUpdatePath(u);setTimeout(()=>{_n.put(m,d),a.booksLastUpdate[u]=d},1),s(g=>(g.books=a.books,g.hash=t.getHash(g),g)),nf.update(g=>!1);const p=T1e(l);return qn({message:`${Fe.t("general.saved","Saved")}: ${Xae.truncate(l.note,100)}`,timeout:2200,type:"success",buttonLabel:"Undo",buttonClick:()=>{dn.deleteLogs([l]).then(async()=>{sl.updateSync(g=>({...g,...p})),await Vu({knownTrackables:Fd}),s(g=>(g.hash=`${Math.random()}`,g)),qn({message:"Undo complete"})})}}),o!=null&&o.silent||t.hooks.run("onLogSaved",l),{log:l,date:u}}catch(u){throw console.error(`_saveLog error: ${u.message}`),console.error(u),new Error(u.message)}},getHash(l){return Object.keys(l.books).map(o=>l.books[o].length).reduce((o,a)=>o+a).toString()},async deleteLogs(l){let o={};l.forEach(c=>{let f=wd(c.end);_n.storageType()=="firebase"&&Yhe(c),o[f]=o[f]||[],o[f].push(c._id)});let a=[];s(c=>(Object.keys(o).forEach(async f=>{let d=await t.getBook(f),m=o[f],p=d.filter(g=>m.indexOf(g._id)==-1);c.books[f]=p,a.push(t.putBook(f,p))}),c));let u=await Promise.all(a);return t.hooks.run("onLogsDeleted",u),u},async import(l,o){return await new N1e(_n,l,o,zo).import()},async queryAll(l,o,a){return(await t.query({start:o,end:a,search:l})).sort((c,f)=>c.end<f.end?1:-1)},async queryTag(l,o,a){return(await t.query({start:o,end:a,search:`#${l}`})).sort((c,f)=>c.end<f.end?1:-1)},async getDay(l){return t.query({start:Te(l).startOf("day"),end:Te(l).endOf("day")})},async getMemories(){let l=await zo.getMemories(t.getDay);s(o=>(o.memories=l,o))},getState(){let l;return s(o=>(l=o,o)),l},async query(l){let o=t.getState(),a=await zo.query(l,o.books);return l.fresh!==!1&&s(u=>(u.books={...u.books,...a.books},u.hash=t.getHash(u),u)),a.logs}},{subscribe:n,set:r,update:s}=rn(i);return{methods:t,update:s,subscribe:n,...t,reset(){return r(i)}}},dn=P0e(),nf=rn(!1),xu=async(i,e)=>{nf.update(r=>!0);const t=await N0e(i);let n;try{return n=await dn._saveLog(t,e),t.score>=2&&at.confetti({show:!0,timeout:2500}),nf.update(r=>!1),n}catch(r){console.error(`Error Saving log: ${r}`),nf.update(s=>!1),at.error(r.message)}return n},N0e=async(i,e)=>(i=await hj(i),i.score=i.score||Cf(i.note,i.end,e),i=zo.prepareLogForSave(i),i),rw=async(i,e)=>{const t=await dn.query(i);return _o(t,{trackables:e,caller:"queryToUsageMap"})},qp=async(i,e,t)=>(await rw(e,t))[i.tag]||new As({trackable:i,dates:[],values:[]}),sw=async(i,e,t,n)=>await qp(i,{start:e,end:t},n);let e5;const Ym=async(i,e)=>new Promise(t=>{e.note=i,clearTimeout(e5),e5=setTimeout(async()=>{await dn.updateLog(e),t(e)},200)});var po;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(po||(po={}));const mj="headlessui-open-closed-context";function pj(){return os(mj)}function _j(i){fo(mj,i)}function Zd(i,e,...t){if(i in e){let r=e[i];return typeof r=="function"?r(...t):r}let n=new Error(`Tried to handle "${i}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(r=>`"${r}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Zd),n}let M0e=0;function L0e(){return++M0e}function Hp(){return L0e()}var Dr;(function(i){i.Space=" ",i.Enter="Enter",i.Escape="Escape",i.Backspace="Backspace",i.ArrowLeft="ArrowLeft",i.ArrowUp="ArrowUp",i.ArrowRight="ArrowRight",i.ArrowDown="ArrowDown",i.Home="Home",i.End="End",i.PageUp="PageUp",i.PageDown="PageDown",i.Tab="Tab"})(Dr||(Dr={}));var t5;(function(i){i[i.First=1]="First",i[i.Previous=2]="Previous",i[i.Next=4]="Next",i[i.Last=8]="Last",i[i.WrapAround=16]="WrapAround",i[i.NoScroll=32]="NoScroll"})(t5||(t5={}));var n5;(function(i){i[i.Error=0]="Error",i[i.Overflow=1]="Overflow",i[i.Success=2]="Success",i[i.Underflow=3]="Underflow"})(n5||(n5={}));var i5;(function(i){i[i.Previous=-1]="Previous",i[i.Next=1]="Next"})(i5||(i5={}));var r5;(function(i){i[i.Strict=0]="Strict",i[i.Loose=1]="Loose"})(r5||(r5={}));var s5;(function(i){i[i.Add=0]="Add",i[i.Remove=1]="Remove"})(s5||(s5={}));const O0e="headlessui-description-context";function I0e(){return os(O0e)}const J2="!",B0e=new RegExp(`^[^${J2}]+(?:${J2}(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$`);function oc(i,e=[]){let t,n=[];i.$on=(s,l)=>{let o=s,a=()=>{};for(let u of e){if(typeof u=="string"&&u===o){const c=i.$$.callbacks[o]||(i.$$.callbacks[o]=[]);return c.push(l),()=>{const f=c.indexOf(l);f!==-1&&c.splice(f,1)}}if(typeof u=="object"&&u.name===o){let c=l;l=(...f)=>{typeof u=="object"&&u.shouldExclude()||c(...f)}}}return t?a=t(o,l):n.push([o,l]),()=>{a()}};function r(s){$l(i,s)}return s=>{const l=[],o={};t=(a,u)=>{let c=a,f=u,d=!1;if(c.match(B0e)){const k=c.split(J2);c=k[0];const $=Object.fromEntries(k.slice(1).map(C=>[C,!0]));$.passive&&(d=d||{},d.passive=!0),$.nonpassive&&(d=d||{},d.passive=!1),$.capture&&(d=d||{},d.capture=!0),$.once&&(d=d||{},d.once=!0),$.preventDefault&&(f=il(f)),$.stopPropagation&&(f=ic(f))}const p=Se(s,c,f,d),g=()=>{p();const k=l.indexOf(g);k>-1&&l.splice(k,1)};return l.push(g),c in o||(o[c]=Se(s,c,r)),g};for(let a=0;a<n.length;a++)t(n[a][0],n[a][1]);return{destroy:()=>{for(let a=0;a<l.length;a++)l[a]();for(let a of Object.entries(o))a[1]()}}}}const R0e=["a","address","article","aside","b","bdi","bdo","blockquote","button","cite","code","data","datalist","dd","dl","dt","div","em","footer","form","h1","h2","h3","h4","h5","h6","header","i","input","label","li","main","nav","ol","p","section","span","strong","ul"];function z0e(i){return!(typeof i=="string"&&!R0e.includes(i))}function zn(i,e){let t=[];if(e)for(let n=0;n<e.length;n++){const r=e[n],s=Array.isArray(r)?r[0]:r;Array.isArray(r)&&r.length>1?t.push(s(i,r[1])):t.push(s(i))}return{update(n){if((n&&n.length||0)!=t.length)throw new Error("You must not change the length of an actions array.");if(n)for(let r=0;r<n.length;r++){const s=t[r];if(s&&s.update){const l=n[r];Array.isArray(l)&&l.length>1?s.update(l[1]):s.update()}}},destroy(){for(let n=0;n<t.length;n++){const r=t[n];r&&r.destroy&&r.destroy()}}}}var wl;(function(i){i[i.None=0]="None",i[i.RenderStrategy=1]="RenderStrategy",i[i.Static=2]="Static"})(wl||(wl={}));function l5(i){let e,t,n,r;const s=[Eve,Fve,$ve,wve,yve,kve,bve,vve,gve,_ve,pve,mve,hve,dve,fve,cve,uve,ave,ove,lve,sve,rve,ive,nve,tve,eve,Q0e,J0e,K0e,X0e,Z0e,G0e,x0e,V0e,H0e,q0e,W0e,U0e,Y0e,j0e],l=[];function o(a,u){return a[1]==="a"?0:a[1]==="address"?1:a[1]==="article"?2:a[1]==="aside"?3:a[1]==="b"?4:a[1]==="bdi"?5:a[1]==="bdo"?6:a[1]==="blockquote"?7:a[1]==="button"?8:a[1]==="cite"?9:a[1]==="code"?10:a[1]==="data"?11:a[1]==="datalist"?12:a[1]==="dd"?13:a[1]==="dl"?14:a[1]==="dt"?15:a[1]==="div"?16:a[1]==="em"?17:a[1]==="footer"?18:a[1]==="form"?19:a[1]==="h1"?20:a[1]==="h2"?21:a[1]==="h3"?22:a[1]==="h4"?23:a[1]==="h5"?24:a[1]==="h6"?25:a[1]==="header"?26:a[1]==="i"?27:a[1]==="input"?28:a[1]==="label"?29:a[1]==="li"?30:a[1]==="main"?31:a[1]==="nav"?32:a[1]==="ol"?33:a[1]==="p"?34:a[1]==="section"?35:a[1]==="span"?36:a[1]==="strong"?37:a[1]==="ul"?38:39}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function j0e(i){let e,t,n,r;const s=[{use:[...i[2],i[6]]},i[7],i[3],{hidden:i[4]||void 0}];function l(u){i[58](u)}var o=i[1];function a(u){let c={$$slots:{default:[Cve]},$$scope:{ctx:u}};for(let f=0;f<s.length;f+=1)c=St(c,s[f]);return u[0]!==void 0&&(c.el=u[0]),{props:c}}return o&&(e=Un(o,a(i)),Oe.push(()=>Qe(e,"el",l,i[0]))),{c(){e&&B(e.$$.fragment),n=Ae()},m(u,c){e&&O(e,u,c),w(u,n,c),r=!0},p(u,c){const f=c[0]&220?Zt(s,[c[0]&68&&{use:[...u[2],u[6]]},c[0]&128&&Qr(u[7]),c[0]&8&&Qr(u[3]),c[0]&16&&{hidden:u[4]||void 0}]):{};if(c[1]&268435456&&(f.$$scope={dirty:c,ctx:u}),!t&&c[0]&1&&(t=!0,f.el=u[0],tt(()=>t=!1)),o!==(o=u[1])){if(e){ae();const d=e;v(d.$$.fragment,1,0,()=>{I(d,1)}),ue()}o?(e=Un(o,a(u)),Oe.push(()=>Qe(e,"el",l,u[0])),B(e.$$.fragment),_(e.$$.fragment,1),O(e,n.parentNode,n)):e=null}else o&&e.$set(f)},i(u){r||(e&&_(e.$$.fragment,u),r=!0)},o(u){e&&v(e.$$.fragment,u),r=!1},d(u){u&&y(n),e&&I(e,u)}}}function Y0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("ul"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[57](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[57](null),s=!1,Ot(l)}}}function U0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("strong"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[56](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[56](null),s=!1,Ot(l)}}}function W0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("span"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[55](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[55](null),s=!1,Ot(l)}}}function q0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("section"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[54](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[54](null),s=!1,Ot(l)}}}function H0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("p"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[53](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[53](null),s=!1,Ot(l)}}}function V0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("ol"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[52](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[52](null),s=!1,Ot(l)}}}function x0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("nav"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[51](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[51](null),s=!1,Ot(l)}}}function G0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("main"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[50](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[50](null),s=!1,Ot(l)}}}function Z0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("li"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[49](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[49](null),s=!1,Ot(l)}}}function X0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("label"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[48](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[48](null),s=!1,Ot(l)}}}function K0e(i){let e,t,n,r,s,l=[i[7],i[3],{hidden:t=i[4]||void 0}],o={};for(let a=0;a<l.length;a+=1)o=St(o,l[a]);return{c(){e=P("input"),Bt(e,o)},m(a,u){w(a,e,u),e.autofocus&&e.focus(),i[47](e),r||(s=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],r=!0)},p(a,u){Bt(e,o=Zt(l,[u[0]&128&&a[7],u[0]&8&&a[3],u[0]&16&&t!==(t=a[4]||void 0)&&{hidden:t}])),n&&ln(n.update)&&u[0]&4&&n.update.call(null,a[2])},i:Z,o:Z,d(a){a&&y(e),i[47](null),r=!1,Ot(s)}}}function J0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("i"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[46](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[46](null),s=!1,Ot(l)}}}function Q0e(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("header"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[45](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[45](null),s=!1,Ot(l)}}}function eve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("h6"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[44](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[44](null),s=!1,Ot(l)}}}function tve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("h5"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[43](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[43](null),s=!1,Ot(l)}}}function nve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("h4"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[42](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[42](null),s=!1,Ot(l)}}}function ive(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("h3"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[41](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[41](null),s=!1,Ot(l)}}}function rve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("h2"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[40](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[40](null),s=!1,Ot(l)}}}function sve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("h1"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[39](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[39](null),s=!1,Ot(l)}}}function lve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("form"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[38](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[38](null),s=!1,Ot(l)}}}function ove(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("footer"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[37](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[37](null),s=!1,Ot(l)}}}function ave(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("em"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[36](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[36](null),s=!1,Ot(l)}}}function uve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("div"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[35](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[35](null),s=!1,Ot(l)}}}function cve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("dt"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[34](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[34](null),s=!1,Ot(l)}}}function fve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("dl"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[33](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[33](null),s=!1,Ot(l)}}}function dve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("dd"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[32](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[32](null),s=!1,Ot(l)}}}function hve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("datalist"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[31](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[31](null),s=!1,Ot(l)}}}function mve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("data"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[30](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[30](null),s=!1,Ot(l)}}}function pve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("code"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[29](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[29](null),s=!1,Ot(l)}}}function _ve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("cite"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[28](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[28](null),s=!1,Ot(l)}}}function gve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("button"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),e.autofocus&&e.focus(),i[27](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[27](null),s=!1,Ot(l)}}}function vve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("blockquote"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[26](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[26](null),s=!1,Ot(l)}}}function bve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("bdo"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[25](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[25](null),s=!1,Ot(l)}}}function kve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("bdi"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[24](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[24](null),s=!1,Ot(l)}}}function yve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("b"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[23](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[23](null),s=!1,Ot(l)}}}function wve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("aside"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[22](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[22](null),s=!1,Ot(l)}}}function $ve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("article"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[21](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[21](null),s=!1,Ot(l)}}}function Fve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("address"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[20](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[20](null),s=!1,Ot(l)}}}function Eve(i){let e,t,n,r,s,l;const o=i[18].default,a=nt(o,i,i[59],null);let u=[i[7],i[3],{hidden:t=i[4]||void 0}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("a"),a&&a.c(),Bt(e,c)},m(f,d){w(f,e,d),a&&a.m(e,null),i[19](e),r=!0,s||(l=[Wt(n=zn.call(null,e,i[2])),Wt(i[6].call(null,e))],s=!0)},p(f,d){a&&a.p&&(!r||d[1]&268435456)&&rt(a,o,f,f[59],r?it(o,f[59],d,null):st(f[59]),null),Bt(e,c=Zt(u,[d[0]&128&&f[7],d[0]&8&&f[3],(!r||d[0]&16&&t!==(t=f[4]||void 0))&&{hidden:t}])),n&&ln(n.update)&&d[0]&4&&n.update.call(null,f[2])},i(f){r||(_(a,f),r=!0)},o(f){v(a,f),r=!1},d(f){f&&y(e),a&&a.d(f),i[19](null),s=!1,Ot(l)}}}function Cve(i){let e;const t=i[18].default,n=nt(t,i,i[59],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s[1]&268435456)&&rt(n,t,r,r[59],e?it(t,r[59],s,null):st(r[59]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Dve(i){let e,t,n=i[5]&&l5(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[5]?n?(n.p(r,s),s[0]&32&&_(n,1)):(n=l5(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}var Ha;(function(i){i[i.Unmount=0]="Unmount",i[i.Hidden=1]="Hidden"})(Ha||(Ha={}));function Sve(i,e,t){let n,r,s,l,o;const a=["name","as","slotProps","el","use","visible","features","unmount","static","class","style"];let u=mi(e,a),{$$slots:c={},$$scope:f}=e;const d=oc(Ms());let{name:m}=e,{as:p}=e,{slotProps:g}=e,{el:k=null}=e,{use:$=[]}=e,{visible:C=!0}=e,{features:E=wl.None}=e,{unmount:S=!0}=e,{static:T=!1}=e,{class:M=void 0}=e,{style:R=void 0}=e;if(!p)throw new Error(`<${m}> did not provide an \`as\` value to <Render>`);if(!z0e(p))throw new Error(`<${m}> has an invalid or unsupported \`as\` prop: ${p}`);function Y(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function z(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function j(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function V(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function x(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function ee(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function J(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function q(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function le(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function G(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function X(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function se(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function te(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function ie(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function re(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function be(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function we(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function De(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function Be(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function ze(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function ke(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function Ue(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function Ce(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function vt(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function $t(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function bt(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function Tt(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function It(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function Je(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function Pt(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function sn(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function Tn(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function Vn(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function An(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function xn(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function In(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function Hi(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function mt(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function dr(Ke){Oe[Ke?"unshift":"push"](()=>{k=Ke,t(0,k)})}function yi(Ke){k=Ke,t(0,k)}return i.$$set=Ke=>{e=St(St({},e),Qi(Ke)),t(7,u=mi(e,a)),"name"in Ke&&t(8,m=Ke.name),"as"in Ke&&t(1,p=Ke.as),"slotProps"in Ke&&t(9,g=Ke.slotProps),"el"in Ke&&t(0,k=Ke.el),"use"in Ke&&t(2,$=Ke.use),"visible"in Ke&&t(10,C=Ke.visible),"features"in Ke&&t(11,E=Ke.features),"unmount"in Ke&&t(12,S=Ke.unmount),"static"in Ke&&t(13,T=Ke.static),"class"in Ke&&t(14,M=Ke.class),"style"in Ke&&t(15,R=Ke.style),"$$scope"in Ke&&t(59,f=Ke.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&16896&&t(17,n=typeof M=="function"?M(g):M),i.$$.dirty[0]&33280&&t(16,r=typeof R=="function"?R(g):R),i.$$.dirty[0]&15360&&t(5,s=C||E&wl.Static&&T||!(E&wl.RenderStrategy&&S)),i.$$.dirty[0]&15360&&t(4,l=!C&&!(E&wl.Static&&T)&&E&wl.RenderStrategy&&!S),i.$$.dirty[0]&196624&&t(3,o={class:n,style:`${r!=null?r:""}${l?" display: none":""}`||void 0}),i.$$.dirty[0]&8&&o.style===void 0&&delete o.style},[k,p,$,o,l,s,d,u,m,g,C,E,S,T,M,R,r,n,c,Y,z,j,V,x,ee,J,q,le,G,X,se,te,ie,re,be,we,De,Be,ze,ke,Ue,Ce,vt,$t,bt,Tt,It,Je,Pt,sn,Tn,Vn,An,xn,In,Hi,mt,dr,yi,f]}class Pf extends pe{constructor(e){super(),me(this,e,Sve,Dve,he,{name:8,as:1,slotProps:9,el:0,use:2,visible:10,features:11,unmount:12,static:13,class:14,style:15},null,[-1,-1])}}var o5;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(o5||(o5={}));var a5;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(a5||(a5={}));function gj(i,e){var n;if(i.type)return i.type;let t=(n=i.as)!=null?n:"button";if(typeof t=="string"&&t.toLowerCase()==="button"||e&&e instanceof HTMLButtonElement)return"button"}function Tve(i){throw new Error("Unexpected object: "+i)}var Sr;(function(i){i[i.First=0]="First",i[i.Previous=1]="Previous",i[i.Next=2]="Next",i[i.Last=3]="Last",i[i.Specific=4]="Specific",i[i.Nothing=5]="Nothing"})(Sr||(Sr={}));function Ave(i,e){let t=e.resolveItems();if(t.length<=0)return null;let n=e.resolveActiveIndex(),r=n!=null?n:-1,s=(()=>{switch(i.focus){case Sr.First:return t.findIndex(l=>!e.resolveDisabled(l));case Sr.Previous:{let l=t.slice().reverse().findIndex((o,a,u)=>r!==-1&&u.length-a-1>=r?!1:!e.resolveDisabled(o));return l===-1?l:t.length-1-l}case Sr.Next:return t.findIndex((l,o)=>o<=r?!1:!e.resolveDisabled(l));case Sr.Last:{let l=t.slice().reverse().findIndex(o=>!e.resolveDisabled(o));return l===-1?l:t.length-1-l}case Sr.Specific:return t.findIndex(l=>e.resolveId(l)===i.id);case Sr.Nothing:return null;default:Tve(i)}})();return s===-1?n:s}var u5;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(u5||(u5={}));const Pve=i=>i&4,Nve=i=>({}),c5=i=>({...i[2]});function Mve(i){let e;const t=i[14].default,n=nt(t,i,i[15],c5);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&32772)&&rt(n,t,r,r[15],Pve(s)||!e?st(r[15]):it(t,r[15],s,Nve),c5)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Lve(i){let e,t,n,r;const s=[i[9],{use:[...i[0],i[3]]},{as:i[1]},{slotProps:i[2]},{name:"Menu"}];let l={$$slots:{default:[Mve]},$$scope:{ctx:i}};for(let o=0;o<s.length;o+=1)l=St(l,s[o]);return e=new Pf({props:l}),{c(){B(e.$$.fragment)},m(o,a){O(e,o,a),t=!0,n||(r=Se(window,"mousedown",i[7]),n=!0)},p(o,[a]){const u=a&527?Zt(s,[a&512&&Qr(o[9]),a&9&&{use:[...o[0],o[3]]},a&2&&{as:o[1]},a&4&&{slotProps:o[2]},s[4]]):{};a&32772&&(u.$$scope={dirty:a,ctx:o}),e.$set(u)},i(o){t||(_(e.$$.fragment,o),t=!0)},o(o){v(e.$$.fragment,o),t=!1},d(o){I(e,o),n=!1,r()}}}var is;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(is||(is={}));const vj="headlessui-menu-context";function lw(i){let e=os(vj);if(e===void 0)throw new Error(`<${i} /> is missing a parent <Menu /> component.`);return e}function Ove(i,e,t){let n;const r=["use","as"];let s=mi(e,r),l,o,a,u,{$$slots:c={},$$scope:f}=e,{use:d=[]}=e,{as:m="div"}=e;const p=oc(Ms());let g=is.Closed,k=rn(null);Le(i,k,Y=>t(17,o=Y));let $=rn(null);Le(i,$,Y=>t(19,u=Y));let C=[],E="",S=null,T=rn({menuState:g,buttonStore:k,itemsStore:$,items:C,searchQuery:E,activeItemIndex:S,closeMenu:()=>{t(10,g=is.Closed),t(13,S=null)},openMenu:()=>t(10,g=is.Open),goToItem(Y,z){let j=Ave(Y===Sr.Specific?{focus:Sr.Specific,id:z}:{focus:Y},{resolveItems:()=>C,resolveActiveIndex:()=>S,resolveId:V=>V.id,resolveDisabled:V=>V.data.disabled});E===""&&S===j||(t(12,E=""),t(13,S=j))},search(Y){t(12,E+=Y.toLowerCase());let j=(S!==null?C.slice(S+1).concat(C.slice(0,S+1)):C).find(x=>x.data.textValue.startsWith(E)&&!x.data.disabled),V=j?C.indexOf(j):-1;V===-1||V===S||t(13,S=V)},clearSearch(){t(12,E="")},registerItem(Y,z){if(!u){t(11,C=[...C,{id:Y,data:z}]);return}let j=S!==null?C[S]:null,V=Array.from(u.querySelectorAll('[id^="headlessui-menu-item-"]')).reduce((ee,J,q)=>Object.assign(ee,{[J.id]:q}),{}),x=[...C,{id:Y,data:z}];x.sort((ee,J)=>V[ee.id]-V[J.id]),t(11,C=x),t(13,S=(()=>j===null?null:C.indexOf(j))())},unregisterItem(Y){let z=C.slice(),j=S!==null?z[S]:null,V=z.findIndex(x=>x.id===Y);V!==-1&&z.splice(V,1),t(11,C=z),t(13,S=(()=>V===S||j===null?null:z.indexOf(j))())}});Le(i,T,Y=>t(18,a=Y)),fo(vj,T);function M(Y){let z=Y.target,j=document.activeElement;g===is.Open&&(o!=null&&o.contains(z)||(u!=null&&u.contains(z)||a.closeMenu(),!(j!==document.body&&(j==null?void 0:j.contains(z)))&&(Y.defaultPrevented||o==null||o.focus({preventScroll:!0}))))}let R=rn(po.Closed);return Le(i,R,Y=>t(16,l=Y)),_j(R),i.$$set=Y=>{e=St(St({},e),Qi(Y)),t(9,s=mi(e,r)),"use"in Y&&t(0,d=Y.use),"as"in Y&&t(1,m=Y.as),"$$scope"in Y&&t(15,f=Y.$$scope)},i.$$.update=()=>{i.$$.dirty&15360&&T.update(Y=>({...Y,menuState:g,buttonStore:k,itemsStore:$,items:C,searchQuery:E,activeItemIndex:S})),i.$$.dirty&1024&&ui(R,l=Zd(g,{[is.Open]:po.Open,[is.Closed]:po.Closed}),l),i.$$.dirty&1024&&t(2,n={open:g===is.Open})},[d,m,n,p,k,$,T,M,R,s,g,C,E,S,c,f]}class Ive extends pe{constructor(e){super(),me(this,e,Ove,Lve,he,{use:0,as:1})}}const Bve=i=>i&8,Rve=i=>({}),f5=i=>({...i[3]});function zve(i){let e;const t=i[16].default,n=nt(t,i,i[18],f5);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&262152)&&rt(n,t,r,r[18],Bve(s)||!e?st(r[18]):it(t,r[18],s,Rve),f5)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function jve(i){let e,t,n;const r=[{...i[12],...i[4]},{as:i[0]},{slotProps:i[3]},{use:[...i[1],i[7]]},{name:"MenuButton"}];function s(o){i[17](o)}let l={$$slots:{default:[zve]},$$scope:{ctx:i}};for(let o=0;o<r.length;o+=1)l=St(l,r[o]);return i[2]!==void 0&&(l.el=i[2]),e=new Pf({props:l}),Oe.push(()=>Qe(e,"el",s,i[2])),e.$on("click",i[11]),e.$on("keydown",i[9]),e.$on("keyup",i[10]),{c(){B(e.$$.fragment)},m(o,a){O(e,o,a),n=!0},p(o,[a]){const u=a&4251?Zt(r,[a&4112&&{...o[12],...o[4]},a&1&&{as:o[0]},a&8&&{slotProps:o[3]},a&130&&{use:[...o[1],o[7]]},r[4]]):{};a&262152&&(u.$$scope={dirty:a,ctx:o}),!t&&a&4&&(t=!0,u.el=o[2],tt(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Yve(i,e,t){let n,r,s,l;const o=["as","use","disabled"];let a=mi(e,o),u,c,f=Z,d=()=>(f(),f=ta(r,x=>t(15,c=x)),r),m,p=Z,g=()=>(p(),p=ta(n,x=>t(2,m=x)),n);i.$$.on_destroy.push(()=>f()),i.$$.on_destroy.push(()=>p());let{$$slots:k={},$$scope:$}=e,{as:C="button"}=e,{use:E=[]}=e,{disabled:S=!1}=e;const T=oc(Ms()),M=lw("MenuButton");Le(i,M,x=>t(14,u=x));const R=`headlessui-menu-button-${Hp()}`;async function Y(x){let ee=x;switch(ee.key){case Dr.Space:case Dr.Enter:case Dr.ArrowDown:ee.preventDefault(),ee.stopPropagation(),u.openMenu(),await uo(),c==null||c.focus({preventScroll:!0}),u.goToItem(Sr.First);break;case Dr.ArrowUp:ee.preventDefault(),ee.stopPropagation(),u.openMenu(),await uo(),c==null||c.focus({preventScroll:!0}),u.goToItem(Sr.Last);break}}function z(x){let ee=x;switch(ee.key){case Dr.Space:ee.preventDefault();break}}async function j(x){let ee=x;S||(u.menuState===is.Open?(u.closeMenu(),await uo(),m==null||m.focus({preventScroll:!0})):(ee.preventDefault(),ee.stopPropagation(),u.openMenu(),await uo(),c==null||c.focus({preventScroll:!0})))}function V(x){m=x,n.set(m)}return i.$$set=x=>{t(20,e=St(St({},e),Qi(x))),t(12,a=mi(e,o)),"as"in x&&t(0,C=x.as),"use"in x&&t(1,E=x.use),"disabled"in x&&t(13,S=x.disabled),"$$scope"in x&&t(18,$=x.$$scope)},i.$$.update=()=>{i.$$.dirty&16384&&g(t(6,n=u.buttonStore)),i.$$.dirty&16384&&d(t(5,r=u.itemsStore)),t(4,s={id:R,type:gj({type:e.type,as:C},m),disabled:S?!0:void 0,"aria-haspopup":!0,"aria-controls":c==null?void 0:c.id,"aria-expanded":S?void 0:u.menuState===is.Open}),i.$$.dirty&16384&&t(3,l={open:u.menuState===is.Open})},e=Qi(e),[C,E,m,l,s,r,n,T,M,Y,z,j,a,S,u,c,k,V,$]}class Uve extends pe{constructor(e){super(),me(this,e,Yve,jve,he,{as:0,use:1,disabled:13})}}function Wve({container:i,accept:e,walk:t,enabled:n}){let r=i;if(!r||n!==void 0&&!n)return;let s=Object.assign(o=>e(o),{acceptNode:e}),l=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,s,!1);for(;l.nextNode();)t(l.currentNode)}const qve=i=>i&8,Hve=i=>({}),d5=i=>({...i[3]});function Vve(i){let e;const t=i[17].default,n=nt(t,i,i[19],d5);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524296)&&rt(n,t,r,r[19],qve(s)||!e?st(r[19]):it(t,r[19],s,Hve),d5)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function xve(i){let e,t,n;const r=[{...i[13],...i[4]},{as:i[0]},{slotProps:i[3]},{use:[...i[1],i[8]]},{name:"MenuItems"},{visible:i[5]},{features:wl.RenderStrategy|wl.Static}];function s(o){i[18](o)}let l={$$slots:{default:[Vve]},$$scope:{ctx:i}};for(let o=0;o<r.length;o+=1)l=St(l,r[o]);return i[2]!==void 0&&(l.el=i[2]),e=new Pf({props:l}),Oe.push(()=>Qe(e,"el",s,i[2])),e.$on("keydown",i[11]),e.$on("keyup",i[12]),{c(){B(e.$$.fragment)},m(o,a){O(e,o,a),n=!0},p(o,[a]){const u=a&8507?Zt(r,[a&8208&&{...o[13],...o[4]},a&1&&{as:o[0]},a&8&&{slotProps:o[3]},a&258&&{use:[...o[1],o[8]]},r[4],a&32&&{visible:o[5]},a&0&&{features:wl.RenderStrategy|wl.Static}]):{};a&524296&&(u.$$scope={dirty:a,ctx:o}),!t&&a&4&&(t=!0,u.el=o[2],tt(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function Gve(i,e,t){let n,r,s,l,o;const a=["as","use"];let u=mi(e,a),c,f,d=Z,m=()=>(d(),d=ta(n,J=>t(15,f=J)),n),p,g=Z,k=()=>(g(),g=ta(r,J=>t(2,p=J)),r),$;i.$$.on_destroy.push(()=>d()),i.$$.on_destroy.push(()=>g());let{$$slots:C={},$$scope:E}=e,{as:S="div"}=e,{use:T=[]}=e;const M=oc(Ms()),R=lw("MenuItems");Le(i,R,J=>t(14,c=J));const Y=`headlessui-menu-items-${Hp()}`;let z=null,j=pj();Le(i,j,J=>t(16,$=J));async function V(J){var le;z&&clearTimeout(z);let q=J;switch(q.key){case Dr.Space:if(c.searchQuery!=="")return q.preventDefault(),q.stopPropagation(),c.search(q.key);case Dr.Enter:if(q.preventDefault(),q.stopPropagation(),c.activeItemIndex!==null){let{id:G}=c.items[c.activeItemIndex];(le=document.getElementById(G))==null||le.click()}c.closeMenu(),await uo(),f==null||f.focus({preventScroll:!0});break;case Dr.ArrowDown:return q.preventDefault(),q.stopPropagation(),c.goToItem(Sr.Next);case Dr.ArrowUp:return q.preventDefault(),q.stopPropagation(),c.goToItem(Sr.Previous);case Dr.Home:case Dr.PageUp:return q.preventDefault(),q.stopPropagation(),c.goToItem(Sr.First);case Dr.End:case Dr.PageDown:return q.preventDefault(),q.stopPropagation(),c.goToItem(Sr.Last);case Dr.Escape:q.preventDefault(),q.stopPropagation(),c.closeMenu(),await uo(),f==null||f.focus({preventScroll:!0});break;case Dr.Tab:q.preventDefault(),q.stopPropagation();break;default:q.key.length===1&&(c.search(q.key),z=setTimeout(()=>c.clearSearch(),350));break}}function x(J){let q=J;switch(q.key){case Dr.Space:q.preventDefault();break}}function ee(J){p=J,r.set(p)}return i.$$set=J=>{e=St(St({},e),Qi(J)),t(13,u=mi(e,a)),"as"in J&&t(0,S=J.as),"use"in J&&t(1,T=J.use),"$$scope"in J&&t(19,E=J.$$scope)},i.$$.update=()=>{var J;i.$$.dirty&16384&&m(t(7,n=c.buttonStore)),i.$$.dirty&16384&&k(t(6,r=c.itemsStore)),i.$$.dirty&81920&&t(5,s=j!==void 0?$===po.Open:c.menuState===is.Open),i.$$.dirty&16388&&Wve({container:p,enabled:c.menuState===is.Open,accept(q){return q.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:q.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(q){q.setAttribute("role","none")}}),i.$$.dirty&49152&&t(4,l={"aria-activedescendant":c.activeItemIndex===null||(J=c.items[c.activeItemIndex])==null?void 0:J.id,"aria-labelledby":f==null?void 0:f.id,id:Y,role:"menu",tabIndex:0}),i.$$.dirty&16384&&t(3,o={open:c.menuState===is.Open})},[S,T,p,o,l,s,r,n,M,R,j,V,x,u,c,f,$,C,ee,E]}class Zve extends pe{constructor(e){super(),me(this,e,Gve,xve,he,{as:0,use:1})}}const Xve=i=>i&8,Kve=i=>({}),h5=i=>({...i[3]});function Jve(i){let e;const t=i[17].default,n=nt(t,i,i[19],h5);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524296)&&rt(n,t,r,r[19],Xve(s)||!e?st(r[19]):it(t,r[19],s,Kve),h5)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Qve(i){let e,t,n;const r=[{...i[12],...i[4]},{use:[...i[1],i[6]]},{as:i[0]},{slotProps:i[3]},{name:"MenuItem"}];function s(o){i[18](o)}let l={$$slots:{default:[Jve]},$$scope:{ctx:i}};for(let o=0;o<r.length;o+=1)l=St(l,r[o]);return i[2]!==void 0&&(l.el=i[2]),e=new Pf({props:l}),Oe.push(()=>Qe(e,"el",s,i[2])),e.$on("click",i[8]),e.$on("focus",i[9]),e.$on("pointermove",i[10]),e.$on("mousemove",i[10]),e.$on("pointerleave",i[11]),e.$on("mouseleave",i[11]),{c(){B(e.$$.fragment)},m(o,a){O(e,o,a),n=!0},p(o,[a]){const u=a&4187?Zt(r,[a&4112&&{...o[12],...o[4]},a&66&&{use:[...o[1],o[6]]},a&1&&{as:o[0]},a&8&&{slotProps:o[3]},r[4]]):{};a&524296&&(u.$$scope={dirty:a,ctx:o}),!t&&a&4&&(t=!0,u.el=o[2],tt(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function ebe(i,e,t){let n,r,s,l,o;const a=["as","use","disabled"];let u=mi(e,a),c,f,d=Z,m=()=>(d(),d=ta(r,ee=>t(21,f=ee)),r);i.$$.on_destroy.push(()=>d());let{$$slots:p={},$$scope:g}=e,{as:k="a"}=e,{use:$=[]}=e,{disabled:C=!1}=e;const E=oc(Ms(),[{name:"click",shouldExclude:()=>C}]),S=lw("MenuItem");Le(i,S,ee=>t(16,c=ee));const T=`headlessui-menu-item-${Hp()}`;let M,R={disabled:C,textValue:s};Yt(async()=>{c.registerItem(T,R)}),Ns(()=>{c.unregisterItem(T)}),qX(async()=>{var ee;c.menuState===is.Open&&(!n||(await uo(),(ee=M==null?void 0:M.scrollIntoView)==null||ee.call(M,{block:"nearest"})))});async function Y(ee){if(C)return ee.preventDefault();c.closeMenu(),f==null||f.focus({preventScroll:!0})}function z(){if(C)return c.goToItem(Sr.Nothing);c.goToItem(Sr.Specific,T)}function j(){C||n||c.goToItem(Sr.Specific,T)}function V(){C||!n||c.goToItem(Sr.Nothing)}function x(ee){M=ee,t(2,M)}return i.$$set=ee=>{e=St(St({},e),Qi(ee)),t(12,u=mi(e,a)),"as"in ee&&t(0,k=ee.as),"use"in ee&&t(1,$=ee.use),"disabled"in ee&&t(13,C=ee.disabled),"$$scope"in ee&&t(19,g=ee.$$scope)},i.$$.update=()=>{var ee;i.$$.dirty&65536&&t(14,n=c.activeItemIndex!==null?c.items[c.activeItemIndex].id===T:!1),i.$$.dirty&65536&&m(t(5,r=c.buttonStore)),i.$$.dirty&4&&t(15,s=((ee=M==null?void 0:M.textContent)==null?void 0:ee.toLowerCase().trim())||""),i.$$.dirty&8192&&(R.disabled=C),i.$$.dirty&32768&&(R.textValue=s),i.$$.dirty&8192&&t(4,l={id:T,role:"menuitem",tabIndex:C===!0?void 0:-1,"aria-disabled":C===!0?!0:void 0}),i.$$.dirty&24576&&t(3,o={active:n,disabled:C})},[k,$,M,o,l,r,E,S,Y,z,j,V,u,C,n,s,c,p,x,g]}class tbe extends pe{constructor(e){super(),me(this,e,ebe,Qve,he,{as:0,use:1,disabled:13})}}var m5;(function(i){i[i.Open=0]="Open",i[i.Closed=1]="Closed"})(m5||(m5={}));const nbe="headlessui-label-context";function ibe(){return os(nbe)}const rbe="headlessui-switch-context";function sbe(){return os(rbe)}const lbe=i=>i&8,obe=i=>({}),p5=i=>({...i[3]}),abe=i=>i&8,ube=i=>({}),_5=i=>({...i[3]});function cbe(i){let e,t;const n=[{...i[12],...i[4]},{as:i[0]},{slotProps:i[3]},{use:[...i[1],i[6]]},{name:"Switch"}];let r={$$slots:{default:[dbe]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=St(r,n[s]);return e=new Pf({props:r}),e.$on("click",i[10]),e.$on("keyup",i[11]),e.$on("keypress",bj),{c(){B(e.$$.fragment)},m(s,l){O(e,s,l),t=!0},p(s,l){const o=l&4187?Zt(n,[l&4112&&{...s[12],...s[4]},l&1&&{as:s[0]},l&8&&{slotProps:s[3]},l&66&&{use:[...s[1],s[6]]},n[4]]):{};l&524296&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function fbe(i){let e,t,n;const r=[{...i[12],...i[4]},{as:i[0]},{slotProps:i[3]},{use:[...i[1],i[6]]},{name:"Switch"}];function s(o){i[18](o)}let l={$$slots:{default:[hbe]},$$scope:{ctx:i}};for(let o=0;o<r.length;o+=1)l=St(l,r[o]);return i[2]!==void 0&&(l.el=i[2]),e=new Pf({props:l}),Oe.push(()=>Qe(e,"el",s,i[2])),e.$on("click",i[10]),e.$on("keyup",i[11]),e.$on("keypress",bj),{c(){B(e.$$.fragment)},m(o,a){O(e,o,a),n=!0},p(o,a){const u=a&4187?Zt(r,[a&4112&&{...o[12],...o[4]},a&1&&{as:o[0]},a&8&&{slotProps:o[3]},a&66&&{use:[...o[1],o[6]]},r[4]]):{};a&524296&&(u.$$scope={dirty:a,ctx:o}),!t&&a&4&&(t=!0,u.el=o[2],tt(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function dbe(i){let e;const t=i[17].default,n=nt(t,i,i[19],p5);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524296)&&rt(n,t,r,r[19],lbe(s)||!e?st(r[19]):it(t,r[19],s,obe),p5)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function hbe(i){let e;const t=i[17].default,n=nt(t,i,i[19],_5);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524296)&&rt(n,t,r,r[19],abe(s)||!e?st(r[19]):it(t,r[19],s,ube),_5)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function mbe(i){let e,t,n,r;const s=[fbe,cbe],l=[];function o(a,u){return a[5]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function bj(i){i.preventDefault()}function pbe(i,e,t){let n,r,s;const l=["as","use","checked"];let o=mi(e,l),a,u,c,f=Z,d=()=>(f(),f=ta(n,ee=>t(2,c=ee)),n),m;i.$$.on_destroy.push(()=>f());let{$$slots:p={},$$scope:g}=e,{as:k="button"}=e,{use:$=[]}=e,{checked:C=!1}=e;const E=oc(Ms(),["change"]),S=Ut();let T=sbe();Le(i,T,ee=>t(16,m=ee));let M=ibe();Le(i,M,ee=>t(15,u=ee));let R=I0e();Le(i,R,ee=>t(14,a=ee));let Y=`headlessui-switch-${Hp()}`;function z(){S("change",!C)}function j(ee){ee.preventDefault(),z()}function V(ee){let J=ee;J.key!==Dr.Tab&&J.preventDefault(),J.key===Dr.Space&&z()}function x(ee){c=ee,n.set(c)}return i.$$set=ee=>{t(23,e=St(St({},e),Qi(ee))),t(12,o=mi(e,l)),"as"in ee&&t(0,k=ee.as),"use"in ee&&t(1,$=ee.use),"checked"in ee&&t(13,C=ee.checked),"$$scope"in ee&&t(19,g=ee.$$scope)},i.$$.update=()=>{i.$$.dirty&65536&&d(t(5,n=m==null?void 0:m.switchStore)),t(4,r={id:Y,role:"switch",type:gj({type:e.type,as:k},c),tabIndex:0,"aria-checked":C,"aria-labelledby":u==null?void 0:u.labelIds,"aria-describedby":a==null?void 0:a.descriptionIds}),i.$$.dirty&8192&&t(3,s={checked:C})},e=Qi(e),[k,$,c,s,r,n,E,T,M,R,j,V,o,C,a,u,m,p,x,g]}class _be extends pe{constructor(e){super(),me(this,e,pbe,mbe,he,{as:0,use:1,checked:13})}}function gbe(i){let e={called:!1};return(...t)=>{if(!e.called)return e.called=!0,i(...t)}}function kj(){let i=[],e={requestAnimationFrame(...t){let n=requestAnimationFrame(...t);e.add(()=>cancelAnimationFrame(n))},nextFrame(...t){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...t)})},setTimeout(...t){let n=setTimeout(...t);e.add(()=>clearTimeout(n))},add(t){i.push(t)},dispose(){for(let t of i.splice(0))t()}};return e}function Ib(i,...e){i&&e.length>0&&i.classList.add(...e)}function og(i,...e){i&&e.length>0&&i.classList.remove(...e)}var Ru;(function(i){i.Finished="finished",i.Cancelled="cancelled"})(Ru||(Ru={}));function vbe(i,e){let t=kj();if(!i)return t.dispose;let{transitionDuration:n,transitionDelay:r}=getComputedStyle(i),[s,l]=[n,r].map(o=>{let[a=0]=o.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,c)=>c-u);return a});return s!==0?t.setTimeout(()=>{e(Ru.Finished)},s+l):e(Ru.Finished),t.add(()=>e(Ru.Cancelled)),t.dispose}function g5(i,e,t,n,r,s){let l=kj(),o=s!==void 0?gbe(s):()=>{};return og(i,...r),Ib(i,...e,...t),l.nextFrame(()=>{og(i,...t),Ib(i,...n),l.add(vbe(i,a=>(og(i,...n,...e),Ib(i,...r),o(a))))}),l.add(()=>og(i,...e,...t,...n)),l.add(()=>o(Ru.Cancelled)),l.dispose}var Ui;(function(i){i.Visible="visible",i.Hidden="hidden"})(Ui||(Ui={}));const yj="headlessui-transition-context",ow="headlessui-nesting-context";function bbe(){let i=os(yj);if(i===void 0)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return i}function kbe(){let i=os(ow);if(i===void 0)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return i}function up(i){return"children"in i?up(i.children):i.filter(({state:e})=>e===Ui.Visible).length>0}function wj(i){let e=[];function t(r,s=Ha.Hidden){let l=e.findIndex(({id:a})=>a===r);if(l===-1)return;let o=up(e);Zd(s,{[Ha.Unmount](){e.splice(l,1)},[Ha.Hidden](){e[l].state=Ui.Hidden}}),o&&!up(e)&&(i==null||i())}function n(r){let s=e.find(({id:l})=>l===r);return s?s.state!==Ui.Visible&&(s.state=Ui.Visible):e.push({id:r,state:Ui.Visible}),()=>t(r,Ha.Unmount)}return{children:e,register:n,unregister:t}}function ybe(i){let e;const t=i[23].default,n=nt(t,i,i[25],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s[0]&33554432)&&rt(n,t,r,r[25],e?it(t,r[25],s,null):st(r[25]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function wbe(i){let e,t,n;const r=[i[9],{as:i[0]},{use:[...i[1],i[5]]},{slotProps:{}},{name:"TransitionChild"},{class:i[4]},{visible:i[3]===Ui.Visible},{features:wl.RenderStrategy}];function s(o){i[24](o)}let l={$$slots:{default:[ybe]},$$scope:{ctx:i}};for(let o=0;o<r.length;o+=1)l=St(l,r[o]);return i[2]!==void 0&&(l.el=i[2]),e=new Pf({props:l}),Oe.push(()=>Qe(e,"el",s,i[2])),{c(){B(e.$$.fragment)},m(o,a){O(e,o,a),n=!0},p(o,a){const u=a[0]&571?Zt(r,[a[0]&512&&Qr(o[9]),a[0]&1&&{as:o[0]},a[0]&34&&{use:[...o[1],o[5]]},r[3],r[4],a[0]&16&&{class:o[4]},a[0]&8&&{visible:o[3]===Ui.Visible},a&0&&{features:wl.RenderStrategy}]):{};a[0]&33554432&&(u.$$scope={dirty:a,ctx:o}),!t&&a[0]&4&&(t=!0,u.el=o[2],tt(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function $be(i,e,t){let n,r,s,l,o,a,u,c,f;const d=["as","use","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"];let m=mi(e,d),p,g,k,{$$slots:$={},$$scope:C}=e,{as:E="div"}=e,{use:S=[]}=e,{enter:T=""}=e,{enterFrom:M=""}=e,{enterTo:R=""}=e,{entered:Y=""}=e,{leave:z=""}=e,{leaveFrom:j=""}=e,{leaveTo:V=""}=e;const x=Ut(),ee=oc(Ms(),["beforeEnter","beforeLeave","afterEnter","afterLeave"]);let J=null,q=bbe();Le(i,q,ke=>t(21,p=ke));let le=kbe();Le(i,le,ke=>t(22,g=ke));let G=p.initialShow||e.unmount!==!1?Ui.Visible:Ui.Hidden,X=!0,se=Hp(),te=!1,ie=rn(wj(()=>{te||(t(3,G=Ui.Hidden),g.unregister(se),x("afterLeave"))}));Le(i,ie,ke=>t(34,k=ke)),Yt(()=>g.register(se));function re(ke=""){return ke.split(" ").filter(Ue=>Ue.trim().length>1)}let be=!1;Yt(()=>t(18,be=!0));function we(ke,Ue){let Ce=X&&!Ue,vt=J;if(!(!vt||!(vt instanceof HTMLElement))&&!Ce)return t(17,te=!0),ke&&x("beforeEnter"),ke||x("beforeLeave"),ke?g5(vt,r,s,l,o,$t=>{t(17,te=!1),$t===Ru.Finished&&x("afterEnter")}):g5(vt,a,u,c,o,$t=>{t(17,te=!1),$t===Ru.Finished&&(up(k)||(t(3,G=Ui.Hidden),g.unregister(se),x("afterLeave")))})}let De=null;fo(ow,ie);let Be=rn(po.Closed);_j(Be);function ze(ke){J=ke,t(2,J)}return i.$$set=ke=>{t(40,e=St(St({},e),Qi(ke))),t(9,m=mi(e,d)),"as"in ke&&t(0,E=ke.as),"use"in ke&&t(1,S=ke.use),"enter"in ke&&t(10,T=ke.enter),"enterFrom"in ke&&t(11,M=ke.enterFrom),"enterTo"in ke&&t(12,R=ke.enterTo),"entered"in ke&&t(13,Y=ke.entered),"leave"in ke&&t(14,z=ke.leave),"leaveFrom"in ke&&t(15,j=ke.leaveFrom),"leaveTo"in ke&&t(16,V=ke.leaveTo),"$$scope"in ke&&t(25,C=ke.$$scope)},i.$$.update=()=>{t(20,n=e.unmount===!1?Ha.Hidden:Ha.Unmount),i.$$.dirty[0]&7340040&&(()=>{if(n===Ha.Hidden&&!!se){if(p.show&&G!==Ui.Visible){t(3,G=Ui.Visible);return}Zd(G,{[Ui.Hidden]:()=>g.unregister(se),[Ui.Visible]:()=>g.register(se)})}})(),i.$$.dirty[0]&1024&&(r=re(T)),i.$$.dirty[0]&2048&&(s=re(M)),i.$$.dirty[0]&4096&&(l=re(R)),i.$$.dirty[0]&8192&&(o=re(Y)),i.$$.dirty[0]&16384&&(a=re(z)),i.$$.dirty[0]&32768&&(u=re(j)),i.$$.dirty[0]&65536&&(c=re(V)),i.$$.dirty[0]&2883584&&be&&(De&&De(),t(19,De=we(p.show,p.appear)),X=!1),i.$$.dirty[0]&8&&Be.set(Zd(G,{[Ui.Visible]:po.Open,[Ui.Hidden]:po.Closed})),t(4,f=te?J==null?void 0:J.className:`${e.class||""} ${Y}`)},e=Qi(e),[E,S,J,G,f,ee,q,le,ie,m,T,M,R,Y,z,j,V,te,be,De,n,p,g,$,ze,C]}class Fbe extends pe{constructor(e){super(),me(this,e,$be,wbe,he,{as:0,use:1,enter:10,enterFrom:11,enterTo:12,entered:13,leave:14,leaveFrom:15,leaveTo:16},null,[-1,-1])}}function v5(i){let e,t;const n=[i[7],{as:i[0]},{use:[...i[1],i[3]]}];let r={$$slots:{default:[Ebe]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=St(r,n[s]);return e=new Fbe({props:r}),e.$on("afterEnter",i[15]),e.$on("afterLeave",i[16]),e.$on("beforeEnter",i[17]),e.$on("beforeLeave",i[18]),{c(){B(e.$$.fragment)},m(s,l){O(e,s,l),t=!0},p(s,l){const o=l&139?Zt(n,[l&128&&Qr(s[7]),l&1&&{as:s[0]},l&10&&{use:[...s[1],s[3]]}]):{};l&524288&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Ebe(i){let e;const t=i[14].default,n=nt(t,i,i[19],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524288)&&rt(n,t,r,r[19],e?it(t,r[19],s,null):st(r[19]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Cbe(i){let e,t,n=(i[2]===Ui.Visible||i[6].unmount===!1)&&v5(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[2]===Ui.Visible||r[6].unmount===!1?n?(n.p(r,s),s&68&&_(n,1)):(n=v5(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function Dbe(i,e,t){const n=["as","use","show","appear"];let r=mi(e,n),s,l,{$$slots:o={},$$scope:a}=e;const u=oc(Ms(),["beforeEnter","beforeLeave","afterEnter","afterLeave"]);let{as:c="div"}=e,{use:f=[]}=e,{show:d=void 0}=e,{appear:m=!1}=e,p=pj();Le(i,p,j=>t(13,l=j));function g(j,V){return j===void 0&&V!==void 0?Zd(V,{[po.Open]:!0,[po.Closed]:!1}):j}let k=g(d,p!==void 0?l:void 0),$=k,C=k?Ui.Visible:Ui.Hidden,E=rn(wj(()=>{t(2,C=Ui.Hidden)}));Le(i,E,j=>t(12,s=j));let S=!0,T=rn();Yt(()=>{t(11,S=!1)}),fo(ow,E),fo(yj,T);function M(j){$l.call(this,i,j)}function R(j){$l.call(this,i,j)}function Y(j){$l.call(this,i,j)}function z(j){$l.call(this,i,j)}return i.$$set=j=>{t(6,e=St(St({},e),Qi(j))),t(7,r=mi(e,n)),"as"in j&&t(0,c=j.as),"use"in j&&t(1,f=j.use),"show"in j&&t(8,d=j.show),"appear"in j&&t(9,m=j.appear),"$$scope"in j&&t(19,a=j.$$scope)},i.$$.update=()=>{if(i.$$.dirty&9472&&(t(10,k=g(d,p!==void 0?l:void 0)),k!==!0&&k!==!1))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");i.$$.dirty&3584&&T.set({show:!!k,appear:m||!S,initialShow:!!$}),i.$$.dirty&7168&&(S||(k?t(2,C=Ui.Visible):up(s)||t(2,C=Ui.Hidden)))},e=Qi(e),[c,f,C,u,p,E,e,r,d,m,k,S,s,l,o,M,R,Y,z,a]}class Sbe extends pe{constructor(e){super(),me(this,e,Dbe,Cbe,he,{as:0,use:1,show:8,appear:9})}}function Tbe(i){return Yt(()=>{noe()}),Ns(()=>{rR()}),[]}class Abe extends pe{constructor(e){super(),me(this,e,Tbe,null,he,{})}}function Pbe(i){let e,t,n,r;const s=i[9].default,l=nt(s,i,i[8],null);return{c(){e=P("div"),l&&l.c(),h(e,"style",t=(i[6]?`--left: ${i[6]}px;`:"")+" "+i[4]),h(e,"class",n="divider "+i[0]),ct(e,"inset",i[2]),ct(e,"show-line",!i[5]),ct(e,"pad",i[3]),ct(e,"left",i[6]),ct(e,"center",i[1]),ct(e,"hasContent",i[7])},m(o,a){w(o,e,a),l&&l.m(e,null),r=!0},p(o,[a]){l&&l.p&&(!r||a&256)&&rt(l,s,o,o[8],r?it(s,o[8],a,null):st(o[8]),null),(!r||a&80&&t!==(t=(o[6]?`--left: ${o[6]}px;`:"")+" "+o[4]))&&h(e,"style",t),(!r||a&1&&n!==(n="divider "+o[0]))&&h(e,"class",n),(!r||a&5)&&ct(e,"inset",o[2]),(!r||a&33)&&ct(e,"show-line",!o[5]),(!r||a&9)&&ct(e,"pad",o[3]),(!r||a&65)&&ct(e,"left",o[6]),(!r||a&3)&&ct(e,"center",o[1]),(!r||a&129)&&ct(e,"hasContent",o[7])},i(o){r||(_(l,o),r=!0)},o(o){v(l,o),r=!1},d(o){o&&y(e),l&&l.d(o)}}}function Nbe(i,e,t){let{$$slots:n={},$$scope:r}=e,{className:s=""}=e,{center:l=!1}=e,{inset:o=!1}=e,{pad:a=!1}=e,{style:u=""}=e,{hideLine:c=!1}=e,{left:f=void 0}=e,d=!1;return Yt(()=>{arguments[1].$$slots&&t(7,d=!0)}),i.$$set=m=>{"className"in m&&t(0,s=m.className),"center"in m&&t(1,l=m.center),"inset"in m&&t(2,o=m.inset),"pad"in m&&t(3,a=m.pad),"style"in m&&t(4,u=m.style),"hideLine"in m&&t(5,c=m.hideLine),"left"in m&&t(6,f=m.left),"$$scope"in m&&t(8,r=m.$$scope)},[s,l,o,a,u,c,f,d,r,n]}class hi extends pe{constructor(e){super(),me(this,e,Nbe,Pbe,he,{className:0,center:1,inset:2,pad:3,style:4,hideLine:5,left:6})}}function b5(i,e,t){const n=i.slice();return n[18]=e[t],n[20]=t,n}function Mbe(i){let e;const t=i[11].default,n=nt(t,i,i[16],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&65536)&&rt(n,t,r,r[16],e?it(t,r[16],s,null):st(r[16]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function k5(i){let e;return{c(){e=P("div"),h(e,"class","h-2 -mt-px bg-gray-200 dark:bg-gray-800")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Lbe(i){let e,t,n,r,s=i[18].title+"",l,o,a,u,c,f,d,m,p,g,k=i[18].checked&&y5(i),$=i[18].description&&w5(i);const C=[Bbe,Ibe],E=[];function S(M,R){return M[18].icon?0:M[18].emoji?1:-1}~(f=S(i))&&(d=E[f]=C[f](i));function T(...M){return i[13](i[18],...M)}return{c(){e=P("button"),k&&k.c(),t=W(),n=P("main"),r=P("h1"),l=K(s),a=W(),$&&$.c(),u=W(),c=P("div"),d&&d.c(),h(r,"class",o=(i[18].title.length>25?"text-sm":"text-lg")+" leading-tight line-clamp-1 text-black font-medium dark:text-white"),h(n,"class","flex-fill w-full"),h(c,"class","flex items-center"),e.disabled=m=i[18].disabled,h(e,"class",p="pop-button "+(i[21]?"focused":"")+" nbtn-left pop-button-"+i[20]+" "+(i[18].awardRequired?i[9].awards.find(T)?"unlocked":"locked":"")+" "+(i[18].description?"nbtn-desc":""))},m(M,R){w(M,e,R),k&&k.m(e,null),D(e,t),D(e,n),D(n,r),D(r,l),D(n,a),$&&$.m(n,null),D(e,u),D(e,c),~f&&E[f].m(c,null),g=!0},p(M,R){i=M,i[18].checked?k?(k.p(i,R),R&128&&_(k,1)):(k=y5(i),k.c(),_(k,1),k.m(e,t)):k&&(ae(),v(k,1,1,()=>{k=null}),ue()),(!g||R&128)&&s!==(s=i[18].title+"")&&de(l,s),(!g||R&128&&o!==(o=(i[18].title.length>25?"text-sm":"text-lg")+" leading-tight line-clamp-1 text-black font-medium dark:text-white"))&&h(r,"class",o),i[18].description?$?$.p(i,R):($=w5(i),$.c(),$.m(n,null)):$&&($.d(1),$=null);let Y=f;f=S(i),f===Y?~f&&E[f].p(i,R):(d&&(ae(),v(E[Y],1,1,()=>{E[Y]=null}),ue()),~f?(d=E[f],d?d.p(i,R):(d=E[f]=C[f](i),d.c()),_(d,1),d.m(c,null)):d=null),(!g||R&128&&m!==(m=i[18].disabled))&&(e.disabled=m),(!g||R&2097792&&p!==(p="pop-button "+(i[21]?"focused":"")+" nbtn-left pop-button-"+i[20]+" "+(i[18].awardRequired?i[9].awards.find(T)?"unlocked":"locked":"")+" "+(i[18].description?"nbtn-desc":"")))&&h(e,"class",p)},i(M){g||(_(k),_(d),g=!0)},o(M){v(k),v(d),g=!1},d(M){M&&y(e),k&&k.d(),$&&$.d(),~f&&E[f].d()}}}function Obe(i){let e,t,n;function r(){return i[12](i[18])}var s=i[18].component;function l(o){return{props:{closeEvent:r}}}return s&&(e=Un(s,l())),{c(){e&&B(e.$$.fragment),t=Ae()},m(o,a){e&&O(e,o,a),w(o,t,a),n=!0},p(o,a){i=o;const u={};if(a&128&&(u.closeEvent=r),s!==(s=i[18].component)){if(e){ae();const c=e;v(c.$$.fragment,1,0,()=>{I(c,1)}),ue()}s?(e=Un(s,l()),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&I(e,o)}}}function y5(i){let e,t,n;return t=new et({props:{size:i[6]?20:28,className:"text-black dark:text-white",icon:G1}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","w-5 flex items-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&64&&(l.size=r[6]?20:28),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function w5(i){let e,t=i[18].description+"",n;return{c(){e=P("p"),n=K(t),h(e,"class","text-sm text-gray-500 leading-snug")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&128&&t!==(t=r[18].description+"")&&de(n,t)},d(r){r&&y(e)}}}function Ibe(i){let e,t;return e=new kr({props:{emoji:i[18].emoji,size:i[6]?22:32}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.emoji=n[18].emoji),r&64&&(s.size=n[6]?22:32),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Bbe(i){let e,t;return e=new et({props:{icon:i[18].icon,className:"text-black dark:text-white",size:i[10]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.icon=n[18].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Rbe(i){let e,t,n,r;const s=[Obe,Lbe],l=[];function o(a,u){return a[18].component?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function $5(i){let e,t;return e=new hi({props:{left:16}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function F5(i){let e,t,n,r,s,l=i[18].divider&&k5();function o(){return i[14](i[18])}t=new tbe({props:{class:"menu-item "+i[4]+"-"+i[20]+" "+(i[18].disabled?"disabled":""),$$slots:{default:[Rbe,({active:u})=>({21:u}),({active:u})=>u?2097152:0]},$$scope:{ctx:i}}}),t.$on("click",o);let a=i[20]<i[7].length-1&&$5();return{c(){l&&l.c(),e=W(),B(t.$$.fragment),n=W(),a&&a.c(),r=Ae()},m(u,c){l&&l.m(u,c),w(u,e,c),O(t,u,c),w(u,n,c),a&&a.m(u,c),w(u,r,c),s=!0},p(u,c){i=u,i[18].divider?l||(l=k5(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null);const f={};c&144&&(f.class="menu-item "+i[4]+"-"+i[20]+" "+(i[18].disabled?"disabled":"")),c&2163392&&(f.$$scope={dirty:c,ctx:i}),t.$set(f),i[20]<i[7].length-1?a?c&128&&_(a,1):(a=$5(),a.c(),_(a,1),a.m(r.parentNode,r)):a&&(ae(),v(a,1,1,()=>{a=null}),ue())},i(u){s||(_(t.$$.fragment,u),_(a),s=!0)},o(u){v(t.$$.fragment,u),v(a),s=!1},d(u){l&&l.d(u),u&&y(e),I(t,u),u&&y(n),a&&a.d(u),u&&y(r)}}}function zbe(i){let e,t,n=i[7],r=[];for(let l=0;l<n.length;l+=1)r[l]=F5(b5(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&2098896){n=l[7];let a;for(a=0;a<n.length;a+=1){const u=b5(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=F5(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function jbe(i){let e,t,n,r;return e=new Abe({}),n=new Zve({props:{class:"n-menu glass translate-all duration-200 "+(i[17]?"isOpen":"isClosed")+" y-"+i[1]+" x-"+i[0]+" z-50  absolute w-60 shadow-2xl",$$slots:{default:[zbe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&131075&&(o.class="n-menu glass translate-all duration-200 "+(s[17]?"isOpen":"isClosed")+" y-"+s[1]+" x-"+s[0]+" z-50  absolute w-60 shadow-2xl"),l&66256&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function Ybe(i){let e,t,n,r;return e=new Uve({props:{title:i[5],id:i[4]+"-button",style:i[3],class:i[2]+" flex items-center justify-center "+(i[17]?"isOpen":""),$$slots:{default:[Mbe]},$$scope:{ctx:i}}}),n=new Sbe({props:{enter:"transition-all ease-out duration-200",enterFrom:"transform opacity- 0 scale-0",enterTo:"transform opacity-100 scale-100 shadow-2xl",leave:"transition-all ease-in duration-200 h-0",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-0",$$slots:{default:[jbe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&32&&(o.title=s[5]),l&16&&(o.id=s[4]+"-button"),l&8&&(o.style=s[3]),l&131076&&(o.class=s[2]+" flex items-center justify-center "+(s[17]?"isOpen":"")),l&65536&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&197331&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function Ube(i){let e,t,n={id:i[4],class:"id-"+i[4]+" "+(i[6]?"compact":"")+" relative  menu-inline",$$slots:{default:[Ybe,({open:r})=>({17:r}),({open:r})=>r?131072:0]},$$scope:{ctx:i}};return e=new Ive({props:n}),i[15](e),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,[s]){const l={};s&16&&(l.id=r[4]),s&80&&(l.class="id-"+r[4]+" "+(r[6]?"compact":"")+" relative  menu-inline"),s&197375&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){i[15](null),I(e,r)}}}function Wbe(i,e,t){let n;Le(i,ll,S=>t(9,n=S));let{$$slots:r={},$$scope:s}=e,{x:l="left"}=e,{y:o="top"}=e,{buttonClass:a=void 0}=e,{buttonStyle:u=""}=e,{id:c}=e,{title:f=""}=e,{compact:d=!1}=e,{menuButtons:m=[]}=e,p=d?18:24,g;const k=S=>{S.click()},$=(S,T)=>T.id==S.awardRequired,C=async S=>{S.disabled||(S.awardRequired&&!n.awards.find(T=>T.id==S.awardRequired)?at.alert(`You need the ${ER(S.awardRequired).name} Award before you can use this feature`):S.click())};function E(S){Oe[S?"unshift":"push"](()=>{g=S,t(8,g)})}return i.$$set=S=>{"x"in S&&t(0,l=S.x),"y"in S&&t(1,o=S.y),"buttonClass"in S&&t(2,a=S.buttonClass),"buttonStyle"in S&&t(3,u=S.buttonStyle),"id"in S&&t(4,c=S.id),"title"in S&&t(5,f=S.title),"compact"in S&&t(6,d=S.compact),"menuButtons"in S&&t(7,m=S.menuButtons),"$$scope"in S&&t(16,s=S.$$scope)},[l,o,a,u,c,f,d,m,g,n,p,r,k,$,C,E,s]}class $h extends pe{constructor(e){super(),me(this,e,Wbe,Ube,he,{x:0,y:1,buttonClass:2,buttonStyle:3,id:4,title:5,compact:6,menuButtons:7})}}function qbe(i){let e,t=(i[0].e||i[0])+"",n,r,s,l;return{c(){e=P("button"),n=K(t),h(e,"class",i[1]),h(e,"style",i[2]),h(e,"title",r=i[3]||"Emoji")},m(o,a){w(o,e,a),D(e,n),s||(l=[Se(e,"mouseover",i[5]),Se(e,"mouseout",i[6]),Se(e,"focus",i[5]),Se(e,"blur",i[6]),Se(e,"click",i[4])],s=!0)},p(o,[a]){a&1&&t!==(t=(o[0].e||o[0])+"")&&de(n,t),a&2&&h(e,"class",o[1]),a&4&&h(e,"style",o[2]),a&8&&r!==(r=o[3]||"Emoji")&&h(e,"title",r)},i:Z,o:Z,d(o){o&&y(e),s=!1,Ot(l)}}}function Hbe(i,e,t){let{emoji:n}=e,{className:r=""}=e,{style:s=""}=e,{title:l=void 0}=e;const o=Ut();function a(){o("emojiclick",n)}function u(){o("emojihover",n)}function c(){o("emojihover",null)}return i.$$set=f=>{"emoji"in f&&t(0,n=f.emoji),"className"in f&&t(1,r=f.className),"style"in f&&t(2,s=f.style),"title"in f&&t(3,l=f.title)},[n,r,s,l,a,u,c]}class $j extends pe{constructor(e){super(),me(this,e,Hbe,qbe,he,{emoji:0,className:1,style:2,title:3})}}const E5=i=>typeof i>"u",Fj=i=>typeof i=="function",Ej=i=>typeof i=="number";function Vbe(i){return!i.defaultPrevented&&i.button===0&&!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Cj(){let i=0;return()=>i++}function xbe(){return Math.random().toString(36).substring(2)}const Gu=typeof window>"u";function Dj(i,e,t){return i.addEventListener(e,t),()=>i.removeEventListener(e,t)}const Q2=(i,e)=>i?{}:{style:e},Ed=i=>({"aria-hidden":"true",...Q2(i,"display:none;")}),Vp=i=>`@@svnav-ctx__${i}`,ek=Vp("LOCATION"),Xd=Vp("ROUTER"),Sj=Vp("ROUTE"),Gbe=Vp("ROUTE_PARAMS"),Zbe=Vp("FOCUS_ELEM"),Tj=/^:(.+)/,Am=(i,e,t)=>i.substr(e,t),tk=(i,e)=>Am(i,0,e.length)===e,Xbe=i=>i==="",Kbe=i=>Tj.test(i),Aj=i=>i[0]==="*",Jbe=i=>i.replace(/\*.*$/,""),Pj=i=>i.replace(/(^\/+|\/+$)/g,"");function la(i,e=!1){const t=Pj(i).split("/");return e?t.filter(Boolean):t}const Bb=(i,e)=>i+(e?`?${e}`:""),aw=i=>`/${Pj(i)}`;function xp(...i){const e=n=>la(n,!0).join("/"),t=i.map(e).join("/");return aw(t)}const uw=1,C0=2,mf=3,Qbe=4,Nj=5,e2e=6,Mj=7,t2e=8,n2e=9,Lj=10,Oj=11,i2e={[uw]:"Link",[C0]:"Route",[mf]:"Router",[Qbe]:"useFocus",[Nj]:"useLocation",[e2e]:"useMatch",[Mj]:"useNavigate",[t2e]:"useParams",[n2e]:"useResolvable",[Lj]:"useResolve",[Oj]:"navigate"},cw=i=>i2e[i];function r2e(i,e){let t;return i===C0?t=e.path?`path="${e.path}"`:"default":i===uw?t=`to="${e.to}"`:i===mf&&(t=`basepath="${e.basepath||""}"`),`<${cw(i)} ${t||""} />`}function s2e(i,e,t,n){const r=t&&r2e(n||i,t),s=r?`

Occurred in: ${r}`:"",l=cw(i),o=Fj(e)?e(l):e;return`<${l}> ${o}${s}`}const Ij=i=>(...e)=>i(s2e(...e)),Bj=Ij(i=>{throw new Error(i)}),r1=Ij(console.warn),C5=4,l2e=3,o2e=2,a2e=1,u2e=1;function c2e(i,e){const t=i.default?0:la(i.fullPath).reduce((n,r)=>{let s=n;return s+=C5,Xbe(r)?s+=u2e:Kbe(r)?s+=o2e:Aj(r)?s-=C5+a2e:s+=l2e,s},0);return{route:i,score:t,index:e}}function f2e(i){return i.map(c2e).sort((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)}function Rj(i,e){let t,n;const[r]=e.split("?"),s=la(r),l=s[0]==="",o=f2e(i);for(let a=0,u=o.length;a<u;a++){const{route:c}=o[a];let f=!1;const d={},m=$=>({...c,params:d,uri:$});if(c.default){n=m(e);continue}const p=la(c.fullPath),g=Math.max(s.length,p.length);let k=0;for(;k<g;k++){const $=p[k],C=s[k];if(!E5($)&&Aj($)){const S=$==="*"?"*":$.slice(1);d[S]=s.slice(k).map(decodeURIComponent).join("/");break}if(E5(C)){f=!0;break}const E=Tj.exec($);if(E&&!l){const S=decodeURIComponent(C);d[E[1]]=S}else if($!==C){f=!0;break}}if(!f){t=m(xp(...s.slice(0,k)));break}}return t||n||null}function zj(i,e){return Rj([i],e)}function d2e(i,e){if(tk(i,"/"))return i;const[t,n]=i.split("?"),[r]=e.split("?"),s=la(t),l=la(r);if(s[0]==="")return Bb(r,n);if(!tk(s[0],".")){const u=l.concat(s).join("/");return Bb((r==="/"?"":"/")+u,n)}const o=l.concat(s),a=[];return o.forEach(u=>{u===".."?a.pop():u!=="."&&a.push(u)}),Bb(`/${a.join("/")}`,n)}function D5(i,e){const{pathname:t,hash:n="",search:r="",state:s}=i,l=la(e,!0),o=la(t,!0);for(;l.length;)l[0]!==o[0]&&Bj(mf,`Invalid state: All locations must begin with the basepath "${e}", found "${t}"`),l.shift(),o.shift();return{pathname:xp(...o),hash:n,search:r,state:s}}const S5=i=>i.length===1?"":i,fw=i=>{const e=i.indexOf("?"),t=i.indexOf("#"),n=e!==-1,r=t!==-1,s=r?S5(Am(i,t)):"",l=r?Am(i,0,t):i,o=n?S5(Am(l,e)):"";return{pathname:(n?Am(l,0,e):l)||"/",search:o,hash:s}},h2e=i=>{const{pathname:e,search:t,hash:n}=i;return e+t+n};function m2e(i,e,t){return xp(t,d2e(i,e))}function p2e(i,e){const t=aw(Jbe(i)),n=la(t,!0),r=la(e,!0).slice(0,n.length),s=zj({fullPath:t},xp(...r));return s&&s.uri}const Rb="POP",_2e="PUSH",g2e="REPLACE";function zb(i){return{...i.location,pathname:encodeURI(decodeURI(i.location.pathname)),state:i.history.state,_key:i.history.state&&i.history.state._key||"initial"}}function v2e(i){let e=[],t=zb(i),n=Rb;const r=(s=e)=>s.forEach(l=>l({location:t,action:n}));return{get location(){return t},listen(s){e.push(s);const l=()=>{t=zb(i),n=Rb,r([s])};r([s]);const o=Dj(i,"popstate",l);return()=>{o(),e=e.filter(a=>a!==s)}},navigate(s,l){const{state:o={},replace:a=!1}=l||{};if(n=a?g2e:_2e,Ej(s))l&&r1(Oj,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=Rb,i.history.go(s);else{const u={...o,_key:xbe()};try{i.history[a?"replaceState":"pushState"](u,"",s)}catch{i.location[a?"replace":"assign"](s)}}t=zb(i),r()}}}function jb(i,e){return{...fw(e),state:i}}function b2e(i="/"){let e=0,t=[jb(null,i)];return{get entries(){return t},get location(){return t[e]},addEventListener(){},removeEventListener(){},history:{get state(){return t[e].state},pushState(n,r,s){e++,t=t.slice(0,e),t.push(jb(n,s))},replaceState(n,r,s){t[e]=jb(n,s)},go(n){const r=e+n;r<0||r>t.length-1||(e=r)}}}}const k2e=!!(!Gu&&window.document&&window.document.createElement),y2e=!Gu&&window.location.origin==="null",jj=v2e(k2e&&!y2e?window:b2e()),{navigate:Xo}=jj;let Ya=null,Yj=!0;function w2e(i,e){const t=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<t.length;n++){const r=t[n],s=Number(r.dataset.svnavRouter);if(s===i)return!0;if(s===e)return!1}return!1}function $2e(i){(!Ya||i.level>Ya.level||i.level===Ya.level&&w2e(i.routerId,Ya.routerId))&&(Ya=i)}function F2e(){Ya=null}function E2e(){Yj=!1}function T5(i){if(!i)return!1;const e="tabindex";try{if(!i.hasAttribute(e)){i.setAttribute(e,"-1");let t;t=Dj(i,"blur",()=>{i.removeAttribute(e),t()})}return i.focus(),document.activeElement===i}catch{return!1}}function C2e(i,e){return Number(i.dataset.svnavRouteEnd)===e}function D2e(i){return/^H[1-6]$/i.test(i.tagName)}function A5(i,e=document){return e.querySelector(i)}function S2e(i){let t=A5(`[data-svnav-route-start="${i}"]`).nextElementSibling;for(;!C2e(t,i);){if(D2e(t))return t;const n=A5("h1,h2,h3,h4,h5,h6",t);if(n)return n;t=t.nextElementSibling}return null}function T2e(i){Promise.resolve(Bd(i.focusElement)).then(e=>{const t=e||S2e(i.id);t||r1(mf,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,i,C0),!T5(t)&&T5(document.documentElement)})}const A2e=(i,e,t)=>(n,r)=>uo().then(()=>{if(!Ya||Yj){E2e();return}if(n&&T2e(Ya.route),i.announcements&&r){const{path:s,fullPath:l,meta:o,params:a,uri:u}=Ya.route,c=i.createAnnouncement({path:s,fullPath:l,meta:o,params:a,uri:u},Bd(t));Promise.resolve(c).then(f=>{e.set(f)})}F2e()}),P5="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function P2e(i){let e,t,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Q2(i[6],P5)],r={};for(let s=0;s<n.length;s+=1)r=St(r,n[s]);return{c(){e=P("div"),t=K(i[0]),Bt(e,r)},m(s,l){w(s,e,l),D(e,t)},p(s,l){l[0]&1&&de(t,s[0]),Bt(e,r=Zt(n,[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},Q2(s[6],P5)]))},d(s){s&&y(e)}}}function N2e(i){let e,t,n,r,s,l=[Ed(i[6]),{"data-svnav-router":i[3]}],o={};for(let f=0;f<l.length;f+=1)o=St(o,l[f]);const a=i[22].default,u=nt(a,i,i[21],null);let c=i[2]&&i[4]&&i[1].announcements&&P2e(i);return{c(){e=P("div"),t=W(),u&&u.c(),n=W(),c&&c.c(),r=Ae(),Bt(e,o)},m(f,d){w(f,e,d),w(f,t,d),u&&u.m(f,d),w(f,n,d),c&&c.m(f,d),w(f,r,d),s=!0},p(f,d){Bt(e,o=Zt(l,[Ed(f[6]),{"data-svnav-router":f[3]}])),u&&u.p&&(!s||d[0]&2097152)&&rt(u,a,f,f[21],s?it(a,f[21],d,null):st(f[21]),null),f[2]&&f[4]&&f[1].announcements&&c.p(f,d)},i(f){s||(_(u,f),s=!0)},o(f){v(u,f),s=!1},d(f){f&&y(e),f&&y(t),u&&u.d(f),f&&y(n),c&&c.d(f),f&&y(r)}}}const M2e=Cj(),N5="/";function L2e(i,e,t){let n,r,s,l,o,{$$slots:a={},$$scope:u}=e,{basepath:c=N5}=e,{url:f=null}=e,{history:d=jj}=e,{primary:m=!0}=e,{a11y:p={}}=e,{disableInlineStyles:g=!1}=e;const k={createAnnouncement:ie=>`Navigated to ${ie.uri}`,announcements:!0,...p},$=c,C=aw(c),E=os(ek),S=os(Xd),T=!E,M=M2e(),R=m&&!(S&&!S.manageFocus),Y=rn("");Le(i,Y,ie=>t(0,o=ie));const z=S?S.disableInlineStyles:g,j=rn([]);Le(i,j,ie=>t(20,l=ie));const V=rn(null);Le(i,V,ie=>t(18,r=ie));let x=!1;const ee=T?0:S.level+1,q=T?rn((()=>D5(Gu?fw(f):d.location,C))()):E;Le(i,q,ie=>t(17,n=ie));const le=rn(n);Le(i,le,ie=>t(19,s=ie));const G=A2e(k,Y,q),X=ie=>re=>re.filter(be=>be.id!==ie);function se(ie){if(Gu){if(x)return;const re=zj(ie,n.pathname);if(re)return x=!0,re}else j.update(re=>{const be=X(ie.id)(re);return be.push(ie),be})}function te(ie){j.update(X(ie))}return!T&&c!==N5&&r1(mf,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:c}),T&&(Yt(()=>d.listen(re=>{const be=D5(re.location,C);le.set(n),q.set(be)})),fo(ek,q)),fo(Xd,{activeRoute:V,registerRoute:se,unregisterRoute:te,manageFocus:R,level:ee,id:M,history:T?d:S.history,basepath:T?C:S.basepath,disableInlineStyles:z}),i.$$set=ie=>{"basepath"in ie&&t(11,c=ie.basepath),"url"in ie&&t(12,f=ie.url),"history"in ie&&t(13,d=ie.history),"primary"in ie&&t(14,m=ie.primary),"a11y"in ie&&t(15,p=ie.a11y),"disableInlineStyles"in ie&&t(16,g=ie.disableInlineStyles),"$$scope"in ie&&t(21,u=ie.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&2048&&c!==$&&r1(mf,'You cannot change the "basepath" prop. It is ignored.'),i.$$.dirty[0]&1179648){const ie=Rj(l,n.pathname);V.set(ie)}if(i.$$.dirty[0]&655360&&T){const ie=!!n.hash,re=!ie&&R,be=!ie||n.pathname!==s.pathname;G(re,be)}i.$$.dirty[0]&262144&&R&&r&&r.primary&&$2e({level:ee,routerId:M,route:r})},[o,k,T,M,R,Y,z,j,V,q,le,c,f,d,m,p,g,n,r,s,l,u,a]}class O2e extends pe{constructor(e){super(),me(this,e,L2e,N2e,he,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}const Uj=O2e;function Gp(i,e,t=Xd,n=mf){os(t)||Bj(i,s=>`You cannot use ${s} outside of a ${cw(n)}.`,e)}const I2e=i=>{const{subscribe:e}=os(i);return{subscribe:e}};function dw(){return Gp(Nj),I2e(ek)}function Wj(){const{history:i}=os(Xd);return i}function qj(){const i=os(Sj);return i?ds(i,e=>e.base):rn("/")}function Hj(){Gp(Lj);const i=qj(),{basepath:e}=os(Xd);return n=>m2e(n,Bd(i),e)}function B2e(){Gp(Mj);const i=Hj(),{navigate:e}=Wj();return(n,r)=>{const s=Ej(n)?n:i(n);return e(s,r)}}const R2e=i=>({params:i&16,location:i&8}),M5=i=>({params:Gu?Bd(i[10]):i[4],location:i[3],navigate:i[11]});function L5(i){let e,t;return e=new Uj({props:{primary:i[1],$$slots:{default:[Y2e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.primary=n[1]),r&528409&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function z2e(i){let e;const t=i[18].default,n=nt(t,i,i[19],M5);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&524312)&&rt(n,t,r,r[19],e?it(t,r[19],s,R2e):st(r[19]),M5)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function j2e(i){let e,t,n;const r=[{location:i[3]},{navigate:i[11]},Gu?Bd(i[10]):i[4],i[12]];var s=i[0];function l(o){let a={};for(let u=0;u<r.length;u+=1)a=St(a,r[u]);return{props:a}}return s&&(e=Un(s,l())),{c(){e&&B(e.$$.fragment),t=Ae()},m(o,a){e&&O(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&7192?Zt(r,[a&8&&{location:o[3]},a&2048&&{navigate:o[11]},a&1040&&Qr(Gu?Bd(o[10]):o[4]),a&4096&&Qr(o[12])]):{};if(s!==(s=o[0])){if(e){ae();const c=e;v(c.$$.fragment,1,0,()=>{I(c,1)}),ue()}s?(e=Un(s,l()),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&I(e,o)}}}function Y2e(i){let e,t,n,r;const s=[j2e,z2e],l=[];function o(a,u){return a[0]!==null?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function U2e(i){let e,t,n,r,s,l=[Ed(i[7]),{"data-svnav-route-start":i[5]}],o={};for(let f=0;f<l.length;f+=1)o=St(o,l[f]);let a=i[2]&&L5(i),u=[Ed(i[7]),{"data-svnav-route-end":i[5]}],c={};for(let f=0;f<u.length;f+=1)c=St(c,u[f]);return{c(){e=P("div"),t=W(),a&&a.c(),n=W(),r=P("div"),Bt(e,o),Bt(r,c)},m(f,d){w(f,e,d),w(f,t,d),a&&a.m(f,d),w(f,n,d),w(f,r,d),s=!0},p(f,[d]){Bt(e,o=Zt(l,[Ed(f[7]),{"data-svnav-route-start":f[5]}])),f[2]?a?(a.p(f,d),d&4&&_(a,1)):(a=L5(f),a.c(),_(a,1),a.m(n.parentNode,n)):a&&(ae(),v(a,1,1,()=>{a=null}),ue()),Bt(r,c=Zt(u,[Ed(f[7]),{"data-svnav-route-end":f[5]}]))},i(f){s||(_(a),s=!0)},o(f){v(a),s=!1},d(f){f&&y(e),f&&y(t),a&&a.d(f),f&&y(n),f&&y(r)}}}const W2e=Cj();function q2e(i,e,t){let n;const r=["path","component","meta","primary"];let s=mi(e,r),l,o,a,u,{$$slots:c={},$$scope:f}=e,{path:d=""}=e,{component:m=null}=e,{meta:p={}}=e,{primary:g=!0}=e;Gp(C0,e);const k=W2e(),{registerRoute:$,unregisterRoute:C,activeRoute:E,disableInlineStyles:S}=os(Xd);Le(i,E,x=>t(16,l=x));const T=qj();Le(i,T,x=>t(17,a=x));const M=dw();Le(i,M,x=>t(3,o=x));const R=rn(null);let Y;const z=rn(),j=rn({});Le(i,j,x=>t(4,u=x)),fo(Sj,z),fo(Gbe,j),fo(Zbe,R);const V=B2e();return Gu||Ns(()=>C(k)),i.$$set=x=>{t(24,e=St(St({},e),Qi(x))),t(12,s=mi(e,r)),"path"in x&&t(13,d=x.path),"component"in x&&t(0,m=x.component),"meta"in x&&t(14,p=x.meta),"primary"in x&&t(1,g=x.primary),"$$scope"in x&&t(19,f=x.$$scope)},i.$$.update=()=>{if(i.$$.dirty&155658){const x=d==="",ee=xp(a,d),J={id:k,path:d,meta:p,default:x,fullPath:x?"":ee,base:x?a:p2e(ee,o.pathname),primary:g,focusElement:R};z.set(J),t(15,Y=$(J))}if(i.$$.dirty&98304&&t(2,n=!!(Y||l&&l.id===k)),i.$$.dirty&98308&&n){const{params:x}=Y||l;j.set(x)}},e=Qi(e),[m,g,n,o,u,k,E,S,T,M,j,V,s,d,p,Y,l,a,c,f]}class H2e extends pe{constructor(e){super(),me(this,e,q2e,U2e,he,{path:13,component:0,meta:14,primary:1})}}const xr=H2e;function V2e(i){let e,t,n,r;const s=i[13].default,l=nt(s,i,i[12],null);let o=[{href:i[0]},i[2],i[1]],a={};for(let u=0;u<o.length;u+=1)a=St(a,o[u]);return{c(){e=P("a"),l&&l.c(),Bt(e,a)},m(u,c){w(u,e,c),l&&l.m(e,null),t=!0,n||(r=Se(e,"click",i[4]),n=!0)},p(u,[c]){l&&l.p&&(!t||c&4096)&&rt(l,s,u,u[12],t?it(s,u[12],c,null):st(u[12]),null),Bt(e,a=Zt(o,[(!t||c&1)&&{href:u[0]},c&4&&u[2],c&2&&u[1]]))},i(u){t||(_(l,u),t=!0)},o(u){v(l,u),t=!1},d(u){u&&y(e),l&&l.d(u),n=!1,r()}}}function x2e(i,e,t){let n,r,s,l,o,a;const u=["to","replace","state","getProps"];let c=mi(e,u),f,{$$slots:d={},$$scope:m}=e,{to:p}=e,{replace:g=!1}=e,{state:k={}}=e,{getProps:$=null}=e;Gp(uw,e);const C=dw();Le(i,C,R=>t(11,f=R));const E=Ut(),S=Hj(),{navigate:T}=Wj();function M(R){E("click",R),Vbe(R)&&(R.preventDefault(),T(n,{state:k,replace:l||g}))}return i.$$set=R=>{t(19,e=St(St({},e),Qi(R))),t(18,c=mi(e,u)),"to"in R&&t(5,p=R.to),"replace"in R&&t(6,g=R.replace),"state"in R&&t(7,k=R.state),"getProps"in R&&t(8,$=R.getProps),"$$scope"in R&&t(12,m=R.$$scope)},i.$$.update=()=>{i.$$.dirty&2080&&t(0,n=S(p,f)),i.$$.dirty&2049&&t(10,r=tk(f.pathname,n)),i.$$.dirty&2049&&t(9,s=n===f.pathname),i.$$.dirty&2049&&(l=fw(n)===h2e(f)),i.$$.dirty&512&&t(2,o=s?{"aria-current":"page"}:{}),t(1,a=(()=>{if(Fj($)){const R=$({location:f,href:n,isPartiallyCurrent:r,isCurrent:s});return{...c,...R}}return c})())},e=Qi(e),[n,a,o,C,M,p,g,k,$,s,r,f,m,d]}class G2e extends pe{constructor(e){super(),me(this,e,x2e,V2e,he,{to:5,replace:6,state:7,getProps:8})}}const Z2e=G2e,X2e=i=>({}),O5=i=>({}),K2e=i=>({}),I5=i=>({}),J2e=i=>({}),B5=i=>({}),Q2e=i=>({}),R5=i=>({});function eke(i){let e,t,n,r,s,l,o,a,u,c,f,d,m=i[20]&&nke(i),p=i[0]&&z5(i),g=i[1]&&j5(i);const k=i[28].default,$=nt(k,i,i[27],null);let C=i[21]&&ike(i);return{c(){e=P("div"),m&&m.c(),t=W(),n=P("div"),p&&p.c(),r=W(),g&&g.c(),s=W(),$&&$.c(),o=W(),C&&C.c(),h(n,"class",l="main "+i[16]+" filler "+(i[7]?"truncate":"")),h(e,"id",i[2]),h(e,"aria-label",i[10]),h(e,"role","menuitem"),h(e,"autofocus",i[18]),h(e,"item-divider",i[5]),h(e,"style",a="--line-gap:"+(i[12]||0)+"px; "+i[8]),h(e,"class",u="n-item "+(i[6]?"compact":"")+" "+(i[19]?"opacity-50":"")+" "+(i[15]?"bg-transparent":"")+" "+i[4]+" "+(i[12]?"bottom-line":"")+" "+(i[13]?"top-line":"")+" "+(i[11]?"solo":"")+" "+(i[3]?`bg-${i[3]}`:"")),h(e,":alt","title")},m(E,S){w(E,e,S),m&&m.m(e,null),D(e,t),D(e,n),p&&p.m(n,null),D(n,r),g&&g.m(n,null),D(n,s),$&&$.m(n,null),D(e,o),C&&C.m(e,null),c=!0,i[18]&&e.focus(),f||(d=[Se(e,"tap",i[23].tap),Se(e,"dbltap",i[23].doubletap),Se(e,"longtap",i[23].longtap),Se(e,"contextmenu",i[30])],f=!0)},p(E,S){E[20]&&m.p(E,S),E[0]?p?p.p(E,S):(p=z5(E),p.c(),p.m(n,r)):p&&(p.d(1),p=null),E[1]?g?g.p(E,S):(g=j5(E),g.c(),g.m(n,s)):g&&(g.d(1),g=null),$&&$.p&&(!c||S&134217728)&&rt($,k,E,E[27],c?it(k,E[27],S,null):st(E[27]),null),(!c||S&65664&&l!==(l="main "+E[16]+" filler "+(E[7]?"truncate":"")))&&h(n,"class",l),E[21]&&C.p(E,S),(!c||S&4)&&h(e,"id",E[2]),(!c||S&1024)&&h(e,"aria-label",E[10]),(!c||S&262144)&&h(e,"autofocus",E[18]),(!c||S&32)&&h(e,"item-divider",E[5]),(!c||S&4352&&a!==(a="--line-gap:"+(E[12]||0)+"px; "+E[8]))&&h(e,"style",a),(!c||S&571480&&u!==(u="n-item "+(E[6]?"compact":"")+" "+(E[19]?"opacity-50":"")+" "+(E[15]?"bg-transparent":"")+" "+E[4]+" "+(E[12]?"bottom-line":"")+" "+(E[13]?"top-line":"")+" "+(E[11]?"solo":"")+" "+(E[3]?`bg-${E[3]}`:"")))&&h(e,"class",u)},i(E){c||(_(m),_($,E),_(C),c=!0)},o(E){v(m),v($,E),v(C),c=!1},d(E){E&&y(e),m&&m.d(),p&&p.d(),g&&g.d(),$&&$.d(E),C&&C.d(),f=!1,Ot(d)}}}function tke(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p=i[20]&&rke(i),g=i[0]&&Y5(i),k=i[1]&&U5(i);const $=i[28].default,C=nt($,i,i[27],null);let E=(i[21]||i[14])&&W5(i),S=(i[9]||i[14])&&H5();return{c(){e=P("button"),p&&p.c(),t=W(),n=P("div"),g&&g.c(),r=W(),k&&k.c(),s=W(),C&&C.c(),o=W(),E&&E.c(),a=W(),S&&S.c(),h(n,"class",l="main "+i[16]+" filler "+(i[7]?"truncate":"")),h(e,"role","menuitem"),e.autofocus=i[18],h(e,"id",i[2]),h(e,"aria-label",i[10]),e.disabled=i[19],h(e,"item-divider",i[5]),h(e,"style",u="--line-gap:"+(i[12]||0)+"px; "+i[8]),h(e,"class",c="n-item "+(i[6]?"compact":"")+" "+(i[9]||i[14]?"clickable":"")+" "+(i[19]?"opacity-50":"")+" "+(i[15]?"bg-transparent":"")+" "+(i[12]?"bottom-line":"")+" "+(i[13]?"top-line":"")+" "+(i[11]?"solo":"")+" "+i[4]+" "+(i[3]?`bg-${i[3]}`:"")),h(e,":alt","title")},m(T,M){w(T,e,M),p&&p.m(e,null),D(e,t),D(e,n),g&&g.m(n,null),D(n,r),k&&k.m(n,null),D(n,s),C&&C.m(n,null),D(e,o),E&&E.m(e,null),D(e,a),S&&S.m(e,null),f=!0,i[18]&&e.focus(),d||(m=[Se(e,"tap",i[23].tap),Se(e,"dbltap",i[23].doubletap),Se(e,"longtap",i[23].longtap),Se(e,"contextmenu",i[29])],d=!0)},p(T,M){T[20]&&p.p(T,M),T[0]?g?g.p(T,M):(g=Y5(T),g.c(),g.m(n,r)):g&&(g.d(1),g=null),T[1]?k?k.p(T,M):(k=U5(T),k.c(),k.m(n,s)):k&&(k.d(1),k=null),C&&C.p&&(!f||M&134217728)&&rt(C,$,T,T[27],f?it($,T[27],M,null):st(T[27]),null),(!f||M&65664&&l!==(l="main "+T[16]+" filler "+(T[7]?"truncate":"")))&&h(n,"class",l),T[21]||T[14]?E?(E.p(T,M),M&16384&&_(E,1)):(E=W5(T),E.c(),_(E,1),E.m(e,a)):E&&(ae(),v(E,1,1,()=>{E=null}),ue()),T[9]||T[14]?S||(S=H5(),S.c(),S.m(e,null)):S&&(S.d(1),S=null),(!f||M&262144)&&(e.autofocus=T[18]),(!f||M&4)&&h(e,"id",T[2]),(!f||M&1024)&&h(e,"aria-label",T[10]),(!f||M&524288)&&(e.disabled=T[19]),(!f||M&32)&&h(e,"item-divider",T[5]),(!f||M&4352&&u!==(u="--line-gap:"+(T[12]||0)+"px; "+T[8]))&&h(e,"style",u),(!f||M&588376&&c!==(c="n-item "+(T[6]?"compact":"")+" "+(T[9]||T[14]?"clickable":"")+" "+(T[19]?"opacity-50":"")+" "+(T[15]?"bg-transparent":"")+" "+(T[12]?"bottom-line":"")+" "+(T[13]?"top-line":"")+" "+(T[11]?"solo":"")+" "+T[4]+" "+(T[3]?`bg-${T[3]}`:"")))&&h(e,"class",c)},i(T){f||(_(p),_(C,T),_(E),f=!0)},o(T){v(p),v(C,T),v(E),f=!1},d(T){T&&y(e),p&&p.d(),g&&g.d(),k&&k.d(),C&&C.d(T),E&&E.d(),S&&S.d(),d=!1,Ot(m)}}}function nke(i){let e,t;const n=i[28].left,r=nt(n,i,i[27],I5);return{c(){e=P("div"),r&&r.c(),h(e,"class","left")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&134217728)&&rt(r,n,s,s[27],t?it(n,s[27],l,K2e):st(s[27]),I5)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function z5(i){let e,t,n;return{c(){e=P("div"),t=K(i[0]),h(e,"class",n="font-semibold leading-tight title "+i[17])},m(r,s){w(r,e,s),D(e,t)},p(r,s){s&1&&de(t,r[0]),s&131072&&n!==(n="font-semibold leading-tight title "+r[17])&&h(e,"class",n)},d(r){r&&y(e)}}}function j5(i){let e,t;return{c(){e=P("div"),t=K(i[1]),h(e,"class","description")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&2&&de(t,n[1])},d(n){n&&y(e)}}}function ike(i){let e,t;const n=i[28].right,r=nt(n,i,i[27],O5);return{c(){e=P("div"),r&&r.c(),h(e,"class","right")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&134217728)&&rt(r,n,s,s[27],t?it(n,s[27],l,X2e):st(s[27]),O5)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function rke(i){let e,t;const n=i[28].left,r=nt(n,i,i[27],R5);return{c(){e=P("div"),r&&r.c(),h(e,"class","left relative")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&134217728)&&rt(r,n,s,s[27],t?it(n,s[27],l,Q2e):st(s[27]),R5)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Y5(i){let e,t,n;return{c(){e=P("div"),t=K(i[0]),h(e,"class",n="font-medium leading-tight title "+i[17])},m(r,s){w(r,e,s),D(e,t)},p(r,s){s&1&&de(t,r[0]),s&131072&&n!==(n="font-medium leading-tight title "+r[17])&&h(e,"class",n)},d(r){r&&y(e)}}}function U5(i){let e,t;return{c(){e=P("div"),t=K(i[1]),h(e,"class","description")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&2&&de(t,n[1])},d(n){n&&y(e)}}}function W5(i){let e,t,n;const r=i[28].right,s=nt(r,i,i[27],B5);let l=i[14]&&q5();return{c(){e=P("div"),s&&s.c(),t=W(),l&&l.c(),h(e,"class","right d-flex align-items-center")},m(o,a){w(o,e,a),s&&s.m(e,null),D(e,t),l&&l.m(e,null),n=!0},p(o,a){s&&s.p&&(!n||a&134217728)&&rt(s,r,o,o[27],n?it(r,o[27],a,J2e):st(o[27]),B5),o[14]?l?(l.p(o,a),a&16384&&_(l,1)):(l=q5(),l.c(),_(l,1),l.m(e,null)):l&&(ae(),v(l,1,1,()=>{l=null}),ue())},i(o){n||(_(s,o),_(l),n=!0)},o(o){v(s,o),v(l),n=!1},d(o){o&&y(e),s&&s.d(o),l&&l.d()}}}function q5(i){let e,t;return e=new et({props:{icon:rc,className:"text-gray-300 z-0 dark:text-gray-700",style:"margin-left:6px; margin-right:-10px;"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function H5(i){let e;return{c(){e=P("div"),h(e,"class","hit-mark")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function ske(i){let e,t,n,r;const s=[tke,eke],l=[];function o(a,u){return a[9]||a[14]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function lke(i,e,t){let{$$slots:n={},$$scope:r}=e,{title:s=void 0}=e,{description:l=void 0}=e,{href:o=void 0}=e,{to:a=void 0}=e,{id:u=null}=e,{bg:c=void 0}=e,{className:f=""}=e,{itemDivider:d=void 0}=e,{compact:m=!1}=e,{truncate:p=!1}=e,{style:g=""}=e,{clickable:k=!1}=e,{ariaLabel:$=""}=e,{solo:C=!1}=e,{bottomLine:E=void 0}=e,{topLine:S=!1}=e,{delay:T=void 0}=e,{detail:M=!1}=e,{transparent:R=!1}=e,{mainClass:Y=""}=e,{titleClass:z=""}=e,{autofocus:j=void 0}=e,{disabled:V=!1}=e;const x=(arguments[1].$$slots||{}).hasOwnProperty("left"),ee=(arguments[1].$$slots||{}).hasOwnProperty("right"),J=Ut(),q={async tap(X){if(!V){let se=0;T!==void 0?se=T:(k||M)&&(se=200),await Ps(se),o?window.open(o,"_system"):a&&Xo(a),J("click",X),J("tap",X)}},doubletap(X){V||J("dbltap",X)},longtap(X){V||J("longtap",X)},getHref(){return this.href||this.to||null},getStyle(){return this.getHref?{cursor:"pointer"}:{}}},le=X=>(J("contextmenu",X),!1),G=X=>(J("contextmenu",X),!1);return i.$$set=X=>{"title"in X&&t(0,s=X.title),"description"in X&&t(1,l=X.description),"href"in X&&t(24,o=X.href),"to"in X&&t(25,a=X.to),"id"in X&&t(2,u=X.id),"bg"in X&&t(3,c=X.bg),"className"in X&&t(4,f=X.className),"itemDivider"in X&&t(5,d=X.itemDivider),"compact"in X&&t(6,m=X.compact),"truncate"in X&&t(7,p=X.truncate),"style"in X&&t(8,g=X.style),"clickable"in X&&t(9,k=X.clickable),"ariaLabel"in X&&t(10,$=X.ariaLabel),"solo"in X&&t(11,C=X.solo),"bottomLine"in X&&t(12,E=X.bottomLine),"topLine"in X&&t(13,S=X.topLine),"delay"in X&&t(26,T=X.delay),"detail"in X&&t(14,M=X.detail),"transparent"in X&&t(15,R=X.transparent),"mainClass"in X&&t(16,Y=X.mainClass),"titleClass"in X&&t(17,z=X.titleClass),"autofocus"in X&&t(18,j=X.autofocus),"disabled"in X&&t(19,V=X.disabled),"$$scope"in X&&t(27,r=X.$$scope)},[s,l,u,c,f,d,m,p,g,k,$,C,E,S,M,R,Y,z,j,V,x,ee,J,q,o,a,T,r,n,le,G]}class lt extends pe{constructor(e){super(),me(this,e,lke,ske,he,{title:0,description:1,href:24,to:25,id:2,bg:3,className:4,itemDivider:5,compact:6,truncate:7,style:8,clickable:9,ariaLabel:10,solo:11,bottomLine:12,topLine:13,delay:26,detail:14,transparent:15,mainClass:16,titleClass:17,autofocus:18,disabled:19})}}const s1={tick:{id:"tick",emoji:"\u261D\uFE0F",label:Fe.t("tracker.type.simple","Tally"),description:Fe.t("tracker.type.simple_description","Tally each time it's used. Good for: pooped, gluten, made bed, showered.")},value:{id:"value",emoji:"\u{1F522}",label:Fe.t("tracker.type.value","Value"),description:Fe.t("tracker.type.value_description","Good for tracking fluids, medicines, distance")},range:{id:"range",emoji:"\u{1F39A}",label:Fe.t("tracker.type.range","Range"),description:Fe.t("tracker.type.range_description","Select from a range like 1-10. Good for Mood, Anxiety, Stress")},picker:{id:"picker",emoji:"\u2705",label:Fe.t("tracker.type.picker","Pick List"),description:Fe.t("tracker.type.picker_description","Create a pick list of anything. Including #trackers, @people and +context")},timer:{id:"timer",emoji:"\u23F2",label:Fe.t("tracker.type.timer","Timer"),description:Fe.t("tracker.type.timer_description","Track how long things take.")},note:{id:"note",emoji:"\u{1F3B3}",label:Fe.t("tracker.type.note","Combo"),description:Fe.t("tracker.type.note_description","Track multiple trackers at a time")}};function V5(i){if(s1[i])return s1[i]}const oke=(i=0)=>{const t=`${i}`.split(".");let n=t[0];const r=t.length>1?"."+t[1]:"",s=/(\d+)(\d{3})/;for(;s.test(n);)n=n.replace(s,"$1,$2");return n+r};class D0{constructor(e){je(this,"id");je(this,"uom");if(this.id=e,Hu.hasOwnProperty(e))this.uom=Hu[e];else throw new Error(`${e} is an unknow unit of measure`)}get system(){return this.uom.system?this.uom.system:"both"}display(e){const t=n=>{let r=gi(n),s=`${r}`;return!isNaN(r)&&r!==0&&(s=oke(r)),this.uom.symbolAffix&&this.uom.symbol?this.uom.symbolAffix==="pre"?this.uom.symbol+this.uom.symbolSpace+s:`${s}${this.uom.symbolSpace}${this.uom.symbol}`:s};return this.uom.display?this.uom.display(e):t(e)}convertValueTo(e,t){return this.uom.system&&t!==this.uom.system&&this.uom.convert?Math.round(100*this.uom.convert(e))/100:e}convertTo(e){if(this.uom.system&&e!==this.uom.system){const t=this.uom.cousin;return t?new D0(t):this}else return this}}const ake=i=>({}),x5=i=>({}),uke=i=>({}),G5=i=>({}),cke=i=>({}),Z5=i=>({}),fke=i=>({}),X5=i=>({});function K5(i){let e,t=(i[1]||i[2])+"",n;return{c(){e=P("label"),n=K(t),h(e,"for",i[19])},m(r,s){w(r,e,s),D(e,n)},p(r,s){s[0]&6&&t!==(t=(r[1]||r[2])+"")&&de(n,t),s[0]&524288&&h(e,"for",r[19])},d(r){r&&y(e)}}}function dke(i){let e,t,n;return{c(){e=P("input"),e.autofocus=i[23],e.disabled=i[13],h(e,"id",i[7]),h(e,"type","text"),h(e,"inputmode",i[3]),h(e,"style",i[9]),h(e,"class",i[10]),h(e,"pattern",i[11]),h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[55](e),Kn(e,i[0]),i[23]&&e.focus(),t||(n=[Se(e,"input",i[56]),Se(e,"keyup",i[57]),Se(e,"input",i[31]),Se(e,"focus",i[30]),Se(e,"blur",i[29])],t=!0)},p(r,s){s[0]&8388608&&(e.autofocus=r[23]),s[0]&8192&&(e.disabled=r[13]),s[0]&128&&h(e,"id",r[7]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&512&&h(e,"style",r[9]),s[0]&1024&&h(e,"class",r[10]),s[0]&2048&&h(e,"pattern",r[11]),s[0]&1048576&&h(e,"autocomplete",r[20]),s[0]&2097152&&h(e,"autocorrect",r[21]),s[0]&4194304&&h(e,"autocapitalize",r[22]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&e.value!==r[0]&&Kn(e,r[0])},i:Z,o:Z,d(r){r&&y(e),i[55](null),t=!1,Ot(n)}}}function hke(i){let e,t,n,r,s;const l=i[35].default,o=nt(l,i,i[34],null);return{c(){e=P("textarea"),t=W(),o&&o.c(),e.autofocus=i[23],e.disabled=i[13],h(e,"id",i[7]),h(e,"rows",i[17]),h(e,"style",i[9]),h(e,"class",i[10]),h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(a,u){w(a,e,u),i[53](e),Kn(e,i[0]),w(a,t,u),o&&o.m(a,u),n=!0,i[23]&&e.focus(),r||(s=[Se(e,"input",i[31]),Se(e,"focus",i[30]),Se(e,"blur",i[29]),Se(e,"input",i[54])],r=!0)},p(a,u){(!n||u[0]&8388608)&&(e.autofocus=a[23]),(!n||u[0]&8192)&&(e.disabled=a[13]),(!n||u[0]&128)&&h(e,"id",a[7]),(!n||u[0]&131072)&&h(e,"rows",a[17]),(!n||u[0]&512)&&h(e,"style",a[9]),(!n||u[0]&1024)&&h(e,"class",a[10]),(!n||u[0]&1048576)&&h(e,"autocomplete",a[20]),(!n||u[0]&2097152)&&h(e,"autocorrect",a[21]),(!n||u[0]&4194304)&&h(e,"autocapitalize",a[22]),(!n||u[0]&4)&&h(e,"placeholder",a[2]),u[0]&1&&Kn(e,a[0]),o&&o.p&&(!n||u[1]&8)&&rt(o,l,a,a[34],n?it(l,a[34],u,null):st(a[34]),null)},i(a){n||(_(o,a),n=!0)},o(a){v(o,a),n=!1},d(a){a&&y(e),i[53](null),a&&y(t),o&&o.d(a),r=!1,Ot(s)}}}function mke(i){let e,t,n,r,s;const l=i[35].default,o=nt(l,i,i[34],null);return{c(){e=P("div"),t=P("select"),o&&o.c(),h(t,"placeholder",i[2]),h(t,"id",i[7]),t.disabled=i[13],i[0]===void 0&&Ei(()=>i[52].call(t)),h(e,"class","select-wrap")},m(a,u){w(a,e,u),D(e,t),o&&o.m(t,null),i[50](t),ei(t,i[0]),n=!0,r||(s=[Se(t,"input",i[51]),Se(t,"change",i[52])],r=!0)},p(a,u){o&&o.p&&(!n||u[1]&8)&&rt(o,l,a,a[34],n?it(l,a[34],u,null):st(a[34]),null),(!n||u[0]&4)&&h(t,"placeholder",a[2]),(!n||u[0]&128)&&h(t,"id",a[7]),(!n||u[0]&8192)&&(t.disabled=a[13]),u[0]&1&&ei(t,a[0])},i(a){n||(_(o,a),n=!0)},o(a){v(o,a),n=!1},d(a){a&&y(e),o&&o.d(a),i[50](null),r=!1,Ot(s)}}}function pke(i){let e,t,n;return{c(){e=P("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),h(e,"type","date"),h(e,"style",i[9]),e.autofocus=i[23],h(e,"class",i[10]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[48](e),Kn(e,i[0]),i[23]&&e.focus(),t||(n=[Se(e,"input",i[49]),Se(e,"input",i[31]),Se(e,"focus",i[30]),Se(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&512&&h(e,"style",r[9]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&1024&&h(e,"class",r[10]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&Kn(e,r[0])},i:Z,o:Z,d(r){r&&y(e),i[48](null),t=!1,Ot(n)}}}function _ke(i){let e,t,n;return{c(){e=P("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),h(e,"type","number"),h(e,"style",i[9]),h(e,"class",i[10]),e.autofocus=i[23],h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[46](e),Kn(e,i[0]),i[23]&&e.focus(),t||(n=[Se(e,"input",i[47]),Se(e,"input",i[31]),Se(e,"focus",i[30]),Se(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&512&&h(e,"style",r[9]),s[0]&1024&&h(e,"class",r[10]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&1048576&&h(e,"autocomplete",r[20]),s[0]&2097152&&h(e,"autocorrect",r[21]),s[0]&4194304&&h(e,"autocapitalize",r[22]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&oh(e.value)!==r[0]&&Kn(e,r[0])},i:Z,o:Z,d(r){r&&y(e),i[46](null),t=!1,Ot(n)}}}function gke(i){let e,t,n;return{c(){e=P("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),h(e,"type","datetime-local"),h(e,"style",i[9]),h(e,"class",i[10]),e.autofocus=i[23],h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[44](e),Kn(e,i[0]),i[23]&&e.focus(),t||(n=[Se(e,"input",i[45]),Se(e,"input",i[31]),Se(e,"focus",i[30]),Se(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&512&&h(e,"style",r[9]),s[0]&1024&&h(e,"class",r[10]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&1048576&&h(e,"autocomplete",r[20]),s[0]&2097152&&h(e,"autocorrect",r[21]),s[0]&4194304&&h(e,"autocapitalize",r[22]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&Kn(e,r[0])},i:Z,o:Z,d(r){r&&y(e),i[44](null),t=!1,Ot(n)}}}function vke(i){let e,t,n;return{c(){e=P("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),h(e,"type","password"),h(e,"style",i[9]),h(e,"class",i[10]),h(e,"pattern",i[11]),e.autofocus=i[23],h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[42](e),Kn(e,i[0]),i[23]&&e.focus(),t||(n=[Se(e,"input",i[43]),Se(e,"input",i[31]),Se(e,"focus",i[30]),Se(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&512&&h(e,"style",r[9]),s[0]&1024&&h(e,"class",r[10]),s[0]&2048&&h(e,"pattern",r[11]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&1048576&&h(e,"autocomplete",r[20]),s[0]&2097152&&h(e,"autocorrect",r[21]),s[0]&4194304&&h(e,"autocapitalize",r[22]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&e.value!==r[0]&&Kn(e,r[0])},i:Z,o:Z,d(r){r&&y(e),i[42](null),t=!1,Ot(n)}}}function bke(i){let e,t,n;return{c(){e=P("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),h(e,"name",i[19]),h(e,"type","file"),h(e,"style",i[9]),e.autofocus=i[23],h(e,"class",i[10]),h(e,"pattern",i[11]),h(e,"accept",i[18]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[39](e),i[23]&&e.focus(),t||(n=[Se(e,"change",i[40]),Se(e,"change",i[41]),Se(e,"input",i[31]),Se(e,"focus",i[30]),Se(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&524288&&h(e,"name",r[19]),s[0]&512&&h(e,"style",r[9]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&1024&&h(e,"class",r[10]),s[0]&2048&&h(e,"pattern",r[11]),s[0]&262144&&h(e,"accept",r[18]),s[0]&4&&h(e,"placeholder",r[2])},i:Z,o:Z,d(r){r&&y(e),i[39](null),t=!1,Ot(n)}}}function kke(i){let e,t,n;return{c(){e=P("input"),h(e,"id",i[7]),e.disabled=i[13],h(e,"inputmode",i[3]),e.autofocus=i[23],h(e,"name",i[19]),h(e,"type","email"),h(e,"style",i[9]),h(e,"class",i[10]),h(e,"pattern",i[11]),h(e,"autocomplete",i[20]),h(e,"autocorrect",i[21]),h(e,"autocapitalize",i[22]),h(e,"placeholder",i[2])},m(r,s){w(r,e,s),i[36](e),Kn(e,i[0]),i[23]&&e.focus(),t||(n=[Se(e,"input",i[37]),Se(e,"input",i[31]),Se(e,"change",i[38]),Se(e,"focus",i[30]),Se(e,"blur",i[29])],t=!0)},p(r,s){s[0]&128&&h(e,"id",r[7]),s[0]&8192&&(e.disabled=r[13]),s[0]&8&&h(e,"inputmode",r[3]),s[0]&8388608&&(e.autofocus=r[23]),s[0]&524288&&h(e,"name",r[19]),s[0]&512&&h(e,"style",r[9]),s[0]&1024&&h(e,"class",r[10]),s[0]&2048&&h(e,"pattern",r[11]),s[0]&1048576&&h(e,"autocomplete",r[20]),s[0]&2097152&&h(e,"autocorrect",r[21]),s[0]&4194304&&h(e,"autocapitalize",r[22]),s[0]&4&&h(e,"placeholder",r[2]),s[0]&1&&e.value!==r[0]&&Kn(e,r[0])},i:Z,o:Z,d(r){r&&y(e),i[36](null),t=!1,Ot(n)}}}function J5(i){let e,t=(i[5]||"")+"",n,r,s;const l=i[35].help,o=nt(l,i,i[34],x5);return{c(){e=P("div"),n=K(t),r=W(),o&&o.c(),h(e,"class","helper")},m(a,u){w(a,e,u),D(e,n),D(e,r),o&&o.m(e,null),s=!0},p(a,u){(!s||u[0]&32)&&t!==(t=(a[5]||"")+"")&&de(n,t),o&&o.p&&(!s||u[1]&8)&&rt(o,l,a,a[34],s?it(l,a[34],u,ake):st(a[34]),x5)},i(a){s||(_(o,a),s=!0)},o(a){v(o,a),s=!1},d(a){a&&y(e),o&&o.d(a)}}}function yke(i){var j;let e,t,n,r,s,l,o,a,u,c,f,d,m,p;const g=i[35].left,k=nt(g,i,i[34],X5);let $=(i[1]||i[2])&&K5(i);const C=[kke,bke,vke,gke,_ke,pke,mke,hke,dke],E=[];function S(V,x){return V[4]=="email"?0:V[4]=="file"?1:V[4]=="password"?2:V[4]=="datetime-local"?3:V[4]=="number"?4:V[4]=="date"?5:V[4]=="select"?6:V[4]=="textarea"?7:8}l=S(i),o=E[l]=C[l](i);const T=i[35].right,M=nt(T,i,i[34],Z5),R=i[35].bottom,Y=nt(R,i,i[34],G5);let z=(i[5]||((j=i[28])==null?void 0:j.help))&&J5(i);return{c(){e=P("div"),t=P("div"),k&&k.c(),n=W(),r=P("div"),$&&$.c(),s=W(),o.c(),a=W(),M&&M.c(),c=W(),Y&&Y.c(),f=W(),z&&z.c(),h(r,"class","n-input"),h(t,"class",u="n-input-wrapper "+(i[25]?"has-input":"no-input")+" "+(i[24]?"has-focus":"no-focus")),h(e,"class",d="n-input-container n-input-type-"+i[4]+" "+i[6]+" "+(i[16]?"compact":"")+" "+(i[15]?"list-item":"")+" "+(i[14]?"solo":"with-label")),h(e,"style",m=(i[12]?`max-width:${i[12]}; width:${i[12]}; `:"")+" "+i[8])},m(V,x){w(V,e,x),D(e,t),k&&k.m(t,null),D(t,n),D(t,r),$&&$.m(r,null),D(r,s),E[l].m(r,null),D(t,a),M&&M.m(t,null),D(e,c),Y&&Y.m(e,null),D(e,f),z&&z.m(e,null),p=!0},p(V,x){var J;k&&k.p&&(!p||x[1]&8)&&rt(k,g,V,V[34],p?it(g,V[34],x,fke):st(V[34]),X5),V[1]||V[2]?$?$.p(V,x):($=K5(V),$.c(),$.m(r,s)):$&&($.d(1),$=null);let ee=l;l=S(V),l===ee?E[l].p(V,x):(ae(),v(E[ee],1,1,()=>{E[ee]=null}),ue(),o=E[l],o?o.p(V,x):(o=E[l]=C[l](V),o.c()),_(o,1),o.m(r,null)),M&&M.p&&(!p||x[1]&8)&&rt(M,T,V,V[34],p?it(T,V[34],x,cke):st(V[34]),Z5),(!p||x[0]&50331648&&u!==(u="n-input-wrapper "+(V[25]?"has-input":"no-input")+" "+(V[24]?"has-focus":"no-focus")))&&h(t,"class",u),Y&&Y.p&&(!p||x[1]&8)&&rt(Y,R,V,V[34],p?it(R,V[34],x,uke):st(V[34]),G5),V[5]||((J=V[28])==null?void 0:J.help)?z?(z.p(V,x),x[0]&32&&_(z,1)):(z=J5(V),z.c(),_(z,1),z.m(e,null)):z&&(ae(),v(z,1,1,()=>{z=null}),ue()),(!p||x[0]&114768&&d!==(d="n-input-container n-input-type-"+V[4]+" "+V[6]+" "+(V[16]?"compact":"")+" "+(V[15]?"list-item":"")+" "+(V[14]?"solo":"with-label")))&&h(e,"class",d),(!p||x[0]&4352&&m!==(m=(V[12]?`max-width:${V[12]}; width:${V[12]}; `:"")+" "+V[8]))&&h(e,"style",m)},i(V){p||(_(k,V),_(o),_(M,V),_(Y,V),_(z),p=!0)},o(V){v(k,V),v(o),v(M,V),v(Y,V),v(z),p=!1},d(V){V&&y(e),k&&k.d(V),$&&$.d(),E[l].d(),M&&M.d(V),Y&&Y.d(V),z&&z.d()}}}function wke(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Ut();let{label:l=null}=e,{placeholder:o=null}=e,{inputmode:a=void 0}=e,{value:u=null}=e,{type:c="text"}=e,{help:f=null}=e,{className:d=""}=e,{id:m=""}=e,{style:p=""}=e,{inputStyle:g=""}=e,{inputClass:k=""}=e,{pattern:$=""}=e,{width:C=""}=e,{disabled:E=void 0}=e,{solo:S=void 0}=e,{listItem:T=void 0}=e,{compact:M=void 0}=e,{rows:R=2}=e,{accept:Y="png,jpeg,jpg,csv"}=e,{name:z=void 0}=e,{autocomplete:j=void 0}=e,{autocorrect:V=void 0}=e,{autocapitalize:x=void 0}=e,{autofocus:ee=void 0}=e;const J=e.$$slots;let q=!1,le=!1,G;function X(){G.focus()}function se(){return G.value}let te=()=>{t(24,q=!1)},ie=mt=>{t(24,q=!0),s("focus",mt)},re=mt=>{mt.key=="Enter"&&s("enter",u),s("input",mt.target.value)};Yt(()=>{c=="select"&&t(25,le=!0),u&&`${u}`.length&&t(25,le=!0)});function be(mt){Oe[mt?"unshift":"push"](()=>{G=mt,t(26,G)})}function we(){u=this.value,t(0,u)}const De=mt=>{s("change",mt)};function Be(mt){Oe[mt?"unshift":"push"](()=>{G=mt,t(26,G)})}function ze(){u=this.value,t(0,u)}const ke=mt=>{s("change",mt)};function Ue(mt){Oe[mt?"unshift":"push"](()=>{G=mt,t(26,G)})}function Ce(){u=this.value,t(0,u)}function vt(mt){Oe[mt?"unshift":"push"](()=>{G=mt,t(26,G)})}function $t(){u=this.value,t(0,u)}function bt(mt){Oe[mt?"unshift":"push"](()=>{G=mt,t(26,G)})}function Tt(){u=oh(this.value),t(0,u)}function It(mt){Oe[mt?"unshift":"push"](()=>{G=mt,t(26,G)})}function Je(){u=this.value,t(0,u)}function Pt(mt){Oe[mt?"unshift":"push"](()=>{G=mt,t(26,G)})}const sn=mt=>{s("change",mt.target.value)};function Tn(){u=qo(this),t(0,u)}function Vn(mt){Oe[mt?"unshift":"push"](()=>{G=mt,t(26,G)})}function An(){u=this.value,t(0,u)}function xn(mt){Oe[mt?"unshift":"push"](()=>{G=mt,t(26,G)})}function In(){u=this.value,t(0,u)}const Hi=mt=>{mt.key==="Enter"&&s("enter",u),s("keyup",mt)};return i.$$set=mt=>{t(58,e=St(St({},e),Qi(mt))),"label"in mt&&t(1,l=mt.label),"placeholder"in mt&&t(2,o=mt.placeholder),"inputmode"in mt&&t(3,a=mt.inputmode),"value"in mt&&t(0,u=mt.value),"type"in mt&&t(4,c=mt.type),"help"in mt&&t(5,f=mt.help),"className"in mt&&t(6,d=mt.className),"id"in mt&&t(7,m=mt.id),"style"in mt&&t(8,p=mt.style),"inputStyle"in mt&&t(9,g=mt.inputStyle),"inputClass"in mt&&t(10,k=mt.inputClass),"pattern"in mt&&t(11,$=mt.pattern),"width"in mt&&t(12,C=mt.width),"disabled"in mt&&t(13,E=mt.disabled),"solo"in mt&&t(14,S=mt.solo),"listItem"in mt&&t(15,T=mt.listItem),"compact"in mt&&t(16,M=mt.compact),"rows"in mt&&t(17,R=mt.rows),"accept"in mt&&t(18,Y=mt.accept),"name"in mt&&t(19,z=mt.name),"autocomplete"in mt&&t(20,j=mt.autocomplete),"autocorrect"in mt&&t(21,V=mt.autocorrect),"autocapitalize"in mt&&t(22,x=mt.autocapitalize),"autofocus"in mt&&t(23,ee=mt.autofocus),"$$scope"in mt&&t(34,r=mt.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&1&&(u!==""&&(u===0||Ci.truthy(u))?t(25,le=!0):t(25,le=!1))},e=Qi(e),[u,l,o,a,c,f,d,m,p,g,k,$,C,E,S,T,M,R,Y,z,j,V,x,ee,q,le,G,s,J,te,ie,re,X,se,r,n,be,we,De,Be,ze,ke,Ue,Ce,vt,$t,bt,Tt,It,Je,Pt,sn,Tn,Vn,An,xn,In,Hi]}class Wn extends pe{constructor(e){super(),me(this,e,wke,yke,he,{label:1,placeholder:2,inputmode:3,value:0,type:4,help:5,className:6,id:7,style:8,inputStyle:9,inputClass:10,pattern:11,width:12,disabled:13,solo:14,listItem:15,compact:16,rows:17,accept:18,name:19,autocomplete:20,autocorrect:21,autocapitalize:22,autofocus:23,doFocus:32,getValue:33},null,[-1,-1])}get doFocus(){return this.$$.ctx[32]}get getValue(){return this.$$.ctx[33]}}function $ke(i){let e,t,n;const r=i[4].default,s=nt(r,i,i[3],null);return{c(){e=P("div"),s&&s.c(),h(e,"class",t="n-toolbar "+(i[0]?"pin-top":"")+" "+i[1]),h(e,"style",i[2])},m(l,o){w(l,e,o),s&&s.m(e,null),n=!0},p(l,[o]){s&&s.p&&(!n||o&8)&&rt(s,r,l,l[3],n?it(r,l[3],o,null):st(l[3]),null),(!n||o&3&&t!==(t="n-toolbar "+(l[0]?"pin-top":"")+" "+l[1]))&&h(e,"class",t),(!n||o&4)&&h(e,"style",l[2])},i(l){n||(_(s,l),n=!0)},o(l){v(s,l),n=!1},d(l){l&&y(e),s&&s.d(l)}}}function Fke(i,e,t){let{$$slots:n={},$$scope:r}=e,{pinTop:s=void 0}=e,{className:l=""}=e,{style:o=""}=e;return i.$$set=a=>{"pinTop"in a&&t(0,s=a.pinTop),"className"in a&&t(1,l=a.className),"style"in a&&t(2,o=a.style),"$$scope"in a&&t(3,r=a.$$scope)},[s,l,o,r,n]}class Os extends pe{constructor(e){super(),me(this,e,Fke,$ke,he,{pinTop:0,className:1,style:2})}}function Eke(i){let e,t,n;const r=i[3].default,s=nt(r,i,i[2],null);return{c(){e=P("div"),s&&s.c(),h(e,"class",t=`nui-container nui-container-${i[0]} ${i[1]}`)},m(l,o){w(l,e,o),s&&s.m(e,null),n=!0},p(l,[o]){s&&s.p&&(!n||o&4)&&rt(s,r,l,l[2],n?it(r,l[2],o,null):st(l[2]),null),(!n||o&3&&t!==(t=`nui-container nui-container-${l[0]} ${l[1]}`))&&h(e,"class",t)},i(l){n||(_(s,l),n=!0)},o(l){v(s,l),n=!1},d(l){l&&y(e),s&&s.d(l)}}}function Cke(i,e,t){let{$$slots:n={},$$scope:r}=e,{size:s="md"}=e,{className:l=""}=e;return i.$$set=o=>{"size"in o&&t(0,s=o.size),"className"in o&&t(1,l=o.className),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,n]}class Li extends pe{constructor(e){super(),me(this,e,Cke,Eke,he,{size:0,className:1})}}const Dke=i=>({}),Q5=i=>({}),Ske=i=>({}),eE=i=>({});function Tke(i){let e,t,n;return t=new et({props:{icon:ah,size:20,className:"text-gray-500"}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","left"),h(e,"class","flex items-center pl-2")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function tE(i){let e,t;return e=new He({props:{icon:!0,className:" btn-action-clear mr-2",style:"margin-left:-10px;",$$slots:{default:[Ake]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2097152&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ake(i){let e,t;return e=new et({props:{icon:Qa}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Pke(i){let e,t,n;const r=i[16]["right-inside"],s=nt(r,i,i[21],eE);let l=i[0]&&i[6]&&tE(i);return{c(){e=P("div"),s&&s.c(),t=W(),l&&l.c(),h(e,"slot","right"),h(e,"class","flex items-center")},m(o,a){w(o,e,a),s&&s.m(e,null),D(e,t),l&&l.m(e,null),n=!0},p(o,a){s&&s.p&&(!n||a&2097152)&&rt(s,r,o,o[21],n?it(r,o[21],a,Ske):st(o[21]),eE),o[0]&&o[6]?l?(l.p(o,a),a&65&&_(l,1)):(l=tE(o),l.c(),_(l,1),l.m(e,null)):l&&(ae(),v(l,1,1,()=>{l=null}),ue())},i(o){n||(_(s,o),_(l),n=!0)},o(o){v(s,o),v(l),n=!1},d(o){o&&y(e),s&&s.d(o),l&&l.d()}}}function nE(i){let e,t;return e=new He({props:{color:"clear",icon:!0,$$slots:{default:[Nke]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2097152&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Nke(i){let e,t;return e=new et({props:{icon:ah,size:20,className:"text-gray-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Mke(i){let e,t,n,r,s,l;function o(d){i[18](d)}let a={solo:!0,compact:i[5],autofocus:i[7],className:"search-input mt-0 text-2xl "+i[4],placeholder:i[1],$$slots:{right:[Pke],left:[Tke]},$$scope:{ctx:i}};i[0]!==void 0&&(a.value=i[0]),e=new Wn({props:a}),i[17](e),Oe.push(()=>Qe(e,"value",o,i[0])),e.$on("input",i[11]),e.$on("enter",i[12]),e.$on("focus",i[19]),e.$on("blur",i[20]);const u=i[16].right,c=nt(u,i,i[21],Q5);let f=i[8]&&nE(i);return{c(){B(e.$$.fragment),n=W(),c&&c.c(),r=W(),f&&f.c(),s=Ae()},m(d,m){O(e,d,m),w(d,n,m),c&&c.m(d,m),w(d,r,m),f&&f.m(d,m),w(d,s,m),l=!0},p(d,m){const p={};m&32&&(p.compact=d[5]),m&128&&(p.autofocus=d[7]),m&16&&(p.className="search-input mt-0 text-2xl "+d[4]),m&2&&(p.placeholder=d[1]),m&2097217&&(p.$$scope={dirty:m,ctx:d}),!t&&m&1&&(t=!0,p.value=d[0],tt(()=>t=!1)),e.$set(p),c&&c.p&&(!l||m&2097152)&&rt(c,u,d,d[21],l?it(u,d[21],m,Dke):st(d[21]),Q5),d[8]?f?(f.p(d,m),m&256&&_(f,1)):(f=nE(d),f.c(),_(f,1),f.m(s.parentNode,s)):f&&(ae(),v(f,1,1,()=>{f=null}),ue())},i(d){l||(_(e.$$.fragment,d),_(c,d),_(f),l=!0)},o(d){v(e.$$.fragment,d),v(c,d),v(f),l=!1},d(d){i[17](null),I(e,d),d&&y(n),c&&c.d(d),d&&y(r),f&&f.d(d),d&&y(s)}}}function Lke(i){let e,t;return e=new Li({props:{size:"sm",$$slots:{default:[Mke]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2098163&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Oke(i){let e,t;return e=new Os({props:{className:"search-bar "+i[3],style:i[2],$$slots:{default:[Lke]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&8&&(s.className="search-bar "+n[3]),r&4&&(s.style=n[2]),r&2098163&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ike(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Ut();let{searchTerm:l=void 0}=e,{placeholder:o="Search..."}=e,{style:a=""}=e,{className:u=""}=e,{inputClass:c=""}=e,{compact:f=!1}=e,{showClose:d=!0}=e,{autofocus:m=!1}=e;const p=!1;let{searchButton:g=!1}=e,k,$;function C(){clearTimeout($),$=setTimeout(()=>{s("change",l)},400)}function E(){k.doFocus&&k.doFocus()}function S(){s("search",l)}function T(){s("clear"),t(0,l=void 0)}function M(j){Oe[j?"unshift":"push"](()=>{k=j,t(9,k)})}function R(j){l=j,t(0,l)}const Y=()=>{s("focus")},z=()=>{s("blur")};return i.$$set=j=>{"searchTerm"in j&&t(0,l=j.searchTerm),"placeholder"in j&&t(1,o=j.placeholder),"style"in j&&t(2,a=j.style),"className"in j&&t(3,u=j.className),"inputClass"in j&&t(4,c=j.inputClass),"compact"in j&&t(5,f=j.compact),"showClose"in j&&t(6,d=j.showClose),"autofocus"in j&&t(7,m=j.autofocus),"searchButton"in j&&t(8,g=j.searchButton),"$$scope"in j&&t(21,r=j.$$scope)},[l,o,a,u,c,f,d,m,g,k,s,C,S,T,p,E,n,M,R,Y,z,r]}class Nf extends pe{constructor(e){super(),me(this,e,Ike,Oke,he,{searchTerm:0,placeholder:1,style:2,className:3,inputClass:4,compact:5,showClose:6,autofocus:7,autocomplete:14,searchButton:8,focus:15})}get autocomplete(){return this.$$.ctx[14]}get focus(){return this.$$.ctx[15]}}const Bke=i=>({}),iE=i=>({});function rE(i){let e,t;return e=new kr({props:{emoji:i[0],size:80,className:"mb-4"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.emoji=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sE(i){let e,t;return e=new et({props:{icon:i[1],size:80,className:"mb-4 text-primary-400"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.icon=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lE(i){let e,t;return{c(){e=P("div"),t=K(i[2]),h(e,"class","my-1 text-center text-lg font-extrabold leading-tight text-gray-800 dark:text-gray-50")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&4&&de(t,n[2])},d(n){n&&y(e)}}}function oE(i){let e,t;return{c(){e=P("div"),t=K(i[3]),h(e,"class","text-sm text-center text-gray-500 dark:text-gray-500")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&8&&de(t,n[3])},d(n){n&&y(e)}}}function aE(i){let e,t;return e=new He({props:{size:"sm",className:" mt-4",primary:!0,clear:!0,$$slots:{default:[Rke]},$$scope:{ctx:i}}}),e.$on("click",function(){ln(i[7])&&i[7].apply(this,arguments)}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){i=n;const s={};r&2112&&(s.$$scope={dirty:r,ctx:i}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Rke(i){let e;return{c(){e=K(i[6])},m(t,n){w(t,e,n)},p(t,n){n&64&&de(e,t[6])},d(t){t&&y(e)}}}function zke(i){let e,t,n,r,s,l,o,a,u;const c=i[10].emoji,f=nt(c,i,i[11],iE);let d=i[0]&&rE(i),m=i[1]&&sE(i),p=i[2]&&lE(i),g=i[3]&&oE(i);const k=i[10].default,$=nt(k,i,i[11],null);let C=i[6]&&aE(i);return{c(){e=P("div"),f&&f.c(),t=W(),d&&d.c(),n=W(),m&&m.c(),r=W(),p&&p.c(),s=W(),g&&g.c(),l=W(),$&&$.c(),o=W(),C&&C.c(),h(e,"class",a="empty-box "+i[4]+" "+(i[9]?"finish":"start")),h(e,"style",i[5]),ct(e,"small",i[8])},m(E,S){w(E,e,S),f&&f.m(e,null),D(e,t),d&&d.m(e,null),D(e,n),m&&m.m(e,null),D(e,r),p&&p.m(e,null),D(e,s),g&&g.m(e,null),D(e,l),$&&$.m(e,null),D(e,o),C&&C.m(e,null),u=!0},p(E,[S]){f&&f.p&&(!u||S&2048)&&rt(f,c,E,E[11],u?it(c,E[11],S,Bke):st(E[11]),iE),E[0]?d?(d.p(E,S),S&1&&_(d,1)):(d=rE(E),d.c(),_(d,1),d.m(e,n)):d&&(ae(),v(d,1,1,()=>{d=null}),ue()),E[1]?m?(m.p(E,S),S&2&&_(m,1)):(m=sE(E),m.c(),_(m,1),m.m(e,r)):m&&(ae(),v(m,1,1,()=>{m=null}),ue()),E[2]?p?p.p(E,S):(p=lE(E),p.c(),p.m(e,s)):p&&(p.d(1),p=null),E[3]?g?g.p(E,S):(g=oE(E),g.c(),g.m(e,l)):g&&(g.d(1),g=null),$&&$.p&&(!u||S&2048)&&rt($,k,E,E[11],u?it(k,E[11],S,null):st(E[11]),null),E[6]?C?(C.p(E,S),S&64&&_(C,1)):(C=aE(E),C.c(),_(C,1),C.m(e,null)):C&&(ae(),v(C,1,1,()=>{C=null}),ue()),(!u||S&528&&a!==(a="empty-box "+E[4]+" "+(E[9]?"finish":"start")))&&h(e,"class",a),(!u||S&32)&&h(e,"style",E[5]),(!u||S&784)&&ct(e,"small",E[8])},i(E){u||(_(f,E),_(d),_(m),_($,E),_(C),u=!0)},o(E){v(f,E),v(d),v(m),v($,E),v(C),u=!1},d(E){E&&y(e),f&&f.d(E),d&&d.d(),m&&m.d(),p&&p.d(),g&&g.d(),$&&$.d(E),C&&C.d()}}}function jke(i,e,t){let{$$slots:n={},$$scope:r}=e,{emoji:s=void 0}=e,{icon:l=void 0}=e,{title:o=void 0}=e,{description:a=void 0}=e,{className:u=""}=e,{style:c=""}=e,{buttonLabel:f=void 0}=e,{buttonClick:d=void 0}=e,{small:m=!1}=e,p=!1;return Yt(()=>{setTimeout(()=>{t(9,p=!0)},200)}),i.$$set=g=>{"emoji"in g&&t(0,s=g.emoji),"icon"in g&&t(1,l=g.icon),"title"in g&&t(2,o=g.title),"description"in g&&t(3,a=g.description),"className"in g&&t(4,u=g.className),"style"in g&&t(5,c=g.style),"buttonLabel"in g&&t(6,f=g.buttonLabel),"buttonClick"in g&&t(7,d=g.buttonClick),"small"in g&&t(8,m=g.small),"$$scope"in g&&t(11,r=g.$$scope)},[s,l,o,a,u,c,f,d,m,p,n,r]}class zi extends pe{constructor(e){super(),me(this,e,jke,zke,he,{emoji:0,icon:1,title:2,description:3,className:4,style:5,buttonLabel:6,buttonClick:7,small:8})}}function Yke(i){let e,t,n;const r=i[6].default,s=nt(r,i,i[5],null);return{c(){e=P("h2"),s&&s.c(),h(e,"class",t="ntitle "+i[1]),h(e,"style",i[2])},m(l,o){w(l,e,o),s&&s.m(e,null),n=!0},p(l,o){s&&s.p&&(!n||o&32)&&rt(s,r,l,l[5],n?it(r,l[5],o,null):st(l[5]),null),(!n||o&2&&t!==(t="ntitle "+l[1]))&&h(e,"class",t),(!n||o&4)&&h(e,"style",l[2])},i(l){n||(_(s,l),n=!0)},o(l){v(s,l),n=!1},d(l){l&&y(e),s&&s.d(l)}}}function Uke(i){let e,t,n;const r=i[6].default,s=nt(r,i,i[5],null);return{c(){e=P("h1"),s&&s.c(),h(e,"class",t="ntitle "+i[1]),h(e,"style",i[2])},m(l,o){w(l,e,o),s&&s.m(e,null),n=!0},p(l,o){s&&s.p&&(!n||o&32)&&rt(s,r,l,l[5],n?it(r,l[5],o,null):st(l[5]),null),(!n||o&2&&t!==(t="ntitle "+l[1]))&&h(e,"class",t),(!n||o&4)&&h(e,"style",l[2])},i(l){n||(_(s,l),n=!0)},o(l){v(s,l),n=!1},d(l){l&&y(e),s&&s.d(l)}}}function Wke(i){let e,t;const n=i[6].default,r=nt(n,i,i[5],null);return{c(){e=P("h2"),r&&r.c(),h(e,"class","text-xl md:text-2xl lg:text-3xl pl-1 dark:text-white text-black font-bold leading-tight")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&32)&&rt(r,n,s,s[5],t?it(n,s[5],l,null):st(s[5]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function uE(i){let e,t;return{c(){e=P("p"),t=K(i[4]),h(e,"class","text-sm text-gray-500 leading-tight mt-1")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&16&&de(t,n[4])},d(n){n&&y(e)}}}function qke(i){let e,t,n,r,s;const l=[Wke,Uke,Yke],o=[];function a(c,f){return c[3]?0:c[0]?1:2}e=a(i),t=o[e]=l[e](i);let u=i[4]&&uE(i);return{c(){t.c(),n=W(),u&&u.c(),r=Ae()},m(c,f){o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,r,f),s=!0},p(c,[f]){let d=e;e=a(c),e===d?o[e].p(c,f):(ae(),v(o[d],1,1,()=>{o[d]=null}),ue(),t=o[e],t?t.p(c,f):(t=o[e]=l[e](c),t.c()),_(t,1),t.m(n.parentNode,n)),c[4]?u?u.p(c,f):(u=uE(c),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(c){s||(_(t),s=!0)},o(c){v(t),s=!1},d(c){o[e].d(c),c&&y(n),u&&u.d(c),c&&y(r)}}}function Hke(i,e,t){let{$$slots:n={},$$scope:r}=e,{h1:s=!0}=e,{className:l=""}=e,{style:o=""}=e,{listHeader:a=!1}=e,{subTitle:u=void 0}=e;return i.$$set=c=>{"h1"in c&&t(0,s=c.h1),"className"in c&&t(1,l=c.className),"style"in c&&t(2,o=c.style),"listHeader"in c&&t(3,a=c.listHeader),"subTitle"in c&&t(4,u=c.subTitle),"$$scope"in c&&t(5,r=c.$$scope)},[s,l,o,a,u,r,n]}class al extends pe{constructor(e){super(),me(this,e,Hke,qke,he,{h1:0,className:1,style:2,listHeader:3,subTitle:4})}}const pf="6.3.0";class hw{constructor(e){je(this,"type","template");je(this,"id");je(this,"name");je(this,"description");je(this,"author");je(this,"version");je(this,"trackables");je(this,"goals");je(this,"boards");je(this,"dashboards");let t=e||{};this.id=t.id||Jn(),this.name=t.name||"",this.description=t.description,this.author=t.author,this.version=t.version||pf,this.trackables=t.trackables?t.trackables:[],this.goals=t.goals?t.goals:[],this.boards=t.boards?t.boards:[],this.dashboards=t.dashboards?t.dashboards:[]}get asObject(){return JSON.parse(JSON.stringify(this))}}const Vke=(i,e)=>{const t=new D0(i.uom),n=e?"metric":"imperial";return t.system!==n&&t.system!=="both"&&(i.uom=t.convertTo(n).id,i.default=t.convertValueTo(i.default||0,n)),new qi(i)},nk=[{title:"\u{1F914} ADHD",url:"/templates/adhd-template.json"},{title:"\u{1F635}\u200D\u{1F4AB} Mood",url:"/templates/mood-template.json"},{title:"\u{1F534} Period",url:"/templates/period-template.json"},{title:"\u{1F49D} Self Care",url:"/templates/care-template.json"}],za={firstDayOfWeek:"sunday",setFirstDayOfWeek(i){return za.firstDayOfWeek=i,za},getFirstDayOfWeek(i){return za.thisWeek(i)[0]},getLastDayOfWeek(i){return za.thisWeek(i)[6]},thisWeek(i){i=i||Te();let e=i.day(),t=i.startOf("week");e===0&&za.firstDayOfWeek=="monday"?t=t.subtract(1,"week").add(1,"day"):za.firstDayOfWeek=="monday"&&(t=t.add(1,"day"));let n=[];for(var r=0;r<7;r++)n.push(t.add(r,"day"));return n},lastWeek(){return za.thisWeek().map(i=>Te(i).subtract(7,"day"))}};class cE{constructor(e){je(this,"date");je(this,"add");je(this,"subtract");je(this,"startOf");je(this,"endOf");e&&(this.date=e.date,this.subtract=e.subtract,this.add=e.add,this.endOf=e.endOf,this.startOf=e.startOf)}toDate(){let e=this.date?this.date:Te();return this.subtract instanceof Array&&(e=e.subtract(this.subtract[0],this.subtract[1])),this.add instanceof Array&&(e=e.add(this.subtract[0],this.subtract[1])),this.startOf&&(e=e.startOf(this.startOf)),this.endOf&&(e=e.endOf(this.endOf)),e}}class xke{constructor(e={}){je(this,"id");je(this,"label");je(this,"start");je(this,"end");this.label=e.label,this.start=new cE(e.start),this.end=new cE(e.end),this.id=e.id||Jn()}getLabel(){let e=this.start.date?`${this.start.date.format("MMM DD")} to ${this.end.date.format("MMM DD YYYY")}`:"Unknown";return this.label||e}}const l1=[{id:"today",dayCount:0,label:"Today",start:{startOf:"day"},end:{endOf:"day"}},{id:"yesterday",dayCount:1,label:"Yesterday",start:{subtract:[1,"day"],startOf:"day"},end:{subtract:[1,"day"],endOf:"day"}},{id:"last-7",label:"Last 7 days",dayCount:7,start:{subtract:[6,"day"],startOf:"day"},end:{endOf:"day"}},{id:"last-30",label:"Last 30 days",dayCount:30,start:{subtract:[29,"day"],startOf:"day"},end:{endOf:"day"}},{id:"last-90",label:"Last 90 days",dayCount:90,start:{subtract:[89,"day"],startOf:"day"},end:{endOf:"day"}},{id:"last-365",label:"Last 365 days",dayCount:365,start:{subtract:[365,"day"],startOf:"day"},end:{endOf:"day"}},{id:"this-week",dayCount:7,label:"This Week",start:{startOf:"week"},end:{endOf:"week"}},{id:"last-week",dayCount:7,label:"Last Week",start:{subtract:[1,"week"],startOf:"week"},end:{subtract:[1,"week"],endOf:"week"}},{id:"this-month",dayCount:30,label:"This Month",start:{startOf:"month"},end:{endOf:"month"}},{id:"this-year",dayCount:365,label:"This Year",start:{startOf:"year"},end:{endOf:"year"}},{id:"last-month",dayCount:30,label:"Last Month",start:{subtract:[1,"month"],startOf:"month"},end:{subtract:[1,"month"],endOf:"month"}}];class Zp{constructor(e){je(this,"_editing");je(this,"compareOverColor");je(this,"compareUnderColor");je(this,"compareValue");je(this,"dateFormat");je(this,"description");je(this,"token");je(this,"tokens");je(this,"id");je(this,"includeAvg",!1);je(this,"lastUsed");je(this,"logs");je(this,"math");je(this,"positivity");je(this,"size","md");je(this,"stats");je(this,"timeFormat","h:mm a");je(this,"timeRange");je(this,"type","value");je(this,"loading",!1);je(this,"data");var n;e=e||{},this.id=e.id||Jn(),this.type=e.type,this.description=e.description,this.size=e.size||"md",typeof e.compareValue=="string"&&(e.compareValue=gi(e.compareValue)),this.data=e.data||{},this.compareValue=e.compareValue,this.compareOverColor=e.compareOverColor,this.compareUnderColor=e.compareUnderColor,this.includeAvg=!!e.includeAvg;const t=e.timeRange;typeof t=="string"?this.timeRange=`${t}`:typeof t=="object"?this.timeRange=t.id:this.timeRange="today",this.token=e.token||e.element,this.tokens=(n=e.tokens)!=null&&n.length?e.tokens:[this.token]}get timeframe(){let e=l1.find(n=>n.id==this.timeRange),t=new xke(e);return{end:t.end.toDate(),start:t.start.toDate(),details:t}}get asObject(){const e=JSON.parse(JSON.stringify(this));return delete e.trackables,delete e.trackaable,delete e.logs,delete e._editing,e}getTrackable(e){return rr(this.token,e)}getColor(e){return rr(this.token,e||{}).color}getTitle(e){var t,n;return this.type=="text"?Za(this.description,30):(t=this.token)!=null&&t.id?(n=this.token)==null?void 0:n.id:e||(this.type?this.type:"unknown")}getLabel(){var e;return this.timeRange?(e=this.timeframe)==null?void 0:e.details.getLabel():"Unknown"}isValid(){return!!(this.type&&this.id)}toObject(){return JSON.parse(JSON.stringify(this))}getStartOfWeek(e){let t=za.setFirstDayOfWeek(e).getFirstDayOfWeek();return Te(t).startOf("day")}getEndOfWeek(e){return za.setFirstDayOfWeek(e).getLastDayOfWeek().endOf("day")}getStartDate(e){if(this.timeRange&&["this-week","last-week"].indexOf(this.timeframe.details.id)>-1){let t=this.getStartOfWeek(e);switch(this.timeframe.details.id){case"this-week":return t.startOf("day");case"last-week":return t.startOf("day").subtract(7,"day")}}else return this.timeRange&&this.timeframe.start&&this.timeframe.start.date?this.timeframe.start:this.timeRange&&this.timeframe.start?this.timeframe.start:Te().startOf("day");return Te()}getEndDate(e){if(this.timeRange&&["this-week","last-week"].indexOf(this.timeframe.details.id)>-1){let t=this.getEndOfWeek(e);switch(this.timeframe.details.id){case"this-week":return t.endOf("day");case"last-week":return t.subtract(1,"week").endOf("day")}}else return this.timeframe.end?this.timeframe.end:Te().endOf("day");return Te()}getDateRange(e){return[this.getStartDate(e),this.getEndDate(e)]}}function fE(i,e,t){const n=i.slice();return n[14]=e[t],n[16]=t,n}function Gke(i){let e;const t=i[12].default,n=nt(t,i,i[11],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&2048)&&rt(n,t,r,r[11],e?it(t,r[11],s,null):st(r[11]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Zke(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=pE(fE(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&1035){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=fE(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=pE(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function dE(i){let e,t,n,r,s,l,o,a,u,c,f,d;const m=[Kke,Xke],p=[];function g(E,S){return E[14].icon?0:E[14].label?1:-1}~(n=g(i))&&(r=p[n]=m[n](i));let k=i[14].badge&&hE(i),$=i[14].notify&&mE();function C(){return i[13](i[14])}return{c(){e=P("button"),t=P("div"),r&&r.c(),s=W(),k&&k.c(),l=W(),$&&$.c(),o=W(),h(t,"class","button-wrapper relative flex"),h(e,"type","menu"),h(e,"title",a=i[14].label),h(e,"class",u="btn-group-btn btn-"+i[16]+" "+(i[14].active||i[0]&&i[0]==i[14].value?"bg-primary-gradient active":"text-solid-1"))},m(E,S){w(E,e,S),D(e,t),~n&&p[n].m(t,null),D(t,s),k&&k.m(t,null),D(t,l),$&&$.m(t,null),D(e,o),c=!0,f||(d=Se(e,"click",C),f=!0)},p(E,S){i=E;let T=n;n=g(i),n===T?~n&&p[n].p(i,S):(r&&(ae(),v(p[T],1,1,()=>{p[T]=null}),ue()),~n?(r=p[n],r?r.p(i,S):(r=p[n]=m[n](i),r.c()),_(r,1),r.m(t,s)):r=null),i[14].badge?k?k.p(i,S):(k=hE(i),k.c(),k.m(t,l)):k&&(k.d(1),k=null),i[14].notify?$||($=mE(),$.c(),$.m(t,null)):$&&($.d(1),$=null),(!c||S&2&&a!==(a=i[14].label))&&h(e,"title",a),(!c||S&3&&u!==(u="btn-group-btn btn-"+i[16]+" "+(i[14].active||i[0]&&i[0]==i[14].value?"bg-primary-gradient active":"text-solid-1")))&&h(e,"class",u)},i(E){c||(_(r),c=!0)},o(E){v(r),c=!1},d(E){E&&y(e),~n&&p[n].d(),k&&k.d(),$&&$.d(),f=!1,d()}}}function Xke(i){let e,t=i[14].label+"",n;return{c(){e=P("div"),n=K(t),h(e,"class",i[3])},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&2&&t!==(t=r[14].label+"")&&de(n,t),s&8&&h(e,"class",r[3])},i:Z,o:Z,d(r){r&&y(e)}}}function Kke(i){let e,t;return e=new et({props:{icon:i[14].icon}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.icon=n[14].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function hE(i){let e,t=i[14].badge+"",n;return{c(){e=P("div"),n=K(t),gt(e,"font-size","9px"),h(e,"class","badge text-xs text-white bg-red-500 rounded-full px-2 text-center absolute -right-4 -top-1")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&2&&t!==(t=r[14].badge+"")&&de(n,t)},d(r){r&&y(e)}}}function mE(i){let e;return{c(){e=P("div"),h(e,"class","notify")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function pE(i){let e,t,n=i[14].hide!==!1&&dE(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[14].hide!==!1?n?(n.p(r,s),s&2&&_(n,1)):(n=dE(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function Jke(i){let e,t,n,r,s;const l=[Zke,Gke],o=[];function a(u,c){return u[1].length?0:1}return t=a(i),n=o[t]=l[t](i),{c(){e=P("div"),n.c(),h(e,"id",i[8]),h(e,"class",r="nbtn-group size-"+i[2]+" "+(i[4]?"inverse":"")+" "+(i[9]?"scrollable":"")+" "+i[6]),h(e,"style",i[7]),ct(e,"compact",i[5])},m(u,c){w(u,e,c),o[t].m(e,null),s=!0},p(u,[c]){let f=t;t=a(u),t===f?o[t].p(u,c):(ae(),v(o[f],1,1,()=>{o[f]=null}),ue(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,null)),(!s||c&256)&&h(e,"id",u[8]),(!s||c&596&&r!==(r="nbtn-group size-"+u[2]+" "+(u[4]?"inverse":"")+" "+(u[9]?"scrollable":"")+" "+u[6]))&&h(e,"class",r),(!s||c&128)&&h(e,"style",u[7]),(!s||c&628)&&ct(e,"compact",u[5])},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),o[t].d()}}}function Qke(i,e,t){let{$$slots:n={},$$scope:r}=e,{buttons:s=[]}=e,{size:l="sm"}=e,{labelClass:o=""}=e,{inverse:a=!1}=e,{compact:u=!1}=e,{className:c=""}=e,{style:f=""}=e,{id:d=""}=e,{scrollable:m=!1}=e,{value:p=void 0}=e;const g=Ut(),k=$=>{$.click&&$.click(),!$.click&&$.value&&t(0,p=$.value),g("change",$)};return i.$$set=$=>{"buttons"in $&&t(1,s=$.buttons),"size"in $&&t(2,l=$.size),"labelClass"in $&&t(3,o=$.labelClass),"inverse"in $&&t(4,a=$.inverse),"compact"in $&&t(5,u=$.compact),"className"in $&&t(6,c=$.className),"style"in $&&t(7,f=$.style),"id"in $&&t(8,d=$.id),"scrollable"in $&&t(9,m=$.scrollable),"value"in $&&t(0,p=$.value),"$$scope"in $&&t(11,r=$.$$scope)},[p,s,l,o,a,u,c,f,d,m,g,r,n,k]}class Hl extends pe{constructor(e){super(),me(this,e,Qke,Jke,he,{buttons:1,size:2,labelClass:3,inverse:4,compact:5,className:6,style:7,id:8,scrollable:9,value:0})}}function eye(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Checkmark Circle"),r=ye("path"),s=ye("path"),h(r,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M352 176L217.6 336 160 272"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function tye(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class mw extends pe{constructor(e){super(),me(this,e,tye,eye,he,{size:0})}}function _E(i,e,t){const n=i.slice();return n[7]=e[t],n}function gE(i){let e,t;return e=new et({props:{className:"text-white",icon:mw,size:20}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function vE(i){let e,t,n,r,s,l,o,a,u=i[3]===i[7]&&gE();function c(){return i[6](i[7])}return{c(){e=P("button"),u&&u.c(),t=W(),h(e,"aria-label",n=i[7]),h(e,"style",r=`height:${i[1]}px;width:${i[1]}px;`),h(e,"class",s=`${i[3]==i[7]?`selected ${i[7]}`:`not-selected ${i[7]}`}`)},m(f,d){w(f,e,d),u&&u.m(e,null),D(e,t),l=!0,o||(a=Se(e,"click",c),o=!0)},p(f,d){i=f,i[3]===i[7]?u?(u.p(i,d),d&9&&_(u,1)):(u=gE(),u.c(),_(u,1),u.m(e,t)):u&&(ae(),v(u,1,1,()=>{u=null}),ue()),(!l||d&1&&n!==(n=i[7]))&&h(e,"aria-label",n),(!l||d&2&&r!==(r=`height:${i[1]}px;width:${i[1]}px;`))&&h(e,"style",r),(!l||d&9&&s!==(s=`${i[3]==i[7]?`selected ${i[7]}`:`not-selected ${i[7]}`}`))&&h(e,"class",s)},i(f){l||(_(u),l=!0)},o(f){v(u),l=!1},d(f){f&&y(e),u&&u.d(),o=!1,a()}}}function nye(i){let e,t,n,r=i[0],s=[];for(let o=0;o<r.length;o+=1)s[o]=vE(_E(i,r,o));const l=o=>v(s[o],1,1,()=>{s[o]=null});return{c(){e=P("div");for(let o=0;o<s.length;o+=1)s[o].c();h(e,"class",t="tiny-color-picker flex "+i[2])},m(o,a){w(o,e,a);for(let u=0;u<s.length;u+=1)s[u].m(e,null);n=!0},p(o,[a]){if(a&27){r=o[0];let u;for(u=0;u<r.length;u+=1){const c=_E(o,r,u);s[u]?(s[u].p(c,a),_(s[u],1)):(s[u]=vE(c),s[u].c(),_(s[u],1),s[u].m(e,null))}for(ae(),u=r.length;u<s.length;u+=1)l(u);ue()}(!n||a&4&&t!==(t="tiny-color-picker flex "+o[2]))&&h(e,"class",t)},i(o){if(!n){for(let a=0;a<r.length;a+=1)_(s[a]);n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)v(s[a]);n=!1},d(o){o&&y(e),pt(s,o)}}}function iye(i,e,t){let{value:n}=e,{colors:r=["green","orange","red","blue"]}=e,{size:s=24}=e,{className:l=""}=e;const o=Ut();let a;const u=c=>{o("change",c)};return i.$$set=c=>{"value"in c&&t(5,n=c.value),"colors"in c&&t(0,r=c.colors),"size"in c&&t(1,s=c.size),"className"in c&&t(2,l=c.className)},i.$$.update=()=>{i.$$.dirty&40&&n&&n!==a&&t(3,a=n)},[r,s,l,a,o,n,u]}class Vj extends pe{constructor(e){super(),me(this,e,iye,nye,he,{value:5,colors:0,size:1,className:2})}}function rye(i){let e,t=(i[2]||"Toggle")+"",n,r,s;return{c(){e=P("span"),n=K(t),r=W(),s=P("span"),h(e,"class","sr-only"),h(s,"class","ball w-6 h-6 block bg-white rounded-full")},m(l,o){w(l,e,o),D(e,n),w(l,r,o),w(l,s,o)},p(l,o){o&4&&t!==(t=(l[2]||"Toggle")+"")&&de(n,t)},d(l){l&&y(e),l&&y(r),l&&y(s)}}}function sye(i){let e,t,n,r;return t=new _be({props:{class:"onoffswitch "+(i[0]?"on":"off"),checked:i[0],$$slots:{default:[rye]},$$scope:{ctx:i}}}),t.$on("change",i[3].onChange),{c(){e=P("div"),B(t.$$.fragment),h(e,"class",n="onoffswitch "+i[1])},m(s,l){w(s,e,l),O(t,e,null),r=!0},p(s,[l]){const o={};l&1&&(o.class="onoffswitch "+(s[0]?"on":"off")),l&1&&(o.checked=s[0]),l&68&&(o.$$scope={dirty:l,ctx:s}),t.$set(o),(!r||l&2&&n!==(n="onoffswitch "+s[1]))&&h(e,"class",n)},i(s){r||(_(t.$$.fragment,s),r=!0)},o(s){v(t.$$.fragment,s),r=!1},d(s){s&&y(e),I(t)}}}function lye(i,e,t){const n=Ut();let{value:r=!1}=e,{locked:s=void 0}=e,{className:l=""}=e,{title:o}=e;const a={onChange(u){u.preventDefault(),u.stopPropagation(),s===void 0&&(t(0,r=u.detail),n("change",r))}};return i.$$set=u=>{"value"in u&&t(0,r=u.value),"locked"in u&&t(4,s=u.locked),"className"in u&&t(1,l=u.className),"title"in u&&t(2,o=u.title)},[r,l,o,a,s]}class Ar extends pe{constructor(e){super(),me(this,e,lye,sye,he,{value:0,locked:4,className:1,title:2})}}function bE(i){let e,t,n,r,s,l,o,a,u;t=new er({props:{trackable:i[0],size:i[1]*.8}});function c(g,k){return!g[6]&&(g[5]||g[0].value)?aye:oye}let f=c(i),d=f(i);const m=i[10].default,p=nt(m,i,i[9],null);return{c(){e=P("button"),B(t.$$.fragment),n=W(),r=P("div"),d.c(),s=W(),p&&p.c(),h(r,"class","title-value"),h(e,"type","button"),h(e,"class",l="trackable-pill "+i[2]+" "+(i[3]?"transparent shadow-none":i[4]?"outlined":"filled shadow-md")),gt(e,"--pill-size",i[1]+"px"),ct(e,"solid",i[7])},m(g,k){w(g,e,k),O(t,e,null),D(e,n),D(e,r),d.m(r,null),D(r,s),p&&p.m(r,null),o=!0,a||(u=Se(e,"click",i[11]),a=!0)},p(g,k){const $={};k&1&&($.trackable=g[0]),k&2&&($.size=g[1]*.8),t.$set($),f===(f=c(g))&&d?d.p(g,k):(d.d(1),d=f(g),d&&(d.c(),d.m(r,s))),p&&p.p&&(!o||k&512)&&rt(p,m,g,g[9],o?it(m,g[9],k,null):st(g[9]),null),(!o||k&28&&l!==(l="trackable-pill "+g[2]+" "+(g[3]?"transparent shadow-none":g[4]?"outlined":"filled shadow-md")))&&h(e,"class",l),(!o||k&2)&&gt(e,"--pill-size",g[1]+"px"),(!o||k&156)&&ct(e,"solid",g[7])},i(g){o||(_(t.$$.fragment,g),_(p,g),o=!0)},o(g){v(t.$$.fragment,g),v(p,g),o=!1},d(g){g&&y(e),I(t),d.d(),p&&p.d(g),a=!1,u()}}}function oye(i){let e,t=i[0].label+"",n;return{c(){e=P("h3"),n=K(t),h(e,"class","font-semibold line-clamp-1"),gt(e,"font-size","110%")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].label+"")&&de(n,t)},d(r){r&&y(e)}}}function aye(i){let e,t=i[0].label+"",n,r,s,l=(i[5]||i[0].value)+"",o;return{c(){e=P("h3"),n=K(t),r=W(),s=P("div"),o=K(l),h(e,"class","font-semibold line-clamp-1"),gt(e,"font-size","80%"),gt(e,"margin-bottom",i[1]*.08+"px"),h(s,"class","font-bold line-clamp-1"),gt(s,"font-size","110%")},m(a,u){w(a,e,u),D(e,n),w(a,r,u),w(a,s,u),D(s,o)},p(a,u){u&1&&t!==(t=a[0].label+"")&&de(n,t),u&2&&gt(e,"margin-bottom",a[1]*.08+"px"),u&33&&l!==(l=(a[5]||a[0].value)+"")&&de(o,l)},d(a){a&&y(e),a&&y(r),a&&y(s)}}}function uye(i){let e,t,n=i[0]&&bE(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=bE(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function cye(i,e,t){let{$$slots:n={},$$scope:r}=e,{trackable:s}=e,{size:l=40}=e,{className:o=""}=e,{transparent:a=!1}=e,{outlined:u=!1}=e,{value:c=void 0}=e,{hideValue:f=!1}=e,{solid:d=!1}=e;const m=Ut(),p=g=>{m("click",g)};return i.$$set=g=>{"trackable"in g&&t(0,s=g.trackable),"size"in g&&t(1,l=g.size),"className"in g&&t(2,o=g.className),"transparent"in g&&t(3,a=g.transparent),"outlined"in g&&t(4,u=g.outlined),"value"in g&&t(5,c=g.value),"hideValue"in g&&t(6,f=g.hideValue),"solid"in g&&t(7,d=g.solid),"$$scope"in g&&t(9,r=g.$$scope)},[s,l,o,a,u,c,f,d,m,r,n,p]}class fa extends pe{constructor(e){super(),me(this,e,cye,uye,he,{trackable:0,size:1,className:2,transparent:3,outlined:4,value:5,hideValue:6,solid:7})}}class Kd{constructor(e){je(this,"label");je(this,"widgets");je(this,"id");je(this,"created");this.id=e.id||Jn(),this.widgets=(e.widgets||[]).map(t=>new Zp(t)),this.created=e.created?new Date(e.created):new Date,this.label=e.label||"Unnamed"}get hash(){return di(this.widgets)}get timeframe(){let e=Te().add(100,"years"),t=Te().subtract(100,"years");return this.widgets.forEach(n=>{var r,s,l,o,a,u;n.timeframe.start.toDate().getTime()<((r=e==null?void 0:e.toDate())==null?void 0:r.getTime())&&(e=(s=n.timeframe)==null?void 0:s.start),((o=(l=n.timeframe)==null?void 0:l.end.toDate())==null?void 0:o.getTime())>((a=t==null?void 0:t.toDate())==null?void 0:a.getTime())&&(t=(u=n.timeframe)==null?void 0:u.end)}),{start:e,end:t}}}const pw=()=>parseInt(localStorage.getItem("last-dash-index")||"0"),xj=i=>{localStorage.setItem("last-dash-index",i)},fye={dashboards:[],dashboardHash:void 0,editMode:!1,activeDashboard:void 0,activeIndex:pw()},oa=rn(fye),_w=async()=>{const i=await dye();let e;return oa.update(t=>{t={...i},t.activeIndex=pw();try{t.activeDashboard=t.dashboards[t.activeIndex]}catch{t.activeIndex=0,t.activeDashboard=t.dashboards[0],console.error("Error finding dashboard, default to 0")}return e=t,t}),e},dye=async()=>{const e=(await Mf()||[]).map(n=>(n.widgets=hf(n.widgets,"id"),n)),t=e[0];return{activeIndex:pw(),dashboards:e,dashboardHash:di(e),activeDashboard:t}},ag=()=>{oa.update(i=>(i.editMode=!i.editMode,i))},Mf=async()=>{let i=(await _n.get(Ii.storage.dashboards())||[]).map(e=>new Kd(e));return i.length===0&&(i=[new Kd({id:"mystats-first-board",label:"My Stats",widgets:[]})],xj(0)),i},hye=async i=>{const e=await Mf();let t=[];return oa.update(n=>(t=e.filter(r=>r.id!==i.id),n.dashboards=t,n)),await Gj(t)},gw=async i=>{const e=await Mf();oa.update(t=>{const n=e.map(r=>{const s=i.find(l=>l.id==r.id);return s||r});return i.forEach(r=>{n.find(l=>l.id==r.id)||n.push(r)}),t.dashboards=n,t.dashboardHash=di(t.dashboards),t.activeDashboard&&(t.activeDashboard=n.find(r=>r.id==t.activeDashboard.id)||t.activeDashboard),Gj(n),t})},Jd=async i=>gw([i]),Gj=async i=>_n.put(Ii.storage.dashboards(),i),vw=async i=>(await Mf()).find(n=>n.widgets.find(r=>r.id==i.id)),Zj=async i=>{const e=await vw(i);if(e)return e.widgets=e.widgets.filter(t=>t.id!==i.id),Jd(e);alert("ERROR: Unable to find that Widget")},mye=async i=>{let e=new Zp(i);e.id=Jn();const t=await vw(i);return t.widgets.push(e),await Lt(100),await Jd(t)},pye=(i={})=>{let e;return oa.update(t=>(e={...t,...i},e)),e},kE=async()=>{let i=await at.prompt("Create new Dashboard",null,{placeholder:"Dashboard Label"});if(i){let e=new Kd({id:Jn(),label:i,widgets:[]});Jd(e)}},o1=async i=>{const e=await vw(i);if(e)return e.widgets=e.widgets.map(t=>t.id==i.id?i:t),await Jd(e);{const t=pye();t.activeDashboard&&t.activeDashboard.widgets.push(i),Jd(t.activeDashboard)}},Xj=async i=>{const t=(await Mf())[i];xj(i),oa.update(n=>(n.activeDashboard=t,n.activeIndex=i,n))},_ye=async i=>{const e=await Mf(),t=r=>{let s=e.map(l=>(l.widgets=l.widgets.filter(o=>o.id!==i.id),l.id==r.id&&l.widgets.push(i),l));gw(s)},n=e.map(r=>({title:r.label,click(){try{t(r)}catch(s){at.alert("Error",s.message)}}}));at.popmenu({id:"widget-move",buttons:n,title:`${Fe.t("dashboard.select-dashboard-to-move-widget","Move widget to which dashboard?")}`})},gye=i=>{const e=[{title:"Edit Widget",icon:bB,async click(){await Lt(300),Ew({widget:i,onSave(t){}})}},{title:"Move Widget",icon:Cee,divider:!0,async click(){await Lt(200),_ye(i)}},{title:"Duplicate",icon:Dee,async click(){await Lt(200),mye(i)}},{title:"Delete Widget",icon:wf,async click(){await Lt(300),await at.confirm(Fe.t("general.delete","Delete?"),"You can always recreate it later.")&&Zj(i)}}];at.popmenu({id:"widget-options",title:Fe.t("widgets.widget-options","Widget Options"),buttons:e})},bw=i=>{const e=[...vye];return i.filter(t=>t.active&&t.addToWidgets).forEach(t=>{e.push({id:"plugin",label:t.name,requires:[],optional:[],emoji:t.emoji,data:{pluginId:t.id}})}),e},vye=[{label:"Display Value",id:"value",requires:["timeframe","token"],optional:["cond-style"],image:"/images/widget-types/display-value.svg",icon:see},{label:"Latest Note",id:"note",requires:["timeframe","token"],optional:[],image:"/images/widget-types/latest-note.svg",icon:fB},{label:"Bar Chart",id:"barchart",requires:["timeframe","token"],optional:[],image:"/images/widget-types/bar-chart.svg",icon:p3},{label:"Line Chart",id:"linechart",requires:["timeframe","token"],optional:[],image:"/images/widget-types/line-chart.svg",icon:kB},{label:"Min / Max",id:"min-max",requires:["timeframe","token"],optional:[],image:"/images/widget-types/min-max.svg",icon:iee},{label:"Map",id:"map",requires:["timeframe","token"],optional:[],image:"/images/widget-types/map.svg",icon:dB},{label:"Todos",id:"todos",requires:["timeframe"],optional:[],image:"/images/widget-types/latest-note.svg",icon:mw},{label:"Mind, Body, Spirit",id:"focus",requires:["timeframe"],optional:[],image:"/images/widget-types/bar-chart.svg",icon:uB},{label:"Positivity Chart",id:"positivity",requires:["timeframe"],optional:[],image:"/images/widget-types/positivity-pie.svg",icon:p3},{label:"Last Used",id:"last-used",requires:["token"],optional:["cond-style"],image:"/images/widget-types/last-used.svg",icon:yf},{label:"Just Text",id:"text",requires:[],optional:[],image:"/images/widget-types/just-text.svg",icon:nee}];function bye(i,e){let t=e.find(n=>n.id==i.type);if(t){let n=t.requires;if(n.indexOf("token")>-1&&!i.token||n.indexOf("element")>-1&&!i.token)return console.info("Select a trackable element to display"),!1;if(n.indexOf("timeframe")>-1&&!i.timeRange)return console.info("This widget requires a timeframe"),!1}else return console.info("Select a Widget Type"),!1;return!0}function kye(i){let e,t,n,r,s;const l=i[16].default,o=nt(l,i,i[15],null);return{c(){e=P("div"),t=P("div"),o&&o.c(),h(t,"class",n="wrapper "+(i[7]?"force-center":"no-force")+" "+i[1]+" svelte-baz27k"),h(t,"style",i[2]),h(e,"id",i[4]),h(e,"class",r="n-hscroller "+i[0]+" svelte-baz27k"),h(e,"style",i[3]),h(e,"data-scroll","0")},m(a,u){w(a,e,u),D(e,t),o&&o.m(t,null),i[17](t),i[18](e),s=!0},p(a,[u]){o&&o.p&&(!s||u&32768)&&rt(o,l,a,a[15],s?it(l,a[15],u,null):st(a[15]),null),(!s||u&130&&n!==(n="wrapper "+(a[7]?"force-center":"no-force")+" "+a[1]+" svelte-baz27k"))&&h(t,"class",n),(!s||u&4)&&h(t,"style",a[2]),(!s||u&16)&&h(e,"id",a[4]),(!s||u&1&&r!==(r="n-hscroller "+a[0]+" svelte-baz27k"))&&h(e,"class",r),(!s||u&8)&&h(e,"style",a[3])},i(a){s||(_(o,a),s=!0)},o(a){v(o,a),s=!1},d(a){a&&y(e),o&&o.d(a),i[17](null),i[18](null)}}}function yye(i,e,t){let n;Le(i,Ni,q=>t(14,n=q));let{$$slots:r={},$$scope:s}=e,{activeIndex:l=void 0}=e,{activeClass:o="active"}=e,{className:a=""}=e,{centerIfPossible:u=!1}=e,{wrapperClass:c=""}=e,{wrapperStyle:f=""}=e,{captureCenter:d=!1}=e,{captureCenterWindow:m=!1}=e,{style:p=""}=e,{id:g=`hs-${Jn()}`}=e;const k=Ut();let $,C,E=!1,S=!0;const T=()=>{if(u&&$){let q=$.offsetWidth;$.scrollWidth>q?t(7,S=!1):t(7,S=!0)}else t(7,S=!1)};let M;const R=()=>{if($!=null&&$.children)for(let q=0;q<$.children.length;q++){let le=$.children[q];le.removeEventListener("click",j),le.addEventListener("click",j),le.dataset.childId=q}},Y=()=>{document.querySelectorAll(`#${g} [data-child-id]`).forEach(q=>{q.classList.remove(o)})},z=()=>{d&&(R(),clearTimeout(M),M=setTimeout(()=>{const q=ip($);if(q){const le=q.left+q.eleWidth*.5;let G=q.eleHeight>window.innerHeight?window.innerHeight:q.eleHeight,X=0;d?X=q.top+G*.5:m&&(X=Math.abs(q.eleHeight-document.body.scrollHeight)*.5);const se=le,re=document.elementsFromPoint(se,X).filter(be=>be.dataset.childId)[0];re&&(Y(),re.classList.add(o),k("centerElement",{ele:re}))}},220))},j=q=>{let le=Array.prototype.indexOf.call($.children,q.target);x.selectIndex(le),k("selected",le)},V=q=>{z(),C.setAttribute("data-scroll",$.scrollLeft)},x={init(){$&&$.children&&(R(),$.addEventListener("scroll",V,{passive:!0}),t(13,E=!0)),T()},clearSelected(){l>-1&&($==null?void 0:$.children[l])&&($==null||$.children[l].classList.remove(o))},selectIndex(q){Y(),t(8,l=q);try{let le=$.children[l];le&&setTimeout(()=>{le.scrollIntoView(),T()},60)}catch{}t(13,E=!0)}};Yt(async()=>{await Lt(60),x.init()}),Ns(()=>{C.removeEventListener("scroll",V)});function ee(q){Oe[q?"unshift":"push"](()=>{$=q,t(5,$)})}function J(q){Oe[q?"unshift":"push"](()=>{C=q,t(6,C)})}return i.$$set=q=>{"activeIndex"in q&&t(8,l=q.activeIndex),"activeClass"in q&&t(9,o=q.activeClass),"className"in q&&t(0,a=q.className),"centerIfPossible"in q&&t(10,u=q.centerIfPossible),"wrapperClass"in q&&t(1,c=q.wrapperClass),"wrapperStyle"in q&&t(2,f=q.wrapperStyle),"captureCenter"in q&&t(11,d=q.captureCenter),"captureCenterWindow"in q&&t(12,m=q.captureCenterWindow),"style"in q&&t(3,p=q.style),"id"in q&&t(4,g=q.id),"$$scope"in q&&t(15,s=q.$$scope)},i.$$.update=()=>{i.$$.dirty&8448&&l&&E&&(x.selectIndex(l),T()),i.$$.dirty&16384&&n.width&&T(),i.$$.dirty&16384&&n.width&&(T(),z(),R())},[a,c,f,p,g,$,C,S,l,o,u,d,m,E,n,s,r,ee,J]}class Fh extends pe{constructor(e){super(),me(this,e,yye,kye,he,{activeIndex:8,activeClass:9,className:0,centerIfPossible:10,wrapperClass:1,wrapperStyle:2,captureCenter:11,captureCenterWindow:12,style:3,id:4})}}const wye=()=>`${Math.random().toString(16).slice(2)}${Math.random().toString(16).slice(2).substring(0,6)}`;class ik{constructor(e){je(this,"id");je(this,"name");je(this,"description");je(this,"url");je(this,"emoji");je(this,"addToCaptureMenu");je(this,"addToMoreMenu");je(this,"addToWidgets");je(this,"version");je(this,"active");je(this,"uses");je(this,"error");je(this,"locked");this.id=e.id||wye(),this.name=e.name,this.emoji=e.emoji,this.description=e.description,this.addToCaptureMenu=e.addToCaptureMenu==!0,this.addToMoreMenu=e.addToMoreMenu==!0,this.addToWidgets=e.addToWidgets==!0,this.url=e.url,this.version=e.version,this.active=e.active,this.uses=e.uses||[],this.error=void 0,this.locked=e.locked}hasError(e){this.error=e}get isAutoLoad(){return this.uses.includes("onLaunch")||this.uses.includes("onNote")}get urlWithParams(){try{const e=new URL(this.url||"");return e.searchParams.append("pid",this.id),e.toString()}catch{return}}}function $ye(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Fye(i){let e,t;const n=[{primary:!0},i[1]];let r={$$slots:{default:[$ye]},$$scope:{ctx:i}};for(let s=0;s<n.length;s+=1)r=St(r,n[s]);return e=new He({props:r}),e.$on("click",i[2]),{c(){B(e.$$.fragment)},m(s,l){O(e,s,l),t=!0},p(s,[l]){const o=l&2?Zt(n,[n[0],Qr(s[1])]):{};l&8&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Eye(i,e,t){const n=[];let r=mi(e,n);const s=Ut(),l=o=>{s("click",o.detail)};return i.$$set=o=>{e=St(St({},e),Qi(o)),t(1,r=mi(e,n))},[s,r,l]}class Cye extends pe{constructor(e){super(),me(this,e,Eye,Fye,he,{})}}function Dye(){const i=console.warn;console.warn=e=>{e.includes("unknown prop")||e.includes("unexpected slot")||i(e)},Yt(()=>{console.warn=i})}function yE(i,e,t){const n=i.slice();return n[18]=e[t],n}function wE(i,e,t){const n=i.slice();return n[18]=e[t],n}function $E(i,e,t){const n=i.slice();return n[10]=e[t],n}function FE(i,e,t){const n=i.slice();return n[13]=e[t],n[15]=t,n}function EE(i,e,t){const n=i.slice();return n[16]=e[t],n[15]=t,n}function CE(i,e,t){const n=i.slice();return n[7]=e[t],n}function Sye(i){let e,t,n,r;const s=[Nye,Pye,Aye],l=[];function o(a,u){return a[0]==="table"?0:a[0]==="list"?1:2}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Tye(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=NE(CE(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&34){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=CE(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=NE(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function Aye(i){let e,t,n;const r=[i[6]];var s=i[5][i[0]];function l(o){let a={$$slots:{default:[Oye]},$$scope:{ctx:o}};for(let u=0;u<r.length;u+=1)a=St(a,r[u]);return{props:a}}return s&&(e=Un(s,l(i))),{c(){e&&B(e.$$.fragment),t=Ae()},m(o,a){e&&O(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&64?Zt(r,[Qr(o[6])]):{};if(a&8388706&&(u.$$scope={dirty:a,ctx:o}),s!==(s=o[5][o[0]])){if(e){ae();const c=e;v(c.$$.fragment,1,0,()=>{I(c,1)}),ue()}s?(e=Un(s,l(o)),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&I(e,o)}}}function Pye(i){let e,t,n,r;const s=[Bye,Iye],l=[];function o(a,u){return a[4]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Nye(i){let e,t,n;var r=i[5].table;function s(l){return{props:{$$slots:{default:[Gye]},$$scope:{ctx:l}}}}return r&&(e=Un(r,s(i))),{c(){e&&B(e.$$.fragment),t=Ae()},m(l,o){e&&O(e,l,o),w(l,t,o),n=!0},p(l,o){const a={};if(o&8388716&&(a.$$scope={dirty:o,ctx:l}),r!==(r=l[5].table)){if(e){ae();const u=e;v(u.$$.fragment,1,0,()=>{I(u,1)}),ue()}r?(e=Un(r,s(l)),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(l){n||(e&&_(e.$$.fragment,l),n=!0)},o(l){e&&v(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&I(e,l)}}}function Mye(i){let e=i[6].raw+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&64&&e!==(e=n[6].raw+"")&&de(t,e)},i:Z,o:Z,d(n){n&&y(t)}}}function Lye(i){let e,t;return e=new Lf({props:{tokens:i[1],renderers:i[5]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.tokens=n[1]),r&32&&(s.renderers=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Oye(i){let e,t,n,r;const s=[Lye,Mye],l=[];function o(a,u){return a[1]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Iye(i){let e,t,n;const r=[{ordered:i[4]},i[6]];var s=i[5].list;function l(o){let a={$$slots:{default:[zye]},$$scope:{ctx:o}};for(let u=0;u<r.length;u+=1)a=St(a,r[u]);return{props:a}}return s&&(e=Un(s,l(i))),{c(){e&&B(e.$$.fragment),t=Ae()},m(o,a){e&&O(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&80?Zt(r,[a&16&&{ordered:o[4]},a&64&&Qr(o[6])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:o}),s!==(s=o[5].list)){if(e){ae();const c=e;v(c.$$.fragment,1,0,()=>{I(c,1)}),ue()}s?(e=Un(s,l(o)),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&I(e,o)}}}function Bye(i){let e,t,n;const r=[{ordered:i[4]},i[6]];var s=i[5].list;function l(o){let a={$$slots:{default:[Yye]},$$scope:{ctx:o}};for(let u=0;u<r.length;u+=1)a=St(a,r[u]);return{props:a}}return s&&(e=Un(s,l(i))),{c(){e&&B(e.$$.fragment),t=Ae()},m(o,a){e&&O(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&80?Zt(r,[a&16&&{ordered:o[4]},a&64&&Qr(o[6])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:o}),s!==(s=o[5].list)){if(e){ae();const c=e;v(c.$$.fragment,1,0,()=>{I(c,1)}),ue()}s?(e=Un(s,l(o)),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&I(e,o)}}}function Rye(i){let e,t,n;return e=new Lf({props:{tokens:i[18].tokens,renderers:i[5]}}),{c(){B(e.$$.fragment),t=W()},m(r,s){O(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&64&&(l.tokens=r[18].tokens),s&32&&(l.renderers=r[5]),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){I(e,r),r&&y(t)}}}function DE(i){let e,t,n;const r=[i[18]];var s=i[5].unorderedlistitem||i[5].listitem;function l(o){let a={$$slots:{default:[Rye]},$$scope:{ctx:o}};for(let u=0;u<r.length;u+=1)a=St(a,r[u]);return{props:a}}return s&&(e=Un(s,l(i))),{c(){e&&B(e.$$.fragment),t=Ae()},m(o,a){e&&O(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&64?Zt(r,[Qr(o[18])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:o}),s!==(s=o[5].unorderedlistitem||o[5].listitem)){if(e){ae();const c=e;v(c.$$.fragment,1,0,()=>{I(c,1)}),ue()}s?(e=Un(s,l(o)),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&I(e,o)}}}function zye(i){let e,t,n=i[6].items,r=[];for(let l=0;l<n.length;l+=1)r[l]=DE(yE(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&96){n=l[6].items;let a;for(a=0;a<n.length;a+=1){const u=yE(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=DE(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function jye(i){let e,t,n;return e=new Lf({props:{tokens:i[18].tokens,renderers:i[5]}}),{c(){B(e.$$.fragment),t=W()},m(r,s){O(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&64&&(l.tokens=r[18].tokens),s&32&&(l.renderers=r[5]),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){I(e,r),r&&y(t)}}}function SE(i){let e,t,n;const r=[i[18]];var s=i[5].orderedlistitem||i[5].listitem;function l(o){let a={$$slots:{default:[jye]},$$scope:{ctx:o}};for(let u=0;u<r.length;u+=1)a=St(a,r[u]);return{props:a}}return s&&(e=Un(s,l(i))),{c(){e&&B(e.$$.fragment),t=Ae()},m(o,a){e&&O(e,o,a),w(o,t,a),n=!0},p(o,a){const u=a&64?Zt(r,[Qr(o[18])]):{};if(a&8388704&&(u.$$scope={dirty:a,ctx:o}),s!==(s=o[5].orderedlistitem||o[5].listitem)){if(e){ae();const c=e;v(c.$$.fragment,1,0,()=>{I(c,1)}),ue()}s?(e=Un(s,l(o)),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else s&&e.$set(u)},i(o){n||(e&&_(e.$$.fragment,o),n=!0)},o(o){e&&v(e.$$.fragment,o),n=!1},d(o){o&&y(t),e&&I(e,o)}}}function Yye(i){let e,t,n=i[6].items,r=[];for(let l=0;l<n.length;l+=1)r[l]=SE(wE(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&96){n=l[6].items;let a;for(a=0;a<n.length;a+=1){const u=wE(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=SE(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function Uye(i){let e,t,n;return e=new Lf({props:{tokens:i[16].tokens,renderers:i[5]}}),{c(){B(e.$$.fragment),t=W()},m(r,s){O(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&4&&(l.tokens=r[16].tokens),s&32&&(l.renderers=r[5]),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){I(e,r),r&&y(t)}}}function TE(i){let e,t,n;var r=i[5].tablecell;function s(l){return{props:{header:!0,align:l[6].align[l[15]]||"center",$$slots:{default:[Uye]},$$scope:{ctx:l}}}}return r&&(e=Un(r,s(i))),{c(){e&&B(e.$$.fragment),t=Ae()},m(l,o){e&&O(e,l,o),w(l,t,o),n=!0},p(l,o){const a={};if(o&64&&(a.align=l[6].align[l[15]]||"center"),o&8388644&&(a.$$scope={dirty:o,ctx:l}),r!==(r=l[5].tablecell)){if(e){ae();const u=e;v(u.$$.fragment,1,0,()=>{I(u,1)}),ue()}r?(e=Un(r,s(l)),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(l){n||(e&&_(e.$$.fragment,l),n=!0)},o(l){e&&v(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&I(e,l)}}}function Wye(i){let e,t,n=i[2],r=[];for(let l=0;l<n.length;l+=1)r[l]=TE(EE(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&100){n=l[2];let a;for(a=0;a<n.length;a+=1){const u=EE(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=TE(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function qye(i){let e,t,n;var r=i[5].tablerow;function s(l){return{props:{$$slots:{default:[Wye]},$$scope:{ctx:l}}}}return r&&(e=Un(r,s(i))),{c(){e&&B(e.$$.fragment),t=Ae()},m(l,o){e&&O(e,l,o),w(l,t,o),n=!0},p(l,o){const a={};if(o&8388708&&(a.$$scope={dirty:o,ctx:l}),r!==(r=l[5].tablerow)){if(e){ae();const u=e;v(u.$$.fragment,1,0,()=>{I(u,1)}),ue()}r?(e=Un(r,s(l)),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(l){n||(e&&_(e.$$.fragment,l),n=!0)},o(l){e&&v(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&I(e,l)}}}function Hye(i){let e,t;return e=new Lf({props:{tokens:i[13].tokens,renderers:i[5]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.tokens=n[13].tokens),r&32&&(s.renderers=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function AE(i){let e,t,n;var r=i[5].tablecell;function s(l){return{props:{header:!1,align:l[6].align[l[15]]||"center",$$slots:{default:[Hye]},$$scope:{ctx:l}}}}return r&&(e=Un(r,s(i))),{c(){e&&B(e.$$.fragment),t=Ae()},m(l,o){e&&O(e,l,o),w(l,t,o),n=!0},p(l,o){const a={};if(o&64&&(a.align=l[6].align[l[15]]||"center"),o&8388648&&(a.$$scope={dirty:o,ctx:l}),r!==(r=l[5].tablecell)){if(e){ae();const u=e;v(u.$$.fragment,1,0,()=>{I(u,1)}),ue()}r?(e=Un(r,s(l)),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(l){n||(e&&_(e.$$.fragment,l),n=!0)},o(l){e&&v(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&I(e,l)}}}function Vye(i){let e,t,n=i[10],r=[];for(let l=0;l<n.length;l+=1)r[l]=AE(FE(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=W()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&104){n=l[10];let a;for(a=0;a<n.length;a+=1){const u=FE(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=AE(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function PE(i){let e,t,n;var r=i[5].tablerow;function s(l){return{props:{$$slots:{default:[Vye]},$$scope:{ctx:l}}}}return r&&(e=Un(r,s(i))),{c(){e&&B(e.$$.fragment),t=Ae()},m(l,o){e&&O(e,l,o),w(l,t,o),n=!0},p(l,o){const a={};if(o&8388712&&(a.$$scope={dirty:o,ctx:l}),r!==(r=l[5].tablerow)){if(e){ae();const u=e;v(u.$$.fragment,1,0,()=>{I(u,1)}),ue()}r?(e=Un(r,s(l)),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else r&&e.$set(a)},i(l){n||(e&&_(e.$$.fragment,l),n=!0)},o(l){e&&v(e.$$.fragment,l),n=!1},d(l){l&&y(t),e&&I(e,l)}}}function xye(i){let e,t,n=i[3],r=[];for(let l=0;l<n.length;l+=1)r[l]=PE($E(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&104){n=l[3];let a;for(a=0;a<n.length;a+=1){const u=$E(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=PE(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function Gye(i){let e,t,n,r,s;var l=i[5].tablehead;function o(c){return{props:{$$slots:{default:[qye]},$$scope:{ctx:c}}}}l&&(e=Un(l,o(i)));var a=i[5].tablebody;function u(c){return{props:{$$slots:{default:[xye]},$$scope:{ctx:c}}}}return a&&(n=Un(a,u(i))),{c(){e&&B(e.$$.fragment),t=W(),n&&B(n.$$.fragment),r=Ae()},m(c,f){e&&O(e,c,f),w(c,t,f),n&&O(n,c,f),w(c,r,f),s=!0},p(c,f){const d={};if(f&8388708&&(d.$$scope={dirty:f,ctx:c}),l!==(l=c[5].tablehead)){if(e){ae();const p=e;v(p.$$.fragment,1,0,()=>{I(p,1)}),ue()}l?(e=Un(l,o(c)),B(e.$$.fragment),_(e.$$.fragment,1),O(e,t.parentNode,t)):e=null}else l&&e.$set(d);const m={};if(f&8388712&&(m.$$scope={dirty:f,ctx:c}),a!==(a=c[5].tablebody)){if(n){ae();const p=n;v(p.$$.fragment,1,0,()=>{I(p,1)}),ue()}a?(n=Un(a,u(c)),B(n.$$.fragment),_(n.$$.fragment,1),O(n,r.parentNode,r)):n=null}else a&&n.$set(m)},i(c){s||(e&&_(e.$$.fragment,c),n&&_(n.$$.fragment,c),s=!0)},o(c){e&&v(e.$$.fragment,c),n&&v(n.$$.fragment,c),s=!1},d(c){e&&I(e,c),c&&y(t),c&&y(r),n&&I(n,c)}}}function NE(i){let e,t;const n=[i[7],{renderers:i[5]}];let r={};for(let s=0;s<n.length;s+=1)r=St(r,n[s]);return e=new Lf({props:r}),{c(){B(e.$$.fragment)},m(s,l){O(e,s,l),t=!0},p(s,l){const o=l&34?Zt(n,[l&2&&Qr(s[7]),l&32&&{renderers:s[5]}]):{};e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function Zye(i){let e,t,n,r;const s=[Tye,Sye],l=[];function o(a,u){return a[0]?a[5][a[0]]?1:-1:0}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=Ae()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function Xye(i,e,t){const n=["type","tokens","header","rows","ordered","renderers"];let r=mi(e,n),{type:s=void 0}=e,{tokens:l=void 0}=e,{header:o=void 0}=e,{rows:a=void 0}=e,{ordered:u=!1}=e,{renderers:c}=e;return Dye(),i.$$set=f=>{e=St(St({},e),Qi(f)),t(6,r=mi(e,n)),"type"in f&&t(0,s=f.type),"tokens"in f&&t(1,l=f.tokens),"header"in f&&t(2,o=f.header),"rows"in f&&t(3,a=f.rows),"ordered"in f&&t(4,u=f.ordered),"renderers"in f&&t(5,c=f.renderers)},[s,l,o,a,u,c,r]}class Lf extends pe{constructor(e){super(),me(this,e,Xye,Zye,he,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}}function Kj(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Eh=Kj();function Kye(i){Eh=i}const Jj=/[&<>"']/,Jye=new RegExp(Jj.source,"g"),Qj=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Qye=new RegExp(Qj.source,"g"),ewe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ME=i=>ewe[i];function Xr(i,e){if(e){if(Jj.test(i))return i.replace(Jye,ME)}else if(Qj.test(i))return i.replace(Qye,ME);return i}const twe=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function eY(i){return i.replace(twe,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const nwe=/(^|[^\[])\^/g;function Bi(i,e){i=typeof i=="string"?i:i.source,e=e||"";const t={replace:(n,r)=>(r=r.source||r,r=r.replace(nwe,"$1"),i=i.replace(n,r),t),getRegex:()=>new RegExp(i,e)};return t}const iwe=/[^\w:]/g,rwe=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function LE(i,e,t){if(i){let n;try{n=decodeURIComponent(eY(t)).replace(iwe,"").toLowerCase()}catch{return null}if(n.indexOf("javascript:")===0||n.indexOf("vbscript:")===0||n.indexOf("data:")===0)return null}e&&!rwe.test(t)&&(t=awe(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const ug={},swe=/^[^:]+:\/*[^/]*$/,lwe=/^([^:]+:)[\s\S]*$/,owe=/^([^:]+:\/*[^/]*)[\s\S]*$/;function awe(i,e){ug[" "+i]||(swe.test(i)?ug[" "+i]=i+"/":ug[" "+i]=Ig(i,"/",!0)),i=ug[" "+i];const t=i.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:i.replace(lwe,"$1")+e:e.charAt(0)==="/"?t?e:i.replace(owe,"$1")+e:i+e}const a1={exec:function(){}};function go(i){let e=1,t,n;for(;e<arguments.length;e++){t=arguments[e];for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i}function OE(i,e){const t=i.replace(/\|/g,(s,l,o)=>{let a=!1,u=l;for(;--u>=0&&o[u]==="\\";)a=!a;return a?"|":" |"}),n=t.split(/ \|/);let r=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(/\\\|/g,"|");return n}function Ig(i,e,t){const n=i.length;if(n===0)return"";let r=0;for(;r<n;){const s=i.charAt(n-r-1);if(s===e&&!t)r++;else if(s!==e&&t)r++;else break}return i.slice(0,n-r)}function uwe(i,e){if(i.indexOf(e[1])===-1)return-1;const t=i.length;let n=0,r=0;for(;r<t;r++)if(i[r]==="\\")r++;else if(i[r]===e[0])n++;else if(i[r]===e[1]&&(n--,n<0))return r;return-1}function tY(i){i&&i.sanitize&&!i.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function IE(i,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=i),e>>=1,i+=i;return t+i}function BE(i,e,t,n){const r=e.href,s=e.title?Xr(e.title):null,l=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){n.state.inLink=!0;const o={type:"link",raw:t,href:r,title:s,text:l,tokens:n.inlineTokens(l)};return n.state.inLink=!1,o}return{type:"image",raw:t,href:r,title:s,text:Xr(l)}}function cwe(i,e){const t=i.match(/^(\s+)(?:```)/);if(t===null)return e;const n=t[1];return e.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[l]=s;return l.length>=n.length?r.slice(n.length):r}).join(`
`)}class kw{constructor(e){this.options=e||Eh}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Ig(n,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const n=t[0],r=cwe(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){const r=Ig(n,"#");(this.options.pedantic||!r||/ $/.test(r))&&(n=r.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const n=t[0].replace(/^ *>[ \t]?/gm,""),r=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(n);return this.lexer.state.top=r,{type:"blockquote",raw:t[0],tokens:s,text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,r,s,l,o,a,u,c,f,d,m,p,g=t[1].trim();const k=g.length>1,$={type:"list",raw:"",ordered:k,start:k?+g.slice(0,-1):"",loose:!1,items:[]};g=k?`\\d{1,9}\\${g.slice(-1)}`:`\\${g}`,this.options.pedantic&&(g=k?g:"[*+-]");const C=new RegExp(`^( {0,3}${g})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,!(!(t=C.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),c=t[2].split(`
`,1)[0].replace(/^\t+/,S=>" ".repeat(3*S.length)),f=e.split(`
`,1)[0],this.options.pedantic?(l=2,m=c.trimLeft()):(l=t[2].search(/[^ ]/),l=l>4?1:l,m=c.slice(l),l+=t[1].length),a=!1,!c&&/^ *$/.test(f)&&(n+=f+`
`,e=e.substring(f.length+1),p=!0),!p){const S=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),T=new RegExp(`^ {0,${Math.min(3,l-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),M=new RegExp(`^ {0,${Math.min(3,l-1)}}(?:\`\`\`|~~~)`),R=new RegExp(`^ {0,${Math.min(3,l-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],f=d,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(M.test(f)||R.test(f)||S.test(f)||T.test(e)));){if(f.search(/[^ ]/)>=l||!f.trim())m+=`
`+f.slice(l);else{if(a||c.search(/[^ ]/)>=4||M.test(c)||R.test(c)||T.test(c))break;m+=`
`+f}!a&&!f.trim()&&(a=!0),n+=d+`
`,e=e.substring(d.length+1),c=f.slice(l)}}$.loose||(u?$.loose=!0:/\n *\n *$/.test(n)&&(u=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(m),r&&(s=r[0]!=="[ ] ",m=m.replace(/^\[[ xX]\] +/,""))),$.items.push({type:"list_item",raw:n,task:!!r,checked:s,loose:!1,text:m}),$.raw+=n}$.items[$.items.length-1].raw=n.trimRight(),$.items[$.items.length-1].text=m.trimRight(),$.raw=$.raw.trimRight();const E=$.items.length;for(o=0;o<E;o++)if(this.lexer.state.top=!1,$.items[o].tokens=this.lexer.blockTokens($.items[o].text,[]),!$.loose){const S=$.items[o].tokens.filter(M=>M.type==="space"),T=S.length>0&&S.some(M=>/\n.*\n/.test(M.raw));$.loose=T}if($.loose)for(o=0;o<E;o++)$.items[o].loose=!0;return $}}html(e){const t=this.rules.block.html.exec(e);if(t){const n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){const r=this.options.sanitizer?this.options.sanitizer(t[0]):Xr(t[0]);n.type="paragraph",n.text=r,n.tokens=this.lexer.inline(r)}return n}}def(e){const t=this.rules.block.def.exec(e);if(t){const n=t[1].toLowerCase().replace(/\s+/g," "),r=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:n,raw:t[0],href:r,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(t){const n={type:"table",header:OE(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let r=n.align.length,s,l,o,a;for(s=0;s<r;s++)/^ *-+: *$/.test(n.align[s])?n.align[s]="right":/^ *:-+: *$/.test(n.align[s])?n.align[s]="center":/^ *:-+ *$/.test(n.align[s])?n.align[s]="left":n.align[s]=null;for(r=n.rows.length,s=0;s<r;s++)n.rows[s]=OE(n.rows[s],n.header.length).map(u=>({text:u}));for(r=n.header.length,l=0;l<r;l++)n.header[l].tokens=this.lexer.inline(n.header[l].text);for(r=n.rows.length,l=0;l<r;l++)for(a=n.rows[l],o=0;o<a.length;o++)a[o].tokens=this.lexer.inline(a[o].text);return n}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Xr(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Xr(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;const l=Ig(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{const l=uwe(t[2],"()");if(l>-1){const a=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,a).trim(),t[3]=""}}let r=t[2],s="";if(this.options.pedantic){const l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);l&&(r=l[1],s=l[3])}else s=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(n)?r=r.slice(1):r=r.slice(1,-1)),BE(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let r=(n[2]||n[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r){const s=n[0].charAt(0);return{type:"text",raw:s,text:s}}return BE(n,r,n[0],this.lexer)}}emStrong(e,t,n=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&n.match(/[\p{L}\p{N}]/u))return;const s=r[1]||r[2]||"";if(!s||s&&(n===""||this.rules.inline.punctuation.exec(n))){const l=r[0].length-1;let o,a,u=l,c=0;const f=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,t=t.slice(-1*e.length+l);(r=f.exec(t))!=null;){if(o=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!o)continue;if(a=o.length,r[3]||r[4]){u+=a;continue}else if((r[5]||r[6])&&l%3&&!((l+a)%3)){c+=a;continue}if(u-=a,u>0)continue;a=Math.min(a,a+u+c);const d=e.slice(0,l+r.index+(r[0].length-o.length)+a);if(Math.min(l,a)%2){const p=d.slice(1,-1);return{type:"em",raw:d,text:p,tokens:this.lexer.inlineTokens(p)}}const m=d.slice(2,-2);return{type:"strong",raw:d,text:m,tokens:this.lexer.inlineTokens(m)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," ");const r=/[^ ]/.test(n),s=/^ /.test(n)&&/ $/.test(n);return r&&s&&(n=n.substring(1,n.length-1)),n=Xr(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let r,s;return n[2]==="@"?(r=Xr(this.options.mangle?t(n[1]):n[1]),s="mailto:"+r):(r=Xr(n[1]),s=r),{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let r,s;if(n[2]==="@")r=Xr(this.options.mangle?t(n[0]):n[0]),s="mailto:"+r;else{let l;do l=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(l!==n[0]);r=Xr(n[0]),n[1]==="www."?s="http://"+n[0]:s=n[0]}return{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Xr(n[0]):n[0]:r=Xr(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:r}}}}const on={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:a1,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};on._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;on._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;on.def=Bi(on.def).replace("label",on._label).replace("title",on._title).getRegex();on.bullet=/(?:[*+-]|\d{1,9}[.)])/;on.listItemStart=Bi(/^( *)(bull) */).replace("bull",on.bullet).getRegex();on.list=Bi(on.list).replace(/bull/g,on.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+on.def.source+")").getRegex();on._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";on._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;on.html=Bi(on.html,"i").replace("comment",on._comment).replace("tag",on._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();on.paragraph=Bi(on._paragraph).replace("hr",on.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",on._tag).getRegex();on.blockquote=Bi(on.blockquote).replace("paragraph",on.paragraph).getRegex();on.normal=go({},on);on.gfm=go({},on.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});on.gfm.table=Bi(on.gfm.table).replace("hr",on.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",on._tag).getRegex();on.gfm.paragraph=Bi(on._paragraph).replace("hr",on.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",on.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",on._tag).getRegex();on.pedantic=go({},on.normal,{html:Bi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",on._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:a1,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Bi(on.normal._paragraph).replace("hr",on.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",on.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Kt={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:a1,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:a1,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Kt._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Kt.punctuation=Bi(Kt.punctuation).replace(/punctuation/g,Kt._punctuation).getRegex();Kt.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Kt.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;Kt._comment=Bi(on._comment).replace("(?:-->|$)","-->").getRegex();Kt.emStrong.lDelim=Bi(Kt.emStrong.lDelim).replace(/punct/g,Kt._punctuation).getRegex();Kt.emStrong.rDelimAst=Bi(Kt.emStrong.rDelimAst,"g").replace(/punct/g,Kt._punctuation).getRegex();Kt.emStrong.rDelimUnd=Bi(Kt.emStrong.rDelimUnd,"g").replace(/punct/g,Kt._punctuation).getRegex();Kt._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Kt._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Kt._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Kt.autolink=Bi(Kt.autolink).replace("scheme",Kt._scheme).replace("email",Kt._email).getRegex();Kt._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Kt.tag=Bi(Kt.tag).replace("comment",Kt._comment).replace("attribute",Kt._attribute).getRegex();Kt._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Kt._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Kt._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Kt.link=Bi(Kt.link).replace("label",Kt._label).replace("href",Kt._href).replace("title",Kt._title).getRegex();Kt.reflink=Bi(Kt.reflink).replace("label",Kt._label).replace("ref",on._label).getRegex();Kt.nolink=Bi(Kt.nolink).replace("ref",on._label).getRegex();Kt.reflinkSearch=Bi(Kt.reflinkSearch,"g").replace("reflink",Kt.reflink).replace("nolink",Kt.nolink).getRegex();Kt.normal=go({},Kt);Kt.pedantic=go({},Kt.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Bi(/^!?\[(label)\]\((.*?)\)/).replace("label",Kt._label).getRegex(),reflink:Bi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Kt._label).getRegex()});Kt.gfm=go({},Kt.normal,{escape:Bi(Kt.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});Kt.gfm.url=Bi(Kt.gfm.url,"i").replace("email",Kt.gfm._extended_email).getRegex();Kt.breaks=go({},Kt.gfm,{br:Bi(Kt.br).replace("{2,}","*").getRegex(),text:Bi(Kt.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function fwe(i){return i.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function RE(i){let e="",t,n;const r=i.length;for(t=0;t<r;t++)n=i.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),e+="&#"+n+";";return e}class aa{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Eh,this.options.tokenizer=this.options.tokenizer||new kw,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:on.normal,inline:Kt.normal};this.options.pedantic?(t.block=on.pedantic,t.inline=Kt.pedantic):this.options.gfm&&(t.block=on.gfm,this.options.breaks?t.inline=Kt.breaks:t.inline=Kt.gfm),this.tokenizer.rules=t}static get rules(){return{block:on,inline:Kt}}static lex(e,t){return new aa(t).lex(e)}static lexInline(e,t){return new aa(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,a,u)=>a+"    ".repeat(u.length));let n,r,s,l;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(n=o.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.space(e)){e=e.substring(n.raw.length),n.raw.length===1&&t.length>0?t[t.length-1].raw+=`
`:t.push(n);continue}if(n=this.tokenizer.code(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(n=this.tokenizer.fences(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.heading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.hr(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.blockquote(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.list(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.html(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.def(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+n.raw,r.text+=`
`+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title});continue}if(n=this.tokenizer.table(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.lheading(e)){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const a=e.slice(1);let u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},a),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(s=e.substring(0,o+1))}if(this.state.top&&(n=this.tokenizer.paragraph(s))){r=t[t.length-1],l&&r.type==="paragraph"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n),l=s.length!==e.length,e=e.substring(n.raw.length);continue}if(n=this.tokenizer.text(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+n.raw,r.text+=`
`+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(n);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,r,s,l=e,o,a,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)c.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+IE("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,o.index)+"["+IE("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.escapedEmSt.exec(l))!=null;)l=l.slice(0,o.index+o[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(a||(u=""),a=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(n=c.call({lexer:this},e,t))?(e=e.substring(n.raw.length),t.push(n),!0):!1))){if(n=this.tokenizer.escape(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.tag(e)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.link(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(n.raw.length),r=t[t.length-1],r&&n.type==="text"&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(n=this.tokenizer.emStrong(e,l,u)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.codespan(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.br(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.del(e)){e=e.substring(n.raw.length),t.push(n);continue}if(n=this.tokenizer.autolink(e,RE)){e=e.substring(n.raw.length),t.push(n);continue}if(!this.state.inLink&&(n=this.tokenizer.url(e,RE))){e=e.substring(n.raw.length),t.push(n);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const f=e.slice(1);let d;this.options.extensions.startInline.forEach(function(m){d=m.call({lexer:this},f),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(s=e.substring(0,c+1))}if(n=this.tokenizer.inlineText(s,fwe)){e=e.substring(n.raw.length),n.raw.slice(-1)!=="_"&&(u=n.raw.slice(-1)),a=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=n.raw,r.text+=n.text):t.push(n);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}}class yw{constructor(e){this.options=e||Eh}code(e,t,n){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,r);s!=null&&s!==e&&(n=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Xr(r)+'">'+(n?e:Xr(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Xr(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,t,n,r){if(this.options.headerIds){const s=this.options.headerPrefix+r.slug(n);return`<h${t} id="${s}">${e}</h${t}>
`}return`<h${t}>${e}</h${t}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){const r=t?"ol":"ul",s=t&&n!==1?' start="'+n+'"':"";return"<"+r+s+`>
`+e+"</"+r+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(e=LE(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>",r}image(e,t,n){if(e=LE(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let r=`<img src="${e}" alt="${n}"`;return t&&(r+=` title="${t}"`),r+=this.options.xhtml?"/>":">",r}text(e){return e}}class nY{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class ww{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,r=0;if(this.seen.hasOwnProperty(n)){r=this.seen[e];do r++,n=e+"-"+r;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=r,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class Ko{constructor(e){this.options=e||Eh,this.options.renderer=this.options.renderer||new yw,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new nY,this.slugger=new ww}static parse(e,t){return new Ko(t).parse(e)}static parseInline(e,t){return new Ko(t).parseInline(e)}parse(e,t=!0){let n="",r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M;const R=e.length;for(r=0;r<R;r++){if(m=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[m.type]&&(M=this.options.extensions.renderers[m.type].call({parser:this},m),M!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type))){n+=M||"";continue}switch(m.type){case"space":continue;case"hr":{n+=this.renderer.hr();continue}case"heading":{n+=this.renderer.heading(this.parseInline(m.tokens),m.depth,eY(this.parseInline(m.tokens,this.textRenderer)),this.slugger);continue}case"code":{n+=this.renderer.code(m.text,m.lang,m.escaped);continue}case"table":{for(f="",c="",o=m.header.length,s=0;s<o;s++)c+=this.renderer.tablecell(this.parseInline(m.header[s].tokens),{header:!0,align:m.align[s]});for(f+=this.renderer.tablerow(c),d="",o=m.rows.length,s=0;s<o;s++){for(u=m.rows[s],c="",a=u.length,l=0;l<a;l++)c+=this.renderer.tablecell(this.parseInline(u[l].tokens),{header:!1,align:m.align[l]});d+=this.renderer.tablerow(c)}n+=this.renderer.table(f,d);continue}case"blockquote":{d=this.parse(m.tokens),n+=this.renderer.blockquote(d);continue}case"list":{for(p=m.ordered,g=m.start,k=m.loose,o=m.items.length,d="",s=0;s<o;s++)C=m.items[s],E=C.checked,S=C.task,$="",C.task&&(T=this.renderer.checkbox(E),k?C.tokens.length>0&&C.tokens[0].type==="paragraph"?(C.tokens[0].text=T+" "+C.tokens[0].text,C.tokens[0].tokens&&C.tokens[0].tokens.length>0&&C.tokens[0].tokens[0].type==="text"&&(C.tokens[0].tokens[0].text=T+" "+C.tokens[0].tokens[0].text)):C.tokens.unshift({type:"text",text:T}):$+=T),$+=this.parse(C.tokens,k),d+=this.renderer.listitem($,S,E);n+=this.renderer.list(d,p,g);continue}case"html":{n+=this.renderer.html(m.text);continue}case"paragraph":{n+=this.renderer.paragraph(this.parseInline(m.tokens));continue}case"text":{for(d=m.tokens?this.parseInline(m.tokens):m.text;r+1<R&&e[r+1].type==="text";)m=e[++r],d+=`
`+(m.tokens?this.parseInline(m.tokens):m.text);n+=t?this.renderer.paragraph(d):d;continue}default:{const Y='Token with "'+m.type+'" type was not found.';if(this.options.silent){console.error(Y);return}else throw new Error(Y)}}}return n}parseInline(e,t){t=t||this.renderer;let n="",r,s,l;const o=e.length;for(r=0;r<o;r++){if(s=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(l=this.options.extensions.renderers[s.type].call({parser:this},s),l!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){n+=l||"";continue}switch(s.type){case"escape":{n+=t.text(s.text);break}case"html":{n+=t.html(s.text);break}case"link":{n+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break}case"image":{n+=t.image(s.href,s.title,s.text);break}case"strong":{n+=t.strong(this.parseInline(s.tokens,t));break}case"em":{n+=t.em(this.parseInline(s.tokens,t));break}case"codespan":{n+=t.codespan(s.text);break}case"br":{n+=t.br();break}case"del":{n+=t.del(this.parseInline(s.tokens,t));break}case"text":{n+=t.text(s.text);break}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(a);return}else throw new Error(a)}}}return n}}function mn(i,e,t){if(typeof i>"u"||i===null)throw new Error("marked(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=go({},mn.defaults,e||{}),tY(e),t){const r=e.highlight;let s;try{s=aa.lex(i,e)}catch(a){return t(a)}const l=function(a){let u;if(!a)try{e.walkTokens&&mn.walkTokens(s,e.walkTokens),u=Ko.parse(s,e)}catch(c){a=c}return e.highlight=r,a?t(a):t(null,u)};if(!r||r.length<3||(delete e.highlight,!s.length))return l();let o=0;mn.walkTokens(s,function(a){a.type==="code"&&(o++,setTimeout(()=>{r(a.text,a.lang,function(u,c){if(u)return l(u);c!=null&&c!==a.text&&(a.text=c,a.escaped=!0),o--,o===0&&l()})},0))}),o===0&&l();return}function n(r){if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Xr(r.message+"",!0)+"</pre>";throw r}try{const r=aa.lex(i,e);if(e.walkTokens){if(e.async)return Promise.all(mn.walkTokens(r,e.walkTokens)).then(()=>Ko.parse(r,e)).catch(n);mn.walkTokens(r,e.walkTokens)}return Ko.parse(r,e)}catch(r){n(r)}}mn.options=mn.setOptions=function(i){return go(mn.defaults,i),Kye(mn.defaults),mn};mn.getDefaults=Kj;mn.defaults=Eh;mn.use=function(...i){const e=mn.defaults.extensions||{renderers:{},childTokens:{}};i.forEach(t=>{const n=go({},t);if(n.async=mn.defaults.async||n.async,t.extensions&&(t.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if(r.renderer){const s=e.renderers[r.name];s?e.renderers[r.name]=function(...l){let o=r.renderer.apply(this,l);return o===!1&&(o=s.apply(this,l)),o}:e.renderers[r.name]=r.renderer}if(r.tokenizer){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[r.level]?e[r.level].unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),n.extensions=e),t.renderer){const r=mn.defaults.renderer||new yw;for(const s in t.renderer){const l=r[s];r[s]=(...o)=>{let a=t.renderer[s].apply(r,o);return a===!1&&(a=l.apply(r,o)),a}}n.renderer=r}if(t.tokenizer){const r=mn.defaults.tokenizer||new kw;for(const s in t.tokenizer){const l=r[s];r[s]=(...o)=>{let a=t.tokenizer[s].apply(r,o);return a===!1&&(a=l.apply(r,o)),a}}n.tokenizer=r}if(t.walkTokens){const r=mn.defaults.walkTokens;n.walkTokens=function(s){let l=[];return l.push(t.walkTokens.call(this,s)),r&&(l=l.concat(r.call(this,s))),l}}mn.setOptions(n)})};mn.walkTokens=function(i,e){let t=[];for(const n of i)switch(t=t.concat(e.call(mn,n)),n.type){case"table":{for(const r of n.header)t=t.concat(mn.walkTokens(r.tokens,e));for(const r of n.rows)for(const s of r)t=t.concat(mn.walkTokens(s.tokens,e));break}case"list":{t=t.concat(mn.walkTokens(n.items,e));break}default:mn.defaults.extensions&&mn.defaults.extensions.childTokens&&mn.defaults.extensions.childTokens[n.type]?mn.defaults.extensions.childTokens[n.type].forEach(function(r){t=t.concat(mn.walkTokens(n[r],e))}):n.tokens&&(t=t.concat(mn.walkTokens(n.tokens,e)))}return t};mn.parseInline=function(i,e){if(typeof i>"u"||i===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof i!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected");e=go({},mn.defaults,e||{}),tY(e);try{const t=aa.lexInline(i,e);return e.walkTokens&&mn.walkTokens(t,e.walkTokens),Ko.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+Xr(t.message+"",!0)+"</pre>";throw t}};mn.Parser=Ko;mn.parser=Ko.parse;mn.Renderer=yw;mn.TextRenderer=nY;mn.Lexer=aa;mn.lexer=aa.lex;mn.Tokenizer=kw;mn.Slugger=ww;mn.parse=mn;mn.options;mn.setOptions;mn.use;mn.walkTokens;mn.parseInline;Ko.parse;aa.lex;const iY={};function dwe(i){let e;return{c(){e=K(i[1])},m(t,n){w(t,e,n)},p(t,n){n&2&&de(e,t[1])},i:Z,o:Z,d(t){t&&y(e)}}}function hwe(i){let e,t;const n=i[5].default,r=nt(n,i,i[4],null);return{c(){e=P("h6"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&rt(r,n,s,s[4],t?it(n,s[4],l,null):st(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function mwe(i){let e,t;const n=i[5].default,r=nt(n,i,i[4],null);return{c(){e=P("h5"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&rt(r,n,s,s[4],t?it(n,s[4],l,null):st(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function pwe(i){let e,t;const n=i[5].default,r=nt(n,i,i[4],null);return{c(){e=P("h4"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&rt(r,n,s,s[4],t?it(n,s[4],l,null):st(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function _we(i){let e,t;const n=i[5].default,r=nt(n,i,i[4],null);return{c(){e=P("h3"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&rt(r,n,s,s[4],t?it(n,s[4],l,null):st(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function gwe(i){let e,t;const n=i[5].default,r=nt(n,i,i[4],null);return{c(){e=P("h2"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&rt(r,n,s,s[4],t?it(n,s[4],l,null):st(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function vwe(i){let e,t;const n=i[5].default,r=nt(n,i,i[4],null);return{c(){e=P("h1"),r&&r.c(),h(e,"id",i[2])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&16)&&rt(r,n,s,s[4],t?it(n,s[4],l,null):st(s[4]),null),(!t||l&4)&&h(e,"id",s[2])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function bwe(i){let e,t,n,r;const s=[vwe,gwe,_we,pwe,mwe,hwe,dwe],l=[];function o(a,u){return a[0]===1?0:a[0]===2?1:a[0]===3?2:a[0]===4?3:a[0]===5?4:a[0]===6?5:6}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function kwe(i,e,t){let n,{$$slots:r={},$$scope:s}=e,{depth:l}=e,{raw:o}=e,{text:a}=e;const{slug:u,getOptions:c}=os(iY),f=c();return i.$$set=d=>{"depth"in d&&t(0,l=d.depth),"raw"in d&&t(1,o=d.raw),"text"in d&&t(3,a=d.text),"$$scope"in d&&t(4,s=d.$$scope)},i.$$.update=()=>{i.$$.dirty&8&&t(2,n=f.headerIds?f.headerPrefix+u(a):void 0)},[l,o,n,a,s,r]}class ywe extends pe{constructor(e){super(),me(this,e,kwe,bwe,he,{depth:0,raw:1,text:3})}}function wwe(i){let e,t;const n=i[1].default,r=nt(n,i,i[0],null);return{c(){e=P("p"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&rt(r,n,s,s[0],t?it(n,s[0],l,null):st(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function $we(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Fwe extends pe{constructor(e){super(),me(this,e,$we,wwe,he,{})}}function Ewe(i){let e;const t=i[3].default,n=nt(t,i,i[2],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,[s]){n&&n.p&&(!e||s&4)&&rt(n,t,r,r[2],e?it(t,r[2],s,null):st(r[2]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function Cwe(i,e,t){let{$$slots:n={},$$scope:r}=e,{text:s}=e,{raw:l}=e;return i.$$set=o=>{"text"in o&&t(0,s=o.text),"raw"in o&&t(1,l=o.raw),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,n]}class Dwe extends pe{constructor(e){super(),me(this,e,Cwe,Ewe,he,{text:0,raw:1})}}function Swe(i){let e,t;return{c(){e=P("img"),Jr(e.src,t=i[0])||h(e,"src",t),h(e,"title",i[1]),h(e,"alt",i[2])},m(n,r){w(n,e,r)},p(n,[r]){r&1&&!Jr(e.src,t=n[0])&&h(e,"src",t),r&2&&h(e,"title",n[1]),r&4&&h(e,"alt",n[2])},i:Z,o:Z,d(n){n&&y(e)}}}function Twe(i,e,t){let{href:n=""}=e,{title:r=void 0}=e,{text:s=""}=e;return i.$$set=l=>{"href"in l&&t(0,n=l.href),"title"in l&&t(1,r=l.title),"text"in l&&t(2,s=l.text)},[n,r,s]}class Awe extends pe{constructor(e){super(),me(this,e,Twe,Swe,he,{href:0,title:1,text:2})}}function Pwe(i){let e,t;const n=i[3].default,r=nt(n,i,i[2],null);return{c(){e=P("a"),r&&r.c(),h(e,"href",i[0]),h(e,"title",i[1])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&4)&&rt(r,n,s,s[2],t?it(n,s[2],l,null):st(s[2]),null),(!t||l&1)&&h(e,"href",s[0]),(!t||l&2)&&h(e,"title",s[1])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Nwe(i,e,t){let{$$slots:n={},$$scope:r}=e,{href:s=""}=e,{title:l=void 0}=e;return i.$$set=o=>{"href"in o&&t(0,s=o.href),"title"in o&&t(1,l=o.title),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,n]}class Mwe extends pe{constructor(e){super(),me(this,e,Nwe,Pwe,he,{href:0,title:1})}}function Lwe(i){let e,t;const n=i[1].default,r=nt(n,i,i[0],null);return{c(){e=P("em"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&rt(r,n,s,s[0],t?it(n,s[0],l,null):st(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Owe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Iwe extends pe{constructor(e){super(),me(this,e,Owe,Lwe,he,{})}}function Bwe(i){let e,t;const n=i[1].default,r=nt(n,i,i[0],null);return{c(){e=P("del"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&rt(r,n,s,s[0],t?it(n,s[0],l,null):st(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Rwe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class zwe extends pe{constructor(e){super(),me(this,e,Rwe,Bwe,he,{})}}function jwe(i){let e,t=i[0].replace(/`/g,"")+"",n;return{c(){e=P("code"),n=K(t)},m(r,s){w(r,e,s),D(e,n)},p(r,[s]){s&1&&t!==(t=r[0].replace(/`/g,"")+"")&&de(n,t)},i:Z,o:Z,d(r){r&&y(e)}}}function Ywe(i,e,t){let{raw:n}=e;return i.$$set=r=>{"raw"in r&&t(0,n=r.raw)},[n]}class Uwe extends pe{constructor(e){super(),me(this,e,Ywe,jwe,he,{raw:0})}}function Wwe(i){let e,t;const n=i[1].default,r=nt(n,i,i[0],null);return{c(){e=P("strong"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&rt(r,n,s,s[0],t?it(n,s[0],l,null):st(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function qwe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Hwe extends pe{constructor(e){super(),me(this,e,qwe,Wwe,he,{})}}function Vwe(i){let e,t;const n=i[1].default,r=nt(n,i,i[0],null);return{c(){e=P("table"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&rt(r,n,s,s[0],t?it(n,s[0],l,null):st(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function xwe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Gwe extends pe{constructor(e){super(),me(this,e,xwe,Vwe,he,{})}}function Zwe(i){let e,t;const n=i[1].default,r=nt(n,i,i[0],null);return{c(){e=P("thead"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&rt(r,n,s,s[0],t?it(n,s[0],l,null):st(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Xwe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class Kwe extends pe{constructor(e){super(),me(this,e,Xwe,Zwe,he,{})}}function Jwe(i){let e,t;const n=i[1].default,r=nt(n,i,i[0],null);return{c(){e=P("tbody"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&rt(r,n,s,s[0],t?it(n,s[0],l,null):st(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Qwe(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class e$e extends pe{constructor(e){super(),me(this,e,Qwe,Jwe,he,{})}}function t$e(i){let e,t;const n=i[1].default,r=nt(n,i,i[0],null);return{c(){e=P("tr"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&rt(r,n,s,s[0],t?it(n,s[0],l,null):st(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function n$e(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class i$e extends pe{constructor(e){super(),me(this,e,n$e,t$e,he,{})}}function r$e(i){let e,t;const n=i[3].default,r=nt(n,i,i[2],null);return{c(){e=P("td"),r&&r.c(),h(e,"align",i[1])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&4)&&rt(r,n,s,s[2],t?it(n,s[2],l,null):st(s[2]),null),(!t||l&2)&&h(e,"align",s[1])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function s$e(i){let e,t;const n=i[3].default,r=nt(n,i,i[2],null);return{c(){e=P("th"),r&&r.c(),h(e,"align",i[1])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&4)&&rt(r,n,s,s[2],t?it(n,s[2],l,null):st(s[2]),null),(!t||l&2)&&h(e,"align",s[1])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function l$e(i){let e,t,n,r;const s=[s$e,r$e],l=[];function o(a,u){return a[0]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function o$e(i,e,t){let{$$slots:n={},$$scope:r}=e,{header:s}=e,{align:l}=e;return i.$$set=o=>{"header"in o&&t(0,s=o.header),"align"in o&&t(1,l=o.align),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,n]}class a$e extends pe{constructor(e){super(),me(this,e,o$e,l$e,he,{header:0,align:1})}}function u$e(i){let e,t;const n=i[3].default,r=nt(n,i,i[2],null);return{c(){e=P("ul"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&4)&&rt(r,n,s,s[2],t?it(n,s[2],l,null):st(s[2]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function c$e(i){let e,t;const n=i[3].default,r=nt(n,i,i[2],null);return{c(){e=P("ol"),r&&r.c(),h(e,"start",i[1])},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&4)&&rt(r,n,s,s[2],t?it(n,s[2],l,null):st(s[2]),null),(!t||l&2)&&h(e,"start",s[1])},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function f$e(i){let e,t,n,r;const s=[c$e,u$e],l=[];function o(a,u){return a[0]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function d$e(i,e,t){let{$$slots:n={},$$scope:r}=e,{ordered:s}=e,{start:l}=e;return i.$$set=o=>{"ordered"in o&&t(0,s=o.ordered),"start"in o&&t(1,l=o.start),"$$scope"in o&&t(2,r=o.$$scope)},[s,l,r,n]}class h$e extends pe{constructor(e){super(),me(this,e,d$e,f$e,he,{ordered:0,start:1})}}function m$e(i){let e,t;const n=i[1].default,r=nt(n,i,i[0],null);return{c(){e=P("li"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&rt(r,n,s,s[0],t?it(n,s[0],l,null):st(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function p$e(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class _$e extends pe{constructor(e){super(),me(this,e,p$e,m$e,he,{})}}function g$e(i){let e;return{c(){e=P("hr")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}class v$e extends pe{constructor(e){super(),me(this,e,null,g$e,he,{})}}function b$e(i){let e,t;return{c(){e=new jX(!1),t=Ae(),e.a=t},m(n,r){e.m(i[0],n,r),w(n,t,r)},p(n,[r]){r&1&&e.p(n[0])},i:Z,o:Z,d(n){n&&y(t),n&&e.d()}}}function k$e(i,e,t){let{text:n}=e;return i.$$set=r=>{"text"in r&&t(0,n=r.text)},[n]}class y$e extends pe{constructor(e){super(),me(this,e,k$e,b$e,he,{text:0})}}function w$e(i){let e,t;const n=i[1].default,r=nt(n,i,i[0],null);return{c(){e=P("blockquote"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&rt(r,n,s,s[0],t?it(n,s[0],l,null):st(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function $$e(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class F$e extends pe{constructor(e){super(),me(this,e,$$e,w$e,he,{})}}function E$e(i){let e,t,n;return{c(){e=P("pre"),t=P("code"),n=K(i[1]),h(e,"class",i[0])},m(r,s){w(r,e,s),D(e,t),D(t,n)},p(r,[s]){s&2&&de(n,r[1]),s&1&&h(e,"class",r[0])},i:Z,o:Z,d(r){r&&y(e)}}}function C$e(i,e,t){let{lang:n}=e,{text:r}=e;return i.$$set=s=>{"lang"in s&&t(0,n=s.lang),"text"in s&&t(1,r=s.text)},[n,r]}class D$e extends pe{constructor(e){super(),me(this,e,C$e,E$e,he,{lang:0,text:1})}}function S$e(i){let e,t;const n=i[1].default,r=nt(n,i,i[0],null);return{c(){e=P("br"),r&&r.c()},m(s,l){w(s,e,l),r&&r.m(s,l),t=!0},p(s,[l]){r&&r.p&&(!t||l&1)&&rt(r,n,s,s[0],t?it(n,s[0],l,null):st(s[0]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function T$e(i,e,t){let{$$slots:n={},$$scope:r}=e;return i.$$set=s=>{"$$scope"in s&&t(0,r=s.$$scope)},[r,n]}class A$e extends pe{constructor(e){super(),me(this,e,T$e,S$e,he,{})}}const P$e={heading:ywe,paragraph:Fwe,text:Dwe,image:Awe,link:Mwe,em:Iwe,strong:Hwe,codespan:Uwe,del:zwe,table:Gwe,tablehead:Kwe,tablebody:e$e,tablerow:i$e,tablecell:a$e,list:h$e,orderedlistitem:null,unorderedlistitem:null,listitem:_$e,hr:v$e,html:y$e,blockquote:F$e,code:D$e,br:A$e},N$e={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function M$e(i){let e,t;return e=new Lf({props:{tokens:i[0],renderers:i[1]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.tokens=n[0]),r&2&&(s.renderers=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function L$e(i,e,t){let n,r,s,l,{source:o=[]}=e,{renderers:a={}}=e,{options:u={}}=e,{isInline:c=!1}=e;const f=Ut();let d,m,p;return fo(iY,{slug:g=>r?r.slug(g):"",getOptions:()=>s}),Yt(()=>{t(7,p=!0)}),i.$$set=g=>{"source"in g&&t(2,o=g.source),"renderers"in g&&t(3,a=g.renderers),"options"in g&&t(4,u=g.options),"isInline"in g&&t(5,c=g.isInline)},i.$$.update=()=>{i.$$.dirty&4&&t(8,n=Array.isArray(o)),i.$$.dirty&4&&(r=o?new ww:void 0),i.$$.dirty&16&&t(9,s={...N$e,...u}),i.$$.dirty&869&&(n?t(0,d=o):(t(6,m=new aa(s)),t(0,d=c?m.inlineTokens(o):m.lex(o)),f("parsed",{tokens:d}))),i.$$.dirty&8&&t(1,l={...P$e,...a}),i.$$.dirty&385&&p&&!n&&f("parsed",{tokens:d})},[d,l,o,a,u,c,m,p,n,s]}class rY extends pe{constructor(e){super(),me(this,e,L$e,M$e,he,{source:2,renderers:3,options:4,isInline:5})}}DR();const O$e=["\u{1F602}","\u2764\uFE0F","\u{1F973}","\u{1F366}","\u{1F31E}","\u{1F379}","\u{1F3B1}","\u{1F60E}","\u{1F96B}","\u{1F372}","\u{1F369}","\u{1F415}","\u{1F335}","\u{1F4D7}","\u{1F3C8}","\u{1F338}"],sY=()=>Nt.random(O$e);function zE(i,e,t){const n=i.slice();return n[16]=e[t],n}function I$e(i){let e,t;return e=new jt({props:{solo:!0,outside:!0,className:"mb-4",$$slots:{default:[W$e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&524301&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function B$e(i){let e,t;return e=new jt({props:{solo:!0,className:"mt-4",$$slots:{default:[Z$e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&524292&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function R$e(i){let e;return{c(){e=K("Load")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function z$e(i){let e,t;return e=new He({props:{primary:!0,disabled:!Ci,$$slots:{default:[R$e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&524288&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function jE(i){let e,t;return e=new lt({props:{clickable:!0,disabled:!Ci.url(i[0])||i[3],$$slots:{default:[U$e]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&9&&(s.disabled=!Ci.url(n[0])||n[3]),r&524296&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function j$e(i){let e;return{c(){e=P("span"),e.textContent="Load Plugin"},m(t,n){w(t,e,n)},i:Z,o:Z,d(t){t&&y(e)}}}function Y$e(i){let e,t,n,r;return e=new ki({props:{size:20}}),{c(){B(e.$$.fragment),t=W(),n=P("span"),n.textContent="Loading Plugin..."},m(s,l){O(e,s,l),w(s,t,l),w(s,n,l),r=!0},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),s&&y(n)}}}function U$e(i){let e,t,n,r;const s=[Y$e,j$e],l=[];function o(a,u){return a[3]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"class","text-primary w-full flex items-center justify-center text-center space-x-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t!==c&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n||(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function W$e(i){let e,t,n,r,s,l,o;function a(f){i[13](f)}let u={autocorrect:!1,autocapitalize:!1,label:"Plugin URL",placeholder:"https://url-to-plugin",help:"Full url to the plugin",type:"url",listItem:!0,$$slots:{default:[z$e]},$$scope:{ctx:i}};i[0]!==void 0&&(u.value=i[0]),e=new Wn({props:u}),Oe.push(()=>Qe(e,"value",a,i[0])),r=new hi({props:{left:16}});let c=!i[2].name&&jE(i);return{c(){B(e.$$.fragment),n=W(),B(r.$$.fragment),s=W(),c&&c.c(),l=Ae()},m(f,d){O(e,f,d),w(f,n,d),O(r,f,d),w(f,s,d),c&&c.m(f,d),w(f,l,d),o=!0},p(f,d){const m={};d&524288&&(m.$$scope={dirty:d,ctx:f}),!t&&d&1&&(t=!0,m.value=f[0],tt(()=>t=!1)),e.$set(m),f[2].name?c&&(ae(),v(c,1,1,()=>{c=null}),ue()):c?(c.p(f,d),d&4&&_(c,1)):(c=jE(f),c.c(),_(c,1),c.m(l.parentNode,l))},i(f){o||(_(e.$$.fragment,f),_(r.$$.fragment,f),_(c),o=!0)},o(f){v(e.$$.fragment,f),v(r.$$.fragment,f),v(c),o=!1},d(f){I(e,f),f&&y(n),I(r,f),f&&y(s),c&&c.d(f),f&&y(l)}}}function q$e(i){let e,t,n,r=i[2].name+"",s,l,o,a,u,c,f=i[2].version+"",d,m;return e=new kr({props:{emoji:i[2].emoji,size:32}}),{c(){B(e.$$.fragment),t=W(),n=P("span"),s=K(r),l=W(),o=P("div"),a=W(),u=P("span"),c=K("v"),d=K(f),h(n,"class","leading-tight"),h(o,"class","filler"),h(u,"class","faded-badge stiff")},m(p,g){O(e,p,g),w(p,t,g),w(p,n,g),D(n,s),w(p,l,g),w(p,o,g),w(p,a,g),w(p,u,g),D(u,c),D(u,d),m=!0},p(p,g){const k={};g&4&&(k.emoji=p[2].emoji),e.$set(k),(!m||g&4)&&r!==(r=p[2].name+"")&&de(s,r),(!m||g&4)&&f!==(f=p[2].version+"")&&de(d,f)},i(p){m||(_(e.$$.fragment,p),m=!0)},o(p){v(e.$$.fragment,p),m=!1},d(p){I(e,p),p&&y(t),p&&y(n),p&&y(l),p&&y(o),p&&y(a),p&&y(u)}}}function H$e(i){let e,t,n,r;return e=new al({props:{className:"flex items-center space-x-2 mb-2",$$slots:{default:[q$e]},$$scope:{ctx:i}}}),n=new rY({props:{source:i[2].description}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&524292&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&4&&(a.source=s[2].description),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function YE(i){let e,t=i[16]+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","faded-badge text-center")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&4&&t!==(t=r[16]+"")&&de(n,t)},d(r){r&&y(e)}}}function UE(i){let e;return{c(){e=P("div"),e.textContent="menu item",h(e,"class","faded-badge text-center")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function WE(i){let e;return{c(){e=P("div"),e.textContent="widget",h(e,"class","faded-badge text-center")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function V$e(i){let e,t,n,r=i[2].uses,s=[];for(let a=0;a<r.length;a+=1)s[a]=YE(zE(i,r,a));let l=i[2].addToCaptureMenu&&UE(),o=i[2].addToWidgets&&WE();return{c(){e=P("div");for(let a=0;a<s.length;a+=1)s[a].c();t=W(),l&&l.c(),n=W(),o&&o.c(),h(e,"class","text-xs grid grid-cols-3 lg:grid-cols-5 gap-1")},m(a,u){w(a,e,u);for(let c=0;c<s.length;c+=1)s[c].m(e,null);D(e,t),l&&l.m(e,null),D(e,n),o&&o.m(e,null)},p(a,u){if(u&4){r=a[2].uses;let c;for(c=0;c<r.length;c+=1){const f=zE(a,r,c);s[c]?s[c].p(f,u):(s[c]=YE(f),s[c].c(),s[c].m(e,t))}for(;c<s.length;c+=1)s[c].d(1);s.length=r.length}a[2].addToCaptureMenu?l||(l=UE(),l.c(),l.m(e,n)):l&&(l.d(1),l=null),a[2].addToWidgets?o||(o=WE(),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},d(a){a&&y(e),pt(s,a),l&&l.d(),o&&o.d()}}}function x$e(i){let e;return{c(){e=P("div"),e.textContent="Install Plugin",h(e,"class","text-primary w-full text-center")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function G$e(i){let e;return{c(){e=P("div"),e.textContent="Cancel",h(e,"class","text-red-500 w-full text-center")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Z$e(i){let e,t,n,r,s,l,o,a;return e=new lt({props:{bottomLine:78,$$slots:{default:[H$e]},$$scope:{ctx:i}}}),n=new lt({props:{bottomLine:1,$$slots:{default:[V$e]},$$scope:{ctx:i}}}),s=new lt({props:{bottomLine:1,$$slots:{default:[x$e]},$$scope:{ctx:i}}}),s.$on("click",i[7]),o=new lt({props:{$$slots:{default:[G$e]},$$scope:{ctx:i}}}),o.$on("click",i[12]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment)},m(u,c){O(e,u,c),w(u,t,c),O(n,u,c),w(u,r,c),O(s,u,c),w(u,l,c),O(o,u,c),a=!0},p(u,c){const f={};c&524292&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const d={};c&524292&&(d.$$scope={dirty:c,ctx:u}),n.$set(d);const m={};c&524288&&(m.$$scope={dirty:c,ctx:u}),s.$set(m);const p={};c&524288&&(p.$$scope={dirty:c,ctx:u}),o.$set(p)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(s.$$.fragment,u),v(o.$$.fragment,u),a=!1},d(u){I(e,u),u&&y(t),I(n,u),u&&y(r),I(s,u),u&&y(l),I(o,u)}}}function qE(i){let e,t,n,r,s;return{c(){e=P("iframe"),h(e,"class","h-0 w-0"),Jr(e.src,t=i[0])||h(e,"src",t),h(e,"title","plugin iframe"),h(e,"id",n=`plugin-${i[1]}`)},m(l,o){w(l,e,o),r||(s=[Se(e,"error",i[8]),Se(e,"load",i[9])],r=!0)},p(l,o){o&1&&!Jr(e.src,t=l[0])&&h(e,"src",t),o&2&&n!==(n=`plugin-${l[1]}`)&&h(e,"id",n)},d(l){l&&y(e),r=!1,Ot(s)}}}function X$e(i){let e,t,n,r,s;const l=[B$e,I$e],o=[];function a(c,f){return c[4]&&c[2]&&c[2].name?0:1}e=a(i),t=o[e]=l[e](i);let u=i[5]&&qE(i);return{c(){t.c(),n=W(),u&&u.c(),r=Ae()},m(c,f){o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,r,f),s=!0},p(c,[f]){let d=e;e=a(c),e===d?o[e].p(c,f):(ae(),v(o[d],1,1,()=>{o[d]=null}),ue(),t=o[e],t?t.p(c,f):(t=o[e]=l[e](c),t.c()),_(t,1),t.m(n.parentNode,n)),c[5]?u?u.p(c,f):(u=qE(c),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(c){s||(_(t),s=!0)},o(c){v(t),s=!1},d(c){o[e].d(c),c&&y(n),u&&u.d(c),c&&y(r)}}}function K$e(i,e,t){let{url:n}=e,r,s={},l=!1,o,a=!1;const u=(E=!1)=>{E&&t(0,n=""),t(5,c=!1),t(2,s={}),t(4,a=!1)};let c=!1;const f=E=>{if(E.data.action==="register"){let S=E.data.data;S&&(t(2,s={...s,...S}),t(2,s.description=S.description,s),t(2,s.emoji=S.emoji||sY(),s),t(2,s.name=S.name,s),t(2,s.addToCaptureMenu=S.addToCaptureMenu,s),t(2,s.version=S.version,s),t(2,s.uses=S.uses||[],s));const T=new ik(s);Yo({action:"registered",data:T})}},d=async()=>{t(3,l=!0),t(5,c=!1),await Lt(100),t(5,c=!0),await Lt(500),t(4,a=!0)};Yt(()=>{window.addEventListener("message",f),console.log("Plugin installer mounted",n),n&&Ci.url(n)&&d()});const m=async()=>{const E=new ik(s);iu(`in-plugin-${E.url}`),E.name&&(ls.upsert(E),await at.confirm(`Enabled ${E.name}?`,`${E.name} was installed successfully. Would you like to enabled it now?`)&&(E.active=!0,await ls.upsert(E),qn({message:`${E.name} enabled`})),k("installed"),u(!0))},p=E=>{at.error(`${E}`)},g=async()=>{await Lt(500),t(3,l=!1),s.name||at.error("Unable to load that Plugin. Check its URL and try again.")},k=Ut(),$=()=>{k("cancel")};function C(E){n=E,t(0,n)}return i.$$set=E=>{"url"in E&&t(0,n=E.url)},i.$$.update=()=>{i.$$.dirty&2051&&n&&n!==o&&Ci.url(n)&&(t(11,o=n),t(1,r=Jn(n)),t(2,s.id=r,s),t(2,s.url=n,s),t(2,s.name=void 0,s),t(5,c=!1))},[n,r,s,l,a,c,d,m,p,g,k,o,$,C]}class lY extends pe{constructor(e){super(),me(this,e,K$e,X$e,he,{url:0})}}function HE(i){let e,t,n=new URL(i[1]).origin+"",r;return{c(){e=P("p"),t=K("Source: "),r=K(n),h(e,"class","text-xs text-black dark:text-white mt-2 text-center")},m(s,l){w(s,e,l),D(e,t),D(e,r)},p(s,l){l&2&&n!==(n=new URL(s[1]).origin+"")&&de(r,n)},d(s){s&&y(e)}}}function J$e(i){let e,t,n,r,s,l,o;e=new lY({props:{url:i[1]}}),e.$on("cancel",i[3]),e.$on("installed",i[4]);let a=i[1]&&HE(i);return{c(){B(e.$$.fragment),t=W(),n=P("p"),n.textContent=`Plugins are externally hosted websites that can communicate back and forth with Nomie. Plugins are responsible for
    their own privacy policy.`,r=W(),a&&a.c(),s=W(),l=P("p"),l.textContent="Only install plugins from sources that you trust.",h(n,"class","text-description text-xs text-center mt-4"),h(l,"class","text-xs text-red-500 mt-2 text-center")},m(u,c){O(e,u,c),w(u,t,c),w(u,n,c),w(u,r,c),a&&a.m(u,c),w(u,s,c),w(u,l,c),o=!0},p(u,c){const f={};c&2&&(f.url=u[1]),e.$set(f),u[1]?a?a.p(u,c):(a=HE(u),a.c(),a.m(s.parentNode,s)):a&&(a.d(1),a=null)},i(u){o||(_(e.$$.fragment,u),o=!0)},o(u){v(e.$$.fragment,u),o=!1},d(u){I(e,u),u&&y(t),u&&y(n),u&&y(r),a&&a.d(u),u&&y(s),u&&y(l)}}}function Q$e(i){let e;return{c(){e=K("Install a Plugin")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function eFe(i){let e,t;return e=new al({props:{$$slots:{default:[Q$e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function tFe(i){let e,t;return e=new Cye({props:{slot:"left"}}),e.$on("click",i[2]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nFe(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{left:[tFe],default:[eFe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function iFe(i){let e,t;return e=new ti({props:{mainClass:"px-4 py-4",$$slots:{header:[nFe],default:[J$e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function rFe(i,e,t){let{id:n}=e,{url:r}=e;const s=()=>{Lt(10).then(()=>{tn(n)})},l=()=>{l8()},o=()=>{l8()};return i.$$set=a=>{"id"in a&&t(0,n=a.id),"url"in a&&t(1,r=a.url)},[n,r,s,l,o]}class sFe extends pe{constructor(e){super(),me(this,e,rFe,iFe,he,{id:0,url:1})}}function lFe(i){let e,t,n,r,s,l;return{c(){e=P("iframe"),h(e,"class","h-full w-full "),h(e,"title",t=i[0].name),Jr(e.src,n=""+(i[0].urlWithParams+i[1]))||h(e,"src",n),h(e,"id",r="plugin-"+i[2]+"-"+i[0].id)},m(o,a){w(o,e,a),s||(l=[Se(e,"error",i[8]),Se(e,"load",i[9])],s=!0)},p(o,[a]){a&1&&t!==(t=o[0].name)&&h(e,"title",t),a&3&&!Jr(e.src,n=""+(o[0].urlWithParams+o[1]))&&h(e,"src",n),a&5&&r!==(r="plugin-"+o[2]+"-"+o[0].id)&&h(e,"id",r)},i:Z,o:Z,d(o){o&&y(e),s=!1,Ot(l)}}}function oFe(i,e,t){let n;Le(i,Ht,p=>t(10,n=p));let{plugin:r}=e,{openAction:s="onUIOpened"}=e,{widgetindexparam:l=""}=e,{lid:o}=e,a=!1,u=!1,c=!1;const f=async()=>{a||(await Lt(200),Yo({action:"registered",data:{...r,lid:o,user:{use24Hour:n.use24hour,useMetric:n.useMetric,useLocation:n.alwaysLocate,weekStarts:n.weekStarts,theme:n.theme,language:n.language}}},r.id,o),setTimeout(()=>{t(5,a=!0)},200))};Yt(()=>{t(7,c=!0)});const d=p=>{console.error({e:p}),r.hasError(`${p}`)},m=p=>{f()};return i.$$set=p=>{"plugin"in p&&t(0,r=p.plugin),"openAction"in p&&t(4,s=p.openAction),"widgetindexparam"in p&&t(1,l=p.widgetindexparam),"lid"in p&&t(2,o=p.lid)},i.$$.update=()=>{i.$$.dirty&245&&a&&!u&&c&&(t(6,u=!0),r.url,Yo({action:s,data:{}},r.id,o))},[r,l,o,f,s,a,u,c,d,m]}class $w extends pe{constructor(e){super(),me(this,e,oFe,lFe,he,{plugin:0,openAction:4,widgetindexparam:1,lid:2})}}function aFe(i){let e,t;return e=new $w({props:{lid:"modal",openAction:"onUIOpened",plugin:i[0]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.plugin=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function uFe(i){let e=i[0].name+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[0].name+"")&&de(t,e)},d(n){n&&y(t)}}}function cFe(i){let e,t;return e=new al({props:{$$slots:{default:[uFe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&9&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fFe(i){let e;return{c(){e=K("Exit")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function dFe(i){let e,t;return e=new He({props:{clear:!0,primary:!0,slot:"left",$$slots:{default:[fFe]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function hFe(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{left:[dFe],default:[cFe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&11&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mFe(i){let e,t;return e=new ti({props:{$$slots:{header:[hFe],default:[aFe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&11&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function pFe(i,e,t){let{plugin:n}=e,{id:r}=e;const s=()=>{Lt(10).then(()=>{tn(r)})};return i.$$set=l=>{"plugin"in l&&t(0,n=l.plugin),"id"in l&&t(1,r=l.id)},[n,r,s]}class _Fe extends pe{constructor(e){super(),me(this,e,pFe,mFe,he,{plugin:0,id:1})}}function gFe(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Add"),r=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M256 112v288M400 256H112"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function vFe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class bFe extends pe{constructor(e){super(),me(this,e,vFe,gFe,he,{size:0})}}function VE(i){let e,t;return{c(){e=P("div"),t=K(i[2]),h(e,"class","emoji")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&4&&de(t,n[2])},d(n){n&&y(e)}}}function xE(i){let e,t;return{c(){e=P("div"),t=K(i[0]),h(e,"class","label")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&1&&de(t,n[0])},d(n){n&&y(e)}}}function GE(i){let e,t;return{c(){e=P("div"),t=K(i[1]),h(e,"class","value")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&2&&de(t,n[1])},d(n){n&&y(e)}}}function kFe(i){let e,t,n,r,s,l,o,a,u=i[2]&&VE(i),c=i[0]&&xE(i),f=i[1]&&i[1]!==1&&GE(i);const d=i[9].default,m=nt(d,i,i[8],null);return{c(){e=P("div"),u&&u.c(),t=W(),c&&c.c(),n=W(),f&&f.c(),r=W(),m&&m.c(),h(e,"class",s="n-tag-badge badge badge-sm "+i[3]),h(e,"style",i[5]),ct(e,"pad",i[4])},m(p,g){w(p,e,g),u&&u.m(e,null),D(e,t),c&&c.m(e,null),D(e,n),f&&f.m(e,null),D(e,r),m&&m.m(e,null),l=!0,o||(a=Se(e,"click",i[10]),o=!0)},p(p,[g]){p[2]?u?u.p(p,g):(u=VE(p),u.c(),u.m(e,t)):u&&(u.d(1),u=null),p[0]?c?c.p(p,g):(c=xE(p),c.c(),c.m(e,n)):c&&(c.d(1),c=null),p[1]&&p[1]!==1?f?f.p(p,g):(f=GE(p),f.c(),f.m(e,r)):f&&(f.d(1),f=null),m&&m.p&&(!l||g&256)&&rt(m,d,p,p[8],l?it(d,p[8],g,null):st(p[8]),null),(!l||g&8&&s!==(s="n-tag-badge badge badge-sm "+p[3]))&&h(e,"class",s),(!l||g&32)&&h(e,"style",p[5]),(!l||g&24)&&ct(e,"pad",p[4])},i(p){l||(_(m,p),l=!0)},o(p){v(m,p),l=!1},d(p){p&&y(e),u&&u.d(),c&&c.d(),f&&f.d(),m&&m.d(p),o=!1,a()}}}function yFe(i,e,t){let{$$slots:n={},$$scope:r}=e,{label:s=void 0}=e,{value:l=void 0}=e,{emoji:o=void 0}=e,{className:a="light"}=e,{pad:u=!1}=e,{style:c=""}=e,{ballStyle:f=""}=e;const d=Ut(),m=p=>{d("click",p)};return i.$$set=p=>{"label"in p&&t(0,s=p.label),"value"in p&&t(1,l=p.value),"emoji"in p&&t(2,o=p.emoji),"className"in p&&t(3,a=p.className),"pad"in p&&t(4,u=p.pad),"style"in p&&t(5,c=p.style),"ballStyle"in p&&t(7,f=p.ballStyle),"$$scope"in p&&t(8,r=p.$$scope)},[s,l,o,a,u,c,d,f,r,n,m]}class Of extends pe{constructor(e){super(),me(this,e,yFe,kFe,he,{label:0,value:1,emoji:2,className:3,pad:4,style:5,ballStyle:7})}}function ZE(i,e,t){const n=i.slice();return n[20]=e[t],n}function XE(i,e,t){const n=i.slice();return n[20]=e[t],n}function KE(i){let e,t,n;function r(l){i[13](l)}let s={};return i[4]!==void 0&&(s.url=i[4]),e=new lY({props:s}),Oe.push(()=>Qe(e,"url",r,i[4])),e.$on("cancel",i[14]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&16&&(t=!0,a.url=l[4],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function wFe(i){let e,t;return e=new jt({props:{solo:!0,outside:!0,title:"Official Plugins",$$slots:{default:[SFe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&33554468&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $Fe(i){let e,t,n,r;e=new jt({props:{solo:!0,outside:!0,title:i[5].length>0?Fe.t("plugins.my-plugins","Installed Plugins"):"",$$slots:{"header-right":[BFe],default:[MFe]},$$scope:{ctx:i}}});let s=i[5].length===0&&r8(i);return{c(){B(e.$$.fragment),t=W(),s&&s.c(),n=Ae()},m(l,o){O(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o&32&&(a.title=l[5].length>0?Fe.t("plugins.my-plugins","Installed Plugins"):""),o&33554472&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[5].length===0?s?(s.p(l,o),o&32&&_(s,1)):(s=r8(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){I(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function FFe(i){let e=i[20].name+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&4&&e!==(e=n[20].name+"")&&de(t,e)},d(n){n&&y(t)}}}function JE(i){let e,t;return e=new Of({props:{pad:!0,className:"bg-green-500 text-white",$$slots:{default:[EFe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function EFe(i){let e;return{c(){e=K("Installed")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function CFe(i){let e,t,n,r=i[5].find(p),s,l=i[20].description+"",o,a,u,c=new URL(i[20].url).origin+"",f,d,m;function p(...k){return i[11](i[20],...k)}e=new al({props:{$$slots:{default:[FFe]},$$scope:{ctx:i}}});let g=r&&JE(i);return{c(){B(e.$$.fragment),t=W(),n=P("div"),g&&g.c(),s=W(),o=K(l),a=W(),u=P("div"),f=K(c),d=W(),h(n,"class","description"),h(u,"class","lineclamp-1 text-xs text-green-500")},m(k,$){O(e,k,$),w(k,t,$),w(k,n,$),g&&g.m(n,null),D(n,s),D(n,o),w(k,a,$),w(k,u,$),D(u,f),w(k,d,$),m=!0},p(k,$){i=k;const C={};$&33554436&&(C.$$scope={dirty:$,ctx:i}),e.$set(C),$&36&&(r=i[5].find(p)),r?g?$&36&&_(g,1):(g=JE(i),g.c(),_(g,1),g.m(n,s)):g&&(ae(),v(g,1,1,()=>{g=null}),ue()),(!m||$&4)&&l!==(l=i[20].description+"")&&de(o,l),(!m||$&4)&&c!==(c=new URL(i[20].url).origin+"")&&de(f,c)},i(k){m||(_(e.$$.fragment,k),_(g),m=!0)},o(k){v(e.$$.fragment,k),v(g),m=!1},d(k){I(e,k),k&&y(t),k&&y(n),g&&g.d(),k&&y(a),k&&y(u),k&&y(d)}}}function DFe(i){let e,t;return e=new kr({props:{size:50,emoji:i[20].emoji,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.emoji=n[20].emoji),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function QE(i){let e,t;function n(...s){return i[18](i[20],...s)}function r(){return i[19](i[20])}return e=new lt({props:{disabled:i[5].find(n),bottomLine:72,detail:!0,$$slots:{left:[DFe],default:[CFe]},$$scope:{ctx:i}}}),e.$on("click",r),{c(){B(e.$$.fragment)},m(s,l){O(e,s,l),t=!0},p(s,l){i=s;const o={};l&36&&(o.disabled=i[5].find(n)),l&33554468&&(o.$$scope={dirty:l,ctx:i}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function SFe(i){let e,t,n=i[2],r=[];for(let l=0;l<n.length;l+=1)r[l]=QE(ZE(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&1060){n=l[2];let a;for(a=0;a<n.length;a+=1){const u=ZE(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=QE(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function TFe(i){let e,t=i[20].name+"",n,r,s,l=i[20].version+"",o;return{c(){e=P("span"),n=K(t),r=W(),s=P("div"),o=K(l),h(s,"class","faded-badge")},m(a,u){w(a,e,u),D(e,n),w(a,r,u),w(a,s,u),D(s,o)},p(a,u){u&32&&t!==(t=a[20].name+"")&&de(n,t),u&32&&l!==(l=a[20].version+"")&&de(o,l)},d(a){a&&y(e),a&&y(r),a&&y(s)}}}function AFe(i){let e,t,n,r,s,l,o,a=i[20].description+"",u,c,f,d=i[9](i[20].url)+"",m,p,g,k;return t=new kr({props:{size:20,emoji:i[20].emoji}}),r=new al({props:{className:"flex items-center space-x-1",$$slots:{default:[TFe]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),s=W(),l=P("div"),o=P("div"),u=K(a),c=W(),f=P("div"),m=K(d),p=W(),g=P("div"),h(e,"class","flex space-x-2 items-center"),h(o,"class","line-clamp-3"),h(f,"class","text-gray-500 text-xs line-clamp-1"),h(l,"class","description line-clamp-3"),h(g,"class","description opacity-40 line-clamp-1")},m($,C){w($,e,C),O(t,e,null),D(e,n),O(r,e,null),w($,s,C),w($,l,C),D(l,o),D(o,u),D(l,c),D(l,f),D(f,m),w($,p,C),w($,g,C),k=!0},p($,C){const E={};C&32&&(E.emoji=$[20].emoji),t.$set(E);const S={};C&33554464&&(S.$$scope={dirty:C,ctx:$}),r.$set(S),(!k||C&32)&&a!==(a=$[20].description+"")&&de(u,a),(!k||C&32)&&d!==(d=$[9]($[20].url)+"")&&de(m,d)},i($){k||(_(t.$$.fragment,$),_(r.$$.fragment,$),k=!0)},o($){v(t.$$.fragment,$),v(r.$$.fragment,$),k=!1},d($){$&&y(e),I(t),I(r),$&&y(s),$&&y(l),$&&y(p),$&&y(g)}}}function e8(i){let e,t;function n(){return i[15](i[20])}return e=new Ar({props:{title:"$"+i[20].name+" status",value:i[20].active}}),e.$on("change",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&32&&(l.title="$"+i[20].name+" status"),s&32&&(l.value=i[20].active),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function t8(i){let e,t;function n(){return i[16](i[20])}return e=new He({props:{icon:!0,$$slots:{default:[PFe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&33554432&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function PFe(i){let e,t;return e=new et({props:{className:"text-red-500",icon:Pp}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function NFe(i){let e,t,n,r=!i[20].locked&&e8(i),s=i[3]&&t8(i);return{c(){e=P("div"),r&&r.c(),t=W(),s&&s.c(),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(l,o){w(l,e,o),r&&r.m(e,null),D(e,t),s&&s.m(e,null),n=!0},p(l,o){l[20].locked?r&&(ae(),v(r,1,1,()=>{r=null}),ue()):r?(r.p(l,o),o&32&&_(r,1)):(r=e8(l),r.c(),_(r,1),r.m(e,t)),l[3]?s?(s.p(l,o),o&8&&_(s,1)):(s=t8(l),s.c(),_(s,1),s.m(e,null)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){n||(_(r),_(s),n=!0)},o(l){v(r),v(s),n=!1},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function n8(i){let e,t;return e=new lt({props:{bottomLine:15,disabled:i[20].locked,$$slots:{right:[NFe],default:[AFe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.disabled=n[20].locked),r&33554472&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function MFe(i){let e,t,n,r=i[5],s=[];for(let a=0;a<r.length;a+=1)s[a]=n8(XE(i,r,a));const l=a=>v(s[a],1,1,()=>{s[a]=null});let o=ZFe;return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=W(),t=Ae()},m(a,u){for(let c=0;c<s.length;c+=1)s[c].m(a,u);w(a,e,u),w(a,t,u),n=!0},p(a,u){if(u&936){r=a[5];let c;for(c=0;c<r.length;c+=1){const f=XE(a,r,c);s[c]?(s[c].p(f,u),_(s[c],1)):(s[c]=n8(f),s[c].c(),_(s[c],1),s[c].m(e.parentNode,e))}for(ae(),c=r.length;c<s.length;c+=1)l(c);ue()}},i(a){if(!n){for(let u=0;u<r.length;u+=1)_(s[u]);_(o),n=!0}},o(a){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)v(s[u]);v(o),n=!1},d(a){pt(s,a),a&&y(e),a&&y(t)}}}function i8(i){let e,t;return e=new He({props:{shape:"round",size:"sm",$$slots:{default:[IFe]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&33554440&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function LFe(i){let e;return{c(){e=P("span"),e.textContent="Edit",h(e,"class","text-primary")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function OFe(i){let e;return{c(){e=P("span"),e.textContent="Done",h(e,"class","text-red-500 font-bold")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function IFe(i){let e;function t(s,l){return s[3]?OFe:LFe}let n=t(i),r=n(i);return{c(){r.c(),e=Ae()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n!==(n=t(s))&&(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function BFe(i){let e,t,n=i[5].length&&i8(i);return{c(){e=P("div"),n&&n.c(),h(e,"slot","header-right")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[5].length?n?(n.p(r,s),s&32&&_(n,1)):(n=i8(r),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function r8(i){let e,t,n,r;return n=new jt({props:{solo:!0,$$slots:{default:[zFe]},$$scope:{ctx:i}}}),{c(){e=P("div"),t=W(),B(n.$$.fragment),h(e,"class","h-4 stiff w-full min-h-4")},m(s,l){w(s,e,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&33554432&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(e),s&&y(t),I(n,s)}}}function RFe(i){let e;return{c(){e=P("p"),e.innerHTML="Plugins allow others to create entirely new ways of tracking and monitoring your data within Nomie. <strong>WARNING: This feature is under heavy development.</strong>",h(e,"class","text-xs text-center text-gray-500 leading-snug")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function zFe(i){let e,t,n,r;return e=new zi({props:{emoji:"\u{1F50C}",title:"No Plugins Installed",$$slots:{default:[RFe]},$$scope:{ctx:i}}}),n=new lt({props:{clickable:!0,titleClass:"text-center text-primary",title:"Add a Custom Plugin"}}),n.$on("click",i[17]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&33554432&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function jFe(i){let e,t,n,r,s,l,o,a=i[0]&&KE(i);const u=[$Fe,wFe],c=[];function f(d,m){return d[1]=="installed"?0:d[1]=="avail"?1:-1}return~(n=f(i))&&(r=c[n]=u[n](i)),{c(){e=P("section"),a&&a.c(),t=W(),r&&r.c(),s=W(),l=P("div"),l.innerHTML=`Want to create a Plugin? <br/> 
      <a class="text-primary underline" href="https://github.com/open-nomie/plugins" target="_blank" rel="nofollow">Read the Plugin Docs \u2192</a>`,h(l,"class","pt-10 px-4 text-center text-gray-500 text-sm"),h(e,"class","px-2 lg:px-4 py-4")},m(d,m){w(d,e,m),a&&a.m(e,null),D(e,t),~n&&c[n].m(e,null),D(e,s),D(e,l),o=!0},p(d,m){d[0]?a?(a.p(d,m),m&1&&_(a,1)):(a=KE(d),a.c(),_(a,1),a.m(e,t)):a&&(ae(),v(a,1,1,()=>{a=null}),ue());let p=n;n=f(d),n===p?~n&&c[n].p(d,m):(r&&(ae(),v(c[p],1,1,()=>{c[p]=null}),ue()),~n?(r=c[n],r?r.p(d,m):(r=c[n]=u[n](d),r.c()),_(r,1),r.m(e,s)):r=null)},i(d){o||(_(a),_(r),o=!0)},o(d){v(a),v(r),o=!1},d(d){d&&y(e),a&&a.d(),~n&&c[n].d()}}}function YFe(i){let e;return{c(){e=P("h1"),e.textContent=`${Fe.t("general.plugins","Plugins")}`,h(e,"class","ntitle text-sm md:text-base")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function UFe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function WFe(i){let e,t;return e=new He({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[UFe]},$$scope:{ctx:i}}}),e.$on("click",JFe),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&33554432&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qFe(i){let e,t;return e=new He({props:{icon:!0,clear:!0,primary:!0,$$slots:{default:[HFe]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&33554432&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function HFe(i){let e,t;return e=new et({props:{icon:bFe}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function VFe(i){let e,t,n=qFe(i);return{c(){e=P("div"),n&&n.c(),h(e,"slot","right")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){n.p(r,s)},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function xFe(i){let e,t,n;return t=new Sn({props:{$$slots:{right:[VFe],left:[WFe],default:[YFe]},$$scope:{ctx:i}}}),{c(){e=P("header"),B(t.$$.fragment),h(e,"slot","header")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&33554432&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function GFe(i){let e,t;return e=new ti({props:{$$slots:{header:[xFe],default:[jFe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&33554495&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}let ZFe=!1;function XFe(i,e,t){let n;Le(i,ls,R=>t(5,n=R));let{tab:r="installed"}=e,{showAdd:s=!1}=e,l=[];Yt(async()=>{t(2,l=[])});let o=!1;const a=()=>{t(3,o=!o)},u=R=>{R.active=!R.active,ls.upsert(R)},c=async R=>{if(await at.confirm(`Uninstall ${R.name} from Nomie?`))try{await ls.remove(R),qn({message:"Removed"})}catch(z){at.error(z.message)}},f=R=>{if(R){let Y=new URL(R);if(Y.origin)return Y.origin}return""};let d;const m=R=>{s8(R)},p=(R,Y)=>Y.url==R.url,g=()=>m();function k(R){d=R,t(4,d)}const $=()=>{t(0,s=!1)},C=R=>u(R),E=R=>c(R),S=()=>{s8()},T=(R,Y)=>Y.url==R.url,M=R=>{n.find(Y=>Y.url==R.url)||m(R.url)};return i.$$set=R=>{"tab"in R&&t(1,r=R.tab),"showAdd"in R&&t(0,s=R.showAdd)},[s,r,l,o,d,n,a,u,c,f,m,p,g,k,$,C,E,S,T,M]}class KFe extends pe{constructor(e){super(),me(this,e,XFe,GFe,he,{tab:1,showAdd:0})}}const oY=()=>{On({id:"plugins",component:KFe,componentProps:{}})},Fw=i=>{On({id:i.id,component:_Fe,componentProps:{plugin:i}})},s8=i=>{On({id:"plugin-installer",component:sFe,componentProps:{url:i}})},l8=()=>{tn("plugin-installer")},JFe=()=>{tn("plugins")},ls=Tf(Ii.storage.plugins(),{label:"Plugins",key:"id",onInitalized(i,e){ls.upsertMany(i)},itemInitializer:i=>new ik(i),itemSerializer:i=>JSON.parse(JSON.stringify(i))}),o8=["selectTrackables","onNote","createNote","searchNotes"],Yo=(i,e,t)=>{let n=ls.rawState(),r=typeof i=="object"?i.action:void 0;r&&(e&&(n=n.filter(s=>s.id==e)),n.forEach(s=>{let l=o8.includes(i.action)&&s.uses.includes(i.action)||!o8.includes(i.action);r=="onNote"&&!t&&(t="auto");const o=`plugin-${t}-${s.id}`;let a=document.getElementById(o);a&&l&&a.contentWindow.postMessage(i,s.url)}))};function a8(i,e,t){const n=i.slice();return n[6]=e[t],n}function QFe(i){let e,t;return e=new kr({props:{size:40,emoji:i[6].emoji}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.emoji=n[6].emoji),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function e3e(i){let e,t;return e=new et({props:{icon:i[6].icon,size:40}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.icon=n[6].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function u8(i){let e,t,n,r,s,l,o,a=i[6].label+"",u,c,f,d,m,p;const g=[e3e,QFe],k=[];function $(E,S){return E[6].icon?0:E[6].emoji?1:-1}~(n=$(i))&&(r=k[n]=g[n](i));function C(){return i[5](i[6])}return{c(){e=P("button"),t=P("div"),r&&r.c(),l=W(),o=P("div"),u=K(a),c=W(),h(t,"class",s=(i[0].type===i[6].id&&i[0].data==i[6].data?"active-type scale-110":"")+" w-20 h-14 lg:h-20 mb-1 lg:w-20 transition-all duration-100 transform stiff flex items-center justify-center dark:bg-gray-900 dark:text-gray-400 shadow-md rounded-xl"),h(o,"class","text-gray-700 filler w-full line-clamp-2 dark:text-gray-300 text-center text-xs pt-2 leading-tight"),h(e,"class","flex flex-col self-start focus:outline-none p-1 rounded-xl"),h(e,"aria-label",f=`${i[6].label} widget`)},m(E,S){w(E,e,S),D(e,t),~n&&k[n].m(t,null),D(e,l),D(e,o),D(o,u),D(e,c),d=!0,m||(p=Se(e,"click",C),m=!0)},p(E,S){i=E;let T=n;n=$(i),n===T?~n&&k[n].p(i,S):(r&&(ae(),v(k[T],1,1,()=>{k[T]=null}),ue()),~n?(r=k[n],r?r.p(i,S):(r=k[n]=g[n](i),r.c()),_(r,1),r.m(t,null)):r=null),(!d||S&3&&s!==(s=(i[0].type===i[6].id&&i[0].data==i[6].data?"active-type scale-110":"")+" w-20 h-14 lg:h-20 mb-1 lg:w-20 transition-all duration-100 transform stiff flex items-center justify-center dark:bg-gray-900 dark:text-gray-400 shadow-md rounded-xl"))&&h(t,"class",s),(!d||S&2)&&a!==(a=i[6].label+"")&&de(u,a),(!d||S&2&&f!==(f=`${i[6].label} widget`))&&h(e,"aria-label",f)},i(E){d||(_(r),d=!0)},o(E){v(r),d=!1},d(E){E&&y(e),~n&&k[n].d(),m=!1,p()}}}function t3e(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=u8(a8(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&7){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=a8(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=u8(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function n3e(i){let e,t;return e=new Fh({props:{className:"items-start justify-start",wrapperClass:"snap-scroll-x flex   space-x-4 px-4 widget-type-selector py-2 ",$$slots:{default:[t3e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&515&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function i3e(i,e,t){let n;Le(i,ls,u=>t(4,n=u));let{widget:r}=e,s=!1;const l=u=>{t(0,r.type=u.id,r),t(0,r.data=u.data,r)};let o=[];Yt(()=>{t(3,s=!0)});const a=u=>{l(u)};return i.$$set=u=>{"widget"in u&&t(0,r=u.widget)},i.$$.update=()=>{i.$$.dirty&9&&r&&r.type&&s&&setTimeout(()=>{const u=document.querySelector(".widget-type-selector .active-type");u&&u.scrollIntoView()},300),i.$$.dirty&26&&s&&!o.length&&t(1,o=bw(n))},[r,o,l,s,n,a]}class r3e extends pe{constructor(e){super(),me(this,e,i3e,n3e,he,{widget:0})}}function s3e(i){let e,t,n,r;return{c(){e=P("input"),h(e,"type","checkbox"),h(e,"class",t="n-radio "+i[1]),ct(e,"sm",i[2])},m(s,l){w(s,e,l),e.checked=i[0],n||(r=Se(e,"change",i[3]),n=!0)},p(s,[l]){l&2&&t!==(t="n-radio "+s[1])&&h(e,"class",t),l&1&&(e.checked=s[0]),l&6&&ct(e,"sm",s[2])},i:Z,o:Z,d(s){s&&y(e),n=!1,r()}}}function l3e(i,e,t){let{checked:n=!1}=e,{className:r=""}=e,{sm:s=!1}=e;function l(){n=this.checked,t(0,n)}return i.$$set=o=>{"checked"in o&&t(0,n=o.checked),"className"in o&&t(1,r=o.className),"sm"in o&&t(2,s=o.sm)},[n,r,s,l]}class aY extends pe{constructor(e){super(),me(this,e,l3e,s3e,he,{checked:0,className:1,sm:2})}}function c8(i,e,t){const n=i.slice();return n[25]=e[t],n}function f8(i,e,t){const n=i.slice();return n[25]=e[t],n[29]=t,n}function d8(i){let e,t=i[7](i[25].label)+"",n;return{c(){e=P("header"),n=K(t),h(e,"class","sticky top-0 z-50 text-gray-900 dark:text-gray-100 font-bold px-4 py-2 glass")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&64&&t!==(t=r[7](r[25].label)+"")&&de(n,t)},d(r){r&&y(e)}}}function o3e(i){let e,t,n=i[25].label+"",r,s,l,o,a=i[25].tag+"",u;return{c(){e=P("div"),t=P("h1"),r=K(n),s=W(),l=P("div"),o=P("div"),u=K(a),h(t,"class","line-clamp-1"),h(o,"class","text-sm text-gray-500 line-clamp-1"),h(l,"class","flex items-center space-x-2")},m(c,f){w(c,e,f),D(e,t),D(t,r),D(e,s),D(e,l),D(l,o),D(o,u)},p(c,f){f&64&&n!==(n=c[25].label+"")&&de(r,n),f&64&&a!==(a=c[25].tag+"")&&de(u,a)},d(c){c&&y(e)}}}function a3e(i){let e,t;return e=new er({props:{slot:"left",size:42,trackable:i[25]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&64&&(s.trackable=n[25]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function u3e(i){let e,t;return e=new aY({props:{slot:"right",className:"pointer-events-none",checked:i[2].indexOf(i[25])>-1}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&68&&(s.checked=n[2].indexOf(n[25])>-1),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function h8(i,e){let t,n=!e[8](e[25].label),r,s,l,o=n&&d8(e);function a(){return e[20](e[25])}return s=new lt({props:{bottomLine:70,clickable:!0,$$slots:{right:[u3e],left:[a3e],default:[o3e]},$$scope:{ctx:e}}}),s.$on("click",a),{key:i,first:null,c(){t=Ae(),o&&o.c(),r=W(),B(s.$$.fragment),this.first=t},m(u,c){w(u,t,c),o&&o.m(u,c),w(u,r,c),O(s,u,c),l=!0},p(u,c){e=u,c&64&&(n=!e[8](e[25].label)),n?o?o.p(e,c):(o=d8(e),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null);const f={};c&1073741892&&(f.$$scope={dirty:c,ctx:e}),s.$set(f)},i(u){l||(_(s.$$.fragment,u),l=!0)},o(u){v(s.$$.fragment,u),l=!1},d(u){u&&y(t),o&&o.d(u),u&&y(r),I(s,u)}}}function m8(i){let e,t,n,r,s=i[4],l=[];for(let a=0;a<s.length;a+=1)l[a]=p8(c8(i,s,a));const o=a=>v(l[a],1,1,()=>{l[a]=null});return{c(){e=P("div"),e.textContent="No Known Trackers",t=W();for(let a=0;a<l.length;a+=1)l[a].c();n=Ae(),h(e,"class","px-4 text-center text-gray-500 py-4")},m(a,u){w(a,e,u),w(a,t,u);for(let c=0;c<l.length;c+=1)l[c].m(a,u);w(a,n,u),r=!0},p(a,u){if(u&1052){s=a[4];let c;for(c=0;c<s.length;c+=1){const f=c8(a,s,c);l[c]?(l[c].p(f,u),_(l[c],1)):(l[c]=p8(f),l[c].c(),_(l[c],1),l[c].m(n.parentNode,n))}for(ae(),c=s.length;c<l.length;c+=1)o(c);ue()}},i(a){if(!r){for(let u=0;u<s.length;u+=1)_(l[u]);r=!0}},o(a){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)v(l[u]);r=!1},d(a){a&&y(e),a&&y(t),pt(l,a),a&&y(n)}}}function c3e(i){let e,t,n;return{c(){e=P("h2"),t=K("As person: @"),n=K(i[3]),h(e,"class","ntitle filler")},m(r,s){w(r,e,s),D(e,t),D(e,n)},p(r,s){s&8&&de(n,r[3])},d(r){r&&y(e)}}}function f3e(i){let e,t,n;return{c(){e=P("h2"),t=K("As context: +"),n=K(i[3]),h(e,"class","ntitle filler")},m(r,s){w(r,e,s),D(e,t),D(e,n)},p(r,s){s&8&&de(n,r[3])},d(r){r&&y(e)}}}function d3e(i){let e,t,n;return{c(){e=P("h2"),t=K("As tracker: #"),n=K(i[3]),h(e,"class","ntitle filler")},m(r,s){w(r,e,s),D(e,t),D(e,n)},p(r,s){s&8&&de(n,r[3])},d(r){r&&y(e)}}}function p8(i){let e,t,n,r,s,l,o,a;function u(m,p){if(m[25].type=="tracker")return d3e;if(m[25].type==="context")return f3e;if(m[25].type==="person")return c3e}let c=u(i),f=c&&c(i);n=new aY({props:{className:"pointer-events-none",checked:i[2].indexOf(i[25])>-1}});function d(){return i[21](i[25])}return s=new hi({props:{left:70}}),{c(){e=P("button"),f&&f.c(),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment),h(e,"class","relative flex w-full text-left items-center py-2 px-4 space-x-4 justify-between z-20")},m(m,p){w(m,e,p),f&&f.m(e,null),D(e,t),O(n,e,null),w(m,r,p),O(s,m,p),l=!0,o||(a=Se(e,"click",d),o=!0)},p(m,p){i=m,c===(c=u(i))&&f?f.p(i,p):(f&&f.d(1),f=c&&c(i),f&&(f.c(),f.m(e,t)));const g={};p&20&&(g.checked=i[2].indexOf(i[25])>-1),n.$set(g)},i(m){l||(_(n.$$.fragment,m),_(s.$$.fragment,m),l=!0)},o(m){v(n.$$.fragment,m),v(s.$$.fragment,m),l=!1},d(m){m&&y(e),f&&f.d(),I(n),m&&y(r),I(s,m),o=!1,a()}}}function h3e(i){let e,t=[],n=new Map,r,s,l=i[6].filter(_8);const o=u=>u[25].tag;for(let u=0;u<l.length;u+=1){let c=f8(i,l,u),f=o(c);n.set(f,t[u]=h8(f,c))}let a=i[6].length===0&&m8(i);return{c(){e=P("section");for(let u=0;u<t.length;u+=1)t[u].c();r=W(),a&&a.c(),h(e,"class","trackable-list relative")},m(u,c){w(u,e,c);for(let f=0;f<t.length;f+=1)t[f].m(e,null);D(e,r),a&&a.m(e,null),s=!0},p(u,c){c&1476&&(l=u[6].filter(_8),ae(),t=Pi(t,c,o,1,u,l,n,e,br,h8,r,f8),ue()),u[6].length===0?a?(a.p(u,c),c&64&&_(a,1)):(a=m8(u),a.c(),_(a,1),a.m(e,null)):a&&(ae(),v(a,1,1,()=>{a=null}),ue())},i(u){if(!s){for(let c=0;c<l.length;c+=1)_(t[c]);_(a),s=!0}},o(u){for(let c=0;c<t.length;c+=1)v(t[c]);v(a),s=!1},d(u){u&&y(e);for(let c=0;c<t.length;c+=1)t[c].d();a&&a.d()}}}function m3e(i){let e;return{c(){e=P("h1"),e.textContent=`${Fe.t("general.trackables","Trackables")}`,h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function p3e(i){let e;return{c(){e=K("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function _3e(i){let e,t;return e=new He({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[p3e]},$$scope:{ctx:i}}}),e.$on("click",i[9]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function g3e(i){let e,t=i[2].length?`(${i[2].length})`:"",n;return{c(){e=K("Select "),n=K(t)},m(r,s){w(r,e,s),w(r,n,s)},p(r,s){s&4&&t!==(t=r[2].length?`(${r[2].length})`:"")&&de(n,t)},d(r){r&&y(e),r&&y(n)}}}function v3e(i){let e,t;return e=new He({props:{slot:"right",className:"whitespace-nowrap",disabled:!i[2].length,clear:!0,primary:!0,$$slots:{default:[g3e]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.disabled=!n[2].length),r&1073741828&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function b3e(i){let e,t,n,r,s,l,o,a;return{c(){e=P("select"),t=P("option"),t.textContent="All Types",n=P("option"),n.textContent=`${Fe.t("general.trackers","Trackers")}`,r=P("option"),r.textContent=`${Fe.t("general.people")}`,s=P("option"),s.textContent=`${Fe.t("general.context")}`,t.__value="",t.value=t.__value,t.selected=!0,n.__value="tracker",n.value=n.__value,r.__value="person",r.value=r.__value,s.__value="context",s.value=s.__value,h(e,"slot","right-inside"),h(e,"class","appearance-none text-right text-base text-primary-500 px-4 bg-transparent focus:outline-none rounded-md h-9 ring-inset focus:ring-1 ring-primary-500")},m(u,c){w(u,e,c),D(e,t),D(e,n),D(e,r),D(e,s),ei(e,i[5]||""),o||(a=Se(e,"input",i[17]),o=!0)},p(u,c){c&32&&l!==(l=u[5]||"")&&ei(e,u[5]||"")},d(u){u&&y(e),o=!1,a()}}}function k3e(i){let e,t;return e=new Nf({props:{autocomplete:!0,compact:!0,showClose:!0,className:"p-0 px-2 mt-1",$$slots:{"right-inside":[b3e]},$$scope:{ctx:i}}}),e.$on("clear",i[18]),e.$on("change",i[19]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1073741857&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function y3e(i){let e,t,n,r,s;return t=new Sn({props:{$$slots:{right:[v3e],left:[_3e],default:[m3e]},$$scope:{ctx:i}}}),r=new Os({props:{className:"-mt-2 mb-2",$$slots:{default:[k3e]},$$scope:{ctx:i}}}),{c(){e=P("header"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"slot","header"),h(e,"class","bg-white dark:bg-black")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),O(r,e,null),s=!0},p(l,o){const a={};o&1073741828&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&1073741867&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),I(t),I(r)}}}function w3e(i){let e,t;return e=new ti({props:{className:"bg-gray-100 dark:bg-gray-900",$$slots:{header:[y3e],default:[h3e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&1073741951&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}const _8=i=>i.tag;function $3e(i,e,t){let n,r,s;Le(i,en,x=>t(16,s=x));let{id:l}=e,{payload:o}=e,a=[],u,c,f,d=[],m,p={};const g=x=>x.substring(0,1).toUpperCase(),k=x=>{const ee=g(x),J=p.hasOwnProperty(ee);return p[ee]=!0,J},$=async()=>{tn(l)},C=async x=>{o.multiple?a.findIndex(J=>J==x)>-1?t(2,a=a.filter(J=>J!==x)):a.push(x):(t(2,a=[x]),await Lt(100),T()),t(2,a)},E=x=>`${x||""}`.replace(/(\@|\+|\#)/g,""),S=x=>{x&&x.length>0?(t(1,u=x.toLowerCase()),t(3,c=u.replace(/(\@|\+|\#)/g,"")),t(4,d=[M("tracker"),M("person"),M("context")])):(t(1,u=void 0),t(3,c=void 0))},T=()=>{o.onSelect(a),$()},M=x=>x==="person"?new Wi({type:"person",person:new Xa({username:c})}):x==="context"?new Wi({type:"context",context:c}):new Wi({type:"tracker",tracker:new qi({tag:c})}),R=x=>{t(0,o.type=x.target.value,o)},Y=()=>{t(1,u=void 0),t(3,c=void 0)},z=x=>{S(x.detail)},j=x=>C(x),V=x=>C(x);return i.$$set=x=>{"id"in x&&t(13,l=x.id),"payload"in x&&t(0,o=x.payload)},i.$$.update=()=>{i.$$.dirty&2&&(u?p={}:p={}),i.$$.dirty&65537&&o&&(p={},t(5,m=o.type),t(14,f=Sf(s.trackables).sort((x,ee)=>x.label.toLowerCase()>ee.label.toLowerCase()?1:-1))),i.$$.dirty&2&&t(15,n=E(u)),i.$$.dirty&49155&&t(6,r=f.filter(x=>n&&o.type?JSON.stringify(x).toLowerCase().search(n)>1&&x.type===o.type:o.type?x.type===o.type:u?JSON.stringify(x).toLowerCase().search(n)>1:x))},[o,u,a,c,d,m,r,g,k,$,C,S,T,l,f,n,s,R,Y,z,j,V]}class F3e extends pe{constructor(e){super(),me(this,e,$3e,w3e,he,{id:13,payload:0})}}const E3e=(i={})=>{On({id:"trackable-selector",position:"fullscreen",component:F3e,componentProps:{payload:i}})},Ch=async(i,e=!0)=>new Promise(t=>{E3e({multiple:e,type:i,onSelect:async n=>{t(n),await Lt(200)}})}),S0=async i=>{const e=await Ch(i,!1);if(e.length)return e[0]};function g8(i,e,t){const n=i.slice();return n[30]=e[t],n}function v8(i,e,t){const n=i.slice();return n[33]=e[t],n}function b8(i){let e,t;return e=new lt({props:{className:"h-16",$$slots:{right:[P3e],default:[S3e]},$$scope:{ctx:i}}}),e.$on("click",i[15]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&35|r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function k8(i){let e,t;function n(l,o){var a,u;return o[0]&2&&(t=null),t==null&&(t=((u=(a=l[1])==null?void 0:a.requires)==null?void 0:u.indexOf("token"))>-1),t?D3e:C3e}let r=n(i,[-1,-1]),s=r(i);return{c(){e=P("span"),s.c(),h(e,"class","opacity-50 text-black dark:text-white")},m(l,o){w(l,e,o),s.m(e,null)},p(l,o){r!==(r=n(l,o))&&(s.d(1),s=r(l),s&&(s.c(),s.m(e,null)))},d(l){l&&y(e),s.d()}}}function C3e(i){let e;return{c(){e=K("(optional)")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function D3e(i){let e;return{c(){e=K("(required)")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function S3e(i){let e,t,n=!i[0].token&&k8(i);return{c(){e=K(`Trackable
          `),n&&n.c(),t=Ae()},m(r,s){w(r,e,s),n&&n.m(r,s),w(r,t,s)},p(r,s){r[0].token?n&&(n.d(1),n=null):n?n.p(r,s):(n=k8(r),n.c(),n.m(t.parentNode,t))},d(r){r&&y(e),n&&n.d(r),r&&y(t)}}}function T3e(i){var o,a;let e,t,n=((a=(o=i[1])==null?void 0:o.requires)==null?void 0:a.indexOf("token"))===-1,r,s;e=new fa({props:{size:28,hideValue:!0,trackable:rr(i[0].token,i[5].trackables)}});let l=n&&y8(i);return{c(){B(e.$$.fragment),t=W(),l&&l.c(),r=Ae()},m(u,c){O(e,u,c),w(u,t,c),l&&l.m(u,c),w(u,r,c),s=!0},p(u,c){var d,m;const f={};c[0]&33&&(f.trackable=rr(u[0].token,u[5].trackables)),e.$set(f),c[0]&2&&(n=((m=(d=u[1])==null?void 0:d.requires)==null?void 0:m.indexOf("token"))===-1),n?l?(l.p(u,c),c[0]&2&&_(l,1)):(l=y8(u),l.c(),_(l,1),l.m(r.parentNode,r)):l&&(ae(),v(l,1,1,()=>{l=null}),ue())},i(u){s||(_(e.$$.fragment,u),_(l),s=!0)},o(u){v(e.$$.fragment,u),v(l),s=!1},d(u){I(e,u),u&&y(t),l&&l.d(u),u&&y(r)}}}function A3e(i){let e;return{c(){e=P("div"),e.textContent=`${Fe.t("general.select","Select")}`,h(e,"class","text-primary-500")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function y8(i){let e,t,n,r,s;return t=new et({props:{icon:ua}}),{c(){e=P("button"),B(t.$$.fragment),h(e,"class","flex items-center justify-center")},m(l,o){w(l,e,o),O(t,e,null),n=!0,r||(s=Se(e,"click",i[14]),r=!0)},p:Z,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),I(t),r=!1,s()}}}function P3e(i){let e,t,n,r;const s=[A3e,T3e],l=[];function o(a,u){return a[0].tokens.length?a[0].token?1:-1:0}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=P("div"),n&&n.c(),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function w8(i){let e,t,n,r,s,l=i[1]&&i[1].id=="value"&&i[0].timeRange&&["today","yesterday"].indexOf(i[0].timeRange)==-1,o,a;e=new hi({props:{left:18}});function u(d){i[16](d)}let c={listItem:!0,type:"select",label:"Timeframe",$$slots:{left:[M3e],default:[N3e]},$$scope:{ctx:i}};i[0].timeRange!==void 0&&(c.value=i[0].timeRange),n=new Wn({props:c}),Oe.push(()=>Qe(n,"value",u,i[0].timeRange));let f=l&&E8(i);return{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),s=W(),f&&f.c(),o=Ae()},m(d,m){O(e,d,m),w(d,t,m),O(n,d,m),w(d,s,m),f&&f.m(d,m),w(d,o,m),a=!0},p(d,m){const p={};m[0]&1|m[1]&32&&(p.$$scope={dirty:m,ctx:d}),!r&&m[0]&1&&(r=!0,p.value=d[0].timeRange,tt(()=>r=!1)),n.$set(p),m[0]&3&&(l=d[1]&&d[1].id=="value"&&d[0].timeRange&&["today","yesterday"].indexOf(d[0].timeRange)==-1),l?f?(f.p(d,m),m[0]&3&&_(f,1)):(f=E8(d),f.c(),_(f,1),f.m(o.parentNode,o)):f&&(ae(),v(f,1,1,()=>{f=null}),ue())},i(d){a||(_(e.$$.fragment,d),_(n.$$.fragment,d),_(f),a=!0)},o(d){v(e.$$.fragment,d),v(n.$$.fragment,d),v(f),a=!1},d(d){I(e,d),d&&y(t),I(n,d),d&&y(s),f&&f.d(d),d&&y(o)}}}function $8(i){let e,t=i[33].label+"",n;return{c(){e=P("option"),n=K(t),e.__value=i[33].id,e.value=e.__value},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function N3e(i){let e,t,n,r=l1,s=[];for(let l=0;l<r.length;l+=1)s[l]=$8(v8(i,r,l));return{c(){e=P("option"),e.textContent="Select",t=W();for(let l=0;l<s.length;l+=1)s[l].c();n=Ae(),e.__value="Select",e.value=e.__value},m(l,o){w(l,e,o),w(l,t,o);for(let a=0;a<s.length;a+=1)s[a].m(l,o);w(l,n,o)},p(l,o){if(o&0){r=l1;let a;for(a=0;a<r.length;a+=1){const u=v8(l,r,a);s[a]?s[a].p(u,o):(s[a]=$8(u),s[a].c(),s[a].m(n.parentNode,n))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}},d(l){l&&y(e),l&&y(t),pt(s,l),l&&y(n)}}}function F8(i){let e=Fe.t("dashboard.select-a-timeframe","Select a Timeframe")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function M3e(i){let e,t,n=!i[0].timeRange&&F8();return{c(){e=P("div"),n&&n.c(),h(e,"slot","left"),h(e,"class",t=(i[0].timeRange?"":"pl-2 pt-3 w-full")+" text-black dark:text-white pointer-events-none absolute")},m(r,s){w(r,e,s),n&&n.m(e,null)},p(r,s){r[0].timeRange?n&&(n.d(1),n=null):n?n.p(r,s):(n=F8(),n.c(),n.m(e,null)),s[0]&1&&t!==(t=(r[0].timeRange?"":"pl-2 pt-3 w-full")+" text-black dark:text-white pointer-events-none absolute")&&h(e,"class",t)},d(r){r&&y(e),n&&n.d()}}}function E8(i){let e,t,n,r;return e=new hi({props:{left:18}}),n=new lt({props:{bg:"transparent",title:"Include Daily Average",className:"pl-6",$$slots:{right:[L3e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l[0]&1|l[1]&32&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function L3e(i){let e,t,n,r;function s(o){i[17](o)}let l={};return i[0].includeAvg!==void 0&&(l.value=i[0].includeAvg),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].includeAvg)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a[0]&1&&(n=!0,u.value=o[0].includeAvg,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function O3e(i){let e;return{c(){e=K("Size")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function I3e(i){let e,t,n;function r(l){i[18](l)}let s={buttons:[{value:"sm",label:"Small"},{value:"md",label:"Medium"},{value:"lg",label:"Large"}],slot:"right"};return i[0].size!==void 0&&(s.value=i[0].size),e=new Hl({props:s}),Oe.push(()=>Qe(e,"value",r,i[0].size)),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&1&&(t=!0,a.value=l[0].size,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function B3e(i){var f,d,m,p;let e=((d=(f=i[1])==null?void 0:f.requires)==null?void 0:d.indexOf("token"))>-1||((p=(m=i[1])==null?void 0:m.optional)==null?void 0:p.indexOf("token"))>-1,t,n=i[1]&&[...i[1].requires,...i[1].optional].indexOf("timeframe")>-1,r,s,l,o,a,u=e&&b8(i),c=n&&w8(i);return s=new hi({props:{left:18}}),o=new lt({props:{$$slots:{right:[I3e],default:[O3e]},$$scope:{ctx:i}}}),{c(){u&&u.c(),t=W(),c&&c.c(),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment)},m(g,k){u&&u.m(g,k),w(g,t,k),c&&c.m(g,k),w(g,r,k),O(s,g,k),w(g,l,k),O(o,g,k),a=!0},p(g,k){var C,E,S,T;k[0]&2&&(e=((E=(C=g[1])==null?void 0:C.requires)==null?void 0:E.indexOf("token"))>-1||((T=(S=g[1])==null?void 0:S.optional)==null?void 0:T.indexOf("token"))>-1),e?u?(u.p(g,k),k[0]&2&&_(u,1)):(u=b8(g),u.c(),_(u,1),u.m(t.parentNode,t)):u&&(ae(),v(u,1,1,()=>{u=null}),ue()),k[0]&2&&(n=g[1]&&[...g[1].requires,...g[1].optional].indexOf("timeframe")>-1),n?c?(c.p(g,k),k[0]&2&&_(c,1)):(c=w8(g),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(ae(),v(c,1,1,()=>{c=null}),ue());const $={};k[0]&1|k[1]&32&&($.$$scope={dirty:k,ctx:g}),o.$set($)},i(g){a||(_(u),_(c),_(s.$$.fragment,g),_(o.$$.fragment,g),a=!0)},o(g){v(u),v(c),v(s.$$.fragment,g),v(o.$$.fragment,g),a=!1},d(g){u&&u.d(g),g&&y(t),c&&c.d(g),g&&y(r),I(s,g),g&&y(l),I(o,g)}}}function C8(i){let e,t;return e=new jt({props:{solo:!0,className:"mt-4",$$slots:{default:[R3e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function R3e(i){let e,t,n,r,s;function l(a){i[19](a)}let o={listItem:!0,placeholder:"Message",type:"textarea",rows:2};return i[0].description!==void 0&&(o.value=i[0].description),e=new Wn({props:o}),Oe.push(()=>Qe(e,"value",l,i[0].description)),{c(){B(e.$$.fragment),n=W(),r=P("div"),r.textContent="Leave yourself a positive message or something!",h(r,"class","text-gray-500 leading-tight px-4 text-sm pb-4")},m(a,u){O(e,a,u),w(a,n,u),w(a,r,u),s=!0},p(a,u){const c={};!t&&u[0]&1&&(t=!0,c.value=a[0].description,tt(()=>t=!1)),e.$set(c)},i(a){s||(_(e.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),s=!1},d(a){I(e,a),a&&y(n),a&&y(r)}}}function D8(i){let e,t,n=i[4].length>0&&S8(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[4].length>0?n?(n.p(r,s),s[0]&16&&_(n,1)):(n=S8(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function S8(i){let e,t;return e=new jt({props:{solo:!0,className:"mt-4",$$slots:{default:[Y3e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&17|r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function T8(i){let e,t=i[30].emoji+"",n,r,s=i[30].name+"",l,o;return{c(){e=P("option"),n=K(t),r=W(),l=K(s),e.__value=o=i[30].widgetid,e.value=e.__value},m(a,u){w(a,e,u),D(e,n),D(e,r),D(e,l)},p(a,u){u[0]&16&&t!==(t=a[30].emoji+"")&&de(n,t),u[0]&16&&s!==(s=a[30].name+"")&&de(l,s),u[0]&16&&o!==(o=a[30].widgetid)&&(e.__value=o,e.value=e.__value)},d(a){a&&y(e)}}}function z3e(i){let e,t=i[4],n=[];for(let r=0;r<t.length;r+=1)n[r]=T8(g8(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ae()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s[0]&16){t=r[4];let l;for(l=0;l<t.length;l+=1){const o=g8(r,t,l);n[l]?n[l].p(o,s):(n[l]=T8(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){pt(n,r),r&&y(e)}}}function A8(i){let e;return{c(){e=K("Select a Widget")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function j3e(i){let e,t,n=!i[0].data.widgetindex&&A8();return{c(){e=P("div"),n&&n.c(),h(e,"slot","left"),h(e,"class",t=(i[0].data.widgetindex?"":"pl-2 pt-3 w-full")+" text-black dark:text-white pointer-events-none absolute")},m(r,s){w(r,e,s),n&&n.m(e,null)},p(r,s){r[0].data.widgetindex?n&&(n.d(1),n=null):n||(n=A8(),n.c(),n.m(e,null)),s[0]&1&&t!==(t=(r[0].data.widgetindex?"":"pl-2 pt-3 w-full")+" text-black dark:text-white pointer-events-none absolute")&&h(e,"class",t)},d(r){r&&y(e),n&&n.d()}}}function Y3e(i){let e,t,n,r,s;function l(a){i[20](a)}let o={listItem:!0,type:"select",label:"Widget",$$slots:{left:[j3e],default:[z3e]},$$scope:{ctx:i}};return i[0].data.widgetindex!==void 0&&(o.value=i[0].data.widgetindex),e=new Wn({props:o}),Oe.push(()=>Qe(e,"value",l,i[0].data.widgetindex)),{c(){B(e.$$.fragment),n=W(),r=P("div"),r.textContent="Select your Widget for this Plugin",h(r,"class","text-gray-500 leading-tight px-4 text-sm pb-4")},m(a,u){O(e,a,u),w(a,n,u),w(a,r,u),s=!0},p(a,u){const c={};u[0]&17|u[1]&32&&(c.$$scope={dirty:u,ctx:a}),!t&&u[0]&1&&(t=!0,c.value=a[0].data.widgetindex,tt(()=>t=!1)),e.$set(c)},i(a){s||(_(e.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),s=!1},d(a){I(e,a),a&&y(n),a&&y(r)}}}function P8(i){let e,t;return e=new jt({props:{solo:!0,className:"mt-4",$$slots:{default:[Z3e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&7|r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function U3e(i){let e,t,n;function r(l){i[21](l)}let s={slot:"right"};return i[2]!==void 0&&(s.value=i[2]),e=new Ar({props:s}),Oe.push(()=>Qe(e,"value",r,i[2])),e.$on("change",i[22]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&4&&(t=!0,a.value=l[2],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function N8(i){let e,t,n,r,s,l,o,a;return e=new lt({props:{bg:"transparent",title:"Compare Value",$$slots:{right:[q3e]},$$scope:{ctx:i}}}),n=new hi({props:{center:!0}}),s=new lt({props:{$$slots:{right:[V3e],default:[H3e]},$$scope:{ctx:i}}}),o=new lt({props:{$$slots:{right:[G3e],default:[x3e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment)},m(u,c){O(e,u,c),w(u,t,c),O(n,u,c),w(u,r,c),O(s,u,c),w(u,l,c),O(o,u,c),a=!0},p(u,c){const f={};c[0]&3|c[1]&32&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const d={};c[0]&1|c[1]&32&&(d.$$scope={dirty:c,ctx:u}),s.$set(d);const m={};c[0]&1|c[1]&32&&(m.$$scope={dirty:c,ctx:u}),o.$set(m)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(s.$$.fragment,u),v(o.$$.fragment,u),a=!1},d(u){I(e,u),u&&y(t),I(n,u),u&&y(r),I(s,u),u&&y(l),I(o,u)}}}function M8(i){let e,t;return e=new He({props:{icon:!0,className:"mr-2 text-primary-500",$$slots:{default:[W3e]},$$scope:{ctx:i}}}),e.$on("click",i[24]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function W3e(i){let e,t;return e=new et({props:{icon:Qk,className:"text-gray-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function q3e(i){var u,c;let e,t,n,r,s,l,o,a=((c=(u=i[0])==null?void 0:u.token)==null?void 0:c.type)=="tracker"&&M8(i);return{c(){e=P("div"),t=P("input"),r=W(),a&&a.c(),h(t,"class","bg-gray-200 dark:bg-gray-800 rounded-md px-2 py-1"),h(t,"pattern","[0-9]*"),h(t,"inputmode","numeric"),h(t,"placeholder",n=i[1].id=="value"?"Value":i[1].id=="last-used"?"Days":"Value"),gt(t,"max-width","140px"),h(e,"slot","right"),h(e,"class","flex items-center justify-end")},m(f,d){w(f,e,d),D(e,t),Kn(t,i[0].compareValue),D(e,r),a&&a.m(e,null),s=!0,l||(o=Se(t,"input",i[23]),l=!0)},p(f,d){var m,p;(!s||d[0]&2&&n!==(n=f[1].id=="value"?"Value":f[1].id=="last-used"?"Days":"Value"))&&h(t,"placeholder",n),d[0]&1&&t.value!==f[0].compareValue&&Kn(t,f[0].compareValue),((p=(m=f[0])==null?void 0:m.token)==null?void 0:p.type)=="tracker"?a?(a.p(f,d),d[0]&1&&_(a,1)):(a=M8(f),a.c(),_(a,1),a.m(e,null)):a&&(ae(),v(a,1,1,()=>{a=null}),ue())},i(f){s||(_(a),s=!0)},o(f){v(a),s=!1},d(f){f&&y(e),a&&a.d(),l=!1,o()}}}function H3e(i){let e=Fe.t("dashboard.widget-above-value-color","Above value color")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function V3e(i){let e,t;return e=new Vj({props:{slot:"right",size:16,value:i[0].compareOverColor}}),e.$on("change",i[25]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.value=n[0].compareOverColor),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function x3e(i){let e=Fe.t("dashboard.widget-under-value-color","Under value color")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function G3e(i){let e,t;return e=new Vj({props:{slot:"right",size:16,value:i[0].compareUnderColor}}),e.$on("change",i[26]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.value=n[0].compareUnderColor),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Z3e(i){let e,t,n,r;e=new lt({props:{title:"Conditional Coloring",$$slots:{right:[U3e]},$$scope:{ctx:i}}});let s=i[2]&&N8(i);return{c(){B(e.$$.fragment),t=W(),s&&s.c(),n=Ae()},m(l,o){O(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o[0]&5|o[1]&32&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[2]?s?(s.p(l,o),o[0]&4&&_(s,1)):(s=N8(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){I(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function X3e(i){var g,k;let e,t,n,r,s,l,o,a=i[1]&&[...i[1].requires,...i[1].optional].indexOf("cond-style")>-1,u,c,f;r=new jt({props:{solo:!0,$$slots:{default:[B3e]},$$scope:{ctx:i}}});let d=((g=i[1])==null?void 0:g.id)=="text"&&C8(i),m=((k=i[1])==null?void 0:k.id)=="plugin"&&D8(i),p=a&&P8(i);return c=new jt({props:{solo:!0,className:"mt-4 dark:text-white"}}),{c(){e=P("div"),t=W(),n=P("main"),B(r.$$.fragment),s=W(),d&&d.c(),l=W(),m&&m.c(),o=W(),p&&p.c(),u=W(),B(c.$$.fragment),h(e,"class","h-4"),h(n,"class","px-2")},m($,C){w($,e,C),w($,t,C),w($,n,C),O(r,n,null),D(n,s),d&&d.m(n,null),D(n,l),m&&m.m(n,null),D(n,o),p&&p.m(n,null),D(n,u),O(c,n,null),f=!0},p($,C){var S,T;const E={};C[0]&35|C[1]&32&&(E.$$scope={dirty:C,ctx:$}),r.$set(E),((S=$[1])==null?void 0:S.id)=="text"?d?(d.p($,C),C[0]&2&&_(d,1)):(d=C8($),d.c(),_(d,1),d.m(n,l)):d&&(ae(),v(d,1,1,()=>{d=null}),ue()),((T=$[1])==null?void 0:T.id)=="plugin"?m?(m.p($,C),C[0]&2&&_(m,1)):(m=D8($),m.c(),_(m,1),m.m(n,o)):m&&(ae(),v(m,1,1,()=>{m=null}),ue()),C[0]&2&&(a=$[1]&&[...$[1].requires,...$[1].optional].indexOf("cond-style")>-1),a?p?(p.p($,C),C[0]&2&&_(p,1)):(p=P8($),p.c(),_(p,1),p.m(n,u)):p&&(ae(),v(p,1,1,()=>{p=null}),ue())},i($){f||(_(r.$$.fragment,$),_(d),_(m),_(p),_(c.$$.fragment,$),f=!0)},o($){v(r.$$.fragment,$),v(d),v(m),v(p),v(c.$$.fragment,$),f=!1},d($){$&&y(e),$&&y(t),$&&y(n),I(r),d&&d.d(),m&&m.d(),p&&p.d(),I(c)}}}function K3e(i){let e;return{c(){e=P("h1"),e.textContent="Widget Settings",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function J3e(i){let e=Fe.t("general.cancel","Cancel")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Q3e(i){let e,t;return e=new He({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[J3e]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function e4e(i){let e,t;return e=new He({props:{clear:!0,primary:!0,disabled:!0,$$slots:{default:[n4e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function t4e(i){let e,t;return e=new He({props:{clear:!0,primary:!0,$$slots:{default:[i4e]},$$scope:{ctx:i}}}),e.$on("click",i[8]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function n4e(i){let e=Fe.t("general.save","Save")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function i4e(i){let e=Fe.t("general.save","Save")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function r4e(i){let e,t,n,r;const s=[t4e,e4e],l=[];function o(a,u){return a[3]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function s4e(i){let e,t,n,r,s,l;t=new Sn({props:{slot:"header",$$slots:{right:[r4e],left:[Q3e],default:[K3e]},$$scope:{ctx:i}}});function o(u){i[13](u)}let a={};return i[0]!==void 0&&(a.widget=i[0]),r=new r3e({props:a}),Oe.push(()=>Qe(r,"widget",o,i[0])),{c(){e=P("header"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"slot","header"),h(e,"class","bg-white dark:bg-black")},m(u,c){w(u,e,c),O(t,e,null),D(e,n),O(r,e,null),l=!0},p(u,c){const f={};c[0]&8|c[1]&32&&(f.$$scope={dirty:c,ctx:u}),t.$set(f);const d={};!s&&c[0]&1&&(s=!0,d.widget=u[0],tt(()=>s=!1)),r.$set(d)},i(u){l||(_(t.$$.fragment,u),_(r.$$.fragment,u),l=!0)},o(u){v(t.$$.fragment,u),v(r.$$.fragment,u),l=!1},d(u){u&&y(e),I(t),I(r)}}}function l4e(i){let e,t;return e=new ti({props:{mainClass:"bg-gray-100 dark:bg-gray-800",className:"bg-white dark:bg-black h-full",$$slots:{header:[s4e],default:[X3e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&63|r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function o4e(i){let e=!0,t=0;for(;t<i.length;)(!i[t].emoji||!i[t].name||!i[t].widgetid||i[t].emoji==""||i[t].name==""||i[t].widgetid=="")&&(e=!1),t++;return e}function a4e(i,e,t){let n,r;Le(i,ls,G=>t(27,n=G)),Le(i,en,G=>t(5,r=G));let s=!1,l,{props:o}=e,{id:a}=e,u,c=!1,f=!1,d=bw(n),m,p=[];async function g(G){let X=`plugins/${G}/prefs.json`,se;try{se=await _n.get(X)||{widgets:[]},t(4,p=se.widgets),(p==null||!o4e(se.widgets))&&t(4,p=[])}catch(te){console.error(te),t(4,p=[])}}const k=async()=>{tn(a)},$=async G=>{const X=await S0();let se=e0e(X);t(0,l.token=se,l)},C=async()=>{try{[...u.requires,...u.optional].indexOf("timeframe")===-1&&t(0,l.timeRange=void 0,l),o.onSave?(o.onSave(l),await o1(l).catch(G=>{throw G})):await o1(l).catch(G=>{throw G}),k()}catch(G){at.error(G)}};function E(G){l=G,t(0,l),t(9,o),t(11,s)}const S=()=>{t(0,l.token=void 0,l)},T=()=>{var G;$(((G=u==null?void 0:u.requires)==null?void 0:G.indexOf("tokens"))>-1)};function M(G){i.$$.not_equal(l.timeRange,G)&&(l.timeRange=G,t(0,l),t(9,o),t(11,s))}function R(G){i.$$.not_equal(l.includeAvg,G)&&(l.includeAvg=G,t(0,l),t(9,o),t(11,s))}function Y(G){i.$$.not_equal(l.size,G)&&(l.size=G,t(0,l),t(9,o),t(11,s))}function z(G){i.$$.not_equal(l.description,G)&&(l.description=G,t(0,l),t(9,o),t(11,s))}function j(G){i.$$.not_equal(l.data.widgetindex,G)&&(l.data.widgetindex=G,t(0,l),t(9,o),t(11,s))}function V(G){c=G,t(2,c),t(9,o),t(11,s),t(0,l)}const x=G=>{G.detail===!1&&(t(0,l.compareUnderColor=void 0,l),t(0,l.compareOverColor=void 0,l),t(0,l.compareValue=void 0,l))};function ee(){l.compareValue=this.value,t(0,l),t(9,o),t(11,s)}const J=async()=>{alert("get Conditional Value?")},q=G=>{t(0,l.compareOverColor=G.detail,l)},le=G=>{t(0,l.compareUnderColor=G.detail,l)};return i.$$set=G=>{"props"in G&&t(9,o=G.props),"id"in G&&t(10,a=G.id)},i.$$.update=()=>{if(i.$$.dirty[0]&2561&&o.widget&&!s&&(t(11,s=!0),t(0,l=new Zp(o.widget)),Hd(l.compareValue)&&t(2,c=!0)),i.$$.dirty[0]&1&&l.type&&(t(1,u=d.find(G=>G.id===l.type)),l.type=="plugin"&&g(l.data.pluginId)),i.$$.dirty[0]&4097&&di(l)!==m){t(12,m=di(l));try{t(3,f=bye(l,d))}catch(G){console.error(G),t(3,f=!1)}}},[l,u,c,f,p,r,k,$,C,o,a,s,m,E,S,T,M,R,Y,z,j,V,x,ee,J,q,le]}class u4e extends pe{constructor(e){super(),me(this,e,a4e,l4e,he,{props:9,id:10},null,[-1,-1])}}const Ew=i=>{On({id:`widget-editor-${i.widget.id||""}`,component:u4e,componentProps:{props:i}})},rk=()=>new Promise(i=>{Ew({widget:new Zp({}),onSave(e){i(e)}})});function L8(i,e,t){const n=i.slice();return n[3]=e[t],n[5]=t,n}function c4e(i){return{c:Z,m:Z,p:Z,d:Z}}function f4e(i){let e,t=i[0].widgets,n=[];for(let r=0;r<t.length;r+=1)n[r]=O8(L8(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ae()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&1){t=r[0].widgets;let l;for(l=0;l<t.length;l+=1){const o=L8(r,t,l);n[l]?n[l].p(o,s):(n[l]=O8(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){pt(n,r),r&&y(e)}}}function O8(i){let e,t,n=i[3].getTitle()+"",r,s,l,o=i[3].type+"",a,u,c,f=i[3].getLabel().replace("days","")+"",d,m;return{c(){e=P("button"),t=P("strong"),r=K(n),s=W(),l=P("span"),a=K(o),u=W(),c=P("span"),d=K(f),m=W(),h(e,"class","pill sm space-x- flex")},m(p,g){w(p,e,g),D(e,t),D(t,r),D(e,s),D(e,l),D(l,a),D(e,u),D(e,c),D(c,d),D(e,m)},p(p,g){g&1&&n!==(n=p[3].getTitle()+"")&&de(r,n),g&1&&o!==(o=p[3].type+"")&&de(a,o),g&1&&f!==(f=p[3].getLabel().replace("days","")+"")&&de(d,f)},d(p){p&&y(e)}}}function d4e(i){let e,t,n=i[0].label+"",r,s,l,o,a,u,c,f;function d(g,k){return g[0].widgets.length?f4e:c4e}let m=d(i),p=m(i);return{c(){e=P("main"),t=P("div"),r=K(n),s=W(),l=P("div"),p.c(),o=W(),a=P("div"),u=P("button"),u.textContent="+ Widget",h(t,"class","ntitle"),h(l,"class","widgets -ml-1 text-xs p-1 rounded-md flex flex-wrap")},m(g,k){w(g,e,k),D(e,t),D(t,r),D(e,s),D(e,l),p.m(l,null),D(l,o),D(l,a),D(a,u),c||(f=Se(u,"click",i[2]),c=!0)},p(g,k){k&1&&n!==(n=g[0].label+"")&&de(r,n),m===(m=d(g))&&p?p.p(g,k):(p.d(1),p=m(g),p&&(p.c(),p.m(l,o)))},d(g){g&&y(e),p.d(),c=!1,f()}}}function h4e(i){let e,t;return e=new lt({props:{$$slots:{default:[d4e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&65&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function m4e(i,e,t){let{dashboard:n}=e;const r=()=>{Ew({widget:new Zp,onSave(l){console.log({widget:l})}})},s=()=>{r()};return i.$$set=l=>{"dashboard"in l&&t(0,n=l.dashboard)},[n,r,s]}class p4e extends pe{constructor(e){super(),me(this,e,m4e,h4e,he,{dashboard:0})}}function _4e(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Scan"),r=ye("path"),h(r,"d","M336 448h56a56 56 0 0056-56v-56M448 176v-56a56 56 0 00-56-56h-56M176 448h-56a56 56 0 01-56-56v-56M64 176v-56a56 56 0 0156-56h56"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function g4e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class v4e extends pe{constructor(e){super(),me(this,e,g4e,_4e,he,{size:0})}}function b4e(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Lock Closed"),r=ye("path"),h(r,"d","M368 192h-16v-80a96 96 0 10-192 0v80h-16a64.07 64.07 0 00-64 64v176a64.07 64.07 0 0064 64h224a64.07 64.07 0 0064-64V256a64.07 64.07 0 00-64-64zm-48 0H192v-80a64 64 0 11128 0z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function k4e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class uY extends pe{constructor(e){super(),me(this,e,k4e,b4e,he,{size:0})}}function y4e(i,e,t){const n=i.slice();return n[2]=e[t],n[4]=t,n}function w4e(i){let e,t=i[4]+1+"",n,r;return{c(){e=P("option"),n=K(t),r=K(" days"),e.__value=`${i[4]+1}`,e.value=e.__value},m(s,l){w(s,e,l),D(e,n),D(e,r)},p:Z,d(s){s&&y(e)}}}function $4e(i){let e,t=Array(30).fill(0),n=[];for(let r=0;r<t.length;r+=1)n[r]=w4e(y4e(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ae()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p:Z,d(r){pt(n,r),r&&y(e)}}}function F4e(i){let e,t;return e=new Wn({props:{listItem:!0,type:"select",label:"Duration",placeholder:"Duration (in Days)",value:`${i[0].ctx.duration||1}`,$$slots:{default:[$4e]},$$scope:{ctx:i}}}),e.$on("change",i[1]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.value=`${n[0].ctx.duration||1}`),r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function E4e(i){let e,t,n,r;return e=new jt({props:{solo:!0,$$slots:{default:[F4e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),n=P("p"),n.textContent=`Duration Days is how long this context tends to impact your life. Context is used to mark specific points in your life
  with things that can impact you for multiple days. For example being sick, or rushing for a project.`,h(n,"class","list-note")},m(s,l){O(e,s,l),w(s,t,l),w(s,n,l),r=!0},p(s,[l]){const o={};l&33&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),s&&y(n)}}}function C4e(i,e,t){let{trackable:n}=e;const r=s=>{t(0,n.ctx.duration=gi(s.detail),n)};return i.$$set=s=>{"trackable"in s&&t(0,n=s.trackable)},[n,r]}class D4e extends pe{constructor(e){super(),me(this,e,C4e,E4e,he,{trackable:0})}}function S4e(i){let e,t,n;function r(l){i[1](l)}let s={listItem:!0,type:"textarea",label:"Note about Person",placeholder:"About this Person"};return i[0].person.notes!==void 0&&(s.value=i[0].person.notes),e=new Wn({props:s}),Oe.push(()=>Qe(e,"value",r,i[0].person.notes)),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.value=l[0].person.notes,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function T4e(i){let e,t;return e=new jt({props:{solo:!0,$$slots:{default:[S4e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&5&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function A4e(i,e,t){let{trackable:n}=e;function r(s){i.$$.not_equal(n.person.notes,s)&&(n.person.notes=s,t(0,n))}return i.$$set=s=>{"trackable"in s&&t(0,n=s.trackable)},[n,r]}class P4e extends pe{constructor(e){super(),me(this,e,A4e,T4e,he,{trackable:0})}}function I8(i,e,t){const n=i.slice();return n[8]=e[t],n[10]=t,n}function B8(i,e,t){const n=i.slice();return n[8]=e[t],n[10]=t,n}function N4e(i){let e,t;return e=new Fh({props:{className:"n-color-picker "+i[3],activeIndex:i[4],$$slots:{default:[L4e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.className="n-color-picker "+n[3]),r&16&&(s.activeIndex=n[4]),r&4101&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function M4e(i){let e,t,n=i[2],r=[];for(let s=0;s<n.length;s+=1)r[s]=z8(B8(i,n,s));return{c(){e=P("div");for(let s=0;s<r.length;s+=1)r[s].c();h(e,"class",t="asGrid n-color-picker "+i[3])},m(s,l){w(s,e,l);for(let o=0;o<r.length;o+=1)r[o].m(e,null)},p(s,l){if(l&37){n=s[2];let o;for(o=0;o<n.length;o+=1){const a=B8(s,n,o);r[o]?r[o].p(a,l):(r[o]=z8(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}l&8&&t!==(t="asGrid n-color-picker "+s[3])&&h(e,"class",t)},i:Z,o:Z,d(s){s&&y(e),pt(r,s)}}}function R8(i){let e,t,n,r;function s(){return i[7](i[8])}return{c(){e=P("button"),h(e,"class",t="color-btn "+(i[8]==i[0]?"selected":"")),gt(e,"background-color",i[8])},m(l,o){w(l,e,o),n||(r=Se(e,"click",s),n=!0)},p(l,o){i=l,o&5&&t!==(t="color-btn "+(i[8]==i[0]?"selected":""))&&h(e,"class",t),o&4&&gt(e,"background-color",i[8])},d(l){l&&y(e),n=!1,r()}}}function L4e(i){let e,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=R8(I8(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ae()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&5){t=r[2];let l;for(l=0;l<t.length;l+=1){const o=I8(r,t,l);n[l]?n[l].p(o,s):(n[l]=R8(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){pt(n,r),r&&y(e)}}}function z8(i){let e,t,n,r;function s(){return i[6](i[8])}return{c(){e=P("button"),h(e,"class",t="color-btn "+(i[8]==i[0]?"selected":"")),gt(e,"background-color",i[8])},m(l,o){w(l,e,o),n||(r=Se(e,"click",s),n=!0)},p(l,o){i=l,o&5&&t!==(t="color-btn "+(i[8]==i[0]?"selected":""))&&h(e,"class",t),o&4&&gt(e,"background-color",i[8])},d(l){l&&y(e),n=!1,r()}}}function O4e(i){let e,t,n,r;const s=[M4e,N4e],l=[];function o(a,u){return a[1]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function I4e(i,e,t){let n,{value:r="#20699d"}=e,{grid:s=!1}=e,{colors:l=FR.reverse()}=e,{className:o=""}=e;const a=Ut(),u=f=>{t(0,r=f),a("color",f)},c=f=>{t(0,r=f)};return i.$$set=f=>{"value"in f&&t(0,r=f.value),"grid"in f&&t(1,s=f.grid),"colors"in f&&t(2,l=f.colors),"className"in f&&t(3,o=f.className)},i.$$.update=()=>{i.$$.dirty&5&&t(4,n=l.indexOf(r)||0)},[r,s,l,o,n,a,u,c]}class B4e extends pe{constructor(e){super(),me(this,e,I4e,O4e,he,{value:0,grid:1,colors:2,className:3})}}function j8(i,e,t){const n=i.slice();return n[3]=e[t],n}function Y8(i){let e,t;return e=new $j({props:{emoji:i[3],className:"text-2xl p-1"}}),e.$on("emojihover",i[1]),e.$on("emojiclick",i[2]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.emoji=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function R4e(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=Y8(j8(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=P("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","grid grid-cols-8 lg:grid-col-12 gap-1 items-start p-2")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,[o]){if(o&1){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=j8(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=Y8(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),pt(r,l)}}}function z4e(i,e,t){let{emojis:n}=e;function r(l){$l.call(this,i,l)}function s(l){$l.call(this,i,l)}return i.$$set=l=>{"emojis"in l&&t(0,n=l.emojis)},[n,r,s]}class Cw extends pe{constructor(e){super(),me(this,e,z4e,R4e,he,{emojis:0})}}function j4e(i){let e,t,n;return t=new et({props:{icon:ah}}),{c(){e=P("span"),B(t.$$.fragment),h(e,"class","icon")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Y4e(i){let e,t,n,r,s;return t=new et({props:{icon:Qa}}),{c(){e=P("span"),B(t.$$.fragment),h(e,"class","icon clear-button"),h(e,"role","button")},m(l,o){w(l,e,o),O(t,e,null),n=!0,r||(s=Se(e,"click",ic(i[2])),r=!0)},p:Z,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),I(t),r=!1,s()}}}function U4e(i){let e,t,n,r,s,l,o,a;const u=[Y4e,j4e],c=[];function f(d,m){return d[0]?0:1}return r=f(i),s=c[r]=u[r](i),{c(){e=P("div"),t=P("input"),n=W(),s.c(),h(t,"type","text"),h(t,"class","border-gray-500 dark:text-white border border-opacity-20"),h(t,"autocapitalize","false"),h(t,"autocomplete","false"),h(t,"placeholder","Search emojis..."),h(e,"class","svelte-emoji-picker__search")},m(d,m){w(d,e,m),D(e,t),Kn(t,i[0]),i[5](t),D(e,n),c[r].m(e,null),l=!0,o||(a=[Se(t,"input",i[4]),Se(t,"keydown",i[3])],o=!0)},p(d,[m]){m&1&&t.value!==d[0]&&Kn(t,d[0]);let p=r;r=f(d),r===p?c[r].p(d,m):(ae(),v(c[p],1,1,()=>{c[p]=null}),ue(),s=c[r],s?s.p(d,m):(s=c[r]=u[r](d),s.c()),_(s,1),s.m(e,null))},i(d){l||(_(s),l=!0)},o(d){v(s),l=!1},d(d){d&&y(e),i[5](null),c[r].d(),o=!1,Ot(a)}}}function W4e(i,e,t){let{searchText:n=""}=e,r;Yt(()=>{});function s(){t(0,n=""),r.focus()}function l(u){u.key==="Escape"&&n&&(s(),u.stopPropagation())}function o(){n=this.value,t(0,n)}function a(u){Oe[u?"unshift":"push"](()=>{r=u,t(1,r)})}return i.$$set=u=>{"searchText"in u&&t(0,n=u.searchText)},[n,r,s,l,o,a]}class q4e extends pe{constructor(e){super(),me(this,e,W4e,U4e,he,{searchText:0})}}const cY=[{n:"monkey_face",e:"\u{1F435}",v:[],c:"Nature"},{n:"grinning",e:"\u{1F600}",v:[],c:"People"},{n:"skin_tone_2",e:"\u{1F3FB}",v:[],c:"Skin Tones"},{n:"earth_africa",e:"\u{1F30D}",v:[],c:"Places"},{n:"checkered_flag",e:"\u{1F3C1}",v:[],c:"Flags"},{n:"mute",e:"\u{1F507}",v:[],c:"Objects"},{n:"jack_o_lantern",e:"\u{1F383}",v:[],c:"Activities"},{n:"atm",e:"\u{1F3E7}",v:[],c:"Symbols"},{n:"grapes",e:"\u{1F347}",v:[],c:"Eat"},{n:"earth_americas",e:"\u{1F30E}",v:[],c:"Places"},{n:"grin",e:"\u{1F601}",v:[],c:"People"},{n:"melon",e:"\u{1F348}",v:[],c:"Eat"},{n:"triangular_flag_on_post",e:"\u{1F6A9}",v:[],c:"Flags"},{n:"monkey",e:"\u{1F412}",v:[],c:"Nature"},{n:"christmas_tree",e:"\u{1F384}",v:[],c:"Activities"},{n:"skin_tone_3",e:"\u{1F3FC}",v:[],c:"Skin Tones"},{n:"put_litter_in_its_place",e:"\u{1F6AE}",v:[],c:"Symbols"},{n:"speaker",e:"\u{1F508}",v:[],c:"Objects"},{n:"earth_asia",e:"\u{1F30F}",v:[],c:"Places"},{n:"crossed_flags",e:"\u{1F38C}",v:[],c:"Flags"},{n:"joy",e:"\u{1F602}",v:[],c:"People"},{n:"sound",e:"\u{1F509}",v:[],c:"Objects"},{n:"watermelon",e:"\u{1F349}",v:[],c:"Eat"},{n:"gorilla",e:"\u{1F98D}",v:[],c:"Nature"},{n:"fireworks",e:"\u{1F386}",v:[],c:"Activities"},{n:"potable_water",e:"\u{1F6B0}",v:[],c:"Symbols"},{n:"skin_tone_4",e:"\u{1F3FD}",v:[],c:"Skin Tones"},{n:"wheelchair",e:"\u267F",v:[],c:"Symbols"},{n:"rolling_on_the_floor_laughing",e:"\u{1F923}",v:[],c:"People"},{n:"loud_sound",e:"\u{1F50A}",v:[],c:"Objects"},{n:"waving_black_flag",e:"\u{1F3F4}",v:[],c:"Flags"},{n:"tangerine",e:"\u{1F34A}",v:[],c:"Eat"},{n:"dog",e:"\u{1F436}",v:[],c:"Nature"},{n:"sparkler",e:"\u{1F387}",v:[],c:"Activities"},{n:"skin_tone_5",e:"\u{1F3FE}",v:[],c:"Skin Tones"},{n:"globe_with_meridians",e:"\u{1F310}",v:[],c:"Places"},{n:"skin_tone_6",e:"\u{1F3FF}",v:[],c:"Skin Tones"},{n:"smiley",e:"\u{1F603}",v:[],c:"People"},{n:"loudspeaker",e:"\u{1F4E2}",v:[],c:"Objects"},{n:"sparkles",e:"\u2728",v:[],c:"Activities"},{n:"dog2",e:"\u{1F415}",v:[],c:"Nature"},{n:"waving_white_flag",e:"\u{1F3F3}\uFE0F",v:[],c:"Flags"},{n:"world_map",e:"\u{1F5FA}\uFE0F",v:[],c:"Places"},{n:"lemon",e:"\u{1F34B}",v:[],c:"Eat"},{n:"mens",e:"\u{1F6B9}",v:[],c:"Symbols"},{n:"womens",e:"\u{1F6BA}",v:[],c:"Symbols"},{n:"rainbow_flag",e:"\u{1F3F3}\uFE0F\u200D\u{1F308}",v:[],c:"Flags"},{n:"smile",e:"\u{1F604}",v:[],c:"People"},{n:"banana",e:"\u{1F34C}",v:[],c:"Eat"},{n:"mega",e:"\u{1F4E3}",v:[],c:"Objects"},{n:"japan",e:"\u{1F5FE}",v:[],c:"Places"},{n:"poodle",e:"\u{1F429}",v:[],c:"Nature"},{n:"balloon",e:"\u{1F388}",v:[],c:"Activities"},{n:"flag_ac",e:"\u{1F1E6}\u{1F1E8}",v:[],c:"Flags"},{n:"sweat_smile",e:"\u{1F605}",v:[],c:"People"},{n:"pineapple",e:"\u{1F34D}",v:[],c:"Eat"},{n:"restroom",e:"\u{1F6BB}",v:[],c:"Symbols"},{n:"postal_horn",e:"\u{1F4EF}",v:[],c:"Objects"},{n:"wolf",e:"\u{1F43A}",v:[],c:"Nature"},{n:"tada",e:"\u{1F389}",v:[],c:"Activities"},{n:"snow_capped_mountain",e:"\u{1F3D4}\uFE0F",v:[],c:"Places"},{n:"laughing",e:"\u{1F606}",v:[],c:"People"},{n:"apple",e:"\u{1F34E}",v:[],c:"Eat"},{n:"flag_ad",e:"\u{1F1E6}\u{1F1E9}",v:[],c:"Flags"},{n:"fox_face",e:"\u{1F98A}",v:[],c:"Nature"},{n:"confetti_ball",e:"\u{1F38A}",v:[],c:"Activities"},{n:"bell",e:"\u{1F514}",v:[],c:"Objects"},{n:"mountain",e:"\u26F0\uFE0F",v:[],c:"Places"},{n:"baby_symbol",e:"\u{1F6BC}",v:[],c:"Symbols"},{n:"wc",e:"\u{1F6BE}",v:[],c:"Symbols"},{n:"wink",e:"\u{1F609}",v:[],c:"People"},{n:"no_bell",e:"\u{1F515}",v:[],c:"Objects"},{n:"green_apple",e:"\u{1F34F}",v:[],c:"Eat"},{n:"tanabata_tree",e:"\u{1F38B}",v:[],c:"Activities"},{n:"flag_ae",e:"\u{1F1E6}\u{1F1EA}",v:[],c:"Flags"},{n:"volcano",e:"\u{1F30B}",v:[],c:"Places"},{n:"cat",e:"\u{1F431}",v:[],c:"Nature"},{n:"flag_af",e:"\u{1F1E6}\u{1F1EB}",v:[],c:"Flags"},{n:"musical_score",e:"\u{1F3BC}",v:[],c:"Objects"},{n:"blush",e:"\u{1F60A}",v:[],c:"People"},{n:"pear",e:"\u{1F350}",v:[],c:"Eat"},{n:"bamboo",e:"\u{1F38D}",v:[],c:"Activities"},{n:"passport_control",e:"\u{1F6C2}",v:[],c:"Symbols"},{n:"mount_fuji",e:"\u{1F5FB}",v:[],c:"Places"},{n:"cat2",e:"\u{1F408}",v:[],c:"Nature"},{n:"musical_note",e:"\u{1F3B5}",v:[],c:"Objects"},{n:"dolls",e:"\u{1F38E}",v:[],c:"Activities"},{n:"lion_face",e:"\u{1F981}",v:[],c:"Nature"},{n:"camping",e:"\u{1F3D5}\uFE0F",v:[],c:"Places"},{n:"flag_ag",e:"\u{1F1E6}\u{1F1EC}",v:[],c:"Flags"},{n:"customs",e:"\u{1F6C3}",v:[],c:"Symbols"},{n:"yum",e:"\u{1F60B}",v:[],c:"People"},{n:"peach",e:"\u{1F351}",v:[],c:"Eat"},{n:"tiger",e:"\u{1F42F}",v:[],c:"Nature"},{n:"notes",e:"\u{1F3B6}",v:[],c:"Objects"},{n:"flags",e:"\u{1F38F}",v:[],c:"Activities"},{n:"beach_with_umbrella",e:"\u{1F3D6}\uFE0F",v:[],c:"Places"},{n:"cherries",e:"\u{1F352}",v:[],c:"Eat"},{n:"flag_ai",e:"\u{1F1E6}\u{1F1EE}",v:[],c:"Flags"},{n:"baggage_claim",e:"\u{1F6C4}",v:[],c:"Symbols"},{n:"sunglasses",e:"\u{1F60E}",v:[],c:"People"},{n:"left_luggage",e:"\u{1F6C5}",v:[],c:"Symbols"},{n:"wind_chime",e:"\u{1F390}",v:[],c:"Activities"},{n:"strawberry",e:"\u{1F353}",v:[],c:"Eat"},{n:"desert",e:"\u{1F3DC}\uFE0F",v:[],c:"Places"},{n:"studio_microphone",e:"\u{1F399}\uFE0F",v:[],c:"Objects"},{n:"flag_al",e:"\u{1F1E6}\u{1F1F1}",v:[],c:"Flags"},{n:"tiger2",e:"\u{1F405}",v:[],c:"Nature"},{n:"heart_eyes",e:"\u{1F60D}",v:[],c:"People"},{n:"desert_island",e:"\u{1F3DD}\uFE0F",v:[],c:"Places"},{n:"kiwifruit",e:"\u{1F95D}",v:[],c:"Eat"},{n:"rice_scene",e:"\u{1F391}",v:[],c:"Activities"},{n:"kissing_heart",e:"\u{1F618}",v:[],c:"People"},{n:"warning",e:"\u26A0\uFE0F",v:[],c:"Symbols"},{n:"flag_am",e:"\u{1F1E6}\u{1F1F2}",v:[],c:"Flags"},{n:"leopard",e:"\u{1F406}",v:[],c:"Nature"},{n:"level_slider",e:"\u{1F39A}\uFE0F",v:[],c:"Objects"},{n:"horse",e:"\u{1F434}",v:[],c:"Nature"},{n:"children_crossing",e:"\u{1F6B8}",v:[],c:"Symbols"},{n:"ribbon",e:"\u{1F380}",v:[],c:"Activities"},{n:"national_park",e:"\u{1F3DE}\uFE0F",v:[],c:"Places"},{n:"control_knobs",e:"\u{1F39B}\uFE0F",v:[],c:"Objects"},{n:"kissing",e:"\u{1F617}",v:[],c:"People"},{n:"tomato",e:"\u{1F345}",v:[],c:"Eat"},{n:"flag_ao",e:"\u{1F1E6}\u{1F1F4}",v:[],c:"Flags"},{n:"stadium",e:"\u{1F3DF}\uFE0F",v:[],c:"Places"},{n:"flag_aq",e:"\u{1F1E6}\u{1F1F6}",v:[],c:"Flags"},{n:"gift",e:"\u{1F381}",v:[],c:"Activities"},{n:"no_entry",e:"\u26D4",v:[],c:"Symbols"},{n:"kissing_smiling_eyes",e:"\u{1F619}",v:[],c:"People"},{n:"coconut",e:"\u{1F965}",v:[],c:"Eat"},{n:"racehorse",e:"\u{1F40E}",v:[],c:"Nature"},{n:"microphone",e:"\u{1F3A4}",v:[],c:"Objects"},{n:"classical_building",e:"\u{1F3DB}\uFE0F",v:[],c:"Places"},{n:"no_entry_sign",e:"\u{1F6AB}",v:[],c:"Symbols"},{n:"reminder_ribbon",e:"\u{1F397}\uFE0F",v:[],c:"Activities"},{n:"kissing_closed_eyes",e:"\u{1F61A}",v:[],c:"People"},{n:"unicorn_face",e:"\u{1F984}",v:[],c:"Nature"},{n:"flag_ar",e:"\u{1F1E6}\u{1F1F7}",v:[],c:"Flags"},{n:"headphones",e:"\u{1F3A7}",v:[],c:"Objects"},{n:"avocado",e:"\u{1F951}",v:[],c:"Eat"},{n:"relaxed",e:"\u263A\uFE0F",v:[],c:"People"},{n:"zebra_face",e:"\u{1F993}",v:[],c:"Nature"},{n:"eggplant",e:"\u{1F346}",v:[],c:"Eat"},{n:"radio",e:"\u{1F4FB}",v:[],c:"Objects"},{n:"building_construction",e:"\u{1F3D7}\uFE0F",v:[],c:"Places"},{n:"flag_as",e:"\u{1F1E6}\u{1F1F8}",v:[],c:"Flags"},{n:"admission_tickets",e:"\u{1F39F}\uFE0F",v:[],c:"Activities"},{n:"no_bicycles",e:"\u{1F6B3}",v:[],c:"Symbols"},{n:"no_smoking",e:"\u{1F6AD}",v:[],c:"Symbols"},{n:"slightly_smiling_face",e:"\u{1F642}",v:[],c:"People"},{n:"flag_at",e:"\u{1F1E6}\u{1F1F9}",v:[],c:"Flags"},{n:"ticket",e:"\u{1F3AB}",v:[],c:"Activities"},{n:"saxophone",e:"\u{1F3B7}",v:[],c:"Objects"},{n:"deer",e:"\u{1F98C}",v:[],c:"Nature"},{n:"house_buildings",e:"\u{1F3D8}\uFE0F",v:[],c:"Places"},{n:"potato",e:"\u{1F954}",v:[],c:"Eat"},{n:"guitar",e:"\u{1F3B8}",v:[],c:"Objects"},{n:"carrot",e:"\u{1F955}",v:[],c:"Eat"},{n:"cityscape",e:"\u{1F3D9}\uFE0F",v:[],c:"Places"},{n:"flag_au",e:"\u{1F1E6}\u{1F1FA}",v:[],c:"Flags"},{n:"do_not_litter",e:"\u{1F6AF}",v:[],c:"Symbols"},{n:"hugging_face",e:"\u{1F917}",v:[],c:"People"},{n:"cow",e:"\u{1F42E}",v:[],c:"Nature"},{n:"medal",e:"\u{1F396}\uFE0F",v:[],c:"Activities"},{n:"musical_keyboard",e:"\u{1F3B9}",v:[],c:"Objects"},{n:"corn",e:"\u{1F33D}",v:[],c:"Eat"},{n:"derelict_house_building",e:"\u{1F3DA}\uFE0F",v:[],c:"Places"},{n:"non_potable_water",e:"\u{1F6B1}",v:[],c:"Symbols"},{n:"trophy",e:"\u{1F3C6}",v:[],c:"Activities"},{n:"flag_aw",e:"\u{1F1E6}\u{1F1FC}",v:[],c:"Flags"},{n:"star_struck",e:"\u{1F929}",v:[],c:"People"},{n:"ox",e:"\u{1F402}",v:[],c:"Nature"},{n:"trumpet",e:"\u{1F3BA}",v:[],c:"Objects"},{n:"hot_pepper",e:"\u{1F336}\uFE0F",v:[],c:"Eat"},{n:"sports_medal",e:"\u{1F3C5}",v:[],c:"Activities"},{n:"flag_ax",e:"\u{1F1E6}\u{1F1FD}",v:[],c:"Flags"},{n:"water_buffalo",e:"\u{1F403}",v:[],c:"Nature"},{n:"no_pedestrians",e:"\u{1F6B7}",v:[],c:"Symbols"},{n:"thinking_face",e:"\u{1F914}",v:[],c:"People"},{n:"house",e:"\u{1F3E0}",v:[],c:"Places"},{n:"no_mobile_phones",e:"\u{1F4F5}",v:[],c:"Symbols"},{n:"flag_az",e:"\u{1F1E6}\u{1F1FF}",v:[],c:"Flags"},{n:"first_place_medal",e:"\u{1F947}",v:[],c:"Activities"},{n:"house_with_garden",e:"\u{1F3E1}",v:[],c:"Places"},{n:"violin",e:"\u{1F3BB}",v:[],c:"Objects"},{n:"face_with_raised_eyebrow",e:"\u{1F928}",v:[],c:"People"},{n:"cucumber",e:"\u{1F952}",v:[],c:"Eat"},{n:"cow2",e:"\u{1F404}",v:[],c:"Nature"},{n:"flag_ba",e:"\u{1F1E7}\u{1F1E6}",v:[],c:"Flags"},{n:"pig",e:"\u{1F437}",v:[],c:"Nature"},{n:"drum_with_drumsticks",e:"\u{1F941}",v:[],c:"Objects"},{n:"underage",e:"\u{1F51E}",v:[],c:"Symbols"},{n:"broccoli",e:"\u{1F966}",v:[],c:"Eat"},{n:"office",e:"\u{1F3E2}",v:[],c:"Places"},{n:"second_place_medal",e:"\u{1F948}",v:[],c:"Activities"},{n:"neutral_face",e:"\u{1F610}",v:[],c:"People"},{n:"third_place_medal",e:"\u{1F949}",v:[],c:"Activities"},{n:"mushroom",e:"\u{1F344}",v:[],c:"Eat"},{n:"flag_bb",e:"\u{1F1E7}\u{1F1E7}",v:[],c:"Flags"},{n:"radioactive_sign",e:"\u2622\uFE0F",v:[],c:"Symbols"},{n:"pig2",e:"\u{1F416}",v:[],c:"Nature"},{n:"expressionless",e:"\u{1F611}",v:[],c:"People"},{n:"iphone",e:"\u{1F4F1}",v:[],c:"Objects"},{n:"post_office",e:"\u{1F3E3}",v:[],c:"Places"},{n:"european_post_office",e:"\u{1F3E4}",v:[],c:"Places"},{n:"soccer",e:"\u26BD",v:[],c:"Activities"},{n:"boar",e:"\u{1F417}",v:[],c:"Nature"},{n:"peanuts",e:"\u{1F95C}",v:[],c:"Eat"},{n:"calling",e:"\u{1F4F2}",v:[],c:"Objects"},{n:"biohazard_sign",e:"\u2623\uFE0F",v:[],c:"Symbols"},{n:"flag_bd",e:"\u{1F1E7}\u{1F1E9}",v:[],c:"Flags"},{n:"no_mouth",e:"\u{1F636}",v:[],c:"People"},{n:"face_with_rolling_eyes",e:"\u{1F644}",v:[],c:"People"},{n:"phone",e:"\u260E\uFE0F",v:[],c:"Objects"},{n:"pig_nose",e:"\u{1F43D}",v:[],c:"Nature"},{n:"chestnut",e:"\u{1F330}",v:[],c:"Eat"},{n:"arrow_up",e:"\u2B06\uFE0F",v:[],c:"Symbols"},{n:"hospital",e:"\u{1F3E5}",v:[],c:"Places"},{n:"flag_be",e:"\u{1F1E7}\u{1F1EA}",v:[],c:"Flags"},{n:"baseball",e:"\u26BE",v:[],c:"Activities"},{n:"smirk",e:"\u{1F60F}",v:[],c:"People"},{n:"arrow_upper_right",e:"\u2197\uFE0F",v:[],c:"Symbols"},{n:"flag_bf",e:"\u{1F1E7}\u{1F1EB}",v:[],c:"Flags"},{n:"basketball",e:"\u{1F3C0}",v:[],c:"Activities"},{n:"ram",e:"\u{1F40F}",v:[],c:"Nature"},{n:"bank",e:"\u{1F3E6}",v:[],c:"Places"},{n:"bread",e:"\u{1F35E}",v:[],c:"Eat"},{n:"telephone_receiver",e:"\u{1F4DE}",v:[],c:"Objects"},{n:"croissant",e:"\u{1F950}",v:[],c:"Eat"},{n:"pager",e:"\u{1F4DF}",v:[],c:"Objects"},{n:"sheep",e:"\u{1F411}",v:[],c:"Nature"},{n:"arrow_right",e:"\u27A1\uFE0F",v:[],c:"Symbols"},{n:"persevere",e:"\u{1F623}",v:[],c:"People"},{n:"flag_bg",e:"\u{1F1E7}\u{1F1EC}",v:[],c:"Flags"},{n:"volleyball",e:"\u{1F3D0}",v:[],c:"Activities"},{n:"hotel",e:"\u{1F3E8}",v:[],c:"Places"},{n:"arrow_lower_right",e:"\u2198\uFE0F",v:[],c:"Symbols"},{n:"goat",e:"\u{1F410}",v:[],c:"Nature"},{n:"flag_bh",e:"\u{1F1E7}\u{1F1ED}",v:[],c:"Flags"},{n:"love_hotel",e:"\u{1F3E9}",v:[],c:"Places"},{n:"disappointed_relieved",e:"\u{1F625}",v:[],c:"People"},{n:"baguette_bread",e:"\u{1F956}",v:[],c:"Eat"},{n:"football",e:"\u{1F3C8}",v:[],c:"Activities"},{n:"fax",e:"\u{1F4E0}",v:[],c:"Objects"},{n:"convenience_store",e:"\u{1F3EA}",v:[],c:"Places"},{n:"dromedary_camel",e:"\u{1F42A}",v:[],c:"Nature"},{n:"arrow_down",e:"\u2B07\uFE0F",v:[],c:"Symbols"},{n:"battery",e:"\u{1F50B}",v:[],c:"Objects"},{n:"rugby_football",e:"\u{1F3C9}",v:[],c:"Activities"},{n:"pretzel",e:"\u{1F968}",v:[],c:"Eat"},{n:"open_mouth",e:"\u{1F62E}",v:[],c:"People"},{n:"flag_bi",e:"\u{1F1E7}\u{1F1EE}",v:[],c:"Flags"},{n:"flag_bj",e:"\u{1F1E7}\u{1F1EF}",v:[],c:"Flags"},{n:"pancakes",e:"\u{1F95E}",v:[],c:"Eat"},{n:"school",e:"\u{1F3EB}",v:[],c:"Places"},{n:"tennis",e:"\u{1F3BE}",v:[],c:"Activities"},{n:"zipper_mouth_face",e:"\u{1F910}",v:[],c:"People"},{n:"camel",e:"\u{1F42B}",v:[],c:"Nature"},{n:"arrow_lower_left",e:"\u2199\uFE0F",v:[],c:"Symbols"},{n:"electric_plug",e:"\u{1F50C}",v:[],c:"Objects"},{n:"cheese_wedge",e:"\u{1F9C0}",v:[],c:"Eat"},{n:"hushed",e:"\u{1F62F}",v:[],c:"People"},{n:"computer",e:"\u{1F4BB}",v:[],c:"Objects"},{n:"giraffe_face",e:"\u{1F992}",v:[],c:"Nature"},{n:"8ball",e:"\u{1F3B1}",v:[],c:"Activities"},{n:"flag_bl",e:"\u{1F1E7}\u{1F1F1}",v:[],c:"Flags"},{n:"arrow_left",e:"\u2B05\uFE0F",v:[],c:"Symbols"},{n:"department_store",e:"\u{1F3EC}",v:[],c:"Places"},{n:"meat_on_bone",e:"\u{1F356}",v:[],c:"Eat"},{n:"arrow_upper_left",e:"\u2196\uFE0F",v:[],c:"Symbols"},{n:"flag_bm",e:"\u{1F1E7}\u{1F1F2}",v:[],c:"Flags"},{n:"sleepy",e:"\u{1F62A}",v:[],c:"People"},{n:"bowling",e:"\u{1F3B3}",v:[],c:"Activities"},{n:"factory",e:"\u{1F3ED}",v:[],c:"Places"},{n:"desktop_computer",e:"\u{1F5A5}\uFE0F",v:[],c:"Objects"},{n:"elephant",e:"\u{1F418}",v:[],c:"Nature"},{n:"rhinoceros",e:"\u{1F98F}",v:[],c:"Nature"},{n:"arrow_up_down",e:"\u2195\uFE0F",v:[],c:"Symbols"},{n:"cricket_bat_and_ball",e:"\u{1F3CF}",v:[],c:"Activities"},{n:"printer",e:"\u{1F5A8}\uFE0F",v:[],c:"Objects"},{n:"poultry_leg",e:"\u{1F357}",v:[],c:"Eat"},{n:"tired_face",e:"\u{1F62B}",v:[],c:"People"},{n:"japanese_castle",e:"\u{1F3EF}",v:[],c:"Places"},{n:"flag_bn",e:"\u{1F1E7}\u{1F1F3}",v:[],c:"Flags"},{n:"field_hockey_stick_and_ball",e:"\u{1F3D1}",v:[],c:"Activities"},{n:"sleeping",e:"\u{1F634}",v:[],c:"People"},{n:"left_right_arrow",e:"\u2194\uFE0F",v:[],c:"Symbols"},{n:"keyboard",e:"\u2328\uFE0F",v:[],c:"Objects"},{n:"european_castle",e:"\u{1F3F0}",v:[],c:"Places"},{n:"mouse",e:"\u{1F42D}",v:[],c:"Nature"},{n:"flag_bo",e:"\u{1F1E7}\u{1F1F4}",v:[],c:"Flags"},{n:"cut_of_meat",e:"\u{1F969}",v:[],c:"Eat"},{n:"ice_hockey_stick_and_puck",e:"\u{1F3D2}",v:[],c:"Activities"},{n:"mouse2",e:"\u{1F401}",v:[],c:"Nature"},{n:"three_button_mouse",e:"\u{1F5B1}\uFE0F",v:[],c:"Objects"},{n:"leftwards_arrow_with_hook",e:"\u21A9\uFE0F",v:[],c:"Symbols"},{n:"bacon",e:"\u{1F953}",v:[],c:"Eat"},{n:"relieved",e:"\u{1F60C}",v:[],c:"People"},{n:"flag_bq",e:"\u{1F1E7}\u{1F1F6}",v:[],c:"Flags"},{n:"wedding",e:"\u{1F492}",v:[],c:"Places"},{n:"tokyo_tower",e:"\u{1F5FC}",v:[],c:"Places"},{n:"arrow_right_hook",e:"\u21AA\uFE0F",v:[],c:"Symbols"},{n:"hamburger",e:"\u{1F354}",v:[],c:"Eat"},{n:"stuck_out_tongue",e:"\u{1F61B}",v:[],c:"People"},{n:"trackball",e:"\u{1F5B2}\uFE0F",v:[],c:"Objects"},{n:"flag_br",e:"\u{1F1E7}\u{1F1F7}",v:[],c:"Flags"},{n:"rat",e:"\u{1F400}",v:[],c:"Nature"},{n:"table_tennis_paddle_and_ball",e:"\u{1F3D3}",v:[],c:"Activities"},{n:"minidisc",e:"\u{1F4BD}",v:[],c:"Objects"},{n:"stuck_out_tongue_winking_eye",e:"\u{1F61C}",v:[],c:"People"},{n:"fries",e:"\u{1F35F}",v:[],c:"Eat"},{n:"badminton_racquet_and_shuttlecock",e:"\u{1F3F8}",v:[],c:"Activities"},{n:"statue_of_liberty",e:"\u{1F5FD}",v:[],c:"Places"},{n:"flag_bs",e:"\u{1F1E7}\u{1F1F8}",v:[],c:"Flags"},{n:"arrow_heading_up",e:"\u2934\uFE0F",v:[],c:"Symbols"},{n:"hamster",e:"\u{1F439}",v:[],c:"Nature"},{n:"stuck_out_tongue_closed_eyes",e:"\u{1F61D}",v:[],c:"People"},{n:"pizza",e:"\u{1F355}",v:[],c:"Eat"},{n:"boxing_glove",e:"\u{1F94A}",v:[],c:"Activities"},{n:"floppy_disk",e:"\u{1F4BE}",v:[],c:"Objects"},{n:"arrow_heading_down",e:"\u2935\uFE0F",v:[],c:"Symbols"},{n:"flag_bt",e:"\u{1F1E7}\u{1F1F9}",v:[],c:"Flags"},{n:"rabbit",e:"\u{1F430}",v:[],c:"Nature"},{n:"church",e:"\u26EA",v:[],c:"Places"},{n:"drooling_face",e:"\u{1F924}",v:[],c:"People"},{n:"flag_bv",e:"\u{1F1E7}\u{1F1FB}",v:[],c:"Flags"},{n:"mosque",e:"\u{1F54C}",v:[],c:"Places"},{n:"rabbit2",e:"\u{1F407}",v:[],c:"Nature"},{n:"hotdog",e:"\u{1F32D}",v:[],c:"Eat"},{n:"martial_arts_uniform",e:"\u{1F94B}",v:[],c:"Activities"},{n:"arrows_clockwise",e:"\u{1F503}",v:[],c:"Symbols"},{n:"cd",e:"\u{1F4BF}",v:[],c:"Objects"},{n:"arrows_counterclockwise",e:"\u{1F504}",v:[],c:"Symbols"},{n:"sandwich",e:"\u{1F96A}",v:[],c:"Eat"},{n:"chipmunk",e:"\u{1F43F}\uFE0F",v:[],c:"Nature"},{n:"synagogue",e:"\u{1F54D}",v:[],c:"Places"},{n:"unamused",e:"\u{1F612}",v:[],c:"People"},{n:"goal_net",e:"\u{1F945}",v:[],c:"Activities"},{n:"flag_bw",e:"\u{1F1E7}\u{1F1FC}",v:[],c:"Flags"},{n:"dvd",e:"\u{1F4C0}",v:[],c:"Objects"},{n:"hedgehog",e:"\u{1F994}",v:[],c:"Nature"},{n:"dart",e:"\u{1F3AF}",v:[],c:"Activities"},{n:"taco",e:"\u{1F32E}",v:[],c:"Eat"},{n:"back",e:"\u{1F519}",v:[],c:"Symbols"},{n:"flag_by",e:"\u{1F1E7}\u{1F1FE}",v:[],c:"Flags"},{n:"shinto_shrine",e:"\u26E9\uFE0F",v:[],c:"Places"},{n:"movie_camera",e:"\u{1F3A5}",v:[],c:"Objects"},{n:"sweat",e:"\u{1F613}",v:[],c:"People"},{n:"burrito",e:"\u{1F32F}",v:[],c:"Eat"},{n:"flag_bz",e:"\u{1F1E7}\u{1F1FF}",v:[],c:"Flags"},{n:"pensive",e:"\u{1F614}",v:[],c:"People"},{n:"kaaba",e:"\u{1F54B}",v:[],c:"Places"},{n:"film_frames",e:"\u{1F39E}\uFE0F",v:[],c:"Objects"},{n:"bat",e:"\u{1F987}",v:[],c:"Nature"},{n:"golf",e:"\u26F3",v:[],c:"Activities"},{n:"end",e:"\u{1F51A}",v:[],c:"Symbols"},{n:"film_projector",e:"\u{1F4FD}\uFE0F",v:[],c:"Objects"},{n:"bear",e:"\u{1F43B}",v:[],c:"Nature"},{n:"ice_skate",e:"\u26F8\uFE0F",v:[],c:"Activities"},{n:"fountain",e:"\u26F2",v:[],c:"Places"},{n:"confused",e:"\u{1F615}",v:[],c:"People"},{n:"flag_ca",e:"\u{1F1E8}\u{1F1E6}",v:[],c:"Flags"},{n:"on",e:"\u{1F51B}",v:[],c:"Symbols"},{n:"stuffed_flatbread",e:"\u{1F959}",v:[],c:"Eat"},{n:"soon",e:"\u{1F51C}",v:[],c:"Symbols"},{n:"upside_down_face",e:"\u{1F643}",v:[],c:"People"},{n:"fishing_pole_and_fish",e:"\u{1F3A3}",v:[],c:"Activities"},{n:"tent",e:"\u26FA",v:[],c:"Places"},{n:"clapper",e:"\u{1F3AC}",v:[],c:"Objects"},{n:"egg",e:"\u{1F95A}",v:[],c:"Eat"},{n:"flag_cc",e:"\u{1F1E8}\u{1F1E8}",v:[],c:"Flags"},{n:"koala",e:"\u{1F428}",v:[],c:"Nature"},{n:"foggy",e:"\u{1F301}",v:[],c:"Places"},{n:"tv",e:"\u{1F4FA}",v:[],c:"Objects"},{n:"panda_face",e:"\u{1F43C}",v:[],c:"Nature"},{n:"fried_egg",e:"\u{1F373}",v:[],c:"Eat"},{n:"top",e:"\u{1F51D}",v:[],c:"Symbols"},{n:"flag_cd",e:"\u{1F1E8}\u{1F1E9}",v:[],c:"Flags"},{n:"money_mouth_face",e:"\u{1F911}",v:[],c:"People"},{n:"running_shirt_with_sash",e:"\u{1F3BD}",v:[],c:"Activities"},{n:"astonished",e:"\u{1F632}",v:[],c:"People"},{n:"feet",e:"\u{1F43E}",v:[],c:"Nature"},{n:"camera",e:"\u{1F4F7}",v:[],c:"Objects"},{n:"flag_cf",e:"\u{1F1E8}\u{1F1EB}",v:[],c:"Flags"},{n:"place_of_worship",e:"\u{1F6D0}",v:[],c:"Symbols"},{n:"night_with_stars",e:"\u{1F303}",v:[],c:"Places"},{n:"ski",e:"\u{1F3BF}",v:[],c:"Activities"},{n:"shallow_pan_of_food",e:"\u{1F958}",v:[],c:"Eat"},{n:"camera_with_flash",e:"\u{1F4F8}",v:[],c:"Objects"},{n:"sunrise_over_mountains",e:"\u{1F304}",v:[],c:"Places"},{n:"turkey",e:"\u{1F983}",v:[],c:"Nature"},{n:"white_frowning_face",e:"\u2639\uFE0F",v:[],c:"People"},{n:"flag_cg",e:"\u{1F1E8}\u{1F1EC}",v:[],c:"Flags"},{n:"stew",e:"\u{1F372}",v:[],c:"Eat"},{n:"sled",e:"\u{1F6F7}",v:[],c:"Activities"},{n:"atom_symbol",e:"\u269B\uFE0F",v:[],c:"Symbols"},{n:"curling_stone",e:"\u{1F94C}",v:[],c:"Activities"},{n:"slightly_frowning_face",e:"\u{1F641}",v:[],c:"People"},{n:"sunrise",e:"\u{1F305}",v:[],c:"Places"},{n:"om_symbol",e:"\u{1F549}\uFE0F",v:[],c:"Symbols"},{n:"chicken",e:"\u{1F414}",v:[],c:"Nature"},{n:"bowl_with_spoon",e:"\u{1F963}",v:[],c:"Eat"},{n:"flag_ch",e:"\u{1F1E8}\u{1F1ED}",v:[],c:"Flags"},{n:"video_camera",e:"\u{1F4F9}",v:[],c:"Objects"},{n:"video_game",e:"\u{1F3AE}",v:[],c:"Activities"},{n:"rooster",e:"\u{1F413}",v:[],c:"Nature"},{n:"vhs",e:"\u{1F4FC}",v:[],c:"Objects"},{n:"city_sunset",e:"\u{1F306}",v:[],c:"Places"},{n:"confounded",e:"\u{1F616}",v:[],c:"People"},{n:"green_salad",e:"\u{1F957}",v:[],c:"Eat"},{n:"star_of_david",e:"\u2721\uFE0F",v:[],c:"Symbols"},{n:"flag_ci",e:"\u{1F1E8}\u{1F1EE}",v:[],c:"Flags"},{n:"popcorn",e:"\u{1F37F}",v:[],c:"Eat"},{n:"city_sunrise",e:"\u{1F307}",v:[],c:"Places"},{n:"disappointed",e:"\u{1F61E}",v:[],c:"People"},{n:"mag",e:"\u{1F50D}",v:[],c:"Objects"},{n:"hatching_chick",e:"\u{1F423}",v:[],c:"Nature"},{n:"joystick",e:"\u{1F579}\uFE0F",v:[],c:"Activities"},{n:"wheel_of_dharma",e:"\u2638\uFE0F",v:[],c:"Symbols"},{n:"flag_ck",e:"\u{1F1E8}\u{1F1F0}",v:[],c:"Flags"},{n:"canned_food",e:"\u{1F96B}",v:[],c:"Eat"},{n:"worried",e:"\u{1F61F}",v:[],c:"People"},{n:"baby_chick",e:"\u{1F424}",v:[],c:"Nature"},{n:"flag_cl",e:"\u{1F1E8}\u{1F1F1}",v:[],c:"Flags"},{n:"game_die",e:"\u{1F3B2}",v:[],c:"Activities"},{n:"mag_right",e:"\u{1F50E}",v:[],c:"Objects"},{n:"yin_yang",e:"\u262F\uFE0F",v:[],c:"Symbols"},{n:"bridge_at_night",e:"\u{1F309}",v:[],c:"Places"},{n:"spades",e:"\u2660\uFE0F",v:[],c:"Activities"},{n:"hatched_chick",e:"\u{1F425}",v:[],c:"Nature"},{n:"flag_cm",e:"\u{1F1E8}\u{1F1F2}",v:[],c:"Flags"},{n:"latin_cross",e:"\u271D\uFE0F",v:[],c:"Symbols"},{n:"triumph",e:"\u{1F624}",v:[],c:"People"},{n:"hotsprings",e:"\u2668\uFE0F",v:[],c:"Places"},{n:"bento",e:"\u{1F371}",v:[],c:"Eat"},{n:"microscope",e:"\u{1F52C}",v:[],c:"Objects"},{n:"cry",e:"\u{1F622}",v:[],c:"People"},{n:"bird",e:"\u{1F426}",v:[],c:"Nature"},{n:"cn",e:"\u{1F1E8}\u{1F1F3}",v:[],c:"Flags"},{n:"telescope",e:"\u{1F52D}",v:[],c:"Objects"},{n:"rice_cracker",e:"\u{1F358}",v:[],c:"Eat"},{n:"hearts",e:"\u2665\uFE0F",v:[],c:"Activities"},{n:"orthodox_cross",e:"\u2626\uFE0F",v:[],c:"Symbols"},{n:"milky_way",e:"\u{1F30C}",v:[],c:"Places"},{n:"rice_ball",e:"\u{1F359}",v:[],c:"Eat"},{n:"satellite_antenna",e:"\u{1F4E1}",v:[],c:"Objects"},{n:"flag_co",e:"\u{1F1E8}\u{1F1F4}",v:[],c:"Flags"},{n:"carousel_horse",e:"\u{1F3A0}",v:[],c:"Places"},{n:"sob",e:"\u{1F62D}",v:[],c:"People"},{n:"diamonds",e:"\u2666\uFE0F",v:[],c:"Activities"},{n:"star_and_crescent",e:"\u262A\uFE0F",v:[],c:"Symbols"},{n:"penguin",e:"\u{1F427}",v:[],c:"Nature"},{n:"dove_of_peace",e:"\u{1F54A}\uFE0F",v:[],c:"Nature"},{n:"flag_cp",e:"\u{1F1E8}\u{1F1F5}",v:[],c:"Flags"},{n:"ferris_wheel",e:"\u{1F3A1}",v:[],c:"Places"},{n:"clubs",e:"\u2663\uFE0F",v:[],c:"Activities"},{n:"peace_symbol",e:"\u262E\uFE0F",v:[],c:"Symbols"},{n:"candle",e:"\u{1F56F}\uFE0F",v:[],c:"Objects"},{n:"frowning",e:"\u{1F626}",v:[],c:"People"},{n:"rice",e:"\u{1F35A}",v:[],c:"Eat"},{n:"flag_cr",e:"\u{1F1E8}\u{1F1F7}",v:[],c:"Flags"},{n:"roller_coaster",e:"\u{1F3A2}",v:[],c:"Places"},{n:"menorah_with_nine_branches",e:"\u{1F54E}",v:[],c:"Symbols"},{n:"black_joker",e:"\u{1F0CF}",v:[],c:"Activities"},{n:"eagle",e:"\u{1F985}",v:[],c:"Nature"},{n:"curry",e:"\u{1F35B}",v:[],c:"Eat"},{n:"bulb",e:"\u{1F4A1}",v:[],c:"Objects"},{n:"anguished",e:"\u{1F627}",v:[],c:"People"},{n:"flag_cu",e:"\u{1F1E8}\u{1F1FA}",v:[],c:"Flags"},{n:"barber",e:"\u{1F488}",v:[],c:"Places"},{n:"duck",e:"\u{1F986}",v:[],c:"Nature"},{n:"six_pointed_star",e:"\u{1F52F}",v:[],c:"Symbols"},{n:"ramen",e:"\u{1F35C}",v:[],c:"Eat"},{n:"flashlight",e:"\u{1F526}",v:[],c:"Objects"},{n:"mahjong",e:"\u{1F004}",v:[],c:"Activities"},{n:"fearful",e:"\u{1F628}",v:[],c:"People"},{n:"aries",e:"\u2648",v:[],c:"Symbols"},{n:"spaghetti",e:"\u{1F35D}",v:[],c:"Eat"},{n:"circus_tent",e:"\u{1F3AA}",v:[],c:"Places"},{n:"izakaya_lantern",e:"\u{1F3EE}",v:[],c:"Objects"},{n:"flag_cv",e:"\u{1F1E8}\u{1F1FB}",v:[],c:"Flags"},{n:"weary",e:"\u{1F629}",v:[],c:"People"},{n:"flower_playing_cards",e:"\u{1F3B4}",v:[],c:"Activities"},{n:"owl",e:"\u{1F989}",v:[],c:"Nature"},{n:"performing_arts",e:"\u{1F3AD}",v:[],c:"Places"},{n:"frog",e:"\u{1F438}",v:[],c:"Nature"},{n:"flag_cw",e:"\u{1F1E8}\u{1F1FC}",v:[],c:"Flags"},{n:"notebook_with_decorative_cover",e:"\u{1F4D4}",v:[],c:"Objects"},{n:"exploding_head",e:"\u{1F92F}",v:[],c:"People"},{n:"taurus",e:"\u2649",v:[],c:"Symbols"},{n:"sweet_potato",e:"\u{1F360}",v:[],c:"Eat"},{n:"closed_book",e:"\u{1F4D5}",v:[],c:"Objects"},{n:"gemini",e:"\u264A",v:[],c:"Symbols"},{n:"frame_with_picture",e:"\u{1F5BC}\uFE0F",v:[],c:"Places"},{n:"flag_cx",e:"\u{1F1E8}\u{1F1FD}",v:[],c:"Flags"},{n:"grimacing",e:"\u{1F62C}",v:[],c:"People"},{n:"crocodile",e:"\u{1F40A}",v:[],c:"Nature"},{n:"oden",e:"\u{1F362}",v:[],c:"Eat"},{n:"flag_cy",e:"\u{1F1E8}\u{1F1FE}",v:[],c:"Flags"},{n:"book",e:"\u{1F4D6}",v:[],c:"Objects"},{n:"turtle",e:"\u{1F422}",v:[],c:"Nature"},{n:"art",e:"\u{1F3A8}",v:[],c:"Places"},{n:"sushi",e:"\u{1F363}",v:[],c:"Eat"},{n:"cold_sweat",e:"\u{1F630}",v:[],c:"People"},{n:"cancer",e:"\u264B",v:[],c:"Symbols"},{n:"fried_shrimp",e:"\u{1F364}",v:[],c:"Eat"},{n:"slot_machine",e:"\u{1F3B0}",v:[],c:"Places"},{n:"scream",e:"\u{1F631}",v:[],c:"People"},{n:"green_book",e:"\u{1F4D7}",v:[],c:"Objects"},{n:"leo",e:"\u264C",v:[],c:"Symbols"},{n:"flag_cz",e:"\u{1F1E8}\u{1F1FF}",v:[],c:"Flags"},{n:"lizard",e:"\u{1F98E}",v:[],c:"Nature"},{n:"virgo",e:"\u264D",v:[],c:"Symbols"},{n:"steam_locomotive",e:"\u{1F682}",v:[],c:"Places"},{n:"de",e:"\u{1F1E9}\u{1F1EA}",v:[],c:"Flags"},{n:"flushed",e:"\u{1F633}",v:[],c:"People"},{n:"blue_book",e:"\u{1F4D8}",v:[],c:"Objects"},{n:"snake",e:"\u{1F40D}",v:[],c:"Nature"},{n:"fish_cake",e:"\u{1F365}",v:[],c:"Eat"},{n:"railway_car",e:"\u{1F683}",v:[],c:"Places"},{n:"dango",e:"\u{1F361}",v:[],c:"Eat"},{n:"orange_book",e:"\u{1F4D9}",v:[],c:"Objects"},{n:"libra",e:"\u264E",v:[],c:"Symbols"},{n:"dragon_face",e:"\u{1F432}",v:[],c:"Nature"},{n:"flag_dg",e:"\u{1F1E9}\u{1F1EC}",v:[],c:"Flags"},{n:"zany_face",e:"\u{1F92A}",v:[],c:"People"},{n:"books",e:"\u{1F4DA}",v:[],c:"Objects"},{n:"dragon",e:"\u{1F409}",v:[],c:"Nature"},{n:"flag_dj",e:"\u{1F1E9}\u{1F1EF}",v:[],c:"Flags"},{n:"dumpling",e:"\u{1F95F}",v:[],c:"Eat"},{n:"dizzy_face",e:"\u{1F635}",v:[],c:"People"},{n:"scorpius",e:"\u264F",v:[],c:"Symbols"},{n:"bullettrain_side",e:"\u{1F684}",v:[],c:"Places"},{n:"bullettrain_front",e:"\u{1F685}",v:[],c:"Places"},{n:"notebook",e:"\u{1F4D3}",v:[],c:"Objects"},{n:"fortune_cookie",e:"\u{1F960}",v:[],c:"Eat"},{n:"sagittarius",e:"\u2650",v:[],c:"Symbols"},{n:"sauropod",e:"\u{1F995}",v:[],c:"Nature"},{n:"flag_dk",e:"\u{1F1E9}\u{1F1F0}",v:[],c:"Flags"},{n:"rage",e:"\u{1F621}",v:[],c:"People"},{n:"ledger",e:"\u{1F4D2}",v:[],c:"Objects"},{n:"angry",e:"\u{1F620}",v:[],c:"People"},{n:"t_rex",e:"\u{1F996}",v:[],c:"Nature"},{n:"capricorn",e:"\u2651",v:[],c:"Symbols"},{n:"takeout_box",e:"\u{1F961}",v:[],c:"Eat"},{n:"flag_dm",e:"\u{1F1E9}\u{1F1F2}",v:[],c:"Flags"},{n:"train2",e:"\u{1F686}",v:[],c:"Places"},{n:"page_with_curl",e:"\u{1F4C3}",v:[],c:"Objects"},{n:"whale",e:"\u{1F433}",v:[],c:"Nature"},{n:"face_with_symbols_on_mouth",e:"\u{1F92C}",v:[],c:"People"},{n:"flag_do",e:"\u{1F1E9}\u{1F1F4}",v:[],c:"Flags"},{n:"metro",e:"\u{1F687}",v:[],c:"Places"},{n:"icecream",e:"\u{1F366}",v:[],c:"Eat"},{n:"aquarius",e:"\u2652",v:[],c:"Symbols"},{n:"flag_dz",e:"\u{1F1E9}\u{1F1FF}",v:[],c:"Flags"},{n:"whale2",e:"\u{1F40B}",v:[],c:"Nature"},{n:"mask",e:"\u{1F637}",v:[],c:"People"},{n:"scroll",e:"\u{1F4DC}",v:[],c:"Objects"},{n:"shaved_ice",e:"\u{1F367}",v:[],c:"Eat"},{n:"pisces",e:"\u2653",v:[],c:"Symbols"},{n:"light_rail",e:"\u{1F688}",v:[],c:"Places"},{n:"dolphin",e:"\u{1F42C}",v:[],c:"Nature"},{n:"face_with_thermometer",e:"\u{1F912}",v:[],c:"People"},{n:"flag_ea",e:"\u{1F1EA}\u{1F1E6}",v:[],c:"Flags"},{n:"ophiuchus",e:"\u26CE",v:[],c:"Symbols"},{n:"station",e:"\u{1F689}",v:[],c:"Places"},{n:"ice_cream",e:"\u{1F368}",v:[],c:"Eat"},{n:"page_facing_up",e:"\u{1F4C4}",v:[],c:"Objects"},{n:"doughnut",e:"\u{1F369}",v:[],c:"Eat"},{n:"face_with_head_bandage",e:"\u{1F915}",v:[],c:"People"},{n:"fish",e:"\u{1F41F}",v:[],c:"Nature"},{n:"newspaper",e:"\u{1F4F0}",v:[],c:"Objects"},{n:"tram",e:"\u{1F68A}",v:[],c:"Places"},{n:"flag_ec",e:"\u{1F1EA}\u{1F1E8}",v:[],c:"Flags"},{n:"twisted_rightwards_arrows",e:"\u{1F500}",v:[],c:"Symbols"},{n:"flag_ee",e:"\u{1F1EA}\u{1F1EA}",v:[],c:"Flags"},{n:"cookie",e:"\u{1F36A}",v:[],c:"Eat"},{n:"monorail",e:"\u{1F69D}",v:[],c:"Places"},{n:"tropical_fish",e:"\u{1F420}",v:[],c:"Nature"},{n:"rolled_up_newspaper",e:"\u{1F5DE}\uFE0F",v:[],c:"Objects"},{n:"nauseated_face",e:"\u{1F922}",v:[],c:"People"},{n:"repeat",e:"\u{1F501}",v:[],c:"Symbols"},{n:"bookmark_tabs",e:"\u{1F4D1}",v:[],c:"Objects"},{n:"repeat_one",e:"\u{1F502}",v:[],c:"Symbols"},{n:"flag_eg",e:"\u{1F1EA}\u{1F1EC}",v:[],c:"Flags"},{n:"mountain_railway",e:"\u{1F69E}",v:[],c:"Places"},{n:"birthday",e:"\u{1F382}",v:[],c:"Eat"},{n:"blowfish",e:"\u{1F421}",v:[],c:"Nature"},{n:"face_vomiting",e:"\u{1F92E}",v:[],c:"People"},{n:"arrow_forward",e:"\u25B6\uFE0F",v:[],c:"Symbols"},{n:"bookmark",e:"\u{1F516}",v:[],c:"Objects"},{n:"flag_eh",e:"\u{1F1EA}\u{1F1ED}",v:[],c:"Flags"},{n:"shark",e:"\u{1F988}",v:[],c:"Nature"},{n:"train",e:"\u{1F68B}",v:[],c:"Places"},{n:"sneezing_face",e:"\u{1F927}",v:[],c:"People"},{n:"cake",e:"\u{1F370}",v:[],c:"Eat"},{n:"bus",e:"\u{1F68C}",v:[],c:"Places"},{n:"pie",e:"\u{1F967}",v:[],c:"Eat"},{n:"innocent",e:"\u{1F607}",v:[],c:"People"},{n:"fast_forward",e:"\u23E9",v:[],c:"Symbols"},{n:"label",e:"\u{1F3F7}\uFE0F",v:[],c:"Objects"},{n:"octopus",e:"\u{1F419}",v:[],c:"Nature"},{n:"flag_er",e:"\u{1F1EA}\u{1F1F7}",v:[],c:"Flags"},{n:"black_right_pointing_double_triangle_with_vertical_bar",e:"\u23ED\uFE0F",v:[],c:"Symbols"},{n:"chocolate_bar",e:"\u{1F36B}",v:[],c:"Eat"},{n:"oncoming_bus",e:"\u{1F68D}",v:[],c:"Places"},{n:"shell",e:"\u{1F41A}",v:[],c:"Nature"},{n:"face_with_cowboy_hat",e:"\u{1F920}",v:[],c:"People"},{n:"moneybag",e:"\u{1F4B0}",v:[],c:"Objects"},{n:"es",e:"\u{1F1EA}\u{1F1F8}",v:[],c:"Flags"},{n:"crab",e:"\u{1F980}",v:[],c:"Nature"},{n:"yen",e:"\u{1F4B4}",v:[],c:"Objects"},{n:"flag_et",e:"\u{1F1EA}\u{1F1F9}",v:[],c:"Flags"},{n:"clown_face",e:"\u{1F921}",v:[],c:"People"},{n:"black_right_pointing_triangle_with_double_vertical_bar",e:"\u23EF\uFE0F",v:[],c:"Symbols"},{n:"trolleybus",e:"\u{1F68E}",v:[],c:"Places"},{n:"candy",e:"\u{1F36C}",v:[],c:"Eat"},{n:"lying_face",e:"\u{1F925}",v:[],c:"People"},{n:"arrow_backward",e:"\u25C0\uFE0F",v:[],c:"Symbols"},{n:"dollar",e:"\u{1F4B5}",v:[],c:"Objects"},{n:"shrimp",e:"\u{1F990}",v:[],c:"Nature"},{n:"minibus",e:"\u{1F690}",v:[],c:"Places"},{n:"flag_eu",e:"\u{1F1EA}\u{1F1FA}",v:[],c:"Flags"},{n:"lollipop",e:"\u{1F36D}",v:[],c:"Eat"},{n:"squid",e:"\u{1F991}",v:[],c:"Nature"},{n:"euro",e:"\u{1F4B6}",v:[],c:"Objects"},{n:"flag_fi",e:"\u{1F1EB}\u{1F1EE}",v:[],c:"Flags"},{n:"ambulance",e:"\u{1F691}",v:[],c:"Places"},{n:"custard",e:"\u{1F36E}",v:[],c:"Eat"},{n:"shushing_face",e:"\u{1F92B}",v:[],c:"People"},{n:"rewind",e:"\u23EA",v:[],c:"Symbols"},{n:"black_left_pointing_double_triangle_with_vertical_bar",e:"\u23EE\uFE0F",v:[],c:"Symbols"},{n:"face_with_hand_over_mouth",e:"\u{1F92D}",v:[],c:"People"},{n:"flag_fj",e:"\u{1F1EB}\u{1F1EF}",v:[],c:"Flags"},{n:"honey_pot",e:"\u{1F36F}",v:[],c:"Eat"},{n:"snail",e:"\u{1F40C}",v:[],c:"Nature"},{n:"pound",e:"\u{1F4B7}",v:[],c:"Objects"},{n:"fire_engine",e:"\u{1F692}",v:[],c:"Places"},{n:"baby_bottle",e:"\u{1F37C}",v:[],c:"Eat"},{n:"flag_fk",e:"\u{1F1EB}\u{1F1F0}",v:[],c:"Flags"},{n:"butterfly",e:"\u{1F98B}",v:[],c:"Nature"},{n:"money_with_wings",e:"\u{1F4B8}",v:[],c:"Objects"},{n:"face_with_monocle",e:"\u{1F9D0}",v:[],c:"People"},{n:"police_car",e:"\u{1F693}",v:[],c:"Places"},{n:"arrow_up_small",e:"\u{1F53C}",v:[],c:"Symbols"},{n:"flag_fm",e:"\u{1F1EB}\u{1F1F2}",v:[],c:"Flags"},{n:"glass_of_milk",e:"\u{1F95B}",v:[],c:"Eat"},{n:"credit_card",e:"\u{1F4B3}",v:[],c:"Objects"},{n:"oncoming_police_car",e:"\u{1F694}",v:[],c:"Places"},{n:"bug",e:"\u{1F41B}",v:[],c:"Nature"},{n:"nerd_face",e:"\u{1F913}",v:[],c:"People"},{n:"arrow_double_up",e:"\u23EB",v:[],c:"Symbols"},{n:"chart",e:"\u{1F4B9}",v:[],c:"Objects"},{n:"flag_fo",e:"\u{1F1EB}\u{1F1F4}",v:[],c:"Flags"},{n:"ant",e:"\u{1F41C}",v:[],c:"Nature"},{n:"arrow_down_small",e:"\u{1F53D}",v:[],c:"Symbols"},{n:"smiling_imp",e:"\u{1F608}",v:[],c:"People"},{n:"taxi",e:"\u{1F695}",v:[],c:"Places"},{n:"coffee",e:"\u2615",v:[],c:"Eat"},{n:"fr",e:"\u{1F1EB}\u{1F1F7}",v:[],c:"Flags"},{n:"oncoming_taxi",e:"\u{1F696}",v:[],c:"Places"},{n:"arrow_double_down",e:"\u23EC",v:[],c:"Symbols"},{n:"imp",e:"\u{1F47F}",v:[],c:"People"},{n:"currency_exchange",e:"\u{1F4B1}",v:[],c:"Objects"},{n:"tea",e:"\u{1F375}",v:[],c:"Eat"},{n:"bee",e:"\u{1F41D}",v:[],c:"Nature"},{n:"heavy_dollar_sign",e:"\u{1F4B2}",v:[],c:"Objects"},{n:"car",e:"\u{1F697}",v:[],c:"Places"},{n:"sake",e:"\u{1F376}",v:[],c:"Eat"},{n:"flag_ga",e:"\u{1F1EC}\u{1F1E6}",v:[],c:"Flags"},{n:"beetle",e:"\u{1F41E}",v:[],c:"Nature"},{n:"japanese_ogre",e:"\u{1F479}",v:[],c:"People"},{n:"double_vertical_bar",e:"\u23F8\uFE0F",v:[],c:"Symbols"},{n:"champagne",e:"\u{1F37E}",v:[],c:"Eat"},{n:"japanese_goblin",e:"\u{1F47A}",v:[],c:"People"},{n:"black_square_for_stop",e:"\u23F9\uFE0F",v:[],c:"Symbols"},{n:"oncoming_automobile",e:"\u{1F698}",v:[],c:"Places"},{n:"email",e:"\u2709\uFE0F",v:[],c:"Objects"},{n:"cricket",e:"\u{1F997}",v:[],c:"Nature"},{n:"gb",e:"\u{1F1EC}\u{1F1E7}",v:[],c:"Flags"},{n:"black_circle_for_record",e:"\u23FA\uFE0F",v:[],c:"Symbols"},{n:"flag_gd",e:"\u{1F1EC}\u{1F1E9}",v:[],c:"Flags"},{n:"spider",e:"\u{1F577}\uFE0F",v:[],c:"Nature"},{n:"blue_car",e:"\u{1F699}",v:[],c:"Places"},{n:"skull",e:"\u{1F480}",v:[],c:"People"},{n:"e_mail",e:"\u{1F4E7}",v:[],c:"Objects"},{n:"wine_glass",e:"\u{1F377}",v:[],c:"Eat"},{n:"spider_web",e:"\u{1F578}\uFE0F",v:[],c:"Nature"},{n:"cocktail",e:"\u{1F378}",v:[],c:"Eat"},{n:"skull_and_crossbones",e:"\u2620\uFE0F",v:[],c:"People"},{n:"flag_ge",e:"\u{1F1EC}\u{1F1EA}",v:[],c:"Flags"},{n:"eject",e:"\u23CF\uFE0F",v:[],c:"Symbols"},{n:"truck",e:"\u{1F69A}",v:[],c:"Places"},{n:"incoming_envelope",e:"\u{1F4E8}",v:[],c:"Objects"},{n:"tropical_drink",e:"\u{1F379}",v:[],c:"Eat"},{n:"scorpion",e:"\u{1F982}",v:[],c:"Nature"},{n:"cinema",e:"\u{1F3A6}",v:[],c:"Symbols"},{n:"articulated_lorry",e:"\u{1F69B}",v:[],c:"Places"},{n:"envelope_with_arrow",e:"\u{1F4E9}",v:[],c:"Objects"},{n:"ghost",e:"\u{1F47B}",v:[],c:"People"},{n:"flag_gf",e:"\u{1F1EC}\u{1F1EB}",v:[],c:"Flags"},{n:"bouquet",e:"\u{1F490}",v:[],c:"Nature"},{n:"tractor",e:"\u{1F69C}",v:[],c:"Places"},{n:"beer",e:"\u{1F37A}",v:[],c:"Eat"},{n:"outbox_tray",e:"\u{1F4E4}",v:[],c:"Objects"},{n:"low_brightness",e:"\u{1F505}",v:[],c:"Symbols"},{n:"alien",e:"\u{1F47D}",v:[],c:"People"},{n:"flag_gg",e:"\u{1F1EC}\u{1F1EC}",v:[],c:"Flags"},{n:"cherry_blossom",e:"\u{1F338}",v:[],c:"Nature"},{n:"inbox_tray",e:"\u{1F4E5}",v:[],c:"Objects"},{n:"flag_gh",e:"\u{1F1EC}\u{1F1ED}",v:[],c:"Flags"},{n:"bike",e:"\u{1F6B2}",v:[],c:"Places"},{n:"space_invader",e:"\u{1F47E}",v:[],c:"People"},{n:"beers",e:"\u{1F37B}",v:[],c:"Eat"},{n:"high_brightness",e:"\u{1F506}",v:[],c:"Symbols"},{n:"package",e:"\u{1F4E6}",v:[],c:"Objects"},{n:"scooter",e:"\u{1F6F4}",v:[],c:"Places"},{n:"white_flower",e:"\u{1F4AE}",v:[],c:"Nature"},{n:"clinking_glasses",e:"\u{1F942}",v:[],c:"Eat"},{n:"robot_face",e:"\u{1F916}",v:[],c:"People"},{n:"signal_strength",e:"\u{1F4F6}",v:[],c:"Symbols"},{n:"flag_gi",e:"\u{1F1EC}\u{1F1EE}",v:[],c:"Flags"},{n:"flag_gl",e:"\u{1F1EC}\u{1F1F1}",v:[],c:"Flags"},{n:"motor_scooter",e:"\u{1F6F5}",v:[],c:"Places"},{n:"mailbox",e:"\u{1F4EB}",v:[],c:"Objects"},{n:"vibration_mode",e:"\u{1F4F3}",v:[],c:"Symbols"},{n:"hankey",e:"\u{1F4A9}",v:[],c:"People"},{n:"rosette",e:"\u{1F3F5}\uFE0F",v:[],c:"Nature"},{n:"tumbler_glass",e:"\u{1F943}",v:[],c:"Eat"},{n:"cup_with_straw",e:"\u{1F964}",v:[],c:"Eat"},{n:"flag_gm",e:"\u{1F1EC}\u{1F1F2}",v:[],c:"Flags"},{n:"mailbox_closed",e:"\u{1F4EA}",v:[],c:"Objects"},{n:"mobile_phone_off",e:"\u{1F4F4}",v:[],c:"Symbols"},{n:"busstop",e:"\u{1F68F}",v:[],c:"Places"},{n:"smiley_cat",e:"\u{1F63A}",v:[],c:"People"},{n:"rose",e:"\u{1F339}",v:[],c:"Nature"},{n:"motorway",e:"\u{1F6E3}\uFE0F",v:[],c:"Places"},{n:"smile_cat",e:"\u{1F638}",v:[],c:"People"},{n:"flag_gn",e:"\u{1F1EC}\u{1F1F3}",v:[],c:"Flags"},{n:"wilted_flower",e:"\u{1F940}",v:[],c:"Nature"},{n:"mailbox_with_mail",e:"\u{1F4EC}",v:[],c:"Objects"},{n:"chopsticks",e:"\u{1F962}",v:[],c:"Eat"},{n:"female_sign",e:"\u2640\uFE0F",v:[],c:"Symbols"},{n:"mailbox_with_no_mail",e:"\u{1F4ED}",v:[],c:"Objects"},{n:"knife_fork_plate",e:"\u{1F37D}\uFE0F",v:[],c:"Eat"},{n:"hibiscus",e:"\u{1F33A}",v:[],c:"Nature"},{n:"flag_gp",e:"\u{1F1EC}\u{1F1F5}",v:[],c:"Flags"},{n:"railway_track",e:"\u{1F6E4}\uFE0F",v:[],c:"Places"},{n:"male_sign",e:"\u2642\uFE0F",v:[],c:"Symbols"},{n:"joy_cat",e:"\u{1F639}",v:[],c:"People"},{n:"fuelpump",e:"\u26FD",v:[],c:"Places"},{n:"sunflower",e:"\u{1F33B}",v:[],c:"Nature"},{n:"postbox",e:"\u{1F4EE}",v:[],c:"Objects"},{n:"flag_gq",e:"\u{1F1EC}\u{1F1F6}",v:[],c:"Flags"},{n:"heart_eyes_cat",e:"\u{1F63B}",v:[],c:"People"},{n:"fork_and_knife",e:"\u{1F374}",v:[],c:"Eat"},{n:"medical_symbol",e:"\u2695\uFE0F",v:[],c:"Symbols"},{n:"recycle",e:"\u267B\uFE0F",v:[],c:"Symbols"},{n:"spoon",e:"\u{1F944}",v:[],c:"Eat"},{n:"blossom",e:"\u{1F33C}",v:[],c:"Nature"},{n:"rotating_light",e:"\u{1F6A8}",v:[],c:"Places"},{n:"smirk_cat",e:"\u{1F63C}",v:[],c:"People"},{n:"ballot_box_with_ballot",e:"\u{1F5F3}\uFE0F",v:[],c:"Objects"},{n:"flag_gr",e:"\u{1F1EC}\u{1F1F7}",v:[],c:"Flags"},{n:"kissing_cat",e:"\u{1F63D}",v:[],c:"People"},{n:"pencil2",e:"\u270F\uFE0F",v:[],c:"Objects"},{n:"traffic_light",e:"\u{1F6A5}",v:[],c:"Places"},{n:"fleur_de_lis",e:"\u269C\uFE0F",v:[],c:"Symbols"},{n:"tulip",e:"\u{1F337}",v:[],c:"Nature"},{n:"hocho",e:"\u{1F52A}",v:[],c:"Eat"},{n:"flag_gs",e:"\u{1F1EC}\u{1F1F8}",v:[],c:"Flags"},{n:"seedling",e:"\u{1F331}",v:[],c:"Nature"},{n:"amphora",e:"\u{1F3FA}",v:[],c:"Eat"},{n:"scream_cat",e:"\u{1F640}",v:[],c:"People"},{n:"vertical_traffic_light",e:"\u{1F6A6}",v:[],c:"Places"},{n:"black_nib",e:"\u2712\uFE0F",v:[],c:"Objects"},{n:"flag_gt",e:"\u{1F1EC}\u{1F1F9}",v:[],c:"Flags"},{n:"trident",e:"\u{1F531}",v:[],c:"Symbols"},{n:"flag_gu",e:"\u{1F1EC}\u{1F1FA}",v:[],c:"Flags"},{n:"name_badge",e:"\u{1F4DB}",v:[],c:"Symbols"},{n:"construction",e:"\u{1F6A7}",v:[],c:"Places"},{n:"lower_left_fountain_pen",e:"\u{1F58B}\uFE0F",v:[],c:"Objects"},{n:"evergreen_tree",e:"\u{1F332}",v:[],c:"Nature"},{n:"crying_cat_face",e:"\u{1F63F}",v:[],c:"People"},{n:"flag_gw",e:"\u{1F1EC}\u{1F1FC}",v:[],c:"Flags"},{n:"lower_left_ballpoint_pen",e:"\u{1F58A}\uFE0F",v:[],c:"Objects"},{n:"pouting_cat",e:"\u{1F63E}",v:[],c:"People"},{n:"deciduous_tree",e:"\u{1F333}",v:[],c:"Nature"},{n:"octagonal_sign",e:"\u{1F6D1}",v:[],c:"Places"},{n:"beginner",e:"\u{1F530}",v:[],c:"Symbols"},{n:"flag_gy",e:"\u{1F1EC}\u{1F1FE}",v:[],c:"Flags"},{n:"lower_left_paintbrush",e:"\u{1F58C}\uFE0F",v:[],c:"Objects"},{n:"o",e:"\u2B55",v:[],c:"Symbols"},{n:"palm_tree",e:"\u{1F334}",v:[],c:"Nature"},{n:"anchor",e:"\u2693",v:[],c:"Places"},{n:"see_no_evil",e:"\u{1F648}",v:[],c:"People"},{n:"boat",e:"\u26F5",v:[],c:"Places"},{n:"white_check_mark",e:"\u2705",v:[],c:"Symbols"},{n:"flag_hk",e:"\u{1F1ED}\u{1F1F0}",v:[],c:"Flags"},{n:"lower_left_crayon",e:"\u{1F58D}\uFE0F",v:[],c:"Objects"},{n:"hear_no_evil",e:"\u{1F649}",v:[],c:"People"},{n:"cactus",e:"\u{1F335}",v:[],c:"Nature"},{n:"ear_of_rice",e:"\u{1F33E}",v:[],c:"Nature"},{n:"speak_no_evil",e:"\u{1F64A}",v:[],c:"People"},{n:"flag_hm",e:"\u{1F1ED}\u{1F1F2}",v:[],c:"Flags"},{n:"ballot_box_with_check",e:"\u2611\uFE0F",v:[],c:"Symbols"},{n:"canoe",e:"\u{1F6F6}",v:[],c:"Places"},{n:"memo",e:"\u{1F4DD}",v:[],c:"Objects"},{n:"herb",e:"\u{1F33F}",v:[],c:"Nature"},{n:"flag_hn",e:"\u{1F1ED}\u{1F1F3}",v:[],c:"Flags"},{n:"heavy_check_mark",e:"\u2714\uFE0F",v:[],c:"Symbols"},{n:"briefcase",e:"\u{1F4BC}",v:[],c:"Objects"},{n:"speedboat",e:"\u{1F6A4}",v:[],c:"Places"},{n:"baby",e:"\u{1F476}",v:["\u{1F476}\u{1F3FB}","\u{1F476}\u{1F3FC}","\u{1F476}\u{1F3FD}","\u{1F476}\u{1F3FE}","\u{1F476}\u{1F3FF}"],c:"People"},{n:"heavy_multiplication_x",e:"\u2716\uFE0F",v:[],c:"Symbols"},{n:"child",e:"\u{1F9D2}",v:["\u{1F9D2}\u{1F3FB}","\u{1F9D2}\u{1F3FC}","\u{1F9D2}\u{1F3FD}","\u{1F9D2}\u{1F3FE}","\u{1F9D2}\u{1F3FF}"],c:"People"},{n:"shamrock",e:"\u2618\uFE0F",v:[],c:"Nature"},{n:"passenger_ship",e:"\u{1F6F3}\uFE0F",v:[],c:"Places"},{n:"flag_hr",e:"\u{1F1ED}\u{1F1F7}",v:[],c:"Flags"},{n:"file_folder",e:"\u{1F4C1}",v:[],c:"Objects"},{n:"x",e:"\u274C",v:[],c:"Symbols"},{n:"four_leaf_clover",e:"\u{1F340}",v:[],c:"Nature"},{n:"open_file_folder",e:"\u{1F4C2}",v:[],c:"Objects"},{n:"boy",e:"\u{1F466}",v:["\u{1F466}\u{1F3FB}","\u{1F466}\u{1F3FC}","\u{1F466}\u{1F3FD}","\u{1F466}\u{1F3FE}","\u{1F466}\u{1F3FF}"],c:"People"},{n:"ferry",e:"\u26F4\uFE0F",v:[],c:"Places"},{n:"flag_ht",e:"\u{1F1ED}\u{1F1F9}",v:[],c:"Flags"},{n:"girl",e:"\u{1F467}",v:["\u{1F467}\u{1F3FB}","\u{1F467}\u{1F3FC}","\u{1F467}\u{1F3FD}","\u{1F467}\u{1F3FE}","\u{1F467}\u{1F3FF}"],c:"People"},{n:"negative_squared_cross_mark",e:"\u274E",v:[],c:"Symbols"},{n:"flag_hu",e:"\u{1F1ED}\u{1F1FA}",v:[],c:"Flags"},{n:"card_index_dividers",e:"\u{1F5C2}\uFE0F",v:[],c:"Objects"},{n:"maple_leaf",e:"\u{1F341}",v:[],c:"Nature"},{n:"motor_boat",e:"\u{1F6E5}\uFE0F",v:[],c:"Places"},{n:"flag_ic",e:"\u{1F1EE}\u{1F1E8}",v:[],c:"Flags"},{n:"fallen_leaf",e:"\u{1F342}",v:[],c:"Nature"},{n:"adult",e:"\u{1F9D1}",v:["\u{1F9D1}\u{1F3FB}","\u{1F9D1}\u{1F3FC}","\u{1F9D1}\u{1F3FD}","\u{1F9D1}\u{1F3FE}","\u{1F9D1}\u{1F3FF}"],c:"People"},{n:"ship",e:"\u{1F6A2}",v:[],c:"Places"},{n:"heavy_plus_sign",e:"\u2795",v:[],c:"Symbols"},{n:"date",e:"\u{1F4C5}",v:[],c:"Objects"},{n:"man",e:"\u{1F468}",v:["\u{1F468}\u{1F3FB}","\u{1F468}\u{1F3FC}","\u{1F468}\u{1F3FD}","\u{1F468}\u{1F3FE}","\u{1F468}\u{1F3FF}"],c:"People"},{n:"flag_id",e:"\u{1F1EE}\u{1F1E9}",v:[],c:"Flags"},{n:"leaves",e:"\u{1F343}",v:[],c:"Nature"},{n:"heavy_minus_sign",e:"\u2796",v:[],c:"Symbols"},{n:"calendar",e:"\u{1F4C6}",v:[],c:"Objects"},{n:"airplane",e:"\u2708\uFE0F",v:[],c:"Places"},{n:"spiral_note_pad",e:"\u{1F5D2}\uFE0F",v:[],c:"Objects"},{n:"heavy_division_sign",e:"\u2797",v:[],c:"Symbols"},{n:"small_airplane",e:"\u{1F6E9}\uFE0F",v:[],c:"Places"},{n:"woman",e:"\u{1F469}",v:["\u{1F469}\u{1F3FB}","\u{1F469}\u{1F3FC}","\u{1F469}\u{1F3FD}","\u{1F469}\u{1F3FE}","\u{1F469}\u{1F3FF}"],c:"People"},{n:"flag_ie",e:"\u{1F1EE}\u{1F1EA}",v:[],c:"Flags"},{n:"curly_loop",e:"\u27B0",v:[],c:"Symbols"},{n:"flag_il",e:"\u{1F1EE}\u{1F1F1}",v:[],c:"Flags"},{n:"airplane_departure",e:"\u{1F6EB}",v:[],c:"Places"},{n:"spiral_calendar_pad",e:"\u{1F5D3}\uFE0F",v:[],c:"Objects"},{n:"older_adult",e:"\u{1F9D3}",v:["\u{1F9D3}\u{1F3FB}","\u{1F9D3}\u{1F3FC}","\u{1F9D3}\u{1F3FD}","\u{1F9D3}\u{1F3FE}","\u{1F9D3}\u{1F3FF}"],c:"People"},{n:"airplane_arriving",e:"\u{1F6EC}",v:[],c:"Places"},{n:"card_index",e:"\u{1F4C7}",v:[],c:"Objects"},{n:"loop",e:"\u27BF",v:[],c:"Symbols"},{n:"older_man",e:"\u{1F474}",v:["\u{1F474}\u{1F3FB}","\u{1F474}\u{1F3FC}","\u{1F474}\u{1F3FD}","\u{1F474}\u{1F3FE}","\u{1F474}\u{1F3FF}"],c:"People"},{n:"flag_im",e:"\u{1F1EE}\u{1F1F2}",v:[],c:"Flags"},{n:"flag_in",e:"\u{1F1EE}\u{1F1F3}",v:[],c:"Flags"},{n:"chart_with_upwards_trend",e:"\u{1F4C8}",v:[],c:"Objects"},{n:"part_alternation_mark",e:"\u303D\uFE0F",v:[],c:"Symbols"},{n:"seat",e:"\u{1F4BA}",v:[],c:"Places"},{n:"older_woman",e:"\u{1F475}",v:["\u{1F475}\u{1F3FB}","\u{1F475}\u{1F3FC}","\u{1F475}\u{1F3FD}","\u{1F475}\u{1F3FE}","\u{1F475}\u{1F3FF}"],c:"People"},{n:"eight_spoked_asterisk",e:"\u2733\uFE0F",v:[],c:"Symbols"},{n:"chart_with_downwards_trend",e:"\u{1F4C9}",v:[],c:"Objects"},{n:"flag_io",e:"\u{1F1EE}\u{1F1F4}",v:[],c:"Flags"},{n:"male_doctor",e:"\u{1F468}\u200D\u2695\uFE0F",v:["\u{1F468}\u{1F3FB}\u200D\u2695\uFE0F","\u{1F468}\u{1F3FC}\u200D\u2695\uFE0F","\u{1F468}\u{1F3FD}\u200D\u2695\uFE0F","\u{1F468}\u{1F3FE}\u200D\u2695\uFE0F","\u{1F468}\u{1F3FF}\u200D\u2695\uFE0F"],c:"People"},{n:"helicopter",e:"\u{1F681}",v:[],c:"Places"},{n:"female_doctor",e:"\u{1F469}\u200D\u2695\uFE0F",v:["\u{1F469}\u{1F3FB}\u200D\u2695\uFE0F","\u{1F469}\u{1F3FC}\u200D\u2695\uFE0F","\u{1F469}\u{1F3FD}\u200D\u2695\uFE0F","\u{1F469}\u{1F3FE}\u200D\u2695\uFE0F","\u{1F469}\u{1F3FF}\u200D\u2695\uFE0F"],c:"People"},{n:"suspension_railway",e:"\u{1F69F}",v:[],c:"Places"},{n:"bar_chart",e:"\u{1F4CA}",v:[],c:"Objects"},{n:"flag_iq",e:"\u{1F1EE}\u{1F1F6}",v:[],c:"Flags"},{n:"eight_pointed_black_star",e:"\u2734\uFE0F",v:[],c:"Symbols"},{n:"mountain_cableway",e:"\u{1F6A0}",v:[],c:"Places"},{n:"male_student",e:"\u{1F468}\u200D\u{1F393}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F393}","\u{1F468}\u{1F3FC}\u200D\u{1F393}","\u{1F468}\u{1F3FD}\u200D\u{1F393}","\u{1F468}\u{1F3FE}\u200D\u{1F393}","\u{1F468}\u{1F3FF}\u200D\u{1F393}"],c:"People"},{n:"clipboard",e:"\u{1F4CB}",v:[],c:"Objects"},{n:"flag_ir",e:"\u{1F1EE}\u{1F1F7}",v:[],c:"Flags"},{n:"sparkle",e:"\u2747\uFE0F",v:[],c:"Symbols"},{n:"female_student",e:"\u{1F469}\u200D\u{1F393}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F393}","\u{1F469}\u{1F3FC}\u200D\u{1F393}","\u{1F469}\u{1F3FD}\u200D\u{1F393}","\u{1F469}\u{1F3FE}\u200D\u{1F393}","\u{1F469}\u{1F3FF}\u200D\u{1F393}"],c:"People"},{n:"pushpin",e:"\u{1F4CC}",v:[],c:"Objects"},{n:"aerial_tramway",e:"\u{1F6A1}",v:[],c:"Places"},{n:"flag_is",e:"\u{1F1EE}\u{1F1F8}",v:[],c:"Flags"},{n:"bangbang",e:"\u203C\uFE0F",v:[],c:"Symbols"},{n:"interrobang",e:"\u2049\uFE0F",v:[],c:"Symbols"},{n:"satellite",e:"\u{1F6F0}\uFE0F",v:[],c:"Places"},{n:"it",e:"\u{1F1EE}\u{1F1F9}",v:[],c:"Flags"},{n:"male_teacher",e:"\u{1F468}\u200D\u{1F3EB}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F3EB}","\u{1F468}\u{1F3FC}\u200D\u{1F3EB}","\u{1F468}\u{1F3FD}\u200D\u{1F3EB}","\u{1F468}\u{1F3FE}\u200D\u{1F3EB}","\u{1F468}\u{1F3FF}\u200D\u{1F3EB}"],c:"People"},{n:"round_pushpin",e:"\u{1F4CD}",v:[],c:"Objects"},{n:"flag_je",e:"\u{1F1EF}\u{1F1EA}",v:[],c:"Flags"},{n:"question",e:"\u2753",v:[],c:"Symbols"},{n:"rocket",e:"\u{1F680}",v:[],c:"Places"},{n:"female_teacher",e:"\u{1F469}\u200D\u{1F3EB}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F3EB}","\u{1F469}\u{1F3FC}\u200D\u{1F3EB}","\u{1F469}\u{1F3FD}\u200D\u{1F3EB}","\u{1F469}\u{1F3FE}\u200D\u{1F3EB}","\u{1F469}\u{1F3FF}\u200D\u{1F3EB}"],c:"People"},{n:"paperclip",e:"\u{1F4CE}",v:[],c:"Objects"},{n:"linked_paperclips",e:"\u{1F587}\uFE0F",v:[],c:"Objects"},{n:"flying_saucer",e:"\u{1F6F8}",v:[],c:"Places"},{n:"male_judge",e:"\u{1F468}\u200D\u2696\uFE0F",v:["\u{1F468}\u{1F3FB}\u200D\u2696\uFE0F","\u{1F468}\u{1F3FC}\u200D\u2696\uFE0F","\u{1F468}\u{1F3FD}\u200D\u2696\uFE0F","\u{1F468}\u{1F3FE}\u200D\u2696\uFE0F","\u{1F468}\u{1F3FF}\u200D\u2696\uFE0F"],c:"People"},{n:"grey_question",e:"\u2754",v:[],c:"Symbols"},{n:"flag_jm",e:"\u{1F1EF}\u{1F1F2}",v:[],c:"Flags"},{n:"bellhop_bell",e:"\u{1F6CE}\uFE0F",v:[],c:"Places"},{n:"straight_ruler",e:"\u{1F4CF}",v:[],c:"Objects"},{n:"flag_jo",e:"\u{1F1EF}\u{1F1F4}",v:[],c:"Flags"},{n:"female_judge",e:"\u{1F469}\u200D\u2696\uFE0F",v:["\u{1F469}\u{1F3FB}\u200D\u2696\uFE0F","\u{1F469}\u{1F3FC}\u200D\u2696\uFE0F","\u{1F469}\u{1F3FD}\u200D\u2696\uFE0F","\u{1F469}\u{1F3FE}\u200D\u2696\uFE0F","\u{1F469}\u{1F3FF}\u200D\u2696\uFE0F"],c:"People"},{n:"grey_exclamation",e:"\u2755",v:[],c:"Symbols"},{n:"door",e:"\u{1F6AA}",v:[],c:"Places"},{n:"male_farmer",e:"\u{1F468}\u200D\u{1F33E}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F33E}","\u{1F468}\u{1F3FC}\u200D\u{1F33E}","\u{1F468}\u{1F3FD}\u200D\u{1F33E}","\u{1F468}\u{1F3FE}\u200D\u{1F33E}","\u{1F468}\u{1F3FF}\u200D\u{1F33E}"],c:"People"},{n:"jp",e:"\u{1F1EF}\u{1F1F5}",v:[],c:"Flags"},{n:"triangular_ruler",e:"\u{1F4D0}",v:[],c:"Objects"},{n:"exclamation",e:"\u2757",v:[],c:"Symbols"},{n:"bed",e:"\u{1F6CF}\uFE0F",v:[],c:"Places"},{n:"female_farmer",e:"\u{1F469}\u200D\u{1F33E}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F33E}","\u{1F469}\u{1F3FC}\u200D\u{1F33E}","\u{1F469}\u{1F3FD}\u200D\u{1F33E}","\u{1F469}\u{1F3FE}\u200D\u{1F33E}","\u{1F469}\u{1F3FF}\u200D\u{1F33E}"],c:"People"},{n:"scissors",e:"\u2702\uFE0F",v:[],c:"Objects"},{n:"wavy_dash",e:"\u3030\uFE0F",v:[],c:"Symbols"},{n:"flag_ke",e:"\u{1F1F0}\u{1F1EA}",v:[],c:"Flags"},{n:"flag_kg",e:"\u{1F1F0}\u{1F1EC}",v:[],c:"Flags"},{n:"couch_and_lamp",e:"\u{1F6CB}\uFE0F",v:[],c:"Places"},{n:"male_cook",e:"\u{1F468}\u200D\u{1F373}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F373}","\u{1F468}\u{1F3FC}\u200D\u{1F373}","\u{1F468}\u{1F3FD}\u200D\u{1F373}","\u{1F468}\u{1F3FE}\u200D\u{1F373}","\u{1F468}\u{1F3FF}\u200D\u{1F373}"],c:"People"},{n:"card_file_box",e:"\u{1F5C3}\uFE0F",v:[],c:"Objects"},{n:"copyright",e:"\xA9\uFE0F",v:[],c:"Symbols"},{n:"file_cabinet",e:"\u{1F5C4}\uFE0F",v:[],c:"Objects"},{n:"registered",e:"\xAE\uFE0F",v:[],c:"Symbols"},{n:"flag_kh",e:"\u{1F1F0}\u{1F1ED}",v:[],c:"Flags"},{n:"female_cook",e:"\u{1F469}\u200D\u{1F373}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F373}","\u{1F469}\u{1F3FC}\u200D\u{1F373}","\u{1F469}\u{1F3FD}\u200D\u{1F373}","\u{1F469}\u{1F3FE}\u200D\u{1F373}","\u{1F469}\u{1F3FF}\u200D\u{1F373}"],c:"People"},{n:"toilet",e:"\u{1F6BD}",v:[],c:"Places"},{n:"wastebasket",e:"\u{1F5D1}\uFE0F",v:[],c:"Objects"},{n:"flag_ki",e:"\u{1F1F0}\u{1F1EE}",v:[],c:"Flags"},{n:"shower",e:"\u{1F6BF}",v:[],c:"Places"},{n:"male_mechanic",e:"\u{1F468}\u200D\u{1F527}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F527}","\u{1F468}\u{1F3FC}\u200D\u{1F527}","\u{1F468}\u{1F3FD}\u200D\u{1F527}","\u{1F468}\u{1F3FE}\u200D\u{1F527}","\u{1F468}\u{1F3FF}\u200D\u{1F527}"],c:"People"},{n:"tm",e:"\u2122\uFE0F",v:[],c:"Symbols"},{n:"hash",e:"#\uFE0F\u20E3",v:[],c:"Symbols"},{n:"flag_km",e:"\u{1F1F0}\u{1F1F2}",v:[],c:"Flags"},{n:"bathtub",e:"\u{1F6C1}",v:[],c:"Places"},{n:"female_mechanic",e:"\u{1F469}\u200D\u{1F527}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F527}","\u{1F469}\u{1F3FC}\u200D\u{1F527}","\u{1F469}\u{1F3FD}\u200D\u{1F527}","\u{1F469}\u{1F3FE}\u200D\u{1F527}","\u{1F469}\u{1F3FF}\u200D\u{1F527}"],c:"People"},{n:"lock",e:"\u{1F512}",v:[],c:"Objects"},{n:"male_factory_worker",e:"\u{1F468}\u200D\u{1F3ED}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F3ED}","\u{1F468}\u{1F3FC}\u200D\u{1F3ED}","\u{1F468}\u{1F3FD}\u200D\u{1F3ED}","\u{1F468}\u{1F3FE}\u200D\u{1F3ED}","\u{1F468}\u{1F3FF}\u200D\u{1F3ED}"],c:"People"},{n:"flag_kn",e:"\u{1F1F0}\u{1F1F3}",v:[],c:"Flags"},{n:"hourglass",e:"\u231B",v:[],c:"Places"},{n:"keycap_star",e:"*\uFE0F\u20E3",v:[],c:"Symbols"},{n:"unlock",e:"\u{1F513}",v:[],c:"Objects"},{n:"flag_kp",e:"\u{1F1F0}\u{1F1F5}",v:[],c:"Flags"},{n:"female_factory_worker",e:"\u{1F469}\u200D\u{1F3ED}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F3ED}","\u{1F469}\u{1F3FC}\u200D\u{1F3ED}","\u{1F469}\u{1F3FD}\u200D\u{1F3ED}","\u{1F469}\u{1F3FE}\u200D\u{1F3ED}","\u{1F469}\u{1F3FF}\u200D\u{1F3ED}"],c:"People"},{n:"zero",e:"0\uFE0F\u20E3",v:[],c:"Symbols"},{n:"lock_with_ink_pen",e:"\u{1F50F}",v:[],c:"Objects"},{n:"hourglass_flowing_sand",e:"\u23F3",v:[],c:"Places"},{n:"one",e:"1\uFE0F\u20E3",v:[],c:"Symbols"},{n:"kr",e:"\u{1F1F0}\u{1F1F7}",v:[],c:"Flags"},{n:"watch",e:"\u231A",v:[],c:"Places"},{n:"male_office_worker",e:"\u{1F468}\u200D\u{1F4BC}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F4BC}","\u{1F468}\u{1F3FC}\u200D\u{1F4BC}","\u{1F468}\u{1F3FD}\u200D\u{1F4BC}","\u{1F468}\u{1F3FE}\u200D\u{1F4BC}","\u{1F468}\u{1F3FF}\u200D\u{1F4BC}"],c:"People"},{n:"closed_lock_with_key",e:"\u{1F510}",v:[],c:"Objects"},{n:"female_office_worker",e:"\u{1F469}\u200D\u{1F4BC}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F4BC}","\u{1F469}\u{1F3FC}\u200D\u{1F4BC}","\u{1F469}\u{1F3FD}\u200D\u{1F4BC}","\u{1F469}\u{1F3FE}\u200D\u{1F4BC}","\u{1F469}\u{1F3FF}\u200D\u{1F4BC}"],c:"People"},{n:"two",e:"2\uFE0F\u20E3",v:[],c:"Symbols"},{n:"alarm_clock",e:"\u23F0",v:[],c:"Places"},{n:"key",e:"\u{1F511}",v:[],c:"Objects"},{n:"flag_kw",e:"\u{1F1F0}\u{1F1FC}",v:[],c:"Flags"},{n:"stopwatch",e:"\u23F1\uFE0F",v:[],c:"Places"},{n:"male_scientist",e:"\u{1F468}\u200D\u{1F52C}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F52C}","\u{1F468}\u{1F3FC}\u200D\u{1F52C}","\u{1F468}\u{1F3FD}\u200D\u{1F52C}","\u{1F468}\u{1F3FE}\u200D\u{1F52C}","\u{1F468}\u{1F3FF}\u200D\u{1F52C}"],c:"People"},{n:"three",e:"3\uFE0F\u20E3",v:[],c:"Symbols"},{n:"flag_ky",e:"\u{1F1F0}\u{1F1FE}",v:[],c:"Flags"},{n:"old_key",e:"\u{1F5DD}\uFE0F",v:[],c:"Objects"},{n:"flag_kz",e:"\u{1F1F0}\u{1F1FF}",v:[],c:"Flags"},{n:"hammer",e:"\u{1F528}",v:[],c:"Objects"},{n:"female_scientist",e:"\u{1F469}\u200D\u{1F52C}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F52C}","\u{1F469}\u{1F3FC}\u200D\u{1F52C}","\u{1F469}\u{1F3FD}\u200D\u{1F52C}","\u{1F469}\u{1F3FE}\u200D\u{1F52C}","\u{1F469}\u{1F3FF}\u200D\u{1F52C}"],c:"People"},{n:"timer_clock",e:"\u23F2\uFE0F",v:[],c:"Places"},{n:"four",e:"4\uFE0F\u20E3",v:[],c:"Symbols"},{n:"male_technologist",e:"\u{1F468}\u200D\u{1F4BB}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F4BB}","\u{1F468}\u{1F3FC}\u200D\u{1F4BB}","\u{1F468}\u{1F3FD}\u200D\u{1F4BB}","\u{1F468}\u{1F3FE}\u200D\u{1F4BB}","\u{1F468}\u{1F3FF}\u200D\u{1F4BB}"],c:"People"},{n:"mantelpiece_clock",e:"\u{1F570}\uFE0F",v:[],c:"Places"},{n:"five",e:"5\uFE0F\u20E3",v:[],c:"Symbols"},{n:"flag_la",e:"\u{1F1F1}\u{1F1E6}",v:[],c:"Flags"},{n:"pick",e:"\u26CF\uFE0F",v:[],c:"Objects"},{n:"flag_lb",e:"\u{1F1F1}\u{1F1E7}",v:[],c:"Flags"},{n:"clock12",e:"\u{1F55B}",v:[],c:"Places"},{n:"hammer_and_pick",e:"\u2692\uFE0F",v:[],c:"Objects"},{n:"six",e:"6\uFE0F\u20E3",v:[],c:"Symbols"},{n:"female_technologist",e:"\u{1F469}\u200D\u{1F4BB}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F4BB}","\u{1F469}\u{1F3FC}\u200D\u{1F4BB}","\u{1F469}\u{1F3FD}\u200D\u{1F4BB}","\u{1F469}\u{1F3FE}\u200D\u{1F4BB}","\u{1F469}\u{1F3FF}\u200D\u{1F4BB}"],c:"People"},{n:"hammer_and_wrench",e:"\u{1F6E0}\uFE0F",v:[],c:"Objects"},{n:"flag_lc",e:"\u{1F1F1}\u{1F1E8}",v:[],c:"Flags"},{n:"clock1230",e:"\u{1F567}",v:[],c:"Places"},{n:"seven",e:"7\uFE0F\u20E3",v:[],c:"Symbols"},{n:"male_singer",e:"\u{1F468}\u200D\u{1F3A4}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F3A4}","\u{1F468}\u{1F3FC}\u200D\u{1F3A4}","\u{1F468}\u{1F3FD}\u200D\u{1F3A4}","\u{1F468}\u{1F3FE}\u200D\u{1F3A4}","\u{1F468}\u{1F3FF}\u200D\u{1F3A4}"],c:"People"},{n:"eight",e:"8\uFE0F\u20E3",v:[],c:"Symbols"},{n:"flag_li",e:"\u{1F1F1}\u{1F1EE}",v:[],c:"Flags"},{n:"dagger_knife",e:"\u{1F5E1}\uFE0F",v:[],c:"Objects"},{n:"clock1",e:"\u{1F550}",v:[],c:"Places"},{n:"female_singer",e:"\u{1F469}\u200D\u{1F3A4}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F3A4}","\u{1F469}\u{1F3FC}\u200D\u{1F3A4}","\u{1F469}\u{1F3FD}\u200D\u{1F3A4}","\u{1F469}\u{1F3FE}\u200D\u{1F3A4}","\u{1F469}\u{1F3FF}\u200D\u{1F3A4}"],c:"People"},{n:"male_artist",e:"\u{1F468}\u200D\u{1F3A8}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F3A8}","\u{1F468}\u{1F3FC}\u200D\u{1F3A8}","\u{1F468}\u{1F3FD}\u200D\u{1F3A8}","\u{1F468}\u{1F3FE}\u200D\u{1F3A8}","\u{1F468}\u{1F3FF}\u200D\u{1F3A8}"],c:"People"},{n:"crossed_swords",e:"\u2694\uFE0F",v:[],c:"Objects"},{n:"nine",e:"9\uFE0F\u20E3",v:[],c:"Symbols"},{n:"flag_lk",e:"\u{1F1F1}\u{1F1F0}",v:[],c:"Flags"},{n:"clock130",e:"\u{1F55C}",v:[],c:"Places"},{n:"clock2",e:"\u{1F551}",v:[],c:"Places"},{n:"gun",e:"\u{1F52B}",v:[],c:"Objects"},{n:"keycap_ten",e:"\u{1F51F}",v:[],c:"Symbols"},{n:"female_artist",e:"\u{1F469}\u200D\u{1F3A8}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F3A8}","\u{1F469}\u{1F3FC}\u200D\u{1F3A8}","\u{1F469}\u{1F3FD}\u200D\u{1F3A8}","\u{1F469}\u{1F3FE}\u200D\u{1F3A8}","\u{1F469}\u{1F3FF}\u200D\u{1F3A8}"],c:"People"},{n:"flag_lr",e:"\u{1F1F1}\u{1F1F7}",v:[],c:"Flags"},{n:"clock230",e:"\u{1F55D}",v:[],c:"Places"},{n:"100",e:"\u{1F4AF}",v:[],c:"Symbols"},{n:"bow_and_arrow",e:"\u{1F3F9}",v:[],c:"Objects"},{n:"male_pilot",e:"\u{1F468}\u200D\u2708\uFE0F",v:["\u{1F468}\u{1F3FB}\u200D\u2708\uFE0F","\u{1F468}\u{1F3FC}\u200D\u2708\uFE0F","\u{1F468}\u{1F3FD}\u200D\u2708\uFE0F","\u{1F468}\u{1F3FE}\u200D\u2708\uFE0F","\u{1F468}\u{1F3FF}\u200D\u2708\uFE0F"],c:"People"},{n:"flag_ls",e:"\u{1F1F1}\u{1F1F8}",v:[],c:"Flags"},{n:"flag_lt",e:"\u{1F1F1}\u{1F1F9}",v:[],c:"Flags"},{n:"capital_abcd",e:"\u{1F520}",v:[],c:"Symbols"},{n:"female_pilot",e:"\u{1F469}\u200D\u2708\uFE0F",v:["\u{1F469}\u{1F3FB}\u200D\u2708\uFE0F","\u{1F469}\u{1F3FC}\u200D\u2708\uFE0F","\u{1F469}\u{1F3FD}\u200D\u2708\uFE0F","\u{1F469}\u{1F3FE}\u200D\u2708\uFE0F","\u{1F469}\u{1F3FF}\u200D\u2708\uFE0F"],c:"People"},{n:"clock3",e:"\u{1F552}",v:[],c:"Places"},{n:"shield",e:"\u{1F6E1}\uFE0F",v:[],c:"Objects"},{n:"male_astronaut",e:"\u{1F468}\u200D\u{1F680}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F680}","\u{1F468}\u{1F3FC}\u200D\u{1F680}","\u{1F468}\u{1F3FD}\u200D\u{1F680}","\u{1F468}\u{1F3FE}\u200D\u{1F680}","\u{1F468}\u{1F3FF}\u200D\u{1F680}"],c:"People"},{n:"abcd",e:"\u{1F521}",v:[],c:"Symbols"},{n:"clock330",e:"\u{1F55E}",v:[],c:"Places"},{n:"flag_lu",e:"\u{1F1F1}\u{1F1FA}",v:[],c:"Flags"},{n:"wrench",e:"\u{1F527}",v:[],c:"Objects"},{n:"nut_and_bolt",e:"\u{1F529}",v:[],c:"Objects"},{n:"1234",e:"\u{1F522}",v:[],c:"Symbols"},{n:"clock4",e:"\u{1F553}",v:[],c:"Places"},{n:"female_astronaut",e:"\u{1F469}\u200D\u{1F680}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F680}","\u{1F469}\u{1F3FC}\u200D\u{1F680}","\u{1F469}\u{1F3FD}\u200D\u{1F680}","\u{1F469}\u{1F3FE}\u200D\u{1F680}","\u{1F469}\u{1F3FF}\u200D\u{1F680}"],c:"People"},{n:"flag_lv",e:"\u{1F1F1}\u{1F1FB}",v:[],c:"Flags"},{n:"gear",e:"\u2699\uFE0F",v:[],c:"Objects"},{n:"male_firefighter",e:"\u{1F468}\u200D\u{1F692}",v:["\u{1F468}\u{1F3FB}\u200D\u{1F692}","\u{1F468}\u{1F3FC}\u200D\u{1F692}","\u{1F468}\u{1F3FD}\u200D\u{1F692}","\u{1F468}\u{1F3FE}\u200D\u{1F692}","\u{1F468}\u{1F3FF}\u200D\u{1F692}"],c:"People"},{n:"flag_ly",e:"\u{1F1F1}\u{1F1FE}",v:[],c:"Flags"},{n:"symbols",e:"\u{1F523}",v:[],c:"Symbols"},{n:"clock430",e:"\u{1F55F}",v:[],c:"Places"},{n:"flag_ma",e:"\u{1F1F2}\u{1F1E6}",v:[],c:"Flags"},{n:"compression",e:"\u{1F5DC}\uFE0F",v:[],c:"Objects"},{n:"female_firefighter",e:"\u{1F469}\u200D\u{1F692}",v:["\u{1F469}\u{1F3FB}\u200D\u{1F692}","\u{1F469}\u{1F3FC}\u200D\u{1F692}","\u{1F469}\u{1F3FD}\u200D\u{1F692}","\u{1F469}\u{1F3FE}\u200D\u{1F692}","\u{1F469}\u{1F3FF}\u200D\u{1F692}"],c:"People"},{n:"abc",e:"\u{1F524}",v:[],c:"Symbols"},{n:"clock5",e:"\u{1F554}",v:[],c:"Places"},{n:"clock530",e:"\u{1F560}",v:[],c:"Places"},{n:"a",e:"\u{1F170}\uFE0F",v:[],c:"Symbols"},{n:"alembic",e:"\u2697\uFE0F",v:[],c:"Objects"},{n:"flag_mc",e:"\u{1F1F2}\u{1F1E8}",v:[],c:"Flags"},{n:"cop",e:"\u{1F46E}",v:["\u{1F46E}\u{1F3FB}","\u{1F46E}\u{1F3FC}","\u{1F46E}\u{1F3FD}","\u{1F46E}\u{1F3FE}","\u{1F46E}\u{1F3FF}"],c:"People"},{n:"scales",e:"\u2696\uFE0F",v:[],c:"Objects"},{n:"clock6",e:"\u{1F555}",v:[],c:"Places"},{n:"flag_md",e:"\u{1F1F2}\u{1F1E9}",v:[],c:"Flags"},{n:"ab",e:"\u{1F18E}",v:[],c:"Symbols"},{n:"male_police_officer",e:"\u{1F46E}\u200D\u2642\uFE0F",v:["\u{1F46E}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F46E}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F46E}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F46E}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F46E}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"link",e:"\u{1F517}",v:[],c:"Objects"},{n:"flag_me",e:"\u{1F1F2}\u{1F1EA}",v:[],c:"Flags"},{n:"clock630",e:"\u{1F561}",v:[],c:"Places"},{n:"b",e:"\u{1F171}\uFE0F",v:[],c:"Symbols"},{n:"female_police_officer",e:"\u{1F46E}\u200D\u2640\uFE0F",v:["\u{1F46E}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F46E}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F46E}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F46E}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F46E}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"clock7",e:"\u{1F556}",v:[],c:"Places"},{n:"cl",e:"\u{1F191}",v:[],c:"Symbols"},{n:"sleuth_or_spy",e:"\u{1F575}\uFE0F",v:["\u{1F575}\u{1F3FB}","\u{1F575}\u{1F3FC}","\u{1F575}\u{1F3FD}","\u{1F575}\u{1F3FE}","\u{1F575}\u{1F3FF}"],c:"People"},{n:"flag_mf",e:"\u{1F1F2}\u{1F1EB}",v:[],c:"Flags"},{n:"chains",e:"\u26D3\uFE0F",v:[],c:"Objects"},{n:"syringe",e:"\u{1F489}",v:[],c:"Objects"},{n:"male_detective",e:"\u{1F575}\uFE0F\u200D\u2642\uFE0F",v:["\u{1F575}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F575}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F575}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F575}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F575}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"cool",e:"\u{1F192}",v:[],c:"Symbols"},{n:"clock730",e:"\u{1F562}",v:[],c:"Places"},{n:"flag_mg",e:"\u{1F1F2}\u{1F1EC}",v:[],c:"Flags"},{n:"free",e:"\u{1F193}",v:[],c:"Symbols"},{n:"flag_mh",e:"\u{1F1F2}\u{1F1ED}",v:[],c:"Flags"},{n:"clock8",e:"\u{1F557}",v:[],c:"Places"},{n:"pill",e:"\u{1F48A}",v:[],c:"Objects"},{n:"female_detective",e:"\u{1F575}\uFE0F\u200D\u2640\uFE0F",v:["\u{1F575}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F575}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F575}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F575}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F575}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"clock830",e:"\u{1F563}",v:[],c:"Places"},{n:"guardsman",e:"\u{1F482}",v:["\u{1F482}\u{1F3FB}","\u{1F482}\u{1F3FC}","\u{1F482}\u{1F3FD}","\u{1F482}\u{1F3FE}","\u{1F482}\u{1F3FF}"],c:"People"},{n:"information_source",e:"\u2139\uFE0F",v:[],c:"Symbols"},{n:"flag_mk",e:"\u{1F1F2}\u{1F1F0}",v:[],c:"Flags"},{n:"smoking",e:"\u{1F6AC}",v:[],c:"Objects"},{n:"id",e:"\u{1F194}",v:[],c:"Symbols"},{n:"clock9",e:"\u{1F558}",v:[],c:"Places"},{n:"flag_ml",e:"\u{1F1F2}\u{1F1F1}",v:[],c:"Flags"},{n:"coffin",e:"\u26B0\uFE0F",v:[],c:"Objects"},{n:"male_guard",e:"\u{1F482}\u200D\u2642\uFE0F",v:["\u{1F482}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F482}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F482}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F482}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F482}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"m",e:"\u24C2\uFE0F",v:[],c:"Symbols"},{n:"funeral_urn",e:"\u26B1\uFE0F",v:[],c:"Objects"},{n:"female_guard",e:"\u{1F482}\u200D\u2640\uFE0F",v:["\u{1F482}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F482}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F482}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F482}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F482}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_mm",e:"\u{1F1F2}\u{1F1F2}",v:[],c:"Flags"},{n:"clock930",e:"\u{1F564}",v:[],c:"Places"},{n:"moyai",e:"\u{1F5FF}",v:[],c:"Objects"},{n:"new",e:"\u{1F195}",v:[],c:"Symbols"},{n:"flag_mn",e:"\u{1F1F2}\u{1F1F3}",v:[],c:"Flags"},{n:"construction_worker",e:"\u{1F477}",v:["\u{1F477}\u{1F3FB}","\u{1F477}\u{1F3FC}","\u{1F477}\u{1F3FD}","\u{1F477}\u{1F3FE}","\u{1F477}\u{1F3FF}"],c:"People"},{n:"clock10",e:"\u{1F559}",v:[],c:"Places"},{n:"clock1030",e:"\u{1F565}",v:[],c:"Places"},{n:"ng",e:"\u{1F196}",v:[],c:"Symbols"},{n:"male_construction_worker",e:"\u{1F477}\u200D\u2642\uFE0F",v:["\u{1F477}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F477}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F477}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F477}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F477}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_mo",e:"\u{1F1F2}\u{1F1F4}",v:[],c:"Flags"},{n:"oil_drum",e:"\u{1F6E2}\uFE0F",v:[],c:"Objects"},{n:"o2",e:"\u{1F17E}\uFE0F",v:[],c:"Symbols"},{n:"female_construction_worker",e:"\u{1F477}\u200D\u2640\uFE0F",v:["\u{1F477}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F477}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F477}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F477}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F477}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"clock11",e:"\u{1F55A}",v:[],c:"Places"},{n:"crystal_ball",e:"\u{1F52E}",v:[],c:"Objects"},{n:"flag_mp",e:"\u{1F1F2}\u{1F1F5}",v:[],c:"Flags"},{n:"flag_mq",e:"\u{1F1F2}\u{1F1F6}",v:[],c:"Flags"},{n:"prince",e:"\u{1F934}",v:["\u{1F934}\u{1F3FB}","\u{1F934}\u{1F3FC}","\u{1F934}\u{1F3FD}","\u{1F934}\u{1F3FE}","\u{1F934}\u{1F3FF}"],c:"People"},{n:"ok",e:"\u{1F197}",v:[],c:"Symbols"},{n:"clock1130",e:"\u{1F566}",v:[],c:"Places"},{n:"shopping_trolley",e:"\u{1F6D2}",v:[],c:"Objects"},{n:"flag_mr",e:"\u{1F1F2}\u{1F1F7}",v:[],c:"Flags"},{n:"princess",e:"\u{1F478}",v:["\u{1F478}\u{1F3FB}","\u{1F478}\u{1F3FC}","\u{1F478}\u{1F3FD}","\u{1F478}\u{1F3FE}","\u{1F478}\u{1F3FF}"],c:"People"},{n:"new_moon",e:"\u{1F311}",v:[],c:"Places"},{n:"parking",e:"\u{1F17F}\uFE0F",v:[],c:"Symbols"},{n:"sos",e:"\u{1F198}",v:[],c:"Symbols"},{n:"man_with_turban",e:"\u{1F473}",v:["\u{1F473}\u{1F3FB}","\u{1F473}\u{1F3FC}","\u{1F473}\u{1F3FD}","\u{1F473}\u{1F3FE}","\u{1F473}\u{1F3FF}"],c:"People"},{n:"flag_ms",e:"\u{1F1F2}\u{1F1F8}",v:[],c:"Flags"},{n:"waxing_crescent_moon",e:"\u{1F312}",v:[],c:"Places"},{n:"up",e:"\u{1F199}",v:[],c:"Symbols"},{n:"first_quarter_moon",e:"\u{1F313}",v:[],c:"Places"},{n:"flag_mt",e:"\u{1F1F2}\u{1F1F9}",v:[],c:"Flags"},{n:"man_wearing_turban",e:"\u{1F473}\u200D\u2642\uFE0F",v:["\u{1F473}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F473}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F473}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F473}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F473}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"moon",e:"\u{1F314}",v:[],c:"Places"},{n:"woman_wearing_turban",e:"\u{1F473}\u200D\u2640\uFE0F",v:["\u{1F473}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F473}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F473}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F473}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F473}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"vs",e:"\u{1F19A}",v:[],c:"Symbols"},{n:"flag_mu",e:"\u{1F1F2}\u{1F1FA}",v:[],c:"Flags"},{n:"man_with_gua_pi_mao",e:"\u{1F472}",v:["\u{1F472}\u{1F3FB}","\u{1F472}\u{1F3FC}","\u{1F472}\u{1F3FD}","\u{1F472}\u{1F3FE}","\u{1F472}\u{1F3FF}"],c:"People"},{n:"koko",e:"\u{1F201}",v:[],c:"Symbols"},{n:"full_moon",e:"\u{1F315}",v:[],c:"Places"},{n:"flag_mv",e:"\u{1F1F2}\u{1F1FB}",v:[],c:"Flags"},{n:"person_with_headscarf",e:"\u{1F9D5}",v:["\u{1F9D5}\u{1F3FB}","\u{1F9D5}\u{1F3FC}","\u{1F9D5}\u{1F3FD}","\u{1F9D5}\u{1F3FE}","\u{1F9D5}\u{1F3FF}"],c:"People"},{n:"waning_gibbous_moon",e:"\u{1F316}",v:[],c:"Places"},{n:"sa",e:"\u{1F202}\uFE0F",v:[],c:"Symbols"},{n:"flag_mw",e:"\u{1F1F2}\u{1F1FC}",v:[],c:"Flags"},{n:"last_quarter_moon",e:"\u{1F317}",v:[],c:"Places"},{n:"u6708",e:"\u{1F237}\uFE0F",v:[],c:"Symbols"},{n:"bearded_person",e:"\u{1F9D4}",v:["\u{1F9D4}\u{1F3FB}","\u{1F9D4}\u{1F3FC}","\u{1F9D4}\u{1F3FD}","\u{1F9D4}\u{1F3FE}","\u{1F9D4}\u{1F3FF}"],c:"People"},{n:"flag_mx",e:"\u{1F1F2}\u{1F1FD}",v:[],c:"Flags"},{n:"u6709",e:"\u{1F236}",v:[],c:"Symbols"},{n:"person_with_blond_hair",e:"\u{1F471}",v:["\u{1F471}\u{1F3FB}","\u{1F471}\u{1F3FC}","\u{1F471}\u{1F3FD}","\u{1F471}\u{1F3FE}","\u{1F471}\u{1F3FF}"],c:"People"},{n:"waning_crescent_moon",e:"\u{1F318}",v:[],c:"Places"},{n:"flag_my",e:"\u{1F1F2}\u{1F1FE}",v:[],c:"Flags"},{n:"u6307",e:"\u{1F22F}",v:[],c:"Symbols"},{n:"blond_haired_man",e:"\u{1F471}\u200D\u2642\uFE0F",v:["\u{1F471}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F471}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F471}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F471}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F471}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"crescent_moon",e:"\u{1F319}",v:[],c:"Places"},{n:"flag_mz",e:"\u{1F1F2}\u{1F1FF}",v:[],c:"Flags"},{n:"new_moon_with_face",e:"\u{1F31A}",v:[],c:"Places"},{n:"flag_na",e:"\u{1F1F3}\u{1F1E6}",v:[],c:"Flags"},{n:"blond_haired_woman",e:"\u{1F471}\u200D\u2640\uFE0F",v:["\u{1F471}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F471}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F471}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F471}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F471}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"ideograph_advantage",e:"\u{1F250}",v:[],c:"Symbols"},{n:"first_quarter_moon_with_face",e:"\u{1F31B}",v:[],c:"Places"},{n:"man_in_tuxedo",e:"\u{1F935}",v:["\u{1F935}\u{1F3FB}","\u{1F935}\u{1F3FC}","\u{1F935}\u{1F3FD}","\u{1F935}\u{1F3FE}","\u{1F935}\u{1F3FF}"],c:"People"},{n:"flag_nc",e:"\u{1F1F3}\u{1F1E8}",v:[],c:"Flags"},{n:"u5272",e:"\u{1F239}",v:[],c:"Symbols"},{n:"flag_ne",e:"\u{1F1F3}\u{1F1EA}",v:[],c:"Flags"},{n:"last_quarter_moon_with_face",e:"\u{1F31C}",v:[],c:"Places"},{n:"u7121",e:"\u{1F21A}",v:[],c:"Symbols"},{n:"bride_with_veil",e:"\u{1F470}",v:["\u{1F470}\u{1F3FB}","\u{1F470}\u{1F3FC}","\u{1F470}\u{1F3FD}","\u{1F470}\u{1F3FE}","\u{1F470}\u{1F3FF}"],c:"People"},{n:"u7981",e:"\u{1F232}",v:[],c:"Symbols"},{n:"pregnant_woman",e:"\u{1F930}",v:["\u{1F930}\u{1F3FB}","\u{1F930}\u{1F3FC}","\u{1F930}\u{1F3FD}","\u{1F930}\u{1F3FE}","\u{1F930}\u{1F3FF}"],c:"People"},{n:"thermometer",e:"\u{1F321}\uFE0F",v:[],c:"Places"},{n:"flag_nf",e:"\u{1F1F3}\u{1F1EB}",v:[],c:"Flags"},{n:"sunny",e:"\u2600\uFE0F",v:[],c:"Places"},{n:"accept",e:"\u{1F251}",v:[],c:"Symbols"},{n:"flag_ng",e:"\u{1F1F3}\u{1F1EC}",v:[],c:"Flags"},{n:"breast_feeding",e:"\u{1F931}",v:["\u{1F931}\u{1F3FB}","\u{1F931}\u{1F3FC}","\u{1F931}\u{1F3FD}","\u{1F931}\u{1F3FE}","\u{1F931}\u{1F3FF}"],c:"People"},{n:"full_moon_with_face",e:"\u{1F31D}",v:[],c:"Places"},{n:"flag_ni",e:"\u{1F1F3}\u{1F1EE}",v:[],c:"Flags"},{n:"u7533",e:"\u{1F238}",v:[],c:"Symbols"},{n:"angel",e:"\u{1F47C}",v:["\u{1F47C}\u{1F3FB}","\u{1F47C}\u{1F3FC}","\u{1F47C}\u{1F3FD}","\u{1F47C}\u{1F3FE}","\u{1F47C}\u{1F3FF}"],c:"People"},{n:"sun_with_face",e:"\u{1F31E}",v:[],c:"Places"},{n:"santa",e:"\u{1F385}",v:["\u{1F385}\u{1F3FB}","\u{1F385}\u{1F3FC}","\u{1F385}\u{1F3FD}","\u{1F385}\u{1F3FE}","\u{1F385}\u{1F3FF}"],c:"People"},{n:"u5408",e:"\u{1F234}",v:[],c:"Symbols"},{n:"flag_nl",e:"\u{1F1F3}\u{1F1F1}",v:[],c:"Flags"},{n:"mrs_claus",e:"\u{1F936}",v:["\u{1F936}\u{1F3FB}","\u{1F936}\u{1F3FC}","\u{1F936}\u{1F3FD}","\u{1F936}\u{1F3FE}","\u{1F936}\u{1F3FF}"],c:"People"},{n:"u7a7a",e:"\u{1F233}",v:[],c:"Symbols"},{n:"star",e:"\u2B50",v:[],c:"Places"},{n:"flag_no",e:"\u{1F1F3}\u{1F1F4}",v:[],c:"Flags"},{n:"mage",e:"\u{1F9D9}",v:["\u{1F9D9}\u{1F3FB}","\u{1F9D9}\u{1F3FC}","\u{1F9D9}\u{1F3FD}","\u{1F9D9}\u{1F3FE}","\u{1F9D9}\u{1F3FF}"],c:"People"},{n:"star2",e:"\u{1F31F}",v:[],c:"Places"},{n:"flag_np",e:"\u{1F1F3}\u{1F1F5}",v:[],c:"Flags"},{n:"congratulations",e:"\u3297\uFE0F",v:[],c:"Symbols"},{n:"flag_nr",e:"\u{1F1F3}\u{1F1F7}",v:[],c:"Flags"},{n:"stars",e:"\u{1F320}",v:[],c:"Places"},{n:"female_mage",e:"\u{1F9D9}\u200D\u2640\uFE0F",v:["\u{1F9D9}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9D9}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9D9}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9D9}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9D9}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"secret",e:"\u3299\uFE0F",v:[],c:"Symbols"},{n:"flag_nu",e:"\u{1F1F3}\u{1F1FA}",v:[],c:"Flags"},{n:"u55b6",e:"\u{1F23A}",v:[],c:"Symbols"},{n:"male_mage",e:"\u{1F9D9}\u200D\u2642\uFE0F",v:["\u{1F9D9}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9D9}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9D9}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9D9}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9D9}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"cloud",e:"\u2601\uFE0F",v:[],c:"Places"},{n:"flag_nz",e:"\u{1F1F3}\u{1F1FF}",v:[],c:"Flags"},{n:"partly_sunny",e:"\u26C5",v:[],c:"Places"},{n:"fairy",e:"\u{1F9DA}",v:["\u{1F9DA}\u{1F3FB}","\u{1F9DA}\u{1F3FC}","\u{1F9DA}\u{1F3FD}","\u{1F9DA}\u{1F3FE}","\u{1F9DA}\u{1F3FF}"],c:"People"},{n:"u6e80",e:"\u{1F235}",v:[],c:"Symbols"},{n:"black_small_square",e:"\u25AA\uFE0F",v:[],c:"Symbols"},{n:"thunder_cloud_and_rain",e:"\u26C8\uFE0F",v:[],c:"Places"},{n:"female_fairy",e:"\u{1F9DA}\u200D\u2640\uFE0F",v:["\u{1F9DA}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9DA}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9DA}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9DA}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9DA}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_om",e:"\u{1F1F4}\u{1F1F2}",v:[],c:"Flags"},{n:"white_small_square",e:"\u25AB\uFE0F",v:[],c:"Symbols"},{n:"flag_pa",e:"\u{1F1F5}\u{1F1E6}",v:[],c:"Flags"},{n:"mostly_sunny",e:"\u{1F324}\uFE0F",v:[],c:"Places"},{n:"male_fairy",e:"\u{1F9DA}\u200D\u2642\uFE0F",v:["\u{1F9DA}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9DA}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9DA}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9DA}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9DA}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"barely_sunny",e:"\u{1F325}\uFE0F",v:[],c:"Places"},{n:"white_medium_square",e:"\u25FB\uFE0F",v:[],c:"Symbols"},{n:"flag_pe",e:"\u{1F1F5}\u{1F1EA}",v:[],c:"Flags"},{n:"vampire",e:"\u{1F9DB}",v:["\u{1F9DB}\u{1F3FB}","\u{1F9DB}\u{1F3FC}","\u{1F9DB}\u{1F3FD}","\u{1F9DB}\u{1F3FE}","\u{1F9DB}\u{1F3FF}"],c:"People"},{n:"female_vampire",e:"\u{1F9DB}\u200D\u2640\uFE0F",v:["\u{1F9DB}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9DB}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9DB}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9DB}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9DB}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"partly_sunny_rain",e:"\u{1F326}\uFE0F",v:[],c:"Places"},{n:"flag_pf",e:"\u{1F1F5}\u{1F1EB}",v:[],c:"Flags"},{n:"black_medium_square",e:"\u25FC\uFE0F",v:[],c:"Symbols"},{n:"white_medium_small_square",e:"\u25FD",v:[],c:"Symbols"},{n:"rain_cloud",e:"\u{1F327}\uFE0F",v:[],c:"Places"},{n:"flag_pg",e:"\u{1F1F5}\u{1F1EC}",v:[],c:"Flags"},{n:"male_vampire",e:"\u{1F9DB}\u200D\u2642\uFE0F",v:["\u{1F9DB}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9DB}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9DB}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9DB}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9DB}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_ph",e:"\u{1F1F5}\u{1F1ED}",v:[],c:"Flags"},{n:"merperson",e:"\u{1F9DC}",v:["\u{1F9DC}\u{1F3FB}","\u{1F9DC}\u{1F3FC}","\u{1F9DC}\u{1F3FD}","\u{1F9DC}\u{1F3FE}","\u{1F9DC}\u{1F3FF}"],c:"People"},{n:"black_medium_small_square",e:"\u25FE",v:[],c:"Symbols"},{n:"snow_cloud",e:"\u{1F328}\uFE0F",v:[],c:"Places"},{n:"lightning",e:"\u{1F329}\uFE0F",v:[],c:"Places"},{n:"black_large_square",e:"\u2B1B",v:[],c:"Symbols"},{n:"mermaid",e:"\u{1F9DC}\u200D\u2640\uFE0F",v:["\u{1F9DC}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9DC}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9DC}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9DC}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9DC}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_pk",e:"\u{1F1F5}\u{1F1F0}",v:[],c:"Flags"},{n:"merman",e:"\u{1F9DC}\u200D\u2642\uFE0F",v:["\u{1F9DC}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9DC}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9DC}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9DC}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9DC}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"white_large_square",e:"\u2B1C",v:[],c:"Symbols"},{n:"tornado",e:"\u{1F32A}\uFE0F",v:[],c:"Places"},{n:"flag_pl",e:"\u{1F1F5}\u{1F1F1}",v:[],c:"Flags"},{n:"elf",e:"\u{1F9DD}",v:["\u{1F9DD}\u{1F3FB}","\u{1F9DD}\u{1F3FC}","\u{1F9DD}\u{1F3FD}","\u{1F9DD}\u{1F3FE}","\u{1F9DD}\u{1F3FF}"],c:"People"},{n:"fog",e:"\u{1F32B}\uFE0F",v:[],c:"Places"},{n:"large_orange_diamond",e:"\u{1F536}",v:[],c:"Symbols"},{n:"flag_pm",e:"\u{1F1F5}\u{1F1F2}",v:[],c:"Flags"},{n:"flag_pn",e:"\u{1F1F5}\u{1F1F3}",v:[],c:"Flags"},{n:"wind_blowing_face",e:"\u{1F32C}\uFE0F",v:[],c:"Places"},{n:"female_elf",e:"\u{1F9DD}\u200D\u2640\uFE0F",v:["\u{1F9DD}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9DD}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9DD}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9DD}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9DD}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"large_blue_diamond",e:"\u{1F537}",v:[],c:"Symbols"},{n:"male_elf",e:"\u{1F9DD}\u200D\u2642\uFE0F",v:["\u{1F9DD}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9DD}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9DD}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9DD}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9DD}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"small_orange_diamond",e:"\u{1F538}",v:[],c:"Symbols"},{n:"flag_pr",e:"\u{1F1F5}\u{1F1F7}",v:[],c:"Flags"},{n:"cyclone",e:"\u{1F300}",v:[],c:"Places"},{n:"rainbow",e:"\u{1F308}",v:[],c:"Places"},{n:"small_blue_diamond",e:"\u{1F539}",v:[],c:"Symbols"},{n:"genie",e:"\u{1F9DE}",v:[],c:"People"},{n:"flag_ps",e:"\u{1F1F5}\u{1F1F8}",v:[],c:"Flags"},{n:"small_red_triangle",e:"\u{1F53A}",v:[],c:"Symbols"},{n:"closed_umbrella",e:"\u{1F302}",v:[],c:"Places"},{n:"female_genie",e:"\u{1F9DE}\u200D\u2640\uFE0F",v:[],c:"People"},{n:"flag_pt",e:"\u{1F1F5}\u{1F1F9}",v:[],c:"Flags"},{n:"flag_pw",e:"\u{1F1F5}\u{1F1FC}",v:[],c:"Flags"},{n:"small_red_triangle_down",e:"\u{1F53B}",v:[],c:"Symbols"},{n:"umbrella",e:"\u2602\uFE0F",v:[],c:"Places"},{n:"male_genie",e:"\u{1F9DE}\u200D\u2642\uFE0F",v:[],c:"People"},{n:"zombie",e:"\u{1F9DF}",v:[],c:"People"},{n:"flag_py",e:"\u{1F1F5}\u{1F1FE}",v:[],c:"Flags"},{n:"diamond_shape_with_a_dot_inside",e:"\u{1F4A0}",v:[],c:"Symbols"},{n:"umbrella_with_rain_drops",e:"\u2614",v:[],c:"Places"},{n:"radio_button",e:"\u{1F518}",v:[],c:"Symbols"},{n:"female_zombie",e:"\u{1F9DF}\u200D\u2640\uFE0F",v:[],c:"People"},{n:"flag_qa",e:"\u{1F1F6}\u{1F1E6}",v:[],c:"Flags"},{n:"umbrella_on_ground",e:"\u26F1\uFE0F",v:[],c:"Places"},{n:"black_square_button",e:"\u{1F532}",v:[],c:"Symbols"},{n:"zap",e:"\u26A1",v:[],c:"Places"},{n:"male_zombie",e:"\u{1F9DF}\u200D\u2642\uFE0F",v:[],c:"People"},{n:"flag_re",e:"\u{1F1F7}\u{1F1EA}",v:[],c:"Flags"},{n:"flag_ro",e:"\u{1F1F7}\u{1F1F4}",v:[],c:"Flags"},{n:"snowflake",e:"\u2744\uFE0F",v:[],c:"Places"},{n:"white_square_button",e:"\u{1F533}",v:[],c:"Symbols"},{n:"person_frowning",e:"\u{1F64D}",v:["\u{1F64D}\u{1F3FB}","\u{1F64D}\u{1F3FC}","\u{1F64D}\u{1F3FD}","\u{1F64D}\u{1F3FE}","\u{1F64D}\u{1F3FF}"],c:"People"},{n:"flag_rs",e:"\u{1F1F7}\u{1F1F8}",v:[],c:"Flags"},{n:"man_frowning",e:"\u{1F64D}\u200D\u2642\uFE0F",v:["\u{1F64D}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F64D}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F64D}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F64D}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F64D}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"white_circle",e:"\u26AA",v:[],c:"Symbols"},{n:"snowman",e:"\u2603\uFE0F",v:[],c:"Places"},{n:"snowman_without_snow",e:"\u26C4",v:[],c:"Places"},{n:"ru",e:"\u{1F1F7}\u{1F1FA}",v:[],c:"Flags"},{n:"black_circle",e:"\u26AB",v:[],c:"Symbols"},{n:"woman_frowning",e:"\u{1F64D}\u200D\u2640\uFE0F",v:["\u{1F64D}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F64D}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F64D}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F64D}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F64D}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_rw",e:"\u{1F1F7}\u{1F1FC}",v:[],c:"Flags"},{n:"comet",e:"\u2604\uFE0F",v:[],c:"Places"},{n:"person_with_pouting_face",e:"\u{1F64E}",v:["\u{1F64E}\u{1F3FB}","\u{1F64E}\u{1F3FC}","\u{1F64E}\u{1F3FD}","\u{1F64E}\u{1F3FE}","\u{1F64E}\u{1F3FF}"],c:"People"},{n:"red_circle",e:"\u{1F534}",v:[],c:"Symbols"},{n:"large_blue_circle",e:"\u{1F535}",v:[],c:"Symbols"},{n:"man_pouting",e:"\u{1F64E}\u200D\u2642\uFE0F",v:["\u{1F64E}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F64E}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F64E}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F64E}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F64E}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_sa",e:"\u{1F1F8}\u{1F1E6}",v:[],c:"Flags"},{n:"fire",e:"\u{1F525}",v:[],c:"Places"},{n:"woman_pouting",e:"\u{1F64E}\u200D\u2640\uFE0F",v:["\u{1F64E}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F64E}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F64E}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F64E}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F64E}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_sb",e:"\u{1F1F8}\u{1F1E7}",v:[],c:"Flags"},{n:"droplet",e:"\u{1F4A7}",v:[],c:"Places"},{n:"no_good",e:"\u{1F645}",v:["\u{1F645}\u{1F3FB}","\u{1F645}\u{1F3FC}","\u{1F645}\u{1F3FD}","\u{1F645}\u{1F3FE}","\u{1F645}\u{1F3FF}"],c:"People"},{n:"flag_sc",e:"\u{1F1F8}\u{1F1E8}",v:[],c:"Flags"},{n:"ocean",e:"\u{1F30A}",v:[],c:"Places"},{n:"man_gesturing_no",e:"\u{1F645}\u200D\u2642\uFE0F",v:["\u{1F645}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F645}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F645}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F645}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F645}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_sd",e:"\u{1F1F8}\u{1F1E9}",v:[],c:"Flags"},{n:"woman_gesturing_no",e:"\u{1F645}\u200D\u2640\uFE0F",v:["\u{1F645}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F645}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F645}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F645}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F645}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_se",e:"\u{1F1F8}\u{1F1EA}",v:[],c:"Flags"},{n:"flag_sg",e:"\u{1F1F8}\u{1F1EC}",v:[],c:"Flags"},{n:"ok_woman",e:"\u{1F646}",v:["\u{1F646}\u{1F3FB}","\u{1F646}\u{1F3FC}","\u{1F646}\u{1F3FD}","\u{1F646}\u{1F3FE}","\u{1F646}\u{1F3FF}"],c:"People"},{n:"flag_sh",e:"\u{1F1F8}\u{1F1ED}",v:[],c:"Flags"},{n:"man_gesturing_ok",e:"\u{1F646}\u200D\u2642\uFE0F",v:["\u{1F646}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F646}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F646}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F646}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F646}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_si",e:"\u{1F1F8}\u{1F1EE}",v:[],c:"Flags"},{n:"woman_gesturing_ok",e:"\u{1F646}\u200D\u2640\uFE0F",v:["\u{1F646}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F646}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F646}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F646}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F646}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"information_desk_person",e:"\u{1F481}",v:["\u{1F481}\u{1F3FB}","\u{1F481}\u{1F3FC}","\u{1F481}\u{1F3FD}","\u{1F481}\u{1F3FE}","\u{1F481}\u{1F3FF}"],c:"People"},{n:"flag_sj",e:"\u{1F1F8}\u{1F1EF}",v:[],c:"Flags"},{n:"man_tipping_hand",e:"\u{1F481}\u200D\u2642\uFE0F",v:["\u{1F481}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F481}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F481}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F481}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F481}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_sk",e:"\u{1F1F8}\u{1F1F0}",v:[],c:"Flags"},{n:"flag_sl",e:"\u{1F1F8}\u{1F1F1}",v:[],c:"Flags"},{n:"woman_tipping_hand",e:"\u{1F481}\u200D\u2640\uFE0F",v:["\u{1F481}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F481}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F481}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F481}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F481}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_sm",e:"\u{1F1F8}\u{1F1F2}",v:[],c:"Flags"},{n:"raising_hand",e:"\u{1F64B}",v:["\u{1F64B}\u{1F3FB}","\u{1F64B}\u{1F3FC}","\u{1F64B}\u{1F3FD}","\u{1F64B}\u{1F3FE}","\u{1F64B}\u{1F3FF}"],c:"People"},{n:"flag_sn",e:"\u{1F1F8}\u{1F1F3}",v:[],c:"Flags"},{n:"man_raising_hand",e:"\u{1F64B}\u200D\u2642\uFE0F",v:["\u{1F64B}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F64B}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F64B}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F64B}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F64B}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_so",e:"\u{1F1F8}\u{1F1F4}",v:[],c:"Flags"},{n:"woman_raising_hand",e:"\u{1F64B}\u200D\u2640\uFE0F",v:["\u{1F64B}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F64B}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F64B}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F64B}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F64B}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_sr",e:"\u{1F1F8}\u{1F1F7}",v:[],c:"Flags"},{n:"bow",e:"\u{1F647}",v:["\u{1F647}\u{1F3FB}","\u{1F647}\u{1F3FC}","\u{1F647}\u{1F3FD}","\u{1F647}\u{1F3FE}","\u{1F647}\u{1F3FF}"],c:"People"},{n:"man_bowing",e:"\u{1F647}\u200D\u2642\uFE0F",v:["\u{1F647}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F647}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F647}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F647}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F647}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_ss",e:"\u{1F1F8}\u{1F1F8}",v:[],c:"Flags"},{n:"woman_bowing",e:"\u{1F647}\u200D\u2640\uFE0F",v:["\u{1F647}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F647}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F647}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F647}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F647}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_st",e:"\u{1F1F8}\u{1F1F9}",v:[],c:"Flags"},{n:"face_palm",e:"\u{1F926}",v:["\u{1F926}\u{1F3FB}","\u{1F926}\u{1F3FC}","\u{1F926}\u{1F3FD}","\u{1F926}\u{1F3FE}","\u{1F926}\u{1F3FF}"],c:"People"},{n:"flag_sv",e:"\u{1F1F8}\u{1F1FB}",v:[],c:"Flags"},{n:"man_facepalming",e:"\u{1F926}\u200D\u2642\uFE0F",v:["\u{1F926}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F926}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F926}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F926}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F926}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_sx",e:"\u{1F1F8}\u{1F1FD}",v:[],c:"Flags"},{n:"flag_sy",e:"\u{1F1F8}\u{1F1FE}",v:[],c:"Flags"},{n:"woman_facepalming",e:"\u{1F926}\u200D\u2640\uFE0F",v:["\u{1F926}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F926}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F926}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F926}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F926}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"shrug",e:"\u{1F937}",v:["\u{1F937}\u{1F3FB}","\u{1F937}\u{1F3FC}","\u{1F937}\u{1F3FD}","\u{1F937}\u{1F3FE}","\u{1F937}\u{1F3FF}"],c:"People"},{n:"flag_sz",e:"\u{1F1F8}\u{1F1FF}",v:[],c:"Flags"},{n:"flag_ta",e:"\u{1F1F9}\u{1F1E6}",v:[],c:"Flags"},{n:"man_shrugging",e:"\u{1F937}\u200D\u2642\uFE0F",v:["\u{1F937}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F937}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F937}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F937}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F937}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_shrugging",e:"\u{1F937}\u200D\u2640\uFE0F",v:["\u{1F937}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F937}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F937}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F937}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F937}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_tc",e:"\u{1F1F9}\u{1F1E8}",v:[],c:"Flags"},{n:"massage",e:"\u{1F486}",v:["\u{1F486}\u{1F3FB}","\u{1F486}\u{1F3FC}","\u{1F486}\u{1F3FD}","\u{1F486}\u{1F3FE}","\u{1F486}\u{1F3FF}"],c:"People"},{n:"flag_td",e:"\u{1F1F9}\u{1F1E9}",v:[],c:"Flags"},{n:"man_getting_massage",e:"\u{1F486}\u200D\u2642\uFE0F",v:["\u{1F486}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F486}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F486}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F486}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F486}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_tf",e:"\u{1F1F9}\u{1F1EB}",v:[],c:"Flags"},{n:"woman_getting_massage",e:"\u{1F486}\u200D\u2640\uFE0F",v:["\u{1F486}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F486}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F486}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F486}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F486}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_tg",e:"\u{1F1F9}\u{1F1EC}",v:[],c:"Flags"},{n:"haircut",e:"\u{1F487}",v:["\u{1F487}\u{1F3FB}","\u{1F487}\u{1F3FC}","\u{1F487}\u{1F3FD}","\u{1F487}\u{1F3FE}","\u{1F487}\u{1F3FF}"],c:"People"},{n:"flag_th",e:"\u{1F1F9}\u{1F1ED}",v:[],c:"Flags"},{n:"man_getting_haircut",e:"\u{1F487}\u200D\u2642\uFE0F",v:["\u{1F487}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F487}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F487}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F487}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F487}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_tj",e:"\u{1F1F9}\u{1F1EF}",v:[],c:"Flags"},{n:"flag_tk",e:"\u{1F1F9}\u{1F1F0}",v:[],c:"Flags"},{n:"woman_getting_haircut",e:"\u{1F487}\u200D\u2640\uFE0F",v:["\u{1F487}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F487}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F487}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F487}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F487}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"walking",e:"\u{1F6B6}",v:["\u{1F6B6}\u{1F3FB}","\u{1F6B6}\u{1F3FC}","\u{1F6B6}\u{1F3FD}","\u{1F6B6}\u{1F3FE}","\u{1F6B6}\u{1F3FF}"],c:"People"},{n:"flag_tl",e:"\u{1F1F9}\u{1F1F1}",v:[],c:"Flags"},{n:"man_walking",e:"\u{1F6B6}\u200D\u2642\uFE0F",v:["\u{1F6B6}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F6B6}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F6B6}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F6B6}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F6B6}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_tm",e:"\u{1F1F9}\u{1F1F2}",v:[],c:"Flags"},{n:"woman_walking",e:"\u{1F6B6}\u200D\u2640\uFE0F",v:["\u{1F6B6}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F6B6}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F6B6}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F6B6}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F6B6}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_tn",e:"\u{1F1F9}\u{1F1F3}",v:[],c:"Flags"},{n:"runner",e:"\u{1F3C3}",v:["\u{1F3C3}\u{1F3FB}","\u{1F3C3}\u{1F3FC}","\u{1F3C3}\u{1F3FD}","\u{1F3C3}\u{1F3FE}","\u{1F3C3}\u{1F3FF}"],c:"People"},{n:"flag_to",e:"\u{1F1F9}\u{1F1F4}",v:[],c:"Flags"},{n:"man_running",e:"\u{1F3C3}\u200D\u2642\uFE0F",v:["\u{1F3C3}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F3C3}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F3C3}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F3C3}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F3C3}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_tr",e:"\u{1F1F9}\u{1F1F7}",v:[],c:"Flags"},{n:"flag_tt",e:"\u{1F1F9}\u{1F1F9}",v:[],c:"Flags"},{n:"woman_running",e:"\u{1F3C3}\u200D\u2640\uFE0F",v:["\u{1F3C3}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F3C3}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F3C3}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F3C3}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F3C3}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_tv",e:"\u{1F1F9}\u{1F1FB}",v:[],c:"Flags"},{n:"dancer",e:"\u{1F483}",v:["\u{1F483}\u{1F3FB}","\u{1F483}\u{1F3FC}","\u{1F483}\u{1F3FD}","\u{1F483}\u{1F3FE}","\u{1F483}\u{1F3FF}"],c:"People"},{n:"flag_tw",e:"\u{1F1F9}\u{1F1FC}",v:[],c:"Flags"},{n:"man_dancing",e:"\u{1F57A}",v:["\u{1F57A}\u{1F3FB}","\u{1F57A}\u{1F3FC}","\u{1F57A}\u{1F3FD}","\u{1F57A}\u{1F3FE}","\u{1F57A}\u{1F3FF}"],c:"People"},{n:"dancers",e:"\u{1F46F}",v:[],c:"People"},{n:"flag_tz",e:"\u{1F1F9}\u{1F1FF}",v:[],c:"Flags"},{n:"flag_ua",e:"\u{1F1FA}\u{1F1E6}",v:[],c:"Flags"},{n:"man_with_bunny_ears_partying",e:"\u{1F46F}\u200D\u2642\uFE0F",v:[],c:"People"},{n:"woman_with_bunny_ears_partying",e:"\u{1F46F}\u200D\u2640\uFE0F",v:[],c:"People"},{n:"flag_ug",e:"\u{1F1FA}\u{1F1EC}",v:[],c:"Flags"},{n:"flag_um",e:"\u{1F1FA}\u{1F1F2}",v:[],c:"Flags"},{n:"person_in_steamy_room",e:"\u{1F9D6}",v:["\u{1F9D6}\u{1F3FB}","\u{1F9D6}\u{1F3FC}","\u{1F9D6}\u{1F3FD}","\u{1F9D6}\u{1F3FE}","\u{1F9D6}\u{1F3FF}"],c:"People"},{n:"woman_in_steamy_room",e:"\u{1F9D6}\u200D\u2640\uFE0F",v:["\u{1F9D6}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9D6}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9D6}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9D6}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9D6}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_un",e:"\u{1F1FA}\u{1F1F3}",v:[],c:"Flags"},{n:"us",e:"\u{1F1FA}\u{1F1F8}",v:[],c:"Flags"},{n:"man_in_steamy_room",e:"\u{1F9D6}\u200D\u2642\uFE0F",v:["\u{1F9D6}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9D6}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9D6}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9D6}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9D6}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"person_climbing",e:"\u{1F9D7}",v:["\u{1F9D7}\u{1F3FB}","\u{1F9D7}\u{1F3FC}","\u{1F9D7}\u{1F3FD}","\u{1F9D7}\u{1F3FE}","\u{1F9D7}\u{1F3FF}"],c:"People"},{n:"flag_uy",e:"\u{1F1FA}\u{1F1FE}",v:[],c:"Flags"},{n:"woman_climbing",e:"\u{1F9D7}\u200D\u2640\uFE0F",v:["\u{1F9D7}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9D7}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9D7}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9D7}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9D7}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_uz",e:"\u{1F1FA}\u{1F1FF}",v:[],c:"Flags"},{n:"man_climbing",e:"\u{1F9D7}\u200D\u2642\uFE0F",v:["\u{1F9D7}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9D7}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9D7}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9D7}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9D7}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_va",e:"\u{1F1FB}\u{1F1E6}",v:[],c:"Flags"},{n:"person_in_lotus_position",e:"\u{1F9D8}",v:["\u{1F9D8}\u{1F3FB}","\u{1F9D8}\u{1F3FC}","\u{1F9D8}\u{1F3FD}","\u{1F9D8}\u{1F3FE}","\u{1F9D8}\u{1F3FF}"],c:"People"},{n:"flag_vc",e:"\u{1F1FB}\u{1F1E8}",v:[],c:"Flags"},{n:"flag_ve",e:"\u{1F1FB}\u{1F1EA}",v:[],c:"Flags"},{n:"woman_in_lotus_position",e:"\u{1F9D8}\u200D\u2640\uFE0F",v:["\u{1F9D8}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F9D8}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F9D8}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F9D8}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F9D8}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"man_in_lotus_position",e:"\u{1F9D8}\u200D\u2642\uFE0F",v:["\u{1F9D8}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F9D8}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F9D8}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F9D8}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F9D8}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_vg",e:"\u{1F1FB}\u{1F1EC}",v:[],c:"Flags"},{n:"flag_vi",e:"\u{1F1FB}\u{1F1EE}",v:[],c:"Flags"},{n:"bath",e:"\u{1F6C0}",v:["\u{1F6C0}\u{1F3FB}","\u{1F6C0}\u{1F3FC}","\u{1F6C0}\u{1F3FD}","\u{1F6C0}\u{1F3FE}","\u{1F6C0}\u{1F3FF}"],c:"People"},{n:"sleeping_accommodation",e:"\u{1F6CC}",v:["\u{1F6CC}\u{1F3FB}","\u{1F6CC}\u{1F3FC}","\u{1F6CC}\u{1F3FD}","\u{1F6CC}\u{1F3FE}","\u{1F6CC}\u{1F3FF}"],c:"People"},{n:"flag_vn",e:"\u{1F1FB}\u{1F1F3}",v:[],c:"Flags"},{n:"man_in_business_suit_levitating",e:"\u{1F574}\uFE0F",v:["\u{1F574}\u{1F3FB}","\u{1F574}\u{1F3FC}","\u{1F574}\u{1F3FD}","\u{1F574}\u{1F3FE}","\u{1F574}\u{1F3FF}"],c:"People"},{n:"flag_vu",e:"\u{1F1FB}\u{1F1FA}",v:[],c:"Flags"},{n:"flag_wf",e:"\u{1F1FC}\u{1F1EB}",v:[],c:"Flags"},{n:"speaking_head_in_silhouette",e:"\u{1F5E3}\uFE0F",v:[],c:"People"},{n:"bust_in_silhouette",e:"\u{1F464}",v:[],c:"People"},{n:"flag_ws",e:"\u{1F1FC}\u{1F1F8}",v:[],c:"Flags"},{n:"busts_in_silhouette",e:"\u{1F465}",v:[],c:"People"},{n:"flag_xk",e:"\u{1F1FD}\u{1F1F0}",v:[],c:"Flags"},{n:"fencer",e:"\u{1F93A}",v:[],c:"People"},{n:"flag_ye",e:"\u{1F1FE}\u{1F1EA}",v:[],c:"Flags"},{n:"flag_yt",e:"\u{1F1FE}\u{1F1F9}",v:[],c:"Flags"},{n:"horse_racing",e:"\u{1F3C7}",v:["\u{1F3C7}\u{1F3FB}","\u{1F3C7}\u{1F3FC}","\u{1F3C7}\u{1F3FD}","\u{1F3C7}\u{1F3FE}","\u{1F3C7}\u{1F3FF}"],c:"People"},{n:"flag_za",e:"\u{1F1FF}\u{1F1E6}",v:[],c:"Flags"},{n:"skier",e:"\u26F7\uFE0F",v:[],c:"People"},{n:"flag_zm",e:"\u{1F1FF}\u{1F1F2}",v:[],c:"Flags"},{n:"snowboarder",e:"\u{1F3C2}",v:["\u{1F3C2}\u{1F3FB}","\u{1F3C2}\u{1F3FC}","\u{1F3C2}\u{1F3FD}","\u{1F3C2}\u{1F3FE}","\u{1F3C2}\u{1F3FF}"],c:"People"},{n:"golfer",e:"\u{1F3CC}\uFE0F",v:["\u{1F3CC}\u{1F3FB}","\u{1F3CC}\u{1F3FC}","\u{1F3CC}\u{1F3FD}","\u{1F3CC}\u{1F3FE}","\u{1F3CC}\u{1F3FF}"],c:"People"},{n:"flag_zw",e:"\u{1F1FF}\u{1F1FC}",v:[],c:"Flags"},{n:"man_golfing",e:"\u{1F3CC}\uFE0F\u200D\u2642\uFE0F",v:["\u{1F3CC}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F3CC}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F3CC}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F3CC}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F3CC}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"flag_england",e:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0065}\u{E006E}\u{E0067}\u{E007F}",v:[],c:"Flags"},{n:"woman_golfing",e:"\u{1F3CC}\uFE0F\u200D\u2640\uFE0F",v:["\u{1F3CC}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F3CC}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F3CC}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F3CC}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F3CC}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"flag_scotland",e:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0073}\u{E0063}\u{E0074}\u{E007F}",v:[],c:"Flags"},{n:"flag_wales",e:"\u{1F3F4}\u{E0067}\u{E0062}\u{E0077}\u{E006C}\u{E0073}\u{E007F}",v:[],c:"Flags"},{n:"surfer",e:"\u{1F3C4}",v:["\u{1F3C4}\u{1F3FB}","\u{1F3C4}\u{1F3FC}","\u{1F3C4}\u{1F3FD}","\u{1F3C4}\u{1F3FE}","\u{1F3C4}\u{1F3FF}"],c:"People"},{n:"man_surfing",e:"\u{1F3C4}\u200D\u2642\uFE0F",v:["\u{1F3C4}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F3C4}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F3C4}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F3C4}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F3C4}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_surfing",e:"\u{1F3C4}\u200D\u2640\uFE0F",v:["\u{1F3C4}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F3C4}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F3C4}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F3C4}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F3C4}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"rowboat",e:"\u{1F6A3}",v:["\u{1F6A3}\u{1F3FB}","\u{1F6A3}\u{1F3FC}","\u{1F6A3}\u{1F3FD}","\u{1F6A3}\u{1F3FE}","\u{1F6A3}\u{1F3FF}"],c:"People"},{n:"man_rowing_boat",e:"\u{1F6A3}\u200D\u2642\uFE0F",v:["\u{1F6A3}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F6A3}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F6A3}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F6A3}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F6A3}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_rowing_boat",e:"\u{1F6A3}\u200D\u2640\uFE0F",v:["\u{1F6A3}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F6A3}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F6A3}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F6A3}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F6A3}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"swimmer",e:"\u{1F3CA}",v:["\u{1F3CA}\u{1F3FB}","\u{1F3CA}\u{1F3FC}","\u{1F3CA}\u{1F3FD}","\u{1F3CA}\u{1F3FE}","\u{1F3CA}\u{1F3FF}"],c:"People"},{n:"man_swimming",e:"\u{1F3CA}\u200D\u2642\uFE0F",v:["\u{1F3CA}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F3CA}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F3CA}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F3CA}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F3CA}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_swimming",e:"\u{1F3CA}\u200D\u2640\uFE0F",v:["\u{1F3CA}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F3CA}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F3CA}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F3CA}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F3CA}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"person_with_ball",e:"\u26F9\uFE0F",v:["\u26F9\u{1F3FB}","\u26F9\u{1F3FC}","\u26F9\u{1F3FD}","\u26F9\u{1F3FE}","\u26F9\u{1F3FF}"],c:"People"},{n:"man_bouncing_ball",e:"\u26F9\uFE0F\u200D\u2642\uFE0F",v:["\u26F9\u{1F3FB}\u200D\u2642\uFE0F","\u26F9\u{1F3FC}\u200D\u2642\uFE0F","\u26F9\u{1F3FD}\u200D\u2642\uFE0F","\u26F9\u{1F3FE}\u200D\u2642\uFE0F","\u26F9\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_bouncing_ball",e:"\u26F9\uFE0F\u200D\u2640\uFE0F",v:["\u26F9\u{1F3FB}\u200D\u2640\uFE0F","\u26F9\u{1F3FC}\u200D\u2640\uFE0F","\u26F9\u{1F3FD}\u200D\u2640\uFE0F","\u26F9\u{1F3FE}\u200D\u2640\uFE0F","\u26F9\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"weight_lifter",e:"\u{1F3CB}\uFE0F",v:["\u{1F3CB}\u{1F3FB}","\u{1F3CB}\u{1F3FC}","\u{1F3CB}\u{1F3FD}","\u{1F3CB}\u{1F3FE}","\u{1F3CB}\u{1F3FF}"],c:"People"},{n:"man_lifting_weights",e:"\u{1F3CB}\uFE0F\u200D\u2642\uFE0F",v:["\u{1F3CB}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F3CB}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F3CB}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F3CB}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F3CB}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_lifting_weights",e:"\u{1F3CB}\uFE0F\u200D\u2640\uFE0F",v:["\u{1F3CB}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F3CB}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F3CB}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F3CB}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F3CB}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"bicyclist",e:"\u{1F6B4}",v:["\u{1F6B4}\u{1F3FB}","\u{1F6B4}\u{1F3FC}","\u{1F6B4}\u{1F3FD}","\u{1F6B4}\u{1F3FE}","\u{1F6B4}\u{1F3FF}"],c:"People"},{n:"man_biking",e:"\u{1F6B4}\u200D\u2642\uFE0F",v:["\u{1F6B4}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F6B4}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F6B4}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F6B4}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F6B4}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_biking",e:"\u{1F6B4}\u200D\u2640\uFE0F",v:["\u{1F6B4}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F6B4}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F6B4}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F6B4}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F6B4}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"mountain_bicyclist",e:"\u{1F6B5}",v:["\u{1F6B5}\u{1F3FB}","\u{1F6B5}\u{1F3FC}","\u{1F6B5}\u{1F3FD}","\u{1F6B5}\u{1F3FE}","\u{1F6B5}\u{1F3FF}"],c:"People"},{n:"man_mountain_biking",e:"\u{1F6B5}\u200D\u2642\uFE0F",v:["\u{1F6B5}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F6B5}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F6B5}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F6B5}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F6B5}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_mountain_biking",e:"\u{1F6B5}\u200D\u2640\uFE0F",v:["\u{1F6B5}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F6B5}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F6B5}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F6B5}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F6B5}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"racing_car",e:"\u{1F3CE}\uFE0F",v:[],c:"People"},{n:"racing_motorcycle",e:"\u{1F3CD}\uFE0F",v:[],c:"People"},{n:"person_doing_cartwheel",e:"\u{1F938}",v:["\u{1F938}\u{1F3FB}","\u{1F938}\u{1F3FC}","\u{1F938}\u{1F3FD}","\u{1F938}\u{1F3FE}","\u{1F938}\u{1F3FF}"],c:"People"},{n:"man_cartwheeling",e:"\u{1F938}\u200D\u2642\uFE0F",v:["\u{1F938}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F938}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F938}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F938}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F938}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_cartwheeling",e:"\u{1F938}\u200D\u2640\uFE0F",v:["\u{1F938}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F938}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F938}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F938}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F938}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"wrestlers",e:"\u{1F93C}",v:[],c:"People"},{n:"man_wrestling",e:"\u{1F93C}\u200D\u2642\uFE0F",v:[],c:"People"},{n:"woman_wrestling",e:"\u{1F93C}\u200D\u2640\uFE0F",v:[],c:"People"},{n:"water_polo",e:"\u{1F93D}",v:["\u{1F93D}\u{1F3FB}","\u{1F93D}\u{1F3FC}","\u{1F93D}\u{1F3FD}","\u{1F93D}\u{1F3FE}","\u{1F93D}\u{1F3FF}"],c:"People"},{n:"man_playing_water_polo",e:"\u{1F93D}\u200D\u2642\uFE0F",v:["\u{1F93D}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F93D}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F93D}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F93D}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F93D}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_playing_water_polo",e:"\u{1F93D}\u200D\u2640\uFE0F",v:["\u{1F93D}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F93D}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F93D}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F93D}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F93D}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"handball",e:"\u{1F93E}",v:["\u{1F93E}\u{1F3FB}","\u{1F93E}\u{1F3FC}","\u{1F93E}\u{1F3FD}","\u{1F93E}\u{1F3FE}","\u{1F93E}\u{1F3FF}"],c:"People"},{n:"man_playing_handball",e:"\u{1F93E}\u200D\u2642\uFE0F",v:["\u{1F93E}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F93E}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F93E}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F93E}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F93E}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_playing_handball",e:"\u{1F93E}\u200D\u2640\uFE0F",v:["\u{1F93E}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F93E}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F93E}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F93E}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F93E}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"juggling",e:"\u{1F939}",v:["\u{1F939}\u{1F3FB}","\u{1F939}\u{1F3FC}","\u{1F939}\u{1F3FD}","\u{1F939}\u{1F3FE}","\u{1F939}\u{1F3FF}"],c:"People"},{n:"man_juggling",e:"\u{1F939}\u200D\u2642\uFE0F",v:["\u{1F939}\u{1F3FB}\u200D\u2642\uFE0F","\u{1F939}\u{1F3FC}\u200D\u2642\uFE0F","\u{1F939}\u{1F3FD}\u200D\u2642\uFE0F","\u{1F939}\u{1F3FE}\u200D\u2642\uFE0F","\u{1F939}\u{1F3FF}\u200D\u2642\uFE0F"],c:"People"},{n:"woman_juggling",e:"\u{1F939}\u200D\u2640\uFE0F",v:["\u{1F939}\u{1F3FB}\u200D\u2640\uFE0F","\u{1F939}\u{1F3FC}\u200D\u2640\uFE0F","\u{1F939}\u{1F3FD}\u200D\u2640\uFE0F","\u{1F939}\u{1F3FE}\u200D\u2640\uFE0F","\u{1F939}\u{1F3FF}\u200D\u2640\uFE0F"],c:"People"},{n:"couple",e:"\u{1F46B}",v:[],c:"People"},{n:"two_men_holding_hands",e:"\u{1F46C}",v:[],c:"People"},{n:"two_women_holding_hands",e:"\u{1F46D}",v:[],c:"People"},{n:"couplekiss",e:"\u{1F48F}",v:[],c:"People"},{n:"woman_kiss_man",e:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}",v:[],c:"People"},{n:"man_kiss_man",e:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F468}",v:[],c:"People"},{n:"woman_kiss_woman",e:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F48B}\u200D\u{1F469}",v:[],c:"People"},{n:"couple_with_heart",e:"\u{1F491}",v:[],c:"People"},{n:"woman_heart_man",e:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F468}",v:[],c:"People"},{n:"man_heart_man",e:"\u{1F468}\u200D\u2764\uFE0F\u200D\u{1F468}",v:[],c:"People"},{n:"woman_heart_woman",e:"\u{1F469}\u200D\u2764\uFE0F\u200D\u{1F469}",v:[],c:"People"},{n:"family",e:"\u{1F46A}",v:[],c:"People"},{n:"man_woman_boy",e:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}",v:[],c:"People"},{n:"man_woman_girl",e:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}",v:[],c:"People"},{n:"man_woman_girl_boy",e:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",v:[],c:"People"},{n:"man_woman_boy_boy",e:"\u{1F468}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",v:[],c:"People"},{n:"man_woman_girl_girl",e:"\u{1F468}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",v:[],c:"People"},{n:"man_man_boy",e:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}",v:[],c:"People"},{n:"man_man_girl",e:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}",v:[],c:"People"},{n:"man_man_girl_boy",e:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",v:[],c:"People"},{n:"man_man_boy_boy",e:"\u{1F468}\u200D\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",v:[],c:"People"},{n:"man_man_girl_girl",e:"\u{1F468}\u200D\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",v:[],c:"People"},{n:"woman_woman_boy",e:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_woman_girl",e:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}",v:[],c:"People"},{n:"woman_woman_girl_boy",e:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_woman_boy_boy",e:"\u{1F469}\u200D\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_woman_girl_girl",e:"\u{1F469}\u200D\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",v:[],c:"People"},{n:"man_boy",e:"\u{1F468}\u200D\u{1F466}",v:[],c:"People"},{n:"man_boy_boy",e:"\u{1F468}\u200D\u{1F466}\u200D\u{1F466}",v:[],c:"People"},{n:"man_girl",e:"\u{1F468}\u200D\u{1F467}",v:[],c:"People"},{n:"man_girl_boy",e:"\u{1F468}\u200D\u{1F467}\u200D\u{1F466}",v:[],c:"People"},{n:"man_girl_girl",e:"\u{1F468}\u200D\u{1F467}\u200D\u{1F467}",v:[],c:"People"},{n:"woman_boy",e:"\u{1F469}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_boy_boy",e:"\u{1F469}\u200D\u{1F466}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_girl",e:"\u{1F469}\u200D\u{1F467}",v:[],c:"People"},{n:"woman_girl_boy",e:"\u{1F469}\u200D\u{1F467}\u200D\u{1F466}",v:[],c:"People"},{n:"woman_girl_girl",e:"\u{1F469}\u200D\u{1F467}\u200D\u{1F467}",v:[],c:"People"},{n:"selfie",e:"\u{1F933}",v:["\u{1F933}\u{1F3FB}","\u{1F933}\u{1F3FC}","\u{1F933}\u{1F3FD}","\u{1F933}\u{1F3FE}","\u{1F933}\u{1F3FF}"],c:"People"},{n:"muscle",e:"\u{1F4AA}",v:["\u{1F4AA}\u{1F3FB}","\u{1F4AA}\u{1F3FC}","\u{1F4AA}\u{1F3FD}","\u{1F4AA}\u{1F3FE}","\u{1F4AA}\u{1F3FF}"],c:"People"},{n:"point_left",e:"\u{1F448}",v:["\u{1F448}\u{1F3FB}","\u{1F448}\u{1F3FC}","\u{1F448}\u{1F3FD}","\u{1F448}\u{1F3FE}","\u{1F448}\u{1F3FF}"],c:"People"},{n:"point_right",e:"\u{1F449}",v:["\u{1F449}\u{1F3FB}","\u{1F449}\u{1F3FC}","\u{1F449}\u{1F3FD}","\u{1F449}\u{1F3FE}","\u{1F449}\u{1F3FF}"],c:"People"},{n:"point_up",e:"\u261D\uFE0F",v:["\u261D\u{1F3FB}","\u261D\u{1F3FC}","\u261D\u{1F3FD}","\u261D\u{1F3FE}","\u261D\u{1F3FF}"],c:"People"},{n:"point_up_2",e:"\u{1F446}",v:["\u{1F446}\u{1F3FB}","\u{1F446}\u{1F3FC}","\u{1F446}\u{1F3FD}","\u{1F446}\u{1F3FE}","\u{1F446}\u{1F3FF}"],c:"People"},{n:"middle_finger",e:"\u{1F595}",v:["\u{1F595}\u{1F3FB}","\u{1F595}\u{1F3FC}","\u{1F595}\u{1F3FD}","\u{1F595}\u{1F3FE}","\u{1F595}\u{1F3FF}"],c:"People"},{n:"point_down",e:"\u{1F447}",v:["\u{1F447}\u{1F3FB}","\u{1F447}\u{1F3FC}","\u{1F447}\u{1F3FD}","\u{1F447}\u{1F3FE}","\u{1F447}\u{1F3FF}"],c:"People"},{n:"v",e:"\u270C\uFE0F",v:["\u270C\u{1F3FB}","\u270C\u{1F3FC}","\u270C\u{1F3FD}","\u270C\u{1F3FE}","\u270C\u{1F3FF}"],c:"People"},{n:"crossed_fingers",e:"\u{1F91E}",v:["\u{1F91E}\u{1F3FB}","\u{1F91E}\u{1F3FC}","\u{1F91E}\u{1F3FD}","\u{1F91E}\u{1F3FE}","\u{1F91E}\u{1F3FF}"],c:"People"},{n:"spock_hand",e:"\u{1F596}",v:["\u{1F596}\u{1F3FB}","\u{1F596}\u{1F3FC}","\u{1F596}\u{1F3FD}","\u{1F596}\u{1F3FE}","\u{1F596}\u{1F3FF}"],c:"People"},{n:"the_horns",e:"\u{1F918}",v:["\u{1F918}\u{1F3FB}","\u{1F918}\u{1F3FC}","\u{1F918}\u{1F3FD}","\u{1F918}\u{1F3FE}","\u{1F918}\u{1F3FF}"],c:"People"},{n:"call_me_hand",e:"\u{1F919}",v:["\u{1F919}\u{1F3FB}","\u{1F919}\u{1F3FC}","\u{1F919}\u{1F3FD}","\u{1F919}\u{1F3FE}","\u{1F919}\u{1F3FF}"],c:"People"},{n:"raised_hand_with_fingers_splayed",e:"\u{1F590}\uFE0F",v:["\u{1F590}\u{1F3FB}","\u{1F590}\u{1F3FC}","\u{1F590}\u{1F3FD}","\u{1F590}\u{1F3FE}","\u{1F590}\u{1F3FF}"],c:"People"},{n:"hand",e:"\u270B",v:["\u270B\u{1F3FB}","\u270B\u{1F3FC}","\u270B\u{1F3FD}","\u270B\u{1F3FE}","\u270B\u{1F3FF}"],c:"People"},{n:"ok_hand",e:"\u{1F44C}",v:["\u{1F44C}\u{1F3FB}","\u{1F44C}\u{1F3FC}","\u{1F44C}\u{1F3FD}","\u{1F44C}\u{1F3FE}","\u{1F44C}\u{1F3FF}"],c:"People"},{n:"+1",e:"\u{1F44D}",v:[],c:"People"},{n:"_1",e:"\u{1F44E}",v:["\u{1F44E}\u{1F3FB}","\u{1F44E}\u{1F3FC}","\u{1F44E}\u{1F3FD}","\u{1F44E}\u{1F3FE}","\u{1F44E}\u{1F3FF}"],c:"People"},{n:"fist",e:"\u270A",v:["\u270A\u{1F3FB}","\u270A\u{1F3FC}","\u270A\u{1F3FD}","\u270A\u{1F3FE}","\u270A\u{1F3FF}"],c:"People"},{n:"facepunch",e:"\u{1F44A}",v:["\u{1F44A}\u{1F3FB}","\u{1F44A}\u{1F3FC}","\u{1F44A}\u{1F3FD}","\u{1F44A}\u{1F3FE}","\u{1F44A}\u{1F3FF}"],c:"People"},{n:"left_facing_fist",e:"\u{1F91B}",v:["\u{1F91B}\u{1F3FB}","\u{1F91B}\u{1F3FC}","\u{1F91B}\u{1F3FD}","\u{1F91B}\u{1F3FE}","\u{1F91B}\u{1F3FF}"],c:"People"},{n:"right_facing_fist",e:"\u{1F91C}",v:["\u{1F91C}\u{1F3FB}","\u{1F91C}\u{1F3FC}","\u{1F91C}\u{1F3FD}","\u{1F91C}\u{1F3FE}","\u{1F91C}\u{1F3FF}"],c:"People"},{n:"raised_back_of_hand",e:"\u{1F91A}",v:["\u{1F91A}\u{1F3FB}","\u{1F91A}\u{1F3FC}","\u{1F91A}\u{1F3FD}","\u{1F91A}\u{1F3FE}","\u{1F91A}\u{1F3FF}"],c:"People"},{n:"wave",e:"\u{1F44B}",v:["\u{1F44B}\u{1F3FB}","\u{1F44B}\u{1F3FC}","\u{1F44B}\u{1F3FD}","\u{1F44B}\u{1F3FE}","\u{1F44B}\u{1F3FF}"],c:"People"},{n:"i_love_you_hand_sign",e:"\u{1F91F}",v:["\u{1F91F}\u{1F3FB}","\u{1F91F}\u{1F3FC}","\u{1F91F}\u{1F3FD}","\u{1F91F}\u{1F3FE}","\u{1F91F}\u{1F3FF}"],c:"People"},{n:"writing_hand",e:"\u270D\uFE0F",v:["\u270D\u{1F3FB}","\u270D\u{1F3FC}","\u270D\u{1F3FD}","\u270D\u{1F3FE}","\u270D\u{1F3FF}"],c:"People"},{n:"clap",e:"\u{1F44F}",v:["\u{1F44F}\u{1F3FB}","\u{1F44F}\u{1F3FC}","\u{1F44F}\u{1F3FD}","\u{1F44F}\u{1F3FE}","\u{1F44F}\u{1F3FF}"],c:"People"},{n:"open_hands",e:"\u{1F450}",v:["\u{1F450}\u{1F3FB}","\u{1F450}\u{1F3FC}","\u{1F450}\u{1F3FD}","\u{1F450}\u{1F3FE}","\u{1F450}\u{1F3FF}"],c:"People"},{n:"raised_hands",e:"\u{1F64C}",v:["\u{1F64C}\u{1F3FB}","\u{1F64C}\u{1F3FC}","\u{1F64C}\u{1F3FD}","\u{1F64C}\u{1F3FE}","\u{1F64C}\u{1F3FF}"],c:"People"},{n:"palms_up_together",e:"\u{1F932}",v:["\u{1F932}\u{1F3FB}","\u{1F932}\u{1F3FC}","\u{1F932}\u{1F3FD}","\u{1F932}\u{1F3FE}","\u{1F932}\u{1F3FF}"],c:"People"},{n:"pray",e:"\u{1F64F}",v:["\u{1F64F}\u{1F3FB}","\u{1F64F}\u{1F3FC}","\u{1F64F}\u{1F3FD}","\u{1F64F}\u{1F3FE}","\u{1F64F}\u{1F3FF}"],c:"People"},{n:"handshake",e:"\u{1F91D}",v:[],c:"People"},{n:"nail_care",e:"\u{1F485}",v:["\u{1F485}\u{1F3FB}","\u{1F485}\u{1F3FC}","\u{1F485}\u{1F3FD}","\u{1F485}\u{1F3FE}","\u{1F485}\u{1F3FF}"],c:"People"},{n:"ear",e:"\u{1F442}",v:["\u{1F442}\u{1F3FB}","\u{1F442}\u{1F3FC}","\u{1F442}\u{1F3FD}","\u{1F442}\u{1F3FE}","\u{1F442}\u{1F3FF}"],c:"People"},{n:"nose",e:"\u{1F443}",v:["\u{1F443}\u{1F3FB}","\u{1F443}\u{1F3FC}","\u{1F443}\u{1F3FD}","\u{1F443}\u{1F3FE}","\u{1F443}\u{1F3FF}"],c:"People"},{n:"footprints",e:"\u{1F463}",v:[],c:"People"},{n:"eyes",e:"\u{1F440}",v:[],c:"People"},{n:"eye",e:"\u{1F441}\uFE0F",v:[],c:"People"},{n:"eye_in_speech_bubble",e:"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F",v:[],c:"People"},{n:"brain",e:"\u{1F9E0}",v:[],c:"People"},{n:"tongue",e:"\u{1F445}",v:[],c:"People"},{n:"lips",e:"\u{1F444}",v:[],c:"People"},{n:"kiss",e:"\u{1F48B}",v:[],c:"People"},{n:"cupid",e:"\u{1F498}",v:[],c:"People"},{n:"heart",e:"\u2764\uFE0F",v:[],c:"People"},{n:"heartbeat",e:"\u{1F493}",v:[],c:"People"},{n:"broken_heart",e:"\u{1F494}",v:[],c:"People"},{n:"two_hearts",e:"\u{1F495}",v:[],c:"People"},{n:"sparkling_heart",e:"\u{1F496}",v:[],c:"People"},{n:"heartpulse",e:"\u{1F497}",v:[],c:"People"},{n:"blue_heart",e:"\u{1F499}",v:[],c:"People"},{n:"green_heart",e:"\u{1F49A}",v:[],c:"People"},{n:"yellow_heart",e:"\u{1F49B}",v:[],c:"People"},{n:"orange_heart",e:"\u{1F9E1}",v:[],c:"People"},{n:"purple_heart",e:"\u{1F49C}",v:[],c:"People"},{n:"black_heart",e:"\u{1F5A4}",v:[],c:"People"},{n:"gift_heart",e:"\u{1F49D}",v:[],c:"People"},{n:"revolving_hearts",e:"\u{1F49E}",v:[],c:"People"},{n:"heart_decoration",e:"\u{1F49F}",v:[],c:"People"},{n:"heavy_heart_exclamation_mark_ornament",e:"\u2763\uFE0F",v:[],c:"People"},{n:"love_letter",e:"\u{1F48C}",v:[],c:"People"},{n:"zzz",e:"\u{1F4A4}",v:[],c:"People"},{n:"anger",e:"\u{1F4A2}",v:[],c:"People"},{n:"bomb",e:"\u{1F4A3}",v:[],c:"People"},{n:"boom",e:"\u{1F4A5}",v:[],c:"People"},{n:"sweat_drops",e:"\u{1F4A6}",v:[],c:"People"},{n:"dash",e:"\u{1F4A8}",v:[],c:"People"},{n:"dizzy",e:"\u{1F4AB}",v:[],c:"People"},{n:"speech_balloon",e:"\u{1F4AC}",v:[],c:"People"},{n:"left_speech_bubble",e:"\u{1F5E8}\uFE0F",v:[],c:"People"},{n:"right_anger_bubble",e:"\u{1F5EF}\uFE0F",v:[],c:"People"},{n:"thought_balloon",e:"\u{1F4AD}",v:[],c:"People"},{n:"hole",e:"\u{1F573}\uFE0F",v:[],c:"People"},{n:"eyeglasses",e:"\u{1F453}",v:[],c:"People"},{n:"dark_sunglasses",e:"\u{1F576}\uFE0F",v:[],c:"People"},{n:"necktie",e:"\u{1F454}",v:[],c:"People"},{n:"shirt",e:"\u{1F455}",v:[],c:"People"},{n:"jeans",e:"\u{1F456}",v:[],c:"People"},{n:"scarf",e:"\u{1F9E3}",v:[],c:"People"},{n:"gloves",e:"\u{1F9E4}",v:[],c:"People"},{n:"coat",e:"\u{1F9E5}",v:[],c:"People"},{n:"socks",e:"\u{1F9E6}",v:[],c:"People"},{n:"dress",e:"\u{1F457}",v:[],c:"People"},{n:"kimono",e:"\u{1F458}",v:[],c:"People"},{n:"bikini",e:"\u{1F459}",v:[],c:"People"},{n:"womans_clothes",e:"\u{1F45A}",v:[],c:"People"},{n:"purse",e:"\u{1F45B}",v:[],c:"People"},{n:"handbag",e:"\u{1F45C}",v:[],c:"People"},{n:"pouch",e:"\u{1F45D}",v:[],c:"People"},{n:"shopping_bags",e:"\u{1F6CD}\uFE0F",v:[],c:"People"},{n:"school_satchel",e:"\u{1F392}",v:[],c:"People"},{n:"mans_shoe",e:"\u{1F45E}",v:[],c:"People"},{n:"athletic_shoe",e:"\u{1F45F}",v:[],c:"People"},{n:"high_heel",e:"\u{1F460}",v:[],c:"People"},{n:"sandal",e:"\u{1F461}",v:[],c:"People"},{n:"boot",e:"\u{1F462}",v:[],c:"People"},{n:"crown",e:"\u{1F451}",v:[],c:"People"},{n:"womans_hat",e:"\u{1F452}",v:[],c:"People"},{n:"tophat",e:"\u{1F3A9}",v:[],c:"People"},{n:"mortar_board",e:"\u{1F393}",v:[],c:"People"},{n:"billed_cap",e:"\u{1F9E2}",v:[],c:"People"},{n:"helmet_with_white_cross",e:"\u26D1\uFE0F",v:[],c:"People"},{n:"prayer_beads",e:"\u{1F4FF}",v:[],c:"People"},{n:"lipstick",e:"\u{1F484}",v:[],c:"People"},{n:"ring",e:"\u{1F48D}",v:[],c:"People"},{n:"gem",e:"\u{1F48E}",v:[],c:"People"}];function H4e(i){let e,t;return e=new zi({props:{title:"No emojis found",emoji:"\u{1F62D}"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function V4e(i){let e,t;return e=new Cw({props:{emojis:i[0],withTabs:!1}}),e.$on("emojihover",i[2]),e.$on("emojiclick",i[3]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.emojis=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function x4e(i){let e,t,n,r;const s=[V4e,H4e],l=[];function o(a,u){return a[0].length?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"class","")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,[u]){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function G4e(i,e,t){let n,{searchText:r=""}=e;Ut();function s(o){$l.call(this,i,o)}function l(o){$l.call(this,i,o)}return i.$$set=o=>{"searchText"in o&&t(1,r=o.searchText)},i.$$.update=()=>{i.$$.dirty&2&&t(0,n=cY.filter(o=>o.n.indexOf((r||"").toLowerCase())>=0))},[n,r,s,l]}class Z4e extends pe{constructor(e){super(),me(this,e,G4e,x4e,he,{searchText:1})}}function U8(i,e,t){const n=i.slice();return n[5]=e[t],n}function W8(i){let e,t;return e=new $j({props:{emoji:i[0][i[5]]}}),e.$on("emojiclick",i[3]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.emoji=n[0][n[5]]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function X4e(i){let e,t,n,r,s,l,o,a,u=Object.keys(i[0]),c=[];for(let d=0;d<u.length;d+=1)c[d]=W8(U8(i,u,d));const f=d=>v(c[d],1,1,()=>{c[d]=null});return s=new et({props:{icon:Qa}}),{c(){e=P("div"),t=P("div");for(let d=0;d<c.length;d+=1)c[d].c();n=W(),r=P("div"),B(s.$$.fragment),h(r,"class","close-button"),h(r,"role","button"),h(t,"class","svelte-emoji-picker__variants"),h(e,"class","svelte-emoji-picker__variants-container frosted")},m(d,m){w(d,e,m),D(e,t);for(let p=0;p<c.length;p+=1)c[p].m(t,null);D(t,n),D(t,r),O(s,r,null),l=!0,o||(a=[Se(r,"click",i[1]),Se(e,"click",i[2])],o=!0)},p(d,[m]){if(m&1){u=Object.keys(d[0]);let p;for(p=0;p<u.length;p+=1){const g=U8(d,u,p);c[p]?(c[p].p(g,m),_(c[p],1)):(c[p]=W8(g),c[p].c(),_(c[p],1),c[p].m(t,n))}for(ae(),p=u.length;p<c.length;p+=1)f(p);ue()}},i(d){if(!l){for(let m=0;m<u.length;m+=1)_(c[m]);_(s.$$.fragment,d),l=!0}},o(d){c=c.filter(Boolean);for(let m=0;m<c.length;m+=1)v(c[m]);v(s.$$.fragment,d),l=!1},d(d){d&&y(e),pt(c,d),I(s),o=!1,Ot(a)}}}function K4e(i,e,t){let{variants:n}=e;const r=Ut();function s(){r("close")}function l(a){r("close",a)}function o(a){$l.call(this,i,a)}return i.$$set=a=>{"variants"in a&&t(0,n=a.variants)},[n,s,l,o]}class J4e extends pe{constructor(e){super(),me(this,e,K4e,X4e,he,{variants:0})}}const Q4e=i=>({}),q8=i=>({}),e6e=i=>({}),H8=i=>({});function t6e(i){let e,t,n,r,s,l,o,a,u;const c=i[9].header,f=nt(c,i,i[8],H8),d=i[9].default,m=nt(d,i,i[8],null),p=i[9].footer,g=nt(p,i,i[8],q8);return{c(){e=P("div"),t=P("div"),f&&f.c(),n=W(),r=P("div"),m&&m.c(),l=W(),o=P("div"),g&&g.c(),h(t,"class","nui-panel--header"),h(r,"class",s="nui-panel--main "+i[5]),h(o,"class","nui-panel--footer"),h(e,"id",i[7]),h(e,"class",a="nui nui-panel "+(i[1]?"nui-rounded":"")+" "+i[4]),h(e,"style",i[0]),ct(e,"relative",i[2]),ct(e,"absolute",i[3]),ct(e,"clear",i[6])},m(k,$){w(k,e,$),D(e,t),f&&f.m(t,null),D(e,n),D(e,r),m&&m.m(r,null),D(e,l),D(e,o),g&&g.m(o,null),u=!0},p(k,[$]){f&&f.p&&(!u||$&256)&&rt(f,c,k,k[8],u?it(c,k[8],$,e6e):st(k[8]),H8),m&&m.p&&(!u||$&256)&&rt(m,d,k,k[8],u?it(d,k[8],$,null):st(k[8]),null),(!u||$&32&&s!==(s="nui-panel--main "+k[5]))&&h(r,"class",s),g&&g.p&&(!u||$&256)&&rt(g,p,k,k[8],u?it(p,k[8],$,Q4e):st(k[8]),q8),(!u||$&128)&&h(e,"id",k[7]),(!u||$&18&&a!==(a="nui nui-panel "+(k[1]?"nui-rounded":"")+" "+k[4]))&&h(e,"class",a),(!u||$&1)&&h(e,"style",k[0]),(!u||$&22)&&ct(e,"relative",k[2]),(!u||$&26)&&ct(e,"absolute",k[3]),(!u||$&82)&&ct(e,"clear",k[6])},i(k){u||(_(f,k),_(m,k),_(g,k),u=!0)},o(k){v(f,k),v(m,k),v(g,k),u=!1},d(k){k&&y(e),f&&f.d(k),m&&m.d(k),g&&g.d(k)}}}function n6e(i,e,t){let{$$slots:n={},$$scope:r}=e,{style:s=""}=e,{rounded:l=!1}=e,{relative:o=!0}=e,{absolute:a=!1}=e,{className:u=""}=e,{mainClass:c=""}=e,{clear:f=!1}=e,{id:d=void 0}=e;return i.$$set=m=>{"style"in m&&t(0,s=m.style),"rounded"in m&&t(1,l=m.rounded),"relative"in m&&t(2,o=m.relative),"absolute"in m&&t(3,a=m.absolute),"className"in m&&t(4,u=m.className),"mainClass"in m&&t(5,c=m.mainClass),"clear"in m&&t(6,f=m.clear),"id"in m&&t(7,d=m.id),"$$scope"in m&&t(8,r=m.$$scope)},[s,l,o,a,u,c,f,d,r,n]}class T0 extends pe{constructor(e){super(),me(this,e,n6e,t6e,he,{style:0,rounded:1,relative:2,absolute:3,className:4,mainClass:5,clear:6,id:7})}}function i6e(i){let e,t;return e=new Cw({props:{emojis:i[4][i[6]]}}),e.$on("emojihover",i[9]),e.$on("emojiclick",i[10]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&80&&(s.emojis=n[4][n[6]]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function r6e(i){let e,t;return e=new Cw({props:{emojis:i[3]}}),e.$on("emojihover",i[9]),e.$on("emojiclick",i[10]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.emojis=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function s6e(i){let e,t;return e=new Z4e({props:{searchText:i[2]}}),e.$on("emojihover",i[9]),e.$on("emojiclick",i[10]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.searchText=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function l6e(i){let e,t,n,r;const s=[s6e,r6e,i6e],l=[];function o(a,u){return a[2]?0:a[6]?2:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function V8(i){let e,t;return e=new J4e({props:{variants:i[1]}}),e.$on("emojiclick",i[11]),e.$on("close",i[12]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.variants=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function o6e(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p;function g(C){i[15](C)}let k={};i[2]!==void 0&&(k.searchText=i[2]),n=new q4e({props:k}),Oe.push(()=>Qe(n,"searchText",g,i[2])),l=new Hl({props:{scrollable:!0,className:"text-xl overscroll-y-auto my-2",buttons:[{label:"\u23F0",active:i[5]==0,click:i[16]},...i[7].map(i[17])]}}),a=new T0({props:{className:"w-full h-full ",$$slots:{default:[l6e]},$$scope:{ctx:i}}});let $=i[0]&&V8(i);return{c(){e=W(),t=P("div"),B(n.$$.fragment),s=W(),B(l.$$.fragment),o=W(),B(a.$$.fragment),u=W(),c=P("section"),f=W(),$&&$.c(),h(c,"aria-label","search Emojis"),h(t,"class","flex px-2 lg:px-4 flex-col overflow-hidden h-full")},m(C,E){w(C,e,E),w(C,t,E),O(n,t,null),D(t,s),O(l,t,null),D(t,o),O(a,t,null),D(t,u),D(t,c),D(t,f),$&&$.m(t,null),d=!0,m||(p=[Se(document.body,"keydown",x8),Se(t,"keydown",x8)],m=!0)},p(C,[E]){const S={};!r&&E&4&&(r=!0,S.searchText=C[2],tt(()=>r=!1)),n.$set(S);const T={};E&96&&(T.buttons=[{label:"\u23F0",active:C[5]==0,click:C[16]},...C[7].map(C[17])]),l.$set(T);const M={};E&2097244&&(M.$$scope={dirty:E,ctx:C}),a.$set(M),C[0]?$?($.p(C,E),E&1&&_($,1)):($=V8(C),$.c(),_($,1),$.m(t,null)):$&&(ae(),v($,1,1,()=>{$=null}),ue())},i(C){d||(_(n.$$.fragment,C),_(l.$$.fragment,C),_(a.$$.fragment,C),_($),d=!0)},o(C){v(n.$$.fragment,C),v(l.$$.fragment,C),v(a.$$.fragment,C),v($),d=!1},d(C){C&&y(e),C&&y(t),I(n),I(l),I(a),$&&$.d(),m=!1,Ot(p)}}}function x8(i){i.key}function a6e(i,e,t){let{maxRecents:n=50}=e,{autoClose:r=!0}=e,s=!1,l,o,a=JSON.parse(localStorage.getItem("recent-emojis"))||[];const u=Ut(),c={};cY.forEach(R=>{let Y=c[R.c];Y||(Y=t(4,c[R.c]=[],c)),Y.push(R)});const f=["People","Nature","Eat","Activities","Places","Objects","Symbols","Flags"],d={People:"\u{1F600}",Nature:"\u{1F439}",Eat:"\u{1F35F}",Activities:"\u26BD\uFE0F",Places:"\u{1F3D8}",Objects:"\u{1F4A1}",Symbols:"\u{1F3B5}",Flags:"\u{1F3F4}\u200D\u2620\uFE0F"};function m(R){R.detail}function p(R){R.detail.v.length?(t(1,l=[R.detail.e,...R.detail.v]),t(0,s=!0)):(u("emoji",R.detail.e),k(R.detail))}function g(R){u("emoji",R.detail),k({e:R.detail}),$()}function k(R){t(3,a=[R,...a.filter(Y=>Y.e!==R.e)].slice(0,n)),localStorage.setItem("recent-emojis",JSON.stringify(a))}function $(){setTimeout(()=>{t(0,s=!1)})}let C=1,E="People";function S(R){o=R,t(2,o)}const T=function(){t(5,C=0),t(6,E=void 0)},M=(R,Y)=>({active:C==Y+1,label:d[R],click(){t(5,C=Y+1),t(6,E=R)}});return i.$$set=R=>{"maxRecents"in R&&t(13,n=R.maxRecents),"autoClose"in R&&t(14,r=R.autoClose)},[s,l,o,a,c,C,E,f,d,m,p,g,$,n,r,S,T,M]}class u6e extends pe{constructor(e){super(),me(this,e,a6e,o6e,he,{maxRecents:13,autoClose:14})}}function c6e(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Camera"),r=ye("circle"),s=ye("path"),h(r,"cx","256"),h(r,"cy","272"),h(r,"r","64"),h(s,"d","M432 144h-59c-3 0-6.72-1.94-9.62-5l-25.94-40.94a15.52 15.52 0 00-1.37-1.85C327.11 85.76 315 80 302 80h-92c-13 0-25.11 5.76-34.07 16.21a15.52 15.52 0 00-1.37 1.85l-25.94 41c-2.22 2.42-5.34 5-8.62 5v-8a16 16 0 00-16-16h-24a16 16 0 00-16 16v8h-4a48.05 48.05 0 00-48 48V384a48.05 48.05 0 0048 48h352a48.05 48.05 0 0048-48V192a48.05 48.05 0 00-48-48zM256 368a96 96 0 1196-96 96.11 96.11 0 01-96 96z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function f6e(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class d6e extends pe{constructor(e){super(),me(this,e,f6e,c6e,he,{size:0})}}function G8(i){let e,t,n,r,s,l,o,a,u;return e=new He({props:{className:i[0],clear:!0,primary:!0,$$slots:{default:[h6e]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){B(e.$$.fragment),t=W(),n=P("div"),r=P("input"),s=W(),l=P("canvas"),h(r,"class","w-0 h-0 overflow-hidden"),h(r,"type","file"),h(r,"id","input"),h(l,"class","opacity-0 pointer-events-none"),h(l,"id",i[5]),h(l,"width","64"),h(l,"height","64"),h(n,"class","w-0 h-0 stiff opacity-0 pointer-events-none")},m(c,f){O(e,c,f),w(c,t,f),w(c,n,f),D(n,r),i[10](r),D(n,s),D(n,l),i[11](l),o=!0,a||(u=Se(r,"input",i[7]),a=!0)},p(c,f){const d={};f&1&&(d.className=c[0]),f&16386&&(d.$$scope={dirty:f,ctx:c}),e.$set(d)},i(c){o||(_(e.$$.fragment,c),o=!0)},o(c){v(e.$$.fragment,c),o=!1},d(c){I(e,c),c&&y(t),c&&y(n),i[10](null),i[11](null),a=!1,u()}}}function h6e(i){let e,t,n,r;return e=new et({props:{className:"mr-2",icon:d6e}}),{c(){B(e.$$.fragment),t=W(),n=K(i[1])},m(s,l){O(e,s,l),w(s,t,l),w(s,n,l),r=!0},p(s,l){(!r||l&2)&&de(n,s[1])},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),s&&y(n)}}}function m6e(i){let e,t,n=i[4]&&G8(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[4]?n?(n.p(r,s),s&16&&_(n,1)):(n=G8(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function p6e(i,e,t){const n=`image-${Jn()}`,r=Ut();let s,l,{className:o=""}=e,{label:a="Select"}=e,{maxW:u=64*4}=e,{maxH:c=64*4}=e,f;const d=()=>{l.click()};function m($){let C=s.getContext("2d");var E=new Image;E.onload=function(){const S=E.width,T=E.height,M=Math.min(u/S,c/T),R=S*M,Y=T*M;t(2,s.width=R,s),t(2,s.height=Y,s),C.drawImage(E,0,0,R,Y),f=s.toDataURL("image/webp",.2),console.log(f,f.length),r("image",f)},E.src=URL.createObjectURL($.target.files[0])}let p=!1;Yt(()=>{t(4,p=!0)}),Ns(()=>{t(4,p=!1)});function g($){Oe[$?"unshift":"push"](()=>{l=$,t(3,l)})}function k($){Oe[$?"unshift":"push"](()=>{s=$,t(2,s)})}return i.$$set=$=>{"className"in $&&t(0,o=$.className),"label"in $&&t(1,a=$.label),"maxW"in $&&t(8,u=$.maxW),"maxH"in $&&t(9,c=$.maxH)},[o,a,s,l,p,n,d,m,u,c,g,k]}class _6e extends pe{constructor(e){super(),me(this,e,p6e,m6e,he,{className:0,label:1,maxW:8,maxH:9})}}function g6e(i){let e,t,n,r,s,l,o,a,u;t=new _6e({props:{label:"Select Image...",className:"w-full"}}),t.$on("image",i[21]);function c(d){i[22](d)}let f={listItem:!0,type:"url",placeholder:"URL to image"};return i[3]!==void 0&&(f.value=i[3]),o=new Wn({props:f}),Oe.push(()=>Qe(o,"value",c,i[3])),{c(){e=P("div"),B(t.$$.fragment),n=W(),r=P("div"),r.textContent="Or provide a url to the image",s=W(),l=P("div"),B(o.$$.fragment),h(r,"class","text-center pt-4 text-xs text-gray-500"),h(l,"class","bg-white dark:bg-black rounded-md"),h(e,"class","p-5 flex flex-col space-y-2")},m(d,m){w(d,e,m),O(t,e,null),D(e,n),D(e,r),D(e,s),D(e,l),O(o,l,null),u=!0},p(d,m){const p={};!a&&m&8&&(a=!0,p.value=d[3],tt(()=>a=!1)),o.$set(p)},i(d){u||(_(t.$$.fragment,d),_(o.$$.fragment,d),u=!0)},o(d){v(t.$$.fragment,d),v(o.$$.fragment,d),u=!1},d(d){d&&y(e),I(t),I(o)}}}function v6e(i){let e,t;return e=new B4e({props:{grid:!0,value:i[1]}}),e.$on("color",i[20]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.value=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function b6e(i){let e,t;return e=new u6e({}),e.$on("emoji",i[19]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function k6e(i){let e,t,n,r;const s=[b6e,v6e,g6e],l=[];function o(a,u){return a[0]==="emoji"?0:a[0]==="color"?1:a[0]==="image"?2:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=Ae()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function y6e(i){let e,t;return e=new et({props:{icon:xI}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function w6e(i){let e,t,n,r;return e=new He({props:{clear:!0,primary:!0,icon:!0,$$slots:{default:[y6e]},$$scope:{ctx:i}}}),e.$on("click",i[13]),n=new Hl({props:{id:"visualizer-btn-group",buttons:[{label:"Emoji",active:i[0]==="emoji",click:i[14]},{label:"Color",active:i[0]==="color",click:i[15]},{label:"Image",active:i[0]==="image",click:i[16]}]}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&8388608&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&1&&(a.buttons=[{label:"Emoji",active:s[0]==="emoji",click:s[14]},{label:"Color",active:s[0]==="color",click:s[15]},{label:"Image",active:s[0]==="image",click:s[16]}]),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function $6e(i){let e;return{c(){e=P("div"),h(e,"slot","right")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Z8(i){let e,t;return e=new kr({props:{emoji:i[2],src:i[3],className:"bg-white p-5 rounded-xl shadow-lg",size:80}}),e.$on("click",i[17]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.emoji=n[2]),r&8&&(s.src=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function X8(i){let e,t,n;return{c(){e=P("button"),e.textContent="Remove Image",h(e,"class","text-xs absolute top-2 right-3 py-1 px-3 rounded-full bg-black text-white")},m(r,s){w(r,e,s),t||(n=Se(e,"click",i[18]),t=!0)},p:Z,d(r){r&&y(e),t=!1,n()}}}function F6e(i){let e,t,n,r,s,l,o;t=new Os({props:{$$slots:{right:[$6e],default:[w6e]},$$scope:{ctx:i}}});let a=i[4]&&Z8(i),u=i[3]&&X8(i);return{c(){e=P("header"),B(t.$$.fragment),n=W(),r=P("section"),s=P("div"),a&&a.c(),l=W(),u&&u.c(),h(s,"class","p-4 text-center rounded-lg relative"),gt(s,"background-color",i[1]),h(r,"aria-label","Preview"),h(r,"class","px-4 py-2"),h(e,"slot","header"),h(e,"class","bg-gray-200 dark:bg-black")},m(c,f){w(c,e,f),O(t,e,null),D(e,n),D(e,r),D(r,s),a&&a.m(s,null),D(s,l),u&&u.m(s,null),o=!0},p(c,f){const d={};f&8388609&&(d.$$scope={dirty:f,ctx:c}),t.$set(d),c[4]?a?(a.p(c,f),f&16&&_(a,1)):(a=Z8(c),a.c(),_(a,1),a.m(s,l)):a&&(ae(),v(a,1,1,()=>{a=null}),ue()),c[3]?u?u.p(c,f):(u=X8(c),u.c(),u.m(s,null)):u&&(u.d(1),u=null),(!o||f&2)&&gt(s,"background-color",c[1])},i(c){o||(_(t.$$.fragment,c),_(a),o=!0)},o(c){v(t.$$.fragment,c),v(a),o=!1},d(c){c&&y(e),I(t),a&&a.d(),u&&u.d()}}}function E6e(i){let e,t;return e=new ti({props:{className:"",mainClass:"bg-white dark:bg-gray-900",$$slots:{header:[F6e],default:[k6e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&8388639&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function C6e(i,e,t){let{id:n}=e,{trackable:r}=e,{onComplete:s}=e,l="emoji",o,a,u,c=!0;const f=async()=>{t(4,c=!1),await Lt(2),t(4,c=!0)},d=()=>{const j=prompt("Want multiple emojis? Do it here:",r.emoji);j&&t(9,r.emoji=j,r)},m=()=>{t(9,r.avatar=void 0,r),t(3,u=void 0)};let p="";const g=()=>{s({emoji:a,avatar:u,color:o}),tn(n)},k=()=>{g()},$=function(){t(0,l="emoji")},C=function(){t(0,l="color")},E=function(){t(0,l="image")},S=()=>{d()},T=()=>{m(),f()},M=j=>{t(2,a=j.detail)},R=j=>{t(1,o=j.detail)},Y=j=>{t(3,u=j.detail),setTimeout(()=>{t(3,u=j.detail)},10),f()};function z(j){u=j,t(3,u),t(9,r),t(12,p)}return i.$$set=j=>{"id"in j&&t(10,n=j.id),"trackable"in j&&t(9,r=j.trackable),"onComplete"in j&&t(11,s=j.onComplete)},i.$$.update=()=>{if(i.$$.dirty&4608&&r&&di(r)!==p){t(12,p=di(r));const j=n0e(r);t(1,o=j.color),t(2,a=j.emoji),t(3,u=j.avatar)}},[l,o,a,u,c,f,d,m,g,r,n,s,p,k,$,C,E,S,T,M,R,Y,z]}class D6e extends pe{constructor(e){super(),me(this,e,C6e,E6e,he,{id:10,trackable:9,onComplete:11})}}const S6e=async i=>new Promise(e=>{On({id:`trackable-visual-${encodeURIComponent(i.tag)}`,component:D6e,componentProps:{trackable:i,onComplete(t){e(t)},onCancel(){e(void 0)}}})});function K8(i,e,t){const n=i.slice();return n[12]=e[t],n[14]=t,n}function J8(i){let e,t,n=[],r=new Map,s,l,o,a,u,c=i[3].results||[];const f=d=>d[14];for(let d=0;d<c.length;d+=1){let m=K8(i,c,d),p=f(m);r.set(p,n[d]=Q8(p,m))}return{c(){e=P("div"),t=P("div");for(let d=0;d<n.length;d+=1)n[d].c();s=W(),l=P("div"),h(l,"class","filler"),h(t,"class","p-0 tracker-list"),h(e,"style",i[2]),h(e,"class",o=(i[0]?"scroller":"no-scroller")+" autocomplete-results animate "+i[1])},m(d,m){w(d,e,m),D(e,t);for(let p=0;p<n.length;p+=1)n[p].m(t,null);D(t,s),D(t,l),u=!0},p(d,m){m&24&&(c=d[3].results||[],ae(),n=Pi(n,m,f,1,d,c,r,t,br,Q8,s,K8),ue()),(!u||m&4)&&h(e,"style",d[2]),(!u||m&3&&o!==(o=(d[0]?"scroller":"no-scroller")+" autocomplete-results animate "+d[1]))&&h(e,"class",o)},i(d){if(!u){for(let m=0;m<c.length;m+=1)_(n[m]);Ei(()=>{a||(a=as(e,Yl,{duration:100},!0)),a.run(1)}),u=!0}},o(d){for(let m=0;m<n.length;m+=1)v(n[m]);a||(a=as(e,Yl,{duration:100},!1)),a.run(0),u=!1},d(d){d&&y(e);for(let m=0;m<n.length;m+=1)n[m].d();d&&a&&a.end()}}}function Q8(i,e){let t,n,r,s,l=e[12].label+"",o,a,u,c;n=new er({props:{trackable:e[12],size:16}});function f(){return e[7](e[12])}return{key:i,first:null,c(){t=P("button"),B(n.$$.fragment),r=W(),s=P("div"),o=K(l),gt(s,"max-width","120px"),h(s,"class","ml-1 truncate"),this.first=t},m(d,m){w(d,t,m),O(n,t,null),D(t,r),D(t,s),D(s,o),a=!0,u||(c=Se(t,"click",f),u=!0)},p(d,m){e=d;const p={};m&8&&(p.trackable=e[12]),n.$set(p),(!a||m&8)&&l!==(l=e[12].label+"")&&de(o,l)},i(d){a||(_(n.$$.fragment,d),a=!0)},o(d){v(n.$$.fragment,d),a=!1},d(d){d&&y(t),I(n),u=!1,c()}}}function T6e(i){let e,t,n=i[3].results&&i[3].results.length&&J8(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[3].results&&r[3].results.length?n?(n.p(r,s),s&8&&_(n,1)):(n=J8(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function A6e(i,e,t){let n;Le(i,en,g=>t(8,n=g));const r=Ut();let{input:s=null}=e,{scroller:l=!1}=e,{className:o=""}=e,{style:a=""}=e,u={partialTag:null,results:[],tag:null,cursorIndex:0};const c=(g,k="tracker")=>{t(3,u.tag=g,u);try{return Sf(n.trackables).filter($=>{const C=sp(g);return $.tag.search(q1e(C))>-1})}catch($){return console.error($),[]}},f=async g=>{let k="";if(g.type=="tracker"){const S=await hc({trackables:n.trackables,tracker:g.tracker,expandNote:!0});GWe(),k=S.raw}else g.type=="person"?k=g.tag:g.type=="context"&&(k=g.tagWithValue());const $=s.split(" ");let E=`${$.filter((S,T)=>T<$.length-1).join(" ")} ${k} `;r("select",{trackable:g,note:E}),await Ps(120),t(3,u.partialTag=null,u),t(3,u.tag=null,u),t(3,u.results=null,u)},d=g=>{if(g){let k=g;if((k==null?void 0:k.charAt(k.length-1))==" ")t(3,u.results=null,u);else if(k.length){let C=k.split(" "),E=C[C.length-1];t(3,u.cursorIndex=C.length-1,u),E.charAt(0)==="#"&&E.length>1?(t(3,u.partialTag=E,u),t(3,u.results=c(E,"tracker"),u)):E.charAt(0)==="@"&&E.length>1?(t(3,u.partialTag=E.replace(/\@/gi,""),u),t(3,u.results=c(u.partialTag,"person"),u)):E.charAt(0)==="+"&&E.length>1?(t(3,u.partialTag=E,u),t(3,u.results=c(E,"context"),u)):(t(3,u.partialTag=null,u),t(3,u.results=null,u))}else t(3,u.partialTag=null,u),t(3,u.results=null,u)}};let m;const p=g=>{f(g)};return i.$$set=g=>{"input"in g&&t(5,s=g.input),"scroller"in g&&t(0,l=g.scroller),"className"in g&&t(1,o=g.className),"style"in g&&t(2,a=g.style)},i.$$.update=()=>{i.$$.dirty&96&&m!==s&&(t(6,m=s),d(s)),i.$$.dirty&32&&(s||t(3,u.results=void 0,u))},[l,o,a,u,f,s,m,p]}class P6e extends pe{constructor(e){super(),me(this,e,A6e,T6e,he,{input:5,scroller:0,className:1,style:2})}}function eC(i){let e,t;return e=new lt({props:{title:Fe.t("picker.title","List one item per line"),className:i[2],bg:"transparent",$$slots:{default:[M6e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.className=n[2]),r&2048&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function N6e(i){let e;return{c(){e=K("Include #trackers @people +context. Add a : to make a Title:")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function M6e(i){let e,t;return e=new vr({props:{size:"sm",faded:!0,$$slots:{default:[N6e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2048&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function tC(i){let e,t,n,r,s={solo:!0,listItem:!0,placeholder:`Friends:
@toby
@patrick
@maddy
Feeling:
#mood
+joyful
+anxious`,type:"textarea",value:i[4].join(`
`),className:"font-mono font-medium",inputStyle:"height:45vh; line-height:28px"};return e=new Wn({props:s}),i[9](e),e.$on("input",i[7]),{c(){B(e.$$.fragment),t=W(),n=P("div"),h(n,"class","filler")},m(l,o){O(e,l,o),w(l,t,o),w(l,n,o),r=!0},p(l,o){const a={};o&16&&(a.value=l[4].join(`
`)),e.$set(a)},i(l){r||(_(e.$$.fragment,l),r=!0)},o(l){v(e.$$.fragment,l),r=!1},d(l){i[9](null),I(e,l),l&&y(t),l&&y(n)}}}function L6e(i){let e,t,n,r,s=i[3]&&eC(i),l=i[5]&&tC(i);return{c(){e=P("div"),s&&s.c(),t=W(),l&&l.c(),h(e,"class",n="n-picker-list edit-mode "+i[1]),h(e,"style",i[0])},m(o,a){w(o,e,a),s&&s.m(e,null),D(e,t),l&&l.m(e,null),r=!0},p(o,[a]){o[3]?s?(s.p(o,a),a&8&&_(s,1)):(s=eC(o),s.c(),_(s,1),s.m(e,t)):s&&(ae(),v(s,1,1,()=>{s=null}),ue()),o[5]?l?(l.p(o,a),a&32&&_(l,1)):(l=tC(o),l.c(),_(l,1),l.m(e,null)):l&&(ae(),v(l,1,1,()=>{l=null}),ue()),(!r||a&2&&n!==(n="n-picker-list edit-mode "+o[1]))&&h(e,"class",n),(!r||a&1)&&h(e,"style",o[0])},i(o){r||(_(s),_(l),r=!0)},o(o){v(s),v(l),r=!1},d(o){o&&y(e),s&&s.d(),l&&l.d()}}}function O6e(i,e,t){const n=Ut();let{style:r=""}=e,{className:s=""}=e,{itemClass:l=""}=e,{list:o=[]}=e,{showHeaderContent:a=!0}=e,u=!1,c,f=[];function d(p){t(4,f=c.getValue().split(`
`)),n("change",f)}Yt(()=>{t(5,u=!0)});function m(p){Oe[p?"unshift":"push"](()=>{c=p,t(6,c)})}return i.$$set=p=>{"style"in p&&t(0,r=p.style),"className"in p&&t(1,s=p.className),"itemClass"in p&&t(2,l=p.itemClass),"list"in p&&t(8,o=p.list),"showHeaderContent"in p&&t(3,a=p.showHeaderContent)},i.$$.update=()=>{i.$$.dirty&272&&o&&o.length&&f.length==0&&t(4,f=o||[])},[r,s,l,a,f,u,c,d,o,m]}class fY extends pe{constructor(e){super(),me(this,e,O6e,L6e,he,{style:0,className:1,itemClass:2,list:8,showHeaderContent:3})}}const sk=[{id:"mind",label:"Mind",emoji:"\u{1F9E0}",color:"#087E8B"},{id:"body",label:"Body",emoji:"\u{1FAC0}",color:"#EB5E55"},{id:"spirit",label:"Spirit",emoji:"\u{1F47B}",color:"#FFB400"}],I6e=()=>sk,dY=(i,e)=>{const t={};I6e().forEach(r=>{t[r.id]={score:0,focus:r}});const n=_o(i,{trackables:e});return Object.keys(n).forEach(r=>{const s=n[r],l=Nt.sum(s.positivity),o=s.trackable.tracker;o&&(o.focus||[]).forEach(u=>{t[u].score=t[u].score+l})}),Object.keys(t).map(r=>t[r])};class B6e{constructor(e){je(this,"if");je(this,"is");je(this,"v");je(this,"sc");e=e||{},this.if=e.if||"value",this.is=e.is||"gt",this.v=e.v||1,this.sc=e.sc||void 0}get score(){return this.sc}set score(e){this.sc=e}}const hY=i=>{if(!i)return"";let e=parseInt(i),t=e%10,n=e%100;return t==1&&n!=11?e+"st":t==2&&n!=12?e+"nd":t==3&&n!=13?e+"rd":e+"th"};/**
* Muuri v0.9.5
* https://muuri.dev/
* Copyright (c) 2015-present, Haltu Oy
* Released under the MIT license
* https://github.com/haltu/muuri/blob/master/LICENSE.md
* @license MIT
*
* Muuri Packer
* Copyright (c) 2016-present, Niklas Rm <inramo@gmail.com>
* @license MIT
*
* Muuri Ticker / Muuri Emitter / Muuri Dragger
* Copyright (c) 2018-present, Niklas Rm <inramo@gmail.com>
* @license MIT
*
* Muuri AutoScroller
* Copyright (c) 2019-present, Niklas Rm <inramo@gmail.com>
* @license MIT
*/var A0={},rf=typeof Map=="function"?new Map:null,Vo="swap",_f="move",R6e="synchronize",Zu="layoutStart",nC="layoutEnd",iC="layoutAbort",rC="add",sC="remove",z6e="showStart",j6e="showEnd",cp="hideStart",Y6e="hideEnd",lC="filter",oC="sort",u1="move",c1="send",Xu="beforeSend",f1="receive",d1="beforeReceive",U6e="dragInit",W6e="dragStart",q6e="dragMove",H6e="dragScroll",V6e="dragEnd",x6e="dragReleaseStart",fp="dragReleaseEnd",G6e="destroy",mY="ontouchstart"in window,Dw=!!window.PointerEvent,Sw=!!window.navigator.msPointerEnabled,Z6e=16777216;function Vl(){this._events={},this._queue=[],this._counter=0,this._clearOnEmit=!1}Vl.prototype.on=function(i,e){if(!this._events||!i||!e)return this;var t=this._events[i];return t||(t=this._events[i]=[]),t.push(e),this};Vl.prototype.off=function(i,e){if(!this._events||!i||!e)return this;var t=this._events[i];if(!t||!t.length)return this;for(var n;(n=t.indexOf(e))!==-1;)t.splice(n,1);return this};Vl.prototype.clear=function(i){if(!this._events||!i)return this;var e=this._events[i];return e&&(e.length=0,delete this._events[i]),this};Vl.prototype.emit=function(i){if(!this._events||!i)return this._clearOnEmit=!1,this;var e=this._events[i];if(!e||!e.length)return this._clearOnEmit=!1,this;var t=this._queue,n=t.length,r=arguments.length-1,s;r>3&&(s=[],s.push.apply(s,arguments),s.shift()),t.push.apply(t,e),this._clearOnEmit&&(e.length=0,this._clearOnEmit=!1),++this._counter;for(var l=n,o=t.length;l<o;l++)if(r===0?t[l]():r===1?t[l](arguments[1]):r===2?t[l](arguments[1],arguments[2]):r===3?t[l](arguments[1],arguments[2],arguments[3]):t[l].apply(null,s),!this._events)return this;return--this._counter,this._counter||(t.length=0),this};Vl.prototype.burst=function(){return this._events?(this._clearOnEmit=!0,this.emit.apply(this,arguments),this):this};Vl.prototype.countListeners=function(i){if(!this._events)return 0;var e=this._events[i];return e?e.length:0};Vl.prototype.destroy=function(){return this._events?(this._queue.length=this._counter=0,this._events=null,this):this};var P0=Dw?"pointerout":Sw?"MSPointerOut":"",X6e=100;function ac(i){!P0||(this._dragger=i,this._timeout=null,this._outEvent=null,this._isActive=!1,this._addBehaviour=this._addBehaviour.bind(this),this._removeBehaviour=this._removeBehaviour.bind(this),this._onTimeout=this._onTimeout.bind(this),this._resetData=this._resetData.bind(this),this._onStart=this._onStart.bind(this),this._onOut=this._onOut.bind(this),this._dragger.on("start",this._onStart))}ac.prototype._addBehaviour=function(){this._isActive||(this._isActive=!0,this._dragger.on("move",this._resetData),this._dragger.on("cancel",this._removeBehaviour),this._dragger.on("end",this._removeBehaviour),window.addEventListener(P0,this._onOut))};ac.prototype._removeBehaviour=function(){!this._isActive||(this._dragger.off("move",this._resetData),this._dragger.off("cancel",this._removeBehaviour),this._dragger.off("end",this._removeBehaviour),window.removeEventListener(P0,this._onOut),this._resetData(),this._isActive=!1)};ac.prototype._resetData=function(){window.clearTimeout(this._timeout),this._timeout=null,this._outEvent=null};ac.prototype._onStart=function(i){i.pointerType!=="mouse"&&this._addBehaviour()};ac.prototype._onOut=function(i){!this._dragger._getTrackedTouch(i)||(this._resetData(),this._outEvent=i,this._timeout=window.setTimeout(this._onTimeout,X6e))};ac.prototype._onTimeout=function(){var i=this._outEvent;this._resetData(),this._dragger.isActive()&&this._dragger._onCancel(i)};ac.prototype.destroy=function(){!P0||(this._dragger.off("start",this._onStart),this._removeBehaviour())};var Yb=["","webkit","moz","ms","o","Webkit","Moz","MS","O"],aC={};function N0(i,e){var t=aC[e]||"";if(t)return t;for(var n=e[0].toUpperCase()+e.slice(1),r=0;r<Yb.length;){if(t=Yb[r]?Yb[r]+n:e,t in i)return aC[e]=t,t;++r}return""}function pY(){var i=!1;try{var e=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch{}return i}var M0=window.navigator.userAgent.toLowerCase(),K6e=M0.indexOf("edge")>-1,J6e=M0.indexOf("trident")>-1,Q6e=M0.indexOf("firefox")>-1,e5e=M0.indexOf("android")>-1,zu=pY()?{passive:!0}:!1,_Y="touchAction",cg=N0(document.documentElement.style,_Y),t5e="auto";function Ct(i,e){this._element=i,this._emitter=new Vl,this._isDestroyed=!1,this._cssProps={},this._touchAction="",this._isActive=!1,this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),this._edgeHack=null,(K6e||J6e)&&(Dw||Sw)&&(this._edgeHack=new ac(this)),this.setCssProps(e),this._touchAction||this.setTouchAction(t5e),i.addEventListener("dragstart",Ct._preventDefault,!1),i.addEventListener(Ct._inputEvents.start,this._onStart,zu)}Ct._pointerEvents={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"};Ct._msPointerEvents={start:"MSPointerDown",move:"MSPointerMove",cancel:"MSPointerCancel",end:"MSPointerUp"};Ct._touchEvents={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"};Ct._mouseEvents={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"};Ct._inputEvents=function(){return mY?Ct._touchEvents:Dw?Ct._pointerEvents:Sw?Ct._msPointerEvents:Ct._mouseEvents}();Ct._emitter=new Vl;Ct._emitterEvents={start:"start",move:"move",end:"end",cancel:"cancel"};Ct._activeInstances=[];Ct._preventDefault=function(i){i.preventDefault&&i.cancelable!==!1&&i.preventDefault()};Ct._activateInstance=function(i){var e=Ct._activeInstances.indexOf(i);e>-1||(Ct._activeInstances.push(i),Ct._emitter.on(Ct._emitterEvents.move,i._onMove),Ct._emitter.on(Ct._emitterEvents.cancel,i._onCancel),Ct._emitter.on(Ct._emitterEvents.end,i._onEnd),Ct._activeInstances.length===1&&Ct._bindListeners())};Ct._deactivateInstance=function(i){var e=Ct._activeInstances.indexOf(i);e!==-1&&(Ct._activeInstances.splice(e,1),Ct._emitter.off(Ct._emitterEvents.move,i._onMove),Ct._emitter.off(Ct._emitterEvents.cancel,i._onCancel),Ct._emitter.off(Ct._emitterEvents.end,i._onEnd),Ct._activeInstances.length||Ct._unbindListeners())};Ct._bindListeners=function(){window.addEventListener(Ct._inputEvents.move,Ct._onMove,zu),window.addEventListener(Ct._inputEvents.end,Ct._onEnd,zu),Ct._inputEvents.cancel&&window.addEventListener(Ct._inputEvents.cancel,Ct._onCancel,zu)};Ct._unbindListeners=function(){window.removeEventListener(Ct._inputEvents.move,Ct._onMove,zu),window.removeEventListener(Ct._inputEvents.end,Ct._onEnd,zu),Ct._inputEvents.cancel&&window.removeEventListener(Ct._inputEvents.cancel,Ct._onCancel,zu)};Ct._getEventPointerId=function(i){return typeof i.pointerId=="number"?i.pointerId:i.changedTouches?i.changedTouches[0]?i.changedTouches[0].identifier:null:1};Ct._getTouchById=function(i,e){if(typeof i.pointerId=="number")return i.pointerId===e?i:null;if(i.changedTouches){for(var t=0;t<i.changedTouches.length;t++)if(i.changedTouches[t].identifier===e)return i.changedTouches[t];return null}return i};Ct._onMove=function(i){Ct._emitter.emit(Ct._emitterEvents.move,i)};Ct._onCancel=function(i){Ct._emitter.emit(Ct._emitterEvents.cancel,i)};Ct._onEnd=function(i){Ct._emitter.emit(Ct._emitterEvents.end,i)};Ct.prototype._reset=function(){this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._isActive=!1,Ct._deactivateInstance(this)};Ct.prototype._createEvent=function(i,e){var t=this._getTrackedTouch(e);return{type:i,srcEvent:e,distance:this.getDistance(),deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),deltaTime:i===Ct._emitterEvents.start?0:this.getDeltaTime(),isFirst:i===Ct._emitterEvents.start,isFinal:i===Ct._emitterEvents.end||i===Ct._emitterEvents.cancel,pointerType:e.pointerType||(e.touches?"touch":"mouse"),identifier:this._pointerId,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY,target:t.target}};Ct.prototype._emit=function(i,e){this._emitter.emit(i,this._createEvent(i,e))};Ct.prototype._getTrackedTouch=function(i){return this._pointerId===null?null:Ct._getTouchById(i,this._pointerId)};Ct.prototype._onStart=function(i){if(!this._isDestroyed&&this._pointerId===null&&(this._pointerId=Ct._getEventPointerId(i),this._pointerId!==null)){var e=this._getTrackedTouch(i);this._startX=this._currentX=e.clientX,this._startY=this._currentY=e.clientY,this._startTime=Date.now(),this._isActive=!0,this._emit(Ct._emitterEvents.start,i),this._isActive&&Ct._activateInstance(this)}};Ct.prototype._onMove=function(i){var e=this._getTrackedTouch(i);!e||(this._currentX=e.clientX,this._currentY=e.clientY,this._emit(Ct._emitterEvents.move,i))};Ct.prototype._onCancel=function(i){!this._getTrackedTouch(i)||(this._emit(Ct._emitterEvents.cancel,i),this._reset())};Ct.prototype._onEnd=function(i){!this._getTrackedTouch(i)||(this._emit(Ct._emitterEvents.end,i),this._reset())};Ct.prototype.isActive=function(){return this._isActive};Ct.prototype.setTouchAction=function(i){this._touchAction=i,cg&&(this._cssProps[cg]="",this._element.style[cg]=i),mY&&(this._element.removeEventListener(Ct._touchEvents.start,Ct._preventDefault,!0),(this._element.style[cg]!==i||Q6e&&e5e)&&this._element.addEventListener(Ct._touchEvents.start,Ct._preventDefault,!0))};Ct.prototype.setCssProps=function(i){if(!!i){var e=this._cssProps,t=this._element,n,r;for(n in e)t.style[n]=e[n],delete e[n];for(n in i)if(!!i[n]){if(n===_Y){this.setTouchAction(i[n]);continue}r=N0(t.style,n),r&&(e[r]="",t.style[r]=i[n])}}};Ct.prototype.getDeltaX=function(){return this._currentX-this._startX};Ct.prototype.getDeltaY=function(){return this._currentY-this._startY};Ct.prototype.getDistance=function(){var i=this.getDeltaX(),e=this.getDeltaY();return Math.sqrt(i*i+e*e)};Ct.prototype.getDeltaTime=function(){return this._startTime?Date.now()-this._startTime:0};Ct.prototype.on=function(i,e){this._emitter.on(i,e)};Ct.prototype.off=function(i,e){this._emitter.off(i,e)};Ct.prototype.destroy=function(){if(!this._isDestroyed){var i=this._element;this._edgeHack&&this._edgeHack.destroy(),this._reset(),this._emitter.destroy(),i.removeEventListener(Ct._inputEvents.start,this._onStart,zu),i.removeEventListener("dragstart",Ct._preventDefault,!1),i.removeEventListener(Ct._touchEvents.start,Ct._preventDefault,!0);for(var e in this._cssProps)i.style[e]=this._cssProps[e],delete this._cssProps[e];this._element=null,this._isDestroyed=!0}};var n5e=1e3/60,i5e=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(i){return this.setTimeout(function(){i(Date.now())},n5e)}).bind(window);function L0(i){this._nextStep=null,this._lanes=[],this._stepQueue=[],this._stepCallbacks={},this._step=this._step.bind(this);for(var e=0;e<i;e++)this._lanes.push(new Tw)}L0.prototype._step=function(i){var e=this._lanes,t=this._stepQueue,n=this._stepCallbacks,r,s,l,o,a,u;for(this._nextStep=null,r=0;r<e.length;r++){for(o=e[r].queue,a=e[r].callbacks,u=e[r].indices,s=0;s<o.length;s++)l=o[s],l&&(t.push(l),n[l]=a[l],delete a[l],delete u[l]);o.length=0}for(r=0;r<t.length;r++)l=t[r],n[l]&&n[l](i),delete n[l];t.length=0};L0.prototype.add=function(i,e,t){this._lanes[i].add(e,t),this._nextStep||(this._nextStep=i5e(this._step))};L0.prototype.remove=function(i,e){this._lanes[i].remove(e)};function Tw(){this.queue=[],this.indices={},this.callbacks={}}Tw.prototype.add=function(i,e){var t=this.indices[i];t!==void 0&&(this.queue[t]=void 0),this.queue.push(i),this.callbacks[i]=e,this.indices[i]=this.queue.length-1};Tw.prototype.remove=function(i){var e=this.indices[i];e!==void 0&&(this.queue[e]=void 0,delete this.callbacks[i],delete this.indices[i])};var gY="layoutRead",vY="layoutWrite",bY="visibilityRead",kY="visibilityWrite",yY="dragStartRead",wY="dragStartWrite",$Y="dragMoveRead",FY="dragMoveWrite",EY="dragScrollRead",CY="dragScrollWrite",DY="dragSortRead",SY="placeholderLayoutRead",TY="placeholderLayoutWrite",AY="placeholderResizeWrite",PY="autoScrollRead",NY="autoScrollWrite",MY="debounceRead",hs=0,LY=1,ms=2,li=new L0(3);function r5e(i,e,t){li.add(hs,gY+i,e),li.add(ms,vY+i,t)}function OY(i){li.remove(hs,gY+i),li.remove(ms,vY+i)}function s5e(i,e,t){li.add(hs,bY+i,e),li.add(ms,kY+i,t)}function IY(i){li.remove(hs,bY+i),li.remove(ms,kY+i)}function l5e(i,e,t){li.add(hs,yY+i,e),li.add(ms,wY+i,t)}function BY(i){li.remove(hs,yY+i),li.remove(ms,wY+i)}function o5e(i,e,t){li.add(hs,$Y+i,e),li.add(ms,FY+i,t)}function RY(i){li.remove(hs,$Y+i),li.remove(ms,FY+i)}function a5e(i,e,t){li.add(hs,EY+i,e),li.add(ms,CY+i,t)}function zY(i){li.remove(hs,EY+i),li.remove(ms,CY+i)}function O0(i,e){li.add(LY,DY+i,e)}function u5e(i){li.remove(LY,DY+i)}function c5e(i,e,t){li.add(hs,SY+i,e),li.add(ms,TY+i,t)}function jY(i){li.remove(hs,SY+i),li.remove(ms,TY+i)}function f5e(i,e){li.add(ms,AY+i,e)}function d5e(i){li.remove(ms,AY+i)}function YY(i,e){li.add(hs,PY,i),li.add(ms,NY,e)}function h5e(){li.remove(hs,PY),li.remove(ms,NY)}function m5e(i,e){li.add(hs,MY+i,e)}function p5e(i){li.remove(hs,MY+i)}var ar=1,qr=2,Dh=4,Aw=8,dp=ar|Aw,hp=ar|Dh,mp=qr|Aw,h1=qr|Dh,_5e="function";function Rn(i){return typeof i===_5e}var fg=typeof WeakMap=="function"?new WeakMap:null;function nl(i,e){var t=fg&&fg.get(i);return t||(t=window.getComputedStyle(i,null),fg&&fg.set(i,t)),t.getPropertyValue(e)}function jl(i,e){return parseFloat(nl(i,e))||0}var gf=document.documentElement,g5e=document.body,dg={value:0,offset:0};function UY(i){return i===window||i===gf||i===g5e?window:i}function pp(i){return i===window?i.pageXOffset:i.scrollLeft}function _p(i){return i===window?i.pageYOffset:i.scrollTop}function WY(i){return i===window?gf.scrollWidth-gf.clientWidth:i.scrollWidth-i.clientWidth}function qY(i){return i===window?gf.scrollHeight-gf.clientHeight:i.scrollHeight-i.clientHeight}function HY(i,e){if(e=e||{},i===window)e.width=gf.clientWidth,e.height=gf.clientHeight,e.left=0,e.right=e.width,e.top=0,e.bottom=e.height;else{var t=i.getBoundingClientRect(),n=i.clientLeft||jl(i,"border-left-width"),r=i.clientTop||jl(i,"border-top-width");e.width=i.clientWidth,e.height=i.clientHeight,e.left=t.left+n,e.right=e.left+e.width,e.top=t.top+r,e.bottom=e.top+e.height}return e}function Xp(i){return i._drag._getGrid()._settings.dragAutoScroll}function v5e(i){!i._drag||i._drag._prepareScroll()}function b5e(i){if(!(!i._drag||!i._isActive)){var e=i._drag;e._scrollDiffX=e._scrollDiffY=0,i._setTranslate(e._left,e._top)}}function lk(i,e,t,n){return dg.value=Math.min(n/2,i),dg.offset=Math.max(0,t+dg.value*2+n*e-n)/2,dg}function lu(){this.reset()}lu.prototype.reset=function(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=null,this.value=null,this.maxValue=0,this.threshold=0,this.distance=0,this.speed=0,this.duration=0,this.action=null};lu.prototype.hasReachedEnd=function(){return Dh&this.direction?this.value>=this.maxValue:this.value<=0};lu.prototype.computeCurrentScrollValue=function(){return this.value===null?ar&this.direction?pp(this.element):_p(this.element):Math.max(0,Math.min(this.value,this.maxValue))};lu.prototype.computeNextScrollValue=function(i){var e=this.speed*(i/1e3),t=Dh&this.direction?this.value+e:this.value-e;return Math.max(0,Math.min(t,this.maxValue))};lu.prototype.computeSpeed=function(){var i={direction:null,threshold:0,distance:0,value:0,maxValue:0,deltaTime:0,duration:0,isEnding:!1};return function(e){var t=this.item,n=Xp(t).speed;return Rn(n)?(i.direction=this.direction,i.threshold=this.threshold,i.distance=this.distance,i.value=this.value,i.maxValue=this.maxValue,i.duration=this.duration,i.speed=this.speed,i.deltaTime=e,i.isEnding=this.isEnding,n(t,this.element,i)):n}}();lu.prototype.tick=function(i){return this.isActive||(this.isActive=!0,this.onStart()),this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(i),this.value=this.computeNextScrollValue(i),this.duration+=i,this.value};lu.prototype.onStart=function(){var i=this.item,e=Xp(i).onStart;Rn(e)&&e(i,this.element,this.direction)};lu.prototype.onStop=function(){var i=this.item,e=Xp(i).onStop;Rn(e)&&e(i,this.element,this.direction),i._drag&&i._drag.sort()};function Sh(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}Sh.prototype.reset=function(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0};Sh.prototype.addRequest=function(i){ar&i.direction?(this.removeRequest(this.requestX),this.requestX=i):(this.removeRequest(this.requestY),this.requestY=i),i.action=this};Sh.prototype.removeRequest=function(i){!i||(this.requestX===i?(this.requestX=null,i.action=null):this.requestY===i&&(this.requestY=null,i.action=null))};Sh.prototype.computeScrollValues=function(){this.scrollLeft=this.requestX?this.requestX.value:pp(this.element),this.scrollTop=this.requestY?this.requestY.value:_p(this.element)};Sh.prototype.scroll=function(){var i=this.element;!i||(i.scrollTo?i.scrollTo(this.scrollLeft,this.scrollTop):(i.scrollLeft=this.scrollLeft,i.scrollTop=this.scrollTop))};function gp(i,e){this.pool=[],this.createItem=i,this.releaseItem=e}gp.prototype.pick=function(){return this.pool.pop()||this.createItem()};gp.prototype.release=function(i){this.releaseItem(i),this.pool.indexOf(i)===-1&&this.pool.push(i)};gp.prototype.reset=function(){this.pool.length=0};function k5e(i,e){return!(i.left+i.width<=e.left||e.left+e.width<=i.left||i.top+i.height<=e.top||e.top+e.height<=i.top)}function y5e(i,e){if(!k5e(i,e))return 0;var t=Math.min(i.left+i.width,e.left+e.width)-Math.max(i.left,e.left),n=Math.min(i.top+i.height,e.top+e.height)-Math.max(i.top,e.top);return t*n}function m1(i,e){var t=y5e(i,e);if(!t)return 0;var n=Math.min(i.width,e.width)*Math.min(i.height,e.height);return t/n*100}var VY={width:0,height:0,left:0,right:0,top:0,bottom:0},xY={width:0,height:0,left:0,right:0,top:0,bottom:0};function oi(){this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._items=[],this._actions=[],this._requests={},this._requests[ar]={},this._requests[qr]={},this._requestOverlapCheck={},this._dragPositions={},this._dragDirections={},this._overlapCheckInterval=150,this._requestPool=new gp(function(){return new lu},function(i){i.reset()}),this._actionPool=new gp(function(){return new Sh},function(i){i.reset()}),this._readTick=this._readTick.bind(this),this._writeTick=this._writeTick.bind(this)}oi.AXIS_X=ar;oi.AXIS_Y=qr;oi.FORWARD=Dh;oi.BACKWARD=Aw;oi.LEFT=dp;oi.RIGHT=hp;oi.UP=mp;oi.DOWN=h1;oi.smoothSpeed=function(i,e,t){return function(n,r,s){var l=0;if(!s.isEnding)if(s.threshold>0){var o=s.threshold-Math.max(0,s.distance);l=i/s.threshold*o}else l=i;var a=s.speed,u=l;return a===l?u:a<l?(u=a+e*(s.deltaTime/1e3),Math.min(l,u)):(u=a-t*(s.deltaTime/1e3),Math.max(l,u))}};oi.pointerHandle=function(i){var e={left:0,top:0,width:0,height:0},t=i||1;return function(n,r,s,l,o,a,u){return e.left=a-t*.5,e.top=u-t*.5,e.width=t,e.height=t,e}};oi.prototype._readTick=function(i){this._isDestroyed||(i&&this._tickTime?(this._tickDeltaTime=i-this._tickTime,this._tickTime=i,this._updateRequests(),this._updateActions()):(this._tickTime=i,this._tickDeltaTime=0))};oi.prototype._writeTick=function(){this._isDestroyed||(this._applyActions(),YY(this._readTick,this._writeTick))};oi.prototype._startTicking=function(){this._isTicking=!0,YY(this._readTick,this._writeTick)};oi.prototype._stopTicking=function(){this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,h5e()};oi.prototype._getItemHandleRect=function(i,e,t){var n=i._drag;if(e){var r=n._dragMoveEvent||n._dragStartEvent,s=e(i,n._clientX,n._clientY,i._width,i._height,r.clientX,r.clientY);t.left=s.left,t.top=s.top,t.width=s.width,t.height=s.height}else t.left=n._clientX,t.top=n._clientY,t.width=i._width,t.height=i._height;return t.right=t.left+t.width,t.bottom=t.top+t.height,t};oi.prototype._requestItemScroll=function(i,e,t,n,r,s,l){var o=this._requests[e],a=o[i._id];a?(a.element!==t||a.direction!==n)&&a.reset():a=this._requestPool.pick(),a.item=i,a.element=t,a.direction=n,a.threshold=r,a.distance=s,a.maxValue=l,o[i._id]=a};oi.prototype._cancelItemScroll=function(i,e){var t=this._requests[e],n=t[i._id];!n||(n.action&&n.action.removeRequest(n),this._requestPool.release(n),delete t[i._id])};oi.prototype._checkItemOverlap=function(i,e,t){var n=Xp(i),r=Rn(n.targets)?n.targets(i):n.targets,s=n.threshold,l=n.safeZone;if(!r||!r.length){e&&this._cancelItemScroll(i,ar),t&&this._cancelItemScroll(i,qr);return}var o=this._dragDirections[i._id],a=o[0],u=o[1];if(!a&&!u){e&&this._cancelItemScroll(i,ar),t&&this._cancelItemScroll(i,qr);return}for(var c=this._getItemHandleRect(i,n.handle,VY),f=xY,d=null,m=null,p=!0,g=!0,k=0,$=0,C=null,E=null,S=0,T=0,M=0,R=null,Y=-1/0,z=0,j=0,V=null,x=0,ee=0,J=null,q=-1/0,le=0,G=0,X=null,se=0,te=0,ie=0;ie<r.length;ie++)d=r[ie],p=e&&a&&d.axis!==qr,g=t&&u&&d.axis!==ar,$=d.priority||0,!((!p||$<Y)&&(!g||$<q))&&(m=UY(d.element||d),T=p?WY(m):-1,M=g?qY(m):-1,!(!T&&!M)&&(f=HY(m,f),k=m1(c,f),!(k<=0)&&(p&&$>=Y&&T>0&&($>Y||k>j)&&(E=null,C=lk(typeof d.threshold=="number"?d.threshold:s,l,c.width,f.width),a===hp?(S=f.right+C.offset-c.right,S<=C.value&&pp(m)<T&&(E=hp)):a===dp&&(S=c.left-(f.left-C.offset),S<=C.value&&pp(m)>0&&(E=dp)),E!==null&&(R=m,Y=$,z=C.value,j=k,V=E,x=S,ee=T)),g&&$>=q&&M>0&&($>q||k>G)&&(E=null,C=lk(typeof d.threshold=="number"?d.threshold:s,l,c.height,f.height),u===h1?(S=f.bottom+C.offset-c.bottom,S<=C.value&&_p(m)<M&&(E=h1)):u===mp&&(S=c.top-(f.top-C.offset),S<=C.value&&_p(m)>0&&(E=mp)),E!==null&&(J=m,q=$,le=C.value,G=k,X=E,se=S,te=M)))));e&&(R?this._requestItemScroll(i,ar,R,V,z,x,ee):this._cancelItemScroll(i,ar)),t&&(J?this._requestItemScroll(i,qr,J,X,le,se,te):this._cancelItemScroll(i,qr))};oi.prototype._updateScrollRequest=function(i){for(var e=i.item,t=Xp(e),n=Rn(t.targets)?t.targets(e):t.targets,r=n&&n.length||0,s=t.threshold,l=t.safeZone,o=this._getItemHandleRect(e,t.handle,VY),a=xY,u=null,c=null,f=!1,d=null,m=null,p=null,g=null,k=null,$=null,C=0;C<r;C++)if(u=n[C],c=UY(u.element||u),c===i.element){if(f=!!(ar&i.direction),f){if(u.axis===qr)continue}else if(u.axis===ar)continue;if(k=f?WY(c):qY(c),k<=0||(a=HY(c,a),d=m1(o,a),d<=0)||(m=lk(typeof u.threshold=="number"?u.threshold:s,l,f?o.width:o.height,f?a.width:a.height),i.direction===dp?p=o.left-(a.left-m.offset):i.direction===hp?p=a.right+m.offset-o.right:i.direction===mp?p=o.top-(a.top-m.offset):p=a.bottom+m.offset-o.bottom,p>m.value)||(g=f?pp(c):_p(c),$=Dh&i.direction?g>=k:g<=0,$))break;return i.maxValue=k,i.threshold=m.value,i.distance=p,i.isEnding=!1,!0}return t.smoothStop===!0&&i.speed>0?($===null&&($=i.hasReachedEnd()),i.isEnding=!$):i.isEnding=!1,i.isEnding};oi.prototype._updateRequests=function(){for(var i=this._items,e=this._requests[ar],t=this._requests[qr],n,r,s,l,o,a,u,c=0;c<i.length;c++)n=i[c],l=this._requestOverlapCheck[n._id],o=l>0&&this._tickTime-l>this._overlapCheckInterval,a=!0,r=e[n._id],r&&r.isActive&&(a=!this._updateScrollRequest(r),a&&(o=!0,this._cancelItemScroll(n,ar))),u=!0,s=t[n._id],s&&s.isActive&&(u=!this._updateScrollRequest(s),u&&(o=!0,this._cancelItemScroll(n,qr))),o&&(this._requestOverlapCheck[n._id]=0,this._checkItemOverlap(n,a,u))};oi.prototype._requestAction=function(i,e){for(var t=this._actions,n=e===ar,r=null,s=0;s<t.length;s++){if(r=t[s],i.element!==r.element){r=null;continue}if(n?r.requestX:r.requestY){this._cancelItemScroll(i.item,e);return}break}r||(r=this._actionPool.pick()),r.element=i.element,r.addRequest(i),i.tick(this._tickDeltaTime),t.push(r)};oi.prototype._updateActions=function(){var i=this._items,e=this._requests,t=this._actions,n,r,s,l;for(l=0;l<i.length;l++)n=i[l]._id,r=e[ar][n],s=e[qr][n],r&&this._requestAction(r,ar),s&&this._requestAction(s,qr);for(l=0;l<t.length;l++)t[l].computeScrollValues()};oi.prototype._applyActions=function(){var i=this._actions,e=this._items,t;if(!!i.length){for(t=0;t<i.length;t++)i[t].scroll(),this._actionPool.release(i[t]);for(i.length=0,t=0;t<e.length;t++)v5e(e[t]);for(t=0;t<e.length;t++)b5e(e[t])}};oi.prototype._updateDragDirection=function(i){var e=this._dragPositions[i._id],t=this._dragDirections[i._id],n=i._drag._left,r=i._drag._top;if(e.length){var s=e[0],l=e[1];t[0]=n>s?hp:n<s?dp:t[0]||0,t[1]=r>l?h1:r<l?mp:t[1]||0}e[0]=n,e[1]=r};oi.prototype.addItem=function(i){if(!this._isDestroyed){var e=this._items.indexOf(i);e===-1&&(this._items.push(i),this._requestOverlapCheck[i._id]=this._tickTime,this._dragDirections[i._id]=[0,0],this._dragPositions[i._id]=[],this._isTicking||this._startTicking())}};oi.prototype.updateItem=function(i){this._isDestroyed||!this._dragDirections[i._id]||(this._updateDragDirection(i),this._requestOverlapCheck[i._id]||(this._requestOverlapCheck[i._id]=this._tickTime))};oi.prototype.removeItem=function(i){if(!this._isDestroyed){var e=this._items.indexOf(i);if(e!==-1){var t=i._id,n=this._requests[ar][t];n&&(this._cancelItemScroll(i,ar),delete this._requests[ar][t]);var r=this._requests[qr][t];r&&(this._cancelItemScroll(i,qr),delete this._requests[qr][t]),delete this._requestOverlapCheck[t],delete this._dragPositions[t],delete this._dragDirections[t],this._items.splice(e,1),this._isTicking&&!this._items.length&&this._stopTicking()}}};oi.prototype.isItemScrollingX=function(i){var e=this._requests[ar][i._id];return!!(e&&e.isActive)};oi.prototype.isItemScrollingY=function(i){var e=this._requests[qr][i._id];return!!(e&&e.isActive)};oi.prototype.isItemScrolling=function(i){return this.isItemScrollingX(i)||this.isItemScrollingY(i)};oi.prototype.destroy=function(){if(!this._isDestroyed){for(var i=this._items.slice(0),e=0;e<i.length;e++)this.removeItem(i[e]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._isDestroyed=!0}};var hd=window.Element.prototype,w5e=hd.matches||hd.matchesSelector||hd.webkitMatchesSelector||hd.mozMatchesSelector||hd.msMatchesSelector||hd.oMatchesSelector||function(){return!1};function I0(i,e){return w5e.call(i,e)}function Cl(i,e){!e||(i.classList?i.classList.add(e):I0(i,"."+e)||(i.className+=" "+e))}var uC=[],$5e="number";function Pw(i,e,t){var n=typeof t===$5e?t:-1;n<0&&(n=i.length-n+1),i.splice.apply(i,uC.concat(n,0,e)),uC.length=0}function Qd(i,e,t){var n=Math.max(0,i.length-1+(t||0));return e>n?n:e<0?Math.max(n+e+1,0):e}function GY(i,e,t){if(!(i.length<2)){var n=Qd(i,e),r=Qd(i,t);n!==r&&i.splice(r,0,i.splice(n,1)[0])}}function ZY(i,e,t){if(!(i.length<2)){var n=Qd(i,e),r=Qd(i,t),s;n!==r&&(s=i[n],i[n]=i[r],i[r]=s)}}var Jo=N0(document.documentElement.style,"transform")||"transform",F5e=/([A-Z])/g,E5e=/^(webkit-|moz-|ms-|o-)/,C5e=/^(-m-s-)/;function ok(i){var e=i.replace(F5e,"-$1").toLowerCase();return e=e.replace(E5e,"-$1"),e=e.replace(C5e,"-ms-"),e}var XY=ok(Jo),D5e="none",S5e="inline",T5e="none",A5e="display";function P5e(i){var e=nl(i,XY);if(!e||e===D5e)return!1;var t=nl(i,A5e);return!(t===S5e||t===T5e)}function ak(i){for(var e=document,t=i||e;t&&t!==e&&nl(t,"position")==="static"&&!P5e(t);)t=t.parentElement||e;return t}var Ub={},Wb={},zc={};function cC(i,e){var t=e||{},n;return t.left=0,t.top=0,i===document||(t.left=window.pageXOffset||0,t.top=window.pageYOffset||0,i.self===window.self)||(n=i.getBoundingClientRect(),t.left+=n.left,t.top+=n.top,t.left+=jl(i,"border-left-width"),t.top+=jl(i,"border-top-width")),t}function eh(i,e,t){return zc.left=0,zc.top=0,i===e||t&&(i=ak(i),e=ak(e),i===e)||(cC(i,Ub),cC(e,Wb),zc.left=Wb.left-Ub.left,zc.top=Wb.top-Ub.top),zc}function qb(i){return i==="auto"||i==="scroll"||i==="overlay"}function N5e(i){return qb(nl(i,"overflow"))||qb(nl(i,"overflow-x"))||qb(nl(i,"overflow-y"))}function fC(i,e){for(e=e||[];i&&i!==document;){if(i.getRootNode&&i instanceof DocumentFragment){i=i.getRootNode().host;continue}N5e(i)&&e.push(i),i=i.parentNode}return e.push(window),e}var md={},M5e="none",L5e=/^matrix3d/,O5e=/([^,]*,){4}/,I5e=/([^,]*,){12}/,B5e=/[^,]*,/;function Ka(i){md.x=0,md.y=0;var e=nl(i,XY);if(!e||e===M5e)return md;var t=L5e.test(e),n=e.replace(t?I5e:O5e,""),r=n.replace(B5e,"");return md.x=parseFloat(n)||0,md.y=parseFloat(r)||0,md}function fs(i,e){!e||(i.classList?i.classList.remove(e):I0(i,"."+e)&&(i.className=(" "+i.className+" ").replace(" "+e+" "," ").trim()))}var R5e=/^(iPad|iPhone|iPod)/.test(window.navigator.platform)||/^Mac/.test(window.navigator.platform)&&window.navigator.maxTouchPoints>1,p1=0,uk=1,_1=2,KY=pY()?{passive:!0}:!1;function bn(i){var e=i._element,t=i.getGrid(),n=t._settings;this._item=i,this._gridId=t._id,this._isDestroyed=!1,this._isMigrating=!1,this._startPredicate=Rn(n.dragStartPredicate)?n.dragStartPredicate:bn.defaultStartPredicate,this._startPredicateState=p1,this._startPredicateResult=void 0,this._isSortNeeded=!1,this._sortTimer=void 0,this._blockedSortIndex=null,this._sortX1=0,this._sortX2=0,this._sortY1=0,this._sortY2=0,this._reset(),this._preStartCheck=this._preStartCheck.bind(this),this._preEndCheck=this._preEndCheck.bind(this),this._onScroll=this._onScroll.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._handleSort=this._handleSort.bind(this),this._handleSortDelayed=this._handleSortDelayed.bind(this),this._handle=n.dragHandle&&e.querySelector(n.dragHandle)||e,this._dragger=new Ct(this._handle,n.dragCssProps),this._dragger.on("start",this._preStartCheck),this._dragger.on("move",this._preStartCheck),this._dragger.on("cancel",this._preEndCheck),this._dragger.on("end",this._preEndCheck)}bn.autoScroller=new oi;bn.defaultStartPredicate=function(i,e,t){var n=i._drag;if(e.isFirst&&e.srcEvent.button||!R5e&&e.isFirst&&e.srcEvent.isTrusted===!0&&e.srcEvent.defaultPrevented===!1&&e.srcEvent.cancelable===!1)return!1;if(e.isFinal){n._finishStartPredicate(e);return}var r=n._startPredicateData;if(!r){var s=t||n._getGrid()._settings.dragStartPredicate||{};n._startPredicateData=r={distance:Math.max(s.distance,0)||0,delay:Math.max(s.delay,0)||0}}return r.delay&&(r.event=e,r.delayTimer||(r.delayTimer=window.setTimeout(function(){r.delay=0,n._resolveStartPredicate(r.event)&&(n._forceResolveStartPredicate(r.event),n._resetStartPredicate())},r.delay))),n._resolveStartPredicate(e)};bn.defaultSortPredicate=function(){var i={},e={},t={},n=[],r=1,s=100;function l(o,a,u){var c=null,f=a._settings.dragSort,d=-1,m,p,g,k,$,C,E,S,T,M;if(f===!0?(n[0]=a,p=n):Rn(f)&&(p=f.call(a,o)),!p||!Array.isArray(p)||!p.length)return c;for(M=0;M<p.length;M++)if(g=p[M],!g._isDestroyed){for(g._updateBoundingRect(),C=Math.max(0,g._left),E=Math.max(0,g._top),S=Math.min(window.innerWidth,g._right),T=Math.min(window.innerHeight,g._bottom),k=g._element.parentNode;k&&k!==document&&k!==document.documentElement&&k!==document.body;){if(k.getRootNode&&k instanceof DocumentFragment){k=k.getRootNode().host;continue}if(nl(k,"overflow")!=="visible"&&($=k.getBoundingClientRect(),C=Math.max(C,$.left),E=Math.max(E,$.top),S=Math.min(S,$.right),T=Math.min(T,$.bottom)),nl(k,"position")==="fixed")break;k=k.parentNode}C>=S||E>=T||(e.left=C,e.top=E,e.width=S-C,e.height=T-E,m=m1(i,e),m>u&&m>d&&(d=m,c=g))}return n.length=0,c}return function(o,a){var u=o._drag,c=u._getGrid(),f=a&&typeof a.threshold=="number"?a.threshold:50,d=a&&a.action===Vo?Vo:_f,m=a&&a.migrateAction===Vo?Vo:_f;f=Math.min(Math.max(f,r),s),i.width=o._width,i.height=o._height,i.left=u._clientX,i.top=u._clientY;var p=l(o,c,f);if(!p)return null;var g=o.getGrid()!==p,k=0,$=0,C=0,E=-1,S=!1,T,M,R;for(p===c?(i.left=u._gridX+o._marginLeft,i.top=u._gridY+o._marginTop):(p._updateBorders(1,0,1,0),k=p._left+p._borderLeft,$=p._top+p._borderTop),R=0;R<p._items.length;R++)T=p._items[R],!(!T._isActive||T===o)&&(S=!0,e.width=T._width,e.height=T._height,e.left=T._left+T._marginLeft+k,e.top=T._top+T._marginTop+$,M=m1(i,e),M>C&&(E=R,C=M));return g&&C<f&&(E=S?E:0,C=f),C>=f?(t.grid=p,t.index=E,t.action=g?m:d,t):null}}();bn.prototype.stop=function(){if(!!this._isActive){if(this._isMigrating){this._finishMigration();return}var i=this._item,e=i._id;if(bn.autoScroller.removeItem(i),BY(e),RY(e),zY(e),this._cancelSort(),this._isStarted){this._unbindScrollListeners();var t=i._element,n=this._getGrid(),r=n._settings.itemDraggingClass;t.parentNode!==n._element&&(n._element.appendChild(t),i._setTranslate(this._gridX,this._gridY),r&&t.clientWidth),fs(t,r)}this._reset()}};bn.prototype.sort=function(i){var e=this._item;this._isActive&&e._isActive&&this._dragMoveEvent&&(i===!0?this._handleSort():O0(e._id,this._handleSort))};bn.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._dragger.destroy(),bn.autoScroller.removeItem(this._item),this._isDestroyed=!0)};bn.prototype._getGrid=function(){return A0[this._gridId]||null};bn.prototype._reset=function(){this._isActive=!1,this._isStarted=!1,this._container=null,this._containingBlock=null,this._dragStartEvent=null,this._dragMoveEvent=null,this._dragPrevMoveEvent=null,this._scrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._clientX=0,this._clientY=0,this._scrollDiffX=0,this._scrollDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0};bn.prototype._bindScrollListeners=function(){var i=this._getGrid()._element,e=this._container,t=this._scrollers,n,r;if(t.length=0,fC(this._item._element.parentNode,t),e!==i)for(n=[],fC(i,n),r=0;r<n.length;r++)t.indexOf(n[r])<0&&t.push(n[r]);for(r=0;r<t.length;r++)t[r].addEventListener("scroll",this._onScroll,KY)};bn.prototype._unbindScrollListeners=function(){var i=this._scrollers,e;for(e=0;e<i.length;e++)i[e].removeEventListener("scroll",this._onScroll,KY);i.length=0};bn.prototype._resolveStartPredicate=function(i){var e=this._startPredicateData;if(!(i.distance<e.distance||e.delay))return this._resetStartPredicate(),!0};bn.prototype._forceResolveStartPredicate=function(i){!this._isDestroyed&&this._startPredicateState===uk&&(this._startPredicateState=_1,this._onStart(i))};bn.prototype._finishStartPredicate=function(i){var e=this._item._element,t=Math.abs(i.deltaX)<2&&Math.abs(i.deltaY)<2&&i.deltaTime<200;this._resetStartPredicate(),t&&z5e(e)};bn.prototype._resetHeuristics=function(i,e){this._blockedSortIndex=null,this._sortX1=this._sortX2=i,this._sortY1=this._sortY2=e};bn.prototype._checkHeuristics=function(i,e){var t=this._getGrid()._settings.dragSortHeuristics,n=t.minDragDistance;if(n<=0)return this._blockedSortIndex=null,!0;var r=i-this._sortX2,s=e-this._sortY2,l=n>3&&t.minBounceBackAngle>0;if(l||(this._blockedSortIndex=null),Math.abs(r)>n||Math.abs(s)>n){if(l){var o=Math.atan2(r,s),a=Math.atan2(this._sortX2-this._sortX1,this._sortY2-this._sortY1),u=Math.atan2(Math.sin(o-a),Math.cos(o-a));Math.abs(u)>t.minBounceBackAngle&&(this._blockedSortIndex=null)}return this._sortX1=this._sortX2,this._sortY1=this._sortY2,this._sortX2=i,this._sortY2=e,!0}return!1};bn.prototype._resetStartPredicate=function(){var i=this._startPredicateData;i&&(i.delayTimer&&(i.delayTimer=window.clearTimeout(i.delayTimer)),this._startPredicateData=null)};bn.prototype._handleSort=function(){if(!!this._isActive){var i=this._getGrid()._settings;if(!i.dragSort||!i.dragAutoScroll.sortDuringScroll&&bn.autoScroller.isItemScrolling(this._item)){this._sortX1=this._sortX2=this._gridX,this._sortY1=this._sortY2=this._gridY,this._isSortNeeded=!0,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer));return}var e=this._checkHeuristics(this._gridX,this._gridY);if(!(!this._isSortNeeded&&!e)){var t=i.dragSortHeuristics.sortInterval;t<=0||this._isSortNeeded?(this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),this._checkOverlap()):this._sortTimer===void 0&&(this._sortTimer=window.setTimeout(this._handleSortDelayed,t))}}};bn.prototype._handleSortDelayed=function(){this._isSortNeeded=!0,this._sortTimer=void 0,O0(this._item._id,this._handleSort)};bn.prototype._cancelSort=function(){this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),u5e(this._item._id)};bn.prototype._finishSort=function(){var i=this._getGrid()._settings.dragSort,e=i&&(this._isSortNeeded||this._sortTimer!==void 0);this._cancelSort(),e&&this._checkOverlap()};bn.prototype._checkOverlap=function(){if(!!this._isActive){var i=this._item,e=this._getGrid()._settings,t,n,r,s,l,o,a,u;Rn(e.dragSortPredicate)?t=e.dragSortPredicate(i,this._dragMoveEvent):t=bn.defaultSortPredicate(i,e.dragSortPredicate),!(!t||typeof t.index!="number")&&(a=t.action===Vo?Vo:_f,n=i.getGrid(),s=t.grid||n,u=n!==s,r=n._items.indexOf(i),l=Qd(s._items,t.index,u&&a===_f?1:0),!(!u&&l===this._blockedSortIndex)&&(u?(this._blockedSortIndex=null,o=s._items[l],n._hasListeners(Xu)&&n._emit(Xu,{item:i,fromGrid:n,fromIndex:r,toGrid:s,toIndex:l}),s._hasListeners(d1)&&s._emit(d1,{item:i,fromGrid:n,fromIndex:r,toGrid:s,toIndex:l}),i._gridId=s._id,this._isMigrating=i._gridId!==this._gridId,n._items.splice(r,1),Pw(s._items,i,l),i._sortData=null,n._hasListeners(c1)&&n._emit(c1,{item:i,fromGrid:n,fromIndex:r,toGrid:s,toIndex:l}),s._hasListeners(f1)&&s._emit(f1,{item:i,fromGrid:n,fromIndex:r,toGrid:s,toIndex:l}),a===Vo&&o&&o.isActive()&&s._items.indexOf(o)>-1&&s.send(o,n,r,{appendTo:this._container||document.body,layoutSender:!1,layoutReceiver:!1}),n.layout(),s.layout()):r!==l&&(this._blockedSortIndex=r,(a===Vo?ZY:GY)(n._items,r,l),n._hasListeners(u1)&&n._emit(u1,{item:i,fromIndex:r,toIndex:l,action:a}),n.layout())))}};bn.prototype._finishMigration=function(){var i=this._item,e=i._dragRelease,t=i._element,n=i._isActive,r=i.getGrid(),s=r._element,l=r._settings,o=l.dragContainer||s,a=this._getGrid()._settings,u=t.parentNode,c=n?a.itemVisibleClass:a.itemHiddenClass,f=n?l.itemVisibleClass:l.itemHiddenClass,d,m;this._isMigrating=!1,this.destroy(),a.itemClass!==l.itemClass&&(fs(t,a.itemClass),Cl(t,l.itemClass)),c!==f&&(fs(t,c),Cl(t,f)),o!==u&&(o.appendChild(t),m=eh(u,o,!0),d=Ka(t),d.x-=m.left,d.y-=m.top),i._refreshDimensions(),m=eh(o,s,!0),e._containerDiffX=m.left,e._containerDiffY=m.top,i._drag=l.dragEnabled?new bn(i):null,o!==u&&i._setTranslate(d.x,d.y),i._visibility.setStyles(n?l.visibleStyles:l.hiddenStyles),e.start()};bn.prototype._preStartCheck=function(i){this._startPredicateState===p1&&(this._startPredicateState=uk),this._startPredicateState===uk?(this._startPredicateResult=this._startPredicate(this._item,i),this._startPredicateResult===!0?(this._startPredicateState=_1,this._onStart(i)):this._startPredicateResult===!1&&(this._resetStartPredicate(i),this._dragger._reset(),this._startPredicateState=p1)):this._startPredicateState===_1&&this._isActive&&this._onMove(i)};bn.prototype._preEndCheck=function(i){var e=this._startPredicateState===_1;this._startPredicate(this._item,i),this._startPredicateState=p1,!(!e||!this._isActive)&&(this._isStarted?this._onEnd(i):this.stop())};bn.prototype._onStart=function(i){var e=this._item;!e._isActive||(this._isActive=!0,this._dragStartEvent=i,bn.autoScroller.addItem(e),l5e(e._id,this._prepareStart,this._applyStart))};bn.prototype._prepareStart=function(){if(!!this._isActive){var i=this._item;if(!!i._isActive){var e=i._element,t=this._getGrid(),n=t._settings,r=t._element,s=n.dragContainer||r,l=ak(s),o=Ka(e),a=e.getBoundingClientRect(),u=s!==r;if(this._container=s,this._containingBlock=l,this._clientX=a.left,this._clientY=a.top,this._left=this._gridX=o.x,this._top=this._gridY=o.y,this._scrollDiffX=this._scrollDiffY=0,this._moveDiffX=this._moveDiffY=0,this._resetHeuristics(this._gridX,this._gridY),u){var c=eh(l,r);this._containerDiffX=c.left,this._containerDiffY=c.top}}}};bn.prototype._applyStart=function(){if(!!this._isActive){var i=this._item;if(!!i._isActive){var e=this._getGrid(),t=i._element,n=i._dragRelease,r=i._migrate,s=this._container!==e._element;i.isPositioning()&&i._layout.stop(!0,this._left,this._top),r._isActive&&(this._left-=r._containerDiffX,this._top-=r._containerDiffY,this._gridX-=r._containerDiffX,this._gridY-=r._containerDiffY,r.stop(!0,this._left,this._top)),i.isReleasing()&&n._reset(),e._settings.dragPlaceholder.enabled&&i._dragPlaceholder.create(),this._isStarted=!0,e._emit(U6e,i,this._dragStartEvent),s&&(t.parentNode===this._container?(this._gridX-=this._containerDiffX,this._gridY-=this._containerDiffY):(this._left+=this._containerDiffX,this._top+=this._containerDiffY,this._container.appendChild(t),i._setTranslate(this._left,this._top))),Cl(t,e._settings.itemDraggingClass),this._bindScrollListeners(),e._emit(W6e,i,this._dragStartEvent)}}};bn.prototype._onMove=function(i){var e=this._item;if(!e._isActive){this.stop();return}this._dragMoveEvent=i,o5e(e._id,this._prepareMove,this._applyMove),O0(e._id,this._handleSort)};bn.prototype._prepareMove=function(){if(!!this._isActive){var i=this._item;if(!!i._isActive){var e=this._getGrid()._settings,t=e.dragAxis,n=this._dragMoveEvent,r=this._dragPrevMoveEvent||this._dragStartEvent||n;if(t!=="y"){var s=n.clientX-r.clientX;this._left=this._left-this._moveDiffX+s,this._gridX=this._gridX-this._moveDiffX+s,this._clientX=this._clientX-this._moveDiffX+s,this._moveDiffX=s}if(t!=="x"){var l=n.clientY-r.clientY;this._top=this._top-this._moveDiffY+l,this._gridY=this._gridY-this._moveDiffY+l,this._clientY=this._clientY-this._moveDiffY+l,this._moveDiffY=l}this._dragPrevMoveEvent=n}}};bn.prototype._applyMove=function(){if(!!this._isActive){var i=this._item;!i._isActive||(this._moveDiffX=this._moveDiffY=0,i._setTranslate(this._left,this._top),this._getGrid()._emit(q6e,i,this._dragMoveEvent),bn.autoScroller.updateItem(i))}};bn.prototype._onScroll=function(i){var e=this._item;if(!e._isActive){this.stop();return}this._scrollEvent=i,a5e(e._id,this._prepareScroll,this._applyScroll),O0(e._id,this._handleSort)};bn.prototype._prepareScroll=function(){if(!!this._isActive){var i=this._item;if(!!i._isActive){var e=i._element,t=this._getGrid(),n=t._element,r=e.getBoundingClientRect();if(this._container!==n){var s=eh(this._containingBlock,n);this._containerDiffX=s.left,this._containerDiffY=s.top}var l=this._clientX-this._moveDiffX-r.left;this._left=this._left-this._scrollDiffX+l,this._scrollDiffX=l;var o=this._clientY-this._moveDiffY-r.top;this._top=this._top-this._scrollDiffY+o,this._scrollDiffY=o,this._gridX=this._left-this._containerDiffX,this._gridY=this._top-this._containerDiffY}}};bn.prototype._applyScroll=function(){if(!!this._isActive){var i=this._item;!i._isActive||(this._scrollDiffX=this._scrollDiffY=0,i._setTranslate(this._left,this._top),this._getGrid()._emit(H6e,i,this._scrollEvent))}};bn.prototype._onEnd=function(i){var e=this._item,t=e._element,n=this._getGrid(),r=n._settings,s=e._dragRelease;if(!e._isActive){this.stop();return}BY(e._id),RY(e._id),zY(e._id),this._finishSort(),this._unbindScrollListeners(),s._containerDiffX=this._containerDiffX,s._containerDiffY=this._containerDiffY,this._reset(),fs(t,r.itemDraggingClass),bn.autoScroller.removeItem(e),n._emit(V6e,e,i),this._isMigrating?this._finishMigration():s.start()};function z5e(i){if(i.tagName.toLowerCase()==="a"){var e=i.getAttribute("href");if(!!e){var t=i.getAttribute("target");t&&t!=="_self"?window.open(e,t):window.location.href=e}}}function JY(i,e){var t={},n,r;if(Array.isArray(e))for(r=0;r<e.length;r++)n=e[r],t[n]=nl(i,ok(n));else for(n in e)t[n]=nl(i,ok(n));return t}var j5e=/^(webkit|moz|ms|o|Webkit|Moz|MS|O)(?=[A-Z])/,dC={};function Y5e(i){var e=dC[i];return e||(e=i.replace(j5e,""),e!==i&&(e=e[0].toLowerCase()+e.slice(1)),dC[i]=e,e)}var U5e="[native code]";function W5e(i){var e=window.Symbol;return!!(i&&Rn(e)&&Rn(e.toString)&&e(i).toString().indexOf(U5e)>-1)}function th(i,e){for(var t in e)i.style[t]=e[t]}var q5e=!!(Element&&Rn(Element.prototype.animate)),hC=!!(Element&&W5e(Element.prototype.animate));function da(i){this._element=i,this._animation=null,this._duration=0,this._easing="",this._callback=null,this._props=[],this._values=[],this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}da.prototype.start=function(i,e,t){if(!this._isDestroyed){var n=this._element,r=t||{};if(!q5e){th(n,e),this._callback=Rn(r.onFinish)?r.onFinish:null,this._onFinish();return}var s=this._animation,l=this._props,o=this._values,a=r.duration||300,u=r.easing||"ease",c=!1,f,d,m;if(s&&(d=0,(a!==this._duration||u!==this._easing)&&(c=!0),!c)){for(f in e)if(++d,m=l.indexOf(f),m===-1||e[f]!==o[m]){c=!0;break}d!==l.length&&(c=!0)}if(c&&s.cancel(),this._callback=Rn(r.onFinish)?r.onFinish:null,!(s&&!c)){l.length=o.length=0;for(f in e)l.push(f),o.push(e[f]);this._duration=a,this._easing=u,this._animation=n.animate([mC(i,hC),mC(e,hC)],{duration:a,easing:u}),this._animation.onfinish=this._onFinish,th(n,e)}}};da.prototype.stop=function(){this._isDestroyed||!this._animation||(this._animation.cancel(),this._animation=this._callback=null,this._props.length=this._values.length=0)};da.prototype.getCurrentStyles=function(){return JY(element,currentProps)};da.prototype.isAnimating=function(){return!!this._animation};da.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=null,this._isDestroyed=!0)};da.prototype._onFinish=function(){var i=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,i&&i()};function mC(i,e){var t={};for(var n in i)t[e?n:Y5e(n)]=i[n];return t}function ju(i,e){return"translateX("+i+"px) translateY("+e+"px)"}function ps(i){this._item=i,this._animation=new da,this._element=null,this._className="",this._didMigrate=!1,this._resetAfterLayout=!1,this._left=0,this._top=0,this._transX=0,this._transY=0,this._nextTransX=0,this._nextTransY=0,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this),this._updateDimensions=this._updateDimensions.bind(this),this._onLayoutStart=this._onLayoutStart.bind(this),this._onLayoutEnd=this._onLayoutEnd.bind(this),this._onReleaseEnd=this._onReleaseEnd.bind(this),this._onMigrate=this._onMigrate.bind(this),this._onHide=this._onHide.bind(this)}ps.prototype._updateDimensions=function(){!this.isActive()||th(this._element,{width:this._item._width+"px",height:this._item._height+"px"})};ps.prototype._onLayoutStart=function(i,e){var t=this._item;if(i.indexOf(t)===-1){this.reset();return}var n=t._left,r=t._top,s=this._left,l=this._top;if(this._left=n,this._top=r,!(!e&&!this._didMigrate&&s===n&&l===r)){var o=n+t._marginLeft,a=r+t._marginTop,u=t.getGrid(),c=!e&&u._settings.layoutDuration>0;if(!c||this._didMigrate){jY(t._id),this._element.style[Jo]=ju(o,a),this._animation.stop(),this._didMigrate&&(u.getElement().appendChild(this._element),this._didMigrate=!1);return}this._nextTransX=o,this._nextTransY=a,c5e(t._id,this._setupAnimation,this._startAnimation)}};ps.prototype._setupAnimation=function(){if(!!this.isActive()){var i=Ka(this._element);this._transX=i.x,this._transY=i.y}};ps.prototype._startAnimation=function(){if(!!this.isActive()){var i=this._animation,e=this._transX,t=this._transY,n=this._nextTransX,r=this._nextTransY;if(e===n&&t===r){i.isAnimating()&&(this._element.style[Jo]=ju(n,r),i.stop());return}var s=this._item.getGrid()._settings,l={},o={};l[Jo]=ju(e,t),o[Jo]=ju(n,r),i.start(l,o,{duration:s.layoutDuration,easing:s.layoutEasing,onFinish:this._onLayoutEnd})}};ps.prototype._onLayoutEnd=function(){this._resetAfterLayout&&this.reset()};ps.prototype._onReleaseEnd=function(i){if(i._id===this._item._id){if(!this._animation.isAnimating()){this.reset();return}this._resetAfterLayout=!0}};ps.prototype._onMigrate=function(i){if(i.item===this._item){var e=this._item.getGrid(),t=i.toGrid;e.off(fp,this._onReleaseEnd),e.off(Zu,this._onLayoutStart),e.off(Xu,this._onMigrate),e.off(cp,this._onHide),t.on(fp,this._onReleaseEnd),t.on(Zu,this._onLayoutStart),t.on(Xu,this._onMigrate),t.on(cp,this._onHide),this._didMigrate=!0}};ps.prototype._onHide=function(i){i.indexOf(this._item)>-1&&this.reset()};ps.prototype.create=function(){if(this.isActive()){this._resetAfterLayout=!1;return}var i=this._item,e=i.getGrid(),t=e._settings,n=this._animation;this._left=i._left,this._top=i._top;var r;Rn(t.dragPlaceholder.createElement)?r=t.dragPlaceholder.createElement(i):r=document.createElement("div"),this._element=r,n._element=r,this._className=t.itemPlaceholderClass||"",this._className&&Cl(r,this._className),th(r,{position:"absolute",left:"0px",top:"0px",width:i._width+"px",height:i._height+"px"}),r.style[Jo]=ju(i._left+i._marginLeft,i._top+i._marginTop),e.on(Zu,this._onLayoutStart),e.on(fp,this._onReleaseEnd),e.on(Xu,this._onMigrate),e.on(cp,this._onHide),Rn(t.dragPlaceholder.onCreate)&&t.dragPlaceholder.onCreate(i,r),e.getElement().appendChild(r)};ps.prototype.reset=function(){if(!!this.isActive()){var i=this._element,e=this._item,t=e.getGrid(),n=t._settings,r=this._animation;this._resetAfterLayout=!1,jY(e._id),d5e(e._id),r.stop(),r._element=null,t.off(fp,this._onReleaseEnd),t.off(Zu,this._onLayoutStart),t.off(Xu,this._onMigrate),t.off(cp,this._onHide),this._className&&(fs(i,this._className),this._className=""),i.parentNode.removeChild(i),this._element=null,Rn(n.dragPlaceholder.onRemove)&&n.dragPlaceholder.onRemove(e,i)}};ps.prototype.isActive=function(){return!!this._element};ps.prototype.getElement=function(){return this._element};ps.prototype.updateDimensions=function(){!this.isActive()||f5e(this._item._id,this._updateDimensions)};ps.prototype.destroy=function(){this.reset(),this._animation.destroy(),this._item=this._animation=null};function uc(i){this._item=i,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}uc.prototype.start=function(){if(!(this._isDestroyed||this._isActive)){var i=this._item,e=i.getGrid(),t=e._settings;this._isActive=!0,Cl(i._element,t.itemReleasingClass),t.dragRelease.useDragContainer||this._placeToGrid(),e._emit(x6e,i),e._nextLayoutData||i._layout.start(!1)}};uc.prototype.stop=function(i,e,t){if(!(this._isDestroyed||!this._isActive)){var n=this._item,r=n.getGrid();!i&&(e===void 0||t===void 0)&&(e=n._left,t=n._top);var s=this._placeToGrid(e,t);this._reset(s),i||r._emit(fp,n)}};uc.prototype.isJustReleased=function(){return this._isActive&&this._isPositioningStarted===!1};uc.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};uc.prototype._placeToGrid=function(i,e){if(!this._isDestroyed){var t=this._item,n=t._element,r=t.getGrid()._element,s=!1;if(n.parentNode!==r){if(i===void 0||e===void 0){var l=Ka(n);i=l.x-this._containerDiffX,e=l.y-this._containerDiffY}r.appendChild(n),t._setTranslate(i,e),s=!0}return this._containerDiffX=0,this._containerDiffY=0,s}};uc.prototype._reset=function(i){if(!this._isDestroyed){var e=this._item,t=e.getGrid()._settings.itemReleasingClass;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,t&&(i&&e._element.clientWidth,fs(e._element,t))}};var pC=2;function ou(i){var e=i._element,t=e.style;this._item=i,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._nextLeft=0,this._nextTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animOptions={onFinish:this._finish.bind(this),duration:0,easing:0},t.left="0px",t.top="0px",i._setTranslate(0,0),this._animation=new da(e),this._queue="layout-"+i._id,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}ou.prototype.start=function(i,e){if(!this._isDestroyed){var t=this._item,n=t._dragRelease,r=t.getGrid()._settings,s=this._isActive,l=n.isJustReleased(),o=l?r.dragRelease.duration:r.layoutDuration,a=l?r.dragRelease.easing:r.layoutEasing,u=!i&&!this._skipNextAnimation&&o>0;if(s&&(OY(t._id),t._emitter.burst(this._queue,!0,t)),l&&(n._isPositioningStarted=!0),Rn(e)&&t._emitter.on(this._queue,e),this._skipNextAnimation=!1,!u){this._updateOffsets(),t._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._animation.isAnimating()&&(this._animation._animation.onfinish=null),this._isActive=!0,this._animOptions.easing=a,this._animOptions.duration=o,this._isInterrupted=s,r5e(t._id,this._setupAnimation,this._startAnimation)}};ou.prototype.stop=function(i,e,t){if(!(this._isDestroyed||!this._isActive)){var n=this._item;if(OY(n._id),this._animation.isAnimating()){if(e===void 0||t===void 0){var r=Ka(n._element);e=r.x,t=r.y}n._setTranslate(e,t),this._animation.stop()}fs(n._element,n.getGrid()._settings.itemPositioningClass),this._isActive=!1,i&&n._emitter.burst(this._queue,!0,n)}};ou.prototype.destroy=function(){if(!this._isDestroyed){var i=this._item._element.style;this.stop(!0,0,0),this._item._emitter.clear(this._queue),this._animation.destroy(),i[Jo]="",i.left="",i.top="",this._item=null,this._currentStyles=null,this._targetStyles=null,this._animOptions=null,this._isDestroyed=!0}};ou.prototype._updateOffsets=function(){if(!this._isDestroyed){var i=this._item,e=i._migrate,t=i._dragRelease;this._offsetLeft=t._isActive?t._containerDiffX:e._isActive?e._containerDiffX:0,this._offsetTop=t._isActive?t._containerDiffY:e._isActive?e._containerDiffY:0,this._nextLeft=this._item._left+this._offsetLeft,this._nextTop=this._item._top+this._offsetTop}};ou.prototype._finish=function(){if(!this._isDestroyed){var i=this._item,e=i._migrate,t=i._dragRelease;i._tX=this._nextLeft,i._tY=this._nextTop,this._isActive&&(this._isActive=!1,fs(i._element,i.getGrid()._settings.itemPositioningClass)),t._isActive&&t.stop(),e._isActive&&e.stop(),i._emitter.burst(this._queue,!1,i)}};ou.prototype._setupAnimation=function(){var i=this._item;if(i._tX===void 0||i._tY===void 0){var e=Ka(i._element);i._tX=e.x,i._tY=e.y}};ou.prototype._startAnimation=function(){var i=this._item,e=i.getGrid()._settings,t=this._animOptions.duration<=0;this._updateOffsets();var n=Math.abs(i._left-(i._tX-this._offsetLeft)),r=Math.abs(i._top-(i._tY-this._offsetTop));if(t||n<pC&&r<pC){(n||r||this._isInterrupted)&&i._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._isInterrupted||Cl(i._element,e.itemPositioningClass),this._currentStyles[Jo]=ju(i._tX,i._tY),this._targetStyles[Jo]=ju(this._nextLeft,this._nextTop),i._tX=i._tY=void 0,this._animation.start(this._currentStyles,this._targetStyles,this._animOptions)};function Kp(i){this._item=i,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}Kp.prototype.start=function(i,e,t){if(!this._isDestroyed){var n=this._item,r=n._element,s=n.isActive(),l=n.isVisible(),o=n.getGrid(),a=o._settings,u=i._settings,c=i._element,f=i._items,d=o._items.indexOf(n),m=t||document.body,p,g,k,$,C,E,S,T,M,R;if(typeof e=="number")p=Qd(f,e,1);else{if(g=i.getItem(e),!g)return;p=f.indexOf(g)}(n.isPositioning()||this._isActive||n.isReleasing())&&(E=Ka(r),S=E.x,T=E.y),n.isPositioning()&&n._layout.stop(!0,S,T),this._isActive&&(S-=this._containerDiffX,T-=this._containerDiffY,this.stop(!0,S,T)),n.isReleasing()&&(S-=n._dragRelease._containerDiffX,T-=n._dragRelease._containerDiffY,n._dragRelease.stop(!0,S,T)),n._visibility.stop(!0),n._drag&&n._drag.destroy(),o._hasListeners(Xu)&&o._emit(Xu,{item:n,fromGrid:o,fromIndex:d,toGrid:i,toIndex:p}),i._hasListeners(d1)&&i._emit(d1,{item:n,fromGrid:o,fromIndex:d,toGrid:i,toIndex:p}),a.itemClass!==u.itemClass&&(fs(r,a.itemClass),Cl(r,u.itemClass)),M=l?a.itemVisibleClass:a.itemHiddenClass,R=l?u.itemVisibleClass:u.itemHiddenClass,M!==R&&(fs(r,M),Cl(r,R)),o._items.splice(d,1),Pw(f,n,p),n._gridId=i._id,s?(k=r.parentNode,m!==k&&(m.appendChild(r),$=eh(m,k,!0),E||(E=Ka(r),S=E.x,T=E.y),n._setTranslate(S+$.left,T+$.top))):c.appendChild(r),n._visibility.setStyles(l?u.visibleStyles:u.hiddenStyles),s&&(C=eh(m,c,!0)),n._refreshDimensions(),n._sortData=null,n._drag=u.dragEnabled?new bn(n):null,s?(this._isActive=!0,this._container=m,this._containerDiffX=C.left,this._containerDiffY=C.top):(this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0),o._hasListeners(c1)&&o._emit(c1,{item:n,fromGrid:o,fromIndex:d,toGrid:i,toIndex:p}),i._hasListeners(f1)&&i._emit(f1,{item:n,fromGrid:o,fromIndex:d,toGrid:i,toIndex:p})}};Kp.prototype.stop=function(i,e,t){if(!(this._isDestroyed||!this._isActive)){var n=this._item,r=n._element,s=n.getGrid(),l=s._element,o;this._container!==l&&((e===void 0||t===void 0)&&(i?(o=Ka(r),e=o.x-this._containerDiffX,t=o.y-this._containerDiffY):(e=n._left,t=n._top)),l.appendChild(r),n._setTranslate(e,t)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0}};Kp.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};function vo(i){var e=i._isActive,t=i._element,n=t.children[0],r=i.getGrid()._settings;if(!n)throw new Error("No valid child element found within item element.");this._item=i,this._isDestroyed=!1,this._isHidden=!e,this._isHiding=!1,this._isShowing=!1,this._childElement=n,this._currentStyleProps=[],this._animation=new da(n),this._queue="visibility-"+i._id,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),t.style.display=e?"":"none",Cl(t,e?r.itemVisibleClass:r.itemHiddenClass),this.setStyles(e?r.visibleStyles:r.hiddenStyles)}vo.prototype.show=function(i,e){if(!this._isDestroyed){var t=this._item,n=t._element,r=Rn(e)?e:null,s=t.getGrid(),l=s._settings;if(!this._isShowing&&!this._isHidden){r&&r(!1,t);return}if(this._isShowing&&!i){r&&t._emitter.on(this._queue,r);return}this._isShowing||(t._emitter.burst(this._queue,!0,t),fs(n,l.itemHiddenClass),Cl(n,l.itemVisibleClass),this._isHiding||(n.style.display="")),r&&t._emitter.on(this._queue,r),this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,i,this._finishShow)}};vo.prototype.hide=function(i,e){if(!this._isDestroyed){var t=this._item,n=t._element,r=Rn(e)?e:null,s=t.getGrid(),l=s._settings;if(!this._isHiding&&this._isHidden){r&&r(!1,t);return}if(this._isHiding&&!i){r&&t._emitter.on(this._queue,r);return}this._isHiding||(t._emitter.burst(this._queue,!0,t),Cl(n,l.itemHiddenClass),fs(n,l.itemVisibleClass)),r&&t._emitter.on(this._queue,r),this._isHidden=this._isHiding=!0,this._isShowing=!1,this._startAnimation(!1,i,this._finishHide)}};vo.prototype.stop=function(i){if(!this._isDestroyed&&!(!this._isHiding&&!this._isShowing)){var e=this._item;IY(e._id),this._animation.stop(),i&&e._emitter.burst(this._queue,!0,e)}};vo.prototype.setStyles=function(i){var e=this._childElement,t=this._currentStyleProps;this._removeCurrentStyles();for(var n in i)t.push(n),e.style[n]=i[n]};vo.prototype.destroy=function(){if(!this._isDestroyed){var i=this._item,e=i._element,t=i.getGrid(),n=t._settings;this.stop(!0),i._emitter.clear(this._queue),this._animation.destroy(),this._removeCurrentStyles(),fs(e,n.itemVisibleClass),fs(e,n.itemHiddenClass),e.style.display="",this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0}};vo.prototype._startAnimation=function(i,e,t){if(!this._isDestroyed){var n=this._item,r=this._animation,s=this._childElement,l=n.getGrid()._settings,o=i?l.visibleStyles:l.hiddenStyles,a=i?l.showDuration:l.hideDuration,u=i?l.showEasing:l.hideEasing,c=e||a<=0,f;if(!o){t&&t();return}if(IY(n._id),c){th(s,o),r.stop(),t&&t();return}r.isAnimating()&&(r._animation.onfinish=null),s5e(n._id,function(){f=JY(s,o)},function(){r.start(f,o,{duration:a,easing:u,onFinish:t})})}};vo.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._item._emitter.burst(this._queue,!1,this._item))};vo.prototype._finishHide=function(){if(!!this._isHidden){var i=this._item;this._isHiding=!1,i._layout.stop(!0,0,0),i._element.style.display="none",i._emitter.burst(this._queue,!1,i)}};vo.prototype._removeCurrentStyles=function(){for(var i=this._childElement,e=this._currentStyleProps,t=0;t<e.length;t++)i.style[e[t]]="";e.length=0};var H5e=0;function QY(){return++H5e}function tr(i,e,t){var n=i._settings;if(rf){if(rf.has(e))throw new Error("You can only create one Muuri Item per element!");rf.set(e,this)}this._id=QY(),this._gridId=i._id,this._element=e,this._isDestroyed=!1,this._left=0,this._top=0,this._width=0,this._height=0,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,this._tX=void 0,this._tY=void 0,this._sortData=null,this._emitter=new Vl,e.parentNode!==i._element&&i._element.appendChild(e),Cl(e,n.itemClass),typeof t!="boolean"&&(t=nl(e,"display")!=="none"),this._isActive=t,this._visibility=new vo(this),this._layout=new ou(this),this._migrate=new Kp(this),this._drag=n.dragEnabled?new bn(this):null,this._dragRelease=new uc(this),this._dragPlaceholder=new ps(this)}tr.prototype.getGrid=function(){return A0[this._gridId]};tr.prototype.getElement=function(){return this._element};tr.prototype.getWidth=function(){return this._width};tr.prototype.getHeight=function(){return this._height};tr.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}};tr.prototype.getPosition=function(){return{left:this._left,top:this._top}};tr.prototype.isActive=function(){return this._isActive};tr.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden};tr.prototype.isShowing=function(){return!!(this._visibility&&this._visibility._isShowing)};tr.prototype.isHiding=function(){return!!(this._visibility&&this._visibility._isHiding)};tr.prototype.isPositioning=function(){return!!(this._layout&&this._layout._isActive)};tr.prototype.isDragging=function(){return!!(this._drag&&this._drag._isActive)};tr.prototype.isReleasing=function(){return!!(this._dragRelease&&this._dragRelease._isActive)};tr.prototype.isDestroyed=function(){return this._isDestroyed};tr.prototype._refreshDimensions=function(i){if(!this._isDestroyed&&!(i!==!0&&this._visibility._isHidden)){var e=this._element,t=this._dragPlaceholder,n=e.getBoundingClientRect();this._width=n.width,this._height=n.height,this._marginLeft=Math.max(0,jl(e,"margin-left")),this._marginRight=Math.max(0,jl(e,"margin-right")),this._marginTop=Math.max(0,jl(e,"margin-top")),this._marginBottom=Math.max(0,jl(e,"margin-bottom")),t&&t.updateDimensions()}};tr.prototype._refreshSortData=function(){if(!this._isDestroyed){var i=this._sortData={},e=this.getGrid()._settings.sortData,t;for(t in e)i[t]=e[t](this,this._element)}};tr.prototype._addToLayout=function(i,e){this._isActive!==!0&&(this._isActive=!0,this._left=i||0,this._top=e||0)};tr.prototype._removeFromLayout=function(){this._isActive!==!1&&(this._isActive=!1,this._left=0,this._top=0)};tr.prototype._canSkipLayout=function(i,e){return this._left===i&&this._top===e&&!this._migrate._isActive&&!this._layout._skipNextAnimation&&!this._dragRelease.isJustReleased()};tr.prototype._setTranslate=function(i,e){return this._tX===i&&this._tY===e?!1:(this._tX=i,this._tY=e,this._element.style[Jo]=ju(i,e),!0)};tr.prototype._destroy=function(i){if(!this._isDestroyed){var e=this._element,t=this.getGrid(),n=t._settings;this._dragPlaceholder.destroy(),this._dragRelease.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._drag&&this._drag.destroy(),this._emitter.destroy(),fs(e,n.itemClass),i&&e.parentNode.removeChild(e),rf&&rf.delete(e),this._isActive=!1,this._isDestroyed=!0}};function eU(i){var e=1,t=2,n=4,r=8,s=16,l=.001,o=.5;function a(g){return((g*1e3+.5<<0)/10<<0)/100}function u(){this.currentRects=[],this.nextRects=[],this.rectTarget={},this.rectStore=[],this.slotSizes=[],this.rectId=0,this.slotIndex=-1,this.slotData={left:0,top:0,width:0,height:0},this.sortRectsLeftTop=this.sortRectsLeftTop.bind(this),this.sortRectsTopLeft=this.sortRectsTopLeft.bind(this)}if(u.prototype.computeLayout=function(g,k){var $=g.items,C=g.slots,E=!!(k&e),S=!!(k&t),T=!!(k&n),M=!!(k&r),R=!!(k&s),Y=typeof $[0]=="number",z,j,V,x,ee,J;if(!$.length)return g;for(j=Y?2:1,z=0;z<$.length;z+=j)Y?(x=$[z],ee=$[z+1]):(V=$[z],x=V._width+V._marginLeft+V._marginRight,ee=V._height+V._marginTop+V._marginBottom),R&&(x=a(x),ee=a(ee)),J=this.computeNextSlot(g,x,ee,E,S),S?J.left+J.width>g.width&&(g.width=J.left+J.width):J.top+J.height>g.height&&(g.height=J.top+J.height),C[++this.slotIndex]=J.left,C[++this.slotIndex]=J.top,(T||M)&&this.slotSizes.push(J.width,J.height);if(T)for(z=0;z<C.length;z+=2)C[z]=g.width-(C[z]+this.slotSizes[z]);if(M)for(z=1;z<C.length;z+=2)C[z]=g.height-(C[z]+this.slotSizes[z]);return this.slotSizes.length=0,this.currentRects.length=0,this.nextRects.length=0,this.rectStore.length=0,this.rectId=0,this.slotIndex=-1,g},u.prototype.computeNextSlot=function(g,k,$,C,E){var S=this.slotData,T=this.currentRects,M=this.nextRects,R=!1,Y,z,j,V,x;for(M.length=0,S.left=null,S.top=null,S.width=k,S.height=$,V=0;V<T.length;V++)if(z=T[V],!!z&&(Y=this.getRect(z),S.width<=Y.width+l&&S.height<=Y.height+l)){S.left=Y.left,S.top=Y.top;break}if(S.left===null&&(E?(S.left=g.width,S.top=0):(S.left=0,S.top=g.height),C||(R=!0)),!E&&S.top+S.height>g.height+l&&(S.left>o&&M.push(this.addRect(0,g.height,S.left,1/0)),S.left+S.width<g.width-o&&M.push(this.addRect(S.left+S.width,g.height,g.width-S.left-S.width,1/0)),g.height=S.top+S.height),E&&S.left+S.width>g.width+l&&(S.top>o&&M.push(this.addRect(g.width,0,1/0,S.top)),S.top+S.height<g.height-o&&M.push(this.addRect(g.width,S.top+S.height,1/0,g.height-S.top-S.height)),g.width=S.left+S.width),!R){for(C&&(V=0);V<T.length;V++)if(z=T[V],!!z)for(Y=this.getRect(z),j=this.splitRect(Y,S),x=0;x<j.length;x++)z=j[x],Y=this.getRect(z),(E?Y.left+l<g.width-l:Y.top+l<g.height-l)&&M.push(z)}return M.length>1&&this.purgeRects(M).sort(E?this.sortRectsLeftTop:this.sortRectsTopLeft),this.currentRects=M,this.nextRects=T,S},u.prototype.addRect=function(g,k,$,C){var E=++this.rectId;return this.rectStore[E]=g||0,this.rectStore[++this.rectId]=k||0,this.rectStore[++this.rectId]=$||0,this.rectStore[++this.rectId]=C||0,E},u.prototype.getRect=function(g,k){return k||(k=this.rectTarget),k.left=this.rectStore[g]||0,k.top=this.rectStore[++g]||0,k.width=this.rectStore[++g]||0,k.height=this.rectStore[++g]||0,k},u.prototype.splitRect=function(){var g=[],k=0,$=0;return function(C,E){return g.length=0,C.left+C.width<=E.left+l||E.left+E.width<=C.left+l||C.top+C.height<=E.top+l||E.top+E.height<=C.top+l?(g.push(this.addRect(C.left,C.top,C.width,C.height)),g):(k=E.left-C.left,k>=o&&g.push(this.addRect(C.left,C.top,k,C.height)),k=C.left+C.width-(E.left+E.width),k>=o&&g.push(this.addRect(E.left+E.width,C.top,k,C.height)),$=E.top-C.top,$>=o&&g.push(this.addRect(C.left,C.top,C.width,$)),$=C.top+C.height-(E.top+E.height),$>=o&&g.push(this.addRect(C.left,E.top+E.height,C.width,$)),g)}}(),u.prototype.isRectAWithinRectB=function(g,k){return g.left+l>=k.left&&g.top+l>=k.top&&g.left+g.width-l<=k.left+k.width&&g.top+g.height-l<=k.top+k.height},u.prototype.purgeRects=function(){var g={},k={};return function($){for(var C=$.length,E;C--;)if(E=$.length,!!$[C]){for(this.getRect($[C],g);E--;)if(!(!$[E]||C===E)&&(this.getRect($[E],k),this.isRectAWithinRectB(g,k))){$[C]=0;break}}return $}}(),u.prototype.sortRectsTopLeft=function(){var g={},k={};return function($,C){return this.getRect($,g),this.getRect(C,k),g.top<k.top&&g.top+l<k.top?-1:g.top>k.top&&g.top-l>k.top?1:g.left<k.left&&g.left+l<k.left?-1:g.left>k.left&&g.left-l>k.left?1:0}}(),u.prototype.sortRectsLeftTop=function(){var g={},k={};return function($,C){return this.getRect($,g),this.getRect(C,k),g.left<k.left&&g.left+l<k.left?-1:g.left>k.left&&g.left-l<k.left?1:g.top<k.top&&g.top+l<k.top?-1:g.top>k.top&&g.top-l>k.top?1:0}}(),i){var c=1,f=2,d=3,m=4,p=new u;self.onmessage=function(g){var k=new Float32Array(g.data),$=k.subarray(m,k.length),C=new Float32Array($.length),E=k[d],S={items:$,slots:C,width:k[c],height:k[f]};p.computeLayout(S,E),k[c]=S.width,k[f]=S.height,k.set(S.slots,m),postMessage(k.buffer,[k.buffer])}}return u}var _C=eU(),Md=null,Bg=[];function V5e(i,e){var t=[];if(i>0){Md||(Md=URL.createObjectURL(new Blob(["("+eU.toString()+")(true)"],{type:"application/javascript"})));for(var n=0,r;n<i;n++)r=new Worker(Md),e&&(r.onmessage=e),t.push(r),Bg.push(r)}return t}function x5e(i){for(var e,t,n=0;n<i.length;n++)e=i[n],e.onmessage=null,e.onerror=null,e.onmessageerror=null,e.terminate(),t=Bg.indexOf(e),t>-1&&Bg.splice(t,1);Md&&!Bg.length&&(URL.revokeObjectURL(Md),Md=null)}function G5e(){return!!(window.Worker&&window.URL&&window.Blob)}var gC=1,g1=2,vC=4,bC=8,kC=16,tU=0,nU=1,iU=2,Z5e=3,ck=4;function au(i,e){if(this._options=0,this._processor=null,this._layoutQueue=[],this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={},this._workers=[],this._onWorkerMessage=this._onWorkerMessage.bind(this),this.setOptions(e),i=typeof i=="number"?Math.max(0,i):0,i&&G5e())try{this._workers=V5e(i,this._onWorkerMessage)}catch{this._processor=new _C}else this._processor=new _C}au.prototype._sendToWorker=function(){if(!(!this._layoutQueue.length||!this._workers.length)){var i=this._layoutQueue.shift(),e=this._workers.pop(),t=this._layoutWorkerData[i];delete this._layoutWorkerData[i],this._layoutWorkers[i]=e,e.postMessage(t.buffer,[t.buffer])}};au.prototype._onWorkerMessage=function(i){var e=new Float32Array(i.data),t=e[tU],n=this._layouts[t],r=this._layoutCallbacks[t],s=this._layoutWorkers[t];n&&delete this._layouts[t],r&&delete this._layoutCallbacks[t],s&&delete this._layoutWorkers[t],n&&r&&(n.width=e[nU],n.height=e[iU],n.slots=e.subarray(ck,e.length),this._finalizeLayout(n),r(n)),s&&(this._workers.push(s),this._sendToWorker())};au.prototype._finalizeLayout=function(i){var e=i._grid,t=i._settings&g1,n=e._boxSizing==="border-box";return delete i._grid,delete i._settings,i.styles={},t?i.styles.width=(n?i.width+e._borderLeft+e._borderRight:i.width)+"px":i.styles.height=(n?i.height+e._borderTop+e._borderBottom:i.height)+"px",i};au.prototype.setOptions=function(i){if(!!i){var e;typeof i.fillGaps=="boolean"?e=i.fillGaps?gC:0:e=this._options&gC;var t;typeof i.horizontal=="boolean"?t=i.horizontal?g1:0:t=this._options&g1;var n;typeof i.alignRight=="boolean"?n=i.alignRight?vC:0:n=this._options&vC;var r;typeof i.alignBottom=="boolean"?r=i.alignBottom?bC:0:r=this._options&bC;var s;typeof i.rounding=="boolean"?s=i.rounding?kC:0:s=this._options&kC,this._options=e|t|n|r|s}};au.prototype.createLayout=function(i,e,t,n,r,s){if(this._layouts[e])throw new Error("A layout with the provided id is currently being processed.");var l=this._options&g1,o={id:e,items:t,slots:null,width:l?0:n,height:l?r:0,_grid:i,_settings:this._options};if(!t.length){o.slots=[],this._finalizeLayout(o),s(o);return}if(this._processor){o.slots=window.Float32Array?new Float32Array(t.length*2):new Array(t.length*2),this._processor.computeLayout(o,o._settings),this._finalizeLayout(o),s(o);return}var a=new Float32Array(ck+t.length*2);a[tU]=e,a[nU]=o.width,a[iU]=o.height,a[Z5e]=o._settings;var u,c,f;for(u=0,c=ck-1,f;u<t.length;u++)f=t[u],a[++c]=f._width+f._marginLeft+f._marginRight,a[++c]=f._height+f._marginTop+f._marginBottom;return this._layoutQueue.push(e),this._layouts[e]=o,this._layoutCallbacks[e]=s,this._layoutWorkerData[e]=a,this._sendToWorker(),this.cancelLayout.bind(this,e)};au.prototype.cancelLayout=function(i){var e=this._layouts[i];if(!!e&&(delete this._layouts[i],delete this._layoutCallbacks[i],this._layoutWorkerData[i])){delete this._layoutWorkerData[i];var t=this._layoutQueue.indexOf(i);t>-1&&this._layoutQueue.splice(t,1)}};au.prototype.destroy=function(){for(var i in this._layoutWorkers)this._workers.push(this._layoutWorkers[i]);x5e(this._workers),this._workers.length=0,this._layoutQueue.length=0,this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={}};var X5e=0;function K5e(i,e){var t=++X5e,n=0,r=0,s=!1,l=function(o){s||(r&&(n-=o-r),r=o,n>0?m5e(t,l):(n=r=0,i()))};return function(o){if(!s){if(e<=0){o!==!0&&i();return}if(o===!0){s=!0,n=r=0,l=void 0,p5e(t);return}n<=0?(n=e,l(0)):n=e}}}var J5e="[object HTMLCollection]",Q5e="[object NodeList]";function Nw(i){var e=Object.prototype.toString.call(i);return e===J5e||e===Q5e}var eEe="object",tEe="[object Object]",nEe=Object.prototype.toString;function yC(i){return typeof i===eEe&&nEe.call(i)===tEe}function iEe(){}function rEe(i){return Nw(i)?Array.prototype.slice.call(i):Array.prototype.concat(i)}var rU="number",B0="string",Ku="instant",Hb=0;function vn(i,e){typeof i===B0&&(i=document.querySelector(i));var t=i.getRootNode?i.getRootNode({composed:!0})===document:document.body.contains(i);if(!t||i===document.documentElement)throw new Error("Container element must be an existing DOM element.");var n=sEe(vn.defaultOptions,e);n.visibleStyles=wC(n.visibleStyles),n.hiddenStyles=wC(n.hiddenStyles),Rn(n.dragSort)||(n.dragSort=!!n.dragSort),this._id=QY(),this._element=i,this._settings=n,this._isDestroyed=!1,this._items=[],this._layout={id:0,items:[],slots:[]},this._isLayoutFinished=!0,this._nextLayoutData=null,this._emitter=new Vl,this._onLayoutDataReceived=this._onLayoutDataReceived.bind(this),A0[this._id]=this,Cl(i,n.containerClass),oEe(this,n.layoutOnResize),this.add(lEe(i,n.items),{layout:!1}),n.layoutOnInit&&this.layout(!0)}vn.Item=tr;vn.ItemLayout=ou;vn.ItemVisibility=vo;vn.ItemMigrate=Kp;vn.ItemDrag=bn;vn.ItemDragRelease=uc;vn.ItemDragPlaceholder=ps;vn.Emitter=Vl;vn.Animator=da;vn.Dragger=Ct;vn.Packer=au;vn.AutoScroller=oi;vn.defaultPacker=new au(2);vn.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragHandle:null,dragStartPredicate:{distance:0,delay:0},dragAxis:"xy",dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:_f,migrateAction:_f},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!1,createElement:null,onCreate:null,onRemove:null},dragAutoScroll:{targets:[],handle:null,threshold:50,safeZone:.2,speed:oi.smoothSpeed(1e3,2e3,2500),sortDuringScroll:!0,smoothStop:!1,onStart:null,onStop:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"};vn.prototype.on=function(i,e){return this._emitter.on(i,e),this};vn.prototype.off=function(i,e){return this._emitter.off(i,e),this};vn.prototype.getElement=function(){return this._element};vn.prototype.getItem=function(i){if(this._isDestroyed||!i&&i!==0)return null;if(typeof i===rU)return this._items[i>-1?i:this._items.length+i]||null;if(i instanceof tr)return i._gridId===this._id?i:null;if(rf){var e=rf.get(i);return e&&e._gridId===this._id?e:null}else for(var t=0;t<this._items.length;t++)if(this._items[t]._element===i)return this._items[t];return null};vn.prototype.getItems=function(i){if(this._isDestroyed||i===void 0)return this._items.slice(0);var e=[],t,n;if(Array.isArray(i)||Nw(i))for(t=0;t<i.length;t++)n=this.getItem(i[t]),n&&e.push(n);else n=this.getItem(i),n&&e.push(n);return e};vn.prototype.refreshItems=function(i,e){if(this._isDestroyed)return this;var t=i||this._items,n,r,s,l;if(e===!0)for(l=[],n=0;n<t.length;n++)r=t[n],!r.isVisible()&&!r.isHiding()&&(s=r.getElement().style,s.visibility="hidden",s.display="",l.push(s));for(n=0;n<t.length;n++)t[n]._refreshDimensions(e);if(e===!0){for(n=0;n<l.length;n++)s=l[n],s.visibility="",s.display="none";l.length=0}return this};vn.prototype.refreshSortData=function(i){if(this._isDestroyed)return this;for(var e=i||this._items,t=0;t<e.length;t++)e[t]._refreshSortData();return this};vn.prototype.synchronize=function(){if(this._isDestroyed)return this;var i=this._items;if(!i.length)return this;for(var e,t,n=0;n<i.length;n++)t=i[n]._element,t.parentNode===this._element&&(e=e||document.createDocumentFragment(),e.appendChild(t));return e?(this._element.appendChild(e),this._emit(R6e),this):this};vn.prototype.layout=function(i,e){if(this._isDestroyed)return this;var t=this._nextLayoutData;t&&Rn(t.cancel)&&t.cancel(),Hb=Hb%Z6e+1;var n=Hb;this._nextLayoutData={id:n,instant:i,onFinish:e,cancel:null};for(var r=this._items,s=[],l=0;l<r.length;l++)r[l]._isActive&&s.push(r[l]);this._refreshDimensions();var o=this._width-this._borderLeft-this._borderRight,a=this._height-this._borderTop-this._borderBottom,u=this._settings.layout,c;return Rn(u)?c=u(this,n,s,o,a,this._onLayoutDataReceived):(vn.defaultPacker.setOptions(u),c=vn.defaultPacker.createLayout(this,n,s,o,a,this._onLayoutDataReceived)),Rn(c)&&this._nextLayoutData&&this._nextLayoutData.id===n&&(this._nextLayoutData.cancel=c),this};vn.prototype.add=function(i,e){if(this._isDestroyed||!i)return[];var t=rEe(i);if(!t.length)return t;var n=e||{},r=n.layout?n.layout:n.layout===void 0,s=this._items,l=!1,o,a,u,c;for(c=0;c<t.length;c++)a=t[c],a.parentNode!==this._element&&(o=o||document.createDocumentFragment(),o.appendChild(a));for(o&&this._element.appendChild(o),c=0;c<t.length;c++)a=t[c],u=t[c]=new tr(this,a,n.active),u._isActive&&(l=!0,u._layout._skipNextAnimation=!0);for(c=0;c<t.length;c++)u=t[c],u._refreshDimensions(),u._refreshSortData();return Pw(s,t,n.index),this._hasListeners(rC)&&this._emit(rC,t.slice(0)),l&&r&&this.layout(r===Ku,Rn(r)?r:void 0),t};vn.prototype.remove=function(i,e){if(this._isDestroyed||!i.length)return[];var t=e||{},n=t.layout?t.layout:t.layout===void 0,r=!1,s=this.getItems(),l=[],o=[],a,u,c;for(c=0;c<i.length;c++)u=i[c],!u._isDestroyed&&(a=this._items.indexOf(u),a!==-1&&(u._isActive&&(r=!0),l.push(u),o.push(s.indexOf(u)),u._destroy(t.removeElements),this._items.splice(a,1)));return this._hasListeners(sC)&&this._emit(sC,l.slice(0),o),r&&n&&this.layout(n===Ku,Rn(n)?n:void 0),l};vn.prototype.show=function(i,e){return!this._isDestroyed&&i.length&&this._setItemsVisibility(i,!0,e),this};vn.prototype.hide=function(i,e){return!this._isDestroyed&&i.length&&this._setItemsVisibility(i,!1,e),this};vn.prototype.filter=function(i,e){if(this._isDestroyed||!this._items.length)return this;var t=[],n=[],r=typeof i===B0,s=Rn(i),l=e||{},o=l.instant===!0,a=l.syncWithLayout,u=l.layout?l.layout:l.layout===void 0,c=Rn(l.onFinish)?l.onFinish:null,f=-1,d=iEe,m,p;if(c&&(d=function(){++f&&c(t.slice(0),n.slice(0))}),s||r)for(p=0;p<this._items.length;p++)m=this._items[p],(s?i(m):I0(m._element,i))?t.push(m):n.push(m);return t.length?this.show(t,{instant:o,syncWithLayout:a,onFinish:d,layout:!1}):d(),n.length?this.hide(n,{instant:o,syncWithLayout:a,onFinish:d,layout:!1}):d(),(t.length||n.length)&&(this._hasListeners(lC)&&this._emit(lC,t.slice(0),n.slice(0)),u&&this.layout(u===Ku,Rn(u)?u:void 0)),this};vn.prototype.sort=function(){var i,e,t,n;function r(l,o){for(var a=0,u,c,f,d,m=0;m<i.length;m++)if(u=i[m][0],c=i[m][1],f=(l._sortData?l:l._refreshSortData())._sortData[u],d=(o._sortData?o:o._refreshSortData())._sortData[u],c==="desc"||!c&&e?a=d<f?-1:d>f?1:0:a=f<d?-1:f>d?1:0,a)return a;return a||(n||(n=$C(t)),a=e?hg(n,o,l):hg(n,l,o)),a}function s(l,o){var a=e?-i(l,o):i(l,o);return a||(n||(n=$C(t)),a=e?hg(n,o,l):hg(n,l,o)),a}return function(l,o){if(this._isDestroyed||this._items.length<2)return this;var a=this._items,u=o||{},c=u.layout?u.layout:u.layout===void 0;if(e=!!u.descending,t=a.slice(0),n=null,Rn(l))i=l,a.sort(s);else if(typeof l===B0)i=l.trim().split(" ").filter(function(f){return f}).map(function(f){return f.split(":")}),a.sort(r);else if(Array.isArray(l))a.length=0,a.push.apply(a,l);else throw i=e=t=n=null,new Error("Invalid comparer argument provided.");return this._hasListeners(oC)&&this._emit(oC,a.slice(0),t),c&&this.layout(c===Ku,Rn(c)?c:void 0),i=e=t=n=null,this}}();vn.prototype.move=function(i,e,t){if(this._isDestroyed||this._items.length<2)return this;var n=this._items,r=t||{},s=r.layout?r.layout:r.layout===void 0,l=r.action===Vo,o=l?Vo:_f,a=this.getItem(i),u=this.getItem(e),c,f;return a&&u&&a!==u&&(c=n.indexOf(a),f=n.indexOf(u),l?ZY(n,c,f):GY(n,c,f),this._hasListeners(u1)&&this._emit(u1,{item:a,fromIndex:c,toIndex:f,action:o}),s&&this.layout(s===Ku,Rn(s)?s:void 0)),this};vn.prototype.send=function(i,e,t,n){if(this._isDestroyed||e._isDestroyed||this===e)return this;if(i=this.getItem(i),!i)return this;var r=n||{},s=r.appendTo||document.body,l=r.layoutSender?r.layoutSender:r.layoutSender===void 0,o=r.layoutReceiver?r.layoutReceiver:r.layoutReceiver===void 0;return i._migrate.start(e,t,s),i._migrate._isActive&&i._isActive&&(l&&this.layout(l===Ku,Rn(l)?l:void 0),o&&e.layout(o===Ku,Rn(o)?o:void 0)),this};vn.prototype.destroy=function(i){if(this._isDestroyed)return this;var e=this._element,t=this._items.slice(0),n=this._layout&&this._layout.styles||{},r,s;for(aEe(this),r=0;r<t.length;r++)t[r]._destroy(i);this._items.length=0,fs(e,this._settings.containerClass);for(s in n)e.style[s]="";return this._emit(G6e),this._emitter.destroy(),delete A0[this._id],this._isDestroyed=!0,this};vn.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)};vn.prototype._hasListeners=function(i){return this._isDestroyed?!1:this._emitter.countListeners(i)>0};vn.prototype._updateBoundingRect=function(){var i=this._element,e=i.getBoundingClientRect();this._width=e.width,this._height=e.height,this._left=e.left,this._top=e.top,this._right=e.right,this._bottom=e.bottom};vn.prototype._updateBorders=function(i,e,t,n){var r=this._element;i&&(this._borderLeft=jl(r,"border-left-width")),e&&(this._borderRight=jl(r,"border-right-width")),t&&(this._borderTop=jl(r,"border-top-width")),n&&(this._borderBottom=jl(r,"border-bottom-width"))};vn.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1),this._boxSizing=nl(this._element,"box-sizing")};vn.prototype._onLayoutDataReceived=function(){var i=[];return function(e){if(!(this._isDestroyed||!this._nextLayoutData||this._nextLayoutData.id!==e.id)){var t=this,n=this._nextLayoutData.instant,r=this._nextLayoutData.onFinish,s=e.items.length,l=s,o,a,u,c;for(this._nextLayoutData=null,!this._isLayoutFinished&&this._hasListeners(iC)&&this._emit(iC,this._layout.items.slice(0)),this._layout=e,i.length=0,c=0;c<s;c++){if(o=e.items[c],!o){--l;continue}if(a=e.slots[c*2],u=e.slots[c*2+1],o._canSkipLayout(a,u)){--l;continue}o._left=a,o._top=u,o.isActive()&&!o.isDragging()?i.push(o):--l}if(e.styles&&th(this._element,e.styles),!(this._hasListeners(Zu)&&(this._emit(Zu,e.items.slice(0),n===!0),this._layout.id!==e.id))){var f=function(){if(!(--l>0)){var d=t._layout.id!==e.id,m=Rn(n)?n:r;d||(t._isLayoutFinished=!0),Rn(m)&&m(e.items.slice(0),d),!d&&t._hasListeners(nC)&&t._emit(nC,e.items.slice(0))}};if(!i.length)return f(),this;for(this._isLayoutFinished=!1,c=0;c<i.length&&this._layout.id===e.id;c++)i[c]._layout.start(n===!0,f);return this._layout.id===e.id&&(i.length=0),this}}}}();vn.prototype._setItemsVisibility=function(i,e,t){var n=this,r=i.slice(0),s=t||{},l=s.instant===!0,o=s.onFinish,a=s.layout?s.layout:s.layout===void 0,u=r.length,c=e?z6e:cp,f=e?j6e:Y6e,d=e?"show":"hide",m=!1,p=[],g=[],k,$;if(!u){Rn(o)&&o(r);return}for($=0;$<r.length;$++)k=r[$],(e&&!k._isActive||!e&&k._isActive)&&(m=!0),k._layout._skipNextAnimation=!!(e&&!k._isActive),e&&k._visibility._isHidden&&g.push(k),e?k._addToLayout():k._removeFromLayout();g.length&&(this.refreshItems(g,!0),g.length=0);function C(){for(m&&s.syncWithLayout!==!1&&n.off(Zu,C),n._hasListeners(c)&&n._emit(c,r.slice(0)),$=0;$<r.length;$++){if(r[$]._gridId!==n._id){--u<1&&(Rn(o)&&o(p.slice(0)),n._hasListeners(f)&&n._emit(f,p.slice(0)));continue}r[$]._visibility[d](l,function(E,S){E||p.push(S),--u<1&&(Rn(o)&&o(p.slice(0)),n._hasListeners(f)&&n._emit(f,p.slice(0)))})}}m&&s.syncWithLayout!==!1?this.on(Zu,C):C(),m&&a&&this.layout(a===Ku,Rn(a)?a:void 0)};function sEe(i,e){var t=Um({},i);return e&&(t=Um(t,e)),e&&e.visibleStyles?t.visibleStyles=e.visibleStyles:i&&i.visibleStyles&&(t.visibleStyles=i.visibleStyles),e&&e.hiddenStyles?t.hiddenStyles=e.hiddenStyles:i&&i.hiddenStyles&&(t.hiddenStyles=i.hiddenStyles),t}function Um(i,e){var t=Object.keys(e),n=t.length,r,s,l;for(l=0;l<n;l++){if(s=t[l],r=yC(e[s]),yC(i[s])&&r){i[s]=Um(Um({},i[s]),e[s]);continue}if(r){i[s]=Um({},e[s]);continue}if(Array.isArray(e[s])){i[s]=e[s].slice(0);continue}i[s]=e[s]}return i}function lEe(i,e){if(e==="*")return i.children;if(typeof e===B0){for(var t=[],n=i.children,r=0;r<n.length;r++)I0(n[r],e)&&t.push(n[r]);return t}return Array.isArray(e)||Nw(e)?e:[]}function oEe(i,e){typeof e!==rU&&(e=e===!0?0:-1),e>=0&&(i._resizeHandler=K5e(function(){i.refreshItems().layout()},e),window.addEventListener("resize",i._resizeHandler))}function aEe(i){i._resizeHandler&&(i._resizeHandler(!0),window.removeEventListener("resize",i._resizeHandler),i._resizeHandler=null)}function wC(i){var e={},t=document.documentElement.style,n,r;for(n in i)!i[n]||(r=N0(t,n),r&&(e[r]=i[n]));return e}function $C(i){for(var e={},t=0;t<i.length;t++)e[i[t]._id]=t;return e}function hg(i,e,t){var n=i[e._id],r=i[t._id];return n-r}function FC(i,e,t){const n=i.slice();return n[23]=e[t],n[25]=t,n}const uEe=i=>({item:i&32,index:i&32}),EC=i=>({item:i[23],index:i[25]});function CC(i,e){let t,n,r,s,l,o,a;const u=e[15].default,c=nt(u,e,e[14],EC);return{key:i,first:null,c(){t=P("div"),n=P("div"),r=W(),c&&c.c(),s=W(),h(n,"class","item-content"),h(t,"class",l="item "+(e[0]=="x"?"mx-1":"")),h(t,"data-item",o=JSON.stringify(e[23])),this.first=t},m(f,d){w(f,t,d),D(t,n),D(t,r),c&&c.m(t,null),D(t,s),a=!0},p(f,d){e=f,c&&c.p&&(!a||d&16416)&&rt(c,u,e,e[14],a?it(u,e[14],d,uEe):st(e[14]),EC),(!a||d&1&&l!==(l="item "+(e[0]=="x"?"mx-1":"")))&&h(t,"class",l),(!a||d&32&&o!==(o=JSON.stringify(e[23])))&&h(t,"data-item",o)},i(f){a||(_(c,f),a=!0)},o(f){v(c,f),a=!1},d(f){f&&y(t),c&&c.d(f)}}}function cEe(i){let e,t,n=[],r=new Map,s,l,o,a=i[5];const u=c=>c[3]?c[23][c[3]]:c[25];for(let c=0;c<a.length;c+=1){let f=FC(i,a,c),d=u(f);r.set(d,n[c]=CC(d,f))}return{c(){e=P("div"),t=P("div");for(let c=0;c<n.length;c+=1)n[c].c();h(t,"class",s="sl2-grid flex "+i[1]+" dir-"+i[0]),h(e,"id",i[4]),h(e,"class",l="sortable-list2 "+i[2]+" h-full w-full")},m(c,f){w(c,e,f),D(e,t);for(let d=0;d<n.length;d+=1)n[d].m(t,null);i[16](e),o=!0},p(c,[f]){f&16425&&(a=c[5],ae(),n=Pi(n,f,u,1,c,a,r,t,br,CC,null,FC),ue()),(!o||f&3&&s!==(s="sl2-grid flex "+c[1]+" dir-"+c[0]))&&h(t,"class",s),(!o||f&16)&&h(e,"id",c[4]),(!o||f&4&&l!==(l="sortable-list2 "+c[2]+" h-full w-full"))&&h(e,"class",l)},i(c){if(!o){for(let f=0;f<a.length;f+=1)_(n[f]);o=!0}},o(c){for(let f=0;f<n.length;f+=1)v(n[f]);o=!1},d(c){c&&y(e);for(let f=0;f<n.length;f+=1)n[f].d();i[16](null)}}}function fEe(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Ut();let{items:l=[]}=e,{sortable:o=!0}=e,{direction:a="xy"}=e,{className:u=""}=e,{containerClass:c=""}=e,{handleClass:f=void 0}=e,{key:d}=e,{id:m=`sl2-${Jn()}`}=e,{enabled:p=!0}=e,g=[],k,$,C=!1,E;const S=()=>({items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",dragAutoScroll:{targets:[{element:window,priority:0,axis:vn.AutoScroller.AXIS_Y},{element:$,priority:1,axis:a=="x"?vn.AutoScroller.AXIS_X:vn.AutoScroller.AXIS_Y}]},visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:a==="x",alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:p,dragContainer:null,dragHandle:f,dragStartPredicate:{distance:0,delay:0},dragAxis:a,dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:"move",migrateAction:"move"},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!0,createElement:null,onCreate:null,onRemove:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"});let T,M=!1;const R=j=>{M?(clearTimeout(T),T=setTimeout(()=>{s("update",j)},1e3)):M=!0};function Y(){t(11,k=new vn(`#${m} .sl2-grid`,S())),k.on("layoutEnd",function(j){let V=j.map(x=>JSON.parse(x._element.getAttribute("data-item")));R(V)}),t(12,C=!0)}Yt(()=>{Y()});function z(j){Oe[j?"unshift":"push"](()=>{$=j,t(6,$)})}return i.$$set=j=>{"items"in j&&t(7,l=j.items),"sortable"in j&&t(8,o=j.sortable),"direction"in j&&t(0,a=j.direction),"className"in j&&t(1,u=j.className),"containerClass"in j&&t(2,c=j.containerClass),"handleClass"in j&&t(9,f=j.handleClass),"key"in j&&t(3,d=j.key),"id"in j&&t(4,m=j.id),"enabled"in j&&t(10,p=j.enabled),"$$scope"in j&&t(14,r=j.$$scope)},i.$$.update=()=>{if(i.$$.dirty&128&&l&&l.length&&t(5,g=[...l]),i.$$.dirty&14624&&C&&k&&g.length!==E&&o)try{t(13,E=g.length),k.refreshItems(k.getItems(),!0).layout()}catch(j){console.error(`${j.message}`)}},[a,u,c,d,m,g,$,l,o,f,p,k,C,E,r,n,z]}class Th extends pe{constructor(e){super(),me(this,e,fEe,cEe,he,{items:7,sortable:8,direction:0,className:1,containerClass:2,handleClass:9,key:3,id:4,enabled:10})}}function DC(i,e,t){const n=i.slice();return n[21]=e[t],n}function SC(i,e,t){const n=i.slice();return n[27]=e[t],n}function TC(i,e,t){const n=i.slice();return n[24]=e[t],n}function AC(i,e,t){const n=i.slice();return n[30]=e[t],n}function PC(i,e,t){const n=i.slice();return n[33]=e[t],n}const dEe=i=>({}),NC=i=>({}),hEe=i=>({}),MC=i=>({});function mEe(i){let e;return{c(){e=P("div"),e.textContent="else this:",h(e,"class","filler text-lg font-bold")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function pEe(i){let e;return{c(){e=P("div"),e.textContent="If this:",h(e,"class","filler text-lg font-bold")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function LC(i){let e,t=i[4](i[33])+"",n;return{c(){e=P("option"),n=K(t),e.__value=i[33],e.value=e.__value},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function OC(i){let e,t=i[5](i[30])+"",n;return{c(){e=P("option"),n=K(t),e.__value=i[30],e.value=e.__value},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function _Ee(i){let e,t,n,r=i[6](),s=[];for(let l=0;l<r.length;l+=1)s[l]=IC(SC(i,r,l));return{c(){e=P("select");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"aria-label","Day of the Month"),h(e,"class","condition-select w-12"),i[2].v===void 0&&Ei(()=>i[16].call(e))},m(l,o){w(l,e,o);for(let a=0;a<s.length;a+=1)s[a].m(e,null);ei(e,i[2].v),t||(n=Se(e,"change",i[16]),t=!0)},p(l,o){if(o[0]&64){r=l[6]();let a;for(a=0;a<r.length;a+=1){const u=SC(l,r,a);s[a]?s[a].p(u,o):(s[a]=IC(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}o[0]&4&&ei(e,l[2].v)},d(l){l&&y(e),pt(s,l),t=!1,n()}}}function gEe(i){let e,t,n,r=i[7](),s=[];for(let l=0;l<r.length;l+=1)s[l]=BC(TC(i,r,l));return{c(){e=P("select");for(let l=0;l<s.length;l+=1)s[l].c();h(e,"aria-label","Hour of the Day"),h(e,"class","condition-select w-12"),i[2].v===void 0&&Ei(()=>i[15].call(e))},m(l,o){w(l,e,o);for(let a=0;a<s.length;a+=1)s[a].m(e,null);ei(e,i[2].v),t||(n=Se(e,"change",i[15]),t=!0)},p(l,o){if(o[0]&128){r=l[7]();let a;for(a=0;a<r.length;a+=1){const u=TC(l,r,a);s[a]?s[a].p(u,o):(s[a]=BC(u),s[a].c(),s[a].m(e,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=r.length}o[0]&4&&ei(e,l[2].v)},d(l){l&&y(e),pt(s,l),t=!1,n()}}}function vEe(i){let e;function t(s,l){var o,a,u;return((o=s[1])==null?void 0:o.type)=="tracker"&&((u=(a=s[1])==null?void 0:a.tracker)==null?void 0:u.type)=="timer"?kEe:bEe}let n=t(i),r=n(i);return{c(){r.c(),e=Ae()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function IC(i){let e,t=i[27].value+"",n;return{c(){e=P("option"),n=K(t),e.__value=i[27].index,e.value=e.__value},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function BC(i){let e,t=i[24].value+"",n;return{c(){e=P("option"),n=K(t),e.__value=i[24].index,e.value=e.__value},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function bEe(i){let e,t,n;return{c(){e=P("input"),h(e,"class","condition-select w-12 lg:w-14"),h(e,"aria-label","Value to Compare against")},m(r,s){w(r,e,s),Kn(e,i[2].v),t||(n=Se(e,"input",i[14]),t=!0)},p(r,s){s[0]&4&&e.value!==r[2].v&&Kn(e,r[2].v)},d(r){r&&y(e),t=!1,n()}}}function kEe(i){let e,t,n,r;return{c(){e=P("input"),h(e,"aria-label","Value to Compare against"),h(e,"class","condition-select w-12 lg:w-14"),e.readOnly=!0,e.value=t=i[1].formatValue(i[2].v)},m(s,l){w(s,e,l),n||(r=Se(e,"click",i[13]),n=!0)},p(s,l){l[0]&6&&t!==(t=s[1].formatValue(s[2].v))&&e.value!==t&&(e.value=t)},d(s){s&&y(e),n=!1,r()}}}function RC(i){let e=`${i[21].score} === ${i[2].sc}`,t,n,r=i[21].emoji+"",s,l;return{c(){t=K(e),n=P("option"),s=K(r),n.selected=l=`${i[21].score}`==`${i[2].sc}`,n.__value=`${i[21].score}`,n.value=n.__value},m(o,a){w(o,t,a),w(o,n,a),D(n,s)},p(o,a){a[0]&4&&e!==(e=`${o[21].score} === ${o[2].sc}`)&&de(t,e),a[0]&4&&l!==(l=`${o[21].score}`==`${o[2].sc}`)&&(n.selected=l)},d(o){o&&y(t),o&&y(n)}}}function yEe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$;const C=i[10].left,E=nt(C,i,i[9],MC);function S(X,se){return X[0]===0?pEe:mEe}let T=S(i),M=T(i);const R=i[10].right,Y=nt(R,i,i[9],NC);let z=P3,j=[];for(let X=0;X<z.length;X+=1)j[X]=LC(PC(i,z,X));let V=N3,x=[];for(let X=0;X<V.length;X+=1)x[X]=OC(AC(i,V,X));function ee(X,se){if(X[2].if==="value")return vEe;if(X[2].if==="hour")return gEe;if(X[2].if==="month")return _Ee}let J=ee(i),q=J&&J(i),le=us.positivity,G=[];for(let X=0;X<le.length;X+=1)G[X]=RC(DC(i,le,X));return{c(){e=P("div"),t=P("header"),E&&E.c(),n=W(),M.c(),r=W(),s=P("div"),Y&&Y.c(),l=W(),o=P("main"),a=P("select");for(let X=0;X<j.length;X+=1)j[X].c();u=W(),c=P("select");for(let X=0;X<x.length;X+=1)x[X].c();f=W(),q&&q.c(),d=W(),m=P("select");for(let X=0;X<G.length;X+=1)G[X].c();h(s,"class","filler flex justify-end"),h(t,"class","header px-2 flex w-full items-center justify-center"),h(a,"aria-label","Compare to What?"),h(a,"class","condition-select"),i[2].if===void 0&&Ei(()=>i[11].call(a)),h(c,"aria-label","Comparison Value IS"),h(c,"class","condition-select"),i[2].is===void 0&&Ei(()=>i[12].call(c)),h(m,"class","condition-select emoji"),h(o,"class","condition-group px-8 w-full"),h(e,"class","w-full py-2 flex flex-col items-center text-black dark:text-white")},m(X,se){w(X,e,se),D(e,t),E&&E.m(t,null),D(t,n),M.m(t,null),D(t,r),D(t,s),Y&&Y.m(s,null),D(e,l),D(e,o),D(o,a);for(let te=0;te<j.length;te+=1)j[te].m(a,null);ei(a,i[2].if),D(o,u),D(o,c);for(let te=0;te<x.length;te+=1)x[te].m(c,null);ei(c,i[2].is),D(o,f),q&&q.m(o,null),D(o,d),D(o,m);for(let te=0;te<G.length;te+=1)G[te].m(m,null);ei(m,`${i[2].sc}`),g=!0,k||($=[Se(a,"change",i[11]),Se(c,"change",i[12]),Se(m,"change",i[17])],k=!0)},p(X,se){if(E&&E.p&&(!g||se[0]&512)&&rt(E,C,X,X[9],g?it(C,X[9],se,hEe):st(X[9]),MC),T!==(T=S(X))&&(M.d(1),M=T(X),M&&(M.c(),M.m(t,r))),Y&&Y.p&&(!g||se[0]&512)&&rt(Y,R,X,X[9],g?it(R,X[9],se,dEe):st(X[9]),NC),se[0]&16){z=P3;let te;for(te=0;te<z.length;te+=1){const ie=PC(X,z,te);j[te]?j[te].p(ie,se):(j[te]=LC(ie),j[te].c(),j[te].m(a,null))}for(;te<j.length;te+=1)j[te].d(1);j.length=z.length}if(se[0]&4&&ei(a,X[2].if),se[0]&32){V=N3;let te;for(te=0;te<V.length;te+=1){const ie=AC(X,V,te);x[te]?x[te].p(ie,se):(x[te]=OC(ie),x[te].c(),x[te].m(c,null))}for(;te<x.length;te+=1)x[te].d(1);x.length=V.length}if(se[0]&4&&ei(c,X[2].is),J===(J=ee(X))&&q?q.p(X,se):(q&&q.d(1),q=J&&J(X),q&&(q.c(),q.m(o,d))),se[0]&4){le=us.positivity;let te;for(te=0;te<le.length;te+=1){const ie=DC(X,le,te);G[te]?G[te].p(ie,se):(G[te]=RC(ie),G[te].c(),G[te].m(m,null))}for(;te<G.length;te+=1)G[te].d(1);G.length=le.length}(!g||se[0]&4&&p!==(p=`${X[2].sc}`))&&ei(m,`${X[2].sc}`)},i(X){g||(_(E,X),_(Y,X),g=!0)},o(X){v(E,X),v(Y,X),g=!1},d(X){X&&y(e),E&&E.d(X),M.d(),Y&&Y.d(X),pt(j,X),pt(x,X),q&&q.d(),pt(G,X),k=!1,Ot($)}}}function wEe(i,e,t){let n,r;Le(i,Ht,Y=>t(18,n=Y)),Le(i,en,Y=>t(19,r=Y));let{$$slots:s={},$$scope:l}=e,{condition:o}=e,{index:a}=e,{trackable:u}=e,c;const f=Ut(),d=async()=>{const Y=await v$(u,r.trackables,"Add Condition \u2192",{value:o.v});t(2,c.v=Y.value,c)},m=Y=>Y=="value"?"Value":Y=="hour"?"Hour":Y=="month"?"Day":"Value",p=Y=>Y==="gt"?">":Y==="gte"?">=":Y==="lt"?"<":Y==="lte"?"<=":(Y==="eq","="),g=()=>{let Y=[];for(let z=0;z<31;z++)Y.push({value:hY(z+1),index:z+1});return Y},k=()=>{let Y=[];for(let z=0;z<24;z++){let j=Te().startOf("day").add(z,"hour");Y.push({value:n.use24hour?j.format("HH:mm"):j.format("h:mm a"),index:z+1})}return Y};function $(){c.if=qo(this),t(2,c),t(8,o)}function C(){c.is=qo(this),t(2,c),t(8,o)}const E=()=>d();function S(){c.v=this.value,t(2,c),t(8,o)}function T(){c.v=qo(this),t(2,c),t(8,o)}function M(){c.v=qo(this),t(2,c),t(8,o)}const R=Y=>{t(2,c.sc=gi(Y.target.value),c)};return i.$$set=Y=>{"condition"in Y&&t(8,o=Y.condition),"index"in Y&&t(0,a=Y.index),"trackable"in Y&&t(1,u=Y.trackable),"$$scope"in Y&&t(9,l=Y.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&260&&!c&&o&&t(2,c={...o}),i.$$.dirty[0]&4&&c&&f("change",c)},[a,u,c,d,m,p,g,k,o,l,s,$,C,E,S,T,M,R]}class $Ee extends pe{constructor(e){super(),me(this,e,wEe,yEe,he,{condition:8,index:0,trackable:1},null,[-1,-1])}}function FEe(i){let e;return{c(){e=K("Positivity Editor")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function EEe(i){let e=i[0].trackable.label+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[0].trackable.label+"")&&de(t,e)},d(n){n&&y(t)}}}function CEe(i){let e;function t(s,l){return s[0].trackable?EEe:FEe}let n=t(i),r=n(i);return{c(){e=P("h1"),r.c(),h(e,"class","ntitle")},m(s,l){w(s,e,l),r.m(e,null)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r.d()}}}function DEe(i){let e;return{c(){e=K("Cancel")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function SEe(i){let e,t;return e=new He({props:{clear:!0,primary:!0,slot:"left",$$slots:{default:[DEe]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function TEe(i){let e;return{c(){e=K("Done")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function AEe(i){let e,t;return e=new He({props:{clear:!0,primary:!0,slot:"right",$$slots:{default:[TEe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zC(i){let e,t,n;function r(l){i[11](l)}let s={direction:"y",handleClass:"menu-handle",key:"key",$$slots:{default:[OEe,({item:l,index:o})=>({15:l,16:o}),({item:l,index:o})=>(l?32768:0)|(o?65536:0)]},$$scope:{ctx:i}};return i[1]!==void 0&&(s.items=i[1]),e=new Th({props:s}),Oe.push(()=>Qe(e,"items",r,i[1])),e.$on("update",i[12]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o&229379&&(a.$$scope={dirty:o,ctx:l}),!t&&o&2&&(t=!0,a.items=l[1],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function PEe(i){let e,t;return e=new et({props:{icon:zd,className:"text-gray-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function NEe(i){let e,t;return e=new He({props:{slot:"right",icon:!0,className:"menu-handle",$$slots:{default:[PEe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function MEe(i){let e,t;return e=new et({props:{icon:ua,className:"text-gray-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function LEe(i){let e,t;function n(){return i[9](i[15])}return e=new He({props:{slot:"left",icon:!0,className:"",$$slots:{default:[MEe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&131072&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function OEe(i){let e,t;function n(...r){return i[10](i[16],...r)}return e=new $Ee({props:{condition:i[15],index:i[16],trackable:i[0].trackable,$$slots:{left:[LEe],right:[NEe]},$$scope:{ctx:i}}}),e.$on("change",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&32768&&(l.condition=i[15]),s&65536&&(l.index=i[16]),s&1&&(l.trackable=i[0].trackable),s&163840&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function IEe(i){let e,t,n=i[2]&&zC(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[2]?n?(n.p(r,s),s&4&&_(n,1)):(n=zC(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function BEe(i){let e;return{c(){e=P("div"),e.textContent=`${Fe.t("score.add-condition","Add Condition")}...`,h(e,"class","text-center text-primary-500 pb-2")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function REe(i){let e,t,n,r,s,l,o,a,u,c,f;return e=new Sn({props:{$$slots:{right:[AEe],left:[SEe],default:[CEe]},$$scope:{ctx:i}}}),r=new jt({props:{solo:!0,$$slots:{default:[IEe]},$$scope:{ctx:i}}}),l=new lt({props:{className:"mt-2 pb-2",$$slots:{default:[BEe]},$$scope:{ctx:i}}}),l.$on("click",i[13]),c=new lt({}),{c(){B(e.$$.fragment),t=W(),n=P("div"),B(r.$$.fragment),s=W(),B(l.$$.fragment),o=W(),a=P("div"),a.textContent="Add a single condition or a lot of them. The first thing that is true wins, and its score is used.",u=W(),B(c.$$.fragment),h(n,"class","lg:px-2 md:px-1 py-4 filler"),h(a,"class","list-note")},m(d,m){O(e,d,m),w(d,t,m),w(d,n,m),O(r,n,null),D(n,s),O(l,n,null),w(d,o,m),w(d,a,m),w(d,u,m),O(c,d,m),f=!0},p(d,m){const p={};m&131073&&(p.$$scope={dirty:m,ctx:d}),e.$set(p);const g={};m&131079&&(g.$$scope={dirty:m,ctx:d}),r.$set(g);const k={};m&131072&&(k.$$scope={dirty:m,ctx:d}),l.$set(k)},i(d){f||(_(e.$$.fragment,d),_(r.$$.fragment,d),_(l.$$.fragment,d),_(c.$$.fragment,d),f=!0)},o(d){v(e.$$.fragment,d),v(r.$$.fragment,d),v(l.$$.fragment,d),v(c.$$.fragment,d),f=!1},d(d){I(e,d),d&&y(t),d&&y(n),I(r),I(l),d&&y(o),d&&y(a),d&&y(u),I(c,d)}}}function zEe(i){let e,t;return e=new ti({props:{className:"bg-gray-200 dark:bg-gray-800 h-full",$$slots:{default:[REe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&131079&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function jEe(i,e,t){let{id:n}=e,{props:r}=e,s=[],l=!1;const o=C=>C.filter((E,S)=>{let T=C.findIndex(M=>M.key==E.key);return!(T>-1&&T!==S)});Yt(()=>{r.calc.length&&t(1,s=o([...r.calc].filter(C=>C).map(C=>(C.key=ia(JSON.stringify(C)),C)))),s.length==0&&f(),t(2,l=!0)});const a=()=>{tn(n)},u=()=>{r.onComplete&&(r.onComplete(s),a())},c=async()=>{t(2,l=!1),await Lt(10),t(2,l=!0)},f=()=>{let C={is:"eq",sc:1,v:0,if:"value"};C.key=Jn(),s.push(C),t(1,s),c()},d=async C=>{await at.confirm("Remove this condition?")&&t(1,s=s.filter(S=>S!==C)),c()},m=C=>d(C),p=(C,E)=>{t(1,s[C]=E.detail,s),t(1,s)};function g(C){s=C,t(1,s)}const k=C=>{t(1,s=C.detail),c()},$=()=>f();return i.$$set=C=>{"id"in C&&t(8,n=C.id),"props"in C&&t(0,r=C.props)},[r,s,l,a,u,c,f,d,n,m,p,g,k,$]}class YEe extends pe{constructor(e){super(),me(this,e,jEe,zEe,he,{id:8,props:0})}}const jC=i=>{var e;i.trackable&&(i.calc=i.trackable.tracker.score_calc||[]),On({id:`score-editor-${encodeURIComponent((e=i.trackable)==null?void 0:e.tag)}`,component:YEe,componentProps:{props:i}})};function YC(i,e,t){const n=i.slice();return n[9]=e[t],n}function UC(i){let e,t,n,r,s,l;function o(c){i[4](c)}let a={listItem:!0,type:"select",placeholder:"Select a Positivity",label:Fe.t("tracker.positivity","Positivity"),$$slots:{left:[WEe],default:[UEe]},$$scope:{ctx:i}};i[0].score!==void 0&&(a.value=i[0].score),t=new Wn({props:a}),Oe.push(()=>Qe(t,"value",o,i[0].score)),t.$on("input",i[3].change);let u=i[0].score==="custom"&&HC(i);return{c(){e=P("div"),B(t.$$.fragment),r=W(),u&&u.c(),h(e,"class",s=jg(i[1])+" svelte-tpi3hm")},m(c,f){w(c,e,f),O(t,e,null),D(e,r),u&&u.m(e,null),l=!0},p(c,f){const d={};f&4097&&(d.$$scope={dirty:f,ctx:c}),!n&&f&1&&(n=!0,d.value=c[0].score,tt(()=>n=!1)),t.$set(d),c[0].score==="custom"?u?(u.p(c,f),f&1&&_(u,1)):(u=HC(c),u.c(),_(u,1),u.m(e,null)):u&&(ae(),v(u,1,1,()=>{u=null}),ue()),(!l||f&2&&s!==(s=jg(c[1])+" svelte-tpi3hm"))&&h(e,"class",s)},i(c){l||(_(t.$$.fragment,c),_(u),l=!0)},o(c){v(t.$$.fragment,c),v(u),l=!1},d(c){c&&y(e),I(t),u&&u.d()}}}function WC(i){let e,t=i[9].emoji+"",n,r,s=i[9].label+"",l;return{c(){e=P("option"),n=K(t),r=W(),l=K(s),e.__value=`${i[9].score}`,e.value=e.__value},m(o,a){w(o,e,a),D(e,n),D(e,r),D(e,l)},p:Z,d(o){o&&y(e)}}}function UEe(i){let e,t,n=us.positivity,r=[];for(let s=0;s<n.length;s+=1)r[s]=WC(YC(i,n,s));return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=W(),t=P("option"),t.textContent=`\u{1F6E0} ${Fe.t("general.customize"," Custom")}`,t.__value="custom",t.value=t.__value},m(s,l){for(let o=0;o<r.length;o+=1)r[o].m(s,l);w(s,e,l),w(s,t,l)},p(s,l){if(l&0){n=us.positivity;let o;for(o=0;o<n.length;o+=1){const a=YC(s,n,o);r[o]?r[o].p(a,l):(r[o]=WC(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){pt(r,s),s&&y(e),s&&y(t)}}}function qC(i){let e;return{c(){e=P("div"),e.textContent=`\u{1F610} ${Fe.t("tracker.neutral","Neutral")}`,h(e,"class","pl-2")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function WEe(i){let e,t=!i[0].score&&qC();return{c(){e=P("div"),t&&t.c(),h(e,"slot","left"),h(e,"class","pt-3 text-black dark:text-white")},m(n,r){w(n,e,r),t&&t.m(e,null)},p(n,r){n[0].score?t&&(t.d(1),t=null):t?t.p(n,r):(t=qC(),t.c(),t.m(e,null))},d(n){n&&y(e),t&&t.d()}}}function HC(i){let e,t,n=!i[2].showConditionForm&&VC(i);return{c(){e=P("section"),n&&n.c(),h(e,"class","points-editor")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[2].showConditionForm?n&&(ae(),v(n,1,1,()=>{n=null}),ue()):n?(n.p(r,s),s&4&&_(n,1)):(n=VC(r),n.c(),_(n,1),n.m(e,null))},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function VC(i){let e,t,n,r;return e=new hi({props:{center:!0}}),n=new lt({props:{$$slots:{default:[qEe]},$$scope:{ctx:i}}}),n.$on("click",i[5]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&4097&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function qEe(i){var l;let e,t,n=(((l=i[0].score_calc)==null?void 0:l.length)||"")+"",r,s;return{c(){e=P("div"),t=K("Edit "),r=K(n),s=K(" Conditions"),h(e,"class","text-center text-primary-500")},m(o,a){w(o,e,a),D(e,t),D(e,r),D(e,s)},p(o,a){var u;a&1&&n!==(n=(((u=o[0].score_calc)==null?void 0:u.length)||"")+"")&&de(r,n)},d(o){o&&y(e)}}}function HEe(i){let e,t,n=i[0]&&UC(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=UC(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function VEe(i,e,t){let n,r;Le(i,en,d=>t(6,n=d)),Le(i,Ht,d=>t(7,r=d));let{tracker:s=void 0}=e,{className:l=""}=e;const o=Ut();let a={showConditionForm:!1,genesisCalc:new B6e({}),selectedIndex:-1};const u={async change(){await Lt(10),o("trackerChange",s),s.score=="custom"&&!s.score_calc&&jC({trackable:s.toTrackable(),show:!0,onComplete(d){t(0,s.score_calc=d,s)}})},newCondition(){t(2,a.showConditionForm=!0,a),u.change()},getDays(){let d=[];for(let m=0;m<31;m++)d.push({value:hY(m+1),index:m+1});return d},getHours(){let d=[];for(let m=0;m<24;m++){let p=Te().startOf("day").add(m,"hour");d.push({value:r.use24hour?p.format("HH:mm"):p.format("h:mm a"),index:m+1})}return d},saveCondition(){t(0,s.score_calc=s.score_calc||[],s),s.score_calc.push({...a.genesisCalc}),t(2,a.showConditionForm=!1,a),u.change()},async save(){await E0({trackable:s.toTrackable(),known:n.trackables,permissions:{}})&&(o("save",s),qn({message:`${s.label} saved`}))},removeCondition(d){t(0,s.score_calc=s.score_calc.filter((m,p)=>p!==d),s),u.change()}};function c(d){i.$$.not_equal(s.score,d)&&(s.score=d,t(0,s))}const f=()=>{jC({show:!0,trackable:s.toTrackable(),onComplete(d){t(0,s.score_calc=d,s)}})};return i.$$set=d=>{"tracker"in d&&t(0,s=d.tracker),"className"in d&&t(1,l=d.className)},[s,l,a,u,c,f]}class xEe extends pe{constructor(e){super(),me(this,e,VEe,HEe,he,{tracker:0,className:1})}}function xC(i){let e,t;return e=new He({props:{size:"sm",icon:!0,color:"success",className:"mr-2",$$slots:{default:[GEe]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4194304&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function GEe(i){let e;return{c(){e=K("+")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function ZEe(i){let e,t;return e=new et({props:{icon:ah,size:14}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function XEe(i){let e,t,n,r,s=i[2].length>2&&xC(i);return n=new He({props:{size:"sm",icon:!0,color:"primary",className:"mr-2",$$slots:{default:[ZEe]},$$scope:{ctx:i}}}),n.$on("click",i[4]),{c(){e=P("div"),s&&s.c(),t=W(),B(n.$$.fragment),h(e,"slot","right"),h(e,"class","flex ml-1")},m(l,o){w(l,e,o),s&&s.m(e,null),D(e,t),O(n,e,null),r=!0},p(l,o){l[2].length>2?s?(s.p(l,o),o&4&&_(s,1)):(s=xC(l),s.c(),_(s,1),s.m(e,t)):s&&(ae(),v(s,1,1,()=>{s=null}),ue());const a={};o&4194304&&(a.$$scope={dirty:o,ctx:l}),n.$set(a)},i(l){r||(_(s),_(n.$$.fragment,l),r=!0)},o(l){v(s),v(n.$$.fragment,l),r=!1},d(l){l&&y(e),s&&s.d(),I(n)}}}function KEe(i){let e,t,n;function r(l){i[13](l)}let s={listItem:!0,className:"px-4 py-0",label:"Add",placeholder:"e.g. #mood or @mom",$$slots:{right:[XEe]},$$scope:{ctx:i}};return i[2]!==void 0&&(s.value=i[2]),e=new Wn({props:s}),Oe.push(()=>Qe(e,"value",r,i[2])),e.$on("enter",i[7]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o&4194308&&(a.$$scope={dirty:o,ctx:l}),!t&&o&4&&(t=!0,a.value=l[2],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function GC(i){let e,t;return e=new Th({props:{key:"id",direction:"y",sortable:!0,className:i[0],items:i[1],$$slots:{default:[n8e,({item:n})=>({21:n}),({item:n})=>n?2097152:0]},$$scope:{ctx:i}}}),e.$on("update",i[16]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.className=n[0]),r&2&&(s.items=n[1]),r&6291456&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function JEe(i){let e=i[21].label+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&2097152&&e!==(e=n[21].label+"")&&de(t,e)},d(n){n&&y(t)}}}function QEe(i){let e;return{c(){e=K("-")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function e8e(i){let e,t,n,r,s;function l(){return i[15](i[21])}return t=new He({props:{size:"sm",icon:!0,color:"danger",className:"mr-4 text-white bg-red-500",$$slots:{default:[QEe]},$$scope:{ctx:i}}}),t.$on("click",l),r=new er({props:{trackable:i[21],size:24}}),{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"slot","left")},m(o,a){w(o,e,a),O(t,e,null),D(e,n),O(r,e,null),s=!0},p(o,a){i=o;const u={};a&4194304&&(u.$$scope={dirty:a,ctx:i}),t.$set(u);const c={};a&2097152&&(c.trackable=i[21]),r.$set(c)},i(o){s||(_(t.$$.fragment,o),_(r.$$.fragment,o),s=!0)},o(o){v(t.$$.fragment,o),v(r.$$.fragment,o),s=!1},d(o){o&&y(e),I(t),I(r)}}}function ZC(i){let e,t;function n(){return i[14](i[21])}return e=new Of({props:{pad:!0,value:i[21].formatValue(i[21].tracker.default)}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&2097152&&(l.value=i[21].formatValue(i[21].tracker.default)),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function t8e(i){let e,t,n,r,s=i[21].type=="tracker"&&i[21].tracker&&ZC(i);return n=new et({props:{icon:mB,className:"text-gray-500"}}),{c(){e=P("div"),s&&s.c(),t=W(),B(n.$$.fragment),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(l,o){w(l,e,o),s&&s.m(e,null),D(e,t),O(n,e,null),r=!0},p(l,o){l[21].type=="tracker"&&l[21].tracker?s?(s.p(l,o),o&2097152&&_(s,1)):(s=ZC(l),s.c(),_(s,1),s.m(e,t)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){r||(_(s),_(n.$$.fragment,l),r=!0)},o(l){v(s),v(n.$$.fragment,l),r=!1},d(l){l&&y(e),s&&s.d(),I(n)}}}function n8e(i){let e,t,n,r;return e=new lt({props:{compact:!0,bottomLine:62,$$slots:{right:[t8e],left:[e8e],default:[JEe]},$$scope:{ctx:i}}}),n=new hi({props:{inset:!0}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&6291456&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function i8e(i){let e,t,n,r;t=new jt({props:{solo:!0,className:"mb-2",$$slots:{default:[KEe]},$$scope:{ctx:i}}});let s=i[3]&&i[1].length&&GC(i);return{c(){e=P("div"),B(t.$$.fragment),n=W(),s&&s.c(),h(e,"class","trackable-list-builder-bound")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),s&&s.m(e,null),r=!0},p(l,[o]){const a={};o&4194308&&(a.$$scope={dirty:o,ctx:l}),t.$set(a),l[3]&&l[1].length?s?(s.p(l,o),o&10&&_(s,1)):(s=GC(l),s.c(),_(s,1),s.m(e,null)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){r||(_(t.$$.fragment,l),_(s),r=!0)},o(l){v(t.$$.fragment,l),v(s),r=!1},d(l){l&&y(e),I(t),s&&s.d()}}}function r8e(i,e,t){let n,r;Le(i,en,Y=>t(17,n=Y)),Le(i,b0e,Y=>t(11,r=Y));let{value:s=""}=e,{className:l=""}=e,o=[],a="",u=!0,c;async function f(Y){const z=rr(Y,r);o.find(j=>j.tag==z.tag)||(o.push(z),t(1,o),t(9,s),t(10,c),t(11,r),g())}async function d(Y){o.includes(Y)||(o.push(Y),t(1,o),t(9,s),t(10,c),t(11,r))}async function m(){(await Ch()).forEach(z=>{d(z)}),g()}function p(){return o.map(z=>z.getNoteValue(z.value,!1)).join(" ")}async function g(){t(9,s=p()),t(3,u=!1),await Lt(10),t(3,u=!0)}async function k(Y){t(1,o=o.filter(z=>z.tag!==Y.tag)),g()}const $=()=>{const Y=tp(a);Y&&Y.type!=="generic"?(f(Y),t(2,a="")):qn({message:`${a} is not valid`})},C=async Y=>{if(Y.tracker){const z=await hc({tracker:Y.tracker,trackables:n.trackables,allowSave:!1});if(z){const j=o.map((V,x)=>(V.tag==Y.tag&&(V.value=z.value,V.tracker.default=z.value),V));t(1,o=j),g()}}},E=()=>{$()};function S(Y){a=Y,t(2,a)}const T=Y=>C(Y),M=Y=>k(Y),R=Y=>{Y.detail.length&&(t(1,o=Y.detail.map(z=>new Wi(z))),g())};return i.$$set=Y=>{"value"in Y&&t(9,s=Y.value),"className"in Y&&t(0,l=Y.className)},i.$$.update=()=>{i.$$.dirty&3584&&s&&s!==c&&(t(10,c=s),t(1,o=sc(`${s||""}`).map(Y=>rr(Y,r))))},[l,o,a,u,m,g,k,$,C,s,c,r,E,S,T,M,R]}class s8e extends pe{constructor(e){super(),me(this,e,r8e,i8e,he,{value:9,className:0})}}function XC(i,e,t){const n=i.slice();return n[33]=e[t],n}function KC(i,e,t){const n=i.slice();return n[36]=e[t],n}function JC(i,e,t){const n=i.slice();return n[39]=e[t],n}function QC(i,e,t){const n=i.slice();return n[42]=e[t],n}function l8e(i){let e=Fe.t("tracker.input-type","Input Type")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function o8e(i){var n;let e=(V5((n=i[0])==null?void 0:n.type)||{}).label+"",t;return{c(){t=K(e)},m(r,s){w(r,t,s)},p(r,s){var l;s[0]&1&&e!==(e=(V5((l=r[0])==null?void 0:l.type)||{}).label+"")&&de(t,e)},d(r){r&&y(t)}}}function a8e(i){let e,t,n,r,s;return t=new vr({props:{bold:!0,$$slots:{default:[o8e]},$$scope:{ctx:i}}}),r=new et({props:{icon:Vg,className:"text-gray-500 mr-3 ml-2",size:16}}),{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"slot","right"),h(e,"class","flex h-12 items-center")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),O(r,e,null),s=!0},p(l,o){const a={};o[0]&1|o[1]&16384&&(a.$$scope={dirty:o,ctx:l}),t.$set(a)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),I(t),I(r)}}}function u8e(i){let e,t;return e=new lt({props:{id:"tracker-type-selector",clickable:!0,className:"tracker-type py-2",$$slots:{right:[a8e],default:[l8e]},$$scope:{ctx:i}}}),e.$on("click",i[9]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function eD(i){let e,t;return e=new jt({props:{solo:!0,$$slots:{default:[c8e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function c8e(i){let e,t,n;function r(l){i[10](l)}let s={className:"tracker-picker",itemClass:""};return i[0].picks!==void 0&&(s.list=i[0].picks),e=new fY({props:s}),Oe.push(()=>Qe(e,"list",r,i[0].picks)),e.$on("change",i[11]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&1&&(t=!0,a.list=l[0].picks,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function tD(i){let e,t;return e=new jt({props:{solo:!0,$$slots:{default:[p8e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function f8e(i){let e,t;return e=new et({props:{icon:Np,className:"text-gray-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function d8e(i){let e,t,n;return t=new He({props:{icon:!0,$$slots:{default:[f8e]},$$scope:{ctx:i}}}),t.$on("click",i[12]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right"),h(e,"class","pr-1")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[1]&16384&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function h8e(i){let e,t;return e=new et({props:{icon:Np,className:"text-gray-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function m8e(i){let e,t,n;return t=new He({props:{icon:!0,$$slots:{default:[h8e]},$$scope:{ctx:i}}}),t.$on("click",i[14]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right"),h(e,"class","pr-1")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[1]&16384&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function p8e(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k;function $(z){i[13](z)}let C={listItem:!0,pattern:"[0-9]*",inputmode:"numeric",className:"mr-2 tracker-min bg-transparent",style:"width:45%;",name:"min",placeholder:Fe.t("tracker.min","Min Value"),label:Fe.t("tracker.min","Min Value"),$$slots:{right:[d8e]},$$scope:{ctx:i}};i[0].min!==void 0&&(C.value=i[0].min),t=new Wn({props:C}),Oe.push(()=>Qe(t,"value",$,i[0].min)),t.$on("focus",j8e);function E(z){i[15](z)}let S={listItem:!0,pattern:"[0-9]*",inputmode:"numeric",className:"tracker-max",style:"width:45%;",name:"max",label:Fe.t("tracker.max","Max Value"),placeholder:Fe.t("tracker.max","Max Value"),$$slots:{right:[m8e]},$$scope:{ctx:i}};i[0].max!==void 0&&(S.value=i[0].max),s=new Wn({props:S}),Oe.push(()=>Qe(s,"value",E,i[0].max)),s.$on("focus",Y8e),a=new hi({props:{left:1}});function T(z){i[16](z)}let M={listItem:!0,className:"mr-2 tracker-min bg-transparent",style:"width:45%;",name:"minLabel",placeholder:Fe.t("tracker.min-label","Min Label"),label:Fe.t("tracker.min-label","Min Label")};i[0].minLabel!==void 0&&(M.value=i[0].minLabel),f=new Wn({props:M}),Oe.push(()=>Qe(f,"value",T,i[0].minLabel)),f.$on("focus",U8e);function R(z){i[17](z)}let Y={listItem:!0,className:"tracker-max-label",style:"width:45%;",name:"max-label",label:Fe.t("tracker.max-label","Max Label"),placeholder:Fe.t("tracker.max-label","Max Label")};return i[0].maxLabel!==void 0&&(Y.value=i[0].maxLabel),p=new Wn({props:Y}),Oe.push(()=>Qe(p,"value",R,i[0].maxLabel)),p.$on("focus",W8e),{c(){e=P("div"),B(t.$$.fragment),r=W(),B(s.$$.fragment),o=W(),B(a.$$.fragment),u=W(),c=P("div"),B(f.$$.fragment),m=W(),B(p.$$.fragment),h(e,"class","flex px-1"),h(c,"class","flex px-1")},m(z,j){w(z,e,j),O(t,e,null),D(e,r),O(s,e,null),w(z,o,j),O(a,z,j),w(z,u,j),w(z,c,j),O(f,c,null),D(c,m),O(p,c,null),k=!0},p(z,j){const V={};j[1]&16384&&(V.$$scope={dirty:j,ctx:z}),!n&&j[0]&1&&(n=!0,V.value=z[0].min,tt(()=>n=!1)),t.$set(V);const x={};j[1]&16384&&(x.$$scope={dirty:j,ctx:z}),!l&&j[0]&1&&(l=!0,x.value=z[0].max,tt(()=>l=!1)),s.$set(x);const ee={};!d&&j[0]&1&&(d=!0,ee.value=z[0].minLabel,tt(()=>d=!1)),f.$set(ee);const J={};!g&&j[0]&1&&(g=!0,J.value=z[0].maxLabel,tt(()=>g=!1)),p.$set(J)},i(z){k||(_(t.$$.fragment,z),_(s.$$.fragment,z),_(a.$$.fragment,z),_(f.$$.fragment,z),_(p.$$.fragment,z),k=!0)},o(z){v(t.$$.fragment,z),v(s.$$.fragment,z),v(a.$$.fragment,z),v(f.$$.fragment,z),v(p.$$.fragment,z),k=!1},d(z){z&&y(e),I(t),I(s),z&&y(o),I(a,z),z&&y(u),z&&y(c),I(f),I(p)}}}function nD(i){let e,t;return e=new jt({props:{solo:!0,$$slots:{default:[_8e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function _8e(i){let e,t,n;function r(l){i[18](l)}let s={};return i[0].note!==void 0&&(s.value=i[0].note),e=new s8e({props:s}),Oe.push(()=>Qe(e,"value",r,i[0].note)),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&1&&(t=!0,a.value=l[0].note,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function iD(i){let e,t;return e=new jt({props:{solo:!0,$$slots:{default:[y8e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function rD(i){let e,t,n=i[39]+"",r,s,l=[],o=new Map,a,u=i[5][i[39]];const c=f=>`${f[39]}-${f[42].key}`;for(let f=0;f<u.length;f+=1){let d=QC(i,u,f),m=c(d);o.set(m,l[f]=sD(m,d))}return{c(){e=P("option"),t=K("-- "),r=K(n),s=W();for(let f=0;f<l.length;f+=1)l[f].c();a=Ae(),e.disabled=!0,e.__value="-- "+i[39],e.value=e.__value},m(f,d){w(f,e,d),D(e,t),D(e,r),w(f,s,d);for(let m=0;m<l.length;m+=1)l[m].m(f,d);w(f,a,d)},p(f,d){d[0]&33&&(u=f[5][f[39]],l=Pi(l,d,c,1,f,u,o,a.parentNode,ef,sD,a,QC))},d(f){f&&y(e),f&&y(s);for(let d=0;d<l.length;d+=1)l[d].d(f);f&&y(a)}}}function g8e(i){let e=Fy(i[42].key).length>0,t,n=e&&v8e(i);return{c(){n&&n.c(),t=Ae()},m(r,s){n&&n.m(r,s),w(r,t,s)},p(r,s){e&&n.p(r,s)},d(r){n&&n.d(r),r&&y(t)}}}function v8e(i){let e,t=Fy(i[42].key)+"",n,r;return{c(){e=K("("),n=K(t),r=K(")")},m(s,l){w(s,e,l),w(s,n,l),w(s,r,l)},p:Z,d(s){s&&y(e),s&&y(n),s&&y(r)}}}function sD(i,e){let t,n=D4(e[42].key)+"",r,s,l=D4(e[42].key).toLowerCase()!==Fy(e[42].key).toLowerCase(),o,a,u=l&&g8e(e);return{key:i,first:null,c(){t=P("option"),r=K(n),s=W(),u&&u.c(),o=W(),t.__value=e[42].key,t.value=t.__value,t.disabled=a=e[42].key=="time"&&e[0].type!="timer",this.first=t},m(c,f){w(c,t,f),D(t,r),D(t,s),u&&u.m(t,null),D(t,o)},p(c,f){e=c,l&&u.p(e,f),f[0]&1&&a!==(a=e[42].key=="time"&&e[0].type!="timer")&&(t.disabled=a)},d(c){c&&y(t),u&&u.d()}}}function lD(i,e){let t,n,r=e[0].type!=="timer"&&e[39]!=="Timer"&&rD(e);return{key:i,first:null,c(){t=Ae(),r&&r.c(),n=Ae(),this.first=t},m(s,l){w(s,t,l),r&&r.m(s,l),w(s,n,l)},p(s,l){e=s,e[0].type!=="timer"&&e[39]!=="Timer"?r?r.p(e,l):(r=rD(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(s){s&&y(t),r&&r.d(s),s&&y(n)}}}function b8e(i){let e=[],t=new Map,n,r=Object.keys(i[5]);const s=l=>l[39];for(let l=0;l<r.length;l+=1){let o=JC(i,r,l),a=s(o);t.set(a,e[l]=lD(a,o))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();n=Ae()},m(l,o){for(let a=0;a<e.length;a+=1)e[a].m(l,o);w(l,n,o)},p(l,o){o[0]&33&&(r=Object.keys(l[5]),e=Pi(e,o,s,1,l,r,t,n.parentNode,ef,lD,n,JC))},d(l){for(let o=0;o<e.length;o+=1)e[o].d(l);l&&y(n)}}}function oD(i){let e,t=i[36].label+"",n;return{c(){e=P("option"),n=K(t),e.__value=i[36].value,e.value=e.__value},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function k8e(i){let e,t=[{value:"sum",label:Fe.t("general.sum","Sum")},{value:"mean",label:Fe.t("general.avg","Average")}],n=[];for(let r=0;r<2;r+=1)n[r]=oD(KC(i,t,r));return{c(){for(let r=0;r<2;r+=1)n[r].c();e=Ae()},m(r,s){for(let l=0;l<2;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&0){t=[{value:"sum",label:Fe.t("general.sum","Sum")},{value:"mean",label:Fe.t("general.avg","Average")}];let l;for(l=0;l<2;l+=1){const o=KC(r,t,l);n[l]?n[l].p(o,s):(n[l]=oD(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<2;l+=1)n[l].d(1)}},d(r){pt(n,r),r&&y(e)}}}function y8e(i){let e,t,n,r,s,l,o,a;function u(m){i[19](m)}let c={listItem:!0,placeholder:Fe.t("tracker.measure-by","Measure By"),type:"select",className:"tracker-uom",$$slots:{default:[b8e]},$$scope:{ctx:i}};i[0].uom!==void 0&&(c.value=i[0].uom),e=new Wn({props:c}),Oe.push(()=>Qe(e,"value",u,i[0].uom)),r=new hi({props:{center:!0}});function f(m){i[20](m)}let d={listItem:!0,type:"select",className:"tracker-math mb-3",name:"math",placeholder:Fe.t("tracker.calculate-total","Calculate Totals"),$$slots:{default:[k8e]},$$scope:{ctx:i}};return i[0].math!==void 0&&(d.value=i[0].math),l=new Wn({props:d}),Oe.push(()=>Qe(l,"value",f,i[0].math)),{c(){B(e.$$.fragment),n=W(),B(r.$$.fragment),s=W(),B(l.$$.fragment)},m(m,p){O(e,m,p),w(m,n,p),O(r,m,p),w(m,s,p),O(l,m,p),a=!0},p(m,p){const g={};p[0]&1|p[1]&16384&&(g.$$scope={dirty:p,ctx:m}),!t&&p[0]&1&&(t=!0,g.value=m[0].uom,tt(()=>t=!1)),e.$set(g);const k={};p[1]&16384&&(k.$$scope={dirty:p,ctx:m}),!o&&p[0]&1&&(o=!0,k.value=m[0].math,tt(()=>o=!1)),l.$set(k)},i(m){a||(_(e.$$.fragment,m),_(r.$$.fragment,m),_(l.$$.fragment,m),a=!0)},o(m){v(e.$$.fragment,m),v(r.$$.fragment,m),v(l.$$.fragment,m),a=!1},d(m){I(e,m),m&&y(n),I(r,m),m&&y(s),I(l,m)}}}function aD(i){let e,t,n;return t=new He({props:{block:!0,text:!0,color:"clear",size:"sm",className:"mt-2 mb-3 advanced-toggler text-gray-600 dark:text-gray-200",$$slots:{default:[F8e]},$$scope:{ctx:i}}}),t.$on("click",i[21]),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","px-4")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[0]&4|s[1]&16384&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function w8e(i){let e;return{c(){e=K("More Options")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function $8e(i){let e;return{c(){e=K("Less Options")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function F8e(i){let e,t,n;function r(o,a){return o[2]?$8e:w8e}let s=r(i),l=s(i);return t=new et({props:{name:i[2]?_3:Vg,size:12,className:"ml-2 text-gray-500"}}),{c(){l.c(),e=W(),B(t.$$.fragment)},m(o,a){l.m(o,a),w(o,e,a),O(t,o,a),n=!0},p(o,a){s!==(s=r(o))&&(l.d(1),l=s(o),l&&(l.c(),l.m(e.parentNode,e)));const u={};a[0]&4&&(u.name=o[2]?_3:Vg),t.$set(u)},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){l.d(o),o&&y(e),I(t,o)}}}function uD(i){let e,t,n,r=i[0].type=="tick"&&cD(i),s=i[0].type==="range"&&fD(i);return{c(){r&&r.c(),e=W(),s&&s.c(),t=Ae()},m(l,o){r&&r.m(l,o),w(l,e,o),s&&s.m(l,o),w(l,t,o),n=!0},p(l,o){l[0].type=="tick"?r?(r.p(l,o),o[0]&1&&_(r,1)):(r=cD(l),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ae(),v(r,1,1,()=>{r=null}),ue()),l[0].type==="range"?s?(s.p(l,o),o[0]&1&&_(s,1)):(s=fD(l),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){n||(_(r),_(s),n=!0)},o(l){v(r),v(s),n=!1},d(l){r&&r.d(l),l&&y(e),s&&s.d(l),l&&y(t)}}}function cD(i){let e,t;return e=new jt({props:{solo:!0,className:"p-1",$$slots:{default:[C8e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function E8e(i){let e,t,n,r;function s(o){i[22](o)}let l={};return i[0].one_tap!==void 0&&(l.value=i[0].one_tap),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].one_tap)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a[0]&1&&(n=!0,u.value=o[0].one_tap,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function C8e(i){let e,t;return e=new lt({props:{title:Fe.t("tracker.save-on-tap","Save on Tap"),className:"tracker-one-tap leading1",description:Fe.t("tracker.save-on-tap-description","Save note immediately after tapping the button."),$$slots:{right:[E8e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fD(i){let e,t;return e=new jt({props:{solo:!0,$$slots:{default:[T8e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function D8e(i){let e,t;return e=new et({props:{icon:Np,className:"text-gray-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function S8e(i){let e,t,n;return t=new He({props:{icon:!0,$$slots:{default:[D8e]},$$scope:{ctx:i}}}),t.$on("click",i[23]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right"),h(e,"class","pr-1")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[1]&16384&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function T8e(i){let e,t,n;function r(l){i[24](l)}let s={listItem:!0,className:"tracker-step mb-3",pattern:"[0-9]*",inputmode:"numeric",label:Fe.t("tracker.step","Range Step"),placeholder:Fe.t("tracker.step","Range Step"),$$slots:{right:[S8e]},$$scope:{ctx:i}};return i[0].step!==void 0&&(s.value=i[0].step),e=new Wn({props:s}),Oe.push(()=>Qe(e,"value",r,i[0].step)),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o[1]&16384&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.value=l[0].step,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function dD(i){let e,t,n;function r(l){i[26](l)}let s={listItem:!0,className:"tracker-default mb-3 error",pattern:"[0-9]*",inputmode:"numeric",type:"number",label:Fe.t("tracker.value","Default Value"),placeholder:Fe.t("tracker.default-value","Default Value"),$$slots:{right:[N8e]},$$scope:{ctx:i}};return i[0].default!==void 0&&(s.value=i[0].default),e=new Wn({props:s}),Oe.push(()=>Qe(e,"value",r,i[0].default)),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o[0]&1|o[1]&16384&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.value=l[0].default,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function hD(i){let e,t;return e=new vr({props:{size:"xs",className:"text-right text-primary-500",$$slots:{default:[A8e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function A8e(i){let e=i[0].displayValue(i[0].default)+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r[0]&1&&e!==(e=n[0].displayValue(n[0].default)+"")&&de(t,e)},d(n){n&&y(t)}}}function P8e(i){let e,t;return e=new et({props:{icon:Np,className:"text-gray-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function N8e(i){let e,t,n,r,s=i[0].default&&hD(i);return n=new He({props:{className:"pr-1",icon:!0,$$slots:{default:[P8e]},$$scope:{ctx:i}}}),n.$on("click",i[25]),{c(){e=P("div"),s&&s.c(),t=W(),B(n.$$.fragment),h(e,"slot","right")},m(l,o){w(l,e,o),s&&s.m(e,null),D(e,t),O(n,e,null),r=!0},p(l,o){l[0].default?s?(s.p(l,o),o[0]&1&&_(s,1)):(s=hD(l),s.c(),_(s,1),s.m(e,t)):s&&(ae(),v(s,1,1,()=>{s=null}),ue());const a={};o[1]&16384&&(a.$$scope={dirty:o,ctx:l}),n.$set(a)},i(l){r||(_(s),_(n.$$.fragment,l),r=!0)},o(l){v(s),v(n.$$.fragment,l),r=!1},d(l){l&&y(e),s&&s.d(),I(n)}}}function M8e(i){let e=i[2]&&["note","picker"].indexOf(i[0].type)===-1,t,n,r=e&&dD(i);return{c(){r&&r.c(),t=Ae()},m(s,l){r&&r.m(s,l),w(s,t,l),n=!0},p(s,l){l[0]&5&&(e=s[2]&&["note","picker"].indexOf(s[0].type)===-1),e?r?(r.p(s,l),l[0]&5&&_(r,1)):(r=dD(s),r.c(),_(r,1),r.m(t.parentNode,t)):r&&(ae(),v(r,1,1,()=>{r=null}),ue())},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){r&&r.d(s),s&&y(t)}}}function mD(i){let e,t;return e=new jt({props:{solo:!0,$$slots:{default:[L8e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function L8e(i){let e,t;return e=new xEe({props:{tracker:i[0]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.tracker=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function pD(i){let e,t,n,r,s,l,o,a,u,c,f,d,m;return t=new jt({props:{solo:!0,$$slots:{default:[I8e]},$$scope:{ctx:i}}}),c=new jt({props:{className:"",solo:!0,$$slots:{default:[B8e]},$$scope:{ctx:i}}}),{c(){e=P("section"),B(t.$$.fragment),n=W(),r=P("p"),s=K("Automatically include other trackers, people, and data. For example, you could include "),l=P("code"),l.textContent="#alcohol({value}*0.5)",o=K(`
        in a Beer Tracker. Then when you track your beer drinking, the percentage of alchol with also be tracked.`),a=W(),u=P("section"),B(c.$$.fragment),f=W(),d=P("p"),d.textContent=`Does this tracker affect your mind, or body, or spirit, or a combination? Select which one, and Nomie will keep
        track.`,h(r,"class","list-note"),h(e,"class","also-include"),h(d,"class","list-note"),h(u,"aria-label","Mind, Body, Spirit selection")},m(p,g){w(p,e,g),O(t,e,null),D(e,n),D(e,r),D(r,s),D(r,l),D(r,o),w(p,a,g),w(p,u,g),O(c,u,null),D(u,f),D(u,d),m=!0},p(p,g){const k={};g[0]&17|g[1]&16384&&(k.$$scope={dirty:g,ctx:p}),t.$set(k);const $={};g[0]&1|g[1]&16384&&($.$$scope={dirty:g,ctx:p}),c.$set($)},i(p){m||(_(t.$$.fragment,p),_(c.$$.fragment,p),m=!0)},o(p){v(t.$$.fragment,p),v(c.$$.fragment,p),m=!1},d(p){p&&y(e),I(t),p&&y(a),p&&y(u),I(c)}}}function O8e(i){let e,t,n;function r(l){i[27](l)}let s={slot:"right"};return i[4]!==void 0&&(s.value=i[4]),e=new Ar({props:s}),Oe.push(()=>Qe(e,"value",r,i[4])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&16&&(t=!0,a.value=l[4],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function _D(i){let e,t,n,r,s,l,o;e=new hi({props:{left:16}});function a(c){i[28](c)}let u={listItem:!0,className:"tracker-include",type:"textarea",rows:2,label:Fe.t("tracker.include","Also Include"),placeholder:Fe.t("tracker.include-placeholder","Insert additional #trackers, @people, and +context when using this tracker")};return i[0].include!==void 0&&(u.value=i[0].include),n=new Wn({props:u}),Oe.push(()=>Qe(n,"value",a,i[0].include)),l=new P6e({props:{input:i[0].include,scroller:!0}}),l.$on("select",i[29]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),s=W(),B(l.$$.fragment)},m(c,f){O(e,c,f),w(c,t,f),O(n,c,f),w(c,s,f),O(l,c,f),o=!0},p(c,f){const d={};!r&&f[0]&1&&(r=!0,d.value=c[0].include,tt(()=>r=!1)),n.$set(d);const m={};f[0]&1&&(m.input=c[0].include),l.$set(m)},i(c){o||(_(e.$$.fragment,c),_(n.$$.fragment,c),_(l.$$.fragment,c),o=!0)},o(c){v(e.$$.fragment,c),v(n.$$.fragment,c),v(l.$$.fragment,c),o=!1},d(c){I(e,c),c&&y(t),I(n,c),c&&y(s),I(l,c)}}}function I8e(i){let e,t,n,r;e=new lt({props:{bg:"transparent",id:"hide-all-board",title:Fe.t("tracker.also-include","Also Include"),$$slots:{right:[O8e]},$$scope:{ctx:i}}});let s=i[4]&&_D(i);return{c(){B(e.$$.fragment),t=W(),s&&s.c(),n=Ae()},m(l,o){O(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o[0]&16|o[1]&16384&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[4]?s?(s.p(l,o),o[0]&16&&_(s,1)):(s=_D(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){I(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function gD(i){let e,t,n=i[33].emoji+"",r,s,l,o=i[33].label+"",a,u,c,f,d;function m(){return i[30](i[33])}return{c(){e=P("button"),t=P("span"),r=K(n),s=W(),l=P("span"),a=K(o),u=W(),h(t,"class","mr-3 -ml-1"),h(l,"class","text-sm"),h(e,"class",c="flex text-center justify-center py-1 px-2 rounded-md items-center "+(i[0].focus.indexOf(i[33].id)>-1?"ring-2 ring-primary-500 dark:text-white font-bold":"dark:text-gray-300"))},m(p,g){w(p,e,g),D(e,t),D(t,r),D(e,s),D(e,l),D(l,a),D(e,u),f||(d=Se(e,"click",m),f=!0)},p(p,g){i=p,g[0]&1&&c!==(c="flex text-center justify-center py-1 px-2 rounded-md items-center "+(i[0].focus.indexOf(i[33].id)>-1?"ring-2 ring-primary-500 dark:text-white font-bold":"dark:text-gray-300"))&&h(e,"class",c)},d(p){p&&y(e),f=!1,d()}}}function B8e(i){let e,t=sk,n=[];for(let r=0;r<t.length;r+=1)n[r]=gD(XC(i,t,r));return{c(){e=P("div");for(let r=0;r<n.length;r+=1)n[r].c();h(e,"class","grid p-2 grid-cols-3 gap-2")},m(r,s){w(r,e,s);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(r,s){if(s[0]&1){t=sk;let l;for(l=0;l<t.length;l+=1){const o=XC(r,t,l);n[l]?n[l].p(o,s):(n[l]=gD(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){r&&y(e),pt(n,r)}}}function R8e(i){let e,t,n,r,s,l,o,a,u,c,f,d,m;t=new jt({props:{solo:!0,$$slots:{default:[u8e]},$$scope:{ctx:i}}});let p=i[0].type=="picker"&&eD(i),g=i[0].type=="range"&&tD(i),k=i[0].type=="note"&&nD(i),$=i[0].type!=="timer"&&i[0].type!=="note"&&i[0].type!=="picker"&&iD(i),C=i[3]&&aD(i),E=i[2]&&uD(i);c=new jt({props:{solo:!0,$$slots:{default:[M8e]},$$scope:{ctx:i}}});let S=i[2]&&mD(i),T=i[0].type!=="note"&&i[0].type!=="picker"&&i[2]&&pD(i);return{c(){e=P("main"),B(t.$$.fragment),n=W(),p&&p.c(),r=W(),g&&g.c(),s=W(),k&&k.c(),l=W(),$&&$.c(),o=W(),C&&C.c(),a=W(),E&&E.c(),u=W(),B(c.$$.fragment),f=W(),S&&S.c(),d=W(),T&&T.c(),h(e,"class","flex flex-col space-y-4")},m(M,R){w(M,e,R),O(t,e,null),D(e,n),p&&p.m(e,null),D(e,r),g&&g.m(e,null),D(e,s),k&&k.m(e,null),D(e,l),$&&$.m(e,null),D(e,o),C&&C.m(e,null),D(e,a),E&&E.m(e,null),D(e,u),O(c,e,null),D(e,f),S&&S.m(e,null),D(e,d),T&&T.m(e,null),m=!0},p(M,R){const Y={};R[0]&1|R[1]&16384&&(Y.$$scope={dirty:R,ctx:M}),t.$set(Y),M[0].type=="picker"?p?(p.p(M,R),R[0]&1&&_(p,1)):(p=eD(M),p.c(),_(p,1),p.m(e,r)):p&&(ae(),v(p,1,1,()=>{p=null}),ue()),M[0].type=="range"?g?(g.p(M,R),R[0]&1&&_(g,1)):(g=tD(M),g.c(),_(g,1),g.m(e,s)):g&&(ae(),v(g,1,1,()=>{g=null}),ue()),M[0].type=="note"?k?(k.p(M,R),R[0]&1&&_(k,1)):(k=nD(M),k.c(),_(k,1),k.m(e,l)):k&&(ae(),v(k,1,1,()=>{k=null}),ue()),M[0].type!=="timer"&&M[0].type!=="note"&&M[0].type!=="picker"?$?($.p(M,R),R[0]&1&&_($,1)):($=iD(M),$.c(),_($,1),$.m(e,o)):$&&(ae(),v($,1,1,()=>{$=null}),ue()),M[3]?C?(C.p(M,R),R[0]&8&&_(C,1)):(C=aD(M),C.c(),_(C,1),C.m(e,a)):C&&(ae(),v(C,1,1,()=>{C=null}),ue()),M[2]?E?(E.p(M,R),R[0]&4&&_(E,1)):(E=uD(M),E.c(),_(E,1),E.m(e,u)):E&&(ae(),v(E,1,1,()=>{E=null}),ue());const z={};R[0]&5|R[1]&16384&&(z.$$scope={dirty:R,ctx:M}),c.$set(z),M[2]?S?(S.p(M,R),R[0]&4&&_(S,1)):(S=mD(M),S.c(),_(S,1),S.m(e,d)):S&&(ae(),v(S,1,1,()=>{S=null}),ue()),M[0].type!=="note"&&M[0].type!=="picker"&&M[2]?T?(T.p(M,R),R[0]&5&&_(T,1)):(T=pD(M),T.c(),_(T,1),T.m(e,null)):T&&(ae(),v(T,1,1,()=>{T=null}),ue())},i(M){m||(_(t.$$.fragment,M),_(p),_(g),_(k),_($),_(C),_(E),_(c.$$.fragment,M),_(S),_(T),m=!0)},o(M){v(t.$$.fragment,M),v(p),v(g),v(k),v($),v(C),v(E),v(c.$$.fragment,M),v(S),v(T),m=!1},d(M){M&&y(e),I(t),p&&p.d(),g&&g.d(),k&&k.d(),$&&$.d(),C&&C.d(),E&&E.d(),I(c),S&&S.d(),T&&T.d()}}}let z8e=!1;const j8e=i=>{i.detail.target.select()},Y8e=i=>i.detail.target.select(),U8e=i=>{i.detail.target.select()},W8e=i=>i.detail.target.select();function q8e(i,e,t){let n;Le(i,en,te=>t(31,n=te));let{trackable:r}=e,s;const l=DR();let o=!1,a=!1,u=!0,c=!1;const f=async te=>{let ie=await hc({trackables:n.trackables,tracker:s,allowSave:!1,nextLabel:Fe.t("general.set","Set")});ie&&t(0,s[te]=ie.value,s)};async function d(te){await Lt(200),t(0,s.type=te,s)}const m={selectType(){const te=Object.keys(s1).map(ie=>{let re=s1[ie];return{emoji:re.emoji,checked:ie===s.type,title:`${re.label}`,description:`${re.description}`,id:re.id,click:()=>d(ie)}});at.popmenu({id:"tracker-type",title:Fe.t("tracker.type","Type"),buttons:te})}},p=()=>{m.selectType()};function g(te){i.$$.not_equal(s.picks,te)&&(s.picks=te,t(0,s),t(8,r))}const k=te=>{t(0,s.picks=(te.detail||[]).filter(ie=>ie.length),s)},$=()=>{f("min")};function C(te){i.$$.not_equal(s.min,te)&&(s.min=te,t(0,s),t(8,r))}const E=()=>{f("max")};function S(te){i.$$.not_equal(s.max,te)&&(s.max=te,t(0,s),t(8,r))}function T(te){i.$$.not_equal(s.minLabel,te)&&(s.minLabel=te,t(0,s),t(8,r))}function M(te){i.$$.not_equal(s.maxLabel,te)&&(s.maxLabel=te,t(0,s),t(8,r))}function R(te){i.$$.not_equal(s.note,te)&&(s.note=te,t(0,s),t(8,r))}function Y(te){i.$$.not_equal(s.uom,te)&&(s.uom=te,t(0,s),t(8,r))}function z(te){i.$$.not_equal(s.math,te)&&(s.math=te,t(0,s),t(8,r))}const j=()=>t(1,a=!a);function V(te){i.$$.not_equal(s.one_tap,te)&&(s.one_tap=te,t(0,s),t(8,r))}const x=()=>{f("step")};function ee(te){i.$$.not_equal(s.step,te)&&(s.step=te,t(0,s),t(8,r))}const J=()=>{f("default")};function q(te){i.$$.not_equal(s.default,te)&&(s.default=te,t(0,s),t(8,r))}function le(te){c=te,t(4,c),t(0,s),t(1,a),t(8,r)}function G(te){i.$$.not_equal(s.include,te)&&(s.include=te,t(0,s),t(8,r))}const X=async te=>{t(0,s.include=te.detail.note+"",s)},se=te=>{s.focus.indexOf(te.id)>-1?t(0,s.focus=s.focus.filter(re=>re!==te.id),s):s.focus.push(te.id),t(0,s),t(8,r)};return i.$$set=te=>{"trackable"in te&&t(8,r=te.trackable)},i.$$.update=()=>{i.$$.dirty[0]&256&&r&&t(0,s=r.tracker),i.$$.dirty[0]&1&&(s.type==="timer"?(t(0,s.uom="timer",s),t(0,s.min=null,s),t(0,s.max=null,s)):s.uom=="timer"?t(0,s.uom="num",s):s.type==="range"&&isNaN(s.min)&&(t(0,s.min=1,s),t(0,s.max=10,s))),i.$$.dirty[0]&1&&s.label&&s._dirty&&!z8e&&t(0,s.tag=SR(s.label),s),i.$$.dirty[0]&3&&(s&&!a?(s.include&&t(4,c=!0),s.include||s.default||s.math!=="sum"||s.uom!=="num"||s.step||s.one_tap?(t(2,o=!0),t(3,u=!1)):(t(3,u=!0),t(2,o=!1))):a&&t(2,o=!0))},[s,a,o,u,c,l,f,m,r,p,g,k,$,C,E,S,T,M,R,Y,z,j,V,x,ee,J,q,le,G,X,se]}class H8e extends pe{constructor(e){super(),me(this,e,q8e,R8e,he,{trackable:8},null,[-1,-1])}}function vD(i){let e,t;return e=new er({props:{trackable:i[0],size:64}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function bD(i){let e,t,n,r,s,l,o,a,u=i[5]&&kD();const c=[x8e,V8e],f=[];function d(m,p){return m[2]&&m[2].length?0:m[3]?1:-1}return~(r=d(i))&&(s=f[r]=c[r](i)),{c(){e=P("div"),u&&u.c(),t=W(),n=P("button"),s&&s.c(),h(n,"class","flex items-center focus:outline-none focus:ring ring-primary-500 rounded-md"),h(e,"class","tag-control flex justify-end items-center space-x-2")},m(m,p){w(m,e,p),u&&u.m(e,null),D(e,t),D(e,n),~r&&f[r].m(n,null),l=!0,o||(a=Se(n,"click",i[20]),o=!0)},p(m,p){m[5]?u||(u=kD(),u.c(),u.m(e,t)):u&&(u.d(1),u=null);let g=r;r=d(m),r===g?~r&&f[r].p(m,p):(s&&(ae(),v(f[g],1,1,()=>{f[g]=null}),ue()),~r?(s=f[r],s?s.p(m,p):(s=f[r]=c[r](m),s.c()),_(s,1),s.m(n,null)):s=null)},i(m){l||(_(s),l=!0)},o(m){v(s),l=!1},d(m){m&&y(e),u&&u.d(),~r&&f[r].d(),o=!1,a()}}}function kD(i){let e;return{c(){e=P("div"),e.textContent="Tag already exists",h(e,"class","text-red-500 text-xs")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function V8e(i){let e,t,n,r=Za(`${i[0].prefix}${i[3]}`,i[7].size=="lg"?40:20)+"",s,l,o,a;return o=new et({props:{icon:ca,size:12}}),{c(){e=P("span"),e.textContent="Tag:",t=W(),n=P("span"),s=K(r),l=W(),B(o.$$.fragment),h(e,"class","opacity-50")},m(u,c){w(u,e,c),w(u,t,c),w(u,n,c),D(n,s),w(u,l,c),O(o,u,c),a=!0},p(u,c){(!a||c&137)&&r!==(r=Za(`${u[0].prefix}${u[3]}`,u[7].size=="lg"?40:20)+"")&&de(s,r)},i(u){a||(_(o.$$.fragment,u),a=!0)},o(u){v(o.$$.fragment,u),a=!1},d(u){u&&y(e),u&&y(t),u&&y(n),u&&y(l),I(o,u)}}}function x8e(i){let e,t,n,r=Za(i[2],i[7].size=="lg"?40:20)+"",s,l,o,a;return o=new et({props:{icon:uY,size:12}}),{c(){e=P("span"),e.textContent="Tag:",t=W(),n=P("span"),s=K(r),l=W(),B(o.$$.fragment),h(e,"class","opacity-50 ")},m(u,c){w(u,e,c),w(u,t,c),w(u,n,c),D(n,s),w(u,l,c),O(o,u,c),a=!0},p(u,c){(!a||c&132)&&r!==(r=Za(u[2],u[7].size=="lg"?40:20)+"")&&de(s,r)},i(u){a||(_(o.$$.fragment,u),a=!0)},o(u){v(o.$$.fragment,u),a=!1},d(u){u&&y(e),u&&y(t),u&&y(n),u&&y(l),I(o,u)}}}function yD(i){let e,t,n;function r(l){i[21](l)}let s={};return i[0]!==void 0&&(s.trackable=i[0]),e=new D4e({props:s}),Oe.push(()=>Qe(e,"trackable",r,i[0])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.trackable=l[0],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function wD(i){let e,t,n;function r(l){i[22](l)}let s={};return i[0]!==void 0&&(s.trackable=i[0]),e=new P4e({props:s}),Oe.push(()=>Qe(e,"trackable",r,i[0])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.trackable=l[0],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function $D(i){let e,t,n;function r(l){i[23](l)}let s={};return i[0]!==void 0&&(s.trackable=i[0]),e=new H8e({props:s}),Oe.push(()=>Qe(e,"trackable",r,i[0])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.trackable=l[0],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function G8e(i){let e;return{c(){e=K("Share Tracker")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Z8e(i){let e,t;return e=new et({props:{slot:"right",icon:Ap,className:"text-primary"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function FD(i){let e,t;return e=new lt({props:{bottomLine:16,$$slots:{right:[K8e],default:[X8e]},$$scope:{ctx:i}}}),e.$on("click",i[25]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&268435456&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function X8e(i){let e;return{c(){e=P("span"),e.textContent="Generate QR Code or NFC"},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function K8e(i){let e,t;return e=new et({props:{slot:"right",icon:v4e,className:"text-primary"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ED(i){let e,t;return e=new lt({props:{bottomLine:16,$$slots:{right:[Q8e],default:[J8e]},$$scope:{ctx:i}}}),e.$on("click",i[26]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&268435456&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function J8e(i){let e;return{c(){e=K("Duplicate Trackable...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Q8e(i){let e,t;return e=new et({props:{slot:"right",icon:FJ,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function eCe(i){let e;return{c(){e=P("span"),e.textContent="Delete Trackable",h(e,"class","text-red-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function tCe(i){let e,t;return e=new et({props:{slot:"right",icon:Pp,className:"text-red-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nCe(i){let e,t,n,r=i[0],s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M,R,Y=vD(i);a=new Wn({props:{className:"outline",id:"trackable-label-input",value:i[0].label,placeholder:i[4],label:i[4]}}),a.$on("input",i[19]);let z=(i[2]||i[3])&&bD(i),j=i[0].type=="context"&&yD(i),V=i[0].type=="person"&&wD(i),x=i[0].type=="tracker"&&$D(i);k=new lt({props:{bottomLine:16,clickable:!0,$$slots:{right:[Z8e],default:[G8e]},$$scope:{ctx:i}}}),k.$on("click",i[24]);let ee=i[8].betaFeatures&&FD(i),J=i[0].type=="tracker"&&ED(i);return S=new lt({props:{$$slots:{right:[tCe],default:[eCe]},$$scope:{ctx:i}}}),S.$on("click",i[27]),{c(){e=P("section"),t=P("div"),n=P("button"),Y.c(),l=W(),o=P("div"),B(a.$$.fragment),u=W(),z&&z.c(),c=W(),f=P("section"),j&&j.c(),d=W(),V&&V.c(),m=W(),x&&x.c(),p=W(),g=P("section"),B(k.$$.fragment),$=W(),ee&&ee.c(),C=W(),J&&J.c(),E=W(),B(S.$$.fragment),h(n,"class","bg-primary-500 w-20 h-20 stiff"),h(n,"style",s="border-radius:33%; "+(i[0].color?`background-color:${i[0].color} !important;`:"")),h(o,"class","flex flex-col w-full"),h(t,"class","visuals-editor flex items-center space-x-4"),h(e,"class","label-emoji-color filler overflow-y-auto px-4 dark:text-gray-200 py-4 bg-gray-50 dark:bg-black mb-4"),h(f,"class","px-2 h-50vh "),h(g,"class","mt-4 bg-white dark:bg-black pb-10")},m(q,le){w(q,e,le),D(e,t),D(t,n),Y.m(n,null),D(t,l),D(t,o),O(a,o,null),D(o,u),z&&z.m(o,null),w(q,c,le),w(q,f,le),j&&j.m(f,null),D(f,d),V&&V.m(f,null),D(f,m),x&&x.m(f,null),w(q,p,le),w(q,g,le),O(k,g,null),D(g,$),ee&&ee.m(g,null),D(g,C),J&&J.m(g,null),D(g,E),O(S,g,null),T=!0,M||(R=Se(n,"click",i[18]),M=!0)},p(q,le){le&1&&he(r,r=q[0])?(ae(),v(Y,1,1,Z),ue(),Y=vD(q),Y.c(),_(Y,1),Y.m(n,null)):Y.p(q,le),(!T||le&1&&s!==(s="border-radius:33%; "+(q[0].color?`background-color:${q[0].color} !important;`:"")))&&h(n,"style",s);const G={};le&1&&(G.value=q[0].label),le&16&&(G.placeholder=q[4]),le&16&&(G.label=q[4]),a.$set(G),q[2]||q[3]?z?(z.p(q,le),le&12&&_(z,1)):(z=bD(q),z.c(),_(z,1),z.m(o,null)):z&&(ae(),v(z,1,1,()=>{z=null}),ue()),q[0].type=="context"?j?(j.p(q,le),le&1&&_(j,1)):(j=yD(q),j.c(),_(j,1),j.m(f,d)):j&&(ae(),v(j,1,1,()=>{j=null}),ue()),q[0].type=="person"?V?(V.p(q,le),le&1&&_(V,1)):(V=wD(q),V.c(),_(V,1),V.m(f,m)):V&&(ae(),v(V,1,1,()=>{V=null}),ue()),q[0].type=="tracker"?x?(x.p(q,le),le&1&&_(x,1)):(x=$D(q),x.c(),_(x,1),x.m(f,null)):x&&(ae(),v(x,1,1,()=>{x=null}),ue());const X={};le&268435456&&(X.$$scope={dirty:le,ctx:q}),k.$set(X),q[8].betaFeatures?ee?(ee.p(q,le),le&256&&_(ee,1)):(ee=FD(q),ee.c(),_(ee,1),ee.m(g,C)):ee&&(ae(),v(ee,1,1,()=>{ee=null}),ue()),q[0].type=="tracker"?J?(J.p(q,le),le&1&&_(J,1)):(J=ED(q),J.c(),_(J,1),J.m(g,E)):J&&(ae(),v(J,1,1,()=>{J=null}),ue());const se={};le&268435456&&(se.$$scope={dirty:le,ctx:q}),S.$set(se)},i(q){T||(_(Y),_(a.$$.fragment,q),_(z),_(j),_(V),_(x),_(k.$$.fragment,q),_(ee),_(J),_(S.$$.fragment,q),T=!0)},o(q){v(Y),v(a.$$.fragment,q),v(z),v(j),v(V),v(x),v(k.$$.fragment,q),v(ee),v(J),v(S.$$.fragment,q),T=!1},d(q){q&&y(e),Y.d(q),I(a),z&&z.d(),q&&y(c),q&&y(f),j&&j.d(),V&&V.d(),x&&x.d(),q&&y(p),q&&y(g),I(k),ee&&ee.d(),J&&J.d(),I(S),M=!1,R()}}}function iCe(i){let e,t;return e=new ki({props:{size:24}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function rCe(i){let e=i[0].label+"",t,n;return{c(){t=K(e),n=K(" Editor")},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s&1&&e!==(e=r[0].label+"")&&de(t,e)},i:Z,o:Z,d(r){r&&y(t),r&&y(n)}}}function sCe(i){let e,t,n,r;const s=[rCe,iCe],l=[];function o(a,u){return a[6]?1:0}return t=o(i),n=l[t]=s[t](i),{c(){e=P("h2"),n.c(),h(e,"class","font-bold text-sm flex-grow-0 line-clamp-1 text-black dark:text-white capitalize flex items-center space-x-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function lCe(i){let e=Fe.t("general.cancel","Cancel")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function oCe(i){let e,t;return e=new He({props:{slot:"left",id:"cancel-button",clear:!0,primary:!0,$$slots:{default:[lCe]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&268435456&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function aCe(i){let e=Fe.t("general.save","Save")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function uCe(i){let e,t;return e=new He({props:{slot:"right",id:"save-button",clear:!0,primary:!0,disabled:!i[1],$$slots:{default:[aCe]},$$scope:{ctx:i}}}),e.$on("click",i[10]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.disabled=!n[1]),r&268435456&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function cCe(i){let e,t;return e=new Sn({props:{slot:"header",className:"bg-gray-50 stiff dark:bg-black",$$slots:{right:[uCe],left:[oCe],default:[sCe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&268435523&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fCe(i){let e,t;return e=new ti({props:{mainClass:"bg-gray-200 dark:bg-gray-800",$$slots:{header:[cCe],default:[nCe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&268435967&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function dCe(i,e,t){let n,r,s;Le(i,en,q=>t(17,n=q)),Le(i,Ni,q=>t(7,r=q)),Le(i,Ht,q=>t(8,s=q));let{trackable:l}=e,{id:o}=e,{saveByPass:a}=e,u,c=!1,f,d,m="Label",p=!1,g=!1;const k=async q=>{},$=async()=>{if(u.id||t(0,u.id=`${u.prefix}${d}`,u),f||t(0,u.tag=d,u),t(6,g=!0),a)a(u),S();else{let q=await E0({trackable:u,known:n.trackables});S(),Af(),t(6,g=!1),q&&(qn({message:`${u.label} saved`}),setTimeout(async()=>{let le=mVe();le&&!le.getById("award-creator")&&(await Lt(600),pVe("award-creator"))}))}},C=async()=>{let q=new Wi(u);q.id=void 0,q.tag=void 0,q.tracker.tag=void 0,q.tracker.id=void 0,q.tracker.label=void 0,q.tracker._dirty=!0,tn(o),await Lt(200),Kr(q)},E=async()=>{let q;if(f?await at.confirm("Warning about Tag Changing","This trackable has already been saved. While you can save a new tag, all past data will not be updated and the old tag will still remain. The new tag will be used moving forward.")&&(await Lt(200),q=await at.prompt("New Tag",void 0,{value:sp(f)})):q=await at.prompt("New Tag",void 0,{value:sp(u.tag)}),q){const le=Nd(q);n.trackables[`${u.prefix}${le}`]?(await Lt(200),await at.error(`${u.prefix}${le} already exists. Try another`),await Lt(200),E()):(t(2,f=void 0),t(3,d=le))}},S=async()=>{tn(o)},T=async()=>{const q=await S6e(u);q&&(q.color&&t(0,u.color=q.color,u),q.emoji&&t(0,u.emoji=q.emoji,u),q.avatar&&t(0,u.avatar=q.avatar,u))},M=q=>{t(0,u.label=q.detail,u),f||(t(3,d=`${Nd(u.label)}`),t(0,u.tag=d,u))},R=()=>E();function Y(q){u=q,t(0,u),t(14,l),t(3,d),t(2,f)}function z(q){u=q,t(0,u),t(14,l),t(3,d),t(2,f)}function j(q){u=q,t(0,u),t(14,l),t(3,d),t(2,f)}const V=()=>{i0e([u],`${pf}`)},x=()=>k(),ee=()=>{C()},J=async()=>{await KW(u),S()};return i.$$set=q=>{"trackable"in q&&t(14,l=q.trackable),"id"in q&&t(15,o=q.id),"saveByPass"in q&&t(16,a=q.saveByPass)},i.$$.update=()=>{i.$$.dirty&16397&&l&&!u&&(t(0,u=new Wi(l)),t(3,d=u.tag||Nd(u.label)),t(2,f=d),!f&&!u.emoji&&(t(0,u.emoji=sY(),u),t(0,u.color=Kae(),u)),u.type=="tracker"&&t(4,m="Tracker Label"),u.type=="person"&&t(4,m="Person's Name")),i.$$.dirty&131087&&di(u)&&(t(1,c=u.canSave),c&&f!==d&&(n.trackables[`${u.prefix}${d}`]?(t(1,c=!1),t(5,p=!0),console.error("That tag already exists!")):t(5,p=!1)))},[u,c,f,d,m,p,g,r,s,k,$,C,E,S,l,o,a,n,T,M,R,Y,z,j,V,x,ee,J]}class hCe extends pe{constructor(e){super(),me(this,e,dCe,fCe,he,{trackable:14,id:15,saveByPass:16})}}const Kr=(i,e)=>{iu("open_trackable_editor"),On({id:`trackable-editor-${i.tag}`,componentProps:{trackable:i,saveByPass:e},component:hCe})},CD=i=>v1.find(e=>e.id==i).symbol,v1=[{id:"lt",label:"Less than",symbol:"<"},{id:"lte",label:"Less or Equal",symbol:"<="},{id:"eq",label:"Equal",symbol:"="},{id:"gt",label:"Greater than",symbol:">"},{id:"gte",label:"Greater or Equal",symbol:">="}],mCe=(i,e)=>{let t,n;const r=e||Te();return i.duration==="month"?(t=r.startOf("month"),n=r.endOf("month")):i.duration==="week"?(t=r.startOf("week"),n=r.endOf("week")):i.duration==="day"&&(t=r.startOf("day"),n=r.endOf("day")),{start:t,end:n}},pCe=(i,e)=>{const t=i.filter(l=>l).map(l=>l==null?void 0:l.duration),n=e||Te();let r,s;return t.indexOf("month")>-1?(r=n.startOf("month"),s=n.endOf("month")):t.indexOf("week")>-1?(r=n.startOf("week"),s=n.endOf("week")):t.indexOf("day")>-1&&(r=n.startOf("day"),s=n.endOf("day")),{start:r,end:s}};class b1{constructor(e={}){je(this,"id");je(this,"trackable");je(this,"tag");je(this,"duration");je(this,"target");je(this,"comparison");var t;this.id=e.id||Jn(),this.trackable=e.trackable?new Wi(e.trackable):void 0,this.tag=e.tag||((t=this.trackable)==null?void 0:t.tag)||void 0,this.duration="day",this.target=gi(e.target),this.comparison=e.comparison}get asObject(){return{id:this.id,duration:this.duration,target:this.target,comparison:this.comparison,tag:this.tag}}get durationLabel(){return this.durationToLabel(this.duration)}durationToLabel(e){switch(e){case"day":return"Daily";case"week":return"Weekly";case"month":return"Monthly"}}get isDontDoIt(){return this.comparison==="lt"||this.comparison==="lte"}compare(e){return this.comparison==="eq"&&e==this.target||this.comparison==="lt"&&e<this.target||this.comparison==="lte"&&e<=this.target||this.comparison==="gt"&&e>this.target?!0:this.comparison==="gte"&&e>=this.target}calculateScores(e){let t=[],n;return this.duration==="month"&&e&&(n=e.groupBy("month","YYYY-MM").backfill()),this.duration==="week"&&e&&(n=e.groupBy("week","YYYY-MM-w").backfill()),this.duration==="day"&&e&&(n=e.byDay.backfill()),n&&(t=n.values.map((r,s)=>{let l=r;isNaN(r)&&(r=0);const o=this.compare(r),a={success:o,failure:!o,target:this.target,actual:r,og:l,date:n.dates[s],percent:Nt.percentage(this.target,r)};return(this.comparison=="lt"||this.comparison=="lte"&&!o)&&(a.failure=!0),a})),t}}function DD(i,e,t){const n=i.slice();return n[23]=e[t],n}const _Ce=i=>({item:i&16}),SD=i=>({item:i[23].data});function gCe(i){let e;return{c(){e=K("Missing template")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function TD(i,e){let t,n,r;const s=e[14].default,l=nt(s,e,e[13],SD),o=l||gCe();return{key:i,first:null,c(){t=P("svelte-virtual-list-row"),o&&o.c(),n=W(),p2(t,"class","svelte-gmikgz"),this.first=t},m(a,u){w(a,t,u),o&&o.m(t,null),D(t,n),r=!0},p(a,u){e=a,l&&l.p&&(!r||u&8208)&&rt(l,s,e,e[13],r?it(s,e[13],u,_Ce):st(e[13]),SD)},i(a){r||(_(o,a),r=!0)},o(a){v(o,a),r=!1},d(a){a&&y(t),o&&o.d(a)}}}function vCe(i){let e,t,n=[],r=new Map,s,l,o,a,u=i[4];const c=f=>f[23].index;for(let f=0;f<u.length;f+=1){let d=DD(i,u,f),m=c(d);r.set(m,n[f]=TD(m,d))}return{c(){e=P("svelte-virtual-list-viewport"),t=P("svelte-virtual-list-contents");for(let f=0;f<n.length;f+=1)n[f].c();gt(t,"padding-top",i[5]+"px"),gt(t,"padding-bottom",i[6]+"px"),p2(t,"class","svelte-gmikgz"),gt(e,"height",i[0]),p2(e,"class","svelte-gmikgz"),Ei(()=>i[17].call(e))},m(f,d){w(f,e,d),D(e,t);for(let m=0;m<n.length;m+=1)n[m].m(t,null);i[15](t),i[16](e),s=zX(e,i[17].bind(e)),l=!0,o||(a=Se(e,"scroll",i[7]),o=!0)},p(f,[d]){d&8208&&(u=f[4],ae(),n=Pi(n,d,c,1,f,u,r,t,br,TD,null,DD),ue()),(!l||d&32)&&gt(t,"padding-top",f[5]+"px"),(!l||d&64)&&gt(t,"padding-bottom",f[6]+"px"),(!l||d&1)&&gt(e,"height",f[0])},i(f){if(!l){for(let d=0;d<u.length;d+=1)_(n[d]);l=!0}},o(f){for(let d=0;d<n.length;d+=1)v(n[d]);l=!1},d(f){f&&y(e);for(let d=0;d<n.length;d+=1)n[d].d();i[15](null),i[16](null),s(),o=!1,a()}}}function bCe(i,e,t){let{$$slots:n={},$$scope:r}=e,{items:s}=e,{height:l="100%"}=e,{itemHeight:o=void 0}=e,{start:a=0}=e,{end:u=0}=e,c=[],f,d,m,p=0,g,k,$=0,C=0,E;async function S(z,j,V){const{scrollTop:x}=d;await uo();let ee=$-x,J=a;for(;ee<j&&J<z.length;){let le=f[J-a];le||(t(9,u=J+1),await uo(),le=f[J-a]);const G=c[J]=V||le.offsetHeight;ee+=G,J+=1}t(9,u=J);const q=z.length-u;E=($+ee)/u,t(6,C=q*E),c.length=z.length}async function T(){const{scrollTop:z}=d,j=a;for(let J=0;J<f.length;J+=1)c[a+J]=o||f[J].offsetHeight;let V=0,x=0;for(;V<s.length;){const J=c[V]||E;if(x+J>z){t(8,a=V),t(5,$=x);break}x+=J,V+=1}for(;V<s.length&&(x+=c[V]||E,V+=1,!(x>z+p)););t(9,u=V);const ee=s.length-u;for(E=x/u;V<s.length;)c[V++]=E;if(t(6,C=ee*E),a<j){await uo();let J=0,q=0;for(let G=a;G<j;G+=1)f[G-a]&&(J+=c[G],q+=o||f[G-a].offsetHeight);const le=q-J;d.scrollTo(0,z+le)}}Yt(()=>{f=m.getElementsByTagName("svelte-virtual-list-row"),t(12,k=!0)});function M(z){Oe[z?"unshift":"push"](()=>{m=z,t(3,m)})}function R(z){Oe[z?"unshift":"push"](()=>{d=z,t(2,d)})}function Y(){p=this.offsetHeight,t(1,p)}return i.$$set=z=>{"items"in z&&t(10,s=z.items),"height"in z&&t(0,l=z.height),"itemHeight"in z&&t(11,o=z.itemHeight),"start"in z&&t(8,a=z.start),"end"in z&&t(9,u=z.end),"$$scope"in z&&t(13,r=z.$$scope)},i.$$.update=()=>{i.$$.dirty&1792&&t(4,g=s.slice(a,u).map((z,j)=>({index:j+a,data:z}))),i.$$.dirty&7170&&k&&S(s,p,o)},[l,p,d,m,g,$,C,T,a,u,s,o,k,r,n,M,R,Y]}class sU extends pe{constructor(e){super(),me(this,e,bCe,vCe,he,{items:10,height:0,itemHeight:11,start:8,end:9})}}const kCe=i=>({item:i&8192}),AD=i=>({item:i[13]});function yCe(i){let e;const t=i[6].default,n=nt(t,i,i[10],AD);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&9216)&&rt(n,t,r,r[10],e?it(t,r[10],s,kCe):st(r[10]),AD)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function wCe(i){let e,t,n,r,s,l;function o(c){i[7](c)}function a(c){i[8](c)}let u={items:i[3],height:i[2],$$slots:{default:[yCe,({item:c})=>({13:c}),({item:c})=>c?8192:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(u.start=i[0]),i[1]!==void 0&&(u.end=i[1]),t=new sU({props:u}),Oe.push(()=>Qe(t,"start",o,i[0])),Oe.push(()=>Qe(t,"end",a,i[1])),{c(){e=P("div"),B(t.$$.fragment),h(e,"class",s="virtual-list-wrapper overflow-hidden "+i[4])},m(c,f){w(c,e,f),O(t,e,null),i[9](e),l=!0},p(c,[f]){const d={};f&8&&(d.items=c[3]),f&4&&(d.height=c[2]),f&9216&&(d.$$scope={dirty:f,ctx:c}),!n&&f&1&&(n=!0,d.start=c[0],tt(()=>n=!1)),!r&&f&2&&(r=!0,d.end=c[1],tt(()=>r=!1)),t.$set(d),(!l||f&16&&s!==(s="virtual-list-wrapper overflow-hidden "+c[4]))&&h(e,"class",s)},i(c){l||(_(t.$$.fragment,c),l=!0)},o(c){v(t.$$.fragment,c),l=!1},d(c){c&&y(e),I(t),i[9](null)}}}function $Ce(i,e,t){let{$$slots:n={},$$scope:r}=e,{items:s=[]}=e,{className:l=""}=e,{start:o=void 0}=e,{end:a=void 0}=e,{height:u="100vh"}=e,c;const f=Ut(),d=()=>{const k=ip(c);t(2,u=`${k.eleHeight}px`)};Yt(()=>{d()});function m(k){o=k,t(0,o)}function p(k){a=k,t(1,a)}function g(k){Oe[k?"unshift":"push"](()=>{c=k,t(5,c)})}return i.$$set=k=>{"items"in k&&t(3,s=k.items),"className"in k&&t(4,l=k.className),"start"in k&&t(0,o=k.start),"end"in k&&t(1,a=k.end),"height"in k&&t(2,u=k.height),"$$scope"in k&&t(10,r=k.$$scope)},i.$$.update=()=>{i.$$.dirty&11&&(a===s.length&&f("end"),f("topItem",s[o]))},[o,a,u,s,l,c,n,m,p,g,r]}class lU extends pe{constructor(e){super(),me(this,e,$Ce,wCe,he,{items:3,className:4,start:0,end:1,height:2})}}function FCe(i){let e,t,n,r,s;return{c(){e=P("div"),t=P("div"),h(t,"class",n="h-full rounded-full "+(`${i[0]}`!="100"?i[5]:i[6])+" progress-bar transition-all "+(i[3]||"bg-primary-500")),h(t,"role","progressbar"),h(t,"style",r=`width:${i[0]}%; ${i[8]?`background-color:${i[8]};`:""}`),h(e,"aria-label",i[7]),h(e,"title",i[7]),h(e,"class",s="progress flex n-progress-bar rounded-full "+(i[1]||"h-6 dark:bg-gray-700 bg-gray-300")),h(e,"style",i[2]),ct(e,"r2l",i[4])},m(l,o){w(l,e,o),D(e,t)},p(l,[o]){o&105&&n!==(n="h-full rounded-full "+(`${l[0]}`!="100"?l[5]:l[6])+" progress-bar transition-all "+(l[3]||"bg-primary-500"))&&h(t,"class",n),o&257&&r!==(r=`width:${l[0]}%; ${l[8]?`background-color:${l[8]};`:""}`)&&h(t,"style",r),o&128&&h(e,"aria-label",l[7]),o&128&&h(e,"title",l[7]),o&2&&s!==(s="progress flex n-progress-bar rounded-full "+(l[1]||"h-6 dark:bg-gray-700 bg-gray-300"))&&h(e,"class",s),o&4&&h(e,"style",l[2]),o&18&&ct(e,"r2l",l[4])},i:Z,o:Z,d(l){l&&y(e)}}}function ECe(i,e,t){let{percentage:n=0}=e,{className:r=void 0}=e,{style:s=""}=e,{barClass:l=void 0}=e,{r2l:o=!1}=e,{not100Class:a=""}=e,{is100Class:u=""}=e,{title:c=""}=e,{color:f=void 0}=e;return i.$$set=d=>{"percentage"in d&&t(0,n=d.percentage),"className"in d&&t(1,r=d.className),"style"in d&&t(2,s=d.style),"barClass"in d&&t(3,l=d.barClass),"r2l"in d&&t(4,o=d.r2l),"not100Class"in d&&t(5,a=d.not100Class),"is100Class"in d&&t(6,u=d.is100Class),"title"in d&&t(7,c=d.title),"color"in d&&t(8,f=d.color)},[n,r,s,l,o,a,u,c,f]}class Dl extends pe{constructor(e){super(),me(this,e,ECe,FCe,he,{percentage:0,className:1,style:2,barClass:3,r2l:4,not100Class:5,is100Class:6,title:7,color:8})}}function PD(i,e,t){const n=i.slice();return n[20]=e[t],n}function CCe(i){let e;return{c(){e=P("div"),e.textContent="Not enough data. Keep Tracking!",h(e,"class","bg-white dark:bg-black flex items-center justify-center h-40 p-10")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function DCe(i){let e,t,n=i[8].label+"",r,s,l=CD(i[0].comparison)+"",o,a,u=i[8].formatValue(i[0].target)+"",c,f,d,m=i[2]&&ND(i);return{c(){e=P("div"),t=P("h1"),r=K(n),s=W(),o=K(l),a=W(),c=K(u),f=W(),m&&m.c(),h(t,"class","text-xl font-bold text-black dark:text-white leading-tight mt-4 pb-"),h(e,"class","bg-white dark:bg-black px-4 pb-4 flex flex-col space-y-2")},m(p,g){w(p,e,g),D(e,t),D(t,r),D(t,s),D(t,o),D(t,a),D(t,c),D(e,f),m&&m.m(e,null),d=!0},p(p,g){(!d||g&256)&&n!==(n=p[8].label+"")&&de(r,n),(!d||g&1)&&l!==(l=CD(p[0].comparison)+"")&&de(o,l),(!d||g&257)&&u!==(u=p[8].formatValue(p[0].target)+"")&&de(c,u),p[2]?m?(m.p(p,g),g&4&&_(m,1)):(m=ND(p),m.c(),_(m,1),m.m(e,null)):m&&(ae(),v(m,1,1,()=>{m=null}),ue())},i(p){d||(_(m),d=!0)},o(p){v(m),d=!1},d(p){p&&y(e),m&&m.d()}}}function ND(i){let e,t,n,r=Nt.round(Nt.percentage(i[6],i[7]))+"",s,l,o,a,u,c,f,d,m,p,g,k;return g=new Dl({props:{color:i[8].color,className:"h-2",barClass:"h-1 ",percentage:Nt.round(Nt.percentage(i[6],i[7]))}}),{c(){e=P("p"),t=K("Goal hit "),n=P("strong"),s=K(r),l=K("%"),o=W(),a=P("strong"),u=K(i[7]),c=K(" out of "),f=K(i[6]),d=K(` days.
        `),m=P("br"),p=W(),B(g.$$.fragment),h(n,"class","text-black dark:text-white"),h(e,"class","text-gray-600 dark:text-gray-400 leading-snug pb-2")},m($,C){w($,e,C),D(e,t),D(e,n),D(n,s),D(n,l),D(e,o),D(e,a),D(a,u),D(e,c),D(e,f),D(e,d),D(e,m),w($,p,C),O(g,$,C),k=!0},p($,C){(!k||C&192)&&r!==(r=Nt.round(Nt.percentage($[6],$[7]))+"")&&de(s,r),(!k||C&128)&&de(u,$[7]),(!k||C&64)&&de(f,$[6]);const E={};C&256&&(E.color=$[8].color),C&192&&(E.percentage=Nt.round(Nt.percentage($[6],$[7]))),g.$set(E)},i($){k||(_(g.$$.fragment,$),k=!0)},o($){v(g.$$.fragment,$),k=!1},d($){$&&y(e),$&&y(p),I(g,$)}}}function MD(i){let e,t;return e=new zi({props:{$$slots:{default:[SCe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function SCe(i){let e,t;return e=new ki({props:{size:42}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function LD(i){let e,t,n,r;e=new lU({props:{className:"goal-scroller h-full filler overflow-hidden",items:i[5],$$slots:{default:[TCe,({item:l})=>({19:l}),({item:l})=>l?524288:0]},$$scope:{ctx:i}}}),e.$on("end",i[15]);let s=i[4]&&BD();return{c(){B(e.$$.fragment),t=W(),s&&s.c(),n=Ae()},m(l,o){O(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o&32&&(a.items=l[5]),o&8912896&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[4]?s?o&16&&_(s,1):(s=BD(),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){I(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function OD(i){let e,t,n=i[19][0].date.format(i[10].tinyDate)+"",r,s,l=i[19][i[19].length-1].date.format(i[10].tinyDate)+"",o,a,u=i[19][0].date.format("YYYY")+"",c,f,d,m=i[19],p=[];for(let g=0;g<m.length;g+=1)p[g]=ID(PD(i,m,g));return{c(){e=P("div"),t=P("h2"),r=K(n),s=K(" \u2192 "),o=K(l),a=W(),c=K(u),f=W(),d=P("div");for(let g=0;g<p.length;g+=1)p[g].c();h(d,"class","goal-balls"),h(e,"class","week")},m(g,k){w(g,e,k),D(e,t),D(t,r),D(t,s),D(t,o),D(t,a),D(t,c),D(e,f),D(e,d);for(let $=0;$<p.length;$+=1)p[$].m(d,null)},p(g,k){if(k&524288&&n!==(n=g[19][0].date.format(g[10].tinyDate)+"")&&de(r,n),k&524288&&l!==(l=g[19][g[19].length-1].date.format(g[10].tinyDate)+"")&&de(o,l),k&524288&&u!==(u=g[19][0].date.format("YYYY")+"")&&de(c,u),k&526848){m=g[19];let $;for($=0;$<m.length;$+=1){const C=PD(g,m,$);p[$]?p[$].p(C,k):(p[$]=ID(C),p[$].c(),p[$].m(d,null))}for(;$<p.length;$+=1)p[$].d(1);p.length=m.length}},d(g){g&&y(e),pt(p,g)}}}function ID(i){let e,t=i[20].date.format("ddd").substring(0,1)+"",n,r,s,l,o;function a(){return i[14](i[20])}return{c(){e=P("button"),n=K(t),r=W(),gt(e,"transform","scale("+i[11](i[20].percent)+")"),h(e,"class",s="goal-ball transition-all "+(i[20].success==!0?"bg-green-500":"")+" "+(i[20].failure==!0?"bg-red-500":""))},m(u,c){w(u,e,c),D(e,n),D(e,r),l||(o=Se(e,"click",a),l=!0)},p(u,c){i=u,c&524288&&t!==(t=i[20].date.format("ddd").substring(0,1)+"")&&de(n,t),c&524288&&gt(e,"transform","scale("+i[11](i[20].percent)+")"),c&524288&&s!==(s="goal-ball transition-all "+(i[20].success==!0?"bg-green-500":"")+" "+(i[20].failure==!0?"bg-red-500":""))&&h(e,"class",s)},d(u){u&&y(e),l=!1,o()}}}function TCe(i){let e,t=i[19][0]&&OD(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,r){n[19][0]?t?t.p(n,r):(t=OD(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&y(e)}}}function BD(i){let e,t,n;return t=new ki({props:{size:22}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","absolute bottom-10 right-10 z-50")},m(r,s){w(r,e,s),O(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function ACe(i){let e,t,n,r,s,l;const o=[DCe,CCe],a=[];function u(d,m){return d[0]&&d[6]?0:!d[3]&&!d[6]?1:-1}~(e=u(i))&&(t=a[e]=o[e](i));let c=i[3]&&MD(i),f=!i[3]&&LD(i);return{c(){t&&t.c(),n=W(),c&&c.c(),r=W(),f&&f.c(),s=Ae()},m(d,m){~e&&a[e].m(d,m),w(d,n,m),c&&c.m(d,m),w(d,r,m),f&&f.m(d,m),w(d,s,m),l=!0},p(d,[m]){let p=e;e=u(d),e===p?~e&&a[e].p(d,m):(t&&(ae(),v(a[p],1,1,()=>{a[p]=null}),ue()),~e?(t=a[e],t?t.p(d,m):(t=a[e]=o[e](d),t.c()),_(t,1),t.m(n.parentNode,n)):t=null),d[3]?c?m&8&&_(c,1):(c=MD(d),c.c(),_(c,1),c.m(r.parentNode,r)):c&&(ae(),v(c,1,1,()=>{c=null}),ue()),d[3]?f&&(ae(),v(f,1,1,()=>{f=null}),ue()):f?(f.p(d,m),m&8&&_(f,1)):(f=LD(d),f.c(),_(f,1),f.m(s.parentNode,s))},i(d){l||(_(t),_(c),_(f),l=!0)},o(d){v(t),v(c),v(f),l=!1},d(d){~e&&a[e].d(d),d&&y(n),c&&c.d(d),d&&y(r),f&&f.d(d),d&&y(s)}}}function PCe(i,e,t){let n;Le(i,en,M=>t(13,n=M));let{goal:r}=e,s,l=[],o=!0,a=!0,u=[],c,f,d=new Date,m;const p=()=>{let M={};return l.sort((R,Y)=>R.date.toDate()<Y.date.toDate()?-1:1).filter((R,Y)=>{let z=l.findIndex(j=>j.date.format("YYYY-MM-DD")===R.date.format("YYYY-MM-DD"));return!(z&&z!==Y)}).forEach(R=>{let Y=`${R.date.startOf("isoWeek").format("YYYY-MM-DD")}`;M[Y]=M[Y]||[],M[Y].push(R)}),Object.keys(M).map(R=>M[R]).sort((R,Y)=>R[0].date.toDate()>Y[0].date.toDate()?-1:1)},g=async()=>{t(4,a=!0);const M=Te(d).subtract(2,"month"),R=Te(d).endOf("day");s=await sw(m,M,R,n.trackables);let Y=s.byDay.backfill(M.toDate(),R.toDate());t(2,l=[...l,...r.calculateScores(Y)]),t(6,c=l.length),t(7,f=l.filter(z=>z.success).length),t(5,u=p()),t(3,o=!1),Lt(200).then(()=>{t(4,a=!1)})},k=M=>{const R=iv(M);at.popmenu({id:`date-options-${M.toDateString()}`,buttons:R})},$=pi();let C;const E=M=>1,S=M=>k(M.date.toDate()),T=()=>{t(1,d=Te(d).subtract(2,"month").toDate())};return i.$$set=M=>{"goal"in M&&t(0,r=M.goal)},i.$$.update=()=>{i.$$.dirty&8193&&r&&r.tag&&t(8,m=n.trackables[r.tag]),i.$$.dirty&4098&&d&&d!==C&&(t(12,C=d),g())},[r,d,l,o,a,u,c,f,m,k,$,E,C,n,S,T]}class NCe extends pe{constructor(e){super(),me(this,e,PCe,ACe,he,{goal:0})}}function RD(i){let e,t;const n=i[10].default,r=nt(n,i,i[9],null),s=r||MCe(i);return{c(){e=P("div"),s&&s.c(),h(e,"class","slot")},m(l,o){w(l,e,o),s&&s.m(e,null),t=!0},p(l,o){r?r.p&&(!t||o&512)&&rt(r,n,l,l[9],t?it(n,l[9],o,null):st(l[9]),null):s&&s.p&&(!t||o&1)&&s.p(l,t?o:-1)},i(l){t||(_(s,l),t=!0)},o(l){v(s,l),t=!1},d(l){l&&y(e),s&&s.d(l)}}}function MCe(i){let e,t=(i[0]||0).toFixed(0)+"",n;return{c(){e=P("span"),n=K(t)},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=(r[0]||0).toFixed(0)+"")&&de(n,t)},d(r){r&&y(e)}}}function LCe(i){let e,t,n,r,s,l,o,a,u,c=i[4]&&RD(i);return{c(){e=P("div"),t=ye("svg"),n=ye("path"),r=ye("path"),l=W(),c&&c.c(),h(n,"d","M50,5A45 45 0 1 1 49.9999 5"),h(r,"d",s=i[7]()),h(t,"viewBox","0 0 100 100"),gt(t,"height",i[1]+"px"),gt(t,"width",i[1]+"px"),h(e,"class",o="progress-circle "+i[5]),h(e,"style",a="--progress-size:"+i[1]+"px; "+(i[2]?`--progress-active:${i[2]};`:"--progress-active: var(--color-primary);")+" "+(i[3]?`--progress-background:${i[3]};`:"--progress-background: var(--color-solid-200);")+" "+i[6])},m(f,d){w(f,e,d),D(e,t),D(t,n),D(t,r),D(e,l),c&&c.m(e,null),u=!0},p(f,[d]){(!u||d&128&&s!==(s=f[7]()))&&h(r,"d",s),(!u||d&2)&&gt(t,"height",f[1]+"px"),(!u||d&2)&&gt(t,"width",f[1]+"px"),f[4]?c?(c.p(f,d),d&16&&_(c,1)):(c=RD(f),c.c(),_(c,1),c.m(e,null)):c&&(ae(),v(c,1,1,()=>{c=null}),ue()),(!u||d&32&&o!==(o="progress-circle "+f[5]))&&h(e,"class",o),(!u||d&78&&a!==(a="--progress-size:"+f[1]+"px; "+(f[2]?`--progress-active:${f[2]};`:"--progress-active: var(--color-primary);")+" "+(f[3]?`--progress-background:${f[3]};`:"--progress-background: var(--color-solid-200);")+" "+f[6]))&&h(e,"style",a)},i(f){u||(_(c),u=!0)},o(f){v(c),u=!1},d(f){f&&y(e),c&&c.d()}}}function OCe(i,e,t){let n,{$$slots:r={},$$scope:s}=e,{value:l=0}=e,{max:o=100}=e,{size:a=100}=e,{color:u=void 0}=e,{backgroundColor:c=void 0}=e,{showValue:f=!0}=e,{className:d=""}=e,{style:m=""}=e;return i.$$set=p=>{"value"in p&&t(0,l=p.value),"max"in p&&t(8,o=p.max),"size"in p&&t(1,a=p.size),"color"in p&&t(2,u=p.color),"backgroundColor"in p&&t(3,c=p.backgroundColor),"showValue"in p&&t(4,f=p.showValue),"className"in p&&t(5,d=p.className),"style"in p&&t(6,m=p.style),"$$scope"in p&&t(9,s=p.$$scope)},i.$$.update=()=>{i.$$.dirty&257&&t(7,n=()=>{if(l<=0)return"";if(l>=o)return"M50,5A45 45 0 1 1 49.9999 5";{const p=Math.PI*2*(l/o),g=50+Math.cos(p-Math.PI/2)*45,k=50+Math.sin(p-Math.PI/2)*45;let $="M50,5";return p>Math.PI&&($+="A45 45 0 0 1 50 95"),$+=`A45 45 0 0 1 ${g} ${k}`,$}})},[l,a,u,c,f,d,m,n,o,s,r]}class oU extends pe{constructor(e){super(),me(this,e,OCe,LCe,he,{value:0,max:8,size:1,color:2,backgroundColor:3,showValue:4,className:5,style:6})}}function zD(i,e,t){const n=i.slice();return n[6]=e[t],n}function jD(i){let e,t,n=i[1].sort(UD),r=[];for(let l=0;l<n.length;l+=1)r[l]=YD(zD(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=P("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","flex flex-col space-y-2")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&3){n=l[1].sort(UD);let a;for(a=0;a<n.length;a+=1){const u=zD(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=YD(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),pt(r,l)}}}function ICe(i){let e,t=i[6].date.format("MMMM")+"",n,r,s,l=i[0].trackable.formatValue(i[6].actual)+"",o,a;return{c(){e=P("h1"),n=K(t),r=W(),s=P("p"),o=K(l),a=W(),h(e,"class","font-medium text-gray-800 dark:text-gray-200 leading-tight"),h(s,"class","text-black dark:text-white font-semibold")},m(u,c){w(u,e,c),D(e,n),w(u,r,c),w(u,s,c),D(s,o),w(u,a,c)},p(u,c){c&2&&t!==(t=u[6].date.format("MMMM")+"")&&de(n,t),c&3&&l!==(l=u[0].trackable.formatValue(u[6].actual)+"")&&de(o,l)},d(u){u&&y(e),u&&y(r),u&&y(s),u&&y(a)}}}function BCe(i){let e;return{c(){e=P("div"),h(e,"class","ball h-10 w-10 absolute rounded-full bg-red-500")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function RCe(i){let e;return{c(){e=P("div"),h(e,"class","ball h-10 w-10 absolute rounded-full bg-green-500")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function zCe(i){let e,t,n,r,s,l;function o(c,f){return c[6].success?RCe:BCe}let a=o(i),u=a(i);return r=new oU({props:{value:i[6].percent||0,color:"#FFF",size:36}}),{c(){e=P("div"),t=P("div"),u.c(),n=W(),B(r.$$.fragment),s=W(),h(t,"class","status-ball relative flex items-center justify-center"),h(e,"slot","left")},m(c,f){w(c,e,f),D(e,t),u.m(t,null),D(t,n),O(r,t,null),D(e,s),l=!0},p(c,f){a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(t,n)));const d={};f&2&&(d.value=c[6].percent||0),r.$set(d)},i(c){l||(_(r.$$.fragment,c),l=!0)},o(c){v(r.$$.fragment,c),l=!1},d(c){c&&y(e),u.d(),I(r)}}}function jCe(i){let e,t=i[6].date.format("YYYY")+"",n,r;return{c(){e=P("h1"),n=K(t),r=W(),h(e,"class","font-medium"),h(e,"slot","right")},m(s,l){w(s,e,l),D(e,n),D(e,r)},p(s,l){l&2&&t!==(t=s[6].date.format("YYYY")+"")&&de(n,t)},d(s){s&&y(e)}}}function YD(i){let e,t;return e=new lt({props:{$$slots:{right:[jCe],left:[zCe],default:[ICe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&515&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function YCe(i){var r;let e,t,n=((r=i[1])==null?void 0:r.length)&&jD(i);return{c(){n&&n.c(),e=Ae()},m(s,l){n&&n.m(s,l),w(s,e,l),t=!0},p(s,[l]){var o;(o=s[1])!=null&&o.length?n?(n.p(s,l),l&2&&_(n,1)):(n=jD(s),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(s){t||(_(n),t=!0)},o(s){v(n),t=!1},d(s){n&&n.d(s),s&&y(e)}}}const UD=(i,e)=>i.date>e.date?-1:1;function UCe(i,e,t){let n;Le(i,en,u=>t(3,n=u));let{goal:r}=e,s,l=Te().endOf("month"),o;const a=async()=>{s=await sw(r.trackable,l.subtract(6,"months"),l,n.trackables),t(1,o=r.calculateScores(s))};return Yt(()=>{a()}),i.$$set=u=>{"goal"in u&&t(0,r=u.goal)},[r,o]}class WCe extends pe{constructor(e){super(),me(this,e,UCe,YCe,he,{goal:0})}}function WD(i,e,t){const n=i.slice();return n[6]=e[t],n}function qD(i){let e,t,n,r,s;return t=new er({props:{trackable:i[0].trackable,size:48}}),{c(){e=P("h1"),B(t.$$.fragment),n=W(),r=P("span"),r.textContent="Week Goal",h(e,"class","text-3xl font-bold text-black dark:text-white items-center flex space-x-2 mb-4")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),D(e,r),s=!0},p(l,o){const a={};o&1&&(a.trackable=l[0].trackable),t.$set(a)},i(l){s||(_(t.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),s=!1},d(l){l&&y(e),I(t)}}}function HD(i){let e,t,n=i[1].sort(xD),r=[];for(let l=0;l<n.length;l+=1)r[l]=VD(WD(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=P("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","flex flex-col space-y-2")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&3){n=l[1].sort(xD);let a;for(a=0;a<n.length;a+=1){const u=WD(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=VD(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),pt(r,l)}}}function qCe(i){let e,t=i[6].date.format("MM DD YYYY")+"",n,r,s,l=i[0].trackable.formatValue(i[6].actual)+"",o,a;return{c(){e=P("h1"),n=K(t),r=W(),s=P("p"),o=K(l),a=W(),h(e,"class","font-medium text-gray-800 dark:text-gray-200 leading-tight"),h(s,"class","text-black dark:text-white font-semibold")},m(u,c){w(u,e,c),D(e,n),w(u,r,c),w(u,s,c),D(s,o),w(u,a,c)},p(u,c){c&2&&t!==(t=u[6].date.format("MM DD YYYY")+"")&&de(n,t),c&3&&l!==(l=u[0].trackable.formatValue(u[6].actual)+"")&&de(o,l)},d(u){u&&y(e),u&&y(r),u&&y(s),u&&y(a)}}}function HCe(i){let e;return{c(){e=P("div"),h(e,"class","ball h-10 w-10 absolute rounded-full bg-red-500")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function VCe(i){let e;return{c(){e=P("div"),h(e,"class","ball h-10 w-10 absolute rounded-full bg-green-500")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function xCe(i){let e,t,n,r,s,l;function o(c,f){return c[6].success?VCe:HCe}let a=o(i),u=a(i);return r=new oU({props:{value:i[6].percent||0,color:"#FFF",size:36}}),{c(){e=P("div"),t=P("div"),u.c(),n=W(),B(r.$$.fragment),s=W(),h(t,"class","status-ball relative flex items-center justify-center"),h(e,"slot","left")},m(c,f){w(c,e,f),D(e,t),u.m(t,null),D(t,n),O(r,t,null),D(e,s),l=!0},p(c,f){a!==(a=o(c))&&(u.d(1),u=a(c),u&&(u.c(),u.m(t,n)));const d={};f&2&&(d.value=c[6].percent||0),r.$set(d)},i(c){l||(_(r.$$.fragment,c),l=!0)},o(c){v(r.$$.fragment,c),l=!1},d(c){c&&y(e),u.d(),I(r)}}}function GCe(i){let e,t=i[6].date.format("YYYY")+"",n,r;return{c(){e=P("h1"),n=K(t),r=W(),h(e,"class","font-medium"),h(e,"slot","right")},m(s,l){w(s,e,l),D(e,n),D(e,r)},p(s,l){l&2&&t!==(t=s[6].date.format("YYYY")+"")&&de(n,t)},d(s){s&&y(e)}}}function VD(i){let e,t;return e=new lt({props:{$$slots:{right:[GCe],left:[xCe],default:[qCe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&515&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ZCe(i){var l;let e,t,n,r=i[0]&&qD(i),s=((l=i[1])==null?void 0:l.length)&&HD(i);return{c(){r&&r.c(),e=W(),s&&s.c(),t=Ae()},m(o,a){r&&r.m(o,a),w(o,e,a),s&&s.m(o,a),w(o,t,a),n=!0},p(o,[a]){var u;o[0]?r?(r.p(o,a),a&1&&_(r,1)):(r=qD(o),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ae(),v(r,1,1,()=>{r=null}),ue()),(u=o[1])!=null&&u.length?s?(s.p(o,a),a&2&&_(s,1)):(s=HD(o),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(o){n||(_(r),_(s),n=!0)},o(o){v(r),v(s),n=!1},d(o){r&&r.d(o),o&&y(e),s&&s.d(o),o&&y(t)}}}const xD=(i,e)=>i.date>e.date?-1:1;function XCe(i,e,t){let n;Le(i,en,u=>t(3,n=u));let{goal:r}=e,s,l=Te().endOf("week"),o;const a=async()=>{s=await sw(r.trackable,l.subtract(6,"months"),l,n.trackables),t(1,o=r.calculateScores(s))};return Yt(()=>{a()}),i.$$set=u=>{"goal"in u&&t(0,r=u.goal)},[r,o]}class KCe extends pe{constructor(e){super(),me(this,e,XCe,ZCe,he,{goal:0})}}function JCe(i){let e,t;return e=new zi({props:{$$slots:{default:[eDe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function QCe(i){let e,t,n,r;const s=[iDe,nDe,tDe],l=[];function o(a,u){return a[0].duration==="day"?0:a[0].duration==="week"?1:a[0].duration==="month"?2:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=Ae()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function eDe(i){let e,t;return e=new ki({props:{size:32}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function tDe(i){let e,t,n;function r(l){i[3](l)}let s={};return i[0]!==void 0&&(s.goal=i[0]),e=new WCe({props:s}),Oe.push(()=>Qe(e,"goal",r,i[0])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.goal=l[0],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function nDe(i){let e,t,n;function r(l){i[2](l)}let s={};return i[0]!==void 0&&(s.goal=i[0]),e=new KCe({props:s}),Oe.push(()=>Qe(e,"goal",r,i[0])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.goal=l[0],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function iDe(i){let e,t,n;function r(l){i[1](l)}let s={};return i[0]!==void 0&&(s.goal=i[0]),e=new NCe({props:s}),Oe.push(()=>Qe(e,"goal",r,i[0])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.goal=l[0],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function rDe(i){let e,t,n,r;const s=[QCe,JCe],l=[];function o(a,u){return a[0]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"class","goal-detail flex flex-col h-full filler ")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,[u]){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function sDe(i,e,t){let{goal:n}=e;function r(o){n=o,t(0,n)}function s(o){n=o,t(0,n)}function l(o){n=o,t(0,n)}return i.$$set=o=>{"goal"in o&&t(0,n=o.goal)},[n,r,s,l]}class lDe extends pe{constructor(e){super(),me(this,e,sDe,rDe,he,{goal:0})}}function oDe(i){let e,t,n;function r(l){i[6](l)}let s={};return i[0]!==void 0&&(s.goal=i[0]),e=new lDe({props:s}),Oe.push(()=>Qe(e,"goal",r,i[0])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.goal=l[0],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function aDe(i){let e,t,n;return t=new fa({props:{hideValue:!0,transparent:!0,trackable:i[1]}}),{c(){e=P("div"),B(t.$$.fragment)},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&2&&(l.trackable=r[1]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function uDe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function cDe(i){let e,t;return e=new He({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[uDe]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fDe(i){let e=Fe.t("general.Edit","Edit")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function dDe(i){let e,t;return e=new He({props:{slot:"right",primary:!0,clear:!0,$$slots:{default:[fDe]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function hDe(i){let e,t;return e=new Sn({props:{slot:"header",className:"bg-white dark:bg-black",$$slots:{right:[dDe],left:[cDe],default:[aDe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&131&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mDe(i){let e,t;return e=new ti({props:{mainClass:"relative",$$slots:{header:[hDe],default:[oDe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&131&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function pDe(i,e,t){let n;Le(i,en,c=>t(4,n=c));let{id:r}=e,{goal:s}=e,l;const o=()=>{tn(r)},a=()=>{fk(s)};function u(c){s=c,t(0,s)}return i.$$set=c=>{"id"in c&&t(3,r=c.id),"goal"in c&&t(0,s=c.goal)},i.$$.update=()=>{i.$$.dirty&17&&s&&t(1,l=n.trackables[s.tag])},[s,l,o,r,n,a,u]}class _De extends pe{constructor(e){super(),me(this,e,pDe,mDe,he,{id:3,goal:0})}}function gDe(i){let e;return{c(){e=P("div"),e.textContent="Which Trackable?",h(e,"class","py-2")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function vDe(i){let e;return{c(){e=P("span"),e.textContent="Select",h(e,"class","text-primary-500")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function bDe(i){let e,t;return e=new fa({props:{trackable:i[2],size:32,hideValue:!0}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.trackable=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function kDe(i){let e,t,n,r;const s=[bDe,vDe],l=[];function o(a,u){return a[2]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function yDe(i){let e;return{c(){e=K("Should be...")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function wDe(i){let e=v1.find(i[13]).label+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&2&&e!==(e=v1.find(n[13]).label+"")&&de(t,e)},d(n){n&&y(t)}}}function $De(i){let e;function t(s,l){return s[1]?wDe:yDe}let n=t(i),r=n(i);return{c(){e=P("div"),r.c(),h(e,"class","py-2")},m(s,l){w(s,e,l),r.m(e,null)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r.d()}}}function FDe(i){let e,t;return e=new et({props:{slot:"right",icon:Vg,className:"opacity-40 pointer-events-none"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function GD(i){let e,t=i[2].formatValue(i[0])+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","text-gray-500")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&5&&t!==(t=r[2].formatValue(r[0])+"")&&de(n,t)},d(r){r&&y(e)}}}function EDe(i){let e,t;return e=new et({props:{icon:Np}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function CDe(i){let e,t,n,r,s=i[0]&&i[2]&&GD(i);return n=new He({props:{clear:!0,primary:!0,icon:!0,$$slots:{default:[EDe]},$$scope:{ctx:i}}}),n.$on("click",i[15]),{c(){e=P("div"),s&&s.c(),t=W(),B(n.$$.fragment),h(e,"slot","right"),h(e,"class","flex items-center space-x-2 whitespace-nowrap text-xs")},m(l,o){w(l,e,o),s&&s.m(e,null),D(e,t),O(n,e,null),r=!0},p(l,o){l[0]&&l[2]?s?s.p(l,o):(s=GD(l),s.c(),s.m(e,t)):s&&(s.d(1),s=null);const a={};o&262144&&(a.$$scope={dirty:o,ctx:l}),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(e),s&&s.d(),I(n)}}}function DDe(i){let e,t,n,r,s,l,o,a,u,c;return e=new lt({props:{clickable:!0,$$slots:{right:[kDe],default:[gDe]},$$scope:{ctx:i}}}),e.$on("click",i[5]),n=new hi({props:{left:16}}),s=new lt({props:{$$slots:{right:[FDe],default:[$De]},$$scope:{ctx:i}}}),s.$on("click",i[14]),o=new hi({props:{left:16}}),u=new Wn({props:{type:"number",value:i[0],listItem:!0,label:"Target",placeholder:"Goal Target",$$slots:{right:[CDe]},$$scope:{ctx:i}}}),u.$on("input",i[16]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment),a=W(),B(u.$$.fragment)},m(f,d){O(e,f,d),w(f,t,d),O(n,f,d),w(f,r,d),O(s,f,d),w(f,l,d),O(o,f,d),w(f,a,d),O(u,f,d),c=!0},p(f,d){const m={};d&262148&&(m.$$scope={dirty:d,ctx:f}),e.$set(m);const p={};d&262146&&(p.$$scope={dirty:d,ctx:f}),s.$set(p);const g={};d&1&&(g.value=f[0]),d&262149&&(g.$$scope={dirty:d,ctx:f}),u.$set(g)},i(f){c||(_(e.$$.fragment,f),_(n.$$.fragment,f),_(s.$$.fragment,f),_(o.$$.fragment,f),_(u.$$.fragment,f),c=!0)},o(f){v(e.$$.fragment,f),v(n.$$.fragment,f),v(s.$$.fragment,f),v(o.$$.fragment,f),v(u.$$.fragment,f),c=!1},d(f){I(e,f),f&&y(t),I(n,f),f&&y(r),I(s,f),f&&y(l),I(o,f),f&&y(a),I(u,f)}}}function SDe(i){let e;return{c(){e=K("Delete Goal")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function TDe(i){let e,t,n,r;return e=new jt({props:{solo:!0,$$slots:{default:[DDe]},$$scope:{ctx:i}}}),n=new He({props:{clear:!0,className:"text-red-500 mt-10 mx-auto text-sm",$$slots:{default:[SDe]},$$scope:{ctx:i}}}),n.$on("click",i[17]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&262151&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&262144&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function ADe(i){var s;let e,t=(((s=i[2])==null?void 0:s.label)||"")+"",n,r;return{c(){e=P("h1"),n=K(t),r=K(" Goal"),h(e,"class","ntitle capitalize")},m(l,o){w(l,e,o),D(e,n),D(e,r)},p(l,o){var a;o&4&&t!==(t=(((a=l[2])==null?void 0:a.label)||"")+"")&&de(n,t)},d(l){l&&y(e)}}}function PDe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function NDe(i){let e,t;return e=new He({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[PDe]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&262144&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function MDe(i){let e=Fe.t("general.save","Save")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function LDe(i){let e,t;return e=new He({props:{slot:"right",primary:!0,clear:!0,disabled:!i[0]||!i[2]||!i[1],$$slots:{default:[MDe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&7&&(s.disabled=!n[0]||!n[2]||!n[1]),r&262144&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ODe(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{right:[LDe],left:[NDe],default:[ADe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&262151&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function IDe(i){let e,t;return e=new ti({props:{mainClass:"px-2 lg:px-4 py-2 lg:py-4",$$slots:{header:[ODe],default:[TDe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&262151&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function BDe(i,e,t){let n;Le(i,en,T=>t(12,n=T));let{id:r}=e,{goal:s}=e,l,o,a,u,c=!1;Yt(()=>{t(11,c=!0)});const f=async()=>{await at.confirm("Delete this goal?","You can always recreate it later.")&&(await vf.remove(u),tn(r))},d=async()=>{let T=new b1({id:u.id,comparison:o,tag:a.tag,duration:u.duration,target:l});at.blocker(`Saving ${a.label} goal...`),await vf.upsert(T),at.stopBlocker(),qn({message:"Goal Saved"}),g()},m=async()=>{await Lt(100),t(2,a=await S0())},p=async()=>{const T=await v$(a,n.trackables),M=gi(T.value);Ci.number(M)&&t(0,l=M)},g=()=>{tn(r)},k=T=>T.id==o,$=T=>{by(T.detail.target,v1.map(M=>({title:M.label,click(){t(1,o=M.id)}})))},C=()=>{p()},E=T=>t(0,l=T.detail),S=()=>f();return i.$$set=T=>{"id"in T&&t(8,r=T.id),"goal"in T&&t(9,s=T.goal)},i.$$.update=()=>{i.$$.dirty&7680&&s&&c&&!u&&(t(10,u=new b1(s)),t(1,o=u.comparison),t(2,a=n.trackables[u.tag]),t(0,l=u.target))},[l,o,a,f,d,m,p,g,r,s,u,c,n,k,$,C,E,S]}class RDe extends pe{constructor(e){super(),me(this,e,BDe,IDe,he,{id:8,goal:9})}}const aU=(i,e={})=>{const t=JSON.parse(localStorage.getItem(i)||JSON.stringify(e.default||{})),{update:n,subscribe:r,set:s}=rn(t),l=f=>{const d={...f};return Object.keys(f).map(m=>{const p=e.itemSerializer?e.itemSerializer(f[m]):f[m];d[m]=p}),localStorage.setItem(i,JSON.stringify(d)),d};return{removeItem:f=>{let d;return n(m=>(m[f]&&delete m[f],d=m,m)),l(d)},setItem:(f,d)=>{let m;return n(p=>(p[f]=e.itemInitializer?e.itemInitializer(d):d,m=p,p)),l(m)},update:n,updateSync:f=>{let d;return n(m=>(d=f(m),d)),l(d)},subscribe:r,set:s,rawState:()=>{let f;return n(d=>(f=d,d)),f}}},vf=Tf(Ii.storage.goals(),{label:"Goals",key:"id",itemInitializer:i=>new b1(i),itemSerializer:i=>i}),R0=rn([0,0]),ZD=aU("/goal-status"),zDe=async(i,e,t={silent:!1,caller:"unknown"})=>{const n=ZD.rawState()||{};let r=await uU(i,e,Te());r.forEach(u=>{u.scores.length?u.scores[0].success:u.goal.isDontDoIt});const s=u=>{qn({type:"success",message:`\u{1F389} Congrats! You met your ${u.tag} goal!`}),WI()},l=u=>{qn({type:"failure",message:`Keep working on that ${u.tag} goal!`})};r.forEach(u=>{let c=n[u.goal.id];const f=u.scores[0];c?f&&Te(c.date).format("YYYY-MM-DD")===f.date.format("YYYY-MM-DD")&&(f.success&&f.success!==c.success?s(u.goal):f.failure===!0&&f.failure!=c.failure&&l(u.goal)):f&&u.goal&&(f.success===!0?s(u.goal):f.failure===!0&&l(u.goal))});const o=r.map(u=>{let c=!1,f=!1;return u.scores[0]?(c=u.scores[0].failure,f=u.scores[0].success):u.goal.isDontDoIt&&(f=!0,c=!1),{goalId:u.goal.id,date:u.scores.length?u.scores[0].date.toDate().toJSON():new Date().toJSON(),success:f,failure:c}}).filter(u=>u);let a={};o.map(u=>{a[u.goalId]=u}),ZD.updateSync(u=>({...u,...a}))},jDe=i=>{On({id:`goal-${i.id}`,position:"fullscreen",componentProps:{goal:i},component:_De})},fk=i=>{iu("open_goal_editor"),On({id:`goal-${i.id}-editor`,position:"fullscreen",componentProps:{goal:i},component:RDe})},uU=async(i,e,t)=>{const n=i.filter(r=>r);if(n.length){const r=pCe(n||[],t),s=await rw({start:r.start,end:r.end},e),l=n.map(u=>{const c=mCe(u),f=s[u.tag],d=f?f.truncate(c.start,c.end):void 0,m=u.calculateScores(d);return{id:u.id,goal:u,scores:m,trackableUsage:d,historic:[]}});let o=0;l.forEach(u=>{(!u.scores.length&&u.goal.isDontDoIt||u.scores.length&&u.scores[0].success===!0)&&(o=o+1)});const a=[o,n.length];return Lt(200).then(()=>R0.update(u=>a)),l}else return[]};function XD(i,e,t){const n=i.slice();return n[27]=e[t],n[29]=t,n}function KD(i,e,t){const n=i.slice();return n[30]=e[t],n[29]=t,n}function JD(i,e,t){const n=i.slice();return n[32]=e[t],n[29]=t,n}function QD(i,e,t){const n=i.slice();return n[34]=e[t],n[36]=t,n}function eS(i,e,t){const n=i.slice();return n[37]=e[t],n}function YDe(i){let e;return{c(){e=K("No template found")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function UDe(i){let e,t,n,r,s,l,o,a,u,c,f,d;return n=new jt({props:{solo:!0,$$slots:{default:[WDe]},$$scope:{ctx:i}}}),s=new jt({props:{solo:!0,outside:!0,title:"Trackables",$$slots:{"header-right":[ZDe],default:[xDe]},$$scope:{ctx:i}}}),o=new jt({props:{solo:!0,outside:!0,title:"Tabs",$$slots:{"header-right":[nSe],default:[eSe]},$$scope:{ctx:i}}}),u=new jt({props:{solo:!0,outside:!0,title:"Dashboards",$$slots:{"header-right":[aSe],default:[lSe]},$$scope:{ctx:i}}}),f=new jt({props:{solo:!0,outside:!0,title:"Goals",$$slots:{"header-right":[pSe],default:[hSe]},$$scope:{ctx:i}}}),{c(){e=P("p"),e.textContent="Create a sharable Nomie configuration",t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment),a=W(),B(u.$$.fragment),c=W(),B(f.$$.fragment),h(e,"class","description text-gray-500 text-center pb-2 px-3 text-sm leading-tight")},m(m,p){w(m,e,p),w(m,t,p),O(n,m,p),w(m,r,p),O(s,m,p),w(m,l,p),O(o,m,p),w(m,a,p),O(u,m,p),w(m,c,p),O(f,m,p),d=!0},p(m,p){const g={};p[0]&1|p[1]&512&&(g.$$scope={dirty:p,ctx:m}),n.$set(g);const k={};p[0]&1|p[1]&512&&(k.$$scope={dirty:p,ctx:m}),s.$set(k);const $={};p[0]&1|p[1]&512&&($.$$scope={dirty:p,ctx:m}),o.$set($);const C={};p[0]&1|p[1]&512&&(C.$$scope={dirty:p,ctx:m}),u.$set(C);const E={};p[0]&1|p[1]&512&&(E.$$scope={dirty:p,ctx:m}),f.$set(E)},i(m){d||(_(n.$$.fragment,m),_(s.$$.fragment,m),_(o.$$.fragment,m),_(u.$$.fragment,m),_(f.$$.fragment,m),d=!0)},o(m){v(n.$$.fragment,m),v(s.$$.fragment,m),v(o.$$.fragment,m),v(u.$$.fragment,m),v(f.$$.fragment,m),d=!1},d(m){m&&y(e),m&&y(t),I(n,m),m&&y(r),I(s,m),m&&y(l),I(o,m),m&&y(a),I(u,m),m&&y(c),I(f,m)}}}function WDe(i){let e,t,n,r,s,l;function o(f){i[6](f)}let a={listItem:!0,type:"text",placeholder:"Template Name"};i[0].name!==void 0&&(a.value=i[0].name),e=new Wn({props:a}),Oe.push(()=>Qe(e,"value",o,i[0].name));function u(f){i[7](f)}let c={listItem:!0,type:"textarea",placeholder:"Description"};return i[0].description!==void 0&&(c.value=i[0].description),r=new Wn({props:c}),Oe.push(()=>Qe(r,"value",u,i[0].description)),{c(){B(e.$$.fragment),n=W(),B(r.$$.fragment)},m(f,d){O(e,f,d),w(f,n,d),O(r,f,d),l=!0},p(f,d){const m={};!t&&d[0]&1&&(t=!0,m.value=f[0].name,tt(()=>t=!1)),e.$set(m);const p={};!s&&d[0]&1&&(s=!0,p.value=f[0].description,tt(()=>s=!1)),r.$set(p)},i(f){l||(_(e.$$.fragment,f),_(r.$$.fragment,f),l=!0)},o(f){v(e.$$.fragment,f),v(r.$$.fragment,f),l=!1},d(f){I(e,f),f&&y(n),I(r,f)}}}function qDe(i){let e,t,n=i[0].trackables,r=[];for(let l=0;l<n.length;l+=1)r[l]=tS(eS(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=P("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","pill-holder px-1 flex flex-wrap py-2")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o[0]&3){n=l[0].trackables;let a;for(a=0;a<n.length;a+=1){const u=eS(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=tS(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),pt(r,l)}}}function HDe(i){let e,t;return e=new zi({props:{small:!0,$$slots:{default:[VDe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function tS(i){let e,t,n,r,s=i[37].label+"",l,o,a,u,c;t=new er({props:{trackable:i[37],size:20}});function f(){return i[9](i[37])}return{c(){e=P("button"),B(t.$$.fragment),n=W(),r=P("span"),l=K(s),o=W(),h(r,"class","label"),h(e,"class","pill")},m(d,m){w(d,e,m),O(t,e,null),D(e,n),D(e,r),D(r,l),D(e,o),a=!0,u||(c=[Se(e,"click",f),Se(e,"click",gSe)],u=!0)},p(d,m){i=d;const p={};m[0]&1&&(p.trackable=i[37]),t.$set(p),(!a||m[0]&1)&&s!==(s=i[37].label+"")&&de(l,s)},i(d){a||(_(t.$$.fragment,d),a=!0)},o(d){v(t.$$.fragment,d),a=!1},d(d){d&&y(e),I(t),u=!1,Ot(c)}}}function VDe(i){let e;return{c(){e=P("span"),e.textContent="No Trackables",h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function xDe(i){let e,t,n,r;const s=[HDe,qDe],l=[];function o(a,u){return a[0].trackables.length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function GDe(i){let e;return{c(){e=K("+ Add")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function ZDe(i){let e,t;return e=new He({props:{size:"sm",primary:!0,clear:!0,slot:"header-right",$$slots:{default:[GDe]},$$scope:{ctx:i}}}),e.$on("click",i[8]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function XDe(i){let e,t,n=i[0].boards,r=[];for(let l=0;l<n.length;l+=1)r[l]=iS(JD(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&1){n=l[0].boards;let a;for(a=0;a<n.length;a+=1){const u=JD(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=iS(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function KDe(i){let e,t;return e=new zi({props:{small:!0,$$slots:{default:[QDe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nS(i){let e,t=i[34]+"",n;return{c(){e=P("button"),n=K(t),h(e,"class","pill sm")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s[0]&1&&t!==(t=r[34]+"")&&de(n,t)},d(r){r&&y(e)}}}function JDe(i){let e,t,n=i[32].label+"",r,s,l,o,a=e1.unique(i[32].elements),u=[];for(let c=0;c<a.length;c+=1)u[c]=nS(QD(i,a,c));return{c(){e=P("div"),t=P("h2"),r=K(n),s=W(),l=P("div");for(let c=0;c<u.length;c+=1)u[c].c();o=W(),h(t,"class","ntitle"),h(l,"class","py-1 flex flex-wrap")},m(c,f){w(c,e,f),D(e,t),D(t,r),D(e,s),D(e,l);for(let d=0;d<u.length;d+=1)u[d].m(l,null);w(c,o,f)},p(c,f){if(f[0]&1&&n!==(n=c[32].label+"")&&de(r,n),f[0]&1){a=e1.unique(c[32].elements);let d;for(d=0;d<a.length;d+=1){const m=QD(c,a,d);u[d]?u[d].p(m,f):(u[d]=nS(m),u[d].c(),u[d].m(l,null))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},d(c){c&&y(e),pt(u,c),c&&y(o)}}}function iS(i){let e,t;return e=new lt({props:{$$slots:{default:[JDe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function QDe(i){let e;return{c(){e=P("span"),e.textContent="No Board Tabs",h(e,"class","text-gray-500 text-sm")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function eSe(i){let e,t,n,r;const s=[KDe,XDe],l=[];function o(a,u){return a[0].boards.length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function tSe(i){let e;return{c(){e=K("+ Add")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function nSe(i){let e,t;return e=new He({props:{size:"sm",primary:!0,clear:!0,slot:"header-right",$$slots:{default:[tSe]},$$scope:{ctx:i}}}),e.$on("click",i[10]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function iSe(i){let e,t,n=i[0].dashboards,r=[];for(let l=0;l<n.length;l+=1)r[l]=rS(KD(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&1){n=l[0].dashboards;let a;for(a=0;a<n.length;a+=1){const u=KD(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=rS(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function rSe(i){let e,t;return e=new zi({props:{small:!0,$$slots:{default:[sSe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function rS(i){let e,t;return e=new p4e({props:{dashboard:i[30]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.dashboard=n[30]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sSe(i){let e;return{c(){e=P("span"),e.textContent="No Dashboards",h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function lSe(i){let e,t,n,r;const s=[rSe,iSe],l=[];function o(a,u){return a[0].dashboards.length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function oSe(i){let e;return{c(){e=K("+ Add")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function aSe(i){let e,t;return e=new He({props:{size:"sm",primary:!0,clear:!0,slot:"header-right",$$slots:{default:[oSe]},$$scope:{ctx:i}}}),e.$on("click",i[11]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function uSe(i){let e,t,n=i[0].goals,r=[];for(let l=0;l<n.length;l+=1)r[l]=sS(XD(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&1){n=l[0].goals;let a;for(a=0;a<n.length;a+=1){const u=XD(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=sS(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function cSe(i){let e,t;return e=new zi({props:{small:!0,$$slots:{default:[dSe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fSe(i){let e,t,n=i[27].tag+"",r,s,l,o=i[27].comparison+"",a,u,c,f=i[27].target+"",d,m;return{c(){e=P("div"),t=P("span"),r=K(n),s=W(),l=P("span"),a=K(o),u=W(),c=P("span"),d=K(f),m=W(),h(e,"class","ntitle")},m(p,g){w(p,e,g),D(e,t),D(t,r),D(e,s),D(e,l),D(l,a),D(e,u),D(e,c),D(c,d),w(p,m,g)},p(p,g){g[0]&1&&n!==(n=p[27].tag+"")&&de(r,n),g[0]&1&&o!==(o=p[27].comparison+"")&&de(a,o),g[0]&1&&f!==(f=p[27].target+"")&&de(d,f)},d(p){p&&y(e),p&&y(m)}}}function sS(i){let e,t;return e=new lt({props:{$$slots:{default:[fSe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function dSe(i){let e;return{c(){e=P("span"),e.textContent="No Goals",h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function hSe(i){let e,t,n,r;const s=[cSe,uSe],l=[];function o(a,u){return a[0].goals.length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function mSe(i){let e;return{c(){e=K("+ Add")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function pSe(i){let e,t;return e=new He({props:{size:"sm",primary:!0,clear:!0,slot:"header-right",$$slots:{default:[mSe]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function _Se(i){let e,t,n,r,s;const l=[UDe,YDe],o=[];function a(u,c){return u[0]?0:1}return e=a(i),t=o[e]=l[e](i),{c(){t.c(),n=W(),r=P("div"),h(r,"class","h-12")},m(u,c){o[e].m(u,c),w(u,n,c),w(u,r,c),s=!0},p(u,c){let f=e;e=a(u),e===f?o[e].p(u,c):(ae(),v(o[f],1,1,()=>{o[f]=null}),ue(),t=o[e],t?t.p(u,c):(t=o[e]=l[e](u),t.c()),_(t,1),t.m(n.parentNode,n))},i(u){s||(_(t),s=!0)},o(u){v(t),s=!1},d(u){o[e].d(u),u&&y(n),u&&y(r)}}}const gSe=()=>{};function vSe(i,e,t){let n,r,s,l;Le(i,vf,J=>t(13,n=J)),Le(i,oa,J=>t(14,r=J)),Le(i,Up,J=>t(15,s=J)),Le(i,en,J=>t(16,l=J));let{template:o}=e;const a=J=>rr(tp(J),l.trackables),u=J=>{const q=a(J);d(q)},c=()=>{const J={};return o.trackables.forEach(q=>{J[q.tag]=q}),J},f=J=>{const q={...l.trackables,...c()},le=rr(J,q);d(le)},d=J=>{o.trackables.find(q=>q.id==J.id)||(o.trackables.push(J),J.type=="tracker"&&J.tracker.type=="note"&&WB(J.tracker.note||"").forEach(le=>{const G=rr(le,l.trackables);d(G)})),t(0,o)};Yt(()=>{_w()});const m=J=>{Js({id:"trackable-options",buttons:[{id:"edit",title:"Edit Trackable",click(){Kr(J,le=>{t(0,o.trackables=o.trackables.map(G=>G.id==le.id?le:G),o)})}},{id:"remove",title:"Remove from Template",click(){t(0,o.trackables=o.trackables.filter(le=>le.id!=J.id),o),t(0,o)}}]})},p=()=>{const J=s.map(q=>({id:q.id,title:q.label,click(){q.elements.map(le=>{u(le)}),o.boards.find(le=>le.id===q.id)||(q.elements=e1.unique(q.elements),o.boards.push(q))}}));Js({title:"Which Tab would you like to import?",id:"existing-boards",buttons:J})},g=()=>{p()},k=[{id:"existing",title:"Pick from my Trackables",async click(){const J=await Ch();J&&(J.forEach(q=>{d(q)}),t(0,o))}},{id:"new",title:"Create a Tracker",async click(){Kr(new Wi({type:"tracker"}),J=>{o.trackables.push(J),t(0,o)})}},{id:"new",title:"Create a Person",async click(){Kr(new Wi({type:"person"}),J=>{o.trackables.push(J),t(0,o)})}},{id:"new",title:"Create a Context",async click(){Kr(new Wi({type:"context"}),J=>{o.trackables.push(J),t(0,o)})}}],$=J=>{J.widgets.map(le=>le.token).forEach(le=>{f(le)})},C=J=>{const q=J.map(le=>({id:le.id,title:le.label,click(){const G=o.dashboards.findIndex(X=>X.id==le.id);G>-1?t(0,o.dashboards[G]=le,o):o.dashboards.push(le),$(le),t(0,o)}}));Js({title:"Which dashboard would you like to import?",id:"existing-dsahboards",buttons:q})},E=async()=>{C(r.dashboards)},S=J=>{const q=J.map(le=>({title:`${le.tag} ${le.comparison} ${le.target}`,id:le.tag,click(){let G=o.goals.findIndex(X=>X.id===le.id);G>-1?t(0,o.goals[G]=le,o):o.goals.push(le),t(0,o),u(le.tag)}}));Js({id:"import-goal",title:"Which goal would you like to import?",buttons:q})},T=async()=>{S(n)},M=()=>{Js({id:"add-trackable",buttons:k})};function R(J){i.$$.not_equal(o.name,J)&&(o.name=J,t(0,o))}function Y(J){i.$$.not_equal(o.description,J)&&(o.description=J,t(0,o))}const z=()=>M(),j=J=>{m(J)},V=()=>g(),x=()=>E(),ee=()=>T();return i.$$set=J=>{"template"in J&&t(0,o=J.template)},[o,m,g,E,T,M,R,Y,z,j,V,x,ee]}class bSe extends pe{constructor(e){super(),me(this,e,vSe,_Se,he,{template:0},null,[-1,-1])}}function kSe(i){let e,t,n,r;function s(o){i[6](o)}let l={};return i[0]!==void 0&&(l.template=i[0]),t=new bSe({props:l}),Oe.push(()=>Qe(t,"template",s,i[0])),{c(){e=P("main"),B(t.$$.fragment),h(e,"class","lg:p-6 p-4")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.template=o[0],tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function ySe(i){let e=(i[0].name||"Create a Template")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=(n[0].name||"Create a Template")+"")&&de(t,e)},d(n){n&&y(t)}}}function wSe(i){let e,t;return e=new al({props:{$$slots:{default:[ySe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $Se(i){let e;return{c(){e=K("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function FSe(i){let e,t;return e=new He({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[$Se]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ESe(i){let e;return{c(){e=K("Save")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function CSe(i){let e,t;return e=new He({props:{slot:"right",primary:!0,clear:!0,$$slots:{default:[ESe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function DSe(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{right:[CSe],left:[FSe],default:[wSe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function SSe(i){let e,t;return e=new ti({props:{className:"h-full",mainClass:"bg-gray-100 dark:bg-gray-800",$$slots:{header:[DSe],default:[kSe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function TSe(i,e,t){let{id:n}=e,{template:r}=e;const s=()=>{tn(n)},l=async()=>{await bp.upsert(r),qn({message:"Template saved"})},o=()=>l(),a=()=>s();function u(c){r=c,t(0,r)}return i.$$set=c=>{"id"in c&&t(3,n=c.id),"template"in c&&t(0,r=c.template)},[r,s,l,n,o,a,u]}class ASe extends pe{constructor(e){super(),me(this,e,TSe,SSe,he,{id:3,template:0})}}function lS(i,e,t){const n=i.slice();return n[4]=e[t],n[6]=t,n}function PSe(i){let e,t,n=i[4].name+"",r,s,l,o,a=(i[4].description||"No Description")+"",u,c;return{c(){e=P("main"),t=P("h2"),r=K(n),s=W(),l=P("p"),o=P("span"),u=K(a),c=W(),h(t,"class","ntitle"),h(o,"class","text-gray-500"),h(l,"class","faded")},m(f,d){w(f,e,d),D(e,t),D(t,r),D(e,s),D(e,l),D(l,o),D(o,u),w(f,c,d)},p(f,d){d&1&&n!==(n=f[4].name+"")&&de(r,n),d&1&&a!==(a=(f[4].description||"No Description")+"")&&de(u,a)},d(f){f&&y(e),f&&y(c)}}}function NSe(i){let e,t;return e=new et({props:{icon:ca}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function MSe(i){let e,t;return e=new et({props:{icon:Ap}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function LSe(i){let e,t,n,r,s,l;function o(){return i[2](i[4])}t=new He({props:{icon:!0,primary:!0,$$slots:{default:[NSe]},$$scope:{ctx:i}}}),t.$on("click",o);function a(){return i[3](i[4])}return r=new He({props:{icon:!0,primary:!0,$$slots:{default:[MSe]},$$scope:{ctx:i}}}),r.$on("click",a),{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),s=W(),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(u,c){w(u,e,c),O(t,e,null),D(e,n),O(r,e,null),D(e,s),l=!0},p(u,c){i=u;const f={};c&128&&(f.$$scope={dirty:c,ctx:i}),t.$set(f);const d={};c&128&&(d.$$scope={dirty:c,ctx:i}),r.$set(d)},i(u){l||(_(t.$$.fragment,u),_(r.$$.fragment,u),l=!0)},o(u){v(t.$$.fragment,u),v(r.$$.fragment,u),l=!1},d(u){u&&y(e),I(t),I(r)}}}function oS(i){let e,t;return e=new lt({props:{$$slots:{right:[LSe],default:[PSe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function OSe(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=oS(lS(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,[o]){if(o&3){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=lS(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=oS(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function ISe(i,e,t){let n;Le(i,bp,o=>t(0,n=o));const r=o=>{let a=`${Nd(o.name)}-${o.id}.json`;kh.json(a,JSON.stringify(o.asObject,null,2))};return Yt(()=>{bp.init()}),[n,r,o=>{bU(o)},o=>{r(o)}]}class BSe extends pe{constructor(e){super(),me(this,e,ISe,OSe,he,{})}}function RSe(i){let e,t,n,r;return e=new jt({props:{solo:!0,$$slots:{default:[jSe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),n=P("div"),n.textContent="Use templates to quickly setup Nomie.",h(n,"class","px-4 py-4 text-center note-muted")},m(s,l){O(e,s,l),w(s,t,l),w(s,n,l),r=!0},p(s,l){const o={};l&256&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),s&&y(n)}}}function zSe(i){let e,t,n,r,s;e=new jt({props:{solo:!0,$$slots:{default:[WSe]},$$scope:{ctx:i}}});let l=i[1].length&&aS(i);return{c(){B(e.$$.fragment),t=W(),l&&l.c(),n=W(),r=P("div"),r.textContent="Build a custom Nomie Configuration that can be downloaded and shared with others",h(r,"class","px-4 py-4 text-center note-muted")},m(o,a){O(e,o,a),w(o,t,a),l&&l.m(o,a),w(o,n,a),w(o,r,a),s=!0},p(o,a){const u={};a&258&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),o[1].length?l?l.p(o,a):(l=aS(o),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i(o){s||(_(e.$$.fragment,o),s=!0)},o(o){v(e.$$.fragment,o),s=!1},d(o){I(e,o),o&&y(t),l&&l.d(o),o&&y(n),o&&y(r)}}}function jSe(i){let e,t;return e=new kU({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function YSe(i){let e,t;return e=new BSe({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function USe(i){let e,t;return e=new zi({props:{title:"No custom templates found",buttonLabel:"Create a Custom Template",buttonClick:i[6]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function WSe(i){let e,t,n,r;const s=[USe,YSe],l=[];function o(a,u){return a[1].length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function aS(i){let e,t,n,r;return{c(){e=P("div"),t=P("button"),t.textContent="Create Template",h(t,"class","text-primary py-2 px-4"),h(e,"class","py-2 px-4 flex justify-center")},m(s,l){w(s,e,l),D(e,t),n||(r=Se(t,"click",i[7]),n=!0)},p:Z,d(s){s&&y(e),n=!1,r()}}}function qSe(i){let e,t,n,r;const s=[zSe,RSe],l=[];function o(a,u){return a[0]=="mine"?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("main"),n.c(),h(e,"class","lg:p-6 py-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function HSe(i){let e;return{c(){e=K("Templates")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function VSe(i){let e,t;return e=new al({props:{$$slots:{default:[HSe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xSe(i){let e;return{c(){e=K("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function GSe(i){let e,t;return e=new He({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[xSe]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ZSe(i){let e,t;return e=new Hl({props:{buttons:[{label:"Available",active:i[0]=="templates",click:i[4]},{label:"Build",active:i[0]=="mine",click:i[5]}]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.buttons=[{label:"Available",active:n[0]=="templates",click:n[4]},{label:"Build",active:n[0]=="mine",click:n[5]}]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function XSe(i){let e,t,n,r,s;return t=new Sn({props:{$$slots:{left:[GSe],default:[VSe]},$$scope:{ctx:i}}}),r=new Os({props:{$$slots:{default:[ZSe]},$$scope:{ctx:i}}}),{c(){e=P("header"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"slot","header")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),O(r,e,null),s=!0},p(l,o){const a={};o&256&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&257&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),I(t),I(r)}}}function KSe(i){let e,t;return e=new ti({props:{className:"h-full",mainClass:"bg-gray-100 dark:bg-gray-800",$$slots:{header:[XSe],default:[qSe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&259&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function JSe(i,e,t){let n;Le(i,bp,f=>t(1,n=f));let r="templates";Yt(()=>{bp.init()});const s=()=>{bU(new hw)};return[r,n,s,()=>pAe(),function(){t(0,r="templates")},function(){t(0,r="mine")},()=>s(),()=>s()]}class QSe extends pe{constructor(e){super(),me(this,e,JSe,KSe,he,{})}}const cU=(i,e=!1)=>{let t={},n={};return i.trackables.filter(r=>r.type=="tracker").forEach(r=>{t[r.tracker.tag]=Vke(new qi(r.tracker),e)}),{version:pf,created:new Date().toJSON(),files:{"trackers.json":t,"people.json":n,"context.json":i.trackables.filter(r=>r.type=="context").map(r=>r),"goals.json":i.goals,"dashboards.json":i.dashboards,"boards.json":i.boards}}};function uS(i,e,t){const n=i.slice();return n[2]=e[t],n}function cS(i,e,t){const n=i.slice();return n[5]=e[t],n}function fS(i,e,t){const n=i.slice();return n[5]=e[t],n}function dS(i,e,t){const n=i.slice();return n[10]=e[t],n}function hS(i){let e,t,n=i[0].description+"",r;return{c(){e=P("p"),t=P("span"),r=K(n),h(e,"class","text-sm text-gray-500 dark:text-gray-400")},m(s,l){w(s,e,l),D(e,t),D(t,r)},p(s,l){l&1&&n!==(n=s[0].description+"")&&de(r,n)},d(s){s&&y(e)}}}function e7e(i){let e;return{c(){e=K("Use this Template")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function mS(i){let e,t,n,r,s;t=new al({props:{className:"mb-2",$$slots:{default:[t7e]},$$scope:{ctx:i}}});let l=i[0].trackables,o=[];for(let u=0;u<l.length;u+=1)o[u]=pS(dS(i,l,u));const a=u=>v(o[u],1,1,()=>{o[u]=null});return{c(){e=P("section"),B(t.$$.fragment),n=W(),r=P("div");for(let u=0;u<o.length;u+=1)o[u].c();h(r,"class","flex flex-wrap"),h(e,"class","svelte-ct5n07")},m(u,c){w(u,e,c),O(t,e,null),D(e,n),D(e,r);for(let f=0;f<o.length;f+=1)o[f].m(r,null);s=!0},p(u,c){const f={};if(c&8192&&(f.$$scope={dirty:c,ctx:u}),t.$set(f),c&1){l=u[0].trackables;let d;for(d=0;d<l.length;d+=1){const m=dS(u,l,d);o[d]?(o[d].p(m,c),_(o[d],1)):(o[d]=pS(m),o[d].c(),_(o[d],1),o[d].m(r,null))}for(ae(),d=l.length;d<o.length;d+=1)a(d);ue()}},i(u){if(!s){_(t.$$.fragment,u);for(let c=0;c<l.length;c+=1)_(o[c]);s=!0}},o(u){v(t.$$.fragment,u),o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)v(o[c]);s=!1},d(u){u&&y(e),I(t),pt(o,u)}}}function t7e(i){let e;return{c(){e=K("Trackables")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function pS(i){let e,t;return e=new fa({props:{solid:!0,hideValue:!0,size:32,trackable:new Wi(i[10]),className:"m-1"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=new Wi(n[10])),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function _S(i){let e,t,n,r,s;t=new al({props:{className:"mb-2",$$slots:{default:[n7e]},$$scope:{ctx:i}}});let l=i[0].boards,o=[];for(let a=0;a<l.length;a+=1)o[a]=gS(fS(i,l,a));return{c(){e=P("section"),B(t.$$.fragment),n=W(),r=P("div");for(let a=0;a<o.length;a+=1)o[a].c();h(r,"class","flex flex-wrap"),h(e,"class","svelte-ct5n07")},m(a,u){w(a,e,u),O(t,e,null),D(e,n),D(e,r);for(let c=0;c<o.length;c+=1)o[c].m(r,null);s=!0},p(a,u){const c={};if(u&8192&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),u&1){l=a[0].boards;let f;for(f=0;f<l.length;f+=1){const d=fS(a,l,f);o[f]?o[f].p(d,u):(o[f]=gS(d),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){v(t.$$.fragment,a),s=!1},d(a){a&&y(e),I(t),pt(o,a)}}}function n7e(i){let e;return{c(){e=K("Tabs")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function gS(i){let e,t,n=i[5].label+"",r,s,l,o=i[5].elements.length+"",a,u,c;return{c(){e=P("div"),t=P("div"),r=K(n),s=W(),l=P("div"),a=K(o),u=K(" trackables"),c=W(),h(t,"class","ntitle"),h(l,"class","text-xs text-gray-500 whitespace-nowrap"),h(e,"class","pill")},m(f,d){w(f,e,d),D(e,t),D(t,r),D(e,s),D(e,l),D(l,a),D(l,u),D(e,c)},p(f,d){d&1&&n!==(n=f[5].label+"")&&de(r,n),d&1&&o!==(o=f[5].elements.length+"")&&de(a,o)},d(f){f&&y(e)}}}function vS(i){let e,t,n,r,s;t=new al({props:{className:"mb-2",$$slots:{default:[i7e]},$$scope:{ctx:i}}});let l=i[0].dashboards,o=[];for(let a=0;a<l.length;a+=1)o[a]=bS(cS(i,l,a));return{c(){e=P("section"),B(t.$$.fragment),n=W(),r=P("div");for(let a=0;a<o.length;a+=1)o[a].c();h(r,"class","flex flex-wrap"),h(e,"class","svelte-ct5n07")},m(a,u){w(a,e,u),O(t,e,null),D(e,n),D(e,r);for(let c=0;c<o.length;c+=1)o[c].m(r,null);s=!0},p(a,u){const c={};if(u&8192&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),u&1){l=a[0].dashboards;let f;for(f=0;f<l.length;f+=1){const d=cS(a,l,f);o[f]?o[f].p(d,u):(o[f]=bS(d),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){v(t.$$.fragment,a),s=!1},d(a){a&&y(e),I(t),pt(o,a)}}}function i7e(i){let e;return{c(){e=K("Dashboards")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function bS(i){let e,t,n=i[5].label+"",r,s,l,o=i[5].widgets.length+"",a,u,c;return{c(){e=P("div"),t=P("div"),r=K(n),s=W(),l=P("div"),a=K(o),u=K(" widgets"),c=W(),h(t,"class","ntitle"),h(l,"class","text-xs text-gray-500 whitespace-nowrap"),h(e,"class","pill")},m(f,d){w(f,e,d),D(e,t),D(t,r),D(e,s),D(e,l),D(l,a),D(l,u),D(e,c)},p(f,d){d&1&&n!==(n=f[5].label+"")&&de(r,n),d&1&&o!==(o=f[5].widgets.length+"")&&de(a,o)},d(f){f&&y(e)}}}function kS(i){let e,t,n,r,s;t=new al({props:{className:"mb-2",$$slots:{default:[r7e]},$$scope:{ctx:i}}});let l=i[0].goals,o=[];for(let a=0;a<l.length;a+=1)o[a]=yS(uS(i,l,a));return{c(){e=P("section"),B(t.$$.fragment),n=W(),r=P("div");for(let a=0;a<o.length;a+=1)o[a].c();h(r,"class","flex flex-wrap"),h(e,"class","svelte-ct5n07")},m(a,u){w(a,e,u),O(t,e,null),D(e,n),D(e,r);for(let c=0;c<o.length;c+=1)o[c].m(r,null);s=!0},p(a,u){const c={};if(u&8192&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),u&1){l=a[0].goals;let f;for(f=0;f<l.length;f+=1){const d=uS(a,l,f);o[f]?o[f].p(d,u):(o[f]=yS(d),o[f].c(),o[f].m(r,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}},i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){v(t.$$.fragment,a),s=!1},d(a){a&&y(e),I(t),pt(o,a)}}}function r7e(i){let e;return{c(){e=K("Goals")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function yS(i){let e,t,n=i[2].tag+"",r,s,l=i[2].comparison+"",o,a,u=i[2].target+"",c,f,d,m;return{c(){e=P("div"),t=P("div"),r=K(n),s=W(),o=K(l),a=W(),c=K(u),f=W(),d=P("div"),m=W(),h(t,"class","ntitle"),h(d,"class","text-xs text-gray-500 whitespace-nowrap"),h(e,"class","pill")},m(p,g){w(p,e,g),D(e,t),D(t,r),D(t,s),D(t,o),D(t,a),D(t,c),D(e,f),D(e,d),D(e,m)},p(p,g){g&1&&n!==(n=p[2].tag+"")&&de(r,n),g&1&&l!==(l=p[2].comparison+"")&&de(o,l),g&1&&u!==(u=p[2].target+"")&&de(c,u)},d(p){p&&y(e)}}}function s7e(i){let e,t,n,r=i[0].name+"",s,l,o,a,u,c,f,d,m,p,g,k=i[0].description&&hS(i);a=new He({props:{shape:"rounded",color:"primary",size:"sm",className:"w-full max-w-xs my-4",$$slots:{default:[e7e]},$$scope:{ctx:i}}}),a.$on("click",i[1]);let $=i[0].trackables.length&&mS(i),C=i[0].boards.length&&_S(i),E=i[0].dashboards.length&&vS(i),S=i[0].goals.length&&kS(i);return{c(){e=P("div"),t=P("div"),n=P("h1"),s=K(r),l=W(),k&&k.c(),o=W(),B(a.$$.fragment),u=W(),c=P("hr"),f=W(),$&&$.c(),d=W(),C&&C.c(),m=W(),E&&E.c(),p=W(),S&&S.c(),h(n,"class","text-2xl lg:text-4xl font-bold lg:col-span-8 text-solid"),h(t,"class","grid grid-cols-1 mb-2 gap-2 items-center"),h(c,"class","mt-2 mb-4 dark:border-gray-700"),h(e,"class","template-view svelte-ct5n07")},m(T,M){w(T,e,M),D(e,t),D(t,n),D(n,s),D(e,l),k&&k.m(e,null),D(e,o),O(a,e,null),D(e,u),D(e,c),D(e,f),$&&$.m(e,null),D(e,d),C&&C.m(e,null),D(e,m),E&&E.m(e,null),D(e,p),S&&S.m(e,null),g=!0},p(T,[M]){(!g||M&1)&&r!==(r=T[0].name+"")&&de(s,r),T[0].description?k?k.p(T,M):(k=hS(T),k.c(),k.m(e,o)):k&&(k.d(1),k=null);const R={};M&8192&&(R.$$scope={dirty:M,ctx:T}),a.$set(R),T[0].trackables.length?$?($.p(T,M),M&1&&_($,1)):($=mS(T),$.c(),_($,1),$.m(e,d)):$&&(ae(),v($,1,1,()=>{$=null}),ue()),T[0].boards.length?C?(C.p(T,M),M&1&&_(C,1)):(C=_S(T),C.c(),_(C,1),C.m(e,m)):C&&(ae(),v(C,1,1,()=>{C=null}),ue()),T[0].dashboards.length?E?(E.p(T,M),M&1&&_(E,1)):(E=vS(T),E.c(),_(E,1),E.m(e,p)):E&&(ae(),v(E,1,1,()=>{E=null}),ue()),T[0].goals.length?S?(S.p(T,M),M&1&&_(S,1)):(S=kS(T),S.c(),_(S,1),S.m(e,null)):S&&(ae(),v(S,1,1,()=>{S=null}),ue())},i(T){g||(_(a.$$.fragment,T),_($),_(C),_(E),_(S),g=!0)},o(T){v(a.$$.fragment,T),v($),v(C),v(E),v(S),g=!1},d(T){T&&y(e),k&&k.d(),I(a),$&&$.d(),C&&C.d(),E&&E.d(),S&&S.d()}}}function l7e(i,e,t){let{template:n}=e;const r=()=>gAe(n);return i.$$set=s=>{"template"in s&&t(0,n=s.template)},[n,r]}class o7e extends pe{constructor(e){super(),me(this,e,l7e,s7e,he,{template:0})}}function a7e(i){let e,t,n,r;function s(o){i[4](o)}let l={};return i[0]!==void 0&&(l.template=i[0]),t=new o7e({props:l}),Oe.push(()=>Qe(t,"template",s,i[0])),{c(){e=P("main"),B(t.$$.fragment),h(e,"class","lg:p-6 p-4")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.template=o[0],tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function u7e(i){let e;return{c(){e=K("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function c7e(i){let e,t;return e=new He({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[u7e]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function f7e(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{left:[c7e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function d7e(i){let e,t;return e=new ti({props:{className:"h-full",mainClass:"bg-gray-100 dark:bg-gray-800",$$slots:{header:[f7e],default:[a7e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function h7e(i,e,t){let{id:n}=e,{template:r}=e;const s=()=>{tn(n)},l=()=>s();function o(a){r=a,t(0,r)}return i.$$set=a=>{"id"in a&&t(2,n=a.id),"template"in a&&t(0,r=a.template)},[r,s,n,l,o]}class m7e extends pe{constructor(e){super(),me(this,e,h7e,d7e,he,{id:2,template:0})}}function p7e(i){return i.substr(0,1)}function fU(i){let e={tick:"tick",numeric:"value",range:"range",timer:"timer"},t={};return i.trackers.forEach(n=>{n.config=n.config||{};let r={tag:Ju(n.label),label:n.label,color:n.color,emoji:p7e(n.label),min:n.config.min||"",max:n.config.max||"",uom:n.config.uom||"num",type:e[n.config.type||"tick"]||"tick",math:n.config.math||"sum"};t[r.tag]=new qi(r)}),t}function _7e(i){let e={};return i.trackers.forEach(t=>{let n=Ju(t.label);t.groups&&t.groups.forEach(r=>{(r||"").trim().length&&(e[r]=e[r]||[],e[r].indexOf(n)===-1&&e[r].push(n))})}),Object.keys(e).filter(t=>t.toLowerCase()!=="all").map(t=>({id:Ju(t),label:t,trackers:e[t]||[]}))}function g7e(i){let e={};return i.trackers.hasOwnProperty("length")&&i.trackers.forEach(t=>{let n={tag:Ju(t.label),...t};e[t._id]=new qi(n)}),e}function v7e(i){let e=fU(i),t=g7e(i),n=[];return i.notes.forEach(r=>{let s=new gn({_id:Jn(10),start:r.time,end:r.time+1e3,lat:(r.geo||[]).length==2?r.geo[0]:null,lng:(r.geo||[]).length==2?r.geo[1]:null,location:"",note:r.value});n.push(s)}),i.events.forEach(r=>{if(t.hasOwnProperty(r.parent)){let s,l=e[t[r.parent].tag];l.tag,l.type==="tick"?s=`#${l.tag}`:s=`#${l.tag}(${r.value})`;let o=new gn({_id:Jn(10),start:r.time,end:r.time+1e3,lat:(r.geo||[]).length==2?r.geo[0]:null,lng:(r.geo||[]).length==2?r.geo[1]:null,location:"",note:s});n.push(o)}}),n}function b7e(i){return{trackers:fU(i),boards:_7e(i),logs:v7e(i),context:[],people:{},dashboards:[],locations:[]}}function k7e(i){return i.substr(0,1)}function dU(i){let e={tick:"tick",numeric:"value",range:"range",timer:"timer"},t={};return(i.trackers||[]).forEach(n=>{n.config=n.config||{};let r={tag:Ju(n.label),label:n.label,color:n.color,emoji:k7e(n.label),min:n.config.min||"",max:n.config.max||"",uom:n.config.uom||"num",type:e[n.config.type||"tick"]||"tick",math:n.config.math||"sum"};t[r.tag]=new qi(r)}),t}function y7e(i){let e={};return(i.trackers||[]).forEach(t=>{let n=Ju(t.label);t.groups&&t.groups.forEach(r=>{(r||"").trim().length&&(e[r]=e[r]||[],e[r].indexOf(n)===-1&&e[r].push(n))})}),Object.keys(e).filter(t=>t.toLowerCase()!=="all").map(t=>({id:Ju(t),label:t,trackers:e[t]||[]}))}function w7e(i){let e={};return i.trackers.hasOwnProperty("length")&&(i.trackers||[]).forEach(t=>{let n={tag:Ju(t.label),...t};e[t._id]=new qi(n)}),e}function $7e(i){let e=dU(i),t=w7e(i),n=[];return(i.notes||[]).forEach(r=>{let s=new gn({_id:Jn(10),start:r.time,end:r.time+1e3,lat:(r.geo||[]).length==2?r.geo[0]:null,lng:(r.geo||[]).length==2?r.geo[1]:null,location:"",note:r.value});n.push(s)}),(i.events||[]).forEach(r=>{if(t.hasOwnProperty(r.parent)){let s,l=e[t[r.parent].tag];l.tag,l.type==="tick"?s=`#${l.tag}`:s=`#${l.tag}(${r.value})`;let o=new gn({_id:Jn(10),start:r.time,end:r.time+1e3,lat:(r.geo||[]).length==2?r.geo[0]:null,lng:(r.geo||[]).length==2?r.geo[1]:null,location:"",note:s});n.push(o)}}),n}function F7e(i){return{trackers:dU(i),boards:y7e(i),logs:$7e(i),context:[],people:{},dashboards:[],locations:[]}}class E7e{constructor(e){je(this,"index");je(this,"id");je(this,"trackers");je(this,"label");e?(this.index=e.index,this.id=e.id,this.trackers=e.trackers,this.label=e.label):this.id=Jn()}}function C7e(i){let e={};return Object.keys(i.trackers).forEach(t=>{e[t]=new qi(i.trackers[t])}),e}function D7e(i){return(i.boards||[]).map(e=>new E7e(e))}function S7e(i){return(i.events||[]).map(e=>(e.note=e.notes,new gn(e)))}function T7e(i){return{trackers:C7e(i),boards:D7e(i),logs:S7e(i),people:{},context:[],locations:[],dashboards:[]}}function A7e(i){let e={};return Object.keys(i.trackers).forEach(t=>{e[t]=new qi(i.trackers[t])}),e}function P7e(i){let e={};return Object.keys(i.people||{}).forEach(t=>{e[t]=new Xa(i.people[t])}),e}function N7e(i){return(i.boards||[]).map(e=>({label:e.label,elements:e.elements||(e.trackers||[]).map(n=>n.search("#")===-1?`#${n}`:n),id:e.id})).filter(e=>e)}const M7e=i=>{let e=[];return i.dashboards&&i.dashboards.dashboards?e=i.dashboards.dashboards:i.dashboards&&(e=i.dashboards),e=e.map(t=>new Kd(t)),e};function L7e(i){return(i.events||[]).map(e=>new gn(e))}function O7e(i){const e=M7e(i);return{trackers:A7e(i),boards:N7e(i),logs:L7e(i),people:P7e(i),context:i.context||[],locations:(i.locations||[]).map(n=>new Bu(n)),dashboards:e}}function Ju(i){return i&&i.match(/[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[0-9]+/g).map(e=>e.toLowerCase()).join("_")}class I7e{constructor(e){je(this,"original");je(this,"version");je(this,"normalized");var t,n;if(this.original=e,this.version=parseInt((n=(t=e==null?void 0:e.nomie)==null?void 0:t.number)==null?void 0:n.split(".")[0]),this.version)this.version>=4?this.normalized=O7e(e):this.version==3?this.normalized=T7e(e):this.version==2?this.normalized=F7e(e):this.version==1&&(this.normalized=b7e(e));else throw new Error("Invalid Nomie Backup file")}}class hU{constructor(){je(this,"normalized");je(this,"raw");je(this,"changeListeners");je(this,"importing",{});je(this,"importer");this.importing={}}onChange(e){this.changeListeners.indexOf(e)==-1&&this.changeListeners.push(e)}logs(e){return this.normalized={logs:e},this}async openPayload(e){this.raw=e,this.importer=new I7e(e),this.normalized=this.importer.normalized}async importAll(e){e=e||function(t){};try{return e({importing:"boards"}),await this.importBoards(),e({importing:"trackers"}),await this.importTrackers(),e({importing:"dashboards"}),await this.importDashboards(),e({importing:"people"}),await this.importPeople(),e({importing:"context"}),await this.importContext(),e({importing:"locations"}),await this.importLocations(),e({importing:"logs"}),await this.importLogs(e),!0}catch(t){throw console.error(t),new Error(t.message)}}async importTrackers(){return await Ls.updateSync(e=>({...this.normalized.trackers,...e})),this}async importDashboards(){let e=await Mf(),t=hf([...e,...this.normalized.dashboards],"id");return gw(t),this}async importBoards(){const e=await yh()||[],t=this.normalized.boards||[],r=[...e.filter(o=>!t.find(a=>a.id==o.id)),...t],s=r.findIndex(o=>o.id=="all"||o.id=="_all");s&&r[s]&&(r[s].id="v5-all",r[s].label="All");let l=hf(r,"id");return await iw(l),this}async importLogs(e){return await dn.import(this.normalized.logs,t=>{if(t.step){let n;t.step<t.total?n=Nt.round(100-(t.total-t.step)/t.total*100):t.step==t.total?n=100:n=0,e&&e({message:`Step ${t.step} of ${t.total}`,progress:n,step:t.step,total:t.total})}}),await dn.getFirstDate(!0),this}async importPeople(){return await su.updateSync(t=>({...(this.normalized||{people:{}}).people,...t}))}async importContext(){const t=(this.normalized.context||[]).map(n=>new r0(n));try{await Wp.upsertMany(t)}catch(n){console.error(n)}return this}async importLocations(){return await yl.upsertMany(this.normalized.locations),this}fireChange(e){this.changeListeners.forEach(t=>{t(e)})}}function B7e(i){let e,t,n,r,s,l=(i[3]||"0")+"",o,a,u;const c=i[5].default,f=nt(c,i,i[7],null);return{c(){e=P("main"),t=P("h1"),n=K(i[1]),r=W(),s=P("span"),o=K(l),a=W(),f&&f.c(),h(t,"class","ntitle"),h(s,"class","text-xs font-semibold px-2 rounded-full bg-gray-300 dark:bg-gray-700"),h(e,"class","flex items-center space-x-2")},m(d,m){w(d,e,m),D(e,t),D(t,n),D(e,r),D(e,s),D(s,o),w(d,a,m),f&&f.m(d,m),u=!0},p(d,m){(!u||m&2)&&de(n,d[1]),(!u||m&8)&&l!==(l=(d[3]||"0")+"")&&de(o,l),f&&f.p&&(!u||m&128)&&rt(f,c,d,d[7],u?it(c,d[7],m,null):st(d[7]),null)},i(d){u||(_(f,d),u=!0)},o(d){v(f,d),u=!1},d(d){d&&y(e),d&&y(a),f&&f.d(d)}}}function R7e(i){let e,t;return{c(){e=P("span"),t=K(i[0]),h(e,"slot","left")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&1&&de(t,n[0])},d(n){n&&y(e)}}}function z7e(i){let e,t;return e=new He({props:{clear:!0,primary:!0,$$slots:{default:[U7e]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function j7e(i){let e,t;return e=new et({props:{icon:Go,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Y7e(i){let e,t;return e=new ki({props:{size:24}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function U7e(i){let e=Fe.t("import.import","Import")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function W7e(i){let e,t,n,r;const s=[Y7e,j7e,z7e],l=[];function o(a,u){return a[2].running?0:a[2].done?1:2}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function q7e(i){let e,t;return e=new lt({props:{bottomLine:48,$$slots:{right:[W7e],left:[R7e],default:[B7e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&143&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function H7e(i,e,t){let{$$slots:n={},$$scope:r}=e,{emoji:s="\u{1F643}"}=e,{title:l="Unknown"}=e,{status:o}=e,{count:a="0"}=e;const u=Ut(),c=()=>{u("import")};return i.$$set=f=>{"emoji"in f&&t(0,s=f.emoji),"title"in f&&t(1,l=f.title),"status"in f&&t(2,o=f.status),"count"in f&&t(3,a=f.count),"$$scope"in f&&t(7,r=f.$$scope)},[s,l,o,a,u,n,c,r]}class cc extends pe{constructor(e){super(),me(this,e,H7e,q7e,he,{emoji:0,title:1,status:2,count:3})}}function wS(i){let e,t;return e=new zi({props:{className:"my-5 text-center leading-tight",icon:Ap,description:"Supports CSV files, Nomie backup files (all versions), and tracker packs.",title:"Import a file",buttonLabel:Fe.t("settings.select-nomie-file","Select File..."),buttonClick:i[9]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function V7e(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M,R,Y,z,j,V;e=new lt({props:{className:"item-divider compact bg-faded",$$slots:{default:[G7e]},$$scope:{ctx:i}}});const x=[X7e,Z7e],ee=[];function J(Je,Pt){return(Je[4].normalized.logs||[]).length>0?0:1}n=J(i),r=ee[n]=x[n](i);const q=[t9e,e9e],le=[];function G(Je,Pt){return Object.keys(Je[4].normalized.trackers).length>0?0:1}l=G(i),o=le[l]=q[l](i);const X=[s9e,r9e],se=[];function te(Je,Pt){var sn;return((sn=Je[4].normalized.goals)==null?void 0:sn.length)>0?0:1}u=te(i),c=se[u]=X[u](i);const ie=[u9e,a9e],re=[];function be(Je,Pt){return(Je[4].normalized.locations||[]).length>0?0:1}d=be(i),m=re[d]=ie[d](i);const we=[h9e,d9e],De=[];function Be(Je,Pt){return(Je[4].normalized.boards||[]).length>0?0:1}g=Be(i),k=De[g]=we[g](i);const ze=[g9e,_9e],ke=[];function Ue(Je,Pt){return(Object.keys(Je[4].normalized.people)||[]).length>0?0:1}C=Ue(i),E=ke[C]=ze[C](i);const Ce=[y9e,k9e],vt=[];function $t(Je,Pt){return(Je[4].normalized.context||[]).length>0?0:1}T=$t(i),M=vt[T]=Ce[T](i);const bt=[E9e,F9e],Tt=[];function It(Je,Pt){return(Je[4].normalized.dashboards||[]).length>0?0:1}return Y=It(i),z=Tt[Y]=bt[Y](i),{c(){B(e.$$.fragment),t=W(),r.c(),s=W(),o.c(),a=W(),c.c(),f=W(),m.c(),p=W(),k.c(),$=W(),E.c(),S=W(),M.c(),R=W(),z.c(),j=Ae()},m(Je,Pt){O(e,Je,Pt),w(Je,t,Pt),ee[n].m(Je,Pt),w(Je,s,Pt),le[l].m(Je,Pt),w(Je,a,Pt),se[u].m(Je,Pt),w(Je,f,Pt),re[d].m(Je,Pt),w(Je,p,Pt),De[g].m(Je,Pt),w(Je,$,Pt),ke[C].m(Je,Pt),w(Je,S,Pt),vt[T].m(Je,Pt),w(Je,R,Pt),Tt[Y].m(Je,Pt),w(Je,j,Pt),V=!0},p(Je,Pt){const sn={};Pt&67108865&&(sn.$$scope={dirty:Pt,ctx:Je}),e.$set(sn),r.p(Je,Pt),o.p(Je,Pt),c.p(Je,Pt),m.p(Je,Pt),k.p(Je,Pt),E.p(Je,Pt),M.p(Je,Pt),z.p(Je,Pt)},i(Je){V||(_(e.$$.fragment,Je),_(r),_(o),_(c),_(m),_(k),_(E),_(M),_(z),V=!0)},o(Je){v(e.$$.fragment,Je),v(r),v(o),v(c),v(m),v(k),v(E),v(M),v(z),V=!1},d(Je){I(e,Je),Je&&y(t),ee[n].d(Je),Je&&y(s),le[l].d(Je),Je&&y(a),se[u].d(Je),Je&&y(f),re[d].d(Je),Je&&y(p),De[g].d(Je),Je&&y($),ke[C].d(Je),Je&&y(S),vt[T].d(Je),Je&&y(R),Tt[Y].d(Je),Je&&y(j)}}}function x7e(i){let e,t;return e=new lt({props:{title:"Unknown/Invalid File"}}),e.$on("click",i[10]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function G7e(i){let e,t=i[0].nomie.number+"",n;return{c(){e=K("From Nomie "),n=K(t)},m(r,s){w(r,e,s),w(r,n,s)},p(r,s){s&1&&t!==(t=r[0].nomie.number+"")&&de(n,t)},d(r){r&&y(e),r&&y(n)}}}function Z7e(i){let e,t;return e=new lt({props:{bottomLine:48,title:"Notes",$$slots:{right:[J7e],left:[K7e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function X7e(i){let e,t,n;function r(l){i[11](l)}let s={emoji:"\u23F0",title:"Logs",count:(i[4].normalized.logs||[]).length.toLocaleString(),$$slots:{default:[Q7e]},$$scope:{ctx:i}};return i[3].logs!==void 0&&(s.status=i[3].logs),e=new cc({props:s}),Oe.push(()=>Qe(e,"status",r,i[3].logs)),e.$on("import",i[12]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o&67108872&&(a.$$scope={dirty:o,ctx:l}),!t&&o&8&&(t=!0,a.status=l[3].logs,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function K7e(i){let e;return{c(){e=P("div"),e.textContent="\u23F0",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function J7e(i){let e;return{c(){e=P("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function $S(i){let e,t;return e=new Dl({props:{percentage:i[3].logs.progress,className:"mt-2 mr-2 h-2"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.percentage=n[3].logs.progress),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Q7e(i){let e,t,n=i[3].logs.running&&$S(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[3].logs.running?n?(n.p(r,s),s&8&&_(n,1)):(n=$S(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function e9e(i){let e,t;return e=new lt({props:{bottomLine:48,title:Fe.t("general.trackers"),$$slots:{right:[i9e],left:[n9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function t9e(i){let e,t,n;function r(l){i[13](l)}let s={emoji:"\u{1F92A}",title:"Trackers",count:Object.keys(i[4].normalized.trackers).length.toLocaleString()};return i[3].trackers!==void 0&&(s.status=i[3].trackers),e=new cc({props:s}),Oe.push(()=>Qe(e,"status",r,i[3].trackers)),e.$on("import",i[14]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].trackers,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function n9e(i){let e;return{c(){e=P("div"),e.textContent="\u{1F92A}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function i9e(i){let e;return{c(){e=P("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function r9e(i){let e,t;return e=new lt({props:{bottomLine:48,title:Fe.t("general.goals","Goals"),$$slots:{right:[o9e],left:[l9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function s9e(i){var l;let e,t,n;function r(o){i[15](o)}let s={emoji:"\u{1F92A}",title:"Goals",count:(l=i[4].normalized.goals)==null?void 0:l.length.toLocaleString()};return i[3].goals!==void 0&&(s.status=i[3].goals),e=new cc({props:s}),Oe.push(()=>Qe(e,"status",r,i[3].goals)),e.$on("import",Y9e),{c(){B(e.$$.fragment)},m(o,a){O(e,o,a),n=!0},p(o,a){const u={};!t&&a&8&&(t=!0,u.status=o[3].goals,tt(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){I(e,o)}}}function l9e(i){let e;return{c(){e=P("div"),e.textContent="\u{1F3C6}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function o9e(i){let e;return{c(){e=P("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function a9e(i){let e,t;return e=new lt({props:{bottomLine:48,title:Fe.t("general.locations","Locations"),$$slots:{right:[f9e],left:[c9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function u9e(i){let e,t,n;function r(l){i[16](l)}let s={emoji:"\u{1F5FA}",title:"Locations",count:(i[4].normalized.locations||[]).length.toLocaleString()};return i[3].locations!==void 0&&(s.status=i[3].locations),e=new cc({props:s}),Oe.push(()=>Qe(e,"status",r,i[3].locations)),e.$on("import",i[17]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].locations,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function c9e(i){let e;return{c(){e=P("div"),e.textContent="\u{1F5FA}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function f9e(i){let e;return{c(){e=P("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function d9e(i){let e,t;return e=new lt({props:{bottomLine:48,title:Fe.t("general.boards","Boards"),$$slots:{right:[p9e],left:[m9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function h9e(i){let e,t,n;function r(l){i[18](l)}let s={emoji:"\u{1F5C2}",title:Fe.t("general.boards","Boards"),count:(i[4].normalized.boards||[]).length.toLocaleString()};return i[3].boards!==void 0&&(s.status=i[3].boards),e=new cc({props:s}),Oe.push(()=>Qe(e,"status",r,i[3].boards)),e.$on("import",i[19]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].boards,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function m9e(i){let e;return{c(){e=P("div"),e.textContent="\u{1F5C2}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function p9e(i){let e;return{c(){e=P("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function _9e(i){let e,t;return e=new lt({props:{bottomLine:48,title:Fe.t("general.people","People"),$$slots:{right:[b9e],left:[v9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function g9e(i){let e,t,n;function r(l){i[20](l)}let s={emoji:"\u{1F469}\u{1F3FD}\u200D\u{1F4BC}",title:Fe.t("general.people","People"),count:(Object.keys(i[4].normalized.people)||[]).length.toLocaleString()};return i[3].people!==void 0&&(s.status=i[3].people),e=new cc({props:s}),Oe.push(()=>Qe(e,"status",r,i[3].people)),e.$on("import",i[21]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].people,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function v9e(i){let e;return{c(){e=P("div"),e.textContent="\u{1F469}\u{1F3FD}\u200D\u{1F4BC}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function b9e(i){let e;return{c(){e=P("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function k9e(i){let e,t;return e=new lt({props:{bottomLine:48,title:Fe.t("general.context","Context"),$$slots:{right:[$9e],left:[w9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function y9e(i){let e,t,n;function r(l){i[22](l)}let s={emoji:"\u{1F4AD}",title:Fe.t("general.context","Context"),count:(i[4].normalized.context||[]).length.toLocaleString()};return i[3].context!==void 0&&(s.status=i[3].context),e=new cc({props:s}),Oe.push(()=>Qe(e,"status",r,i[3].context)),e.$on("import",i[23]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].context,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function w9e(i){let e;return{c(){e=P("div"),e.textContent="\u{1F4AD}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function $9e(i){let e;return{c(){e=P("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function F9e(i){let e,t;return e=new lt({props:{bottomLine:48,title:Fe.t("general.dashboards","Dashboards"),$$slots:{right:[D9e],left:[C9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function E9e(i){let e,t,n;function r(l){i[24](l)}let s={emoji:"\u{1F4CA}",title:Fe.t("general.dashboards","Dashboards"),count:(i[4].normalized.dashboards||[]).length.toLocaleString()};return i[3].dashboards!==void 0&&(s.status=i[3].dashboards),e=new cc({props:s}),Oe.push(()=>Qe(e,"status",r,i[3].dashboards)),e.$on("import",i[25]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&8&&(t=!0,a.status=l[3].dashboards,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function C9e(i){let e;return{c(){e=P("div"),e.textContent="\u{1F4CA}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function D9e(i){let e;return{c(){e=P("div"),e.textContent="No Data",h(e,"slot","right"),h(e,"class","text-gray-500 pr-4")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function S9e(i){let e,t,n,r,s,l=!i[0]&&wS(i);const o=[x7e,V7e],a=[];function u(c,f){return c[0]&&!c[1]?0:c[0]?1:-1}return~(n=u(i))&&(r=a[n]=o[n](i)),{c(){l&&l.c(),e=W(),t=P("div"),r&&r.c(),h(t,"class","n-list")},m(c,f){l&&l.m(c,f),w(c,e,f),w(c,t,f),~n&&a[n].m(t,null),s=!0},p(c,f){c[0]?l&&(ae(),v(l,1,1,()=>{l=null}),ue()):l?(l.p(c,f),f&1&&_(l,1)):(l=wS(c),l.c(),_(l,1),l.m(e.parentNode,e));let d=n;n=u(c),n===d?~n&&a[n].p(c,f):(r&&(ae(),v(a[d],1,1,()=>{a[d]=null}),ue()),~n?(r=a[n],r?r.p(c,f):(r=a[n]=o[n](c),r.c()),_(r,1),r.m(t,null)):r=null)},i(c){s||(_(l),_(r),s=!0)},o(c){v(l),v(r),s=!1},d(c){l&&l.d(c),c&&y(e),c&&y(t),~n&&a[n].d()}}}function T9e(i){let e;return{c(){e=P("h1"),e.textContent=`${Fe.t("settings.import","Import")}`,h(e,"class","ntitle sm")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function A9e(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function P9e(i){let e,t;return e=new He({props:{clear:!0,primary:!0,slot:"left",$$slots:{default:[A9e]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function N9e(i){let e,t;return e=new He({props:{primary:!0,clear:!0,className:"whitespace-nowrap",$$slots:{default:[O9e]},$$scope:{ctx:i}}}),e.$on("click",i[5].finish),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function M9e(i){let e,t;return e=new He({props:{primary:!0,clear:!0,className:"whitespace-nowrap",$$slots:{default:[I9e]},$$scope:{ctx:i}}}),e.$on("click",i[5].importAll),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function L9e(i){let e,t;return e=new He({props:{primary:!0,clear:!0,disabled:!0,className:"whitespace-nowrap",$$slots:{default:[B9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function O9e(i){let e=Fe.t("general.finished","Finished")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function I9e(i){let e=Fe.t("import.import-all","Import All")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function B9e(i){let e=Fe.t("import.import-all","Import All")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function R9e(i){let e,t,n,r;const s=[L9e,M9e,N9e],l=[];function o(a,u){return a[2]===!0?0:a[1]&&!a[3].all.running&&!a[3].all.done?1:a[3].all.done?2:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=P("div"),n&&n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function z9e(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{right:[R9e],left:[P9e],default:[T9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108878&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function j9e(i){let e,t;return e=new ti({props:{$$slots:{header:[z9e],default:[S9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&67108879&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}const Y9e=()=>{};function U9e(i,e,t){let{id:n}=e,{fileData:r=void 0}=e,s,l=!1,o={boards:{running:!1,done:!1},locations:{running:!1,done:!1},goals:{running:!1,done:!1},logs:{running:!1,done:!1,progress:0},trackers:{running:!1,done:!1},people:{running:!1,done:!1},dashboards:{running:!1,done:!1},context:{running:!1,done:!1},all:{running:!1,done:!1}};const a=new hU;let u=!1;const c={init(){if(t(8,u=!0),r.hasOwnProperty("nomie"))try{a.openPayload(r),t(1,s=a.importer.version)}catch(ee){console.error(ee.message),at.alert("Error",ee.message)}},async finish(){await dn.getFirstDate(!0),await at.confirm("Import Complete. Restart?","It's best to reload Nomie after an import")&&(document.location.href="/")},onImportFile(ee){let J=new FileReader,q=ee.target.files[0];J.onload=le=>{try{t(0,r=JSON.parse(le.target.result)),c.init()}catch(G){console.error(G),at.alert("Error",G.message)}},J.readAsText(q)},async run(ee,J,q=!1){t(3,o[ee].running=!0,o);try{let le=!0;q&&(le=await at.confirm(`Import ${ee}?`,"This action cannot be undone"),await Lt(200),le!==!0&&(t(3,o[ee].running=!1,o),t(3,o[ee].done=!1,o))),le&&(await J(),t(3,o[ee].running=!1,o),t(3,o[ee].done=!0,o))}catch(le){console.error(ee,le.message),at.alert("Error",le.message),t(3,o[ee].running=!1,o),t(3,o[ee].done=!1,o)}},async importTrackers(ee=!1){return await c.run("trackers",async()=>await a.importTrackers(),ee)},async importDashboards(ee=!1){return await c.run("dashboards",async()=>await a.importDashboards(),ee)},async importPeople(ee=!1){return await c.run("people",async()=>await a.importPeople(),ee)},async importBoards(ee=!1){return await c.run("boards",async()=>await a.importBoards(),ee)},async importLogs(ee=!1){return await c.run("logs",async()=>(t(3,o.logs.running=!0,o),await a.importLogs(J=>{t(3,o.logs.progress=J.progress,o),J.step==J.total&&(t(3,o.logs.done=!0,o),t(3,o.logs.running=!1,o))})),ee)},async importContext(ee=!1){return await c.run("context",async()=>await a.importContext(),ee)},async importLocations(ee=!1){return await c.run("locations",async()=>await a.importLocations(),ee)},async importAll(){if(await at.confirm("Confirm","Are you sure? Importing cannot be undone.")===!0){await Lt(300),t(2,l=!0),t(3,o.all.running=!0,o);let J=[];try{await a.importAll(q=>{q.importing?(t(3,o[q.importing]=o[q.importing]||{},o),t(3,o[q.importing].running=!0,o),J.push(q.importing),Object.keys(o).forEach(le=>{q.importing!==le&&(t(3,o[le].running=!1,o),J.indexOf(le)>-1&&t(3,o[le].done=!0,o))})):q.progress&&t(3,o.logs.progress=q.progress,o)}),Object.keys(o).forEach(q=>{t(3,o[q].done=!0,o)}),t(3,o.all.running=!1,o),t(3,o.all.done=!0,o),t(3,o.logs.done=!0,o),t(3,o.logs.running=!1,o),t(2,l=!1),qn({message:"Import Finishing..."}),await dn.getFirstDate(!0),c.finish()}catch(q){console.error(q.message),at.alert("Error",q.message)}return!0}return!1}},f=async()=>{o.logs.running?await at.confirm("Stop the import?")&&window.location.reload():tn(n)},d=()=>{gU()},m=()=>{t(0,r=null)};function p(ee){i.$$.not_equal(o.logs,ee)&&(o.logs=ee,t(3,o))}const g=()=>{c.importLogs(!0)};function k(ee){i.$$.not_equal(o.trackers,ee)&&(o.trackers=ee,t(3,o))}const $=()=>{c.importTrackers(!0)};function C(ee){i.$$.not_equal(o.goals,ee)&&(o.goals=ee,t(3,o))}function E(ee){i.$$.not_equal(o.locations,ee)&&(o.locations=ee,t(3,o))}const S=()=>{c.importLocations(!0)};function T(ee){i.$$.not_equal(o.boards,ee)&&(o.boards=ee,t(3,o))}const M=()=>{c.importBoards(!0)};function R(ee){i.$$.not_equal(o.people,ee)&&(o.people=ee,t(3,o))}const Y=()=>{c.importPeople(!0)};function z(ee){i.$$.not_equal(o.context,ee)&&(o.context=ee,t(3,o))}const j=()=>{c.importContext(!0)};function V(ee){i.$$.not_equal(o.dashboards,ee)&&(o.dashboards=ee,t(3,o))}const x=()=>{c.importDashboards(!0)};return i.$$set=ee=>{"id"in ee&&t(7,n=ee.id),"fileData"in ee&&t(0,r=ee.fileData)},i.$$.update=()=>{i.$$.dirty&257&&r&&!u&&c.init()},[r,s,l,o,a,c,f,n,u,d,m,p,g,k,$,C,E,S,T,M,R,Y,z,j,V,x]}class W9e extends pe{constructor(e){super(),me(this,e,U9e,j9e,he,{id:7,fileData:0})}}function q9e(i){let e,t;return e=new He({props:{$$slots:{default:[V9e]},$$scope:{ctx:i}}}),e.$on("click",i[8]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function H9e(i){let e,t;return e=new He({props:{color:"transparent",className:"text-red",$$slots:{default:[x9e]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function V9e(i){let e;return{c(){e=K("Select...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function x9e(i){let e;return{c(){e=K("Clear")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function G9e(i){let e,t,n,r;const s=[H9e,q9e],l=[];function o(a,u){return a[5]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"slot","right"),h(e,"class","pr-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function Z9e(i){let e,t,n,r,s,l;return e=new Wn({props:{className:i[1],placeholder:i[3],label:i[0],value:i[5],disabled:!0,$$slots:{right:[G9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),n=P("input"),h(n,"type","file"),h(n,"class","hidden"),h(n,"accept",i[2])},m(o,a){O(e,o,a),w(o,t,a),w(o,n,a),i[9](n),r=!0,s||(l=Se(n,"change",i[7]),s=!0)},p(o,[a]){const u={};a&2&&(u.className=o[1]),a&8&&(u.placeholder=o[3]),a&1&&(u.label=o[0]),a&32&&(u.value=o[5]),a&8240&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),(!r||a&4)&&h(n,"accept",o[2])},i(o){r||(_(e.$$.fragment,o),r=!0)},o(o){v(e.$$.fragment,o),r=!1},d(o){I(e,o),o&&y(t),o&&y(n),i[9](null),s=!1,l()}}}function X9e(i,e,t){let{className:n=""}=e,{accept:r="png,jpeg,jpg,csv"}=e,{placeholder:s="No file chosen"}=e,{label:l="File"}=e;const o=Ut();let a,u,c;function f(){a=void 0,t(5,c=void 0)}function d(k){let $=new FileReader;try{$.onload=async C=>{let E=C.target.result;a={data:null,file:null},a.data=E,a.file=k,t(5,c=a.file.name),t(0,l="File Loaded"),o("file",a)},$.readAsText(k)}catch(C){at.error(C.message)}}function m(k){let $=k.target.files;d($[0])}const p=()=>{u&&u.click()};function g(k){Oe[k?"unshift":"push"](()=>{u=k,t(4,u)})}return i.$$set=k=>{"className"in k&&t(1,n=k.className),"accept"in k&&t(2,r=k.accept),"placeholder"in k&&t(3,s=k.placeholder),"label"in k&&t(0,l=k.label)},[l,n,r,s,u,c,f,m,p,g]}class Mw extends pe{constructor(e){super(),me(this,e,X9e,Z9e,he,{className:1,accept:2,placeholder:3,label:0})}}var mU={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(i,e){(function(t,n){i.exports=n()})(fi,function t(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},r=!n.document&&!!n.postMessage,s=r&&/blob:/i.test((n.location||{}).protocol),l={},o=0,a={parse:function(Y,z){var j=(z=z||{}).dynamicTyping||!1;if(R(j)&&(z.dynamicTypingFunction=j,j={}),z.dynamicTyping=j,z.transform=!!R(z.transform)&&z.transform,z.worker&&a.WORKERS_SUPPORTED){var V=function(){if(!a.WORKERS_SUPPORTED)return!1;var ee=(q=n.URL||n.webkitURL||null,le=t.toString(),a.BLOB_URL||(a.BLOB_URL=q.createObjectURL(new Blob(["(",le,")();"],{type:"text/javascript"})))),J=new n.Worker(ee),q,le;return J.onmessage=C,J.id=o++,l[J.id]=J}();return V.userStep=z.step,V.userChunk=z.chunk,V.userComplete=z.complete,V.userError=z.error,z.step=R(z.step),z.chunk=R(z.chunk),z.complete=R(z.complete),z.error=R(z.error),delete z.worker,void V.postMessage({input:Y,config:z,workerId:V.id})}var x=null;return a.NODE_STREAM_INPUT,typeof Y=="string"?x=z.download?new f(z):new m(z):Y.readable===!0&&R(Y.read)&&R(Y.on)?x=new p(z):(n.File&&Y instanceof File||Y instanceof Object)&&(x=new d(z)),x.stream(Y)},unparse:function(Y,z){var j=!1,V=!0,x=",",ee=`\r
`,J='"',q=J+J,le=!1,G=null,X=!1;(function(){if(typeof z=="object"){if(typeof z.delimiter!="string"||a.BAD_DELIMITERS.filter(function(re){return z.delimiter.indexOf(re)!==-1}).length||(x=z.delimiter),(typeof z.quotes=="boolean"||typeof z.quotes=="function"||Array.isArray(z.quotes))&&(j=z.quotes),typeof z.skipEmptyLines!="boolean"&&typeof z.skipEmptyLines!="string"||(le=z.skipEmptyLines),typeof z.newline=="string"&&(ee=z.newline),typeof z.quoteChar=="string"&&(J=z.quoteChar),typeof z.header=="boolean"&&(V=z.header),Array.isArray(z.columns)){if(z.columns.length===0)throw new Error("Option columns is empty");G=z.columns}z.escapeChar!==void 0&&(q=z.escapeChar+J),(typeof z.escapeFormulae=="boolean"||z.escapeFormulae instanceof RegExp)&&(X=z.escapeFormulae instanceof RegExp?z.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var se=new RegExp(k(J),"g");if(typeof Y=="string"&&(Y=JSON.parse(Y)),Array.isArray(Y)){if(!Y.length||Array.isArray(Y[0]))return te(null,Y,le);if(typeof Y[0]=="object")return te(G||Object.keys(Y[0]),Y,le)}else if(typeof Y=="object")return typeof Y.data=="string"&&(Y.data=JSON.parse(Y.data)),Array.isArray(Y.data)&&(Y.fields||(Y.fields=Y.meta&&Y.meta.fields||G),Y.fields||(Y.fields=Array.isArray(Y.data[0])?Y.fields:typeof Y.data[0]=="object"?Object.keys(Y.data[0]):[]),Array.isArray(Y.data[0])||typeof Y.data[0]=="object"||(Y.data=[Y.data])),te(Y.fields||[],Y.data||[],le);throw new Error("Unable to serialize unrecognized input");function te(re,be,we){var De="";typeof re=="string"&&(re=JSON.parse(re)),typeof be=="string"&&(be=JSON.parse(be));var Be=Array.isArray(re)&&0<re.length,ze=!Array.isArray(be[0]);if(Be&&V){for(var ke=0;ke<re.length;ke++)0<ke&&(De+=x),De+=ie(re[ke],ke);0<be.length&&(De+=ee)}for(var Ue=0;Ue<be.length;Ue++){var Ce=Be?re.length:be[Ue].length,vt=!1,$t=Be?Object.keys(be[Ue]).length===0:be[Ue].length===0;if(we&&!Be&&(vt=we==="greedy"?be[Ue].join("").trim()==="":be[Ue].length===1&&be[Ue][0].length===0),we==="greedy"&&Be){for(var bt=[],Tt=0;Tt<Ce;Tt++){var It=ze?re[Tt]:Tt;bt.push(be[Ue][It])}vt=bt.join("").trim()===""}if(!vt){for(var Je=0;Je<Ce;Je++){0<Je&&!$t&&(De+=x);var Pt=Be&&ze?re[Je]:Je;De+=ie(be[Ue][Pt],Je)}Ue<be.length-1&&(!we||0<Ce&&!$t)&&(De+=ee)}}return De}function ie(re,be){if(re==null)return"";if(re.constructor===Date)return JSON.stringify(re).slice(1,25);var we=!1;X&&typeof re=="string"&&X.test(re)&&(re="'"+re,we=!0);var De=re.toString().replace(se,q);return(we=we||j===!0||typeof j=="function"&&j(re,be)||Array.isArray(j)&&j[be]||function(Be,ze){for(var ke=0;ke<ze.length;ke++)if(-1<Be.indexOf(ze[ke]))return!0;return!1}(De,a.BAD_DELIMITERS)||-1<De.indexOf(x)||De.charAt(0)===" "||De.charAt(De.length-1)===" ")?J+De+J:De}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!r&&!!n.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=$,a.ParserHandle=g,a.NetworkStreamer=f,a.FileStreamer=d,a.StringStreamer=m,a.ReadableStreamStreamer=p,n.jQuery){var u=n.jQuery;u.fn.parse=function(Y){var z=Y.config||{},j=[];return this.each(function(ee){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var J=0;J<this.files.length;J++)j.push({file:this.files[J],inputElem:this,instanceConfig:u.extend({},z)})}),V(),this;function V(){if(j.length!==0){var ee,J,q,le,G=j[0];if(R(Y.before)){var X=Y.before(G.file,G.inputElem);if(typeof X=="object"){if(X.action==="abort")return ee="AbortError",J=G.file,q=G.inputElem,le=X.reason,void(R(Y.error)&&Y.error({name:ee},J,q,le));if(X.action==="skip")return void x();typeof X.config=="object"&&(G.instanceConfig=u.extend(G.instanceConfig,X.config))}else if(X==="skip")return void x()}var se=G.instanceConfig.complete;G.instanceConfig.complete=function(te){R(se)&&se(te,G.file,G.inputElem),x()},a.parse(G.file,G.instanceConfig)}else R(Y.complete)&&Y.complete()}function x(){j.splice(0,1),V()}}}function c(Y){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(z){var j=T(z);j.chunkSize=parseInt(j.chunkSize),z.step||z.chunk||(j.chunkSize=null),this._handle=new g(j),(this._handle.streamer=this)._config=j}.call(this,Y),this.parseChunk=function(z,j){if(this.isFirstChunk&&R(this._config.beforeFirstChunk)){var V=this._config.beforeFirstChunk(z);V!==void 0&&(z=V)}this.isFirstChunk=!1,this._halted=!1;var x=this._partialLine+z;this._partialLine="";var ee=this._handle.parse(x,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var J=ee.meta.cursor;this._finished||(this._partialLine=x.substring(J-this._baseIndex),this._baseIndex=J),ee&&ee.data&&(this._rowCount+=ee.data.length);var q=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)n.postMessage({results:ee,workerId:a.WORKER_ID,finished:q});else if(R(this._config.chunk)&&!j){if(this._config.chunk(ee,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);ee=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ee.data),this._completeResults.errors=this._completeResults.errors.concat(ee.errors),this._completeResults.meta=ee.meta),this._completed||!q||!R(this._config.complete)||ee&&ee.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),q||ee&&ee.meta.paused||this._nextChunk(),ee}this._halted=!0},this._sendError=function(z){R(this._config.error)?this._config.error(z):s&&this._config.error&&n.postMessage({workerId:a.WORKER_ID,error:z,finished:!1})}}function f(Y){var z;(Y=Y||{}).chunkSize||(Y.chunkSize=a.RemoteChunkSize),c.call(this,Y),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(j){this._input=j,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(z=new XMLHttpRequest,this._config.withCredentials&&(z.withCredentials=this._config.withCredentials),r||(z.onload=M(this._chunkLoaded,this),z.onerror=M(this._chunkError,this)),z.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var j=this._config.downloadRequestHeaders;for(var V in j)z.setRequestHeader(V,j[V])}if(this._config.chunkSize){var x=this._start+this._config.chunkSize-1;z.setRequestHeader("Range","bytes="+this._start+"-"+x)}try{z.send(this._config.downloadRequestBody)}catch(ee){this._chunkError(ee.message)}r&&z.status===0&&this._chunkError()}},this._chunkLoaded=function(){z.readyState===4&&(z.status<200||400<=z.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:z.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(j){var V=j.getResponseHeader("Content-Range");return V===null?-1:parseInt(V.substring(V.lastIndexOf("/")+1))}(z),this.parseChunk(z.responseText)))},this._chunkError=function(j){var V=z.statusText||j;this._sendError(new Error(V))}}function d(Y){var z,j;(Y=Y||{}).chunkSize||(Y.chunkSize=a.LocalChunkSize),c.call(this,Y);var V=typeof FileReader<"u";this.stream=function(x){this._input=x,j=x.slice||x.webkitSlice||x.mozSlice,V?((z=new FileReader).onload=M(this._chunkLoaded,this),z.onerror=M(this._chunkError,this)):z=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var x=this._input;if(this._config.chunkSize){var ee=Math.min(this._start+this._config.chunkSize,this._input.size);x=j.call(x,this._start,ee)}var J=z.readAsText(x,this._config.encoding);V||this._chunkLoaded({target:{result:J}})},this._chunkLoaded=function(x){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(x.target.result)},this._chunkError=function(){this._sendError(z.error)}}function m(Y){var z;c.call(this,Y=Y||{}),this.stream=function(j){return z=j,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var j,V=this._config.chunkSize;return V?(j=z.substring(0,V),z=z.substring(V)):(j=z,z=""),this._finished=!z,this.parseChunk(j)}}}function p(Y){c.call(this,Y=Y||{});var z=[],j=!0,V=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(x){this._input=x,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){V&&z.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),z.length?this.parseChunk(z.shift()):j=!0},this._streamData=M(function(x){try{z.push(typeof x=="string"?x:x.toString(this._config.encoding)),j&&(j=!1,this._checkIsFinished(),this.parseChunk(z.shift()))}catch(ee){this._streamError(ee)}},this),this._streamError=M(function(x){this._streamCleanUp(),this._sendError(x)},this),this._streamEnd=M(function(){this._streamCleanUp(),V=!0,this._streamData("")},this),this._streamCleanUp=M(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(Y){var z,j,V,x=Math.pow(2,53),ee=-x,J=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,le=this,G=0,X=0,se=!1,te=!1,ie=[],re={data:[],errors:[],meta:{}};if(R(Y.step)){var be=Y.step;Y.step=function(Ue){if(re=Ue,Be())De();else{if(De(),re.data.length===0)return;G+=Ue.data.length,Y.preview&&G>Y.preview?j.abort():(re.data=re.data[0],be(re,le))}}}function we(Ue){return Y.skipEmptyLines==="greedy"?Ue.join("").trim()==="":Ue.length===1&&Ue[0].length===0}function De(){return re&&V&&(ke("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),V=!1),Y.skipEmptyLines&&(re.data=re.data.filter(function(Ue){return!we(Ue)})),Be()&&function(){if(!re)return;function Ue(vt,$t){R(Y.transformHeader)&&(vt=Y.transformHeader(vt,$t)),ie.push(vt)}if(Array.isArray(re.data[0])){for(var Ce=0;Be()&&Ce<re.data.length;Ce++)re.data[Ce].forEach(Ue);re.data.splice(0,1)}else re.data.forEach(Ue)}(),function(){if(!re||!Y.header&&!Y.dynamicTyping&&!Y.transform)return re;function Ue(vt,$t){var bt,Tt=Y.header?{}:[];for(bt=0;bt<vt.length;bt++){var It=bt,Je=vt[bt];Y.header&&(It=bt>=ie.length?"__parsed_extra":ie[bt]),Y.transform&&(Je=Y.transform(Je,It)),Je=ze(It,Je),It==="__parsed_extra"?(Tt[It]=Tt[It]||[],Tt[It].push(Je)):Tt[It]=Je}return Y.header&&(bt>ie.length?ke("FieldMismatch","TooManyFields","Too many fields: expected "+ie.length+" fields but parsed "+bt,X+$t):bt<ie.length&&ke("FieldMismatch","TooFewFields","Too few fields: expected "+ie.length+" fields but parsed "+bt,X+$t)),Tt}var Ce=1;return!re.data.length||Array.isArray(re.data[0])?(re.data=re.data.map(Ue),Ce=re.data.length):re.data=Ue(re.data,0),Y.header&&re.meta&&(re.meta.fields=ie),X+=Ce,re}()}function Be(){return Y.header&&ie.length===0}function ze(Ue,Ce){return vt=Ue,Y.dynamicTypingFunction&&Y.dynamicTyping[vt]===void 0&&(Y.dynamicTyping[vt]=Y.dynamicTypingFunction(vt)),(Y.dynamicTyping[vt]||Y.dynamicTyping)===!0?Ce==="true"||Ce==="TRUE"||Ce!=="false"&&Ce!=="FALSE"&&(function($t){if(J.test($t)){var bt=parseFloat($t);if(ee<bt&&bt<x)return!0}return!1}(Ce)?parseFloat(Ce):q.test(Ce)?new Date(Ce):Ce===""?null:Ce):Ce;var vt}function ke(Ue,Ce,vt,$t){var bt={type:Ue,code:Ce,message:vt};$t!==void 0&&(bt.row=$t),re.errors.push(bt)}this.parse=function(Ue,Ce,vt){var $t=Y.quoteChar||'"';if(Y.newline||(Y.newline=function(It,Je){It=It.substring(0,1048576);var Pt=new RegExp(k(Je)+"([^]*?)"+k(Je),"gm"),sn=(It=It.replace(Pt,"")).split("\r"),Tn=It.split(`
`),Vn=1<Tn.length&&Tn[0].length<sn[0].length;if(sn.length===1||Vn)return`
`;for(var An=0,xn=0;xn<sn.length;xn++)sn[xn][0]===`
`&&An++;return An>=sn.length/2?`\r
`:"\r"}(Ue,$t)),V=!1,Y.delimiter)R(Y.delimiter)&&(Y.delimiter=Y.delimiter(Ue),re.meta.delimiter=Y.delimiter);else{var bt=function(It,Je,Pt,sn,Tn){var Vn,An,xn,In;Tn=Tn||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var Hi=0;Hi<Tn.length;Hi++){var mt=Tn[Hi],dr=0,yi=0,Ke=0;xn=void 0;for(var Pr=new $({comments:sn,delimiter:mt,newline:Je,preview:10}).parse(It),Nr=0;Nr<Pr.data.length;Nr++)if(Pt&&we(Pr.data[Nr]))Ke++;else{var yr=Pr.data[Nr].length;yi+=yr,xn!==void 0?0<yr&&(dr+=Math.abs(yr-xn),xn=yr):xn=yr}0<Pr.data.length&&(yi/=Pr.data.length-Ke),(An===void 0||dr<=An)&&(In===void 0||In<yi)&&1.99<yi&&(An=dr,Vn=mt,In=yi)}return{successful:!!(Y.delimiter=Vn),bestDelimiter:Vn}}(Ue,Y.newline,Y.skipEmptyLines,Y.comments,Y.delimitersToGuess);bt.successful?Y.delimiter=bt.bestDelimiter:(V=!0,Y.delimiter=a.DefaultDelimiter),re.meta.delimiter=Y.delimiter}var Tt=T(Y);return Y.preview&&Y.header&&Tt.preview++,z=Ue,j=new $(Tt),re=j.parse(z,Ce,vt),De(),se?{meta:{paused:!0}}:re||{meta:{paused:!1}}},this.paused=function(){return se},this.pause=function(){se=!0,j.abort(),z=R(Y.chunk)?"":z.substring(j.getCharIndex())},this.resume=function(){le.streamer._halted?(se=!1,le.streamer.parseChunk(z,!0)):setTimeout(le.resume,3)},this.aborted=function(){return te},this.abort=function(){te=!0,j.abort(),re.meta.aborted=!0,R(Y.complete)&&Y.complete(re),z=""}}function k(Y){return Y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $(Y){var z,j=(Y=Y||{}).delimiter,V=Y.newline,x=Y.comments,ee=Y.step,J=Y.preview,q=Y.fastMode,le=z=Y.quoteChar===void 0||Y.quoteChar===null?'"':Y.quoteChar;if(Y.escapeChar!==void 0&&(le=Y.escapeChar),(typeof j!="string"||-1<a.BAD_DELIMITERS.indexOf(j))&&(j=","),x===j)throw new Error("Comment character same as delimiter");x===!0?x="#":(typeof x!="string"||-1<a.BAD_DELIMITERS.indexOf(x))&&(x=!1),V!==`
`&&V!=="\r"&&V!==`\r
`&&(V=`
`);var G=0,X=!1;this.parse=function(se,te,ie){if(typeof se!="string")throw new Error("Input must be a string");var re=se.length,be=j.length,we=V.length,De=x.length,Be=R(ee),ze=[],ke=[],Ue=[],Ce=G=0;if(!se)return In();if(q||q!==!1&&se.indexOf(z)===-1){for(var vt=se.split(V),$t=0;$t<vt.length;$t++){if(Ue=vt[$t],G+=Ue.length,$t!==vt.length-1)G+=V.length;else if(ie)return In();if(!x||Ue.substring(0,De)!==x){if(Be){if(ze=[],Tn(Ue.split(j)),Hi(),X)return In()}else Tn(Ue.split(j));if(J&&J<=$t)return ze=ze.slice(0,J),In(!0)}}return In()}for(var bt=se.indexOf(j,G),Tt=se.indexOf(V,G),It=new RegExp(k(le)+k(z),"g"),Je=se.indexOf(z,G);;)if(se[G]!==z)if(x&&Ue.length===0&&se.substring(G,G+De)===x){if(Tt===-1)return In();G=Tt+we,Tt=se.indexOf(V,G),bt=se.indexOf(j,G)}else if(bt!==-1&&(bt<Tt||Tt===-1))Ue.push(se.substring(G,bt)),G=bt+be,bt=se.indexOf(j,G);else{if(Tt===-1)break;if(Ue.push(se.substring(G,Tt)),xn(Tt+we),Be&&(Hi(),X))return In();if(J&&ze.length>=J)return In(!0)}else for(Je=G,G++;;){if((Je=se.indexOf(z,Je+1))===-1)return ie||ke.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ze.length,index:G}),An();if(Je===re-1)return An(se.substring(G,Je).replace(It,z));if(z!==le||se[Je+1]!==le){if(z===le||Je===0||se[Je-1]!==le){bt!==-1&&bt<Je+1&&(bt=se.indexOf(j,Je+1)),Tt!==-1&&Tt<Je+1&&(Tt=se.indexOf(V,Je+1));var Pt=Vn(Tt===-1?bt:Math.min(bt,Tt));if(se.substr(Je+1+Pt,be)===j){Ue.push(se.substring(G,Je).replace(It,z)),se[G=Je+1+Pt+be]!==z&&(Je=se.indexOf(z,G)),bt=se.indexOf(j,G),Tt=se.indexOf(V,G);break}var sn=Vn(Tt);if(se.substring(Je+1+sn,Je+1+sn+we)===V){if(Ue.push(se.substring(G,Je).replace(It,z)),xn(Je+1+sn+we),bt=se.indexOf(j,G),Je=se.indexOf(z,G),Be&&(Hi(),X))return In();if(J&&ze.length>=J)return In(!0);break}ke.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ze.length,index:G}),Je++}}else Je++}return An();function Tn(mt){ze.push(mt),Ce=G}function Vn(mt){var dr=0;if(mt!==-1){var yi=se.substring(Je+1,mt);yi&&yi.trim()===""&&(dr=yi.length)}return dr}function An(mt){return ie||(mt===void 0&&(mt=se.substring(G)),Ue.push(mt),G=re,Tn(Ue),Be&&Hi()),In()}function xn(mt){G=mt,Tn(Ue),Ue=[],Tt=se.indexOf(V,G)}function In(mt){return{data:ze,errors:ke,meta:{delimiter:j,linebreak:V,aborted:X,truncated:!!mt,cursor:Ce+(te||0)}}}function Hi(){ee(In()),ze=[],ke=[]}},this.abort=function(){X=!0},this.getCharIndex=function(){return G}}function C(Y){var z=Y.data,j=l[z.workerId],V=!1;if(z.error)j.userError(z.error,z.file);else if(z.results&&z.results.data){var x={abort:function(){V=!0,E(z.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:S,resume:S};if(R(j.userStep)){for(var ee=0;ee<z.results.data.length&&(j.userStep({data:z.results.data[ee],errors:z.results.errors,meta:z.results.meta},x),!V);ee++);delete z.results}else R(j.userChunk)&&(j.userChunk(z.results,x,z.file),delete z.results)}z.finished&&!V&&E(z.workerId,z.results)}function E(Y,z){var j=l[Y];R(j.userComplete)&&j.userComplete(z),j.terminate(),delete l[Y]}function S(){throw new Error("Not implemented.")}function T(Y){if(typeof Y!="object"||Y===null)return Y;var z=Array.isArray(Y)?[]:{};for(var j in Y)z[j]=T(Y[j]);return z}function M(Y,z){return function(){Y.apply(z,arguments)}}function R(Y){return typeof Y=="function"}return s&&(n.onmessage=function(Y){var z=Y.data;if(a.WORKER_ID===void 0&&z&&(a.WORKER_ID=z.workerId),typeof z.input=="string")n.postMessage({workerId:a.WORKER_ID,results:a.parse(z.input,z.config),finished:!0});else if(n.File&&z.input instanceof File||z.input instanceof Object){var j=a.parse(z.input,z.config);j&&n.postMessage({workerId:a.WORKER_ID,results:j,finished:!0})}}),(f.prototype=Object.create(c.prototype)).constructor=f,(d.prototype=Object.create(c.prototype)).constructor=d,(m.prototype=Object.create(m.prototype)).constructor=m,(p.prototype=Object.create(c.prototype)).constructor=p,a})})(mU);const K9e=mU.exports,FS=Tf(Ii.storage.csvTemplates(),{key:"id",label:"CSVTemplate",itemInitializer:i=>i,itemSerializer:i=>i});class Vb{constructor(e){je(this,"parsed");je(this,"name");je(this,"nlogs");je(this,"config");je(this,"errors");this.config=e||{name:this.config.name||this.name||"Untitled",fieldMap:{}},this.config.fieldMap=this.config.fieldMap||{},this.config.name=this.config.name||this.name||"Untitled",this.config.id=this.config.id||Jn(8)}csv(e){try{this.parsed=K9e.parse(e.trim())}catch(t){console.error("Papa parse: Line 59 csvr-import",t.message)}return this}setName(e){this.name=e}length(){var e,t,n,r;return this.config.hasHeaders?(((t=(e=this.parsed)==null?void 0:e.data)==null?void 0:t.length)||1)-1:((r=(n=this.parsed)==null?void 0:n.data)==null?void 0:r.length)||0}toFields(e=[]){let t={};return e.forEach((n,r)=>{t[`f${r}`]=n}),t}fieldsToNote(e){let t=`${this.config.template}`;return Object.keys(e).forEach(n=>{t=t.replace("{"+n+"}",e[n])}),t}getHeaders(){return this.parsed.data[0]}toLog(e,t){let n;try{let r=this.toFields(e),s=this.fieldsToNote(r);n=new gn({note:s,end:Te(e[this.config.fieldMap.end]).toDate().getTime()}),this.config.fieldMap.start!==void 0&&(n.start=Te(e[this.config.fieldMap.start]).toDate()),this.config.fieldMap.lat!==void 0&&this.config.fieldMap.lat!==void 0&&(n.lat=parseFloat(e[this.config.fieldMap.lat]),n.lng=parseFloat(e[this.config.fieldMap.lng])),this.config.fieldMap.location!==void 0&&(n.location=e[this.config.fieldMap.location]),this.config.fieldMap.source!==void 0?typeof this.config.fieldMap.source=="number"?n.source=e[this.config.fieldMap.source]:typeof this.config.fieldMap.source=="string"&&(n.source=this.config.fieldMap.source):n.source="importer"}catch(r){console.error("toLog Error",r.message),n=new gn({note:"Invalid row data"})}return n}toLogs(){let e=[];return(this.parsed.data||[]).forEach((n,r)=>{try{let s=this.toLog(n,r);e.push(s)}catch(s){console.error(s),this.errors.push(`Row #${r} errored: ${s.message}`)}}),this.config.hasHeaders&&e.shift(),e}}function ES(i,e,t){const n=i.slice();return n[52]=e[t],n}function CS(i,e,t){const n=i.slice();return n[46]=e[t],n}function DS(i){let e,t;return e=new lt({props:{bg:"light",mainClass:"py-4",$$slots:{default:[eTe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&4|r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function J9e(i){let e=Za(i[2].name,26,5)+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r[0]&4&&e!==(e=Za(n[2].name,26,5)+"")&&de(t,e)},d(n){n&&y(t)}}}function Q9e(i){let e,t=i[2].length()+"",n,r,s=i[2].parsed.data[0].length+"",l;return{c(){e=K("Records: "),n=K(t),r=K(", Columns: "),l=K(s)},m(o,a){w(o,e,a),w(o,n,a),w(o,r,a),w(o,l,a)},p(o,a){a[0]&4&&t!==(t=o[2].length()+"")&&de(n,t),a[0]&4&&s!==(s=o[2].parsed.data[0].length+"")&&de(l,s)},d(o){o&&y(e),o&&y(n),o&&y(r),o&&y(l)}}}function eTe(i){let e,t,n,r;return e=new vr({props:{size:"sm",bold:!0,$$slots:{default:[J9e]},$$scope:{ctx:i}}}),n=new vr({props:{faded:!0,size:"sm",$$slots:{default:[Q9e]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l[0]&4|l[1]&16777216&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l[0]&4|l[1]&16777216&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function tTe(i){let e,t,n,r,s,l;t=new lt({props:{className:"pb-0",$$slots:{default:[rTe]},$$scope:{ctx:i}}}),r=new lt({props:{$$slots:{default:[sTe]},$$scope:{ctx:i}}});let o=!i[2].parsed&&SS(i);return{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),s=W(),o&&o.c(),h(e,"class","")},m(a,u){w(a,e,u),O(t,e,null),D(e,n),O(r,e,null),D(e,s),o&&o.m(e,null),l=!0},p(a,u){const c={};u[0]&4|u[1]&16777216&&(c.$$scope={dirty:u,ctx:a}),t.$set(c);const f={};u[0]&4|u[1]&16777216&&(f.$$scope={dirty:u,ctx:a}),r.$set(f),a[2].parsed?o&&(ae(),v(o,1,1,()=>{o=null}),ue()):o?(o.p(a,u),u[0]&4&&_(o,1)):(o=SS(a),o.c(),_(o,1),o.m(e,null))},i(a){l||(_(t.$$.fragment,a),_(r.$$.fragment,a),_(o),l=!0)},o(a){v(t.$$.fragment,a),v(r.$$.fragment,a),v(o),l=!1},d(a){a&&y(e),I(t),I(r),o&&o.d()}}}function nTe(i){let e,t,n,r,s,l;t=new lt({props:{$$slots:{right:[uTe],default:[aTe]},$$scope:{ctx:i}}});const o=[fTe,cTe],a=[];function u(c,f){return c[2].parsed?1:0}return r=u(i),s=a[r]=o[r](i),{c(){e=P("div"),B(t.$$.fragment),n=W(),s.c(),h(e,"class","p-0 import-csv-note")},m(c,f){w(c,e,f),O(t,e,null),D(e,n),a[r].m(e,null),l=!0},p(c,f){const d={};f[0]&4|f[1]&16777216&&(d.$$scope={dirty:f,ctx:c}),t.$set(d);let m=r;r=u(c),r===m?a[r].p(c,f):(ae(),v(a[m],1,1,()=>{a[m]=null}),ue(),s=a[r],s?s.p(c,f):(s=a[r]=o[r](c),s.c()),_(s,1),s.m(e,null))},i(c){l||(_(t.$$.fragment,c),_(s),l=!0)},o(c){v(t.$$.fragment,c),v(s),l=!1},d(c){c&&y(e),I(t),a[r].d()}}}function iTe(i){let e,t,n,r,s,l,o,a;t=new lt({props:{bg:"transparent",$$slots:{default:[$Te]},$$scope:{ctx:i}}}),r=new lt({props:{$$slots:{default:[FTe]},$$scope:{ctx:i}}});let u=i[9].length&&PS(i);return{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),s=W(),u&&u.c(),l=W(),o=P("hr"),h(o,"class","divider center my-3"),h(e,"class","p-0 import-csv-home")},m(c,f){w(c,e,f),O(t,e,null),D(e,n),O(r,e,null),D(e,s),u&&u.m(e,null),D(e,l),D(e,o),a=!0},p(c,f){const d={};f[1]&16777216&&(d.$$scope={dirty:f,ctx:c}),t.$set(d);const m={};f[0]&2|f[1]&16777216&&(m.$$scope={dirty:f,ctx:c}),r.$set(m),c[9].length?u?(u.p(c,f),f[0]&512&&_(u,1)):(u=PS(c),u.c(),_(u,1),u.m(e,l)):u&&(ae(),v(u,1,1,()=>{u=null}),ue())},i(c){a||(_(t.$$.fragment,c),_(r.$$.fragment,c),_(u),a=!0)},o(c){v(t.$$.fragment,c),v(r.$$.fragment,c),v(u),a=!1},d(c){c&&y(e),I(t),I(r),u&&u.d()}}}function rTe(i){let e=i[2].config.name+"",t,n;return{c(){t=K(e),n=K(" Importer")},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s[0]&4&&e!==(e=r[2].config.name+"")&&de(t,e)},d(r){r&&y(t),r&&y(n)}}}function sTe(i){let e,t,n;function r(l){i[35](l)}let s={type:"textarea",placeholder:Fe.t("csv-import.compose-note"),rows:3};return i[2].config.template!==void 0&&(s.value=i[2].config.template),e=new Wn({props:s}),Oe.push(()=>Qe(e,"value",r,i[2].config.template)),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&4&&(t=!0,a.value=l[2].config.template,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function SS(i){let e,t;return e=new lt({props:{bg:"transparent",$$slots:{default:[oTe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lTe(i){let e;return{c(){e=K("Select the CSV to process")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function oTe(i){let e,t,n,r;return e=new vr({props:{size:"sm",faded:!0,$$slots:{default:[lTe]},$$scope:{ctx:i}}}),n=new Mw({props:{accept:"csv",label:"CSV File"}}),n.$on("file",i[36]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l[1]&16777216&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function aTe(i){let e;return{c(){e=P("span"),e.textContent="Does this have a header row?"},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function uTe(i){let e,t,n,r;function s(o){i[30](o)}let l={title:"Header Row"};return i[2].config.hasHeaders!==void 0&&(l.value=i[2].config.hasHeaders),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[2].config.hasHeaders)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a[0]&4&&(n=!0,u.value=o[2].config.hasHeaders,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function cTe(i){let e,t,n,r,s,l,o,a,u=i[13],c=[];for(let m=0;m<u.length;m+=1)c[m]=AS(ES(i,u,m));const f=m=>v(c[m],1,1,()=>{c[m]=null});s=new lt({props:{$$slots:{default:[wTe]},$$scope:{ctx:i}}});let d=GTe;return{c(){e=P("div"),t=P("div"),t.textContent=`${Fe.t("csv-import.map-fields","Map Fields")}`,n=W();for(let m=0;m<c.length;m+=1)c[m].c();r=W(),B(s.$$.fragment),l=W(),o=Ae(),h(t,"class","dark:text-white opacity-60 text-sm"),h(e,"class","px-4 pt-4")},m(m,p){w(m,e,p),D(e,t),w(m,n,p);for(let g=0;g<c.length;g+=1)c[g].m(m,p);w(m,r,p),O(s,m,p),w(m,l,p),w(m,o,p),a=!0},p(m,p){if(p[0]&536596){u=m[13];let k;for(k=0;k<u.length;k+=1){const $=ES(m,u,k);c[k]?(c[k].p($,p),_(c[k],1)):(c[k]=AS($),c[k].c(),_(c[k],1),c[k].m(r.parentNode,r))}for(ae(),k=u.length;k<c.length;k+=1)f(k);ue()}const g={};p[0]&4|p[1]&16777216&&(g.$$scope={dirty:p,ctx:m}),s.$set(g)},i(m){if(!a){for(let p=0;p<u.length;p+=1)_(c[p]);_(s.$$.fragment,m),_(d),a=!0}},o(m){c=c.filter(Boolean);for(let p=0;p<c.length;p+=1)v(c[p]);v(s.$$.fragment,m),v(d),a=!1},d(m){m&&y(e),m&&y(n),pt(c,m),m&&y(r),I(s,m),m&&y(l),m&&y(o)}}}function fTe(i){let e,t;return e=new Mw({props:{accept:"csv",label:Fe.t("csv-import.select-csv-file","Select CSV File...")}}),e.$on("file",i[31]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function TS(i){let e,t,n,r=(i[52].id=="end"||i[52].id=="start")&&dTe(i);return t=new vr({props:{size:"sm",faded:!0,$$slots:{default:[mTe]},$$scope:{ctx:i}}}),{c(){r&&r.c(),e=W(),B(t.$$.fragment)},m(s,l){r&&r.m(s,l),w(s,e,l),O(t,s,l),n=!0},p(s,l){(s[52].id=="end"||s[52].id=="start")&&r.p(s,l);const o={};l[0]&20|l[1]&16777216&&(o.$$scope={dirty:l,ctx:s}),t.$set(o)},i(s){n||(_(r),_(t.$$.fragment,s),n=!0)},o(s){v(r),v(t.$$.fragment,s),n=!1},d(s){r&&r.d(s),s&&y(e),I(t,s)}}}function dTe(i){let e,t;return e=new vr({props:{size:"sm",bold:!0,$$slots:{default:[hTe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&20|r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function hTe(i){let e,t=Te(i[4][i[2].config.fieldMap[i[52].id]]).format(`${i[12].date} ${i[12].time}`)+"",n;return{c(){e=K("Parsed: "),n=K(t)},m(r,s){w(r,e,s),w(r,n,s)},p(r,s){s[0]&20&&t!==(t=Te(r[4][r[2].config.fieldMap[r[52].id]]).format(`${r[12].date} ${r[12].time}`)+"")&&de(n,t)},d(r){r&&y(e),r&&y(n)}}}function mTe(i){let e=i[4][i[2].config.fieldMap[i[52].id]]+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r[0]&20&&e!==(e=n[4][n[2].config.fieldMap[n[52].id]]+"")&&de(t,e)},d(n){n&&y(t)}}}function pTe(i){let e=Ci.truthy(i[2].config.fieldMap[i[52].id]),t,n,r=e&&TS(i);return{c(){r&&r.c(),t=Ae()},m(s,l){r&&r.m(s,l),w(s,t,l),n=!0},p(s,l){l[0]&4&&(e=Ci.truthy(s[2].config.fieldMap[s[52].id])),e?r?(r.p(s,l),l[0]&4&&_(r,1)):(r=TS(s),r.c(),_(r,1),r.m(t.parentNode,t)):r&&(ae(),v(r,1,1,()=>{r=null}),ue())},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){r&&r.d(s),s&&y(t)}}}function _Te(i){let e;return{c(){e=P("span"),e.textContent="Map",h(e,"class","text-sm font-bold")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function gTe(i){let e,t=i[2].config.fieldMap[i[52].id]+"",n;return{c(){e=K("f"),n=K(t)},m(r,s){w(r,e,s),w(r,n,s)},p(r,s){s[0]&4&&t!==(t=r[2].config.fieldMap[r[52].id]+"")&&de(n,t)},d(r){r&&y(e),r&&y(n)}}}function vTe(i){let e,t,n,r;function s(a,u){return u[0]&4&&(e=null),e==null&&(e=!!Ci.truthy(a[2].config.fieldMap[a[52].id])),e?gTe:_Te}let l=s(i,[-1,-1]),o=l(i);return n=new et({props:{icon:Zk,size:14,className:"text-primary-500 ml-2 -mr-2"}}),{c(){o.c(),t=W(),B(n.$$.fragment)},m(a,u){o.m(a,u),w(a,t,u),O(n,a,u),r=!0},p(a,u){l===(l=s(a,u))&&o?o.p(a,u):(o.d(1),o=l(a),o&&(o.c(),o.m(t.parentNode,t)))},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){v(n.$$.fragment,a),r=!1},d(a){o.d(a),a&&y(t),I(n,a)}}}function bTe(i){let e,t,n;return t=new He({props:{color:"transparent",className:"text-primary-500",$$slots:{default:[vTe]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[0]&4|s[1]&16777216&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function AS(i){let e,t;function n(){return i[32](i[52])}return e=new lt({props:{bottomLine:16,clickable:!0,title:`${i[52].title}`,$$slots:{right:[bTe],default:[pTe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&20|s[1]&16777216&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function kTe(i){let e,t;return e=new et({props:{icon:Tp}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function yTe(i){let e,t,n;return t=new He({props:{shape:"round",color:"transparent",$$slots:{default:[kTe]},$$scope:{ctx:i}}}),t.$on("click",i[18]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[1]&16777216&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function wTe(i){let e,t,n,r,s;function l(a){i[33](a)}let o={type:"textarea",placeholder:Fe.t("csv-import.compose-note","Compose a note for this CSV data"),rows:3,$$slots:{right:[yTe]},$$scope:{ctx:i}};return i[2].config.template!==void 0&&(o.value=i[2].config.template),n=new Wn({props:o}),Oe.push(()=>Qe(n,"value",l,i[2].config.template)),{c(){e=P("div"),e.textContent="Note*",t=W(),B(n.$$.fragment),h(e,"class","dark:text-white")},m(a,u){w(a,e,u),w(a,t,u),O(n,a,u),s=!0},p(a,u){const c={};u[1]&16777216&&(c.$$scope={dirty:u,ctx:a}),!r&&u[0]&4&&(r=!0,c.value=a[2].config.template,tt(()=>r=!1)),n.$set(c)},i(a){s||(_(n.$$.fragment,a),s=!0)},o(a){v(n.$$.fragment,a),s=!1},d(a){a&&y(e),a&&y(t),I(n,a)}}}function $Te(i){let e;return{c(){e=P("span"),e.textContent=`Select any CSV to begin. You can then map the appropriate fields to turn a row of data into a Note within
            Nomie.`,h(e,"class","text-gray-500 text-sm leading-tight")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function FTe(i){let e,t;return e=new Mw({props:{accept:"csv",placeholder:"CSV File"}}),e.$on("file",i[25]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function PS(i){let e,t,n,r,s,l;n=new lt({props:{itemDivider:!0,compact:!0,className:"bg-transparent",$$slots:{right:[ATe],default:[ETe]},$$scope:{ctx:i}}});let o=i[9],a=[];for(let c=0;c<o.length;c+=1)a[c]=MS(CS(i,o,c));const u=c=>v(a[c],1,1,()=>{a[c]=null});return{c(){e=P("hr"),t=W(),B(n.$$.fragment),r=W();for(let c=0;c<a.length;c+=1)a[c].c();s=Ae(),h(e,"class","divider center my-2")},m(c,f){w(c,e,f),w(c,t,f),O(n,c,f),w(c,r,f);for(let d=0;d<a.length;d+=1)a[d].m(c,f);w(c,s,f),l=!0},p(c,f){const d={};if(f[0]&128|f[1]&16777216&&(d.$$scope={dirty:f,ctx:c}),n.$set(d),f[0]&5243520){o=c[9];let m;for(m=0;m<o.length;m+=1){const p=CS(c,o,m);a[m]?(a[m].p(p,f),_(a[m],1)):(a[m]=MS(p),a[m].c(),_(a[m],1),a[m].m(s.parentNode,s))}for(ae(),m=o.length;m<a.length;m+=1)u(m);ue()}},i(c){if(!l){_(n.$$.fragment,c);for(let f=0;f<o.length;f+=1)_(a[f]);l=!0}},o(c){v(n.$$.fragment,c),a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)v(a[f]);l=!1},d(c){c&&y(e),c&&y(t),I(n,c),c&&y(r),pt(a,c),c&&y(s)}}}function ETe(i){let e=Fe.t("csv-import.saved-templates","Saved Templates")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function CTe(i){let e,t;return e=new He({props:{size:"sm",color:"transparent",className:"text-red",$$slots:{default:[STe]},$$scope:{ctx:i}}}),e.$on("click",i[27]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function DTe(i){let e,t;return e=new He({props:{color:"transparent",size:"sm",$$slots:{default:[TTe]},$$scope:{ctx:i}}}),e.$on("click",i[26]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function STe(i){let e=Fe.t("general.done","Done")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function TTe(i){let e=Fe.t("general.edit","Edit")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function ATe(i){let e,t,n,r;const s=[DTe,CTe],l=[];function o(a,u){return a[7]!="edit"?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function PTe(i){let e=i[46].name+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r[0]&512&&e!==(e=n[46].name+"")&&de(t,e)},d(n){n&&y(t)}}}function NTe(i){let e=i[46].template+"",t,n=Object.keys(i[46].fieldMap)+"",r;return{c(){t=K(e),r=K(n)},m(s,l){w(s,t,l),w(s,r,l)},p(s,l){l[0]&512&&e!==(e=s[46].template+"")&&de(t,e),l[0]&512&&n!==(n=Object.keys(s[46].fieldMap)+"")&&de(r,n)},d(s){s&&y(t),s&&y(r)}}}function MTe(i){let e,t,n,r,s;return e=new vr({props:{bold:!0,$$slots:{default:[PTe]},$$scope:{ctx:i}}}),n=new vr({props:{size:"sm",faded:!0,$$slots:{default:[NTe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W()},m(l,o){O(e,l,o),w(l,t,o),O(n,l,o),w(l,r,o),s=!0},p(l,o){const a={};o[0]&512|o[1]&16777216&&(a.$$scope={dirty:o,ctx:l}),e.$set(a);const u={};o[0]&512|o[1]&16777216&&(u.$$scope={dirty:o,ctx:l}),n.$set(u)},i(l){s||(_(e.$$.fragment,l),_(n.$$.fragment,l),s=!0)},o(l){v(e.$$.fragment,l),v(n.$$.fragment,l),s=!1},d(l){I(e,l),l&&y(t),I(n,l),l&&y(r)}}}function NS(i){let e,t;function n(...r){return i[28](i[46],...r)}return e=new He({props:{size:"sm",color:"danger",$$slots:{default:[LTe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s[1]&16777216&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function LTe(i){let e;return{c(){e=K("Delete")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function OTe(i){let e,t,n,r=i[7]=="edit"&&NS(i);return{c(){e=P("div"),r&&r.c(),t=W(),h(e,"slot","right")},m(s,l){w(s,e,l),r&&r.m(e,null),D(e,t),n=!0},p(s,l){s[7]=="edit"?r?(r.p(s,l),l[0]&128&&_(r,1)):(r=NS(s),r.c(),_(r,1),r.m(e,t)):r&&(ae(),v(r,1,1,()=>{r=null}),ue())},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(e),r&&r.d()}}}function MS(i){let e,t;function n(){return i[29](i[46])}return e=new lt({props:{detail:!0,clickable:i[7]=="list",$$slots:{right:[OTe],default:[MTe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&128&&(l.clickable=i[7]=="list"),s[0]&640|s[1]&16777216&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function LS(i){let e,t,n=i[6].note&&i[6].note!=="null"&&OS(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[6].note&&r[6].note!=="null"?n?(n.p(r,s),s[0]&64&&_(n,1)):(n=OS(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function OS(i){let e,t,n,r,s,l,o,a,u=i[2].length()+"",c,f,d,m,p,g,k,$,C,E;return e=new hi({}),p=new mh({props:{hideCal:!0}}),p.$on("next",i[10]),p.$on("previous",i[11]),k=new mc({props:{log:i[6]}}),C=new lt({props:{$$slots:{default:[BTe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),n=P("div"),r=P("div"),s=P("div"),l=K("Preview "),o=K(i[3]),a=K(" of "),c=K(u),f=W(),d=P("div"),m=W(),B(p.$$.fragment),g=W(),B(k.$$.fragment),$=W(),B(C.$$.fragment),h(s,"class","main dark:text-white text-sm"),h(d,"class","filler"),h(r,"class","n-toolbar flex pl-2"),h(n,"class","examples bg-inverse-2 p-2 px-4")},m(S,T){O(e,S,T),w(S,t,T),w(S,n,T),D(n,r),D(r,s),D(s,l),D(s,o),D(s,a),D(s,c),D(r,f),D(r,d),D(r,m),O(p,r,null),D(n,g),O(k,n,null),w(S,$,T),O(C,S,T),E=!0},p(S,T){(!E||T[0]&8)&&de(o,S[3]),(!E||T[0]&4)&&u!==(u=S[2].length()+"")&&de(c,u);const M={};T[0]&64&&(M.log=S[6]),k.$set(M);const R={};T[0]&4|T[1]&16777216&&(R.$$scope={dirty:T,ctx:S}),C.$set(R)},i(S){E||(_(e.$$.fragment,S),_(p.$$.fragment,S),_(k.$$.fragment,S),_(C.$$.fragment,S),E=!0)},o(S){v(e.$$.fragment,S),v(p.$$.fragment,S),v(k.$$.fragment,S),v(C.$$.fragment,S),E=!1},d(S){I(e,S),S&&y(t),S&&y(n),I(p),I(k),S&&y($),I(C,S)}}}function ITe(i){let e,t=i[2].length()+"",n,r;return{c(){e=K("Import "),n=K(t),r=K(" Logs...")},m(s,l){w(s,e,l),w(s,n,l),w(s,r,l)},p(s,l){l[0]&4&&t!==(t=s[2].length()+"")&&de(n,t)},d(s){s&&y(e),s&&y(n),s&&y(r)}}}function BTe(i){let e,t;return e=new He({props:{primary:!0,block:!0,$$slots:{default:[ITe]},$$scope:{ctx:i}}}),e.$on("click",i[16]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&4|r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function RTe(i){let e,t,n,r,s,l=i[6]&&Ci.truthy(i[3])&&i[2].parsed,o,a=i[2]&&i[2].name&&DS(i);const u=[iTe,nTe,tTe],c=[];function f(m,p){return m[8]&&m[8].id=="home"?0:m[8]&&m[8].id=="note"&&m[2]?1:m[8]&&m[8].id=="template"&&m[2]?2:-1}~(n=f(i))&&(r=c[n]=u[n](i));let d=l&&LS(i);return{c(){e=P("main"),a&&a.c(),t=W(),r&&r.c(),s=W(),d&&d.c(),h(e,"class","page page-csv-import flex-column")},m(m,p){w(m,e,p),a&&a.m(e,null),D(e,t),~n&&c[n].m(e,null),D(e,s),d&&d.m(e,null),o=!0},p(m,p){m[2]&&m[2].name?a?(a.p(m,p),p[0]&4&&_(a,1)):(a=DS(m),a.c(),_(a,1),a.m(e,t)):a&&(ae(),v(a,1,1,()=>{a=null}),ue());let g=n;n=f(m),n===g?~n&&c[n].p(m,p):(r&&(ae(),v(c[g],1,1,()=>{c[g]=null}),ue()),~n?(r=c[n],r?r.p(m,p):(r=c[n]=u[n](m),r.c()),_(r,1),r.m(e,s)):r=null),p[0]&76&&(l=m[6]&&Ci.truthy(m[3])&&m[2].parsed),l?d?(d.p(m,p),p[0]&76&&_(d,1)):(d=LS(m),d.c(),_(d,1),d.m(e,null)):d&&(ae(),v(d,1,1,()=>{d=null}),ue())},i(m){o||(_(a),_(r),_(d),o=!0)},o(m){v(a),v(r),v(d),o=!1},d(m){m&&y(e),a&&a.d(),~n&&c[n].d(),d&&d.d()}}}function zTe(i){let e;return{c(){e=P("div"),e.textContent="Import CSV",h(e,"class","ntitle main")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function jTe(i){let e;return{c(){e=K("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function YTe(i){let e,t;return e=new He({props:{primary:!0,slot:"left",className:"text-primary-500",$$slots:{default:[jTe]},$$scope:{ctx:i}}}),e.$on("click",i[24]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function UTe(i){let e,t;return e=new He({props:{color:"clear",$$slots:{default:[qTe]},$$scope:{ctx:i}}}),e.$on("click",i[21]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function WTe(i){return{c:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function qTe(i){let e;return{c(){e=K("Edit")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function HTe(i){let e,t,n,r;const s=[WTe,UTe],l=[];function o(a,u){return a[8]&&a[8].id=="note"?0:a[8]&&a[8].id=="template"?1:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=P("div"),n&&n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function VTe(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{right:[HTe],left:[YTe],default:[zTe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&257|r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xTe(i){let e,t;return e=new ti({props:{className:"import",showCapture:!1,$$slots:{header:[VTe],default:[RTe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1023|r[1]&16777216&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}let GTe=!1;function ZTe(i,e,t){let n,r;Le(i,FS,Ce=>t(9,r=Ce));let s="home",l,o,a=0,u,c=!1,f,d="list",{id:m="csv-import"}=e,{fileUpload:p}=e;p&&(l=l||new Vb({}),l.csv(p.data),l.setName(p.file.name),s="note");async function g(){let Ce=a+0;Ce<l.length()-1?t(3,a=Ce+1):t(3,a=0)}async function k(){let Ce=a+0;Ce!==1?t(3,a=Ce-1):t(3,a=l.length()-1)}let $=[{title:"Import CSV",id:"home"},{title:"Compose Note",id:"note"},{title:"Template",id:"template"}];function C(Ce,vt){t(2,l.config.fieldMap[Ce]=o,l),M()}const E=pi(),S=[{title:"End Time*",required:!0,id:"end",click(){C("end")}},{title:"Start Time",id:"start",click(){C("start")}},{title:"Latitude",id:"lat",click(){C("lat")}},{title:"Longitude",id:"lng",click(){C("lng")}},{title:"Location Name",id:"location",click(){C("location")}},{title:"Source",id:"source",click(){C("source")}}];function T(Ce){o=Ce,at.popmenu({title:`Map ${l?l.getHeaders()[Ce]:"Unknown"}`,buttons:S,id:"field-map"})}function M(){t(5,c=!0),Lt(100,()=>{t(5,c=!1)})}function R(Ce){let vt=null;return l&&l.config&&l.config.fieldMap&&(vt=Object.keys(l.config.fieldMap).find($t=>l.config.fieldMap[$t]==Ce)),vt}async function Y(){await at.confirm("Warning",`This will add ${l.length()} new records to your data. Be 100% sure everything is accurate.
      If you're unsure, launch Nomie in a private browswer and test on a local only account. Also, backup if you haven't for a while.`)&&(l.length()>1e3?at.blocker("Importer starting. With this many records it might freeze the UI, just give it time..."):at.blocker("Importer starting up..."),await new hU().logs(l.toLogs()).importLogs($t=>{at.blocker($t.message)}),at.stopBlocker(),qn({message:"Import complete"}))}async function z(Ce){let vt=Ce.detail;return vt.data&&(t(2,l=l||new Vb({})),l.csv(vt.data),l.setName(vt.file.name)),!0}async function j(){let Ce=await V("Select a field to Insert into the note");Ce&&t(2,l.config.template=`${l.config.template||""}{f${Ce.index}}`.trim(),l)}function V(Ce){return new Promise((vt,$t)=>{let bt=l.getHeaders().map((Tt,It)=>({title:`${Tt}`,description:`f${It}: ${Za(u[It],60)}`,click(){vt({header:Tt,index:It})}}));at.popmenu({id:"field-map-menu",title:Ce,description:`Which field maps to ${Ce}?`,buttons:bt})})}async function x(Ce){let vt=await V(`${Ce.title}`);Ci.truthy(vt)&&t(2,l.config.fieldMap[Ce.id]=vt.index,l)}async function ee(Ce){t(2,l=new Vb(Ce)),t(1,s="template")}async function J(){t(1,s="note")}async function q(Ce){await at.confirm(`Remove ${Ce.name} Importer?`,"You can always remake it")&&(alert("TODO"),qn({message:"Removed"}))}async function le(){await FS.init()}Yt(le);const G=()=>{tn(m)},X=async Ce=>{await z(Ce),t(1,s="note")},se=()=>{t(7,d="edit")},te=()=>{t(7,d="list")},ie=(Ce,vt)=>{q(Ce)},re=Ce=>{d=="list"&&ee(Ce)};function be(Ce){i.$$.not_equal(l.config.hasHeaders,Ce)&&(l.config.hasHeaders=Ce,t(2,l))}const we=async Ce=>{await z(Ce)},De=Ce=>{x(Ce)};function Be(Ce){i.$$.not_equal(l.config.template,Ce)&&(l.config.template=Ce,t(2,l))}const ze=Ce=>{T(Ce)};function ke(Ce){i.$$.not_equal(l.config.template,Ce)&&(l.config.template=Ce,t(2,l))}const Ue=async Ce=>{await z(Ce)};return i.$$set=Ce=>{"id"in Ce&&t(0,m=Ce.id),"fileUpload"in Ce&&t(23,p=Ce.fileUpload)},i.$$.update=()=>{i.$$.dirty[0]&28&&l&&l.parsed&&l.parsed.data&&(l.length()>1&&a==0&&t(3,a=1),t(4,u=l.parsed.data[a]),t(6,f=l.toLog(u))),i.$$.dirty[0]&2&&t(8,n=$.find(Ce=>Ce.id==s))},[m,s,l,a,u,c,f,d,n,r,g,k,E,S,T,R,Y,z,j,x,ee,J,q,p,G,X,se,te,ie,re,be,we,De,Be,ze,ke,Ue]}class XTe extends pe{constructor(e){super(),me(this,e,ZTe,xTe,he,{id:0,fileUpload:23},null,[-1,-1])}}const Lw=i=>{On({id:"importer",component:W9e,componentProps:{fileData:i},position:"bottom"})},IS=()=>{tn("importer")},KTe=i=>{On({id:"csv-importer",component:XTe,componentProps:{fileUpload:i}})};var JTe=function(e){return QTe(e)&&!eAe(e)};function QTe(i){return!!i&&typeof i=="object"}function eAe(i){var e=Object.prototype.toString.call(i);return e==="[object RegExp]"||e==="[object Date]"||iAe(i)}var tAe=typeof Symbol=="function"&&Symbol.for,nAe=tAe?Symbol.for("react.element"):60103;function iAe(i){return i.$$typeof===nAe}function rAe(i){return Array.isArray(i)?[]:{}}function vp(i,e){return e.clone!==!1&&e.isMergeableObject(i)?nh(rAe(i),i,e):i}function sAe(i,e,t){return i.concat(e).map(function(n){return vp(n,t)})}function lAe(i,e){if(!e.customMerge)return nh;var t=e.customMerge(i);return typeof t=="function"?t:nh}function oAe(i){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(i).filter(function(e){return i.propertyIsEnumerable(e)}):[]}function BS(i){return Object.keys(i).concat(oAe(i))}function pU(i,e){try{return e in i}catch{return!1}}function aAe(i,e){return pU(i,e)&&!(Object.hasOwnProperty.call(i,e)&&Object.propertyIsEnumerable.call(i,e))}function uAe(i,e,t){var n={};return t.isMergeableObject(i)&&BS(i).forEach(function(r){n[r]=vp(i[r],t)}),BS(e).forEach(function(r){aAe(i,r)||(pU(i,r)&&t.isMergeableObject(e[r])?n[r]=lAe(r,t)(i[r],e[r],t):n[r]=vp(e[r],t))}),n}function nh(i,e,t){t=t||{},t.arrayMerge=t.arrayMerge||sAe,t.isMergeableObject=t.isMergeableObject||JTe,t.cloneUnlessOtherwiseSpecified=vp;var n=Array.isArray(e),r=Array.isArray(i),s=n===r;return s?n?t.arrayMerge(i,e,t):uAe(i,e,t):vp(e,t)}nh.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,r){return nh(n,r,t)},{})};var cAe=nh,_U=cAe;const fAe=(i,e)=>i instanceof Array?dAe(i,e):_U(i,e),dAe=(i,e)=>{const t=["_id","key","id"];let n="id";if(i.length||e.length){let r=i[0]||e[0];t.forEach(a=>{r.hasOwnProperty(a)&&(n=a)});let s={};return[...i,...e].forEach((a,u)=>{let c=a[n];s[c]=s[c]||[],s[c].push({item:a,index:u})}),Object.keys(s).map(a=>{let u=s[a];return u.length>1?{item:_U(u[0].item,u[1].item),index:u[0].index}:u[0]}).sort((a,u)=>a.index>u.index?1:-1).map(a=>a.item)}else return[]},hAe=async i=>{const e={},t=await _n.list(),n=tw(t,10);at.blocker("Starting Exporter...",0),await Lt(200);for(let s=0;s<n.length;s++){let l=n[s];for(let o=0;o<l.length;o++){let a=_n.convertPath(l[o]);at.blocker(`${a}`,Nt.percentage(n.length-1,s));let u=await _n.get(a);u&&(e[a]=u)}}const r={version:`${pf}`,created:new Date,files:e};await kh.json(`n${pf}-${Te().format("YYYY-MM-DD-H")}.json`,r),at.stopBlocker()},gU=async(i=!0)=>{const e=await X1e(".json,.csv");if(`${e.file.name}`.toLowerCase().endsWith(".csv"))IS(),KTe(e);else{const t=JSON.parse(e.data);if(t&&t.type&&t.type=="template"){const n=cU(t);return await dk(n)}else{if(t.files&&t.version.substring(0,1)==="6")return await dk(t);if(t.type==="tracker"&&t.tracker){const n=new qi(t.tracker);await at.confirm(`Install ${n.tag}?`)&&E0({trackable:n.toTrackable(),known:Fd,permissions:{},prompt:!0})}else IS(),await Lt(300),Lw(t)}}},dk=async(i,e={})=>{const t=Object.keys(i.files).map(r=>({path:r,content:i.files[r]}));if(e.silent?!0:await at.confirm("Import?",`This ${i.version} archive contains ${Object.keys(i.files).length} files. This action cannot be undone.`)){const r=tw(t,10),s=[],l=[];for(let o=0;o<r.length;o++){const a=r[o];for(let u=0;u<a.length;u++){at.blocker(`${a[u].path}`,Nt.percentage(t.length,l.length));try{let c=a[u].path,f=a[u].content;const d=await _n.get(c);if(d&&typeof d!="string"){let m=fAe(d,f);await _n.put(c,m)}else await _n.put(c,f);l.push(c)}catch(c){s.push({path:a[u].path,e:c})}}}return at.stopBlocker(),e.silent?!0:s.length?(console.error(s),await at.alert("Notice",`${s.length} files errored on Import. Check your console to see the details`),window.location.reload(),!0):(await at.alert(`Successfully imported ${t.length} files`),window.location.reload(),!0)}},bp=Tf(Ii.storage.templates(),{key:"id",label:"Template",itemInitializer:i=>new hw(i),itemSerializer:i=>i.asObject}),mAe=()=>{On({id:"template-manager",component:QSe})},pAe=()=>{tn("template-manager")},vU=async i=>{try{const e=i||await at.prompt("Template URL","Full url to the template",{placeholder:"https://url-to-template"});if(`${e||""}`.length)if(Ci.url(e))Ow(e);else throw new Error("Invalid URL, please try again")}catch(e){at.error(`${e.message}`)}},Ow=async i=>{try{const t=await(await fetch(i)).json();if(t&&t.type=="template"){const n=new hw(t);return _Ae(n)}else throw new Error("Invalid Template Type")}catch(e){at.error(`${e}`)}},_Ae=i=>{On({id:"template-preview",component:m7e,componentProps:{template:i}})},bU=i=>{On({id:"template-editor",component:ASe,componentProps:{template:i}})},gAe=async i=>{if(await at.confirm(`Install the ${i.name} template?`)){const t=cU(i,Op().useMetric);await dk(t,{silent:!0}),qn({message:`${i.name} installed`}),tn("template-preview");let n=await Af();_w(),n1(n)}};function RS(i,e,t){const n=i.slice();return n[1]=e[t],n[3]=t,n}function vAe(i){let e=i[1].title+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function bAe(i){let e,t,n;return e=new al({props:{$$slots:{default:[vAe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W()},m(r,s){O(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&16&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){I(e,r),r&&y(t)}}}function zS(i){let e,t;function n(){return i[0](i[1])}return e=new lt({props:{detail:!0,bottomLine:16,clickable:!0,$$slots:{default:[bAe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&16&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function kAe(i){let e,t,n=nk,r=[];for(let l=0;l<n.length;l+=1)r[l]=zS(RS(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,[o]){if(o&0){n=nk;let a;for(a=0;a<n.length;a+=1){const u=RS(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=zS(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function yAe(i){return[t=>{Ow(t.url)}]}class kU extends pe{constructor(e){super(),me(this,e,yAe,kAe,he,{})}}function jS(i,e,t){const n=i.slice();return n[17]=e[t],n}function YS(i){let e,t;return e=new jt({props:{className:"mb-6",$$slots:{default:[PAe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1048582&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wAe(i){let e,t;return e=new zi({props:{title:"No results"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $Ae(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=US(jS(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&14){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=jS(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=US(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function FAe(i){let e,t=i[17].label+"",n,r;return{c(){e=P("h1"),n=K(t),r=W()},m(s,l){w(s,e,l),D(e,n),w(s,r,l)},p(s,l){l&2&&t!==(t=s[17].label+"")&&de(n,t)},d(s){s&&y(e),s&&y(r)}}}function EAe(i){let e,t;return e=new er({props:{trackable:i[17],size:42,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.trackable=n[17]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function CAe(i){let e,t;return e=new He({props:{size:"sm",shape:"round",className:"bg-gray-600 opacity-25 text-white",$$slots:{default:[SAe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1048576&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function DAe(i){let e,t;function n(){return i[10](i[17])}return e=new He({props:{size:"sm",shape:"round",className:"bg-gray-600 text-white",$$slots:{default:[TAe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&1048576&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function SAe(i){let e;return{c(){e=K("Added")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function TAe(i){let e;return{c(){e=K("Add")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function AAe(i){let e,t,n,r,s;const l=[DAe,CAe],o=[];function a(u,c){return u[2].trackables[u[17].tag]?1:0}return t=a(i),n=o[t]=l[t](i),{c(){e=P("div"),n.c(),r=W(),h(e,"slot","right")},m(u,c){w(u,e,c),o[t].m(e,null),D(e,r),s=!0},p(u,c){let f=t;t=a(u),t===f?o[t].p(u,c):(ae(),v(o[f],1,1,()=>{o[f]=null}),ue(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,r))},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),o[t].d()}}}function US(i){let e,t;return e=new lt({props:{bottomLine:78,$$slots:{right:[AAe],left:[EAe],default:[FAe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1048582&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function PAe(i){let e,t,n,r,s,l;const o=[$Ae,wAe],a=[];function u(c,f){return c[1]&&c[1].length?0:1}return n=u(i),r=a[n]=o[n](i),{c(){e=P("header"),e.textContent="Search Results",t=W(),r.c(),s=Ae(),h(e,"class","list-header")},m(c,f){w(c,e,f),w(c,t,f),a[n].m(c,f),w(c,s,f),l=!0},p(c,f){let d=n;n=u(c),n===d?a[n].p(c,f):(ae(),v(a[d],1,1,()=>{a[d]=null}),ue(),r=a[n],r?r.p(c,f):(r=a[n]=o[n](c),r.c()),_(r,1),r.m(s.parentNode,s))},i(c){l||(_(r),l=!0)},o(c){v(r),l=!1},d(c){c&&y(e),c&&y(t),a[n].d(c),c&&y(s)}}}function NAe(i){let e,t;return e=new kU({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function MAe(i){let e,t,n,r=i[0]&&YS(i);return t=new jt({props:{solo:!0,outside:!0,title:"Templates",$$slots:{default:[NAe]},$$scope:{ctx:i}}}),{c(){r&&r.c(),e=W(),B(t.$$.fragment)},m(s,l){r&&r.m(s,l),w(s,e,l),O(t,s,l),n=!0},p(s,l){s[0]?r?(r.p(s,l),l&1&&_(r,1)):(r=YS(s),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ae(),v(r,1,1,()=>{r=null}),ue());const o={};l&1048576&&(o.$$scope={dirty:l,ctx:s}),t.$set(o)},i(s){n||(_(r),_(t.$$.fragment,s),n=!0)},o(s){v(r),v(t.$$.fragment,s),n=!1},d(s){r&&r.d(s),s&&y(e),I(t,s)}}}function LAe(i){let e;return{c(){e=P("h1"),e.textContent=`${Fe.t("library.tracker-library","Tracker Library")}`,h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function OAe(i){let e;return{c(){e=K("Done")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function IAe(i){let e,t;return e=new He({props:{clear:!0,primary:!0,slot:"left",$$slots:{default:[OAe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1048576&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function BAe(i){let e,t,n,r,s,l,o,a;t=new Sn({props:{className:"bg-white dark:bg-gray-900",$$slots:{left:[IAe],default:[LAe]},$$scope:{ctx:i}}});function u(f){i[9](f)}let c={};return i[0]!==void 0&&(c.searchTerm=i[0]),r=new Nf({props:c}),Oe.push(()=>Qe(r,"searchTerm",u,i[0])),{c(){e=P("header"),B(t.$$.fragment),n=W(),B(r.$$.fragment),l=W(),o=P("div"),o.textContent="\xA0",h(o,"class","h-1"),h(e,"slot","header"),h(e,"class","bg-white dark:bg-gray-900 mb-2")},m(f,d){w(f,e,d),O(t,e,null),D(e,n),O(r,e,null),D(e,l),D(e,o),a=!0},p(f,d){const m={};d&1048576&&(m.$$scope={dirty:d,ctx:f}),t.$set(m);const p={};!s&&d&1&&(s=!0,p.searchTerm=f[0],tt(()=>s=!1)),r.$set(p)},i(f){a||(_(t.$$.fragment,f),_(r.$$.fragment,f),a=!0)},o(f){v(t.$$.fragment,f),v(r.$$.fragment,f),a=!1},d(f){f&&y(e),I(t),I(r)}}}function RAe(i){let e,t;return e=new ti({props:{$$slots:{header:[BAe],default:[MAe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&1048583&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zAe(i,e,t){let n,r,s,l;Le(i,w0,$=>t(12,n=$)),Le(i,en,$=>t(2,r=$)),Le(i,Ht,$=>t(13,s=$)),Le(i,Iw,$=>t(8,l=$));let{id:o}=e,a=!1,u=[],c=[],f;Yt(()=>{t(6,a=!0)});async function d($){const C=$ instanceof qi?$:new qi($),E=new D0(C.uom),S=s.useMetric?"metric":"imperial";E.system!==S&&E.system!=="both"&&(C.uom=E.convertTo(S).id,C.default=E.convertValueTo(C.default||0,S));const T=C.toTrackable();r.trackables.hasOwnProperty(`#${C.tag}`)?qn({message:"Already installed"}):await E0({trackable:T,known:r.trackables,saveToActiveBoard:!1,permissions:{},prompt:!1})&&(await i1([T],n),ol.update(R=>R),qn({message:`${T.tag} added`}))}const m=$=>{const C=[];return u.forEach(E=>{E.trackers.forEach(S=>{C.push(S.toTrackable())})}),C.filter(E=>JSON.stringify(E).toLowerCase().search($.toLowerCase())>-1)},p=async()=>{tn(o)};function g($){f=$,t(0,f)}const k=$=>{d($.tracker)};return i.$$set=$=>{"id"in $&&t(5,o=$.id)},i.$$.update=()=>{i.$$.dirty&448&&l&&!u.length&&a&&t(7,u=[]),i.$$.dirty&1&&f&&t(1,c=m(f))},[f,c,r,d,p,o,a,u,l,g,k]}class jAe extends pe{constructor(e){super(),me(this,e,zAe,RAe,he,{id:5})}}new lc("\u{1F4DA} Nomie Library");const YAe=()=>{const{update:i,subscribe:e,set:t}=rn({trackers:[],show:!1,first:!1,activeBundle:null});return{update:i,subscribe:e,set:t,...{toggle(){i(r=>(r.show=!r.show,r.first=!1,r))},presentBundle(r){i(s=>(s.activeBundle=r,s))},installBundle(r){},showFirst(){i(r=>(r.show=!0,r.first=!0,r))}}}},Iw=YAe(),UAe=(i=!1)=>{Iw.update(e=>(e.show=!0,e)),On({id:"trackable-library",component:jAe,componentProps:{first:i}})};function WAe(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Filter Circle"),r=ye("path"),s=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-width","32"),h(r,"stroke-miterlimit","10"),h(r,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-width","32"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"d","M144 208h224M176 272h160M224 336h64"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function qAe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class HAe extends pe{constructor(e){super(),me(this,e,qAe,WAe,he,{size:0})}}function VAe(i){let e,t,n,r,s,l,o,a;return{c(){e=ye("svg"),t=ye("title"),n=K("Repeat"),r=ye("path"),s=ye("path"),l=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M320 120l48 48-48 48"),h(s,"d","M352 168H144a80.24 80.24 0 00-80 80v16M192 392l-48-48 48-48"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(l,"d","M160 344h208a80.24 80.24 0 0080-80v-16"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linecap","round"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:Z,o:Z,d(u){u&&y(e)}}}function xAe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class GAe extends pe{constructor(e){super(),me(this,e,xAe,VAe,he,{size:0})}}function ZAe(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Play Back Circle"),r=ye("path"),s=ye("path"),h(r,"d","M256 448c106 0 192-86 192-192S362 64 256 64 64 150 64 256s86 192 192 192z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"d","M117.23 246.7l114.45-69.14a10.78 10.78 0 0116.32 9.31v53.32l103.68-62.63a10.78 10.78 0 0116.32 9.31v138.26a10.78 10.78 0 01-16.32 9.31L248 271.81v53.32a10.78 10.78 0 01-16.32 9.31L117.23 265.3a10.89 10.89 0 010-18.6z"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function XAe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class KAe extends pe{constructor(e){super(),me(this,e,XAe,ZAe,he,{size:0})}}function JAe(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Bookmarks"),r=ye("path"),s=ye("path"),h(r,"d","M128 80V64a48.14 48.14 0 0148-48h224a48.14 48.14 0 0148 48v368l-80-64"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"d","M320 96H112a48.14 48.14 0 00-48 48v352l152-128 152 128V144a48.14 48.14 0 00-48-48z"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function QAe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class yU extends pe{constructor(e){super(),me(this,e,QAe,JAe,he,{size:0})}}let wU=[{view:"all",icon:hB,label:`${Fe.t("general.all","All")}`,reduce:i=>i.length},{view:"context",icon:yU,label:`${Fe.t("general.context","Context")}`,reduce:i=>i.length},{view:"notes",icon:fB,label:`${Fe.t("general.notes","Notes")}`,reduce:i=>i.filter(e=>e.hasNote).length},{view:"people",icon:cB,label:`${Fe.t("general.people","People")}`,reduce:i=>i.filter(e=>(e.getMeta(),e.people&&e.people.length>0)).length},{view:"locations",icon:dB,label:`${Fe.t("general.locations","Locations")}`,reduce:i=>{const e={};return i.filter(t=>{if(t.lat){const n=`${Nt.round(t.lat,100)},${Nt.round(t.lng,100)}`;return e[n]?!1:(e[n]=!0,!0)}else return!1}).length}}];function $U(i){return i.filter(t=>AR(t.note)).sort((t,n)=>t.end<n.end?1:-1)}function FU(i){let e=[];return i.forEach(t=>{t.context.forEach(n=>{const r=n.id;r&&e.indexOf(r)===-1&&e.push(r)})}),e}function EU(i,e={}){let t=[];return i.forEach(n=>{n.people.forEach(r=>{let s=e[r.id];s&&t.indexOf(s)===-1&&t.push(s)})}),t}function CU(i,e={}){return Object.keys(i).map(n=>{let r=i[n],s=e&&e[n]?new qi(e[n]):new qi({tag:n}),l=s.math=="sum"?Nt.sum(r.values):Nt.average(r.values);return{tag:n,tracker:s,values:r.values,count:r.values.length,value:s.displayValue(l)}}).sort((n,r)=>n.tracker.label>r.tracker.label?1:-1)}function ePe(i){let e,t,n,r;const s=i[8].default,l=nt(s,i,i[7],null);return{c(){e=P("div"),l&&l.c(),h(e,"class",t="nc-grid "+i[0]+" svelte-15ryzxy"),h(e,"style",n="--columnFr: "+i[2]+"; --columnDots: "+i[3]+"; --gap: "+i[4]+"; "+i[1])},m(o,a){w(o,e,a),l&&l.m(e,null),r=!0},p(o,[a]){l&&l.p&&(!r||a&128)&&rt(l,s,o,o[7],r?it(s,o[7],a,null):st(o[7]),null),(!r||a&1&&t!==(t="nc-grid "+o[0]+" svelte-15ryzxy"))&&h(e,"class",t),(!r||a&30&&n!==(n="--columnFr: "+o[2]+"; --columnDots: "+o[3]+"; --gap: "+o[4]+"; "+o[1]))&&h(e,"style",n)},i(o){r||(_(l,o),r=!0)},o(o){v(l,o),r=!1},d(o){o&&y(e),l&&l.d(o)}}}function tPe(i,e,t){let{$$slots:n={},$$scope:r}=e,{columns:s=3}=e,{gap:l=2}=e,{className:o=""}=e,{style:a=""}=e,u="1fr 1fr 1fr",c=". . .",f="2px 2px";return i.$$set=d=>{"columns"in d&&t(5,s=d.columns),"gap"in d&&t(6,l=d.gap),"className"in d&&t(0,o=d.className),"style"in d&&t(1,a=d.style),"$$scope"in d&&t(7,r=d.$$scope)},i.$$.update=()=>{i.$$.dirty&96&&s&&(t(2,u=Array(s).fill("1fr").join(" ")),t(3,c=Array(s).fill(".").join(" ")),t(4,f=`${l}px`))},[o,a,u,c,f,s,l,r,n]}class nPe extends pe{constructor(e){super(),me(this,e,tPe,ePe,he,{columns:5,gap:6,className:0,style:1})}}var qe={exports:{}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(i,e){(function(t,n){n(e)})(fi,function(t){var n="1.9.3";function r(b){var A,U,Q,oe;for(U=1,Q=arguments.length;U<Q;U++){oe=arguments[U];for(A in oe)b[A]=oe[A]}return b}var s=Object.create||function(){function b(){}return function(A){return b.prototype=A,new b}}();function l(b,A){var U=Array.prototype.slice;if(b.bind)return b.bind.apply(b,U.call(arguments,1));var Q=U.call(arguments,2);return function(){return b.apply(A,Q.length?Q.concat(U.call(arguments)):arguments)}}var o=0;function a(b){return"_leaflet_id"in b||(b._leaflet_id=++o),b._leaflet_id}function u(b,A,U){var Q,oe,fe,Ne;return Ne=function(){Q=!1,oe&&(fe.apply(U,oe),oe=!1)},fe=function(){Q?oe=arguments:(b.apply(U,arguments),setTimeout(Ne,A),Q=!0)},fe}function c(b,A,U){var Q=A[1],oe=A[0],fe=Q-oe;return b===Q&&U?b:((b-oe)%fe+fe)%fe+oe}function f(){return!1}function d(b,A){if(A===!1)return b;var U=Math.pow(10,A===void 0?6:A);return Math.round(b*U)/U}function m(b){return b.trim?b.trim():b.replace(/^\s+|\s+$/g,"")}function p(b){return m(b).split(/\s+/)}function g(b,A){Object.prototype.hasOwnProperty.call(b,"options")||(b.options=b.options?s(b.options):{});for(var U in A)b.options[U]=A[U];return b.options}function k(b,A,U){var Q=[];for(var oe in b)Q.push(encodeURIComponent(U?oe.toUpperCase():oe)+"="+encodeURIComponent(b[oe]));return(!A||A.indexOf("?")===-1?"?":"&")+Q.join("&")}var $=/\{ *([\w_ -]+) *\}/g;function C(b,A){return b.replace($,function(U,Q){var oe=A[Q];if(oe===void 0)throw new Error("No value provided for variable "+U);return typeof oe=="function"&&(oe=oe(A)),oe})}var E=Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"};function S(b,A){for(var U=0;U<b.length;U++)if(b[U]===A)return U;return-1}var T="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(b){return window["webkit"+b]||window["moz"+b]||window["ms"+b]}var R=0;function Y(b){var A=+new Date,U=Math.max(0,16-(A-R));return R=A+U,window.setTimeout(b,U)}var z=window.requestAnimationFrame||M("RequestAnimationFrame")||Y,j=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(b){window.clearTimeout(b)};function V(b,A,U){if(U&&z===Y)b.call(A);else return z.call(window,l(b,A))}function x(b){b&&j.call(window,b)}var ee={__proto__:null,extend:r,create:s,bind:l,get lastId(){return o},stamp:a,throttle:u,wrapNum:c,falseFn:f,formatNum:d,trim:m,splitWords:p,setOptions:g,getParamString:k,template:C,isArray:E,indexOf:S,emptyImageUrl:T,requestFn:z,cancelFn:j,requestAnimFrame:V,cancelAnimFrame:x};function J(){}J.extend=function(b){var A=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},U=A.__super__=this.prototype,Q=s(U);Q.constructor=A,A.prototype=Q;for(var oe in this)Object.prototype.hasOwnProperty.call(this,oe)&&oe!=="prototype"&&oe!=="__super__"&&(A[oe]=this[oe]);return b.statics&&r(A,b.statics),b.includes&&(q(b.includes),r.apply(null,[Q].concat(b.includes))),r(Q,b),delete Q.statics,delete Q.includes,Q.options&&(Q.options=U.options?s(U.options):{},r(Q.options,b.options)),Q._initHooks=[],Q.callInitHooks=function(){if(!this._initHooksCalled){U.callInitHooks&&U.callInitHooks.call(this),this._initHooksCalled=!0;for(var fe=0,Ne=Q._initHooks.length;fe<Ne;fe++)Q._initHooks[fe].call(this)}},A},J.include=function(b){var A=this.prototype.options;return r(this.prototype,b),b.options&&(this.prototype.options=A,this.mergeOptions(b.options)),this},J.mergeOptions=function(b){return r(this.prototype.options,b),this},J.addInitHook=function(b){var A=Array.prototype.slice.call(arguments,1),U=typeof b=="function"?b:function(){this[b].apply(this,A)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(U),this};function q(b){if(!(typeof L>"u"||!L||!L.Mixin)){b=E(b)?b:[b];for(var A=0;A<b.length;A++)b[A]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var le={on:function(b,A,U){if(typeof b=="object")for(var Q in b)this._on(Q,b[Q],A);else{b=p(b);for(var oe=0,fe=b.length;oe<fe;oe++)this._on(b[oe],A,U)}return this},off:function(b,A,U){if(!arguments.length)delete this._events;else if(typeof b=="object")for(var Q in b)this._off(Q,b[Q],A);else{b=p(b);for(var oe=arguments.length===1,fe=0,Ne=b.length;fe<Ne;fe++)oe?this._off(b[fe]):this._off(b[fe],A,U)}return this},_on:function(b,A,U,Q){if(typeof A!="function"){console.warn("wrong listener type: "+typeof A);return}if(this._listens(b,A,U)===!1){U===this&&(U=void 0);var oe={fn:A,ctx:U};Q&&(oe.once=!0),this._events=this._events||{},this._events[b]=this._events[b]||[],this._events[b].push(oe)}},_off:function(b,A,U){var Q,oe,fe;if(!!this._events&&(Q=this._events[b],!!Q)){if(arguments.length===1){if(this._firingCount)for(oe=0,fe=Q.length;oe<fe;oe++)Q[oe].fn=f;delete this._events[b];return}if(typeof A!="function"){console.warn("wrong listener type: "+typeof A);return}var Ne=this._listens(b,A,U);if(Ne!==!1){var Xe=Q[Ne];this._firingCount&&(Xe.fn=f,this._events[b]=Q=Q.slice()),Q.splice(Ne,1)}}},fire:function(b,A,U){if(!this.listens(b,U))return this;var Q=r({},A,{type:b,target:this,sourceTarget:A&&A.sourceTarget||this});if(this._events){var oe=this._events[b];if(oe){this._firingCount=this._firingCount+1||1;for(var fe=0,Ne=oe.length;fe<Ne;fe++){var Xe=oe[fe],ft=Xe.fn;Xe.once&&this.off(b,ft,Xe.ctx),ft.call(Xe.ctx||this,Q)}this._firingCount--}}return U&&this._propagateEvent(Q),this},listens:function(b,A,U,Q){typeof b!="string"&&console.warn('"string" type argument expected');var oe=A;typeof A!="function"&&(Q=!!A,oe=void 0,U=void 0);var fe=this._events&&this._events[b];if(fe&&fe.length&&this._listens(b,oe,U)!==!1)return!0;if(Q){for(var Ne in this._eventParents)if(this._eventParents[Ne].listens(b,A,U,Q))return!0}return!1},_listens:function(b,A,U){if(!this._events)return!1;var Q=this._events[b]||[];if(!A)return!!Q.length;U===this&&(U=void 0);for(var oe=0,fe=Q.length;oe<fe;oe++)if(Q[oe].fn===A&&Q[oe].ctx===U)return oe;return!1},once:function(b,A,U){if(typeof b=="object")for(var Q in b)this._on(Q,b[Q],A,!0);else{b=p(b);for(var oe=0,fe=b.length;oe<fe;oe++)this._on(b[oe],A,U,!0)}return this},addEventParent:function(b){return this._eventParents=this._eventParents||{},this._eventParents[a(b)]=b,this},removeEventParent:function(b){return this._eventParents&&delete this._eventParents[a(b)],this},_propagateEvent:function(b){for(var A in this._eventParents)this._eventParents[A].fire(b.type,r({layer:b.target,propagatedFrom:b.target},b),!0)}};le.addEventListener=le.on,le.removeEventListener=le.clearAllEventListeners=le.off,le.addOneTimeEventListener=le.once,le.fireEvent=le.fire,le.hasEventListeners=le.listens;var G=J.extend(le);function X(b,A,U){this.x=U?Math.round(b):b,this.y=U?Math.round(A):A}var se=Math.trunc||function(b){return b>0?Math.floor(b):Math.ceil(b)};X.prototype={clone:function(){return new X(this.x,this.y)},add:function(b){return this.clone()._add(te(b))},_add:function(b){return this.x+=b.x,this.y+=b.y,this},subtract:function(b){return this.clone()._subtract(te(b))},_subtract:function(b){return this.x-=b.x,this.y-=b.y,this},divideBy:function(b){return this.clone()._divideBy(b)},_divideBy:function(b){return this.x/=b,this.y/=b,this},multiplyBy:function(b){return this.clone()._multiplyBy(b)},_multiplyBy:function(b){return this.x*=b,this.y*=b,this},scaleBy:function(b){return new X(this.x*b.x,this.y*b.y)},unscaleBy:function(b){return new X(this.x/b.x,this.y/b.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(b){b=te(b);var A=b.x-this.x,U=b.y-this.y;return Math.sqrt(A*A+U*U)},equals:function(b){return b=te(b),b.x===this.x&&b.y===this.y},contains:function(b){return b=te(b),Math.abs(b.x)<=Math.abs(this.x)&&Math.abs(b.y)<=Math.abs(this.y)},toString:function(){return"Point("+d(this.x)+", "+d(this.y)+")"}};function te(b,A,U){return b instanceof X?b:E(b)?new X(b[0],b[1]):b==null?b:typeof b=="object"&&"x"in b&&"y"in b?new X(b.x,b.y):new X(b,A,U)}function ie(b,A){if(!!b)for(var U=A?[b,A]:b,Q=0,oe=U.length;Q<oe;Q++)this.extend(U[Q])}ie.prototype={extend:function(b){var A,U;if(!b)return this;if(b instanceof X||typeof b[0]=="number"||"x"in b)A=U=te(b);else if(b=re(b),A=b.min,U=b.max,!A||!U)return this;return!this.min&&!this.max?(this.min=A.clone(),this.max=U.clone()):(this.min.x=Math.min(A.x,this.min.x),this.max.x=Math.max(U.x,this.max.x),this.min.y=Math.min(A.y,this.min.y),this.max.y=Math.max(U.y,this.max.y)),this},getCenter:function(b){return te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,b)},getBottomLeft:function(){return te(this.min.x,this.max.y)},getTopRight:function(){return te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(b){var A,U;return typeof b[0]=="number"||b instanceof X?b=te(b):b=re(b),b instanceof ie?(A=b.min,U=b.max):A=U=b,A.x>=this.min.x&&U.x<=this.max.x&&A.y>=this.min.y&&U.y<=this.max.y},intersects:function(b){b=re(b);var A=this.min,U=this.max,Q=b.min,oe=b.max,fe=oe.x>=A.x&&Q.x<=U.x,Ne=oe.y>=A.y&&Q.y<=U.y;return fe&&Ne},overlaps:function(b){b=re(b);var A=this.min,U=this.max,Q=b.min,oe=b.max,fe=oe.x>A.x&&Q.x<U.x,Ne=oe.y>A.y&&Q.y<U.y;return fe&&Ne},isValid:function(){return!!(this.min&&this.max)},pad:function(b){var A=this.min,U=this.max,Q=Math.abs(A.x-U.x)*b,oe=Math.abs(A.y-U.y)*b;return re(te(A.x-Q,A.y-oe),te(U.x+Q,U.y+oe))},equals:function(b){return b?(b=re(b),this.min.equals(b.getTopLeft())&&this.max.equals(b.getBottomRight())):!1}};function re(b,A){return!b||b instanceof ie?b:new ie(b,A)}function be(b,A){if(!!b)for(var U=A?[b,A]:b,Q=0,oe=U.length;Q<oe;Q++)this.extend(U[Q])}be.prototype={extend:function(b){var A=this._southWest,U=this._northEast,Q,oe;if(b instanceof De)Q=b,oe=b;else if(b instanceof be){if(Q=b._southWest,oe=b._northEast,!Q||!oe)return this}else return b?this.extend(Be(b)||we(b)):this;return!A&&!U?(this._southWest=new De(Q.lat,Q.lng),this._northEast=new De(oe.lat,oe.lng)):(A.lat=Math.min(Q.lat,A.lat),A.lng=Math.min(Q.lng,A.lng),U.lat=Math.max(oe.lat,U.lat),U.lng=Math.max(oe.lng,U.lng)),this},pad:function(b){var A=this._southWest,U=this._northEast,Q=Math.abs(A.lat-U.lat)*b,oe=Math.abs(A.lng-U.lng)*b;return new be(new De(A.lat-Q,A.lng-oe),new De(U.lat+Q,U.lng+oe))},getCenter:function(){return new De((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new De(this.getNorth(),this.getWest())},getSouthEast:function(){return new De(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(b){typeof b[0]=="number"||b instanceof De||"lat"in b?b=Be(b):b=we(b);var A=this._southWest,U=this._northEast,Q,oe;return b instanceof be?(Q=b.getSouthWest(),oe=b.getNorthEast()):Q=oe=b,Q.lat>=A.lat&&oe.lat<=U.lat&&Q.lng>=A.lng&&oe.lng<=U.lng},intersects:function(b){b=we(b);var A=this._southWest,U=this._northEast,Q=b.getSouthWest(),oe=b.getNorthEast(),fe=oe.lat>=A.lat&&Q.lat<=U.lat,Ne=oe.lng>=A.lng&&Q.lng<=U.lng;return fe&&Ne},overlaps:function(b){b=we(b);var A=this._southWest,U=this._northEast,Q=b.getSouthWest(),oe=b.getNorthEast(),fe=oe.lat>A.lat&&Q.lat<U.lat,Ne=oe.lng>A.lng&&Q.lng<U.lng;return fe&&Ne},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(b,A){return b?(b=we(b),this._southWest.equals(b.getSouthWest(),A)&&this._northEast.equals(b.getNorthEast(),A)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function we(b,A){return b instanceof be?b:new be(b,A)}function De(b,A,U){if(isNaN(b)||isNaN(A))throw new Error("Invalid LatLng object: ("+b+", "+A+")");this.lat=+b,this.lng=+A,U!==void 0&&(this.alt=+U)}De.prototype={equals:function(b,A){if(!b)return!1;b=Be(b);var U=Math.max(Math.abs(this.lat-b.lat),Math.abs(this.lng-b.lng));return U<=(A===void 0?1e-9:A)},toString:function(b){return"LatLng("+d(this.lat,b)+", "+d(this.lng,b)+")"},distanceTo:function(b){return ke.distance(this,Be(b))},wrap:function(){return ke.wrapLatLng(this)},toBounds:function(b){var A=180*b/40075017,U=A/Math.cos(Math.PI/180*this.lat);return we([this.lat-A,this.lng-U],[this.lat+A,this.lng+U])},clone:function(){return new De(this.lat,this.lng,this.alt)}};function Be(b,A,U){return b instanceof De?b:E(b)&&typeof b[0]!="object"?b.length===3?new De(b[0],b[1],b[2]):b.length===2?new De(b[0],b[1]):null:b==null?b:typeof b=="object"&&"lat"in b?new De(b.lat,"lng"in b?b.lng:b.lon,b.alt):A===void 0?null:new De(b,A,U)}var ze={latLngToPoint:function(b,A){var U=this.projection.project(b),Q=this.scale(A);return this.transformation._transform(U,Q)},pointToLatLng:function(b,A){var U=this.scale(A),Q=this.transformation.untransform(b,U);return this.projection.unproject(Q)},project:function(b){return this.projection.project(b)},unproject:function(b){return this.projection.unproject(b)},scale:function(b){return 256*Math.pow(2,b)},zoom:function(b){return Math.log(b/256)/Math.LN2},getProjectedBounds:function(b){if(this.infinite)return null;var A=this.projection.bounds,U=this.scale(b),Q=this.transformation.transform(A.min,U),oe=this.transformation.transform(A.max,U);return new ie(Q,oe)},infinite:!1,wrapLatLng:function(b){var A=this.wrapLng?c(b.lng,this.wrapLng,!0):b.lng,U=this.wrapLat?c(b.lat,this.wrapLat,!0):b.lat,Q=b.alt;return new De(U,A,Q)},wrapLatLngBounds:function(b){var A=b.getCenter(),U=this.wrapLatLng(A),Q=A.lat-U.lat,oe=A.lng-U.lng;if(Q===0&&oe===0)return b;var fe=b.getSouthWest(),Ne=b.getNorthEast(),Xe=new De(fe.lat-Q,fe.lng-oe),ft=new De(Ne.lat-Q,Ne.lng-oe);return new be(Xe,ft)}},ke=r({},ze,{wrapLng:[-180,180],R:6371e3,distance:function(b,A){var U=Math.PI/180,Q=b.lat*U,oe=A.lat*U,fe=Math.sin((A.lat-b.lat)*U/2),Ne=Math.sin((A.lng-b.lng)*U/2),Xe=fe*fe+Math.cos(Q)*Math.cos(oe)*Ne*Ne,ft=2*Math.atan2(Math.sqrt(Xe),Math.sqrt(1-Xe));return this.R*ft}}),Ue=6378137,Ce={R:Ue,MAX_LATITUDE:85.0511287798,project:function(b){var A=Math.PI/180,U=this.MAX_LATITUDE,Q=Math.max(Math.min(U,b.lat),-U),oe=Math.sin(Q*A);return new X(this.R*b.lng*A,this.R*Math.log((1+oe)/(1-oe))/2)},unproject:function(b){var A=180/Math.PI;return new De((2*Math.atan(Math.exp(b.y/this.R))-Math.PI/2)*A,b.x*A/this.R)},bounds:function(){var b=Ue*Math.PI;return new ie([-b,-b],[b,b])}()};function vt(b,A,U,Q){if(E(b)){this._a=b[0],this._b=b[1],this._c=b[2],this._d=b[3];return}this._a=b,this._b=A,this._c=U,this._d=Q}vt.prototype={transform:function(b,A){return this._transform(b.clone(),A)},_transform:function(b,A){return A=A||1,b.x=A*(this._a*b.x+this._b),b.y=A*(this._c*b.y+this._d),b},untransform:function(b,A){return A=A||1,new X((b.x/A-this._b)/this._a,(b.y/A-this._d)/this._c)}};function $t(b,A,U,Q){return new vt(b,A,U,Q)}var bt=r({},ke,{code:"EPSG:3857",projection:Ce,transformation:function(){var b=.5/(Math.PI*Ce.R);return $t(b,.5,-b,.5)}()}),Tt=r({},bt,{code:"EPSG:900913"});function It(b){return document.createElementNS("http://www.w3.org/2000/svg",b)}function Je(b,A){var U="",Q,oe,fe,Ne,Xe,ft;for(Q=0,fe=b.length;Q<fe;Q++){for(Xe=b[Q],oe=0,Ne=Xe.length;oe<Ne;oe++)ft=Xe[oe],U+=(oe?"L":"M")+ft.x+" "+ft.y;U+=A?Rt.svg?"z":"x":""}return U||"M0 0"}var Pt=document.documentElement.style,sn="ActiveXObject"in window,Tn=sn&&!document.addEventListener,Vn="msLaunchUri"in navigator&&!("documentMode"in document),An=Qt("webkit"),xn=Qt("android"),In=Qt("android 2")||Qt("android 3"),Hi=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),mt=xn&&Qt("Google")&&Hi<537&&!("AudioNode"in window),dr=!!window.opera,yi=!Vn&&Qt("chrome"),Ke=Qt("gecko")&&!An&&!dr&&!sn,Pr=!yi&&Qt("safari"),Nr=Qt("phantom"),yr="OTransition"in Pt,ul=navigator.platform.indexOf("Win")===0,ot=sn&&"transition"in Pt,Xt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!In,yn="MozPerspective"in Pt,jn=!window.L_DISABLE_3D&&(ot||Xt||yn)&&!yr&&!Nr,ji=typeof orientation<"u"||Qt("mobile"),Bs=ji&&An,Mr=ji&&Xt,wr=!window.PointerEvent&&window.MSPointerEvent,xl=!!(window.PointerEvent||wr),Gl="ontouchstart"in window||!!window.TouchEvent,ko=!window.L_NO_TOUCH&&(Gl||xl),ha=ji&&dr,yo=ji&&Ke,cl=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wo=function(){var b=!1;try{var A=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("testPassiveEventSupport",f,A),window.removeEventListener("testPassiveEventSupport",f,A)}catch{}return b}(),cu=function(){return!!document.createElement("canvas").getContext}(),_e=!!(document.createElementNS&&It("svg").createSVGRect),Pe=!!_e&&function(){var b=document.createElement("div");return b.innerHTML="<svg/>",(b.firstChild&&b.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ve=!_e&&function(){try{var b=document.createElement("div");b.innerHTML='<v:shape adj="1"/>';var A=b.firstChild;return A.style.behavior="url(#default#VML)",A&&typeof A.adj=="object"}catch{return!1}}(),ht=navigator.platform.indexOf("Mac")===0,At=navigator.platform.indexOf("Linux")===0;function Qt(b){return navigator.userAgent.toLowerCase().indexOf(b)>=0}var Rt={ie:sn,ielt9:Tn,edge:Vn,webkit:An,android:xn,android23:In,androidStock:mt,opera:dr,chrome:yi,gecko:Ke,safari:Pr,phantom:Nr,opera12:yr,win:ul,ie3d:ot,webkit3d:Xt,gecko3d:yn,any3d:jn,mobile:ji,mobileWebkit:Bs,mobileWebkit3d:Mr,msPointer:wr,pointer:xl,touch:ko,touchNative:Gl,mobileOpera:ha,mobileGecko:yo,retina:cl,passiveEvents:wo,canvas:cu,svg:_e,vml:Ve,inlineSvg:Pe,mac:ht,linux:At},Ki=Rt.msPointer?"MSPointerDown":"pointerdown",Cn=Rt.msPointer?"MSPointerMove":"pointermove",nr=Rt.msPointer?"MSPointerUp":"pointerup",Zl=Rt.msPointer?"MSPointerCancel":"pointercancel",$o={touchstart:Ki,touchmove:Cn,touchend:nr,touchcancel:Zl},ma={touchstart:hr,touchmove:Di,touchend:Di,touchcancel:Di},Rr={},pa=!1;function fu(b,A,U){return A==="touchstart"&&$r(),ma[A]?(U=ma[A].bind(this,U),b.addEventListener($o[A],U,!1),U):(console.warn("wrong event specified:",A),f)}function Sl(b,A,U){if(!$o[A]){console.warn("wrong event specified:",A);return}b.removeEventListener($o[A],U,!1)}function _a(b){Rr[b.pointerId]=b}function ga(b){Rr[b.pointerId]&&(Rr[b.pointerId]=b)}function Fo(b){delete Rr[b.pointerId]}function $r(){pa||(document.addEventListener(Ki,_a,!0),document.addEventListener(Cn,ga,!0),document.addEventListener(nr,Fo,!0),document.addEventListener(Zl,Fo,!0),pa=!0)}function Di(b,A){if(A.pointerType!==(A.MSPOINTER_TYPE_MOUSE||"mouse")){A.touches=[];for(var U in Rr)A.touches.push(Rr[U]);A.changedTouches=[A],b(A)}}function hr(b,A){A.MSPOINTER_TYPE_TOUCH&&A.pointerType===A.MSPOINTER_TYPE_TOUCH&&$n(A),Di(b,A)}function Rs(b){var A={},U,Q;for(Q in b)U=b[Q],A[Q]=U&&U.bind?U.bind(b):U;return b=A,A.type="dblclick",A.detail=2,A.isTrusted=!1,A._simulated=!0,A}var zr=200;function fl(b,A){b.addEventListener("dblclick",A);var U=0,Q;function oe(fe){if(fe.detail!==1){Q=fe.detail;return}if(!(fe.pointerType==="mouse"||fe.sourceCapabilities&&!fe.sourceCapabilities.firesTouchEvents)){var Ne=a_(fe);if(!(Ne.some(function(ft){return ft instanceof HTMLLabelElement&&ft.attributes.for})&&!Ne.some(function(ft){return ft instanceof HTMLInputElement||ft instanceof HTMLSelectElement}))){var Xe=Date.now();Xe-U<=zr?(Q++,Q===2&&A(Rs(fe))):Q=1,U=Xe}}}return b.addEventListener("click",oe),{dblclick:A,simDblclick:oe}}function jr(b,A){b.removeEventListener("dblclick",A.dblclick),b.removeEventListener("click",A.simDblclick)}var dl=xt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hl=xt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),va=hl==="webkitTransition"||hl==="OTransition"?hl+"End":"transitionend";function _s(b){return typeof b=="string"?document.getElementById(b):b}function ba(b,A){var U=b.style[A]||b.currentStyle&&b.currentStyle[A];if((!U||U==="auto")&&document.defaultView){var Q=document.defaultView.getComputedStyle(b,null);U=Q?Q[A]:null}return U==="auto"?null:U}function Gn(b,A,U){var Q=document.createElement(b);return Q.className=A||"",U&&U.appendChild(Q),Q}function ge(b){var A=b.parentNode;A&&A.removeChild(b)}function Re(b){for(;b.firstChild;)b.removeChild(b.firstChild)}function Ee(b){var A=b.parentNode;A&&A.lastChild!==b&&A.appendChild(b)}function We(b){var A=b.parentNode;A&&A.firstChild!==b&&A.insertBefore(b,A.firstChild)}function Ge(b,A){if(b.classList!==void 0)return b.classList.contains(A);var U=Mt(b);return U.length>0&&new RegExp("(^|\\s)"+A+"(\\s|$)").test(U)}function Ie(b,A){if(b.classList!==void 0)for(var U=p(A),Q=0,oe=U.length;Q<oe;Q++)b.classList.add(U[Q]);else if(!Ge(b,A)){var fe=Mt(b);Ft(b,(fe?fe+" ":"")+A)}}function dt(b,A){b.classList!==void 0?b.classList.remove(A):Ft(b,m((" "+Mt(b)+" ").replace(" "+A+" "," ")))}function Ft(b,A){b.className.baseVal===void 0?b.className=A:b.className.baseVal=A}function Mt(b){return b.correspondingElement&&(b=b.correspondingElement),b.className.baseVal===void 0?b.className:b.className.baseVal}function Et(b,A){"opacity"in b.style?b.style.opacity=A:"filter"in b.style&&zt(b,A)}function zt(b,A){var U=!1,Q="DXImageTransform.Microsoft.Alpha";try{U=b.filters.item(Q)}catch{if(A===1)return}A=Math.round(A*100),U?(U.Enabled=A!==100,U.Opacity=A):b.style.filter+=" progid:"+Q+"(opacity="+A+")"}function xt(b){for(var A=document.documentElement.style,U=0;U<b.length;U++)if(b[U]in A)return b[U];return!1}function hn(b,A,U){var Q=A||new X(0,0);b.style[dl]=(Rt.ie3d?"translate("+Q.x+"px,"+Q.y+"px)":"translate3d("+Q.x+"px,"+Q.y+"px,0)")+(U?" scale("+U+")":"")}function nn(b,A){b._leaflet_pos=A,Rt.any3d?hn(b,A):(b.style.left=A.x+"px",b.style.top=A.y+"px")}function Pn(b){return b._leaflet_pos||new X(0,0)}var vi,ni,Lr;if("onselectstart"in document)vi=function(){wn(window,"selectstart",$n)},ni=function(){Si(window,"selectstart",$n)};else{var zs=xt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vi=function(){if(zs){var b=document.documentElement.style;Lr=b[zs],b[zs]="none"}},ni=function(){zs&&(document.documentElement.style[zs]=Lr,Lr=void 0)}}function ka(){wn(window,"dragstart",$n)}function du(){Si(window,"dragstart",$n)}var Xl,pc;function hu(b){for(;b.tabIndex===-1;)b=b.parentNode;!b.style||(mu(),Xl=b,pc=b.style.outline,b.style.outline="none",wn(window,"keydown",mu))}function mu(){!Xl||(Xl.style.outline=pc,Xl=void 0,pc=void 0,Si(window,"keydown",mu))}function _c(b){do b=b.parentNode;while((!b.offsetWidth||!b.offsetHeight)&&b!==document.body);return b}function Nh(b){var A=b.getBoundingClientRect();return{x:A.width/b.offsetWidth||1,y:A.height/b.offsetHeight||1,boundingClientRect:A}}var l_={__proto__:null,TRANSFORM:dl,TRANSITION:hl,TRANSITION_END:va,get:_s,getStyle:ba,create:Gn,remove:ge,empty:Re,toFront:Ee,toBack:We,hasClass:Ge,addClass:Ie,removeClass:dt,setClass:Ft,getClass:Mt,setOpacity:Et,testProp:xt,setTransform:hn,setPosition:nn,getPosition:Pn,get disableTextSelection(){return vi},get enableTextSelection(){return ni},disableImageDrag:ka,enableImageDrag:du,preventOutline:hu,restoreOutline:mu,getSizedParentNode:_c,getScale:Nh};function wn(b,A,U,Q){if(A&&typeof A=="object")for(var oe in A)Mh(b,oe,A[oe],U);else{A=p(A);for(var fe=0,Ne=A.length;fe<Ne;fe++)Mh(b,A[fe],U,Q)}return this}var Tl="_leaflet_events";function Si(b,A,U,Q){if(arguments.length===1)o_(b),delete b[Tl];else if(A&&typeof A=="object")for(var oe in A)Lh(b,oe,A[oe],U);else if(A=p(A),arguments.length===2)o_(b,function(Xe){return S(A,Xe)!==-1});else for(var fe=0,Ne=A.length;fe<Ne;fe++)Lh(b,A[fe],U,Q);return this}function o_(b,A){for(var U in b[Tl]){var Q=U.split(/\d/)[0];(!A||A(Q))&&Lh(b,Q,null,null,U)}}var gc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Mh(b,A,U,Q){var oe=A+a(U)+(Q?"_"+a(Q):"");if(b[Tl]&&b[Tl][oe])return this;var fe=function(Xe){return U.call(Q||b,Xe||window.event)},Ne=fe;!Rt.touchNative&&Rt.pointer&&A.indexOf("touch")===0?fe=fu(b,A,fe):Rt.touch&&A==="dblclick"?fe=fl(b,fe):"addEventListener"in b?A==="touchstart"||A==="touchmove"||A==="wheel"||A==="mousewheel"?b.addEventListener(gc[A]||A,fe,Rt.passiveEvents?{passive:!1}:!1):A==="mouseenter"||A==="mouseleave"?(fe=function(Xe){Xe=Xe||window.event,Ih(b,Xe)&&Ne(Xe)},b.addEventListener(gc[A],fe,!1)):b.addEventListener(A,Ne,!1):b.attachEvent("on"+A,fe),b[Tl]=b[Tl]||{},b[Tl][oe]=fe}function Lh(b,A,U,Q,oe){oe=oe||A+a(U)+(Q?"_"+a(Q):"");var fe=b[Tl]&&b[Tl][oe];if(!fe)return this;!Rt.touchNative&&Rt.pointer&&A.indexOf("touch")===0?Sl(b,A,fe):Rt.touch&&A==="dblclick"?jr(b,fe):"removeEventListener"in b?b.removeEventListener(gc[A]||A,fe,!1):b.detachEvent("on"+A,fe),b[Tl][oe]=null}function ya(b){return b.stopPropagation?b.stopPropagation():b.originalEvent?b.originalEvent._stopped=!0:b.cancelBubble=!0,this}function Oh(b){return Mh(b,"wheel",ya),this}function vc(b){return wn(b,"mousedown touchstart dblclick contextmenu",ya),b._leaflet_disable_click=!0,this}function $n(b){return b.preventDefault?b.preventDefault():b.returnValue=!1,this}function ii(b){return $n(b),ya(b),this}function a_(b){if(b.composedPath)return b.composedPath();for(var A=[],U=b.target;U;)A.push(U),U=U.parentNode;return A}function u_(b,A){if(!A)return new X(b.clientX,b.clientY);var U=Nh(A),Q=U.boundingClientRect;return new X((b.clientX-Q.left)/U.x-A.clientLeft,(b.clientY-Q.top)/U.y-A.clientTop)}var sv=Rt.linux&&Rt.chrome?window.devicePixelRatio:Rt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function c_(b){return Rt.edge?b.wheelDeltaY/2:b.deltaY&&b.deltaMode===0?-b.deltaY/sv:b.deltaY&&b.deltaMode===1?-b.deltaY*20:b.deltaY&&b.deltaMode===2?-b.deltaY*60:b.deltaX||b.deltaZ?0:b.wheelDelta?(b.wheelDeltaY||b.wheelDelta)/2:b.detail&&Math.abs(b.detail)<32765?-b.detail*20:b.detail?b.detail/-32765*60:0}function Ih(b,A){var U=A.relatedTarget;if(!U)return!0;try{for(;U&&U!==b;)U=U.parentNode}catch{return!1}return U!==b}var lv={__proto__:null,on:wn,off:Si,stopPropagation:ya,disableScrollPropagation:Oh,disableClickPropagation:vc,preventDefault:$n,stop:ii,getPropagationPath:a_,getMousePosition:u_,getWheelDelta:c_,isExternalTarget:Ih,addListener:wn,removeListener:Si},Bh=G.extend({run:function(b,A,U,Q){this.stop(),this._el=b,this._inProgress=!0,this._duration=U||.25,this._easeOutPower=1/Math.max(Q||.5,.2),this._startPos=Pn(b),this._offset=A.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(b){var A=+new Date-this._startTime,U=this._duration*1e3;A<U?this._runFrame(this._easeOut(A/U),b):(this._runFrame(1),this._complete())},_runFrame:function(b,A){var U=this._startPos.add(this._offset.multiplyBy(b));A&&U._round(),nn(this._el,U),this.fire("step")},_complete:function(){x(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(b){return 1-Math.pow(1-b,this._easeOutPower)}}),Zn=G.extend({options:{crs:bt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(b,A){A=g(this,A),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(b),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),A.maxBounds&&this.setMaxBounds(A.maxBounds),A.zoom!==void 0&&(this._zoom=this._limitZoom(A.zoom)),A.center&&A.zoom!==void 0&&this.setView(Be(A.center),A.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hl&&Rt.any3d&&!Rt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),wn(this._proxy,va,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(b,A,U){if(A=A===void 0?this._zoom:this._limitZoom(A),b=this._limitCenter(Be(b),A,this.options.maxBounds),U=U||{},this._stop(),this._loaded&&!U.reset&&U!==!0){U.animate!==void 0&&(U.zoom=r({animate:U.animate},U.zoom),U.pan=r({animate:U.animate,duration:U.duration},U.pan));var Q=this._zoom!==A?this._tryAnimatedZoom&&this._tryAnimatedZoom(b,A,U.zoom):this._tryAnimatedPan(b,U.pan);if(Q)return clearTimeout(this._sizeTimer),this}return this._resetView(b,A,U.pan&&U.pan.noMoveStart),this},setZoom:function(b,A){return this._loaded?this.setView(this.getCenter(),b,{zoom:A}):(this._zoom=b,this)},zoomIn:function(b,A){return b=b||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+b,A)},zoomOut:function(b,A){return b=b||(Rt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-b,A)},setZoomAround:function(b,A,U){var Q=this.getZoomScale(A),oe=this.getSize().divideBy(2),fe=b instanceof X?b:this.latLngToContainerPoint(b),Ne=fe.subtract(oe).multiplyBy(1-1/Q),Xe=this.containerPointToLatLng(oe.add(Ne));return this.setView(Xe,A,{zoom:U})},_getBoundsCenterZoom:function(b,A){A=A||{},b=b.getBounds?b.getBounds():we(b);var U=te(A.paddingTopLeft||A.padding||[0,0]),Q=te(A.paddingBottomRight||A.padding||[0,0]),oe=this.getBoundsZoom(b,!1,U.add(Q));if(oe=typeof A.maxZoom=="number"?Math.min(A.maxZoom,oe):oe,oe===1/0)return{center:b.getCenter(),zoom:oe};var fe=Q.subtract(U).divideBy(2),Ne=this.project(b.getSouthWest(),oe),Xe=this.project(b.getNorthEast(),oe),ft=this.unproject(Ne.add(Xe).divideBy(2).add(fe),oe);return{center:ft,zoom:oe}},fitBounds:function(b,A){if(b=we(b),!b.isValid())throw new Error("Bounds are not valid.");var U=this._getBoundsCenterZoom(b,A);return this.setView(U.center,U.zoom,A)},fitWorld:function(b){return this.fitBounds([[-90,-180],[90,180]],b)},panTo:function(b,A){return this.setView(b,this._zoom,{pan:A})},panBy:function(b,A){if(b=te(b).round(),A=A||{},!b.x&&!b.y)return this.fire("moveend");if(A.animate!==!0&&!this.getSize().contains(b))return this._resetView(this.unproject(this.project(this.getCenter()).add(b)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Bh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),A.noMoveStart||this.fire("movestart"),A.animate!==!1){Ie(this._mapPane,"leaflet-pan-anim");var U=this._getMapPanePos().subtract(b).round();this._panAnim.run(this._mapPane,U,A.duration||.25,A.easeLinearity)}else this._rawPanBy(b),this.fire("move").fire("moveend");return this},flyTo:function(b,A,U){if(U=U||{},U.animate===!1||!Rt.any3d)return this.setView(b,A,U);this._stop();var Q=this.project(this.getCenter()),oe=this.project(b),fe=this.getSize(),Ne=this._zoom;b=Be(b),A=A===void 0?Ne:A;var Xe=Math.max(fe.x,fe.y),ft=Xe*this.getZoomScale(Ne,A),wt=oe.distanceTo(Q)||1,Vt=1.42,un=Vt*Vt;function Dn(Vi){var No=Vi?-1:1,F_=Vi?ft:Xe,ve=ft*ft-Xe*Xe+No*un*un*wt*wt,wu=2*F_*un*wt,$u=ve/wu,ws=Math.sqrt($u*$u+1)-$u,Yn=ws<1e-9?-18:Math.log(ws);return Yn}function ts(Vi){return(Math.exp(Vi)-Math.exp(-Vi))/2}function Hs(Vi){return(Math.exp(Vi)+Math.exp(-Vi))/2}function Po(Vi){return ts(Vi)/Hs(Vi)}var Vs=Dn(0);function ku(Vi){return Xe*(Hs(Vs)/Hs(Vs+Vt*Vi))}function yu(Vi){return Xe*(Hs(Vs)*Po(Vs+Vt*Vi)-ts(Vs))/un}function bv(Vi){return 1-Math.pow(1-Vi,1.5)}var kv=Date.now(),w_=(Dn(1)-Vs)/Vt,yv=U.duration?1e3*U.duration:1e3*w_*.8;function $_(){var Vi=(Date.now()-kv)/yv,No=bv(Vi)*w_;Vi<=1?(this._flyToFrame=V($_,this),this._move(this.unproject(Q.add(oe.subtract(Q).multiplyBy(yu(No)/wt)),Ne),this.getScaleZoom(Xe/ku(No),Ne),{flyTo:!0})):this._move(b,A)._moveEnd(!0)}return this._moveStart(!0,U.noMoveStart),$_.call(this),this},flyToBounds:function(b,A){var U=this._getBoundsCenterZoom(b,A);return this.flyTo(U.center,U.zoom,A)},setMaxBounds:function(b){return b=we(b),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),b.isValid()?(this.options.maxBounds=b,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(b){var A=this.options.minZoom;return this.options.minZoom=b,this._loaded&&A!==b&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(b):this},setMaxZoom:function(b){var A=this.options.maxZoom;return this.options.maxZoom=b,this._loaded&&A!==b&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(b):this},panInsideBounds:function(b,A){this._enforcingBounds=!0;var U=this.getCenter(),Q=this._limitCenter(U,this._zoom,we(b));return U.equals(Q)||this.panTo(Q,A),this._enforcingBounds=!1,this},panInside:function(b,A){A=A||{};var U=te(A.paddingTopLeft||A.padding||[0,0]),Q=te(A.paddingBottomRight||A.padding||[0,0]),oe=this.project(this.getCenter()),fe=this.project(b),Ne=this.getPixelBounds(),Xe=re([Ne.min.add(U),Ne.max.subtract(Q)]),ft=Xe.getSize();if(!Xe.contains(fe)){this._enforcingBounds=!0;var wt=fe.subtract(Xe.getCenter()),Vt=Xe.extend(fe).getSize().subtract(ft);oe.x+=wt.x<0?-Vt.x:Vt.x,oe.y+=wt.y<0?-Vt.y:Vt.y,this.panTo(this.unproject(oe),A),this._enforcingBounds=!1}return this},invalidateSize:function(b){if(!this._loaded)return this;b=r({animate:!1,pan:!0},b===!0?{animate:!0}:b);var A=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var U=this.getSize(),Q=A.divideBy(2).round(),oe=U.divideBy(2).round(),fe=Q.subtract(oe);return!fe.x&&!fe.y?this:(b.animate&&b.pan?this.panBy(fe):(b.pan&&this._rawPanBy(fe),this.fire("move"),b.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:A,newSize:U}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(b){if(b=this._locateOptions=r({timeout:1e4,watch:!1},b),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var A=l(this._handleGeolocationResponse,this),U=l(this._handleGeolocationError,this);return b.watch?this._locationWatchId=navigator.geolocation.watchPosition(A,U,b):navigator.geolocation.getCurrentPosition(A,U,b),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(b){if(!!this._container._leaflet_id){var A=b.code,U=b.message||(A===1?"permission denied":A===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:A,message:"Geolocation error: "+U+"."})}},_handleGeolocationResponse:function(b){if(!!this._container._leaflet_id){var A=b.coords.latitude,U=b.coords.longitude,Q=new De(A,U),oe=Q.toBounds(b.coords.accuracy*2),fe=this._locateOptions;if(fe.setView){var Ne=this.getBoundsZoom(oe);this.setView(Q,fe.maxZoom?Math.min(Ne,fe.maxZoom):Ne)}var Xe={latlng:Q,bounds:oe,timestamp:b.timestamp};for(var ft in b.coords)typeof b.coords[ft]=="number"&&(Xe[ft]=b.coords[ft]);this.fire("locationfound",Xe)}},addHandler:function(b,A){if(!A)return this;var U=this[b]=new A(this);return this._handlers.push(U),this.options[b]&&U.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ge(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(x(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var b;for(b in this._layers)this._layers[b].remove();for(b in this._panes)ge(this._panes[b]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(b,A){var U="leaflet-pane"+(b?" leaflet-"+b.replace("Pane","")+"-pane":""),Q=Gn("div",U,A||this._mapPane);return b&&(this._panes[b]=Q),Q},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var b=this.getPixelBounds(),A=this.unproject(b.getBottomLeft()),U=this.unproject(b.getTopRight());return new be(A,U)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(b,A,U){b=we(b),U=te(U||[0,0]);var Q=this.getZoom()||0,oe=this.getMinZoom(),fe=this.getMaxZoom(),Ne=b.getNorthWest(),Xe=b.getSouthEast(),ft=this.getSize().subtract(U),wt=re(this.project(Xe,Q),this.project(Ne,Q)).getSize(),Vt=Rt.any3d?this.options.zoomSnap:1,un=ft.x/wt.x,Dn=ft.y/wt.y,ts=A?Math.max(un,Dn):Math.min(un,Dn);return Q=this.getScaleZoom(ts,Q),Vt&&(Q=Math.round(Q/(Vt/100))*(Vt/100),Q=A?Math.ceil(Q/Vt)*Vt:Math.floor(Q/Vt)*Vt),Math.max(oe,Math.min(fe,Q))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new X(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(b,A){var U=this._getTopLeftPoint(b,A);return new ie(U,U.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(b){return this.options.crs.getProjectedBounds(b===void 0?this.getZoom():b)},getPane:function(b){return typeof b=="string"?this._panes[b]:b},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(b,A){var U=this.options.crs;return A=A===void 0?this._zoom:A,U.scale(b)/U.scale(A)},getScaleZoom:function(b,A){var U=this.options.crs;A=A===void 0?this._zoom:A;var Q=U.zoom(b*U.scale(A));return isNaN(Q)?1/0:Q},project:function(b,A){return A=A===void 0?this._zoom:A,this.options.crs.latLngToPoint(Be(b),A)},unproject:function(b,A){return A=A===void 0?this._zoom:A,this.options.crs.pointToLatLng(te(b),A)},layerPointToLatLng:function(b){var A=te(b).add(this.getPixelOrigin());return this.unproject(A)},latLngToLayerPoint:function(b){var A=this.project(Be(b))._round();return A._subtract(this.getPixelOrigin())},wrapLatLng:function(b){return this.options.crs.wrapLatLng(Be(b))},wrapLatLngBounds:function(b){return this.options.crs.wrapLatLngBounds(we(b))},distance:function(b,A){return this.options.crs.distance(Be(b),Be(A))},containerPointToLayerPoint:function(b){return te(b).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(b){return te(b).add(this._getMapPanePos())},containerPointToLatLng:function(b){var A=this.containerPointToLayerPoint(te(b));return this.layerPointToLatLng(A)},latLngToContainerPoint:function(b){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Be(b)))},mouseEventToContainerPoint:function(b){return u_(b,this._container)},mouseEventToLayerPoint:function(b){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(b))},mouseEventToLatLng:function(b){return this.layerPointToLatLng(this.mouseEventToLayerPoint(b))},_initContainer:function(b){var A=this._container=_s(b);if(A){if(A._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");wn(A,"scroll",this._onScroll,this),this._containerId=a(A)},_initLayout:function(){var b=this._container;this._fadeAnimated=this.options.fadeAnimation&&Rt.any3d,Ie(b,"leaflet-container"+(Rt.touch?" leaflet-touch":"")+(Rt.retina?" leaflet-retina":"")+(Rt.ielt9?" leaflet-oldie":"")+(Rt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var A=ba(b,"position");A!=="absolute"&&A!=="relative"&&A!=="fixed"&&A!=="sticky"&&(b.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var b=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nn(this._mapPane,new X(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ie(b.markerPane,"leaflet-zoom-hide"),Ie(b.shadowPane,"leaflet-zoom-hide"))},_resetView:function(b,A,U){nn(this._mapPane,new X(0,0));var Q=!this._loaded;this._loaded=!0,A=this._limitZoom(A),this.fire("viewprereset");var oe=this._zoom!==A;this._moveStart(oe,U)._move(b,A)._moveEnd(oe),this.fire("viewreset"),Q&&this.fire("load")},_moveStart:function(b,A){return b&&this.fire("zoomstart"),A||this.fire("movestart"),this},_move:function(b,A,U,Q){A===void 0&&(A=this._zoom);var oe=this._zoom!==A;return this._zoom=A,this._lastCenter=b,this._pixelOrigin=this._getNewPixelOrigin(b),Q?U&&U.pinch&&this.fire("zoom",U):((oe||U&&U.pinch)&&this.fire("zoom",U),this.fire("move",U)),this},_moveEnd:function(b){return b&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return x(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(b){nn(this._mapPane,this._getMapPanePos().subtract(b))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(b){this._targets={},this._targets[a(this._container)]=this;var A=b?Si:wn;A(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&A(window,"resize",this._onResize,this),Rt.any3d&&this.options.transform3DLimit&&(b?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){x(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var b=this._getMapPanePos();Math.max(Math.abs(b.x),Math.abs(b.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(b,A){for(var U=[],Q,oe=A==="mouseout"||A==="mouseover",fe=b.target||b.srcElement,Ne=!1;fe;){if(Q=this._targets[a(fe)],Q&&(A==="click"||A==="preclick")&&this._draggableMoved(Q)){Ne=!0;break}if(Q&&Q.listens(A,!0)&&(oe&&!Ih(fe,b)||(U.push(Q),oe))||fe===this._container)break;fe=fe.parentNode}return!U.length&&!Ne&&!oe&&this.listens(A,!0)&&(U=[this]),U},_isClickDisabled:function(b){for(;b&&b!==this._container;){if(b._leaflet_disable_click)return!0;b=b.parentNode}},_handleDOMEvent:function(b){var A=b.target||b.srcElement;if(!(!this._loaded||A._leaflet_disable_events||b.type==="click"&&this._isClickDisabled(A))){var U=b.type;U==="mousedown"&&hu(A),this._fireDOMEvent(b,U)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(b,A,U){if(b.type==="click"){var Q=r({},b);Q.type="preclick",this._fireDOMEvent(Q,Q.type,U)}var oe=this._findEventTargets(b,A);if(U){for(var fe=[],Ne=0;Ne<U.length;Ne++)U[Ne].listens(A,!0)&&fe.push(U[Ne]);oe=fe.concat(oe)}if(!!oe.length){A==="contextmenu"&&$n(b);var Xe=oe[0],ft={originalEvent:b};if(b.type!=="keypress"&&b.type!=="keydown"&&b.type!=="keyup"){var wt=Xe.getLatLng&&(!Xe._radius||Xe._radius<=10);ft.containerPoint=wt?this.latLngToContainerPoint(Xe.getLatLng()):this.mouseEventToContainerPoint(b),ft.layerPoint=this.containerPointToLayerPoint(ft.containerPoint),ft.latlng=wt?Xe.getLatLng():this.layerPointToLatLng(ft.layerPoint)}for(Ne=0;Ne<oe.length;Ne++)if(oe[Ne].fire(A,ft,!0),ft.originalEvent._stopped||oe[Ne].options.bubblingMouseEvents===!1&&S(this._mouseEvents,A)!==-1)return}},_draggableMoved:function(b){return b=b.dragging&&b.dragging.enabled()?b:this,b.dragging&&b.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var b=0,A=this._handlers.length;b<A;b++)this._handlers[b].disable()},whenReady:function(b,A){return this._loaded?b.call(A||this,{target:this}):this.on("load",b,A),this},_getMapPanePos:function(){return Pn(this._mapPane)||new X(0,0)},_moved:function(){var b=this._getMapPanePos();return b&&!b.equals([0,0])},_getTopLeftPoint:function(b,A){var U=b&&A!==void 0?this._getNewPixelOrigin(b,A):this.getPixelOrigin();return U.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(b,A){var U=this.getSize()._divideBy(2);return this.project(b,A)._subtract(U)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(b,A,U){var Q=this._getNewPixelOrigin(U,A);return this.project(b,A)._subtract(Q)},_latLngBoundsToNewLayerBounds:function(b,A,U){var Q=this._getNewPixelOrigin(U,A);return re([this.project(b.getSouthWest(),A)._subtract(Q),this.project(b.getNorthWest(),A)._subtract(Q),this.project(b.getSouthEast(),A)._subtract(Q),this.project(b.getNorthEast(),A)._subtract(Q)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(b){return this.latLngToLayerPoint(b).subtract(this._getCenterLayerPoint())},_limitCenter:function(b,A,U){if(!U)return b;var Q=this.project(b,A),oe=this.getSize().divideBy(2),fe=new ie(Q.subtract(oe),Q.add(oe)),Ne=this._getBoundsOffset(fe,U,A);return Math.abs(Ne.x)<=1&&Math.abs(Ne.y)<=1?b:this.unproject(Q.add(Ne),A)},_limitOffset:function(b,A){if(!A)return b;var U=this.getPixelBounds(),Q=new ie(U.min.add(b),U.max.add(b));return b.add(this._getBoundsOffset(Q,A))},_getBoundsOffset:function(b,A,U){var Q=re(this.project(A.getNorthEast(),U),this.project(A.getSouthWest(),U)),oe=Q.min.subtract(b.min),fe=Q.max.subtract(b.max),Ne=this._rebound(oe.x,-fe.x),Xe=this._rebound(oe.y,-fe.y);return new X(Ne,Xe)},_rebound:function(b,A){return b+A>0?Math.round(b-A)/2:Math.max(0,Math.ceil(b))-Math.max(0,Math.floor(A))},_limitZoom:function(b){var A=this.getMinZoom(),U=this.getMaxZoom(),Q=Rt.any3d?this.options.zoomSnap:1;return Q&&(b=Math.round(b/Q)*Q),Math.max(A,Math.min(U,b))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(b,A){var U=this._getCenterOffset(b)._trunc();return(A&&A.animate)!==!0&&!this.getSize().contains(U)?!1:(this.panBy(U,A),!0)},_createAnimProxy:function(){var b=this._proxy=Gn("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(b),this.on("zoomanim",function(A){var U=dl,Q=this._proxy.style[U];hn(this._proxy,this.project(A.center,A.zoom),this.getZoomScale(A.zoom,1)),Q===this._proxy.style[U]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ge(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var b=this.getCenter(),A=this.getZoom();hn(this._proxy,this.project(b,A),this.getZoomScale(A,1))},_catchTransitionEnd:function(b){this._animatingZoom&&b.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(b,A,U){if(this._animatingZoom)return!0;if(U=U||{},!this._zoomAnimated||U.animate===!1||this._nothingToAnimate()||Math.abs(A-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Q=this.getZoomScale(A),oe=this._getCenterOffset(b)._divideBy(1-1/Q);return U.animate!==!0&&!this.getSize().contains(oe)?!1:(V(function(){this._moveStart(!0,!1)._animateZoom(b,A,!0)},this),!0)},_animateZoom:function(b,A,U,Q){!this._mapPane||(U&&(this._animatingZoom=!0,this._animateToCenter=b,this._animateToZoom=A,Ie(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:b,zoom:A,noUpdate:Q}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Or(b,A){return new Zn(b,A)}var gs=J.extend({options:{position:"topright"},initialize:function(b){g(this,b)},getPosition:function(){return this.options.position},setPosition:function(b){var A=this._map;return A&&A.removeControl(this),this.options.position=b,A&&A.addControl(this),this},getContainer:function(){return this._container},addTo:function(b){this.remove(),this._map=b;var A=this._container=this.onAdd(b),U=this.getPosition(),Q=b._controlCorners[U];return Ie(A,"leaflet-control"),U.indexOf("bottom")!==-1?Q.insertBefore(A,Q.firstChild):Q.appendChild(A),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ge(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(b){this._map&&b&&b.screenX>0&&b.screenY>0&&this._map.getContainer().focus()}}),ml=function(b){return new gs(b)};Zn.include({addControl:function(b){return b.addTo(this),this},removeControl:function(b){return b.remove(),this},_initControlPos:function(){var b=this._controlCorners={},A="leaflet-",U=this._controlContainer=Gn("div",A+"control-container",this._container);function Q(oe,fe){var Ne=A+oe+" "+A+fe;b[oe+fe]=Gn("div",Ne,U)}Q("top","left"),Q("top","right"),Q("bottom","left"),Q("bottom","right")},_clearControlPos:function(){for(var b in this._controlCorners)ge(this._controlCorners[b]);ge(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Rh=gs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(b,A,U,Q){return U<Q?-1:Q<U?1:0}},initialize:function(b,A,U){g(this,U),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var Q in b)this._addLayer(b[Q],Q);for(Q in A)this._addLayer(A[Q],Q,!0)},onAdd:function(b){this._initLayout(),this._update(),this._map=b,b.on("zoomend",this._checkDisabledLayers,this);for(var A=0;A<this._layers.length;A++)this._layers[A].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(b){return gs.prototype.addTo.call(this,b),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var b=0;b<this._layers.length;b++)this._layers[b].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(b,A){return this._addLayer(b,A),this._map?this._update():this},addOverlay:function(b,A){return this._addLayer(b,A,!0),this._map?this._update():this},removeLayer:function(b){b.off("add remove",this._onLayerChange,this);var A=this._getLayer(a(b));return A&&this._layers.splice(this._layers.indexOf(A),1),this._map?this._update():this},expand:function(){Ie(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var b=this._map.getSize().y-(this._container.offsetTop+50);return b<this._section.clientHeight?(Ie(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=b+"px"):dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var b="leaflet-control-layers",A=this._container=Gn("div",b),U=this.options.collapsed;A.setAttribute("aria-haspopup",!0),vc(A),Oh(A);var Q=this._section=Gn("section",b+"-list");U&&(this._map.on("click",this.collapse,this),wn(A,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var oe=this._layersLink=Gn("a",b+"-toggle",A);oe.href="#",oe.title="Layers",oe.setAttribute("role","button"),wn(oe,{keydown:function(fe){fe.keyCode===13&&this._expandSafely()},click:function(fe){$n(fe),this._expandSafely()}},this),U||this.expand(),this._baseLayersList=Gn("div",b+"-base",Q),this._separator=Gn("div",b+"-separator",Q),this._overlaysList=Gn("div",b+"-overlays",Q),A.appendChild(Q)},_getLayer:function(b){for(var A=0;A<this._layers.length;A++)if(this._layers[A]&&a(this._layers[A].layer)===b)return this._layers[A]},_addLayer:function(b,A,U){this._map&&b.on("add remove",this._onLayerChange,this),this._layers.push({layer:b,name:A,overlay:U}),this.options.sortLayers&&this._layers.sort(l(function(Q,oe){return this.options.sortFunction(Q.layer,oe.layer,Q.name,oe.name)},this)),this.options.autoZIndex&&b.setZIndex&&(this._lastZIndex++,b.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Re(this._baseLayersList),Re(this._overlaysList),this._layerControlInputs=[];var b,A,U,Q,oe=0;for(U=0;U<this._layers.length;U++)Q=this._layers[U],this._addItem(Q),A=A||Q.overlay,b=b||!Q.overlay,oe+=Q.overlay?0:1;return this.options.hideSingleBase&&(b=b&&oe>1,this._baseLayersList.style.display=b?"":"none"),this._separator.style.display=A&&b?"":"none",this},_onLayerChange:function(b){this._handlingClick||this._update();var A=this._getLayer(a(b.target)),U=A.overlay?b.type==="add"?"overlayadd":"overlayremove":b.type==="add"?"baselayerchange":null;U&&this._map.fire(U,A)},_createRadioElement:function(b,A){var U='<input type="radio" class="leaflet-control-layers-selector" name="'+b+'"'+(A?' checked="checked"':"")+"/>",Q=document.createElement("div");return Q.innerHTML=U,Q.firstChild},_addItem:function(b){var A=document.createElement("label"),U=this._map.hasLayer(b.layer),Q;b.overlay?(Q=document.createElement("input"),Q.type="checkbox",Q.className="leaflet-control-layers-selector",Q.defaultChecked=U):Q=this._createRadioElement("leaflet-base-layers_"+a(this),U),this._layerControlInputs.push(Q),Q.layerId=a(b.layer),wn(Q,"click",this._onInputClick,this);var oe=document.createElement("span");oe.innerHTML=" "+b.name;var fe=document.createElement("span");A.appendChild(fe),fe.appendChild(Q),fe.appendChild(oe);var Ne=b.overlay?this._overlaysList:this._baseLayersList;return Ne.appendChild(A),this._checkDisabledLayers(),A},_onInputClick:function(){var b=this._layerControlInputs,A,U,Q=[],oe=[];this._handlingClick=!0;for(var fe=b.length-1;fe>=0;fe--)A=b[fe],U=this._getLayer(A.layerId).layer,A.checked?Q.push(U):A.checked||oe.push(U);for(fe=0;fe<oe.length;fe++)this._map.hasLayer(oe[fe])&&this._map.removeLayer(oe[fe]);for(fe=0;fe<Q.length;fe++)this._map.hasLayer(Q[fe])||this._map.addLayer(Q[fe]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var b=this._layerControlInputs,A,U,Q=this._map.getZoom(),oe=b.length-1;oe>=0;oe--)A=b[oe],U=this._getLayer(A.layerId).layer,A.disabled=U.options.minZoom!==void 0&&Q<U.options.minZoom||U.options.maxZoom!==void 0&&Q>U.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var b=this._section;wn(b,"click",$n),this.expand(),setTimeout(function(){Si(b,"click",$n)})}}),zh=function(b,A,U){return new Rh(b,A,U)},es=gs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(b){var A="leaflet-control-zoom",U=Gn("div",A+" leaflet-bar"),Q=this.options;return this._zoomInButton=this._createButton(Q.zoomInText,Q.zoomInTitle,A+"-in",U,this._zoomIn),this._zoomOutButton=this._createButton(Q.zoomOutText,Q.zoomOutTitle,A+"-out",U,this._zoomOut),this._updateDisabled(),b.on("zoomend zoomlevelschange",this._updateDisabled,this),U},onRemove:function(b){b.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(b){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(b.shiftKey?3:1))},_zoomOut:function(b){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(b.shiftKey?3:1))},_createButton:function(b,A,U,Q,oe){var fe=Gn("a",U,Q);return fe.innerHTML=b,fe.href="#",fe.title=A,fe.setAttribute("role","button"),fe.setAttribute("aria-label",A),vc(fe),wn(fe,"click",ii),wn(fe,"click",oe,this),wn(fe,"click",this._refocusOnMap,this),fe},_updateDisabled:function(){var b=this._map,A="leaflet-disabled";dt(this._zoomInButton,A),dt(this._zoomOutButton,A),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||b._zoom===b.getMinZoom())&&(Ie(this._zoomOutButton,A),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||b._zoom===b.getMaxZoom())&&(Ie(this._zoomInButton,A),this._zoomInButton.setAttribute("aria-disabled","true"))}});Zn.mergeOptions({zoomControl:!0}),Zn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new es,this.addControl(this.zoomControl))});var f_=function(b){return new es(b)},jh=gs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(b){var A="leaflet-control-scale",U=Gn("div",A),Q=this.options;return this._addScales(Q,A+"-line",U),b.on(Q.updateWhenIdle?"moveend":"move",this._update,this),b.whenReady(this._update,this),U},onRemove:function(b){b.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(b,A,U){b.metric&&(this._mScale=Gn("div",A,U)),b.imperial&&(this._iScale=Gn("div",A,U))},_update:function(){var b=this._map,A=b.getSize().y/2,U=b.distance(b.containerPointToLatLng([0,A]),b.containerPointToLatLng([this.options.maxWidth,A]));this._updateScales(U)},_updateScales:function(b){this.options.metric&&b&&this._updateMetric(b),this.options.imperial&&b&&this._updateImperial(b)},_updateMetric:function(b){var A=this._getRoundNum(b),U=A<1e3?A+" m":A/1e3+" km";this._updateScale(this._mScale,U,A/b)},_updateImperial:function(b){var A=b*3.2808399,U,Q,oe;A>5280?(U=A/5280,Q=this._getRoundNum(U),this._updateScale(this._iScale,Q+" mi",Q/U)):(oe=this._getRoundNum(A),this._updateScale(this._iScale,oe+" ft",oe/A))},_updateScale:function(b,A,U){b.style.width=Math.round(this.options.maxWidth*U)+"px",b.innerHTML=A},_getRoundNum:function(b){var A=Math.pow(10,(Math.floor(b)+"").length-1),U=b/A;return U=U>=10?10:U>=5?5:U>=3?3:U>=2?2:1,A*U}}),d_=function(b){return new jh(b)},h_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',zf=gs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Rt.inlineSvg?h_+" ":"")+"Leaflet</a>"},initialize:function(b){g(this,b),this._attributions={}},onAdd:function(b){b.attributionControl=this,this._container=Gn("div","leaflet-control-attribution"),vc(this._container);for(var A in b._layers)b._layers[A].getAttribution&&this.addAttribution(b._layers[A].getAttribution());return this._update(),b.on("layeradd",this._addAttribution,this),this._container},onRemove:function(b){b.off("layeradd",this._addAttribution,this)},_addAttribution:function(b){b.layer.getAttribution&&(this.addAttribution(b.layer.getAttribution()),b.layer.once("remove",function(){this.removeAttribution(b.layer.getAttribution())},this))},setPrefix:function(b){return this.options.prefix=b,this._update(),this},addAttribution:function(b){return b?(this._attributions[b]||(this._attributions[b]=0),this._attributions[b]++,this._update(),this):this},removeAttribution:function(b){return b?(this._attributions[b]&&(this._attributions[b]--,this._update()),this):this},_update:function(){if(!!this._map){var b=[];for(var A in this._attributions)this._attributions[A]&&b.push(A);var U=[];this.options.prefix&&U.push(this.options.prefix),b.length&&U.push(b.join(", ")),this._container.innerHTML=U.join(' <span aria-hidden="true">|</span> ')}}});Zn.mergeOptions({attributionControl:!0}),Zn.addInitHook(function(){this.options.attributionControl&&new zf().addTo(this)});var m_=function(b){return new zf(b)};gs.Layers=Rh,gs.Zoom=es,gs.Scale=jh,gs.Attribution=zf,ml.layers=zh,ml.zoom=f_,ml.scale=d_,ml.attribution=m_;var Ji=J.extend({initialize:function(b){this._map=b},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ji.addTo=function(b,A){return b.addHandler(A,this),this};var ov={Events:le},vs=Rt.touch?"touchstart mousedown":"mousedown",Eo=G.extend({options:{clickTolerance:3},initialize:function(b,A,U,Q){g(this,Q),this._element=b,this._dragStartTarget=A||b,this._preventOutline=U},enable:function(){this._enabled||(wn(this._dragStartTarget,vs,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(Eo._dragging===this&&this.finishDrag(!0),Si(this._dragStartTarget,vs,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(b){if(!!this._enabled&&(this._moved=!1,!Ge(this._element,"leaflet-zoom-anim"))){if(b.touches&&b.touches.length!==1){Eo._dragging===this&&this.finishDrag();return}if(!(Eo._dragging||b.shiftKey||b.which!==1&&b.button!==1&&!b.touches)&&(Eo._dragging=this,this._preventOutline&&hu(this._element),ka(),vi(),!this._moving)){this.fire("down");var A=b.touches?b.touches[0]:b,U=_c(this._element);this._startPoint=new X(A.clientX,A.clientY),this._startPos=Pn(this._element),this._parentScale=Nh(U);var Q=b.type==="mousedown";wn(document,Q?"mousemove":"touchmove",this._onMove,this),wn(document,Q?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(b){if(!!this._enabled){if(b.touches&&b.touches.length>1){this._moved=!0;return}var A=b.touches&&b.touches.length===1?b.touches[0]:b,U=new X(A.clientX,A.clientY)._subtract(this._startPoint);!U.x&&!U.y||Math.abs(U.x)+Math.abs(U.y)<this.options.clickTolerance||(U.x/=this._parentScale.x,U.y/=this._parentScale.y,$n(b),this._moved||(this.fire("dragstart"),this._moved=!0,Ie(document.body,"leaflet-dragging"),this._lastTarget=b.target||b.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ie(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(U),this._moving=!0,this._lastEvent=b,this._updatePosition())}},_updatePosition:function(){var b={originalEvent:this._lastEvent};this.fire("predrag",b),nn(this._element,this._newPos),this.fire("drag",b)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(b){dt(document.body,"leaflet-dragging"),this._lastTarget&&(dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Si(document,"mousemove touchmove",this._onMove,this),Si(document,"mouseup touchend touchcancel",this._onUp,this),du(),ni(),this._moved&&this._moving&&this.fire("dragend",{noInertia:b,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Eo._dragging=!1}});function Yh(b,A){if(!A||!b.length)return b.slice();var U=A*A;return b=Co(b,U),b=Uh(b,U),b}function Kl(b,A,U){return Math.sqrt(bc(b,A,U,!0))}function jf(b,A,U){return bc(b,A,U)}function Uh(b,A){var U=b.length,Q=typeof Uint8Array!=void 0+""?Uint8Array:Array,oe=new Q(U);oe[0]=oe[U-1]=1,Ti(b,oe,A,0,U-1);var fe,Ne=[];for(fe=0;fe<U;fe++)oe[fe]&&Ne.push(b[fe]);return Ne}function Ti(b,A,U,Q,oe){var fe=0,Ne,Xe,ft;for(Xe=Q+1;Xe<=oe-1;Xe++)ft=bc(b[Xe],b[Q],b[oe],!0),ft>fe&&(Ne=Xe,fe=ft);fe>U&&(A[Ne]=1,Ti(b,A,U,Q,Ne),Ti(b,A,U,Ne,oe))}function Co(b,A){for(var U=[b[0]],Q=1,oe=0,fe=b.length;Q<fe;Q++)av(b[Q],b[oe])>A&&(U.push(b[Q]),oe=Q);return oe<fe-1&&U.push(b[fe-1]),U}var Yf;function p_(b,A,U,Q,oe){var fe=Q?Yf:wa(b,U),Ne=wa(A,U),Xe,ft,wt;for(Yf=Ne;;){if(!(fe|Ne))return[b,A];if(fe&Ne)return!1;Xe=fe||Ne,ft=pu(b,A,Xe,U,oe),wt=wa(ft,U),Xe===fe?(b=ft,fe=wt):(A=ft,Ne=wt)}}function pu(b,A,U,Q,oe){var fe=A.x-b.x,Ne=A.y-b.y,Xe=Q.min,ft=Q.max,wt,Vt;return U&8?(wt=b.x+fe*(ft.y-b.y)/Ne,Vt=ft.y):U&4?(wt=b.x+fe*(Xe.y-b.y)/Ne,Vt=Xe.y):U&2?(wt=ft.x,Vt=b.y+Ne*(ft.x-b.x)/fe):U&1&&(wt=Xe.x,Vt=b.y+Ne*(Xe.x-b.x)/fe),new X(wt,Vt,oe)}function wa(b,A){var U=0;return b.x<A.min.x?U|=1:b.x>A.max.x&&(U|=2),b.y<A.min.y?U|=4:b.y>A.max.y&&(U|=8),U}function av(b,A){var U=A.x-b.x,Q=A.y-b.y;return U*U+Q*Q}function bc(b,A,U,Q){var oe=A.x,fe=A.y,Ne=U.x-oe,Xe=U.y-fe,ft=Ne*Ne+Xe*Xe,wt;return ft>0&&(wt=((b.x-oe)*Ne+(b.y-fe)*Xe)/ft,wt>1?(oe=U.x,fe=U.y):wt>0&&(oe+=Ne*wt,fe+=Xe*wt)),Ne=b.x-oe,Xe=b.y-fe,Q?Ne*Ne+Xe*Xe:new X(oe,fe)}function bs(b){return!E(b[0])||typeof b[0][0]!="object"&&typeof b[0][0]<"u"}function kc(b){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),bs(b)}function $a(b,A){var U,Q,oe,fe,Ne,Xe,ft,wt;if(!b||b.length===0)throw new Error("latlngs not passed");bs(b)||(console.warn("latlngs are not flat! Only the first ring will be used"),b=b[0]);var Vt=[];for(var un in b)Vt.push(A.project(Be(b[un])));var Dn=Vt.length;for(U=0,Q=0;U<Dn-1;U++)Q+=Vt[U].distanceTo(Vt[U+1])/2;if(Q===0)wt=Vt[0];else for(U=0,fe=0;U<Dn-1;U++)if(Ne=Vt[U],Xe=Vt[U+1],oe=Ne.distanceTo(Xe),fe+=oe,fe>Q){ft=(fe-Q)/oe,wt=[Xe.x-ft*(Xe.x-Ne.x),Xe.y-ft*(Xe.y-Ne.y)];break}return A.unproject(te(wt))}var uv={__proto__:null,simplify:Yh,pointToSegmentDistance:Kl,closestPointOnSegment:jf,clipSegment:p_,_getEdgeIntersection:pu,_getBitCode:wa,_sqClosestPointOnSegment:bc,isFlat:bs,_flat:kc,polylineCenter:$a};function Wh(b,A,U){var Q,oe=[1,4,2,8],fe,Ne,Xe,ft,wt,Vt,un,Dn;for(fe=0,Vt=b.length;fe<Vt;fe++)b[fe]._code=wa(b[fe],A);for(Xe=0;Xe<4;Xe++){for(un=oe[Xe],Q=[],fe=0,Vt=b.length,Ne=Vt-1;fe<Vt;Ne=fe++)ft=b[fe],wt=b[Ne],ft._code&un?wt._code&un||(Dn=pu(wt,ft,un,A,U),Dn._code=wa(Dn,A),Q.push(Dn)):(wt._code&un&&(Dn=pu(wt,ft,un,A,U),Dn._code=wa(Dn,A),Q.push(Dn)),Q.push(ft));b=Q}return b}function qh(b,A){var U,Q,oe,fe,Ne,Xe,ft,wt,Vt;if(!b||b.length===0)throw new Error("latlngs not passed");bs(b)||(console.warn("latlngs are not flat! Only the first ring will be used"),b=b[0]);var un=[];for(var Dn in b)un.push(A.project(Be(b[Dn])));var ts=un.length;for(Xe=ft=wt=0,U=0,Q=ts-1;U<ts;Q=U++)oe=un[U],fe=un[Q],Ne=oe.y*fe.x-fe.y*oe.x,ft+=(oe.x+fe.x)*Ne,wt+=(oe.y+fe.y)*Ne,Xe+=Ne*3;return Xe===0?Vt=un[0]:Vt=[ft/Xe,wt/Xe],A.unproject(te(Vt))}var Hh={__proto__:null,clipPolygon:Wh,polygonCenter:qh},yc={project:function(b){return new X(b.lng,b.lat)},unproject:function(b){return new De(b.y,b.x)},bounds:new ie([-180,-90],[180,90])},Uf={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ie([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(b){var A=Math.PI/180,U=this.R,Q=b.lat*A,oe=this.R_MINOR/U,fe=Math.sqrt(1-oe*oe),Ne=fe*Math.sin(Q),Xe=Math.tan(Math.PI/4-Q/2)/Math.pow((1-Ne)/(1+Ne),fe/2);return Q=-U*Math.log(Math.max(Xe,1e-10)),new X(b.lng*A*U,Q)},unproject:function(b){for(var A=180/Math.PI,U=this.R,Q=this.R_MINOR/U,oe=Math.sqrt(1-Q*Q),fe=Math.exp(-b.y/U),Ne=Math.PI/2-2*Math.atan(fe),Xe=0,ft=.1,wt;Xe<15&&Math.abs(ft)>1e-7;Xe++)wt=oe*Math.sin(Ne),wt=Math.pow((1-wt)/(1+wt),oe/2),ft=Math.PI/2-2*Math.atan(fe*wt)-Ne,Ne+=ft;return new De(Ne*A,b.x*A/U)}},cv={__proto__:null,LonLat:yc,Mercator:Uf,SphericalMercator:Ce},Vh=r({},ke,{code:"EPSG:3395",projection:Uf,transformation:function(){var b=.5/(Math.PI*Uf.R);return $t(b,.5,-b,.5)}()}),Wf=r({},ke,{code:"EPSG:4326",projection:yc,transformation:$t(1/180,1,-1/180,.5)}),fv=r({},ze,{projection:yc,transformation:$t(1,0,-1,0),scale:function(b){return Math.pow(2,b)},zoom:function(b){return Math.log(b)/Math.LN2},distance:function(b,A){var U=A.lng-b.lng,Q=A.lat-b.lat;return Math.sqrt(U*U+Q*Q)},infinite:!0});ze.Earth=ke,ze.EPSG3395=Vh,ze.EPSG3857=bt,ze.EPSG900913=Tt,ze.EPSG4326=Wf,ze.Simple=fv;var js=G.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(b){return b.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(b){return b&&b.removeLayer(this),this},getPane:function(b){return this._map.getPane(b?this.options[b]||b:this.options.pane)},addInteractiveTarget:function(b){return this._map._targets[a(b)]=this,this},removeInteractiveTarget:function(b){return delete this._map._targets[a(b)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(b){var A=b.target;if(!!A.hasLayer(this)){if(this._map=A,this._zoomAnimated=A._zoomAnimated,this.getEvents){var U=this.getEvents();A.on(U,this),this.once("remove",function(){A.off(U,this)},this)}this.onAdd(A),this.fire("add"),A.fire("layeradd",{layer:this})}}});Zn.include({addLayer:function(b){if(!b._layerAdd)throw new Error("The provided object is not a Layer.");var A=a(b);return this._layers[A]?this:(this._layers[A]=b,b._mapToAdd=this,b.beforeAdd&&b.beforeAdd(this),this.whenReady(b._layerAdd,b),this)},removeLayer:function(b){var A=a(b);return this._layers[A]?(this._loaded&&b.onRemove(this),delete this._layers[A],this._loaded&&(this.fire("layerremove",{layer:b}),b.fire("remove")),b._map=b._mapToAdd=null,this):this},hasLayer:function(b){return a(b)in this._layers},eachLayer:function(b,A){for(var U in this._layers)b.call(A,this._layers[U]);return this},_addLayers:function(b){b=b?E(b)?b:[b]:[];for(var A=0,U=b.length;A<U;A++)this.addLayer(b[A])},_addZoomLimit:function(b){(!isNaN(b.options.maxZoom)||!isNaN(b.options.minZoom))&&(this._zoomBoundLayers[a(b)]=b,this._updateZoomLevels())},_removeZoomLimit:function(b){var A=a(b);this._zoomBoundLayers[A]&&(delete this._zoomBoundLayers[A],this._updateZoomLevels())},_updateZoomLevels:function(){var b=1/0,A=-1/0,U=this._getZoomSpan();for(var Q in this._zoomBoundLayers){var oe=this._zoomBoundLayers[Q].options;b=oe.minZoom===void 0?b:Math.min(b,oe.minZoom),A=oe.maxZoom===void 0?A:Math.max(A,oe.maxZoom)}this._layersMaxZoom=A===-1/0?void 0:A,this._layersMinZoom=b===1/0?void 0:b,U!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Fr=js.extend({initialize:function(b,A){g(this,A),this._layers={};var U,Q;if(b)for(U=0,Q=b.length;U<Q;U++)this.addLayer(b[U])},addLayer:function(b){var A=this.getLayerId(b);return this._layers[A]=b,this._map&&this._map.addLayer(b),this},removeLayer:function(b){var A=b in this._layers?b:this.getLayerId(b);return this._map&&this._layers[A]&&this._map.removeLayer(this._layers[A]),delete this._layers[A],this},hasLayer:function(b){var A=typeof b=="number"?b:this.getLayerId(b);return A in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(b){var A=Array.prototype.slice.call(arguments,1),U,Q;for(U in this._layers)Q=this._layers[U],Q[b]&&Q[b].apply(Q,A);return this},onAdd:function(b){this.eachLayer(b.addLayer,b)},onRemove:function(b){this.eachLayer(b.removeLayer,b)},eachLayer:function(b,A){for(var U in this._layers)b.call(A,this._layers[U]);return this},getLayer:function(b){return this._layers[b]},getLayers:function(){var b=[];return this.eachLayer(b.push,b),b},setZIndex:function(b){return this.invoke("setZIndex",b)},getLayerId:function(b){return a(b)}}),xh=function(b,A){return new Fr(b,A)},ks=Fr.extend({addLayer:function(b){return this.hasLayer(b)?this:(b.addEventParent(this),Fr.prototype.addLayer.call(this,b),this.fire("layeradd",{layer:b}))},removeLayer:function(b){return this.hasLayer(b)?(b in this._layers&&(b=this._layers[b]),b.removeEventParent(this),Fr.prototype.removeLayer.call(this,b),this.fire("layerremove",{layer:b})):this},setStyle:function(b){return this.invoke("setStyle",b)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var b=new be;for(var A in this._layers){var U=this._layers[A];b.extend(U.getBounds?U.getBounds():U.getLatLng())}return b}}),__=function(b,A){return new ks(b,A)},Fa=J.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(b){g(this,b)},createIcon:function(b){return this._createIcon("icon",b)},createShadow:function(b){return this._createIcon("shadow",b)},_createIcon:function(b,A){var U=this._getIconUrl(b);if(!U){if(b==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Q=this._createImg(U,A&&A.tagName==="IMG"?A:null);return this._setIconStyles(Q,b),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Q.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),Q},_setIconStyles:function(b,A){var U=this.options,Q=U[A+"Size"];typeof Q=="number"&&(Q=[Q,Q]);var oe=te(Q),fe=te(A==="shadow"&&U.shadowAnchor||U.iconAnchor||oe&&oe.divideBy(2,!0));b.className="leaflet-marker-"+A+" "+(U.className||""),fe&&(b.style.marginLeft=-fe.x+"px",b.style.marginTop=-fe.y+"px"),oe&&(b.style.width=oe.x+"px",b.style.height=oe.y+"px")},_createImg:function(b,A){return A=A||document.createElement("img"),A.src=b,A},_getIconUrl:function(b){return Rt.retina&&this.options[b+"RetinaUrl"]||this.options[b+"Url"]}});function dv(b){return new Fa(b)}var wc=Fa.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(b){return typeof wc.imagePath!="string"&&(wc.imagePath=this._detectIconPath()),(this.options.imagePath||wc.imagePath)+Fa.prototype._getIconUrl.call(this,b)},_stripUrl:function(b){var A=function(U,Q,oe){var fe=Q.exec(U);return fe&&fe[oe]};return b=A(b,/^url\((['"])?(.+)\1\)$/,2),b&&A(b,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var b=Gn("div","leaflet-default-icon-path",document.body),A=ba(b,"background-image")||ba(b,"backgroundImage");if(document.body.removeChild(b),A=this._stripUrl(A),A)return A;var U=document.querySelector('link[href$="leaflet.css"]');return U?U.href.substring(0,U.href.length-11-1):""}}),g_=Ji.extend({initialize:function(b){this._marker=b},addHooks:function(){var b=this._marker._icon;this._draggable||(this._draggable=new Eo(b,b,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ie(b,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(b){var A=this._marker,U=A._map,Q=this._marker.options.autoPanSpeed,oe=this._marker.options.autoPanPadding,fe=Pn(A._icon),Ne=U.getPixelBounds(),Xe=U.getPixelOrigin(),ft=re(Ne.min._subtract(Xe).add(oe),Ne.max._subtract(Xe).subtract(oe));if(!ft.contains(fe)){var wt=te((Math.max(ft.max.x,fe.x)-ft.max.x)/(Ne.max.x-ft.max.x)-(Math.min(ft.min.x,fe.x)-ft.min.x)/(Ne.min.x-ft.min.x),(Math.max(ft.max.y,fe.y)-ft.max.y)/(Ne.max.y-ft.max.y)-(Math.min(ft.min.y,fe.y)-ft.min.y)/(Ne.min.y-ft.min.y)).multiplyBy(Q);U.panBy(wt,{animate:!1}),this._draggable._newPos._add(wt),this._draggable._startPos._add(wt),nn(A._icon,this._draggable._newPos),this._onDrag(b),this._panRequest=V(this._adjustPan.bind(this,b))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(b){this._marker.options.autoPan&&(x(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,b)))},_onDrag:function(b){var A=this._marker,U=A._shadow,Q=Pn(A._icon),oe=A._map.layerPointToLatLng(Q);U&&nn(U,Q),A._latlng=oe,b.latlng=oe,b.oldLatLng=this._oldLatLng,A.fire("move",b).fire("drag",b)},_onDragEnd:function(b){x(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",b)}}),qf=js.extend({options:{icon:new wc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(b,A){g(this,A),this._latlng=Be(b)},onAdd:function(b){this._zoomAnimated=this._zoomAnimated&&b.options.markerZoomAnimation,this._zoomAnimated&&b.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(b){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&b.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(b){var A=this._latlng;return this._latlng=Be(b),this.update(),this.fire("move",{oldLatLng:A,latlng:this._latlng})},setZIndexOffset:function(b){return this.options.zIndexOffset=b,this.update()},getIcon:function(){return this.options.icon},setIcon:function(b){return this.options.icon=b,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var b=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(b)}return this},_initIcon:function(){var b=this.options,A="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),U=b.icon.createIcon(this._icon),Q=!1;U!==this._icon&&(this._icon&&this._removeIcon(),Q=!0,b.title&&(U.title=b.title),U.tagName==="IMG"&&(U.alt=b.alt||"")),Ie(U,A),b.keyboard&&(U.tabIndex="0",U.setAttribute("role","button")),this._icon=U,b.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&wn(U,"focus",this._panOnFocus,this);var oe=b.icon.createShadow(this._shadow),fe=!1;oe!==this._shadow&&(this._removeShadow(),fe=!0),oe&&(Ie(oe,A),oe.alt=""),this._shadow=oe,b.opacity<1&&this._updateOpacity(),Q&&this.getPane().appendChild(this._icon),this._initInteraction(),oe&&fe&&this.getPane(b.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Si(this._icon,"focus",this._panOnFocus,this),ge(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ge(this._shadow),this._shadow=null},_setPos:function(b){this._icon&&nn(this._icon,b),this._shadow&&nn(this._shadow,b),this._zIndex=b.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(b){this._icon&&(this._icon.style.zIndex=this._zIndex+b)},_animateZoom:function(b){var A=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center).round();this._setPos(A)},_initInteraction:function(){if(!!this.options.interactive&&(Ie(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),g_)){var b=this.options.draggable;this.dragging&&(b=this.dragging.enabled(),this.dragging.disable()),this.dragging=new g_(this),b&&this.dragging.enable()}},setOpacity:function(b){return this.options.opacity=b,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var b=this.options.opacity;this._icon&&Et(this._icon,b),this._shadow&&Et(this._shadow,b)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var b=this._map;if(!!b){var A=this.options.icon.options,U=A.iconSize?te(A.iconSize):te(0,0),Q=A.iconAnchor?te(A.iconAnchor):te(0,0);b.panInside(this._latlng,{paddingTopLeft:Q,paddingBottomRight:U.subtract(Q)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function hv(b,A){return new qf(b,A)}var ys=js.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(b){this._renderer=b.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(b){return g(this,b),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&b&&Object.prototype.hasOwnProperty.call(b,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hf=ys.extend({options:{fill:!0,radius:10},initialize:function(b,A){g(this,A),this._latlng=Be(b),this._radius=this.options.radius},setLatLng:function(b){var A=this._latlng;return this._latlng=Be(b),this.redraw(),this.fire("move",{oldLatLng:A,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(b){return this.options.radius=this._radius=b,this.redraw()},getRadius:function(){return this._radius},setStyle:function(b){var A=b&&b.radius||this._radius;return ys.prototype.setStyle.call(this,b),this.setRadius(A),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var b=this._radius,A=this._radiusY||b,U=this._clickTolerance(),Q=[b+U,A+U];this._pxBounds=new ie(this._point.subtract(Q),this._point.add(Q))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(b){return b.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function mv(b,A){return new Hf(b,A)}var $c=Hf.extend({initialize:function(b,A,U){if(typeof A=="number"&&(A=r({},U,{radius:A})),g(this,A),this._latlng=Be(b),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(b){return this._mRadius=b,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var b=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(b)),this._map.layerPointToLatLng(this._point.add(b)))},setStyle:ys.prototype.setStyle,_project:function(){var b=this._latlng.lng,A=this._latlng.lat,U=this._map,Q=U.options.crs;if(Q.distance===ke.distance){var oe=Math.PI/180,fe=this._mRadius/ke.R/oe,Ne=U.project([A+fe,b]),Xe=U.project([A-fe,b]),ft=Ne.add(Xe).divideBy(2),wt=U.unproject(ft).lat,Vt=Math.acos((Math.cos(fe*oe)-Math.sin(A*oe)*Math.sin(wt*oe))/(Math.cos(A*oe)*Math.cos(wt*oe)))/oe;(isNaN(Vt)||Vt===0)&&(Vt=fe/Math.cos(Math.PI/180*A)),this._point=ft.subtract(U.getPixelOrigin()),this._radius=isNaN(Vt)?0:ft.x-U.project([wt,b-Vt]).x,this._radiusY=ft.y-Ne.y}else{var un=Q.unproject(Q.project(this._latlng).subtract([this._mRadius,0]));this._point=U.latLngToLayerPoint(this._latlng),this._radius=this._point.x-U.latLngToLayerPoint(un).x}this._updateBounds()}});function v_(b,A,U){return new $c(b,A,U)}var Yr=ys.extend({options:{smoothFactor:1,noClip:!1},initialize:function(b,A){g(this,A),this._setLatLngs(b)},getLatLngs:function(){return this._latlngs},setLatLngs:function(b){return this._setLatLngs(b),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(b){for(var A=1/0,U=null,Q=bc,oe,fe,Ne=0,Xe=this._parts.length;Ne<Xe;Ne++)for(var ft=this._parts[Ne],wt=1,Vt=ft.length;wt<Vt;wt++){oe=ft[wt-1],fe=ft[wt];var un=Q(b,oe,fe,!0);un<A&&(A=un,U=Q(b,oe,fe))}return U&&(U.distance=Math.sqrt(A)),U},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $a(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(b,A){return A=A||this._defaultShape(),b=Be(b),A.push(b),this._bounds.extend(b),this.redraw()},_setLatLngs:function(b){this._bounds=new be,this._latlngs=this._convertLatLngs(b)},_defaultShape:function(){return bs(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(b){for(var A=[],U=bs(b),Q=0,oe=b.length;Q<oe;Q++)U?(A[Q]=Be(b[Q]),this._bounds.extend(A[Q])):A[Q]=this._convertLatLngs(b[Q]);return A},_project:function(){var b=new ie;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,b),this._bounds.isValid()&&b.isValid()&&(this._rawPxBounds=b,this._updateBounds())},_updateBounds:function(){var b=this._clickTolerance(),A=new X(b,b);!this._rawPxBounds||(this._pxBounds=new ie([this._rawPxBounds.min.subtract(A),this._rawPxBounds.max.add(A)]))},_projectLatlngs:function(b,A,U){var Q=b[0]instanceof De,oe=b.length,fe,Ne;if(Q){for(Ne=[],fe=0;fe<oe;fe++)Ne[fe]=this._map.latLngToLayerPoint(b[fe]),U.extend(Ne[fe]);A.push(Ne)}else for(fe=0;fe<oe;fe++)this._projectLatlngs(b[fe],A,U)},_clipPoints:function(){var b=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(b))){if(this.options.noClip){this._parts=this._rings;return}var A=this._parts,U,Q,oe,fe,Ne,Xe,ft;for(U=0,oe=0,fe=this._rings.length;U<fe;U++)for(ft=this._rings[U],Q=0,Ne=ft.length;Q<Ne-1;Q++)Xe=p_(ft[Q],ft[Q+1],b,Q,!0),Xe&&(A[oe]=A[oe]||[],A[oe].push(Xe[0]),(Xe[1]!==ft[Q+1]||Q===Ne-2)&&(A[oe].push(Xe[1]),oe++))}},_simplifyPoints:function(){for(var b=this._parts,A=this.options.smoothFactor,U=0,Q=b.length;U<Q;U++)b[U]=Yh(b[U],A)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(b,A){var U,Q,oe,fe,Ne,Xe,ft=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(b))return!1;for(U=0,fe=this._parts.length;U<fe;U++)for(Xe=this._parts[U],Q=0,Ne=Xe.length,oe=Ne-1;Q<Ne;oe=Q++)if(!(!A&&Q===0)&&Kl(b,Xe[oe],Xe[Q])<=ft)return!0;return!1}});function Vf(b,A){return new Yr(b,A)}Yr._flat=kc;var _u=Yr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return qh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(b){var A=Yr.prototype._convertLatLngs.call(this,b),U=A.length;return U>=2&&A[0]instanceof De&&A[0].equals(A[U-1])&&A.pop(),A},_setLatLngs:function(b){Yr.prototype._setLatLngs.call(this,b),bs(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return bs(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var b=this._renderer._bounds,A=this.options.weight,U=new X(A,A);if(b=new ie(b.min.subtract(U),b.max.add(U)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(b))){if(this.options.noClip){this._parts=this._rings;return}for(var Q=0,oe=this._rings.length,fe;Q<oe;Q++)fe=Wh(this._rings[Q],b,!0),fe.length&&this._parts.push(fe)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(b){var A=!1,U,Q,oe,fe,Ne,Xe,ft,wt;if(!this._pxBounds||!this._pxBounds.contains(b))return!1;for(fe=0,ft=this._parts.length;fe<ft;fe++)for(U=this._parts[fe],Ne=0,wt=U.length,Xe=wt-1;Ne<wt;Xe=Ne++)Q=U[Ne],oe=U[Xe],Q.y>b.y!=oe.y>b.y&&b.x<(oe.x-Q.x)*(b.y-Q.y)/(oe.y-Q.y)+Q.x&&(A=!A);return A||Yr.prototype._containsPoint.call(this,b,!0)}});function pv(b,A){return new _u(b,A)}var Jl=ks.extend({initialize:function(b,A){g(this,A),this._layers={},b&&this.addData(b)},addData:function(b){var A=E(b)?b:b.features,U,Q,oe;if(A){for(U=0,Q=A.length;U<Q;U++)oe=A[U],(oe.geometries||oe.geometry||oe.features||oe.coordinates)&&this.addData(oe);return this}var fe=this.options;if(fe.filter&&!fe.filter(b))return this;var Ne=Ql(b,fe);return Ne?(Ne.feature=Xf(b),Ne.defaultOptions=Ne.options,this.resetStyle(Ne),fe.onEachFeature&&fe.onEachFeature(b,Ne),this.addLayer(Ne)):this},resetStyle:function(b){return b===void 0?this.eachLayer(this.resetStyle,this):(b.options=r({},b.defaultOptions),this._setLayerStyle(b,this.options.style),this)},setStyle:function(b){return this.eachLayer(function(A){this._setLayerStyle(A,b)},this)},_setLayerStyle:function(b,A){b.setStyle&&(typeof A=="function"&&(A=A(b.feature)),b.setStyle(A))}});function Ql(b,A){var U=b.type==="Feature"?b.geometry:b,Q=U?U.coordinates:null,oe=[],fe=A&&A.pointToLayer,Ne=A&&A.coordsToLatLng||xf,Xe,ft,wt,Vt;if(!Q&&!U)return null;switch(U.type){case"Point":return Xe=Ne(Q),Ys(fe,b,Xe,A);case"MultiPoint":for(wt=0,Vt=Q.length;wt<Vt;wt++)Xe=Ne(Q[wt]),oe.push(Ys(fe,b,Xe,A));return new ks(oe);case"LineString":case"MultiLineString":return ft=Gf(Q,U.type==="LineString"?0:1,Ne),new Yr(ft,A);case"Polygon":case"MultiPolygon":return ft=Gf(Q,U.type==="Polygon"?1:2,Ne),new _u(ft,A);case"GeometryCollection":for(wt=0,Vt=U.geometries.length;wt<Vt;wt++){var un=Ql({geometry:U.geometries[wt],type:"Feature",properties:b.properties},A);un&&oe.push(un)}return new ks(oe);case"FeatureCollection":for(wt=0,Vt=U.features.length;wt<Vt;wt++){var Dn=Ql(U.features[wt],A);Dn&&oe.push(Dn)}return new ks(oe);default:throw new Error("Invalid GeoJSON object.")}}function Ys(b,A,U,Q){return b?b(A,U):new qf(U,Q&&Q.markersInheritOptions&&Q)}function xf(b){return new De(b[1],b[0],b[2])}function Gf(b,A,U){for(var Q=[],oe=0,fe=b.length,Ne;oe<fe;oe++)Ne=A?Gf(b[oe],A-1,U):(U||xf)(b[oe]),Q.push(Ne);return Q}function Gh(b,A){return b=Be(b),b.alt!==void 0?[d(b.lng,A),d(b.lat,A),d(b.alt,A)]:[d(b.lng,A),d(b.lat,A)]}function Zf(b,A,U,Q){for(var oe=[],fe=0,Ne=b.length;fe<Ne;fe++)oe.push(A?Zf(b[fe],bs(b[fe])?0:A-1,U,Q):Gh(b[fe],Q));return!A&&U&&oe.push(oe[0].slice()),oe}function gu(b,A){return b.feature?r({},b.feature,{geometry:A}):Xf(A)}function Xf(b){return b.type==="Feature"||b.type==="FeatureCollection"?b:{type:"Feature",properties:{},geometry:b}}var Do={toGeoJSON:function(b){return gu(this,{type:"Point",coordinates:Gh(this.getLatLng(),b)})}};qf.include(Do),$c.include(Do),Hf.include(Do),Yr.include({toGeoJSON:function(b){var A=!bs(this._latlngs),U=Zf(this._latlngs,A?1:0,!1,b);return gu(this,{type:(A?"Multi":"")+"LineString",coordinates:U})}}),_u.include({toGeoJSON:function(b){var A=!bs(this._latlngs),U=A&&!bs(this._latlngs[0]),Q=Zf(this._latlngs,U?2:A?1:0,!0,b);return A||(Q=[Q]),gu(this,{type:(U?"Multi":"")+"Polygon",coordinates:Q})}}),Fr.include({toMultiPoint:function(b){var A=[];return this.eachLayer(function(U){A.push(U.toGeoJSON(b).geometry.coordinates)}),gu(this,{type:"MultiPoint",coordinates:A})},toGeoJSON:function(b){var A=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(A==="MultiPoint")return this.toMultiPoint(b);var U=A==="GeometryCollection",Q=[];return this.eachLayer(function(oe){if(oe.toGeoJSON){var fe=oe.toGeoJSON(b);if(U)Q.push(fe.geometry);else{var Ne=Xf(fe);Ne.type==="FeatureCollection"?Q.push.apply(Q,Ne.features):Q.push(Ne)}}}),U?gu(this,{geometries:Q,type:"GeometryCollection"}):{type:"FeatureCollection",features:Q}}});function xe(b,A){return new Jl(b,A)}var _t=xe,ut=js.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(b,A,U){this._url=b,this._bounds=we(A),g(this,U)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ie(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ge(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(b){return this.options.opacity=b,this._image&&this._updateOpacity(),this},setStyle:function(b){return b.opacity&&this.setOpacity(b.opacity),this},bringToFront:function(){return this._map&&Ee(this._image),this},bringToBack:function(){return this._map&&We(this._image),this},setUrl:function(b){return this._url=b,this._image&&(this._image.src=b),this},setBounds:function(b){return this._bounds=we(b),this._map&&this._reset(),this},getEvents:function(){var b={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(b.zoomanim=this._animateZoom),b},setZIndex:function(b){return this.options.zIndex=b,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var b=this._url.tagName==="IMG",A=this._image=b?this._url:Gn("img");if(Ie(A,"leaflet-image-layer"),this._zoomAnimated&&Ie(A,"leaflet-zoom-animated"),this.options.className&&Ie(A,this.options.className),A.onselectstart=f,A.onmousemove=f,A.onload=l(this.fire,this,"load"),A.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),b){this._url=A.src;return}A.src=this._url,A.alt=this.options.alt},_animateZoom:function(b){var A=this._map.getZoomScale(b.zoom),U=this._map._latLngBoundsToNewLayerBounds(this._bounds,b.zoom,b.center).min;hn(this._image,U,A)},_reset:function(){var b=this._image,A=new ie(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),U=A.getSize();nn(b,A.min),b.style.width=U.x+"px",b.style.height=U.y+"px"},_updateOpacity:function(){Et(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var b=this.options.errorOverlayUrl;b&&this._url!==b&&(this._url=b,this._image.src=b)},getCenter:function(){return this._bounds.getCenter()}}),Gt=function(b,A,U){return new ut(b,A,U)},pn=ut.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var b=this._url.tagName==="VIDEO",A=this._image=b?this._url:Gn("video");if(Ie(A,"leaflet-image-layer"),this._zoomAnimated&&Ie(A,"leaflet-zoom-animated"),this.options.className&&Ie(A,this.options.className),A.onselectstart=f,A.onmousemove=f,A.onloadeddata=l(this.fire,this,"load"),b){for(var U=A.getElementsByTagName("source"),Q=[],oe=0;oe<U.length;oe++)Q.push(U[oe].src);this._url=U.length>0?Q:[A.src];return}E(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(A.style,"objectFit")&&(A.style.objectFit="fill"),A.autoplay=!!this.options.autoplay,A.loop=!!this.options.loop,A.muted=!!this.options.muted,A.playsInline=!!this.options.playsInline;for(var fe=0;fe<this._url.length;fe++){var Ne=Gn("source");Ne.src=this._url[fe],A.appendChild(Ne)}}});function ai(b,A,U){return new pn(b,A,U)}var sr=ut.extend({_initImage:function(){var b=this._image=this._url;Ie(b,"leaflet-image-layer"),this._zoomAnimated&&Ie(b,"leaflet-zoom-animated"),this.options.className&&Ie(b,this.options.className),b.onselectstart=f,b.onmousemove=f}});function wi(b,A,U){return new sr(b,A,U)}var Us=js.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(b,A){b&&(b instanceof De||E(b))?(this._latlng=Be(b),g(this,A)):(g(this,b),this._source=A),this.options.content&&(this._content=this.options.content)},openOn:function(b){return b=arguments.length?b:this._source._map,b.hasLayer(this)||b.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(b){return this._map?this.close():(arguments.length?this._source=b:b=this._source,this._prepareOpen(),this.openOn(b._map)),this},onAdd:function(b){this._zoomAnimated=b._zoomAnimated,this._container||this._initLayout(),b._fadeAnimated&&Et(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),b._fadeAnimated&&Et(this._container,1),this.bringToFront(),this.options.interactive&&(Ie(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(b){b._fadeAnimated?(Et(this._container,0),this._removeTimeout=setTimeout(l(ge,void 0,this._container),200)):ge(this._container),this.options.interactive&&(dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(b){return this._latlng=Be(b),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(b){return this._content=b,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var b={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(b.zoomanim=this._animateZoom),b},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ee(this._container),this},bringToBack:function(){return this._map&&We(this._container),this},_prepareOpen:function(b){var A=this._source;if(!A._map)return!1;if(A instanceof ks){A=null;var U=this._source._layers;for(var Q in U)if(U[Q]._map){A=U[Q];break}if(!A)return!1;this._source=A}if(!b)if(A.getCenter)b=A.getCenter();else if(A.getLatLng)b=A.getLatLng();else if(A.getBounds)b=A.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(b),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var b=this._contentNode,A=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof A=="string")b.innerHTML=A;else{for(;b.hasChildNodes();)b.removeChild(b.firstChild);b.appendChild(A)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var b=this._map.latLngToLayerPoint(this._latlng),A=te(this.options.offset),U=this._getAnchor();this._zoomAnimated?nn(this._container,b.add(U)):A=A.add(b).add(U);var Q=this._containerBottom=-A.y,oe=this._containerLeft=-Math.round(this._containerWidth/2)+A.x;this._container.style.bottom=Q+"px",this._container.style.left=oe+"px"}},_getAnchor:function(){return[0,0]}});Zn.include({_initOverlay:function(b,A,U,Q){var oe=A;return oe instanceof b||(oe=new b(Q).setContent(A)),U&&oe.setLatLng(U),oe}}),js.include({_initOverlay:function(b,A,U,Q){var oe=U;return oe instanceof b?(g(oe,Q),oe._source=this):(oe=A&&!Q?A:new b(Q,this),oe.setContent(U)),oe}});var Kf=Us.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(b){return b=arguments.length?b:this._source._map,!b.hasLayer(this)&&b._popup&&b._popup.options.autoClose&&b.removeLayer(b._popup),b._popup=this,Us.prototype.openOn.call(this,b)},onAdd:function(b){Us.prototype.onAdd.call(this,b),b.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ys||this._source.on("preclick",ya))},onRemove:function(b){Us.prototype.onRemove.call(this,b),b.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ys||this._source.off("preclick",ya))},getEvents:function(){var b=Us.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(b.preclick=this.close),this.options.keepInView&&(b.moveend=this._adjustPan),b},_initLayout:function(){var b="leaflet-popup",A=this._container=Gn("div",b+" "+(this.options.className||"")+" leaflet-zoom-animated"),U=this._wrapper=Gn("div",b+"-content-wrapper",A);if(this._contentNode=Gn("div",b+"-content",U),vc(A),Oh(this._contentNode),wn(A,"contextmenu",ya),this._tipContainer=Gn("div",b+"-tip-container",A),this._tip=Gn("div",b+"-tip",this._tipContainer),this.options.closeButton){var Q=this._closeButton=Gn("a",b+"-close-button",A);Q.setAttribute("role","button"),Q.setAttribute("aria-label","Close popup"),Q.href="#close",Q.innerHTML='<span aria-hidden="true">&#215;</span>',wn(Q,"click",function(oe){$n(oe),this.close()},this)}},_updateLayout:function(){var b=this._contentNode,A=b.style;A.width="",A.whiteSpace="nowrap";var U=b.offsetWidth;U=Math.min(U,this.options.maxWidth),U=Math.max(U,this.options.minWidth),A.width=U+1+"px",A.whiteSpace="",A.height="";var Q=b.offsetHeight,oe=this.options.maxHeight,fe="leaflet-popup-scrolled";oe&&Q>oe?(A.height=oe+"px",Ie(b,fe)):dt(b,fe),this._containerWidth=this._container.offsetWidth},_animateZoom:function(b){var A=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center),U=this._getAnchor();nn(this._container,A.add(U))},_adjustPan:function(){if(!!this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var b=this._map,A=parseInt(ba(this._container,"marginBottom"),10)||0,U=this._container.offsetHeight+A,Q=this._containerWidth,oe=new X(this._containerLeft,-U-this._containerBottom);oe._add(Pn(this._container));var fe=b.layerPointToContainerPoint(oe),Ne=te(this.options.autoPanPadding),Xe=te(this.options.autoPanPaddingTopLeft||Ne),ft=te(this.options.autoPanPaddingBottomRight||Ne),wt=b.getSize(),Vt=0,un=0;fe.x+Q+ft.x>wt.x&&(Vt=fe.x+Q-wt.x+ft.x),fe.x-Vt-Xe.x<0&&(Vt=fe.x-Xe.x),fe.y+U+ft.y>wt.y&&(un=fe.y+U-wt.y+ft.y),fe.y-un-Xe.y<0&&(un=fe.y-Xe.y),(Vt||un)&&(this.options.keepInView&&(this._autopanning=!0),b.fire("autopanstart").panBy([Vt,un]))}},_getAnchor:function(){return te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ws=function(b,A){return new Kf(b,A)};Zn.mergeOptions({closePopupOnClick:!0}),Zn.include({openPopup:function(b,A,U){return this._initOverlay(Kf,b,A,U).openOn(this),this},closePopup:function(b){return b=arguments.length?b:this._popup,b&&b.close(),this}}),js.include({bindPopup:function(b,A){return this._popup=this._initOverlay(Kf,this._popup,b,A),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(b){return this._popup&&(this instanceof ks||(this._popup._source=this),this._popup._prepareOpen(b||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(b){return this._popup&&this._popup.setContent(b),this},getPopup:function(){return this._popup},_openPopup:function(b){if(!(!this._popup||!this._map)){ii(b);var A=b.layer||b.target;if(this._popup._source===A&&!(A instanceof ys)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(b.latlng);return}this._popup._source=A,this.openPopup(b.latlng)}},_movePopup:function(b){this._popup.setLatLng(b.latlng)},_onKeyPress:function(b){b.originalEvent.keyCode===13&&this._openPopup(b)}});var Ea=Us.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(b){Us.prototype.onAdd.call(this,b),this.setOpacity(this.options.opacity),b.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(b){Us.prototype.onRemove.call(this,b),b.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var b=Us.prototype.getEvents.call(this);return this.options.permanent||(b.preclick=this.close),b},_initLayout:function(){var b="leaflet-tooltip",A=b+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Gn("div",A),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(b){var A,U,Q=this._map,oe=this._container,fe=Q.latLngToContainerPoint(Q.getCenter()),Ne=Q.layerPointToContainerPoint(b),Xe=this.options.direction,ft=oe.offsetWidth,wt=oe.offsetHeight,Vt=te(this.options.offset),un=this._getAnchor();Xe==="top"?(A=ft/2,U=wt):Xe==="bottom"?(A=ft/2,U=0):Xe==="center"?(A=ft/2,U=wt/2):Xe==="right"?(A=0,U=wt/2):Xe==="left"?(A=ft,U=wt/2):Ne.x<fe.x?(Xe="right",A=0,U=wt/2):(Xe="left",A=ft+(Vt.x+un.x)*2,U=wt/2),b=b.subtract(te(A,U,!0)).add(Vt).add(un),dt(oe,"leaflet-tooltip-right"),dt(oe,"leaflet-tooltip-left"),dt(oe,"leaflet-tooltip-top"),dt(oe,"leaflet-tooltip-bottom"),Ie(oe,"leaflet-tooltip-"+Xe),nn(oe,b)},_updatePosition:function(){var b=this._map.latLngToLayerPoint(this._latlng);this._setPosition(b)},setOpacity:function(b){this.options.opacity=b,this._container&&Et(this._container,b)},_animateZoom:function(b){var A=this._map._latLngToNewLayerPoint(this._latlng,b.zoom,b.center);this._setPosition(A)},_getAnchor:function(){return te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),_v=function(b,A){return new Ea(b,A)};Zn.include({openTooltip:function(b,A,U){return this._initOverlay(Ea,b,A,U).openOn(this),this},closeTooltip:function(b){return b.close(),this}}),js.include({bindTooltip:function(b,A){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ea,this._tooltip,b,A),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(b){if(!(!b&&this._tooltipHandlersAdded)){var A=b?"off":"on",U={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?U.add=this._openTooltip:(U.mouseover=this._openTooltip,U.mouseout=this.closeTooltip,U.click=this._openTooltip,this._map?this._addFocusListeners():U.add=this._addFocusListeners),this._tooltip.options.sticky&&(U.mousemove=this._moveTooltip),this[A](U),this._tooltipHandlersAdded=!b}},openTooltip:function(b){return this._tooltip&&(this instanceof ks||(this._tooltip._source=this),this._tooltip._prepareOpen(b)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(b){return this._tooltip&&this._tooltip.setContent(b),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(b){var A=b.getElement();A&&(wn(A,"focus",function(){this._tooltip._source=b,this.openTooltip()},this),wn(A,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(b){var A=b.getElement();A&&A.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(b){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=b.layer||b.target,this.openTooltip(this._tooltip.options.sticky?b.latlng:void 0))},_moveTooltip:function(b){var A=b.latlng,U,Q;this._tooltip.options.sticky&&b.originalEvent&&(U=this._map.mouseEventToContainerPoint(b.originalEvent),Q=this._map.containerPointToLayerPoint(U),A=this._map.layerPointToLatLng(Q)),this._tooltip.setLatLng(A)}});var Ca=Fa.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(b){var A=b&&b.tagName==="DIV"?b:document.createElement("div"),U=this.options;if(U.html instanceof Element?(Re(A),A.appendChild(U.html)):A.innerHTML=U.html!==!1?U.html:"",U.bgPos){var Q=te(U.bgPos);A.style.backgroundPosition=-Q.x+"px "+-Q.y+"px"}return this._setIconStyles(A,"icon"),A},createShadow:function(){return null}});function Jf(b){return new Ca(b)}Fa.Default=wc;var So=js.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Rt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(b){g(this,b)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(b){b._addZoomLimit(this)},onRemove:function(b){this._removeAllTiles(),ge(this._container),b._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ee(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(We(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(b){return this.options.opacity=b,this._updateOpacity(),this},setZIndex:function(b){return this.options.zIndex=b,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var b=this._clampZoom(this._map.getZoom());b!==this._tileZoom&&(this._tileZoom=b,this._updateLevels()),this._update()}return this},getEvents:function(){var b={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),b.move=this._onMove),this._zoomAnimated&&(b.zoomanim=this._animateZoom),b},createTile:function(){return document.createElement("div")},getTileSize:function(){var b=this.options.tileSize;return b instanceof X?b:new X(b,b)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(b){for(var A=this.getPane().children,U=-b(-1/0,1/0),Q=0,oe=A.length,fe;Q<oe;Q++)fe=A[Q].style.zIndex,A[Q]!==this._container&&fe&&(U=b(U,+fe));isFinite(U)&&(this.options.zIndex=U+b(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!Rt.ielt9){Et(this._container,this.options.opacity);var b=+new Date,A=!1,U=!1;for(var Q in this._tiles){var oe=this._tiles[Q];if(!(!oe.current||!oe.loaded)){var fe=Math.min(1,(b-oe.loaded)/200);Et(oe.el,fe),fe<1?A=!0:(oe.active?U=!0:this._onOpaqueTile(oe),oe.active=!0)}}U&&!this._noPrune&&this._pruneTiles(),A&&(x(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Gn("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var b=this._tileZoom,A=this.options.maxZoom;if(b!==void 0){for(var U in this._levels)U=Number(U),this._levels[U].el.children.length||U===b?(this._levels[U].el.style.zIndex=A-Math.abs(b-U),this._onUpdateLevel(U)):(ge(this._levels[U].el),this._removeTilesAtZoom(U),this._onRemoveLevel(U),delete this._levels[U]);var Q=this._levels[b],oe=this._map;return Q||(Q=this._levels[b]={},Q.el=Gn("div","leaflet-tile-container leaflet-zoom-animated",this._container),Q.el.style.zIndex=A,Q.origin=oe.project(oe.unproject(oe.getPixelOrigin()),b).round(),Q.zoom=b,this._setZoomTransform(Q,oe.getCenter(),oe.getZoom()),f(Q.el.offsetWidth),this._onCreateLevel(Q)),this._level=Q,Q}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(!!this._map){var b,A,U=this._map.getZoom();if(U>this.options.maxZoom||U<this.options.minZoom){this._removeAllTiles();return}for(b in this._tiles)A=this._tiles[b],A.retain=A.current;for(b in this._tiles)if(A=this._tiles[b],A.current&&!A.active){var Q=A.coords;this._retainParent(Q.x,Q.y,Q.z,Q.z-5)||this._retainChildren(Q.x,Q.y,Q.z,Q.z+2)}for(b in this._tiles)this._tiles[b].retain||this._removeTile(b)}},_removeTilesAtZoom:function(b){for(var A in this._tiles)this._tiles[A].coords.z===b&&this._removeTile(A)},_removeAllTiles:function(){for(var b in this._tiles)this._removeTile(b)},_invalidateAll:function(){for(var b in this._levels)ge(this._levels[b].el),this._onRemoveLevel(Number(b)),delete this._levels[b];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(b,A,U,Q){var oe=Math.floor(b/2),fe=Math.floor(A/2),Ne=U-1,Xe=new X(+oe,+fe);Xe.z=+Ne;var ft=this._tileCoordsToKey(Xe),wt=this._tiles[ft];return wt&&wt.active?(wt.retain=!0,!0):(wt&&wt.loaded&&(wt.retain=!0),Ne>Q?this._retainParent(oe,fe,Ne,Q):!1)},_retainChildren:function(b,A,U,Q){for(var oe=2*b;oe<2*b+2;oe++)for(var fe=2*A;fe<2*A+2;fe++){var Ne=new X(oe,fe);Ne.z=U+1;var Xe=this._tileCoordsToKey(Ne),ft=this._tiles[Xe];if(ft&&ft.active){ft.retain=!0;continue}else ft&&ft.loaded&&(ft.retain=!0);U+1<Q&&this._retainChildren(oe,fe,U+1,Q)}},_resetView:function(b){var A=b&&(b.pinch||b.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),A,A)},_animateZoom:function(b){this._setView(b.center,b.zoom,!0,b.noUpdate)},_clampZoom:function(b){var A=this.options;return A.minNativeZoom!==void 0&&b<A.minNativeZoom?A.minNativeZoom:A.maxNativeZoom!==void 0&&A.maxNativeZoom<b?A.maxNativeZoom:b},_setView:function(b,A,U,Q){var oe=Math.round(A);this.options.maxZoom!==void 0&&oe>this.options.maxZoom||this.options.minZoom!==void 0&&oe<this.options.minZoom?oe=void 0:oe=this._clampZoom(oe);var fe=this.options.updateWhenZooming&&oe!==this._tileZoom;(!Q||fe)&&(this._tileZoom=oe,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),oe!==void 0&&this._update(b),U||this._pruneTiles(),this._noPrune=!!U),this._setZoomTransforms(b,A)},_setZoomTransforms:function(b,A){for(var U in this._levels)this._setZoomTransform(this._levels[U],b,A)},_setZoomTransform:function(b,A,U){var Q=this._map.getZoomScale(U,b.zoom),oe=b.origin.multiplyBy(Q).subtract(this._map._getNewPixelOrigin(A,U)).round();Rt.any3d?hn(b.el,oe,Q):nn(b.el,oe)},_resetGrid:function(){var b=this._map,A=b.options.crs,U=this._tileSize=this.getTileSize(),Q=this._tileZoom,oe=this._map.getPixelWorldBounds(this._tileZoom);oe&&(this._globalTileRange=this._pxBoundsToTileRange(oe)),this._wrapX=A.wrapLng&&!this.options.noWrap&&[Math.floor(b.project([0,A.wrapLng[0]],Q).x/U.x),Math.ceil(b.project([0,A.wrapLng[1]],Q).x/U.y)],this._wrapY=A.wrapLat&&!this.options.noWrap&&[Math.floor(b.project([A.wrapLat[0],0],Q).y/U.x),Math.ceil(b.project([A.wrapLat[1],0],Q).y/U.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(b){var A=this._map,U=A._animatingZoom?Math.max(A._animateToZoom,A.getZoom()):A.getZoom(),Q=A.getZoomScale(U,this._tileZoom),oe=A.project(b,this._tileZoom).floor(),fe=A.getSize().divideBy(Q*2);return new ie(oe.subtract(fe),oe.add(fe))},_update:function(b){var A=this._map;if(!!A){var U=this._clampZoom(A.getZoom());if(b===void 0&&(b=A.getCenter()),this._tileZoom!==void 0){var Q=this._getTiledPixelBounds(b),oe=this._pxBoundsToTileRange(Q),fe=oe.getCenter(),Ne=[],Xe=this.options.keepBuffer,ft=new ie(oe.getBottomLeft().subtract([Xe,-Xe]),oe.getTopRight().add([Xe,-Xe]));if(!(isFinite(oe.min.x)&&isFinite(oe.min.y)&&isFinite(oe.max.x)&&isFinite(oe.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var wt in this._tiles){var Vt=this._tiles[wt].coords;(Vt.z!==this._tileZoom||!ft.contains(new X(Vt.x,Vt.y)))&&(this._tiles[wt].current=!1)}if(Math.abs(U-this._tileZoom)>1){this._setView(b,U);return}for(var un=oe.min.y;un<=oe.max.y;un++)for(var Dn=oe.min.x;Dn<=oe.max.x;Dn++){var ts=new X(Dn,un);if(ts.z=this._tileZoom,!!this._isValidTile(ts)){var Hs=this._tiles[this._tileCoordsToKey(ts)];Hs?Hs.current=!0:Ne.push(ts)}}if(Ne.sort(function(Vs,ku){return Vs.distanceTo(fe)-ku.distanceTo(fe)}),Ne.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Po=document.createDocumentFragment();for(Dn=0;Dn<Ne.length;Dn++)this._addTile(Ne[Dn],Po);this._level.el.appendChild(Po)}}}},_isValidTile:function(b){var A=this._map.options.crs;if(!A.infinite){var U=this._globalTileRange;if(!A.wrapLng&&(b.x<U.min.x||b.x>U.max.x)||!A.wrapLat&&(b.y<U.min.y||b.y>U.max.y))return!1}if(!this.options.bounds)return!0;var Q=this._tileCoordsToBounds(b);return we(this.options.bounds).overlaps(Q)},_keyToBounds:function(b){return this._tileCoordsToBounds(this._keyToTileCoords(b))},_tileCoordsToNwSe:function(b){var A=this._map,U=this.getTileSize(),Q=b.scaleBy(U),oe=Q.add(U),fe=A.unproject(Q,b.z),Ne=A.unproject(oe,b.z);return[fe,Ne]},_tileCoordsToBounds:function(b){var A=this._tileCoordsToNwSe(b),U=new be(A[0],A[1]);return this.options.noWrap||(U=this._map.wrapLatLngBounds(U)),U},_tileCoordsToKey:function(b){return b.x+":"+b.y+":"+b.z},_keyToTileCoords:function(b){var A=b.split(":"),U=new X(+A[0],+A[1]);return U.z=+A[2],U},_removeTile:function(b){var A=this._tiles[b];!A||(ge(A.el),delete this._tiles[b],this.fire("tileunload",{tile:A.el,coords:this._keyToTileCoords(b)}))},_initTile:function(b){Ie(b,"leaflet-tile");var A=this.getTileSize();b.style.width=A.x+"px",b.style.height=A.y+"px",b.onselectstart=f,b.onmousemove=f,Rt.ielt9&&this.options.opacity<1&&Et(b,this.options.opacity)},_addTile:function(b,A){var U=this._getTilePos(b),Q=this._tileCoordsToKey(b),oe=this.createTile(this._wrapCoords(b),l(this._tileReady,this,b));this._initTile(oe),this.createTile.length<2&&V(l(this._tileReady,this,b,null,oe)),nn(oe,U),this._tiles[Q]={el:oe,coords:b,current:!0},A.appendChild(oe),this.fire("tileloadstart",{tile:oe,coords:b})},_tileReady:function(b,A,U){A&&this.fire("tileerror",{error:A,tile:U,coords:b});var Q=this._tileCoordsToKey(b);U=this._tiles[Q],U&&(U.loaded=+new Date,this._map._fadeAnimated?(Et(U.el,0),x(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(U.active=!0,this._pruneTiles()),A||(Ie(U.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:U.el,coords:b})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Rt.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(b){return b.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(b){var A=new X(this._wrapX?c(b.x,this._wrapX):b.x,this._wrapY?c(b.y,this._wrapY):b.y);return A.z=b.z,A},_pxBoundsToTileRange:function(b){var A=this.getTileSize();return new ie(b.min.unscaleBy(A).floor(),b.max.unscaleBy(A).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var b in this._tiles)if(!this._tiles[b].loaded)return!1;return!0}});function _i(b){return new So(b)}var vu=So.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(b,A){this._url=b,A=g(this,A),A.detectRetina&&Rt.retina&&A.maxZoom>0?(A.tileSize=Math.floor(A.tileSize/2),A.zoomReverse?(A.zoomOffset--,A.minZoom=Math.min(A.maxZoom,A.minZoom+1)):(A.zoomOffset++,A.maxZoom=Math.max(A.minZoom,A.maxZoom-1)),A.minZoom=Math.max(0,A.minZoom)):A.zoomReverse?A.minZoom=Math.min(A.maxZoom,A.minZoom):A.maxZoom=Math.max(A.minZoom,A.maxZoom),typeof A.subdomains=="string"&&(A.subdomains=A.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(b,A){return this._url===b&&A===void 0&&(A=!0),this._url=b,A||this.redraw(),this},createTile:function(b,A){var U=document.createElement("img");return wn(U,"load",l(this._tileOnLoad,this,A,U)),wn(U,"error",l(this._tileOnError,this,A,U)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(U.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(U.referrerPolicy=this.options.referrerPolicy),U.alt="",U.src=this.getTileUrl(b),U},getTileUrl:function(b){var A={r:Rt.retina?"@2x":"",s:this._getSubdomain(b),x:b.x,y:b.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var U=this._globalTileRange.max.y-b.y;this.options.tms&&(A.y=U),A["-y"]=U}return C(this._url,r(A,this.options))},_tileOnLoad:function(b,A){Rt.ielt9?setTimeout(l(b,this,null,A),0):b(null,A)},_tileOnError:function(b,A,U){var Q=this.options.errorTileUrl;Q&&A.getAttribute("src")!==Q&&(A.src=Q),b(U,A)},_onTileRemove:function(b){b.tile.onload=null},_getZoomForUrl:function(){var b=this._tileZoom,A=this.options.maxZoom,U=this.options.zoomReverse,Q=this.options.zoomOffset;return U&&(b=A-b),b+Q},_getSubdomain:function(b){var A=Math.abs(b.x+b.y)%this.options.subdomains.length;return this.options.subdomains[A]},_abortLoading:function(){var b,A;for(b in this._tiles)if(this._tiles[b].coords.z!==this._tileZoom&&(A=this._tiles[b].el,A.onload=f,A.onerror=f,!A.complete)){A.src=T;var U=this._tiles[b].coords;ge(A),delete this._tiles[b],this.fire("tileabort",{tile:A,coords:U})}},_removeTile:function(b){var A=this._tiles[b];if(!!A)return A.el.setAttribute("src",T),So.prototype._removeTile.call(this,b)},_tileReady:function(b,A,U){if(!(!this._map||U&&U.getAttribute("src")===T))return So.prototype._tileReady.call(this,b,A,U)}});function Zh(b,A){return new vu(b,A)}var Fc=vu.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(b,A){this._url=b;var U=r({},this.defaultWmsParams);for(var Q in A)Q in this.options||(U[Q]=A[Q]);A=g(this,A);var oe=A.detectRetina&&Rt.retina?2:1,fe=this.getTileSize();U.width=fe.x*oe,U.height=fe.y*oe,this.wmsParams=U},onAdd:function(b){this._crs=this.options.crs||b.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var A=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[A]=this._crs.code,vu.prototype.onAdd.call(this,b)},getTileUrl:function(b){var A=this._tileCoordsToNwSe(b),U=this._crs,Q=re(U.project(A[0]),U.project(A[1])),oe=Q.min,fe=Q.max,Ne=(this._wmsVersion>=1.3&&this._crs===Wf?[oe.y,oe.x,fe.y,fe.x]:[oe.x,oe.y,fe.x,fe.y]).join(","),Xe=vu.prototype.getTileUrl.call(this,b);return Xe+k(this.wmsParams,Xe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ne},setParams:function(b,A){return r(this.wmsParams,b),A||this.redraw(),this}});function gv(b,A){return new Fc(b,A)}vu.WMS=Fc,Zh.wms=gv;var eo=js.extend({options:{padding:.1},initialize:function(b){g(this,b),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Ie(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var b={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(b.zoomanim=this._onAnimZoom),b},_onAnimZoom:function(b){this._updateTransform(b.center,b.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(b,A){var U=this._map.getZoomScale(A,this._zoom),Q=this._map.getSize().multiplyBy(.5+this.options.padding),oe=this._map.project(this._center,A),fe=Q.multiplyBy(-U).add(oe).subtract(this._map._getNewPixelOrigin(b,A));Rt.any3d?hn(this._container,fe,U):nn(this._container,fe)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var b in this._layers)this._layers[b]._reset()},_onZoomEnd:function(){for(var b in this._layers)this._layers[b]._project()},_updatePaths:function(){for(var b in this._layers)this._layers[b]._update()},_update:function(){var b=this.options.padding,A=this._map.getSize(),U=this._map.containerPointToLayerPoint(A.multiplyBy(-b)).round();this._bounds=new ie(U,U.add(A.multiplyBy(1+b*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),b_=eo.extend({options:{tolerance:0},getEvents:function(){var b=eo.prototype.getEvents.call(this);return b.viewprereset=this._onViewPreReset,b},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){eo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var b=this._container=document.createElement("canvas");wn(b,"mousemove",this._onMouseMove,this),wn(b,"click dblclick mousedown mouseup contextmenu",this._onClick,this),wn(b,"mouseout",this._handleMouseOut,this),b._leaflet_disable_events=!0,this._ctx=b.getContext("2d")},_destroyContainer:function(){x(this._redrawRequest),delete this._ctx,ge(this._container),Si(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var b;this._redrawBounds=null;for(var A in this._layers)b=this._layers[A],b._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){eo.prototype._update.call(this);var b=this._bounds,A=this._container,U=b.getSize(),Q=Rt.retina?2:1;nn(A,b.min),A.width=Q*U.x,A.height=Q*U.y,A.style.width=U.x+"px",A.style.height=U.y+"px",Rt.retina&&this._ctx.scale(2,2),this._ctx.translate(-b.min.x,-b.min.y),this.fire("update")}},_reset:function(){eo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(b){this._updateDashArray(b),this._layers[a(b)]=b;var A=b._order={layer:b,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=A),this._drawLast=A,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(b){this._requestRedraw(b)},_removePath:function(b){var A=b._order,U=A.next,Q=A.prev;U?U.prev=Q:this._drawLast=Q,Q?Q.next=U:this._drawFirst=U,delete b._order,delete this._layers[a(b)],this._requestRedraw(b)},_updatePath:function(b){this._extendRedrawBounds(b),b._project(),b._update(),this._requestRedraw(b)},_updateStyle:function(b){this._updateDashArray(b),this._requestRedraw(b)},_updateDashArray:function(b){if(typeof b.options.dashArray=="string"){var A=b.options.dashArray.split(/[, ]+/),U=[],Q,oe;for(oe=0;oe<A.length;oe++){if(Q=Number(A[oe]),isNaN(Q))return;U.push(Q)}b.options._dashArray=U}else b.options._dashArray=b.options.dashArray},_requestRedraw:function(b){!this._map||(this._extendRedrawBounds(b),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(b){if(b._pxBounds){var A=(b.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ie,this._redrawBounds.extend(b._pxBounds.min.subtract([A,A])),this._redrawBounds.extend(b._pxBounds.max.add([A,A]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var b=this._redrawBounds;if(b){var A=b.getSize();this._ctx.clearRect(b.min.x,b.min.y,A.x,A.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var b,A=this._redrawBounds;if(this._ctx.save(),A){var U=A.getSize();this._ctx.beginPath(),this._ctx.rect(A.min.x,A.min.y,U.x,U.y),this._ctx.clip()}this._drawing=!0;for(var Q=this._drawFirst;Q;Q=Q.next)b=Q.layer,(!A||b._pxBounds&&b._pxBounds.intersects(A))&&b._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(b,A){if(!!this._drawing){var U,Q,oe,fe,Ne=b._parts,Xe=Ne.length,ft=this._ctx;if(!!Xe){for(ft.beginPath(),U=0;U<Xe;U++){for(Q=0,oe=Ne[U].length;Q<oe;Q++)fe=Ne[U][Q],ft[Q?"lineTo":"moveTo"](fe.x,fe.y);A&&ft.closePath()}this._fillStroke(ft,b)}}},_updateCircle:function(b){if(!(!this._drawing||b._empty())){var A=b._point,U=this._ctx,Q=Math.max(Math.round(b._radius),1),oe=(Math.max(Math.round(b._radiusY),1)||Q)/Q;oe!==1&&(U.save(),U.scale(1,oe)),U.beginPath(),U.arc(A.x,A.y/oe,Q,0,Math.PI*2,!1),oe!==1&&U.restore(),this._fillStroke(U,b)}},_fillStroke:function(b,A){var U=A.options;U.fill&&(b.globalAlpha=U.fillOpacity,b.fillStyle=U.fillColor||U.color,b.fill(U.fillRule||"evenodd")),U.stroke&&U.weight!==0&&(b.setLineDash&&b.setLineDash(A.options&&A.options._dashArray||[]),b.globalAlpha=U.opacity,b.lineWidth=U.weight,b.strokeStyle=U.color,b.lineCap=U.lineCap,b.lineJoin=U.lineJoin,b.stroke())},_onClick:function(b){for(var A=this._map.mouseEventToLayerPoint(b),U,Q,oe=this._drawFirst;oe;oe=oe.next)U=oe.layer,U.options.interactive&&U._containsPoint(A)&&(!(b.type==="click"||b.type==="preclick")||!this._map._draggableMoved(U))&&(Q=U);this._fireEvent(Q?[Q]:!1,b)},_onMouseMove:function(b){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var A=this._map.mouseEventToLayerPoint(b);this._handleMouseHover(b,A)}},_handleMouseOut:function(b){var A=this._hoveredLayer;A&&(dt(this._container,"leaflet-interactive"),this._fireEvent([A],b,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(b,A){if(!this._mouseHoverThrottled){for(var U,Q,oe=this._drawFirst;oe;oe=oe.next)U=oe.layer,U.options.interactive&&U._containsPoint(A)&&(Q=U);Q!==this._hoveredLayer&&(this._handleMouseOut(b),Q&&(Ie(this._container,"leaflet-interactive"),this._fireEvent([Q],b,"mouseover"),this._hoveredLayer=Q)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,b),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(b,A,U){this._map._fireDOMEvent(A,U||A.type,b)},_bringToFront:function(b){var A=b._order;if(!!A){var U=A.next,Q=A.prev;if(U)U.prev=Q;else return;Q?Q.next=U:U&&(this._drawFirst=U),A.prev=this._drawLast,this._drawLast.next=A,A.next=null,this._drawLast=A,this._requestRedraw(b)}},_bringToBack:function(b){var A=b._order;if(!!A){var U=A.next,Q=A.prev;if(Q)Q.next=U;else return;U?U.prev=Q:Q&&(this._drawLast=Q),A.prev=null,A.next=this._drawFirst,this._drawFirst.prev=A,this._drawFirst=A,this._requestRedraw(b)}}});function Ec(b){return Rt.canvas?new b_(b):null}var qs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(b){return document.createElement("<lvml:"+b+' class="lvml">')}}catch{}return function(b){return document.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Qf={_initContainer:function(){this._container=Gn("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(eo.prototype._update.call(this),this.fire("update"))},_initPath:function(b){var A=b._container=qs("shape");Ie(A,"leaflet-vml-shape "+(this.options.className||"")),A.coordsize="1 1",b._path=qs("path"),A.appendChild(b._path),this._updateStyle(b),this._layers[a(b)]=b},_addPath:function(b){var A=b._container;this._container.appendChild(A),b.options.interactive&&b.addInteractiveTarget(A)},_removePath:function(b){var A=b._container;ge(A),b.removeInteractiveTarget(A),delete this._layers[a(b)]},_updateStyle:function(b){var A=b._stroke,U=b._fill,Q=b.options,oe=b._container;oe.stroked=!!Q.stroke,oe.filled=!!Q.fill,Q.stroke?(A||(A=b._stroke=qs("stroke")),oe.appendChild(A),A.weight=Q.weight+"px",A.color=Q.color,A.opacity=Q.opacity,Q.dashArray?A.dashStyle=E(Q.dashArray)?Q.dashArray.join(" "):Q.dashArray.replace(/( *, *)/g," "):A.dashStyle="",A.endcap=Q.lineCap.replace("butt","flat"),A.joinstyle=Q.lineJoin):A&&(oe.removeChild(A),b._stroke=null),Q.fill?(U||(U=b._fill=qs("fill")),oe.appendChild(U),U.color=Q.fillColor||Q.color,U.opacity=Q.fillOpacity):U&&(oe.removeChild(U),b._fill=null)},_updateCircle:function(b){var A=b._point.round(),U=Math.round(b._radius),Q=Math.round(b._radiusY||U);this._setPath(b,b._empty()?"M0 0":"AL "+A.x+","+A.y+" "+U+","+Q+" 0,"+65535*360)},_setPath:function(b,A){b._path.v=A},_bringToFront:function(b){Ee(b._container)},_bringToBack:function(b){We(b._container)}},Cc=Rt.vml?qs:It,To=eo.extend({_initContainer:function(){this._container=Cc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Cc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ge(this._container),Si(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){eo.prototype._update.call(this);var b=this._bounds,A=b.getSize(),U=this._container;(!this._svgSize||!this._svgSize.equals(A))&&(this._svgSize=A,U.setAttribute("width",A.x),U.setAttribute("height",A.y)),nn(U,b.min),U.setAttribute("viewBox",[b.min.x,b.min.y,A.x,A.y].join(" ")),this.fire("update")}},_initPath:function(b){var A=b._path=Cc("path");b.options.className&&Ie(A,b.options.className),b.options.interactive&&Ie(A,"leaflet-interactive"),this._updateStyle(b),this._layers[a(b)]=b},_addPath:function(b){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(b._path),b.addInteractiveTarget(b._path)},_removePath:function(b){ge(b._path),b.removeInteractiveTarget(b._path),delete this._layers[a(b)]},_updatePath:function(b){b._project(),b._update()},_updateStyle:function(b){var A=b._path,U=b.options;!A||(U.stroke?(A.setAttribute("stroke",U.color),A.setAttribute("stroke-opacity",U.opacity),A.setAttribute("stroke-width",U.weight),A.setAttribute("stroke-linecap",U.lineCap),A.setAttribute("stroke-linejoin",U.lineJoin),U.dashArray?A.setAttribute("stroke-dasharray",U.dashArray):A.removeAttribute("stroke-dasharray"),U.dashOffset?A.setAttribute("stroke-dashoffset",U.dashOffset):A.removeAttribute("stroke-dashoffset")):A.setAttribute("stroke","none"),U.fill?(A.setAttribute("fill",U.fillColor||U.color),A.setAttribute("fill-opacity",U.fillOpacity),A.setAttribute("fill-rule",U.fillRule||"evenodd")):A.setAttribute("fill","none"))},_updatePoly:function(b,A){this._setPath(b,Je(b._parts,A))},_updateCircle:function(b){var A=b._point,U=Math.max(Math.round(b._radius),1),Q=Math.max(Math.round(b._radiusY),1)||U,oe="a"+U+","+Q+" 0 1,0 ",fe=b._empty()?"M0 0":"M"+(A.x-U)+","+A.y+oe+U*2+",0 "+oe+-U*2+",0 ";this._setPath(b,fe)},_setPath:function(b,A){b._path.setAttribute("d",A)},_bringToFront:function(b){Ee(b._path)},_bringToBack:function(b){We(b._path)}});Rt.vml&&To.include(Qf);function Xh(b){return Rt.svg||Rt.vml?new To(b):null}Zn.include({getRenderer:function(b){var A=b.options.renderer||this._getPaneRenderer(b.options.pane)||this.options.renderer||this._renderer;return A||(A=this._renderer=this._createRenderer()),this.hasLayer(A)||this.addLayer(A),A},_getPaneRenderer:function(b){if(b==="overlayPane"||b===void 0)return!1;var A=this._paneRenderers[b];return A===void 0&&(A=this._createRenderer({pane:b}),this._paneRenderers[b]=A),A},_createRenderer:function(b){return this.options.preferCanvas&&Ec(b)||Xh(b)}});var Kh=_u.extend({initialize:function(b,A){_u.prototype.initialize.call(this,this._boundsToLatLngs(b),A)},setBounds:function(b){return this.setLatLngs(this._boundsToLatLngs(b))},_boundsToLatLngs:function(b){return b=we(b),[b.getSouthWest(),b.getNorthWest(),b.getNorthEast(),b.getSouthEast()]}});function ed(b,A){return new Kh(b,A)}To.create=Cc,To.pointsToPath=Je,Jl.geometryToLayer=Ql,Jl.coordsToLatLng=xf,Jl.coordsToLatLngs=Gf,Jl.latLngToCoords=Gh,Jl.latLngsToCoords=Zf,Jl.getFeature=gu,Jl.asFeature=Xf,Zn.mergeOptions({boxZoom:!0});var Jh=Ji.extend({initialize:function(b){this._map=b,this._container=b._container,this._pane=b._panes.overlayPane,this._resetStateTimeout=0,b.on("unload",this._destroy,this)},addHooks:function(){wn(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Si(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ge(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(b){if(!b.shiftKey||b.which!==1&&b.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vi(),ka(),this._startPoint=this._map.mouseEventToContainerPoint(b),wn(document,{contextmenu:ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(b){this._moved||(this._moved=!0,this._box=Gn("div","leaflet-zoom-box",this._container),Ie(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(b);var A=new ie(this._point,this._startPoint),U=A.getSize();nn(this._box,A.min),this._box.style.width=U.x+"px",this._box.style.height=U.y+"px"},_finish:function(){this._moved&&(ge(this._box),dt(this._container,"leaflet-crosshair")),ni(),du(),Si(document,{contextmenu:ii,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(b){if(!(b.which!==1&&b.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var A=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(A).fire("boxzoomend",{boxZoomBounds:A})}},_onKeyDown:function(b){b.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Zn.addInitHook("addHandler","boxZoom",Jh),Zn.mergeOptions({doubleClickZoom:!0});var bu=Ji.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(b){var A=this._map,U=A.getZoom(),Q=A.options.zoomDelta,oe=b.originalEvent.shiftKey?U-Q:U+Q;A.options.doubleClickZoom==="center"?A.setZoom(oe):A.setZoomAround(b.containerPoint,oe)}});Zn.addInitHook("addHandler","doubleClickZoom",bu),Zn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ao=Ji.extend({addHooks:function(){if(!this._draggable){var b=this._map;this._draggable=new Eo(b._mapPane,b._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),b.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),b.on("zoomend",this._onZoomEnd,this),b.whenReady(this._onZoomEnd,this))}Ie(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){dt(this._map._container,"leaflet-grab"),dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var b=this._map;if(b._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var A=we(this._map.options.maxBounds);this._offsetLimit=re(this._map.latLngToContainerPoint(A.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(A.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;b.fire("movestart").fire("dragstart"),b.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(b){if(this._map.options.inertia){var A=this._lastTime=+new Date,U=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(U),this._times.push(A),this._prunePositions(A)}this._map.fire("move",b).fire("drag",b)},_prunePositions:function(b){for(;this._positions.length>1&&b-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var b=this._map.getSize().divideBy(2),A=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=A.subtract(b).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(b,A){return b-(b-A)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var b=this._draggable._newPos.subtract(this._draggable._startPos),A=this._offsetLimit;b.x<A.min.x&&(b.x=this._viscousLimit(b.x,A.min.x)),b.y<A.min.y&&(b.y=this._viscousLimit(b.y,A.min.y)),b.x>A.max.x&&(b.x=this._viscousLimit(b.x,A.max.x)),b.y>A.max.y&&(b.y=this._viscousLimit(b.y,A.max.y)),this._draggable._newPos=this._draggable._startPos.add(b)}},_onPreDragWrap:function(){var b=this._worldWidth,A=Math.round(b/2),U=this._initialWorldOffset,Q=this._draggable._newPos.x,oe=(Q-A+U)%b+A-U,fe=(Q+A+U)%b-A-U,Ne=Math.abs(oe+U)<Math.abs(fe+U)?oe:fe;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ne},_onDragEnd:function(b){var A=this._map,U=A.options,Q=!U.inertia||b.noInertia||this._times.length<2;if(A.fire("dragend",b),Q)A.fire("moveend");else{this._prunePositions(+new Date);var oe=this._lastPos.subtract(this._positions[0]),fe=(this._lastTime-this._times[0])/1e3,Ne=U.easeLinearity,Xe=oe.multiplyBy(Ne/fe),ft=Xe.distanceTo([0,0]),wt=Math.min(U.inertiaMaxSpeed,ft),Vt=Xe.multiplyBy(wt/ft),un=wt/(U.inertiaDeceleration*Ne),Dn=Vt.multiplyBy(-un/2).round();!Dn.x&&!Dn.y?A.fire("moveend"):(Dn=A._limitOffset(Dn,A.options.maxBounds),V(function(){A.panBy(Dn,{duration:un,easeLinearity:Ne,noMoveStart:!0,animate:!0})}))}}});Zn.addInitHook("addHandler","dragging",Ao),Zn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Dc=Ji.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(b){this._map=b,this._setPanDelta(b.options.keyboardPanDelta),this._setZoomDelta(b.options.zoomDelta)},addHooks:function(){var b=this._map._container;b.tabIndex<=0&&(b.tabIndex="0"),wn(b,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Si(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var b=document.body,A=document.documentElement,U=b.scrollTop||A.scrollTop,Q=b.scrollLeft||A.scrollLeft;this._map._container.focus(),window.scrollTo(Q,U)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(b){var A=this._panKeys={},U=this.keyCodes,Q,oe;for(Q=0,oe=U.left.length;Q<oe;Q++)A[U.left[Q]]=[-1*b,0];for(Q=0,oe=U.right.length;Q<oe;Q++)A[U.right[Q]]=[b,0];for(Q=0,oe=U.down.length;Q<oe;Q++)A[U.down[Q]]=[0,b];for(Q=0,oe=U.up.length;Q<oe;Q++)A[U.up[Q]]=[0,-1*b]},_setZoomDelta:function(b){var A=this._zoomKeys={},U=this.keyCodes,Q,oe;for(Q=0,oe=U.zoomIn.length;Q<oe;Q++)A[U.zoomIn[Q]]=b;for(Q=0,oe=U.zoomOut.length;Q<oe;Q++)A[U.zoomOut[Q]]=-b},_addHooks:function(){wn(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Si(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(b){if(!(b.altKey||b.ctrlKey||b.metaKey)){var A=b.keyCode,U=this._map,Q;if(A in this._panKeys){if(!U._panAnim||!U._panAnim._inProgress)if(Q=this._panKeys[A],b.shiftKey&&(Q=te(Q).multiplyBy(3)),U.options.maxBounds&&(Q=U._limitOffset(te(Q),U.options.maxBounds)),U.options.worldCopyJump){var oe=U.wrapLatLng(U.unproject(U.project(U.getCenter()).add(Q)));U.panTo(oe)}else U.panBy(Q)}else if(A in this._zoomKeys)U.setZoom(U.getZoom()+(b.shiftKey?3:1)*this._zoomKeys[A]);else if(A===27&&U._popup&&U._popup.options.closeOnEscapeKey)U.closePopup();else return;ii(b)}}});Zn.addInitHook("addHandler","keyboard",Dc),Zn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var k_=Ji.extend({addHooks:function(){wn(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Si(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(b){var A=c_(b),U=this._map.options.wheelDebounceTime;this._delta+=A,this._lastMousePos=this._map.mouseEventToContainerPoint(b),this._startTime||(this._startTime=+new Date);var Q=Math.max(U-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),Q),ii(b)},_performZoom:function(){var b=this._map,A=b.getZoom(),U=this._map.options.zoomSnap||0;b._stop();var Q=this._delta/(this._map.options.wheelPxPerZoomLevel*4),oe=4*Math.log(2/(1+Math.exp(-Math.abs(Q))))/Math.LN2,fe=U?Math.ceil(oe/U)*U:oe,Ne=b._limitZoom(A+(this._delta>0?fe:-fe))-A;this._delta=0,this._startTime=null,Ne&&(b.options.scrollWheelZoom==="center"?b.setZoom(A+Ne):b.setZoomAround(this._lastMousePos,A+Ne))}});Zn.addInitHook("addHandler","scrollWheelZoom",k_);var vv=600;Zn.mergeOptions({tapHold:Rt.touchNative&&Rt.safari&&Rt.mobile,tapTolerance:15});var y_=Ji.extend({addHooks:function(){wn(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Si(this._map._container,"touchstart",this._onDown,this)},_onDown:function(b){if(clearTimeout(this._holdTimeout),b.touches.length===1){var A=b.touches[0];this._startPos=this._newPos=new X(A.clientX,A.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(wn(document,"touchend",$n),wn(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",A))},this),vv),wn(document,"touchend touchcancel contextmenu",this._cancel,this),wn(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function b(){Si(document,"touchend",$n),Si(document,"touchend touchcancel",b)},_cancel:function(){clearTimeout(this._holdTimeout),Si(document,"touchend touchcancel contextmenu",this._cancel,this),Si(document,"touchmove",this._onMove,this)},_onMove:function(b){var A=b.touches[0];this._newPos=new X(A.clientX,A.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(b,A){var U=new MouseEvent(b,{bubbles:!0,cancelable:!0,view:window,screenX:A.screenX,screenY:A.screenY,clientX:A.clientX,clientY:A.clientY});U._simulated=!0,A.target.dispatchEvent(U)}});Zn.addInitHook("addHandler","tapHold",y_),Zn.mergeOptions({touchZoom:Rt.touch,bounceAtZoomLimits:!0});var Sc=Ji.extend({addHooks:function(){Ie(this._map._container,"leaflet-touch-zoom"),wn(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),Si(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(b){var A=this._map;if(!(!b.touches||b.touches.length!==2||A._animatingZoom||this._zooming)){var U=A.mouseEventToContainerPoint(b.touches[0]),Q=A.mouseEventToContainerPoint(b.touches[1]);this._centerPoint=A.getSize()._divideBy(2),this._startLatLng=A.containerPointToLatLng(this._centerPoint),A.options.touchZoom!=="center"&&(this._pinchStartLatLng=A.containerPointToLatLng(U.add(Q)._divideBy(2))),this._startDist=U.distanceTo(Q),this._startZoom=A.getZoom(),this._moved=!1,this._zooming=!0,A._stop(),wn(document,"touchmove",this._onTouchMove,this),wn(document,"touchend touchcancel",this._onTouchEnd,this),$n(b)}},_onTouchMove:function(b){if(!(!b.touches||b.touches.length!==2||!this._zooming)){var A=this._map,U=A.mouseEventToContainerPoint(b.touches[0]),Q=A.mouseEventToContainerPoint(b.touches[1]),oe=U.distanceTo(Q)/this._startDist;if(this._zoom=A.getScaleZoom(oe,this._startZoom),!A.options.bounceAtZoomLimits&&(this._zoom<A.getMinZoom()&&oe<1||this._zoom>A.getMaxZoom()&&oe>1)&&(this._zoom=A._limitZoom(this._zoom)),A.options.touchZoom==="center"){if(this._center=this._startLatLng,oe===1)return}else{var fe=U._add(Q)._divideBy(2)._subtract(this._centerPoint);if(oe===1&&fe.x===0&&fe.y===0)return;this._center=A.unproject(A.project(this._pinchStartLatLng,this._zoom).subtract(fe),this._zoom)}this._moved||(A._moveStart(!0,!1),this._moved=!0),x(this._animRequest);var Ne=l(A._move,A,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(Ne,this,!0),$n(b)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,x(this._animRequest),Si(document,"touchmove",this._onTouchMove,this),Si(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Zn.addInitHook("addHandler","touchZoom",Sc),Zn.BoxZoom=Jh,Zn.DoubleClickZoom=bu,Zn.Drag=Ao,Zn.Keyboard=Dc,Zn.ScrollWheelZoom=k_,Zn.TapHold=y_,Zn.TouchZoom=Sc,t.Bounds=ie,t.Browser=Rt,t.CRS=ze,t.Canvas=b_,t.Circle=$c,t.CircleMarker=Hf,t.Class=J,t.Control=gs,t.DivIcon=Ca,t.DivOverlay=Us,t.DomEvent=lv,t.DomUtil=l_,t.Draggable=Eo,t.Evented=G,t.FeatureGroup=ks,t.GeoJSON=Jl,t.GridLayer=So,t.Handler=Ji,t.Icon=Fa,t.ImageOverlay=ut,t.LatLng=De,t.LatLngBounds=be,t.Layer=js,t.LayerGroup=Fr,t.LineUtil=uv,t.Map=Zn,t.Marker=qf,t.Mixin=ov,t.Path=ys,t.Point=X,t.PolyUtil=Hh,t.Polygon=_u,t.Polyline=Yr,t.Popup=Kf,t.PosAnimation=Bh,t.Projection=cv,t.Rectangle=Kh,t.Renderer=eo,t.SVG=To,t.SVGOverlay=sr,t.TileLayer=vu,t.Tooltip=Ea,t.Transformation=vt,t.Util=ee,t.VideoOverlay=pn,t.bind=l,t.bounds=re,t.canvas=Ec,t.circle=v_,t.circleMarker=mv,t.control=ml,t.divIcon=Jf,t.extend=r,t.featureGroup=__,t.geoJSON=xe,t.geoJson=_t,t.gridLayer=_i,t.icon=dv,t.imageOverlay=Gt,t.latLng=Be,t.latLngBounds=we,t.layerGroup=xh,t.map=Or,t.marker=hv,t.point=te,t.polygon=pv,t.polyline=Vf,t.popup=Ws,t.rectangle=ed,t.setOptions=g,t.stamp=a,t.svg=Xh,t.svgOverlay=wi,t.tileLayer=Zh,t.tooltip=_v,t.transformation=$t,t.version=n,t.videoOverlay=ai;var td=window.L;t.noConflict=function(){return window.L=td,this},window.L=t})})(qe,qe.exports);const Tu=qe.exports;var z0=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,Nu=document.documentElement.style.pointerEvents==="",xc={cors:z0,pointerEvents:Nu},iPe={attributionWidthOffset:55},WS=0;function j0(i){var e="";i.f=i.f||"json";for(var t in i)if(i.hasOwnProperty(t)){var n=i[t],r=Object.prototype.toString.call(n),s;e.length&&(e+="&"),r==="[object Array]"?s=Object.prototype.toString.call(n[0])==="[object Object]"?JSON.stringify(n):n.join(","):r==="[object Object]"?s=JSON.stringify(n):r==="[object Date]"?s=n.valueOf():s=n,e+=encodeURIComponent(t)+"="+encodeURIComponent(s)}return e}function Bw(i,e){var t=new window.XMLHttpRequest;return t.onerror=function(n){t.onreadystatechange=qe.exports.Util.falseFn,i.call(e,{error:{code:500,message:"XMLHttpRequest error"}},null)},t.onreadystatechange=function(){var n,r;if(t.readyState===4){try{n=JSON.parse(t.responseText)}catch{n=null,r={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!r&&n.error&&(r=n.error,n=null),t.onerror=qe.exports.Util.falseFn,i.call(e,r,n)}},t.ontimeout=function(){this.onerror()},t}function rPe(i,e,t,n){var r=Bw(t,n);return r.open("POST",i),typeof n<"u"&&n!==null&&typeof n.options<"u"&&(r.timeout=n.options.timeout),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.send(j0(e)),r}function DU(i,e,t,n){var r=Bw(t,n);return r.open("GET",i+"?"+j0(e),!0),typeof n<"u"&&n!==null&&typeof n.options<"u"&&(r.timeout=n.options.timeout,n.options.withCredentials&&(r.withCredentials=!0)),r.send(null),r}function SU(i,e,t,n){var r=j0(e),s=Bw(t,n),l=(i+"?"+r).length;if(l<=2e3&&xc.cors?s.open("GET",i+"?"+r):l>2e3&&xc.cors&&(s.open("POST",i),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),typeof n<"u"&&n!==null&&typeof n.options<"u"&&(s.timeout=n.options.timeout,n.options.withCredentials&&(s.withCredentials=!0)),l<=2e3&&xc.cors)s.send(null);else if(l>2e3&&xc.cors)s.send(r);else{if(l<=2e3&&!xc.cors)return Rw(i,e,t,n);Qu("a request to "+i+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy http://esri.github.io/esri-leaflet/api-reference/request.html");return}return s}function Rw(i,e,t,n){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var r="c"+WS;e.callback="window._EsriLeafletCallbacks."+r,window._EsriLeafletCallbacks[r]=function(l){if(window._EsriLeafletCallbacks[r]!==!0){var o,a=Object.prototype.toString.call(l);a==="[object Object]"||a==="[object Array]"||(o={error:{code:500,message:"Expected array or object as JSONP response"}},l=null),!o&&l.error&&(o=l,l=null),t.call(n,o,l),window._EsriLeafletCallbacks[r]=!0}};var s=qe.exports.DomUtil.create("script",null,document.body);return s.type="text/javascript",s.src=i+"?"+j0(e),s.id=r,s.onerror=function(l){if(l&&window._EsriLeafletCallbacks[r]!==!0){var o={error:{code:500,message:"An unknown error occurred"}};t.call(n,o),window._EsriLeafletCallbacks[r]=!0}},qe.exports.DomUtil.addClass(s,"esri-leaflet-jsonp"),WS++,{id:r,url:s.src,abort:function(){window._EsriLeafletCallbacks._callback[r]({code:0,message:"Request aborted."})}}}var zw=xc.cors?DU:Rw;zw.CORS=DU;zw.JSONP=Rw;function Qu(){console&&console.warn&&console.warn.apply(console,arguments)}var k1={request:SU,get:zw,post:rPe};/* @preserve
* @terraformer/arcgis - v2.1.1 - MIT
* Copyright (c) 2012-2022 Environmental Systems Research Institute, Inc.
* Tue Aug 02 2022 14:23:48 GMT-0700 (Pacific Daylight Time)
*/var sPe=function(e,t,n,r){var s=(r[0]-n[0])*(e[1]-n[1])-(r[1]-n[1])*(e[0]-n[0]),l=(t[0]-e[0])*(e[1]-n[1])-(t[1]-e[1])*(e[0]-n[0]),o=(r[1]-n[1])*(t[0]-e[0])-(r[0]-n[0])*(t[1]-e[1]);if(o!==0){var a=s/o,u=l/o;if(a>=0&&a<=1&&u>=0&&u<=1)return!0}return!1},lPe=function(e,t){for(var n=!1,r=-1,s=e.length,l=s-1;++r<s;l=r)(e[r][1]<=t[1]&&t[1]<e[l][1]||e[l][1]<=t[1]&&t[1]<e[r][1])&&t[0]<(e[l][0]-e[r][0])*(t[1]-e[r][1])/(e[l][1]-e[r][1])+e[r][0]&&(n=!n);return n},oPe=function(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0},TU=function(e,t){for(var n=0;n<e.length-1;n++)for(var r=0;r<t.length-1;r++)if(sPe(e[n],e[n+1],t[r],t[r+1]))return!0;return!1},hk=function(e){return oPe(e[0],e[e.length-1])||e.push(e[0]),e},mk=function(e){var t=0,n=0,r=e.length,s=e[n],l;for(n;n<r-1;n++)l=e[n+1],t+=(l[0]-s[0])*(l[1]+s[1]),s=l;return t>=0},AU=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},aPe=function(e,t){var n=TU(e,t),r=lPe(e,t[0]);return!!(!n&&r)},uPe=function(e){for(var t=[],n=[],r,s,l,o=0;o<e.length;o++){var a=hk(e[o].slice(0));if(!(a.length<4))if(mk(a)){var u=[a.slice().reverse()];t.push(u)}else n.push(a.slice().reverse())}for(var c=[];n.length;){l=n.pop();var f=!1;for(r=t.length-1;r>=0;r--)if(s=t[r][0],aPe(s,l)){t[r].push(l),f=!0;break}f||c.push(l)}for(;c.length;){l=c.pop();var d=!1;for(r=t.length-1;r>=0;r--)if(s=t[r][0],TU(s,l)){t[r].push(l),d=!0;break}d||t.push([l.reverse()])}return t.length===1?{type:"Polygon",coordinates:t[0]}:{type:"MultiPolygon",coordinates:t}},cPe=function(e,t){for(var n=t?[t,"OBJECTID","FID"]:["OBJECTID","FID"],r=0;r<n.length;r++){var s=n[r];if(s in e&&(typeof e[s]=="string"||typeof e[s]=="number"))return e[s]}throw Error("No valid id attribute found")},fPe=function i(e,t){var n={};if(e.features){n.type="FeatureCollection",n.features=[];for(var r=0;r<e.features.length;r++)n.features.push(i(e.features[r],t))}if(typeof e.x=="number"&&typeof e.y=="number"&&(n.type="Point",n.coordinates=[e.x,e.y],typeof e.z=="number"&&n.coordinates.push(e.z)),e.points&&(n.type="MultiPoint",n.coordinates=e.points.slice(0)),e.paths&&(e.paths.length===1?(n.type="LineString",n.coordinates=e.paths[0].slice(0)):(n.type="MultiLineString",n.coordinates=e.paths.slice(0))),e.rings&&(n=uPe(e.rings.slice(0))),typeof e.xmin=="number"&&typeof e.ymin=="number"&&typeof e.xmax=="number"&&typeof e.ymax=="number"&&(n.type="Polygon",n.coordinates=[[[e.xmax,e.ymax],[e.xmin,e.ymax],[e.xmin,e.ymin],[e.xmax,e.ymin],[e.xmax,e.ymax]]]),(e.geometry||e.attributes)&&(n.type="Feature",n.geometry=e.geometry?i(e.geometry):null,n.properties=e.attributes?AU(e.attributes):null,e.attributes))try{n.id=cPe(e.attributes,t)}catch{}return JSON.stringify(n.geometry)===JSON.stringify({})&&(n.geometry=null),e.spatialReference&&e.spatialReference.wkid&&e.spatialReference.wkid!==4326&&console.warn("Object converted in non-standard crs - "+JSON.stringify(e.spatialReference)),n},PU=function(e){var t=[],n=e.slice(0),r=hk(n.shift().slice(0));if(r.length>=4){mk(r)||r.reverse(),t.push(r);for(var s=0;s<n.length;s++){var l=hk(n[s].slice(0));l.length>=4&&(mk(l)&&l.reverse(),t.push(l))}}return t},dPe=function(e){for(var t=[],n=0;n<e.length;n++)for(var r=PU(e[n]),s=r.length-1;s>=0;s--){var l=r[s].slice(0);t.push(l)}return t},hPe=function i(e,t){t=t||"OBJECTID";var n={wkid:4326},r={},s;switch(e.type){case"Point":r.x=e.coordinates[0],r.y=e.coordinates[1],e.coordinates[2]!=null&&(r.z=e.coordinates[2]),r.spatialReference=n;break;case"MultiPoint":r.points=e.coordinates.slice(0),e.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=n;break;case"LineString":r.paths=[e.coordinates.slice(0)],e.coordinates[0][2]!=null&&(r.hasZ=!0),r.spatialReference=n;break;case"MultiLineString":r.paths=e.coordinates.slice(0),e.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=n;break;case"Polygon":r.rings=PU(e.coordinates.slice(0)),e.coordinates[0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=n;break;case"MultiPolygon":r.rings=dPe(e.coordinates.slice(0)),e.coordinates[0][0][0][2]!=null&&(r.hasZ=!0),r.spatialReference=n;break;case"Feature":e.geometry&&(r.geometry=i(e.geometry,t)),r.attributes=e.properties?AU(e.properties):{},e.id&&(r.attributes[t]=e.id);break;case"FeatureCollection":for(r=[],s=0;s<e.features.length;s++)r.push(i(e.features[s],t));break;case"GeometryCollection":for(r=[],s=0;s<e.geometries.length;s++)r.push(i(e.geometries[s],t));break}return r},NU='<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>',mPe='Powered by <a href="https://www.esri.com">Esri</a>';function kp(i,e){return hPe(i,e)}function MU(i,e){return fPe(i,e)}function pk(i){if(i.xmin!=="NaN"&&i.ymin!=="NaN"&&i.xmax!=="NaN"&&i.ymax!=="NaN"){var e=qe.exports.latLng(i.ymin,i.xmin),t=qe.exports.latLng(i.ymax,i.xmax);return qe.exports.latLngBounds(e,t)}else return null}function jw(i){return i=qe.exports.latLngBounds(i),{xmin:i.getSouthWest().lng,ymin:i.getSouthWest().lat,xmax:i.getNorthEast().lng,ymax:i.getNorthEast().lat,spatialReference:{wkid:4326}}}var LU=/^(OBJECTID|FID|OID|ID)$/i;function OU(i){var e;if(i.objectIdFieldName)e=i.objectIdFieldName;else if(i.fields){for(var t=0;t<=i.fields.length-1;t++)if(i.fields[t].type==="esriFieldTypeOID"){e=i.fields[t].name;break}if(!e){for(t=0;t<=i.fields.length-1;t++)if(i.fields[t].name.match(LU)){e=i.fields[t].name;break}}}return e}function IU(i){for(var e in i.attributes)if(e.match(LU))return e}function Jp(i,e){var t,n=i.features||i.results,r=n&&n.length;e?t=e:t=OU(i);var s={type:"FeatureCollection",features:[]};if(r)for(var l=n.length-1;l>=0;l--){var o=MU(n[l],t||IU(n[l]));s.features.push(o)}return s}function Y0(i){return i=qe.exports.Util.trim(i),i[i.length-1]!=="/"&&(i+="/"),i}function Qp(i){if(i.url.indexOf("?")!==-1){i.requestParams=i.requestParams||{};var e=i.url.substring(i.url.indexOf("?")+1);i.url=i.url.split("?")[0],i.requestParams=JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}return i.url=Y0(i.url.split("?")[0]),i}function BU(i){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(i)}function _k(i){var e;switch(i){case"Point":e="esriGeometryPoint";break;case"MultiPoint":e="esriGeometryMultipoint";break;case"LineString":e="esriGeometryPolyline";break;case"MultiLineString":e="esriGeometryPolyline";break;case"Polygon":e="esriGeometryPolygon";break;case"MultiPolygon":e="esriGeometryPolygon";break}return e}function y1(i){return i.getSize().x-iPe.attributionWidthOffset+"px"}function e_(i){if(!!i.attributionControl){if(i.attributionControl._esriAttributionLayerCount||(i.attributionControl._esriAttributionLayerCount=0),i.attributionControl._esriAttributionLayerCount===0){if(!i.attributionControl._esriAttributionAddedOnce){var e=document.createElement("style");e.type="text/css",e.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(e);var t=document.createElement("style");t.type="text/css",t.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+y1(i)+";}",document.getElementsByTagName("head")[0].appendChild(t),i.on("resize",function(n){i.attributionControl&&(i.attributionControl._container.style.maxWidth=y1(n.target))}),i.attributionControl._esriAttributionAddedOnce=!0}i.attributionControl.setPrefix(NU+" | "+mPe),qe.exports.DomUtil.addClass(i.attributionControl._container,"esri-truncated-attribution:hover"),qe.exports.DomUtil.addClass(i.attributionControl._container,"esri-truncated-attribution")}i.attributionControl._esriAttributionLayerCount=i.attributionControl._esriAttributionLayerCount+1}}function U0(i){!i.attributionControl||(i.attributionControl._esriAttributionLayerCount&&i.attributionControl._esriAttributionLayerCount===1&&(i.attributionControl.setPrefix(NU),qe.exports.DomUtil.removeClass(i.attributionControl._container,"esri-truncated-attribution:hover"),qe.exports.DomUtil.removeClass(i.attributionControl._container,"esri-truncated-attribution")),i.attributionControl._esriAttributionLayerCount=i.attributionControl._esriAttributionLayerCount-1)}function Yw(i){var e={geometry:null,geometryType:null};if(i instanceof qe.exports.LatLngBounds)return e.geometry=jw(i),e.geometryType="esriGeometryEnvelope",e;if(i.getLatLng&&(i=i.getLatLng()),i instanceof qe.exports.LatLng&&(i={type:"Point",coordinates:[i.lng,i.lat]}),i instanceof qe.exports.GeoJSON&&(i=i.getLayers()[0].feature.geometry,e.geometry=kp(i),e.geometryType=_k(i.type)),i.toGeoJSON&&(i=i.toGeoJSON()),i.type==="Feature"&&(i=i.geometry),i.type==="Point"||i.type==="LineString"||i.type==="Polygon"||i.type==="MultiPolygon")return e.geometry=kp(i),e.geometryType=_k(i.type),e;Qu("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object")}function RU(i,e){xc.cors&&SU(i,{},qe.exports.Util.bind(function(t,n){if(!t){e._esriAttributions=[];for(var r=0;r<n.contributors.length;r++)for(var s=n.contributors[r],l=0;l<s.coverageAreas.length;l++){var o=s.coverageAreas[l],a=qe.exports.latLng(o.bbox[0],o.bbox[1]),u=qe.exports.latLng(o.bbox[2],o.bbox[3]);e._esriAttributions.push({attribution:s.attribution,score:o.score,bounds:qe.exports.latLngBounds(a,u),minZoom:o.zoomMin,maxZoom:o.zoomMax})}e._esriAttributions.sort(function(f,d){return d.score-f.score});var c={target:e};w1(c)}},this))}function w1(i){var e=i.target,t=e._esriAttributions;if(!(!e||!e.attributionControl)){var n=e.attributionControl._container.querySelector(".esri-dynamic-attribution");if(n&&t){for(var r="",s=e.getBounds(),l=qe.exports.latLngBounds(s.getSouthWest().wrap(),s.getNorthEast().wrap()),o=e.getZoom(),a=0;a<t.length;a++){var u=t[a],c=u.attribution;!r.match(c)&&u.bounds.intersects(l)&&o>=u.minZoom&&o<=u.maxZoom&&(r+=", "+c)}r=r.substr(2),n.innerHTML=r,n.style.maxWidth=y1(e),e.fire("attributionupdated",{attribution:r})}}}var $1={warn:Qu,cleanUrl:Y0,getUrlParams:Qp,isArcgisOnline:BU,geojsonTypeToArcGIS:_k,responseToFeatureCollection:Jp,geojsonToArcGIS:kp,arcgisToGeoJSON:MU,boundsToExtent:jw,extentToBounds:pk,calcAttributionWidth:y1,setEsriAttribution:e_,_setGeometry:Yw,_getAttributionData:RU,_updateMapAttribution:w1,_findIdAttributeFromFeature:IU,_findIdAttributeFromResponse:OU},Ja=qe.exports.Class.extend({options:{proxy:!1,useCors:z0},generateSetter:function(i,e){return qe.exports.Util.bind(function(t){return this.params[i]=t,this},e)},initialize:function(i){if(i.request&&i.options?(this._service=i,qe.exports.Util.setOptions(this,i.options)):(qe.exports.Util.setOptions(this,i),this.options.url=Y0(i.url)),this.params=qe.exports.Util.extend({},this.params||{}),this.setters)for(var e in this.setters){var t=this.setters[e];this[e]=this.generateSetter(t,this)}},token:function(i){return this._service?this._service.authenticate(i):this.params.token=i,this},format:function(i){return this.params.returnUnformattedValues=!i,this},request:function(i,e){return this.options.requestParams&&qe.exports.Util.extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,i,e):this._request("request",this.path,this.params,i,e)},_request:function(i,e,t,n,r){var s=this.options.proxy?this.options.proxy+"?"+this.options.url+e:this.options.url+e;return(i==="get"||i==="request")&&!this.options.useCors?k1.get.JSONP(s,t,n,r):k1[i](s,t,n,r)}}),pPe=Ja.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSR:4326,outFields:"*"},within:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects:function(i){return this._setGeometryParams(i),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby:function(i,e){return i=qe.exports.latLng(i),this.params.geometry=[i.lng,i.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=e,this.params.inSR=4326,this},where:function(i){return this.params.where=i,this},between:function(i,e){return this.params.time=[i.valueOf(),e.valueOf()],this},simplify:function(i,e){var t=Math.abs(i.getBounds().getWest()-i.getBounds().getEast());return this.params.maxAllowableOffset=t/i.getSize().y*e,this},orderBy:function(i,e){return e=e||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[i,e].join(" "),this},run:function(i,e){return this._cleanParams(),this.options.isModern||BU(this.options.url)&&this.options.isModern===void 0?(this.params.f="geojson",this.request(function(t,n){this._trapSQLerrors(t),i.call(e,t,n,n)},this)):this.request(function(t,n){this._trapSQLerrors(t),i.call(e,t,n&&Jp(n),n)},this)},count:function(i,e){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(t,n){i.call(this,t,n&&n.count,n)},e)},ids:function(i,e){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(t,n){i.call(this,t,n&&n.objectIds,n)},e)},bounds:function(i,e){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request(function(t,n){n&&n.extent&&pk(n.extent)?i.call(e,t,pk(n.extent),n):(t={message:"Invalid Bounds"},i.call(e,t,null,n))},e)},distinct:function(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize:function(i){var e=qe.exports.point(i);return this.params.pixelSize=[e.x,e.y],this},layer:function(i){return this.path=i+"/query",this},_trapSQLerrors:function(i){i&&i.code==="400"&&Qu("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams:function(i){this.params.inSR=4326;var e=Yw(i);this.params.geometry=e.geometry,this.params.geometryType=e.geometryType}});function Uw(i){return new pPe(i)}var _Pe=Ja.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(i,e){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[i,e].join(":"),this},simplify:function(i,e){var t=Math.abs(i.getBounds().getWest()-i.getBounds().getEast());return this.params.maxAllowableOffset=t/i.getSize().y*e,this},run:function(i,e){return this.request(function(t,n){i.call(e,t,n&&Jp(n),n)},e)}});function gPe(i){return new _Pe(i)}var zU=Ja.extend({path:"identify",between:function(i,e){return this.params.time=[i.valueOf(),e.valueOf()],this}}),vPe=zU.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(i){var e=jw(i.getBounds()),t=i.getSize();return this.params.imageDisplay=[t.x,t.y,96],this.params.mapExtent=[e.xmin,e.ymin,e.xmax,e.ymax],this},at:function(i){return i.length===2&&(i=qe.exports.latLng(i)),this._setGeometryParams(i),this},layerDef:function(i,e){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[i,e].join(":"),this},simplify:function(i,e){var t=Math.abs(i.getBounds().getWest()-i.getBounds().getEast());return this.params.maxAllowableOffset=t/i.getSize().y*e,this},run:function(i,e){return this.request(function(t,n){if(t){i.call(e,t,void 0,n);return}else{var r=Jp(n);n.results=n.results.reverse();for(var s=0;s<r.features.length;s++){var l=r.features[s];l.layerId=n.results[s].layerId}i.call(e,void 0,r,n)}})},_setGeometryParams:function(i){var e=Yw(i);this.params.geometry=e.geometry,this.params.geometryType=e.geometryType}});function bPe(i){return new vPe(i)}var kPe=zU.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(i){return i=qe.exports.latLng(i),this.params.geometry=JSON.stringify({x:i.lng,y:i.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(i,e){return this.request(function(t,n){i.call(e,t,n&&this._responseToGeoJSON(n),n)},this)},_responseToGeoJSON:function(i){var e=i.location,t=i.catalogItems,n=i.catalogItemVisibilities,r={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[e.x,e.y]},crs:{type:"EPSG",properties:{code:e.spatialReference.wkid}},properties:{OBJECTID:i.objectId,name:i.name,value:i.value},id:i.objectId}};if(i.properties&&i.properties.Values&&(r.pixel.properties.values=i.properties.Values),t&&t.features&&(r.catalogItems=Jp(t),n&&n.length===r.catalogItems.features.length))for(var s=n.length-1;s>=0;s--)r.catalogItems.features[s].properties.catalogItemVisibility=n[s];return r}});function yPe(i){return new kPe(i)}var Ld=qe.exports.Evented.extend({options:{proxy:!1,useCors:z0,timeout:0},initialize:function(i){i=i||{},this._requestQueue=[],this._authenticating=!1,qe.exports.Util.setOptions(this,i),this.options.url=Y0(this.options.url)},get:function(i,e,t,n){return this._request("get",i,e,t,n)},post:function(i,e,t,n){return this._request("post",i,e,t,n)},request:function(i,e,t,n){return this._request("request",i,e,t,n)},metadata:function(i,e){return this._request("get","",{},i,e)},authenticate:function(i){return this._authenticating=!1,this.options.token=i,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(i){this.options.timeout=i},_request:function(i,e,t,n,r){this.fire("requeststart",{url:this.options.url+e,params:t,method:i},!0);var s=this._createServiceCallback(i,e,t,n,r);if(this.options.token&&(t.token=this.options.token),this.options.requestParams&&qe.exports.Util.extend(t,this.options.requestParams),this._authenticating){this._requestQueue.push([i,e,t,n,r]);return}else{var l=this.options.proxy?this.options.proxy+"?"+this.options.url+e:this.options.url+e;return(i==="get"||i==="request")&&!this.options.useCors?k1.get.JSONP(l,t,s,r):k1[i](l,t,s,r)}},_createServiceCallback:function(i,e,t,n,r){return qe.exports.Util.bind(function(s,l){s&&(s.code===499||s.code===498)&&(this._authenticating=!0,this._requestQueue.push([i,e,t,n,r]),this.fire("authenticationrequired",{authenticate:qe.exports.Util.bind(this.authenticate,this)},!0),s.authenticate=qe.exports.Util.bind(this.authenticate,this)),n.call(r,s,l),s?this.fire("requesterror",{url:this.options.url+e,params:t,message:s.message,code:s.code,method:i},!0):this.fire("requestsuccess",{url:this.options.url+e,params:t,response:l,method:i},!0),this.fire("requestend",{url:this.options.url+e,params:t,method:i},!0)},this)},_runQueue:function(){for(var i=this._requestQueue.length-1;i>=0;i--){var e=this._requestQueue[i],t=e.shift();this[t].apply(this,e)}this._requestQueue=[]}}),gk=Ld.extend({identify:function(){return bPe(this)},find:function(){return gPe(this)},query:function(){return Uw(this)}});function jU(i){return new gk(i)}var wPe=Ld.extend({query:function(){return Uw(this)},identify:function(){return yPe(this)}});function $Pe(i){return new wPe(i)}var vk=Ld.extend({options:{idAttribute:"OBJECTID"},query:function(){return Uw(this)},addFeature:function(i,e,t){this.addFeatures(i,e,t)},addFeatures:function(i,e,t){for(var n=i.features?i.features:[i],r=n.length-1;r>=0;r--)delete n[r].id;return i=kp(i),i=n.length>1?i:[i],this.post("addFeatures",{features:i},function(s,l){var o=l&&l.addResults?l.addResults.length>1?l.addResults:l.addResults[0]:void 0;e&&e.call(t,s||l.addResults[0].error,o)},t)},updateFeature:function(i,e,t){this.updateFeatures(i,e,t)},updateFeatures:function(i,e,t){var n=i.features?i.features:[i];return i=kp(i,this.options.idAttribute),i=n.length>1?i:[i],this.post("updateFeatures",{features:i},function(r,s){var l=s&&s.updateResults?s.updateResults.length>1?s.updateResults:s.updateResults[0]:void 0;e&&e.call(t,r||s.updateResults[0].error,l)},t)},deleteFeature:function(i,e,t){this.deleteFeatures(i,e,t)},deleteFeatures:function(i,e,t){return this.post("deleteFeatures",{objectIds:i},function(n,r){var s=r&&r.deleteResults?r.deleteResults.length>1?r.deleteResults:r.deleteResults[0]:void 0;e&&e.call(t,n||r.deleteResults[0].error,s)},t)}});function FPe(i){return new vk(i)}var Er=window.location.protocol!=="https:"?"http:":"https:",qS=qe.exports.TileLayer.extend({statics:{TILES:{Streets:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:Er+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:Er+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Nu?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Nu?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:Nu?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:Nu?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:Nu?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:Nu?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:Nu?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:Er+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:Er+"//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:Er+"//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:Er+"//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize:function(i,e){var t;if(typeof i=="object"&&i.urlTemplate&&i.options)t=i;else if(typeof i=="string"&&qS.TILES[i])t=qS.TILES[i];else throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');var n=qe.exports.Util.extend(t.options,e);qe.exports.Util.setOptions(this,n),this.options.token&&t.urlTemplate.indexOf("token=")===-1&&(t.urlTemplate+="?token="+this.options.token),this.options.proxy&&(t.urlTemplate=this.options.proxy+"?"+t.urlTemplate),qe.exports.TileLayer.prototype.initialize.call(this,t.urlTemplate,n)},onAdd:function(i){e_(i),this.options.pane==="esri-labels"&&this._initPane(),this.options.attributionUrl&&RU((this.options.proxy?this.options.proxy+"?":"")+this.options.attributionUrl,i),i.on("moveend",w1),qe.exports.TileLayer.prototype.onAdd.call(this,i)},onRemove:function(i){U0(i),i.off("moveend",w1),qe.exports.TileLayer.prototype.onRemove.call(this,i)},_initPane:function(){if(!this._map.getPane(this.options.pane)){var i=this._map.createPane(this.options.pane);i.style.pointerEvents="none",i.style.zIndex=500}},getAttribution:function(){if(this.options.attribution)var i='<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>";return i}}),EPe=qe.exports.TileLayer.extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(i){i=qe.exports.Util.setOptions(this,i),i=Qp(i),this.tileUrl=(i.proxy?i.proxy+"?":"")+i.url+"tile/{z}/{y}/{x}"+(i.requestParams&&Object.keys(i.requestParams).length>0?qe.exports.Util.getParamString(i.requestParams):""),i.url.indexOf("{s}")!==-1&&i.subdomains&&(i.url=i.url.replace("{s}",i.subdomains[0])),this.service=jU(i),this.service.addEventParent(this);var e=new RegExp(/tiles.arcgis(online)?\.com/g);e.test(i.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),i.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),qe.exports.TileLayer.prototype.initialize.call(this,this.tileUrl,i)},getTileUrl:function(i){var e=this._getZoomForUrl();return qe.exports.Util.template(this.tileUrl,qe.exports.Util.extend({s:this._getSubdomain(i),x:i.x,y:i.y,z:this._lodMap&&this._lodMap[e]?this._lodMap[e]:e},this.options))},createTile:function(i,e){var t=document.createElement("img");return qe.exports.DomEvent.on(t,"load",qe.exports.Util.bind(this._tileOnLoad,this,e,t)),qe.exports.DomEvent.on(t,"error",qe.exports.Util.bind(this._tileOnError,this,e,t)),this.options.crossOrigin&&(t.crossOrigin=""),t.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]?t.src=this.getTileUrl(i):this.once("lodmap",function(){t.src=this.getTileUrl(i)},this),t},onAdd:function(i){e_(i),this._lodMap||this.metadata(function(e,t){if(!e&&t.spatialReference){var n=t.spatialReference.latestWkid||t.spatialReference.wkid;if(!this.options.attribution&&i.attributionControl&&t.copyrightText&&(this.options.attribution=t.copyrightText,i.attributionControl.addAttribution(this.getAttribution())),i.options.crs===qe.exports.CRS.EPSG3857&&(n===102100||n===3857)){this._lodMap={};for(var r=t.tileInfo.lods,s=EPe.MercatorZoomLevels,l=0;l<r.length;l++){var o=r[l];for(var a in s){var u=s[a];if(this._withinPercentage(o.resolution,u,this.options.zoomOffsetAllowance)){this._lodMap[a]=o.level;break}}}this.fire("lodmap")}else i.options.crs&&i.options.crs.code&&i.options.crs.code.indexOf(n)>-1||Qu("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet http://esri.github.io/esri-leaflet/examples/non-mercator-projection.html")}},this),qe.exports.TileLayer.prototype.onAdd.call(this,i)},onRemove:function(i){U0(i)},metadata:function(i,e){return this.service.metadata(i,e),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(i){var e="?token="+i;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,e):this.tileUrl+e,this.options.token=i,this.service.authenticate(i),this},_withinPercentage:function(i,e,t){var n=Math.abs(i/e-1);return n<t}}),CPe=qe.exports.ImageOverlay.extend({onAdd:function(i){this._topLeft=i.getPixelBounds().min,qe.exports.ImageOverlay.prototype.onAdd.call(this,i)},_reset:function(){this._map.options.crs===qe.exports.CRS.EPSG3857?qe.exports.ImageOverlay.prototype._reset.call(this):qe.exports.DomUtil.setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),YU=qe.exports.Layer.extend({options:{opacity:1,position:"front",f:"image",useCors:z0,attribution:null,interactive:!1,alt:""},onAdd:function(i){e_(i),this.options.zIndex&&(this.options.position=null),this._update=qe.exports.Util.throttle(this._update,this.options.updateInterval,this),i.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?i.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata(function(e,t){!e&&!this.options.attribution&&i.attributionControl&&t.copyrightText&&(this.options.attribution=t.copyrightText,i.attributionControl.addAttribution(this.getAttribution()))},this)},onRemove:function(i){U0(i),this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(i,e){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=qe.exports.popup(e),this._popupFunction=i,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex:function(i){return this.options.zIndex=i,this._currentImage&&this._currentImage.setZIndex(i),this},_setAutoZIndex:function(i){if(!!this._currentImage){for(var e=this._currentImage.getPane().children,t=-i(-1/0,1/0),n=0,r=e.length,s;n<r;n++)s=e[n].style.zIndex,e[n]!==this._currentImage._image&&s&&(t=i(t,+s));isFinite(t)&&(this.options.zIndex=t+i(-1,1),this.setZIndex(this.options.zIndex))}},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(i){return this.options.opacity=i,this._currentImage&&this._currentImage.setOpacity(i),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(i,e){return this.options.from=i,this.options.to=e,this._update(),this},metadata:function(i,e){return this.service.metadata(i,e),this},authenticate:function(i){return this.service.authenticate(i),this},redraw:function(){this._update()},_renderImage:function(i,e,t){if(this._map){if(t&&(i="data:"+t+";base64,"+i),!i)return;var n=new CPe(i,e,{opacity:0,crossOrigin:this.options.withCredentials?"use-credentials":this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),r=function(){this._map.removeLayer(n),this.fire("error"),n.off("load",s,this)},s=function(l){if(n.off("error",s,this),this._map){var o=l.target,a=this._currentImage;o._bounds.equals(e)&&o._bounds.equals(this._map.getBounds())?(this._currentImage=o,this.options.position==="front"?this.bringToFront():this.options.position==="back"&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),a&&this._map&&this._map.removeLayer(a),a&&a._map&&a._map.removeLayer(a)):this._map.removeLayer(o)}this.fire("load",{bounds:e})};n.once("error",r,this),n.once("load",s,this)}},_update:function(){if(!!this._map){var i=this._map.getZoom(),e=this._map.getBounds();if(!this._animatingZoom&&!(this._map._panTransition&&this._map._panTransition._inProgress)){if(i>this.options.maxZoom||i<this.options.minZoom){this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);return}var t=this._buildExportParams();qe.exports.Util.extend(t,this.options.requestParams),t?(this._requestExport(t,e),this.fire("loading",{bounds:e})):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_renderPopup:function(i,e,t,n){if(i=qe.exports.latLng(i),this._shouldRenderPopup&&this._lastClick.equals(i)){var r=this._popupFunction(e,t,n);r&&this._popup.setLatLng(i).setContent(r).openOn(this._map)}},_resetPopupState:function(i){this._shouldRenderPopup=!1,this._lastClick=i.latlng},_calculateBbox:function(){var i=this._map.getPixelBounds(),e=this._map.unproject(i.getBottomLeft()),t=this._map.unproject(i.getTopRight()),n=this._map.options.crs.project(t),r=this._map.options.crs.project(e),s=qe.exports.bounds(n,r);return[s.getBottomLeft().x,s.getBottomLeft().y,s.getTopRight().x,s.getTopRight().y].join(",")},_calculateImageSize:function(){var i=this._map.getPixelBounds(),e=this._map.getSize(),t=this._map.unproject(i.getBottomLeft()),n=this._map.unproject(i.getTopRight()),r=this._map.latLngToLayerPoint(n).y,s=this._map.latLngToLayerPoint(t).y;return(r>0||s<e.y)&&(e.y=s-r),e.x+","+e.y}});YU.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(i){i=Qp(i),this.service=$Pe(i),this.service.addEventParent(this),qe.exports.Util.setOptions(this,i)},setPixelType:function(i){return this.options.pixelType=i,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(i){return qe.exports.Util.isArray(i)?this.options.bandIds=i.join(","):this.options.bandIds=i.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(i,e){return qe.exports.Util.isArray(i)?this.options.noData=i.join(","):this.options.noData=i.toString(),e&&(this.options.noDataInterpretation=e),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(i){this.options.renderingRule=i,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(i){this.options.mosaicRule=i,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(i){var e=qe.exports.Util.bind(function(n,r,s){n||setTimeout(qe.exports.Util.bind(function(){this._renderPopup(i.latlng,n,r,s)},this),300)},this),t=this.identify().at(i.latlng);this.options.mosaicRule&&t.setMosaicRule(this.options.mosaicRule),t.run(e),this._shouldRenderPopup=!0,this._lastClick=i.latlng},_buildExportParams:function(){var i=parseInt(this._map.options.crs.code.split(":")[1],10),e={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:i,imageSR:i};return this.options.from&&this.options.to&&(e.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(e.pixelType=this.options.pixelType),this.options.interpolation&&(e.interpolation=this.options.interpolation),this.options.compressionQuality&&(e.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(e.bandIds=this.options.bandIds),(this.options.noData===0||this.options.noData)&&(e.noData=this.options.noData),this.options.noDataInterpretation&&(e.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(e.token=this.service.options.token),this.options.renderingRule&&(e.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(e.mosaicRule=JSON.stringify(this.options.mosaicRule)),e},_requestExport:function(i,e){if(this.options.f==="json")this.service.request("exportImage",i,function(n,r){n||(this.options.token&&(r.href+="?token="+this.options.token),this.options.proxy&&(r.href=this.options.proxy+"?"+r.href),this._renderImage(r.href,e))},this);else{i.f="image";var t=this.options.url+"exportImage"+qe.exports.Util.getParamString(i);this.options.proxy&&(t=this.options.proxy+"?"+t),this._renderImage(t,e)}}});YU.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png32",transparent:!0,f:"json"},initialize:function(i){i=Qp(i),this.service=jU(i),this.service.addEventParent(this),qe.exports.Util.setOptions(this,i)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(i){return this.options.dynamicLayers=i,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(i){return this.options.layers=i,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(i){return this.options.layerDefs=i,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(i){return this.options.timeOptions=i,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(i){var e=qe.exports.Util.bind(function(r,s,l){r||setTimeout(qe.exports.Util.bind(function(){this._renderPopup(i.latlng,r,s,l)},this),300)},this),t;if(this.options.popup?t=this.options.popup.on(this._map).at(i.latlng):t=this.identify().on(this._map).at(i.latlng),t.params.maxAllowableOffset||t.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||(this.options.layers?t.layers("visible:"+this.options.layers.join(",")):t.layers("visible")),this.options.layerDefs&&typeof this.options.layerDefs!="string"&&!t.params.layerDefs)for(var n in this.options.layerDefs)this.options.layerDefs.hasOwnProperty(n)&&t.layerDef(n,this.options.layerDefs[n]);t.run(e),this._shouldRenderPopup=!0,this._lastClick=i.latlng},_buildExportParams:function(){var i=parseInt(this._map.options.crs.code.split(":")[1],10),e={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:i,imageSR:i};if(this.options.dynamicLayers&&(e.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(this.options.layers.length===0)return;e.layers="show:"+this.options.layers.join(",")}return this.options.layerDefs&&(e.layerDefs=typeof this.options.layerDefs=="string"?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(e.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(e.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(e.token=this.service.options.token),this.options.proxy&&(e.proxy=this.options.proxy),this.options.disableCache&&(e._ts=Date.now()),e},_requestExport:function(i,e){if(this.options.f==="json")this.service.request("export",i,function(n,r){n||(this.options.token&&r.href&&(r.href+="?token="+this.options.token),this.options.proxy&&r.href&&(r.href=this.options.proxy+"?"+r.href),r.href?this._renderImage(r.href,e):this._renderImage(r.imageData,e,r.contentType))},this);else{i.f="image";var t=this.options.url+"export"+qe.exports.Util.getParamString(i);this.options.proxy&&(t=this.options.proxy+"?"+t),this._renderImage(t,e)}}});var mg=qe.exports.Layer.extend({options:{cellSize:512,updateWhenIdle:qe.exports.Browser.mobile,updateInterval:150,noWrap:!1,keepBuffer:1.5},initialize:function(i){qe.exports.Util.setOptions(this,i)},onAdd:function(i){this._cells={},this._activeCells={},this._resetView(),this._update()},onRemove:function(i){this._removeAllCells(),this._cellZoom=void 0},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllCells(),this._update()),this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=qe.exports.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),i},createCell:function(){return document.createElement("div")},removeCell:function(){},reuseCell:function(){},cellLeave:function(){},cellEnter:function(){},getCellSize:function(){var i=this.options.cellSize;return i instanceof qe.exports.Point?i:new qe.exports.Point(i,i)},_pruneCells:function(){if(!!this._map){var i,e;for(i in this._cells)e=this._cells[i],e.retain=e.current;for(i in this._cells)if(e=this._cells[i],e.current&&!e.active){var t=e.coords;this._retainParent(t.x,t.y,t.z,t.z-5)||this._retainChildren(t.x,t.y,t.z,t.z+2)}for(i in this._cells)this._cells[i].retain||this._removeCell(i)}},_removeAllCells:function(){for(var i in this._cells)this._removeCell(i)},_invalidateAll:function(){this._removeAllCells(),this._cellZoom=void 0},_retainParent:function(i,e,t,n){var r=Math.floor(i/2),s=Math.floor(e/2),l=t-1,o=new qe.exports.Point(+r,+s);o.z=+l;var a=this._cellCoordsToKey(o),u=this._cells[a];return u&&u.active?(u.retain=!0,!0):(u&&u.loaded&&(u.retain=!0),l>n?this._retainParent(r,s,l,n):!1)},_retainChildren:function(i,e,t,n){for(var r=2*i;r<2*i+2;r++)for(var s=2*e;s<2*e+2;s++){var l=new qe.exports.Point(r,s);l.z=t+1;var o=this._cellCoordsToKey(l),a=this._cells[o];if(a&&a.active){a.retain=!0;continue}else a&&a.loaded&&(a.retain=!0);t+1<n&&this._retainChildren(r,s,t+1,n)}},_resetView:function(i){var e=i&&(i.pinch||i.flyTo);e||this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_setView:function(i,e,t,n){var r=Math.round(e);n||(this._cellZoom=r,this._abortLoading&&this._abortLoading(),this._resetGrid(),r!==void 0&&this._update(i),t||this._pruneCells(),this._noPrune=!!t)},_resetGrid:function(){var i=this._map,e=i.options.crs,t=this._cellSize=this.getCellSize(),n=this._cellZoom,r=this._map.getPixelWorldBounds(this._cellZoom);r&&(this._globalCellRange=this._pxBoundsToCellRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,e.wrapLng[0]],n).x/t.x),Math.ceil(i.project([0,e.wrapLng[1]],n).x/t.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([e.wrapLat[0],0],n).y/t.x),Math.ceil(i.project([e.wrapLat[1],0],n).y/t.y)]},_onMoveEnd:function(i){var e=i&&(i.pinch||i.flyTo);e||!this._map||this._map._animatingZoom||this._update()},_getCelldPixelBounds:function(i){var e=this._map,t=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(t,this._cellZoom),r=e.project(i,this._cellZoom).floor(),s=e.getSize().divideBy(n*2);return new qe.exports.Bounds(r.subtract(s),r.add(s))},_update:function(i){var e=this._map;if(!!e){var t=Math.round(e.getZoom());i===void 0&&(i=e.getCenter());var n=this._getCelldPixelBounds(i),r=this._pxBoundsToCellRange(n),s=r.getCenter(),l=[],o=this.options.keepBuffer,a=new qe.exports.Bounds(r.getBottomLeft().subtract([o,-o]),r.getTopRight().add([o,-o]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of cells");for(var u in this._cells){var c=this._cells[u].coords;(c.z!==this._cellZoom||!a.contains(new qe.exports.Point(c.x,c.y)))&&(this._cells[u].current=!1)}if(Math.abs(t-this._cellZoom)>1){this._setView(i,t);return}for(var f=r.min.y;f<=r.max.y;f++)for(var d=r.min.x;d<=r.max.x;d++){var m=new qe.exports.Point(d,f);if(m.z=this._cellZoom,!!this._isValidCell(m)){var p=this._cells[this._cellCoordsToKey(m)];p?p.current=!0:l.push(m)}}if(l.sort(function($,C){return $.distanceTo(s)-C.distanceTo(s)}),l.length!==0)for(this._loading||(this._loading=!0),d=0;d<l.length;d++){var g=this._cellCoordsToKey(l[d]),k=this._keyToCellCoords(g);this._activeCells[k]?this._reuseCell(l[d]):this._createCell(l[d])}}},_isValidCell:function(i){var e=this._map.options.crs;if(!e.infinite){var t=this._globalCellRange;if(!e.wrapLng&&(i.x<t.min.x||i.x>t.max.x)||!e.wrapLat&&(i.y<t.min.y||i.y>t.max.y))return!1}if(!this.options.bounds)return!0;var n=this._cellCoordsToBounds(i);return qe.exports.toLatLngBounds(this.options.bounds).overlaps(n)},_keyToBounds:function(i){return this._cellCoordsToBounds(this._keyToCellCoords(i))},_cellCoordsToNwSe:function(i){var e=this._map,t=this.getCellSize(),n=i.scaleBy(t),r=n.add(t),s=e.unproject(n,i.z),l=e.unproject(r,i.z);return[s,l]},_cellCoordsToBounds:function(i){var e=this._cellCoordsToNwSe(i),t=new qe.exports.LatLngBounds(e[0],e[1]);return this.options.noWrap||(t=this._map.wrapLatLngBounds(t)),t},_cellCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToCellCoords:function(i){var e=i.split(":"),t=new qe.exports.Point(+e[0],+e[1]);return t.z=+e[2],t},_removeCell:function(i){var e=this._cells[i];if(!!e){var t=this._keyToCellCoords(i),n=this._wrapCoords(t),r=this._cellCoordsToBounds(this._wrapCoords(t));e.current=!1,delete this._cells[i],this._activeCells[i]=e,this.cellLeave(r,n,i),this.fire("cellleave",{key:i,coords:n,bounds:r})}},_reuseCell:function(i){var e=this._cellCoordsToKey(i);this._cells[e]=this._activeCells[e],this._cells[e].current=!0;var t=this._wrapCoords(i),n=this._cellCoordsToBounds(this._wrapCoords(i));this.cellEnter(n,t,e),this.fire("cellenter",{key:e,coords:t,bounds:n})},_createCell:function(i){var e=this._cellCoordsToKey(i),t=this._wrapCoords(i),n=this._cellCoordsToBounds(this._wrapCoords(i));this.createCell(n,t,e),this.fire("cellcreate",{key:e,coords:t,bounds:n}),this._cells[e]={coords:i,current:!0},qe.exports.Util.requestAnimFrame(this._pruneCells,this)},_cellReady:function(i,e,t){var n=this._cellCoordsToKey(i);t=this._cells[n],t&&(t.loaded=+new Date,t.active=!0)},_getCellPos:function(i){return i.scaleBy(this.getCellSize())},_wrapCoords:function(i){var e=new qe.exports.Point(this._wrapX?qe.exports.Util.wrapNum(i.x,this._wrapX):i.x,this._wrapY?qe.exports.Util.wrapNum(i.y,this._wrapY):i.y);return e.z=i.z,e},_pxBoundsToCellRange:function(i){var e=this.getCellSize();return new qe.exports.Bounds(i.min.unscaleBy(e).floor(),i.max.unscaleBy(e).ceil().subtract([1,1]))}});function Va(i){this.values=[].concat(i||[])}Va.prototype.query=function(i){var e=this.getIndex(i);return this.values[e]};Va.prototype.getIndex=function(e){this.dirty&&this.sort();for(var t=0,n=this.values.length-1,r,s;t<=n;)if(r=(t+n)/2|0,s=this.values[Math.round(r)],+s.value<+e)t=r+1;else if(+s.value>+e)n=r-1;else return r;return Math.abs(~n)};Va.prototype.between=function(e,t){var n=this.getIndex(e),r=this.getIndex(t);if(n===0&&r===0)return[];for(;this.values[n-1]&&this.values[n-1].value===e;)n--;for(;this.values[r+1]&&this.values[r+1].value===t;)r++;return this.values[r]&&this.values[r].value===t&&this.values[r+1]&&r++,this.values.slice(n,r)};Va.prototype.insert=function(e){return this.values.splice(this.getIndex(e.value),0,e),this};Va.prototype.bulkAdd=function(e,t){return this.values=this.values.concat([].concat(e||[])),t?this.sort():this.dirty=!0,this};Va.prototype.sort=function(){return this.values.sort(function(e,t){return+t.value-+e.value}).reverse(),this.dirty=!1,this};var xb=mg.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6,fetchAllFeatures:!1},initialize:function(i){if(mg.prototype.initialize.call(this,i),i=Qp(i),i=qe.exports.Util.setOptions(this,i),this.service=FPe(i),this.service.addEventParent(this),this.options.fields[0]!=="*"){for(var e=!1,t=0;t<this.options.fields.length;t++)this.options.fields[t].match(/^(OBJECTID|FID|OID|ID)$/i)&&(e=!0);e===!1&&Qu("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new Va,this._endTimeIndex=new Va):this.options.timeField&&(this._timeIndex=new Va),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(i){return e_(i),this.service.metadata(function(e,t){if(!e){var n=t.supportedQueryFormats,r=!1;(this.service.options.isModern===!1||this.options.fetchAllFeatures)&&(r=!0),!r&&n&&n.indexOf("geoJSON")!==-1&&(this.service.options.isModern=!0),t.objectIdField&&(this.service.options.idAttribute=t.objectIdField),!this.options.attribution&&i.attributionControl&&t.copyrightText&&(this.options.attribution=t.copyrightText,i.attributionControl.addAttribution(this.getAttribution()))}},this),i.on("zoomend",this._handleZoomChange,this),mg.prototype.onAdd.call(this,i)},onRemove:function(i){return U0(i),i.off("zoomend",this._handleZoomChange,this),mg.prototype.onRemove.call(this,i)},getAttribution:function(){return this.options.attribution},createCell:function(i,e){this._visibleZoom()&&this._requestFeatures(i,e)},_requestFeatures:function(i,e,t,n){this._activeRequests++,n=n||0;var r=this.options.where;return this._activeRequests===1&&this.fire("loading",{bounds:i},!0),this._buildQuery(i,n).run(function(s,l,o){o&&o.exceededTransferLimit&&this.fire("drawlimitexceeded"),this.options.where===r&&(!s&&l&&l.features.length&&qe.exports.Util.requestAnimFrame(qe.exports.Util.bind(function(){this._addFeatures(l.features,e),this._postProcessFeatures(i)},this)),!s&&l&&!l.features.length&&this._postProcessFeatures(i),s&&this._postProcessFeatures(i),t&&t.call(this,s,l),o&&(o.exceededTransferLimit||o.properties&&o.properties.exceededTransferLimit)&&this.options.fetchAllFeatures&&this._requestFeatures(i,e,t,n+l.features.length))},this)},_postProcessFeatures:function(i){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:i})},_cacheKey:function(i){return i.z+":"+i.x+":"+i.y},_addFeatures:function(i,e){if(e){var t=this._cacheKey(e);this._cache[t]=this._cache[t]||[]}for(var n=i.length-1;n>=0;n--){var r=i[n].id;this._currentSnapshot.indexOf(r)===-1&&this._currentSnapshot.push(r),typeof t<"u"&&this._cache[t].indexOf(r)===-1&&this._cache[t].push(r)}this.options.timeField&&this._buildTimeIndexes(i),this.createLayers(i)},_buildQuery:function(i,e){var t=this.service.query().intersects(i).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.fetchAllFeatures&&!isNaN(parseInt(e))&&(t=t.offset(e)),t.params.resultType="tile",this.options.requestParams&&qe.exports.Util.extend(t.params,this.options.requestParams),this.options.simplifyFactor&&t.simplify(this._map,this.options.simplifyFactor),this.options.timeFilterMode==="server"&&this.options.from&&this.options.to&&t.between(this.options.from,this.options.to),t},setWhere:function(i,e,t){this.options.where=i&&i.length?i:"1=1";for(var n=[],r=[],s=0,l=null,o=qe.exports.Util.bind(function(d,m){if(d&&(l=d),m)for(var p=m.features.length-1;p>=0;p--)r.push(m.features[p].id);s--,s<=0&&this._visibleZoom()&&i===this.options.where&&(this._currentSnapshot=r,qe.exports.Util.requestAnimFrame(qe.exports.Util.bind(function(){this.removeLayers(n),this.addLayers(r),e&&e.call(t,l)},this)))},this),a=this._currentSnapshot.length-1;a>=0;a--)n.push(this._currentSnapshot[a]);this._cache={};for(var u in this._cells){s++;var c=this._keyToCellCoords(u),f=this._cellCoordsToBounds(c);this._requestFeatures(f,c,o)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(i,e,t,n){var r=this.options.from,s=this.options.to,l=0,o=null,a=qe.exports.Util.bind(function(d){d&&(o=d),this._filterExistingFeatures(r,s,i,e),l--,t&&l<=0&&t.call(n,o)},this);if(this.options.from=i,this.options.to=e,this._filterExistingFeatures(r,s,i,e),this.options.timeFilterMode==="server")for(var u in this._cells){l++;var c=this._keyToCellCoords(u),f=this._cellCoordsToBounds(c);this._requestFeatures(f,c,a)}return this},refresh:function(){this.setWhere(this.options.where)},_filterExistingFeatures:function(i,e,t,n){var r=i&&e?this._getFeaturesInTimeRange(i,e):this._currentSnapshot,s=this._getFeaturesInTimeRange(t,n);if(s.indexOf)for(var l=0;l<s.length;l++){var o=r.indexOf(s[l]);o>=0&&r.splice(o,1)}qe.exports.Util.requestAnimFrame(qe.exports.Util.bind(function(){this.removeLayers(r),this.addLayers(s)},this))},_getFeaturesInTimeRange:function(i,e){var t=[],n;if(this.options.timeField.start&&this.options.timeField.end){var r=this._startTimeIndex.between(i,e),s=this._endTimeIndex.between(i,e);n=r.concat(s)}else if(this._timeIndex)n=this._timeIndex.between(i,e);else return Qu("You must set timeField in the layer constructor in order to manipulate the start and end time filter."),[];for(var l=n.length-1;l>=0;l--)t.push(n[l].id);return t},_buildTimeIndexes:function(i){var e,t;if(this.options.timeField.start&&this.options.timeField.end){var n=[],r=[];for(e=i.length-1;e>=0;e--)t=i[e],n.push({id:t.id,value:new Date(t.properties[this.options.timeField.start])}),r.push({id:t.id,value:new Date(t.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(n),this._endTimeIndex.bulkAdd(r)}else{var s=[];for(e=i.length-1;e>=0;e--)t=i[e],s.push({id:t.id,value:new Date(t.properties[this.options.timeField])});this._timeIndex.bulkAdd(s)}},_featureWithinTimeRange:function(i){if(!this.options.from||!this.options.to)return!0;var e=+this.options.from.valueOf(),t=+this.options.to.valueOf();if(typeof this.options.timeField=="string"){var n=+i.properties[this.options.timeField];return n>=e&&n<=t}if(this.options.timeField.start&&this.options.timeField.end){var r=+i.properties[this.options.timeField.start],s=+i.properties[this.options.timeField.end];return r>=e&&r<=t||s>=e&&s<=t||r<=e&&s>=t}},_visibleZoom:function(){if(!this._map)return!1;var i=this._map.getZoom();return!(i>this.options.maxZoom||i<this.options.minZoom)},_handleZoomChange:function(){if(!this._visibleZoom())this.removeLayers(this._currentSnapshot);else for(var i in this._cells){var e=this._cells[i].coords,t=this._cacheKey(e);this._cache[t]&&this.addLayers(this._cache[t])}},authenticate:function(i){return this.service.authenticate(i),this},metadata:function(i,e){return this.service.metadata(i,e),this},query:function(){return this.service.query()},_getMetadata:function(i){if(this._metadata){var e;i(e,this._metadata)}else this.metadata(qe.exports.Util.bind(function(t,n){this._metadata=n,i(t,this._metadata)},this))},addFeature:function(i,e,t){this.addFeatures(i,e,t)},addFeatures:function(i,e,t){this._getMetadata(qe.exports.Util.bind(function(n,r){if(n){e&&e.call(this,n,null);return}var s=i.features?i.features:[i];this.service.addFeatures(i,qe.exports.Util.bind(function(l,o){if(!l){for(var a=s.length-1;a>=0;a--)s[a].properties[r.objectIdField]=s.length>1?o[a].objectId:o.objectId,s[a].id=s.length>1?o[a].objectId:o.objectId;this._addFeatures(s)}e&&e.call(t,l,o)},this))},this))},updateFeature:function(i,e,t){this.updateFeatures(i,e,t)},updateFeatures:function(i,e,t){var n=i.features?i.features:[i];this.service.updateFeatures(i,function(r,s){if(!r){for(var l=n.length-1;l>=0;l--)this.removeLayers([n[l].id],!0);this._addFeatures(n)}e&&e.call(t,r,s)},this)},deleteFeature:function(i,e,t){this.deleteFeatures(i,e,t)},deleteFeatures:function(i,e,t){return this.service.deleteFeatures(i,function(n,r){var s=r.length?r:[r];if(!n&&s.length>0)for(var l=s.length-1;l>=0;l--)this.removeLayers([s[l].objectId],!0);e&&e.call(t,n,r)},this)}});xb.extend({options:{cacheLayers:!0},initialize:function(i){xb.prototype.initialize.call(this,i),this._originalStyle=this.options.style,this._layers={}},onRemove:function(i){for(var e in this._layers)i.removeLayer(this._layers[e]),this.fire("removefeature",{feature:this._layers[e].feature,permanent:!1},!0);return xb.prototype.onRemove.call(this,i)},createNewLayer:function(i){var e=qe.exports.GeoJSON.geometryToLayer(i,this.options);return e&&(e.defaultOptions=e.options),e},_updateLayer:function(i,e){var t=[],n=this.options.coordsToLatLng||qe.exports.GeoJSON.coordsToLatLng;switch(e.properties&&(i.feature.properties=e.properties),e.geometry.type){case"Point":t=qe.exports.GeoJSON.coordsToLatLng(e.geometry.coordinates),i.setLatLng(t);break;case"LineString":t=qe.exports.GeoJSON.coordsToLatLngs(e.geometry.coordinates,0,n),i.setLatLngs(t);break;case"MultiLineString":t=qe.exports.GeoJSON.coordsToLatLngs(e.geometry.coordinates,1,n),i.setLatLngs(t);break;case"Polygon":t=qe.exports.GeoJSON.coordsToLatLngs(e.geometry.coordinates,1,n),i.setLatLngs(t);break;case"MultiPolygon":t=qe.exports.GeoJSON.coordsToLatLngs(e.geometry.coordinates,2,n),i.setLatLngs(t);break}},createLayers:function(i){for(var e=i.length-1;e>=0;e--){var t=i[e],n=this._layers[t.id],r;this._visibleZoom()&&n&&!this._map.hasLayer(n)&&(!this.options.timeField||this._featureWithinTimeRange(t))&&(this._map.addLayer(n),this.fire("addfeature",{feature:n.feature},!0)),n&&this.options.simplifyFactor>0&&(n.setLatLngs||n.setLatLng)&&this._updateLayer(n,t),n||(r=this.createNewLayer(t),r?(r.feature=t,r.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(r.feature,r),this._layers[r.feature.id]=r,this.setFeatureStyle(r.feature.id,this.options.style),this.fire("createfeature",{feature:r.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(t))&&this._map.addLayer(r)):Qu("invalid GeoJSON encountered"))}},addLayers:function(i){for(var e=i.length-1;e>=0;e--){var t=this._layers[i[e]];t&&(!this.options.timeField||this._featureWithinTimeRange(t.feature))&&this._map.addLayer(t)}},removeLayers:function(i,e){for(var t=i.length-1;t>=0;t--){var n=i[t],r=this._layers[n];r&&(this.fire("removefeature",{feature:r.feature,permanent:e},!0),this._map.removeLayer(r)),r&&e&&delete this._layers[n]}},cellEnter:function(i,e){this._visibleZoom()&&!this._zooming&&this._map&&qe.exports.Util.requestAnimFrame(qe.exports.Util.bind(function(){var t=this._cacheKey(e),n=this._cellCoordsToKey(e),r=this._cache[t];this._activeCells[n]&&r&&this.addLayers(r)},this))},cellLeave:function(i,e){this._zooming||qe.exports.Util.requestAnimFrame(qe.exports.Util.bind(function(){if(this._map){var t=this._cacheKey(e),n=this._cellCoordsToKey(e),r=this._cache[t],s=this._map.getBounds();if(!this._activeCells[n]&&r){for(var l=!0,o=0;o<r.length;o++){var a=this._layers[r[o]];a&&a.getBounds&&s.intersects(a.getBounds())&&(l=!1)}l&&this.removeLayers(r,!this.options.cacheLayers),!this.options.cacheLayers&&l&&(delete this._cache[t],delete this._cells[n],delete this._activeCells[n])}}},this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature(function(i){this.resetFeatureStyle(i.feature.id)},this),this},setStyle:function(i){return this.options.style=i,this.eachFeature(function(e){this.setFeatureStyle(e.feature.id,i)},this),this},resetFeatureStyle:function(i){var e=this._layers[i],t=this._originalStyle||qe.exports.Path.prototype.options;return e&&(qe.exports.Util.extend(e.options,e.defaultOptions),this.setFeatureStyle(i,t)),this},setFeatureStyle:function(i,e){var t=this._layers[i];return typeof e=="function"&&(e=e(t.feature)),t.setStyle&&t.setStyle(e),this},eachActiveFeature:function(i,e){if(this._map){var t=this._map.getBounds();for(var n in this._layers)this._currentSnapshot.indexOf(this._layers[n].feature.id)!==-1&&(typeof this._layers[n].getLatLng=="function"&&t.contains(this._layers[n].getLatLng())?i.call(e,this._layers[n]):typeof this._layers[n].getBounds=="function"&&t.intersects(this._layers[n].getBounds())&&i.call(e,this._layers[n]))}return this},eachFeature:function(i,e){for(var t in this._layers)i.call(e,this._layers[t]);return this},getFeature:function(i){return this._layers[i]},bringToBack:function(){this.eachFeature(function(i){i.bringToBack&&i.bringToBack()})},bringToFront:function(){this.eachFeature(function(i){i.bringToFront&&i.bringToFront()})},redraw:function(i){return i&&this._redraw(i),this},_redraw:function(i){var e=this._layers[i],t=e.feature;if(e&&e.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){var n=this.options.pointToLayer(t,qe.exports.latLng(t.geometry.coordinates[1],t.geometry.coordinates[0])),r=n.options.icon;e.setIcon(r)}if(e&&e.setStyle&&this.options.pointToLayer){var s=this.options.pointToLayer(t,qe.exports.latLng(t.geometry.coordinates[1],t.geometry.coordinates[0])),l=s.options;this.setFeatureStyle(t.id,l)}e&&e.setStyle&&this.options.style&&this.resetStyle(t.id)}});var W0="https://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer/",DPe=Ja.extend({path:"findAddressCandidates",params:{outSr:4326,forStorage:!1,outFields:"*",maxLocations:20},setters:{address:"address",neighborhood:"neighborhood",city:"city",subregion:"subregion",region:"region",postal:"postal",country:"country",text:"singleLine",category:"category",token:"token",key:"magicKey",fields:"outFields",forStorage:"forStorage",maxLocations:"maxLocations",countries:"sourceCountry"},initialize:function(i){i=i||{},i.url=i.url||W0,Ja.prototype.initialize.call(this,i)},within:function(i){return i=qe.exports.latLngBounds(i),this.params.searchExtent=$1.boundsToExtent(i),this},nearby:function(i,e){var t=qe.exports.latLng(i);return this.params.location=t.lng+","+t.lat,e&&(this.params.distance=Math.min(Math.max(e,2e3),5e4)),this},run:function(i,e){return this.options.customParam&&(this.params[this.options.customParam]=this.params.singleLine,delete this.params.singleLine),this.request(function(t,n){var r=this._processGeocoderResponse,s=t?void 0:r(n);i.call(e,t,{results:s},n)},this)},_processGeocoderResponse:function(i){for(var e=[],t=0;t<i.candidates.length;t++){var n=i.candidates[t];if(n.extent)var r=$1.extentToBounds(n.extent);e.push({text:n.address,bounds:r,score:n.score,latlng:qe.exports.latLng(n.location.y,n.location.x),properties:n.attributes})}return e}});function SPe(i){return new DPe(i)}var TPe=Ja.extend({path:"reverseGeocode",params:{outSR:4326,returnIntersection:!1},setters:{distance:"distance",language:"langCode",intersection:"returnIntersection"},initialize:function(i){i=i||{},i.url=i.url||W0,Ja.prototype.initialize.call(this,i)},latlng:function(i){var e=qe.exports.latLng(i);return this.params.location=e.lng+","+e.lat,this},run:function(i,e){return this.request(function(t,n){var r;t?r=void 0:r={latlng:qe.exports.latLng(n.location.y,n.location.x),address:n.address},i.call(e,t,r,n)},this)}});function APe(i){return new TPe(i)}var PPe=Ja.extend({path:"suggest",params:{},setters:{text:"text",category:"category",countries:"countryCode",maxSuggestions:"maxSuggestions"},initialize:function(i){i=i||{},i.url||(i.url=W0,i.supportsSuggest=!0),Ja.prototype.initialize.call(this,i)},within:function(i){i=qe.exports.latLngBounds(i),i=i.pad(.5);var e=i.getCenter(),t=i.getNorthWest();return this.params.location=e.lng+","+e.lat,this.params.distance=Math.min(Math.max(e.distanceTo(t),2e3),5e4),this.params.searchExtent=$1.boundsToExtent(i),this},nearby:function(i,e){var t=qe.exports.latLng(i);return this.params.location=t.lng+","+t.lat,e&&(this.params.distance=Math.min(Math.max(e,2e3),5e4)),this},run:function(i,e){if(this.options.supportsSuggest)return this.request(function(t,n){i.call(e,t,n,n)},this);console.warn("this geocoding service does not support asking for suggestions")}});function NPe(i){return new PPe(i)}var Ww=Ld.extend({initialize:function(i){i=i||{},i.url?(Ld.prototype.initialize.call(this,i),this._confirmSuggestSupport()):(i.url=W0,i.supportsSuggest=!0,Ld.prototype.initialize.call(this,i))},geocode:function(){return SPe(this)},reverse:function(){return APe(this)},suggest:function(){return NPe(this)},_confirmSuggestSupport:function(){this.metadata(function(i,e){i||(e.capabilities?e.capabilities.indexOf("Suggest")>-1?this.options.supportsSuggest=!0:this.options.supportsSuggest=!1:this.options.supportsSuggest=!1,this.options.customParam=e.singleLineAddressField.name)},this)}});function MPe(i){return new Ww(i)}var LPe=qe.exports.Evented.extend({options:{zoomToResult:!0,useMapBounds:12,searchBounds:null},initialize:function(i,e){if(qe.exports.Util.setOptions(this,e),this._control=i,!e||!e.providers||!e.providers.length)throw new Error("You must specify at least one provider");this._providers=e.providers},_geocode:function(i,e,t){var n=0,r=[],s,l=qe.exports.Util.bind(function(a,u){n--,!a&&(u&&(r=r.concat(u)),n<=0&&(s=this._boundsFromResults(r),this.fire("results",{results:r,bounds:s,latlng:s?s.getCenter():void 0,text:i},!0),this.options.zoomToResult&&s&&this._control._map.fitBounds(s),this.fire("load")))},this);if(e)n++,t.results(i,e,this._searchBounds(),l);else for(var o=0;o<this._providers.length;o++)n++,this._providers[o].results(i,e,this._searchBounds(),l)},_suggest:function(i){var e=this._providers.length,t=0,n=qe.exports.Util.bind(function(o,a){return qe.exports.Util.bind(function(u,c){if(e=e-1,t+=c.length,u){this._control._clearProviderSuggestions(a),this._control._finalizeSuggestions(e,t);return}if(c.length)for(var f=0;f<c.length;f++)c[f].provider=a;else this._control._renderSuggestions(c);a._lastRender!==o&&this._control._clearProviderSuggestions(a),c.length&&this._control._input.value===o&&(a._lastRender=o,this._control._renderSuggestions(c)),this._control._finalizeSuggestions(e,t)},this)},this);this._pendingSuggestions=[];for(var r=0;r<this._providers.length;r++){var s=this._providers[r],l=s.suggestions(i,this._searchBounds(),n(i,s));this._pendingSuggestions.push(l)}},_searchBounds:function(){return this.options.searchBounds!==null?this.options.searchBounds:this.options.useMapBounds===!1?null:this.options.useMapBounds===!0?this._control._map.getBounds():this.options.useMapBounds<=this._control._map.getZoom()?this._control._map.getBounds():null},_boundsFromResults:function(i){if(!!i.length){for(var e=qe.exports.latLngBounds([0,0],[0,0]),t=[],n=[],r=i.length-1;r>=0;r--){var s=i[r];n.push(s.latlng),s.bounds&&s.bounds.isValid()&&!s.bounds.equals(e)&&t.push(s.bounds)}for(var l=qe.exports.latLngBounds(n),o=0;o<t.length;o++)l.extend(t[o]);return l}},_getAttribution:function(){for(var i=[],e=this._providers,t=0;t<e.length;t++)e[t].options.attribution&&i.push(e[t].options.attribution);return i.join(", ")}});function OPe(i,e){return new LPe(i,e)}var IPe=Ww.extend({options:{label:"Places and Addresses",maxResults:5},suggestions:function(i,e,t){var n=this.suggest().text(i);return e&&n.within(e),this.options.nearby&&n.nearby(this.options.nearby),this.options.countries&&n.countries(this.options.countries),this.options.categories&&n.category(this.options.categories),n.maxSuggestions(this.options.maxResults),n.run(function(r,s,l){var o=[];if(!r)for(;l.suggestions.length&&o.length<=this.options.maxResults-1;){var a=l.suggestions.shift();a.isCollection||o.push({text:a.text,unformattedText:a.text,magicKey:a.magicKey})}t(r,o)},this)},results:function(i,e,t,n){var r=this.geocode().text(i);return e&&r.key(e),r.maxLocations(this.options.maxResults),t&&r.within(t),this.options.forStorage&&r.forStorage(!0),this.options.nearby&&r.nearby(this.options.nearby),this.options.countries&&r.countries(this.options.countries),this.options.categories&&r.category(this.options.categories),r.run(function(s,l){n(s,l.results)},this)}});function UU(i){return new IPe(i)}var BPe=qe.exports.Control.extend({includes:qe.exports.Evented.prototype,options:{position:"topleft",collapseAfterResult:!0,expanded:!1,allowMultipleResults:!0,placeholder:"Search for places or addresses",title:"Location Search"},initialize:function(i){qe.exports.Util.setOptions(this,i),(!i||!i.providers||!i.providers.length)&&(i||(i={}),i.providers=[UU()]),this._geosearchCore=OPe(this,i),this._geosearchCore._providers=i.providers,this._geosearchCore.addEventParent(this);for(var e=0;e<this._geosearchCore._providers.length;e++)this._geosearchCore._providers[e].addEventParent(this);this._geosearchCore._pendingSuggestions=[],qe.exports.Control.prototype.initialize.call(this,i)},_renderSuggestions:function(i){var e;i.length>0&&(this._suggestions.style.display="block");for(var t,n,r=[],s=0;s<i.length;s++){var l=i[s];if(!n&&this._geosearchCore._providers.length>1&&e!==l.provider.options.label&&(n=qe.exports.DomUtil.create("div","geocoder-control-header",l.provider._contentsElement),n.textContent=l.provider.options.label,n.innerText=l.provider.options.label,e=l.provider.options.label),t||(t=qe.exports.DomUtil.create("ul","geocoder-control-list",l.provider._contentsElement)),r.indexOf(l.text)===-1){var o=qe.exports.DomUtil.create("li","geocoder-control-suggestion",t);o.innerHTML=l.text,o.provider=l.provider,o["data-magic-key"]=l.magicKey,o.unformattedText=l.unformattedText}else for(var a=0;a<t.childNodes.length;a++)t.childNodes[a].innerHTML===l.text&&(t.childNodes[a]["data-magic-key"]+=","+l.magicKey);r.push(l.text)}this.getPosition().indexOf("top")>-1&&(this._suggestions.style.maxHeight=this._map.getSize().y-this._suggestions.offsetTop-this._wrapper.offsetTop-10+"px"),this.getPosition().indexOf("bottom")>-1&&this._setSuggestionsBottomPosition()},_setSuggestionsBottomPosition:function(){this._suggestions.style.maxHeight=this._map.getSize().y-this._map._controlCorners[this.getPosition()].offsetHeight-this._wrapper.offsetHeight+"px",this._suggestions.style.top=-this._suggestions.offsetHeight-this._wrapper.offsetHeight+20+"px"},_boundsFromResults:function(i){if(!!i.length){for(var e=qe.exports.latLngBounds([0,0],[0,0]),t=[],n=[],r=i.length-1;r>=0;r--){var s=i[r];n.push(s.latlng),s.bounds&&s.bounds.isValid()&&!s.bounds.equals(e)&&t.push(s.bounds)}for(var l=qe.exports.latLngBounds(n),o=0;o<t.length;o++)l.extend(t[o]);return l}},clear:function(){this._clearAllSuggestions(),this.options.collapseAfterResult&&(this._input.value="",this._lastValue="",this._input.placeholder="",qe.exports.DomUtil.removeClass(this._wrapper,"geocoder-control-expanded")),!this._map.scrollWheelZoom.enabled()&&this._map.options.scrollWheelZoom&&this._map.scrollWheelZoom.enable()},_clearAllSuggestions:function(){this._suggestions.style.display="none";for(var i=0;i<this.options.providers.length;i++)this._clearProviderSuggestions(this.options.providers[i])},_clearProviderSuggestions:function(i){i._contentsElement.innerHTML=""},_finalizeSuggestions:function(i,e){i||(qe.exports.DomUtil.removeClass(this._input,"geocoder-control-loading"),this.getPosition().indexOf("bottom")>-1&&this._setSuggestionsBottomPosition(),e||this._clearAllSuggestions())},_setupClick:function(){qe.exports.DomUtil.addClass(this._wrapper,"geocoder-control-expanded"),this._input.focus()},disable:function(){this._input.disabled=!0,qe.exports.DomUtil.addClass(this._input,"geocoder-control-input-disabled"),qe.exports.DomEvent.removeListener(this._wrapper,"click",this._setupClick,this)},enable:function(){this._input.disabled=!1,qe.exports.DomUtil.removeClass(this._input,"geocoder-control-input-disabled"),qe.exports.DomEvent.addListener(this._wrapper,"click",this._setupClick,this)},getAttribution:function(){for(var i=[],e=0;e<this._providers.length;e++)this._providers[e].options.attribution&&i.push(this._providers[e].options.attribution);return i.join(", ")},geocodeSuggestion:function(i){var e=i.target||i.srcElement;e.classList.contains("geocoder-control-suggestions")||e.classList.contains("geocoder-control-header")||(e.classList.length<1&&(e=e.parentNode),this._geosearchCore._geocode(e.unformattedText,e["data-magic-key"],e.provider),this.clear())},onAdd:function(i){$1.setEsriAttribution(i),this._map=i,this._wrapper=qe.exports.DomUtil.create("div","geocoder-control"),this._input=qe.exports.DomUtil.create("input","geocoder-control-input leaflet-bar",this._wrapper),this._input.title=this.options.title,this.options.expanded&&(qe.exports.DomUtil.addClass(this._wrapper,"geocoder-control-expanded"),this._input.placeholder=this.options.placeholder),this._suggestions=qe.exports.DomUtil.create("div","geocoder-control-suggestions leaflet-bar",this._wrapper);for(var e=0;e<this.options.providers.length;e++)this.options.providers[e]._contentsElement=qe.exports.DomUtil.create("div",null,this._suggestions);var t=this._geosearchCore._getAttribution();return i.attributionControl&&i.attributionControl.addAttribution(t),qe.exports.DomEvent.addListener(this._input,"focus",function(n){this._input.placeholder=this.options.placeholder,qe.exports.DomUtil.addClass(this._wrapper,"geocoder-control-expanded")},this),qe.exports.DomEvent.addListener(this._wrapper,"click",this._setupClick,this),qe.exports.DomEvent.addListener(this._suggestions,"mousedown",this.geocodeSuggestion,this),qe.exports.DomEvent.addListener(this._input,"blur",function(n){this.clear()},this),qe.exports.DomEvent.addListener(this._input,"keydown",function(n){var r=(n.target||n.srcElement).value;qe.exports.DomUtil.addClass(this._wrapper,"geocoder-control-expanded");for(var s=this._suggestions.querySelectorAll(".geocoder-control-suggestion"),l=this._suggestions.querySelectorAll(".geocoder-control-selected")[0],o,a=0;a<s.length;a++)if(s[a]===l){o=a;break}switch(n.keyCode){case 13:l?(this._input.value=l.innerText,this._geosearchCore._geocode(l.unformattedText,l["data-magic-key"],l.provider),this.clear()):this.options.allowMultipleResults&&r.length>=2?(this._geosearchCore._geocode(this._input.value,void 0),this.clear()):s.length===1?(qe.exports.DomUtil.addClass(s[0],"geocoder-control-selected"),this._geosearchCore._geocode(s[0].innerHTML,s[0]["data-magic-key"],s[0].provider)):(this.clear(),this._input.blur()),qe.exports.DomEvent.preventDefault(n);break;case 38:l&&qe.exports.DomUtil.removeClass(l,"geocoder-control-selected");var u=s[o-1];l&&u?qe.exports.DomUtil.addClass(u,"geocoder-control-selected"):qe.exports.DomUtil.addClass(s[s.length-1],"geocoder-control-selected"),qe.exports.DomEvent.preventDefault(n);break;case 40:l&&qe.exports.DomUtil.removeClass(l,"geocoder-control-selected");var c=s[o+1];l&&c?qe.exports.DomUtil.addClass(c,"geocoder-control-selected"):qe.exports.DomUtil.addClass(s[0],"geocoder-control-selected"),qe.exports.DomEvent.preventDefault(n);break;default:for(var f=0;f<this._geosearchCore._pendingSuggestions.length;f++){var d=this._geosearchCore._pendingSuggestions[f];d&&d.abort&&!d.id&&d.abort()}break}},this),qe.exports.DomEvent.addListener(this._input,"keyup",qe.exports.Util.throttle(function(n){var r=n.which||n.keyCode,s=(n.target||n.srcElement).value;if(s.length<2){this._lastValue=this._input.value,this._clearAllSuggestions(),qe.exports.DomUtil.removeClass(this._input,"geocoder-control-loading");return}if(r===27){this._clearAllSuggestions();return}r!==13&&r!==38&&r!==40&&this._input.value!==this._lastValue&&(this._lastValue=this._input.value,qe.exports.DomUtil.addClass(this._input,"geocoder-control-loading"),this._geosearchCore._suggest(s))},50,this),this),qe.exports.DomEvent.disableClickPropagation(this._wrapper),qe.exports.DomEvent.addListener(this._suggestions,"mouseover",function(n){i.scrollWheelZoom.enabled()&&i.options.scrollWheelZoom&&i.scrollWheelZoom.disable()}),qe.exports.DomEvent.addListener(this._suggestions,"mouseout",function(n){!i.scrollWheelZoom.enabled()&&i.options.scrollWheelZoom&&i.scrollWheelZoom.enable()}),this._geosearchCore.on("load",function(n){qe.exports.DomUtil.removeClass(this._input,"geocoder-control-loading"),this.clear(),this._input.blur()},this),this._wrapper}});function RPe(i){return new BPe(i)}vk.extend({options:{label:"Feature Layer",maxResults:5,bufferRadius:1e3,searchMode:"contain",formatSuggestion:function(i){return i.properties[this.options.searchFields[0]]}},initialize:function(i){vk.prototype.initialize.call(this,i),typeof this.options.searchFields=="string"&&(this.options.searchFields=[this.options.searchFields]),this._suggestionsQuery=this.query(),this._resultsQuery=this.query()},suggestions:function(i,e,t){var n=this._suggestionsQuery.where(this._buildQuery(i)).returnGeometry(!1);e&&n.intersects(e),this.options.idField&&n.fields([this.options.idField].concat(this.options.searchFields));var r=n.run(function(s,l,o){if(s)t(s,[]);else{this.options.idField=o.objectIdFieldName;for(var a=[],u=l.features.length-1;u>=0;u--){var c=l.features[u];a.push({text:this.options.formatSuggestion.call(this,c),unformattedText:c.properties[this.options.searchFields[0]],magicKey:c.id})}t(s,a.slice(0,this.options.maxResults))}},this);return r},results:function(i,e,t,n){var r=this._resultsQuery;return e?(delete r.params.where,r.featureIds([e])):r.where(this._buildQuery(i)),t&&r.within(t),r.run(qe.exports.Util.bind(function(s,l){for(var o=[],a=0;a<l.features.length;a++){var u=l.features[a];if(u){var c=this._featureBounds(u),f={latlng:c.getCenter(),bounds:c,text:this.options.formatSuggestion.call(this,u),properties:u.properties,geojson:u};o.push(f),delete this._resultsQuery.params.objectIds}}n(s,o)},this))},orderBy:function(i,e){this._suggestionsQuery.orderBy(i,e)},_buildQuery:function(i){for(var e=[],t=this.options.searchFields.length-1;t>=0;t--){var n='upper("'+this.options.searchFields[t]+'")';if(this.options.searchMode==="contain")e.push(n+" LIKE upper('%"+i+"%')");else if(this.options.searchMode==="startWith")e.push(n+" LIKE upper('"+i+"%')");else if(this.options.searchMode==="endWith")e.push(n+" LIKE upper('%"+i+"')");else if(this.options.searchMode==="strict")e.push(n+" LIKE upper('"+i+"')");else throw new Error('L.esri.Geocoding.featureLayerProvider: Invalid parameter for "searchMode". Use one of "contain", "startWith", "endWith", or "strict"')}return this.options.where?this.options.where+" AND ("+e.join(" OR ")+")":e.join(" OR ")},_featureBounds:function(i){var e=qe.exports.geoJson(i);if(i.geometry.type==="Point"){var t=e.getBounds().getCenter(),n=this.options.bufferRadius/40075017*360/Math.cos(180/Math.PI*t.lat),r=this.options.bufferRadius/40075017*360;return qe.exports.latLngBounds([t.lat-r,t.lng-n],[t.lat+r,t.lng+n])}else return e.getBounds()}});var zPe=gk.extend({options:{layers:[0],label:"Map Service",bufferRadius:1e3,maxResults:5,formatSuggestion:function(i){return i.properties[i.displayFieldName]+" <small>"+i.layerName+"</small>"}},initialize:function(i){gk.prototype.initialize.call(this,i),this._getIdFields()},suggestions:function(i,e,t){var n=this.find().text(i).fields(this.options.searchFields).returnGeometry(!1).layers(this.options.layers);return n.run(function(r,s,l){var o=[];if(!r){var a=Math.min(this.options.maxResults,s.features.length);l.results=l.results.reverse();for(var u=0;u<a;u++){var c=s.features[u],f=l.results[u],d=f.layerId,m=this._idFields[d];c.layerId=d,c.layerName=this._layerNames[d],c.displayFieldName=this._displayFields[d],m&&o.push({text:this.options.formatSuggestion.call(this,c),unformattedText:c.properties[c.displayFieldName],magicKey:f.attributes[m]+":"+d})}}t(r,o.reverse())},this)},results:function(i,e,t,n){var r=[],s;if(e&&!e.includes(",")){var l=e.split(":")[0],o=e.split(":")[1];s=this.query().layer(o).featureIds(l)}else s=this.find().text(i).fields(this.options.searchFields).layers(this.options.layers);return s.run(function(a,u,c){if(!a){c.results&&(c.results=c.results.reverse());for(var f=0;f<u.features.length;f++){var d=u.features[f];if(o=o||c.results[f].layerId,d&&o!==void 0){var m=this._featureBounds(d);d.layerId=o,d.layerName=this._layerNames[o],d.displayFieldName=this._displayFields[o];var p={latlng:m.getCenter(),bounds:m,text:this.options.formatSuggestion.call(this,d),properties:d.properties,geojson:d};r.push(p)}}}n(a,r.reverse())},this)},_featureBounds:function(i){var e=qe.exports.geoJson(i);if(i.geometry.type==="Point"){var t=e.getBounds().getCenter(),n=this.options.bufferRadius/40075017*360/Math.cos(180/Math.PI*t.lat),r=this.options.bufferRadius/40075017*360;return qe.exports.latLngBounds([t.lat-r,t.lng-n],[t.lat+r,t.lng+n])}else return e.getBounds()},_layerMetadataCallback:function(i){return qe.exports.Util.bind(function(e,t){if(!e){this._displayFields[i]=t.displayField,this._layerNames[i]=t.name;for(var n=0;n<t.fields.length;n++){var r=t.fields[n];if(r.type==="esriFieldTypeOID"){this._idFields[i]=r.name;break}}}},this)},_getIdFields:function(){this._idFields={},this._displayFields={},this._layerNames={};for(var i=0;i<this.options.layers.length;i++){var e=this.options.layers[i];this.get(e,{},this._layerMetadataCallback(e))}}});function jPe(i){return new zPe(i)}Ww.extend({options:{label:"Geocode Server",maxResults:5},suggestions:function(i,e,t){if(this.options.supportsSuggest){var n=this.suggest().text(i);return e&&n.within(e),n.run(function(r,s,l){var o=[];if(!r)for(;l.suggestions.length&&o.length<=this.options.maxResults-1;){var a=l.suggestions.shift();a.isCollection||o.push({text:a.text,unformattedText:a.text,magicKey:a.magicKey})}t(r,o)},this)}else return t(void 0,[]),!1},results:function(i,e,t,n){var r=this.geocode().text(i);return e&&r.key(e),r.maxLocations(this.options.maxResults),t&&r.within(t),r.run(function(s,l){n(s,l.results)},this)}});function HS(i){let e,t,n,r,s,l;return t=new et({props:{icon:uY}}),{c(){e=P("button"),B(t.$$.fragment),h(e,"class","map-lock-cover absolute top-0 left-0 right-0 bottom-0 w-full flex bg-opacity-10 p-5 justify-end items-start bg-black z-10")},m(o,a){w(o,e,a),O(t,e,null),r=!0,s||(l=Se(e,"click",i[17]),s=!0)},p(o,a){i=o},i(o){r||(_(t.$$.fragment,o),Ei(()=>{n||(n=as(e,Yl,{duration:200,easing:na},!0)),n.run(1)}),r=!0)},o(o){v(t.$$.fragment,o),n||(n=as(e,Yl,{duration:200,easing:na},!1)),n.run(0),r=!1},d(o){o&&y(e),I(t),o&&n&&n.end(),s=!1,l()}}}function VS(i){let e;return{c(){e=P("div"),e.innerHTML=`<div class="picker-target"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 60 60" height="120" style="enable-background:new 0 0 60 60;" xml:space="preserve"><g><path d="M42,29h-5.08c-0.441-3.059-2.861-5.479-5.92-5.92V18c0-0.553-0.447-1-1-1s-1,0.447-1,1v5.08
              c-3.059,0.441-5.479,2.862-5.92,5.92H18c-0.553,0-1,0.447-1,1s0.447,1,1,1h5.08c0.441,3.059,2.861,5.479,5.92,5.92V42
              c0,0.553,0.447,1,1,1s1-0.447,1-1v-5.08c3.059-0.441,5.479-2.862,5.92-5.92H42c0.553,0,1-0.447,1-1S42.553,29,42,29z
              M30,35
              c-2.757,0-5-2.243-5-5s2.243-5,5-5s5,2.243,5,5S32.757,35,30,35z"></path></g></svg></div>`,h(e,"class","picker-cover")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function xS(i){let e,t;return e=new He({props:{className:"favorites-button tap-icon",shape:"rounded",icon:!0,$$slots:{default:[YPe]},$$scope:{ctx:i}}}),e.$on("click",i[11]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8388608&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function YPe(i){let e,t;return e=new et({props:{icon:Eee,size:18}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function UPe(i){let e,t,n,r,s,l,o,a,u,c=i[0]&&HS(i),f=i[2]&&VS(),d=i[2]&&i[9].length&&!i[6]&&xS(i);return{c(){e=P("div"),c&&c.c(),t=W(),f&&f.c(),n=W(),r=P("div"),s=P("div"),l=W(),d&&d.c(),h(s,"id",i[10]),h(s,"class","n-map"),h(r,"class","n-map-wrapper"),gt(r,"bottom",i[2]?"1px":"0"),h(e,"class",o=i[4]+" n-map-container relative "+(i[1]?"small ":"")),h(e,"style",a=(i[3]?`height: ${i[3]}px;`:`min-height: ${i[8].height}px;`)+" "+i[5])},m(m,p){w(m,e,p),c&&c.m(e,null),D(e,t),f&&f.m(e,null),D(e,n),D(e,r),D(r,s),D(r,l),d&&d.m(r,null),i[18](e),u=!0},p(m,[p]){m[0]?c?(c.p(m,p),p&1&&_(c,1)):(c=HS(m),c.c(),_(c,1),c.m(e,t)):c&&(ae(),v(c,1,1,()=>{c=null}),ue()),m[2]?f||(f=VS(),f.c(),f.m(e,n)):f&&(f.d(1),f=null),m[2]&&m[9].length&&!m[6]?d?(d.p(m,p),p&580&&_(d,1)):(d=xS(m),d.c(),_(d,1),d.m(r,null)):d&&(ae(),v(d,1,1,()=>{d=null}),ue()),(!u||p&4)&&gt(r,"bottom",m[2]?"1px":"0"),(!u||p&18&&o!==(o=m[4]+" n-map-container relative "+(m[1]?"small ":"")))&&h(e,"class",o),(!u||p&296&&a!==(a=(m[3]?`height: ${m[3]}px;`:`min-height: ${m[8].height}px;`)+" "+m[5]))&&h(e,"style",a)},i(m){u||(_(c),_(d),u=!0)},o(m){v(c),v(d),u=!1},d(m){m&&y(e),c&&c.d(),f&&f.d(),d&&d.d(),i[18](null)}}}function WPe(i,e,t){let n;Le(i,yl,j=>t(9,n=j));let{locations:r=[]}=e,{records:s=[]}=e,{small:l=void 0}=e,{picker:o=void 0}=e,{height:a=void 0}=e,{className:u=""}=e,{style:c=""}=e,{lock:f=!1}=e,{hideFavorite:d=!1}=e;const m=Ut(),p=`map-${Math.random().toString().replace(".","")}`,g=MPe();let k,$,C={locationName:null,activeLocation:r[r.length-1]||null,locating:!1,lat:null,lng:null,showLocations:!1,height:"100px"},E;async function S(){try{await R.init(),R.renderMap()}catch(j){console.error("init and render error",j.message)}}async function T(){let j=n.map(V=>({title:V.name,icon:$ee,click:()=>{R.setLocation(V),m("change",V)}}));at.popmenu({id:"locations-view",title:`${Fe.t("location.saved-locations","Saved Locations")}`,buttons:j})}let M=[],{methods:R={init(){var j;return M=[],$&&t(8,C.height=(j=$==null?void 0:$.parentElement)==null?void 0:j.clientHeight,C),new Promise((V,x)=>{if(document.getElementById(p)){t(15,k=new Tu.Map(p).fitWorld());var ee=UU();let J=RPe({zoomToResult:!0,placeholder:"Search",useMapBounds:25,providers:[ee,jPe({label:"States and Counties",url:"https://sampleserver6.arcgisonline.com/arcgis/rest/services/Census/MapServer",layers:[2,3],searchFields:["NAME","STATE_NAME"]})]});J.on("results",G=>{if(G.latlng){let X=new Bu({lat:G.latlng.lat,lng:G.latlng.lng,name:G.text});R.setLocation(X)}});let q;const le=()=>{let G=k.getCenter(),X=G.lat,se=G.lng;t(8,C.lat=X,C),t(8,C.lng=se,C);const te=async()=>{m("change",new Bu({...k.getCenter(),location:C.locationName,name:C.locationName}))};clearTimeout(q),q=setTimeout(()=>{te()},1e3)};k.off("moveend",le),o&&(J.addTo(k),k.on("moveend",le)),k.eachLayer(function(G){k.removeLayer(G)}),V(k)}})},deleteLocation(j){at.confirm(`${Fe.t("general.delete")} ${j.name}?`).then(V=>{V&&yl.remove(j)})},editName(j){at.prompt("Location Name",null,{value:j.name}).then(V=>{j.name=V,yl.upsert(j)})},setLocation(j){t(8,C.locationName=j.name,C),t(8,C.lat=j.lat,C),t(8,C.lng=j.lng,C),t(12,r=[j]),t(8,C.showLocations=!1,C),k.setView(Tu.latLng(j.lat,j.lng),12),m("location",j)},saveLocation(){yl.upsert(new Bu({name:C.locationName,lat:C.lat,lng:C.lng})).then(j=>{qn({message:`${Fe.t("general.saved","Saved")}`})})},renderMap(){let j='&copy; <a href="https://www.openstreetmap.org/">OSM</a> <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',V="https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png";if($){document.documentElement.classList.contains("mode-dark")&&(V="https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"),Tu.tileLayer(V,{attribution:j,maxZoom:18}).addTo(k);var x=Tu.icon({iconUrl:"/images/map/map-marker.svg",iconRetinaUrl:"/images/map/map-marker.svg",iconSize:[32,32],iconAnchor:[9,21],popupAnchor:[0,-14]});let ee=(le,G,X)=>{let se=new Tu.marker(le,{icon:x});G&&se.bindPopup(G),se.on("click",X),se.addTo(k),M.push(se)},J=r.map(le=>[le.lat,le.lng]);if(fj.furthest(J,"nm")>.5){r.forEach(G=>{ee([G.lat,G.lng],G.name,()=>{t(8,C.activeLocation=G,C),G.log&&lh(G.log)})});let le=G=>{var X=[];return G.forEach(se=>{X.push([se.lat,se.lng])}),X};Tu.polyline(le(r),{color:"rgba(2.7%, 52.5%, 100%, 0.378)"}).addTo(k)}else if(r.length){let le;ee([r[0].lat,r[0].lng],r[0].name,()=>{t(8,C.activeLocation=r[0],C);const G=r.map(se=>se.log.note).join(`

`),X=r.find(se=>se.log.end).log;clearTimeout(le),le=setTimeout(()=>{lh(new gn({note:G,created:X==null?void 0:X.end}))},100)})}k.invalidateSize(),R.centerMap()}},centerMap(){if(M.length)try{var j=new Tu.featureGroup(M);k.fitBounds(j.getBounds())}catch(V){console.error("Caught error trying to center ma",V)}},getLocation(j,V){return new Promise((x,ee)=>{g.reverse().latlng([j,V]).run((J,q)=>{x((q||{}).address||"Unknown")})})}}}=e;Yt(async()=>{await Lt(600),S()});const Y=()=>{t(0,f=!1)};function z(j){Oe[j?"unshift":"push"](()=>{$=j,t(7,$)})}return i.$$set=j=>{"locations"in j&&t(12,r=j.locations),"records"in j&&t(13,s=j.records),"small"in j&&t(1,l=j.small),"picker"in j&&t(2,o=j.picker),"height"in j&&t(3,a=j.height),"className"in j&&t(4,u=j.className),"style"in j&&t(5,c=j.style),"lock"in j&&t(0,f=j.lock),"hideFavorite"in j&&t(6,d=j.hideFavorite),"methods"in j&&t(14,R=j.methods)},i.$$.update=()=>{if(i.$$.dirty&12288&&!r.length&&s.length)try{let j=s.filter(V=>V.lat).map(V=>({lat:V.lat,lng:V.lng,name:V.location,log:V}));t(12,r=j)}catch(j){console.error("Location || record length reaction error",j.mesasge)}if(i.$$.dirty&69632&&r&&JSON.stringify(r)!==E)try{t(16,E=JSON.stringify(r)),S()}catch(j){console.error("Location change error",j.message)}if(i.$$.dirty&36868&&o&&k&&r.length==0)try{wh().then(j=>{r.push({lat:j.latitude,lng:j.longitude,name:"Unnamed"}),k.setView(Tu.latLng(j.latitude,j.longitude),12)}).catch(j=>{})}catch(j){console.error("Picker reaction error",j.message)}},[f,l,o,a,u,c,d,$,C,n,p,T,r,s,R,k,E,Y,z]}class Ah extends pe{constructor(e){super(),me(this,e,WPe,UPe,he,{locations:12,records:13,small:1,picker:2,height:3,className:4,style:5,lock:0,hideFavorite:6,methods:14})}}const qPe=async(i,e)=>{const t=Te(i),n=t.add(30,"day"),r=t.subtract(30,"day"),s=(await dn.query({start:r,end:n})).filter(a=>a.elements.filter(u=>u.type=="context")),l=_o(s,{trackables:e}),o={};return Object.keys(l).forEach(a=>{const u=l[a];if(u.trackable.type==="context"){let c=!1;u.dates.forEach(f=>{let d=Te(f).subtract(2,"day").toDate();i>=d&&(c=!0)}),c&&(o[a]=u)}}),o};function GS(i,e,t){const n=i.slice();return n[20]=e[t],n}function ZS(i,e,t){const n=i.slice();return n[23]=e[t],n[25]=t,n}function XS(i){let e;return{c(){e=P("div"),e.textContent="No Context for this time period.",h(e,"class","w-full h-full flex items-center justify-center text-gray-500 text-xs")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function KS(i){let e,t,n,r;function s(){return i[11](i[23])}return{c(){e=P("div"),t=P("div"),h(t,"class","cover"),h(e,"class","cc-bar"),gt(e,"--cc-start-index",i[23].startIndex),gt(e,"--cc-bar-parts",i[23].value)},m(l,o){w(l,e,o),D(e,t),n||(r=Se(e,"click",s),n=!0)},p(l,o){i=l,o&64&&gt(e,"--cc-start-index",i[23].startIndex),o&64&&gt(e,"--cc-bar-parts",i[23].value)},d(l){l&&y(e),n=!1,r()}}}function JS(i){let e,t,n=i[20].trackable.label+"",r,s,l,o,a,u,c,f,d;l=new er({props:{trackable:i[20].trackable,size:16,className:"ml-1 shadow-md"}});function m(){return i[10](i[20])}let p=i[20].marks,g=[];for(let $=0;$<p.length;$+=1)g[$]=KS(ZS(i,p,$));function k(){return i[12](i[20])}return{c(){e=P("div"),t=P("button"),r=K(n),s=W(),B(l.$$.fragment),o=W();for(let $=0;$<g.length;$+=1)g[$].c();a=W(),h(t,"class","mr-1 bar-trackable-label flex items-center"),h(e,"class","text-white cc-item-holder"),gt(e,"--trackable-color",i[20].trackable.color),gt(e,"--trackable-color-rgb",s4(i[20].trackable.color)),h(e,"data-label",u=i[20].trackable.label)},m($,C){w($,e,C),D(e,t),D(t,r),D(t,s),O(l,t,null),D(e,o);for(let E=0;E<g.length;E+=1)g[E].m(e,null);D(e,a),c=!0,f||(d=[Se(t,"click",m),Se(e,"click",k)],f=!0)},p($,C){i=$,(!c||C&64)&&n!==(n=i[20].trackable.label+"")&&de(r,n);const E={};if(C&64&&(E.trackable=i[20].trackable),l.$set(E),C&192){p=i[20].marks;let S;for(S=0;S<p.length;S+=1){const T=ZS(i,p,S);g[S]?g[S].p(T,C):(g[S]=KS(T),g[S].c(),g[S].m(e,a))}for(;S<g.length;S+=1)g[S].d(1);g.length=p.length}(!c||C&64)&&gt(e,"--trackable-color",i[20].trackable.color),(!c||C&64)&&gt(e,"--trackable-color-rgb",s4(i[20].trackable.color)),(!c||C&64&&u!==(u=i[20].trackable.label))&&h(e,"data-label",u)},i($){c||(_(l.$$.fragment,$),c=!0)},o($){v(l.$$.fragment,$),c=!1},d($){$&&y(e),I(l),pt(g,$),f=!1,Ot(d)}}}function QS(i){let e,t,n,r,s,l;return t=new et({props:{size:16,icon:Kk}}),{c(){e=P("button"),B(t.$$.fragment),h(e,"class",n="absolute transition-all rounded-lg h-7 w-7 flex items-center justify-center border-opacity-70 duration-200 bottom-1 left-1 z-40 "+(i[1]=="sm"?"bg-white bg-opacity-10 text-white":"bg-white bg-opacity-30 text-white"))},m(o,a){w(o,e,a),O(t,e,null),r=!0,s||(l=Se(e,"click",i[14]),s=!0)},p(o,a){(!r||a&2&&n!==(n="absolute transition-all rounded-lg h-7 w-7 flex items-center justify-center border-opacity-70 duration-200 bottom-1 left-1 z-40 "+(o[1]=="sm"?"bg-white bg-opacity-10 text-white":"bg-white bg-opacity-30 text-white")))&&h(e,"class",n)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t),s=!1,l()}}}function HPe(i){let e,t,n,r,s,l,o,a,u=i[6].length==0&&XS(),c=i[6],f=[];for(let p=0;p<c.length;p+=1)f[p]=JS(GS(i,c,p));const d=p=>v(f[p],1,1,()=>{f[p]=null});let m=i[1]!=="auto"&&QS(i);return{c(){e=P("div"),t=P("div"),n=W(),r=P("div"),u&&u.c(),s=W();for(let p=0;p<f.length;p+=1)f[p].c();l=W(),m&&m.c(),h(t,"class","cc-now-mark"),h(r,"class","context-chart-bound md:rounded-xl"),gt(r,"--cc-width",i[4]+"px"),gt(r,"--cc-height",i[0]+"px"),gt(r,"--cc-item-count",i[6].length),gt(r,"--cc-row-height",i[5]+"px"),h(e,"class",o="relative context-wrapper size-"+i[1]+" "+i[2])},m(p,g){w(p,e,g),D(e,t),D(e,n),D(e,r),u&&u.m(r,null),D(r,s);for(let k=0;k<f.length;k+=1)f[k].m(r,null);i[13](r),D(e,l),m&&m.m(e,null),a=!0},p(p,[g]){if(p[6].length==0?u||(u=XS(),u.c(),u.m(r,s)):u&&(u.d(1),u=null),g&192){c=p[6];let k;for(k=0;k<c.length;k+=1){const $=GS(p,c,k);f[k]?(f[k].p($,g),_(f[k],1)):(f[k]=JS($),f[k].c(),_(f[k],1),f[k].m(r,null))}for(ae(),k=c.length;k<f.length;k+=1)d(k);ue()}(!a||g&16)&&gt(r,"--cc-width",p[4]+"px"),(!a||g&1)&&gt(r,"--cc-height",p[0]+"px"),(!a||g&64)&&gt(r,"--cc-item-count",p[6].length),(!a||g&32)&&gt(r,"--cc-row-height",p[5]+"px"),p[1]!=="auto"?m?(m.p(p,g),g&2&&_(m,1)):(m=QS(p),m.c(),_(m,1),m.m(e,null)):m&&(ae(),v(m,1,1,()=>{m=null}),ue()),(!a||g&6&&o!==(o="relative context-wrapper size-"+p[1]+" "+p[2]))&&h(e,"class",o)},i(p){if(!a){for(let g=0;g<c.length;g+=1)_(f[g]);_(m),a=!0}},o(p){f=f.filter(Boolean);for(let g=0;g<f.length;g+=1)v(f[g]);v(m),a=!1},d(p){p&&y(e),u&&u.d(),pt(f,p),i[13](null),m&&m.d()}}}function VPe(i,e,t){let n;Le(i,en,R=>t(18,n=R));const r=Ut();let{date:s=new Date}=e,{height:l=320}=e,{className:o=""}=e,{size:a="sm"}=e,u,c=[],f=320,d,m,p=0,g=[],k;async function $(){const R=n.trackables,Y=Te(d),z=Te(m),j=await qPe(s,R);c=j?Object.keys(j).map(x=>j[x]):[];const V=[];c.forEach(x=>{const ee={trackable:x.trackable,marks:[]},J=x.trackable;(x.dates||[]).forEach((q,le)=>{let G=J.ctx.duration>J.value?J.ctx.duration:J.value||J.ctx.duration,X={startDate:q.toDate(),usage:x,endDate:Te(q).add(G||1).toDate(),startIndex:Te(q).diff(Y,"day"),endIndex:z.diff(Te(q),"day"),value:G};ee.marks.push(X)}),V.push(ee)}),t(6,g=V.sort((x,ee)=>{const J=x.marks[0].endDate.getTime()+x.marks[0].value,q=ee.marks[0].endDate.getTime()+ee.marks[0].value;return J<q?1:-1})),t(5,p=l/V.length),t(5,p=p<1?10:p),g.length===0&&t(1,a="sm")}Yt(()=>{u&&(t(4,f=u.offsetWidth),t(0,l=u.offsetHeight))});const C=R=>{Hr(R.trackable)},E=R=>{r("item-click",R),at.popmenu({id:`context-item-${R.usage.trackable.tag}`,buttons:[...dq(R.usage.logs[0]),...Y1(Iqe(R.usage.trackable)),...Y1(iv(R.startDate))]})},S=R=>{r("click",R.trackable)};function T(R){Oe[R?"unshift":"push"](()=>{u=R,t(3,u)})}const M=()=>{t(1,a=a=="sm"?"lg":"sm")};return i.$$set=R=>{"date"in R&&t(8,s=R.date),"height"in R&&t(0,l=R.height),"className"in R&&t(2,o=R.className),"size"in R&&t(1,a=R.size)},i.$$.update=()=>{i.$$.dirty&768&&s&&s!==k&&(t(9,k=s),d=Te(s).subtract(30,"day").toDate(),m=Te(s).add(30,"day").toDate(),$())},[l,a,o,u,f,p,g,r,s,k,C,E,S,T,M]}class WU extends pe{constructor(e){super(),me(this,e,VPe,HPe,he,{date:8,height:0,className:2,size:1})}}function e7(i,e,t){const n=i.slice();return n[6]=e[t],n[8]=t,n}function t7(i){let e,t,n,r,s,l=i[2],o=[];for(let a=0;a<l.length;a+=1)o[a]=n7(e7(i,l,a));return{c(){e=P("div"),t=P("div"),n=K(i[1]),r=W();for(let a=0;a<o.length;a+=1)o[a].c();h(t,"class","score flex items-center bg-gray-300 dark:bg-gray-900 px-1 text-xs"),h(e,"class",s="score-grid "+(i[0]||"h-4"))},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r);for(let c=0;c<o.length;c+=1)o[c].m(e,null)},p(a,u){if(u&2&&de(n,a[1]),u&4){l=a[2];let c;for(c=0;c<l.length;c+=1){const f=e7(a,l,c);o[c]?o[c].p(f,u):(o[c]=n7(f),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=l.length}u&1&&s!==(s="score-grid "+(a[0]||"h-4"))&&h(e,"class",s)},d(a){a&&y(e),pt(o,a)}}}function n7(i){let e,t;return{c(){e=P("div"),h(e,"class",t="hour "+i[6])},m(n,r){w(n,e,r)},p(n,r){r&4&&t!==(t="hour "+n[6])&&h(e,"class",t)},d(n){n&&y(e)}}}function xPe(i){let e,t=i[1]&&t7(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[1]?t?t.p(n,r):(t=t7(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(n){t&&t.d(n),n&&y(e)}}}function GPe(i,e,t){let n;Le(i,Ls,u=>t(5,n=u));let{logs:r=[]}=e,{className:s=""}=e,l=!1,o=[],a=0;return Yt(()=>{t(4,l=!0)}),i.$$set=u=>{"logs"in u&&t(3,r=u.logs),"className"in u&&t(0,s=u.className)},i.$$.update=()=>{if(i.$$.dirty&58&&r&&l){let u=Iue(r,n);t(1,a=0),t(2,o=u.byHour.map(c=>(t(1,a=a+c),c>0?"positive":c<0?"negative":"neutral")))}},[s,a,o,r,l,n]}class qU extends pe{constructor(e){super(),me(this,e,GPe,xPe,he,{logs:3,className:0})}}function i7(i,e,t){const n=i.slice();return n[4]=e[t],n}function r7(i){let e,t,n;return t=new Li({props:{className:"px-4 pb-4",$$slots:{default:[ZPe]},$$scope:{ctx:i}}}),{c(){e=P("section"),B(t.$$.fragment),h(e,"class","mt-3 bg-primary-500")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&129&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function s7(i){let e,t,n,r=Te(i[4].end).fromNow()+"",s,l,o,a,u,c,f,d,m;o=new et({props:{icon:JI,className:"fill-white",size:16}});function p(){return i[2](i[4])}return c=new mc({props:{fullDate:!0,className:"aged",log:i[4]}}),c.$on("textClick",i[3]),{c(){e=P("div"),t=P("button"),n=P("span"),s=K(r),l=W(),B(o.$$.fragment),u=W(),B(c.$$.fragment),h(n,"class","text-sm"),h(t,"aria-label",a="View logs from "+Te(i[4].end).format("ddd MM YYYY")),h(t,"class","flex items-center justify-center w-full py-2 font-medium text-black bg-primary-500"),h(e,"class","py-3 text-center memories-log-header")},m(g,k){w(g,e,k),D(e,t),D(t,n),D(n,s),D(t,l),O(o,t,null),w(g,u,k),O(c,g,k),f=!0,d||(m=Se(t,"click",p),d=!0)},p(g,k){i=g,(!f||k&1)&&r!==(r=Te(i[4].end).fromNow()+"")&&de(s,r),(!f||k&1&&a!==(a="View logs from "+Te(i[4].end).format("ddd MM YYYY")))&&h(t,"aria-label",a);const $={};k&1&&($.log=i[4]),c.$set($)},i(g){f||(_(o.$$.fragment,g),_(c.$$.fragment,g),f=!0)},o(g){v(o.$$.fragment,g),v(c.$$.fragment,g),f=!1},d(g){g&&y(e),I(o),g&&y(u),I(c,g),d=!1,m()}}}function ZPe(i){let e,t,n=i[0].memories,r=[];for(let l=0;l<n.length;l+=1)r[l]=s7(i7(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=P("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","memories")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&3){n=l[0].memories;let a;for(a=0;a<n.length;a+=1){const u=i7(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=s7(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),pt(r,l)}}}function XPe(i){let e,t,n=i[0].memories.length>0&&r7(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0].memories.length>0?n?(n.p(r,s),s&1&&_(n,1)):(n=r7(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function KPe(i,e,t){let n;Le(i,dn,o=>t(0,n=o));const r=Ut();return Yt(async()=>{await dn.getMemories()}),[n,r,o=>{r("date",o.end)},o=>{r("text",o)}]}class JPe extends pe{constructor(e){super(),me(this,e,KPe,XPe,he,{})}}const{Map:QPe}=VX;function l7(i,e,t){const n=i.slice();return n[8]=e[t],n}function o7(i,e,t){const n=i.slice();return n[31]=e[t],n}function a7(i,e,t){const n=i.slice();return n[26]=e[t],n}function u7(i,e,t){const n=i.slice();return n[26]=e[t],n}const eNe=i=>({}),c7=i=>({});function f7(i,e,t){const n=i.slice();return n[23]=e[t],n}function d7(i){let e,t;return e=new Li({props:{className:"px-2 z-10",$$slots:{default:[tNe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&2097154&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function tNe(i){let e,t,n;return t=new qU({props:{logs:i[1]}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","px-2 flex space-y-2 lg:space-y-0 lg:space-x-2 lg:flex-row flex-col items-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[0]&2&&(l.logs=r[1]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function nNe(i){let e=i[1],t,n,r=h7(i);return{c(){r.c(),t=Ae()},m(s,l){r.m(s,l),w(s,t,l),n=!0},p(s,l){l[0]&2&&he(e,e=s[1])?(ae(),v(r,1,1,Z),ue(),r=h7(s),r.c(),_(r,1),r.m(t.parentNode,t)):r.p(s,l)},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(t),r.d(s)}}}function iNe(i){let e,t,n,r;const s=[cNe,uNe],l=[];function o(a,u){return a[8].length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function rNe(i){let e,t,n,r;const s=[mNe,hNe],l=[];function o(a,u){return a[5].length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function sNe(i){let e,t,n,r;const s=[kNe,bNe],l=[];function o(a,u){return a[4].length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function lNe(i){let e,t,n,r;const s=[$Ne,wNe],l=[];function o(a,u){return a[1].length?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function oNe(i){let e,t;return e=new WU({props:{size:"auto",date:i[6]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&64&&(s.date=n[6]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function aNe(i){let e,t;return e=new Li({props:{className:"p-3",$$slots:{default:[CNe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&2097288&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function h7(i){let e,t;return e=new Ah({props:{records:i[1],className:"h-full h-75vh"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.records=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function uNe(i){let e,t;return e=new Li({props:{$$slots:{default:[dNe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&2097408&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function cNe(i){let e,t;return e=new zi({props:{title:Fe.t("on-this-day.no-context","No Context on this Day"),emoji:"\u{1F937}\u200D\u2642\uFE0F"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fNe(i){let e=i[8]+"",t,n;return{c(){t=K(e),n=W()},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s[0]&256&&e!==(e=r[8]+"")&&de(t,e)},d(r){r&&y(t),r&&y(n)}}}function m7(i){let e,t;function n(){return i[19](i[8])}return e=new He({props:{shape:"round",size:"lg",color:"light",className:"m-2",$$slots:{default:[fNe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&2097408&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function dNe(i){let e,t,n=i[8],r=[];for(let l=0;l<n.length;l+=1)r[l]=m7(l7(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=P("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","mt-3 n-grid")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o[0]&256){n=l[8];let a;for(a=0;a<n.length;a+=1){const u=l7(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=m7(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),pt(r,l)}}}function hNe(i){let e,t;return e=new Li({props:{$$slots:{default:[vNe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&2097184&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mNe(i){let e,t;return e=new zi({props:{title:Fe.t("on-this-day.no-people","No People on this Day"),icon:lee}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function pNe(i){let e,t=i[31].displayName+"",n,r;return{c(){e=P("h2"),n=K(t),r=W(),h(e,"class","ntitle")},m(s,l){w(s,e,l),D(e,n),w(s,r,l)},p(s,l){l[0]&32&&t!==(t=s[31].displayName+"")&&de(n,t)},d(s){s&&y(e),s&&y(r)}}}function _Ne(i){let e,t;return e=new er({props:{trackable:i[31].toTrackable(),slot:"left",size:42}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&32&&(s.trackable=n[31].toTrackable()),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function gNe(i){let e,t,n=i[31].username+"",r;return{c(){e=P("div"),t=K("@"),r=K(n),h(e,"class","text-sm text-gray-500"),h(e,"slot","right")},m(s,l){w(s,e,l),D(e,t),D(e,r)},p(s,l){l[0]&32&&n!==(n=s[31].username+"")&&de(r,n)},d(s){s&&y(e)}}}function p7(i){let e,t;function n(){return i[18](i[31])}return e=new lt({props:{bottomLine:68,clickable:!0,$$slots:{right:[gNe],left:[_Ne],default:[pNe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&2097184&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function vNe(i){let e,t,n=i[5],r=[];for(let l=0;l<n.length;l+=1)r[l]=p7(o7(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&32){n=l[5];let a;for(a=0;a<n.length;a+=1){const u=o7(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=p7(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function bNe(i){let e,t;return e=new Li({props:{className:"p-2 py-4 space-y-4",$$slots:{default:[yNe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&2097168&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function kNe(i){let e,t;return e=new zi({props:{title:Fe.t("on-this-day.no-notes","No Notes on this Day"),emoji:"\u270D\u{1F3FD}"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function _7(i){let e,t;return e=new mc({props:{log:i[26]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&16&&(s.log=n[26]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function yNe(i){let e,t,n=i[4],r=[];for(let l=0;l<n.length;l+=1)r[l]=_7(a7(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&16){n=l[4];let a;for(a=0;a<n.length;a+=1){const u=a7(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=_7(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function wNe(i){let e,t;return e=new Li({props:{className:"p-2 py-4 space-y-4",$$slots:{default:[FNe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&2097158&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $Ne(i){let e;const t=i[15].empty,n=nt(t,i,i[21],c7);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s[0]&2097152)&&rt(n,t,r,r[21],e?it(t,r[21],s,eNe):st(r[21]),c7)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function g7(i){let e,t;return e=new mc({props:{className:"mb-2",log:i[26]}}),e.$on("textClick",i[17]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&2&&(s.log=n[26]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function FNe(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=g7(u7(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&6){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=u7(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=g7(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function v7(i,e){let t,n,r;function s(){return e[16](e[23])}return n=new fa({props:{trackable:e[23].tracker.toTrackable(e[23].value)}}),n.$on("click",s),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),O(n,l,o),r=!0},p(l,o){e=l;const a={};o[0]&8&&(a.trackable=e[23].tracker.toTrackable(e[23].value)),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),I(n,l)}}}function ENe(i){let e=[],t=new QPe,n,r,s=i[3];const l=o=>o[23].tag;for(let o=0;o<s.length;o+=1){let a=f7(i,s,o),u=l(a);t.set(u,e[o]=v7(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),r=!0},p(o,a){a[0]&8&&(s=o[3],ae(),e=Pi(e,a,l,1,o,s,t,n.parentNode,br,v7,n,f7),ue())},i(o){if(!r){for(let a=0;a<s.length;a+=1)_(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)v(e[a]);r=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&y(n)}}}function CNe(i){let e,t;return e=new nPe({props:{gap:0,columns:i[7],$$slots:{default:[ENe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&128&&(s.columns=n[7]),r[0]&2097160&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function b7(i){let e,t;return e=new JPe({}),e.$on("date",i[20]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function DNe(i){let e,t,n,r,s=i[6].toDateString()===new Date().toDateString(),l,o,a=i[0]!=="context"&&d7(i);const u=[aNe,oNe,lNe,sNe,rNe,iNe,nNe],c=[];function f(m,p){return m[0]==="trackers"?0:m[0]==="context"?1:m[0]==="all"?2:m[0]==="notes"?3:m[0]==="people"?4:m[0]==="context"?5:m[0]==="locations"?6:-1}~(t=f(i))&&(n=c[t]=u[t](i));let d=s&&b7(i);return{c(){a&&a.c(),e=W(),n&&n.c(),r=W(),d&&d.c(),l=Ae()},m(m,p){a&&a.m(m,p),w(m,e,p),~t&&c[t].m(m,p),w(m,r,p),d&&d.m(m,p),w(m,l,p),o=!0},p(m,p){m[0]!=="context"?a?(a.p(m,p),p[0]&1&&_(a,1)):(a=d7(m),a.c(),_(a,1),a.m(e.parentNode,e)):a&&(ae(),v(a,1,1,()=>{a=null}),ue());let g=t;t=f(m),t===g?~t&&c[t].p(m,p):(n&&(ae(),v(c[g],1,1,()=>{c[g]=null}),ue()),~t?(n=c[t],n?n.p(m,p):(n=c[t]=u[t](m),n.c()),_(n,1),n.m(r.parentNode,r)):n=null),p[0]&64&&(s=m[6].toDateString()===new Date().toDateString()),s?d?(d.p(m,p),p[0]&64&&_(d,1)):(d=b7(m),d.c(),_(d,1),d.m(l.parentNode,l)):d&&(ae(),v(d,1,1,()=>{d=null}),ue())},i(m){o||(_(a),_(n),_(d),o=!0)},o(m){v(a),v(n),v(d),o=!1},d(m){a&&a.d(m),m&&y(e),~t&&c[t].d(m),m&&y(r),d&&d.d(m),m&&y(l)}}}function SNe(i,e,t){let n,r,s,l;Le(i,en,z=>t(2,n=z)),Le(i,Ls,z=>t(12,r=z)),Le(i,su,z=>t(13,s=z)),Le(i,Ni,z=>t(14,l=z));let{$$slots:o={},$$scope:a}=e,{view:u="notes"}=e,{logs:c=[]}=e,f=[],d=[],m=[],p=[];const g=Ut();let k,$=new Date,C=3,E;const S=z=>{Hr(z.tracker.toTrackable(z.value))},T=z=>{Hr(rr(z.detail,n.trackables))},M=z=>{Hr(z.toTrackable())},R=z=>{Hr(new Wi({id:z,type:"context",context:z}))},Y=z=>{g("date",z.detail)};return i.$$set=z=>{"view"in z&&t(0,u=z.view),"logs"in z&&t(1,c=z.logs),"$$scope"in z&&t(21,a=z.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&16384&&(l.width<400?t(7,C=2):(l.width<700||l.width>900)&&t(7,C=3)),i.$$.dirty[0]&15366&&c&&c.length&&k!==c.map(z=>z._id).join(",")){t(6,$=c[0].end),t(10,k=c.map(j=>j._id).join(","));let z=Qz(c);t(4,d=$U(c)),t(5,m=EU(c,s)),t(8,p=FU(c)),t(3,f=CU(z,r)),t(11,E=dY(c,n.trackables)),E&&(E[0].score!==0||E[1].score!==0||E[2].score)}},[u,c,n,f,d,m,$,C,p,g,k,E,r,s,l,o,S,T,M,R,Y,a]}class HU extends pe{constructor(e){super(),me(this,e,SNe,DNe,he,{view:0,logs:1},null,[-1,-1])}}const qw=(i,e)=>{let t=[{time:30,title:"1 Month Back",unit:"day"},{time:90,title:"90 Days Back",unit:"day"},{time:180,title:"6 Months Back",unit:"day"},{time:1,title:"1 Year Back",unit:"year"},{time:2,title:"2 Years Back",unit:"year"},{time:-1,divider:!0,title:`${Fe.t("general.select-date","Select Date")}...`,unit:"day"}];return new Promise(n=>{e||t.unshift({days:0,divider:!0,title:`${Fe.t("history.go-to-today","Go to Today")}`}),at.popmenu({id:"select-date-fuzzy",buttons:t.map(r=>({title:r.title,divider:!!r.divider,click:async()=>{if(r.time==-1){let s=await at.selectDate();s&&n(Te(s))}else r.time===void 0||r.time===0?n(Te(new Date)):n(i.subtract(r.time||0,r.unit||"day"))}}))})})};function k7(i,e,t){const n=i.slice();return n[20]=e[t],n}function TNe(i){let e,t;return e=new zi({props:{className:"text-gray-500",$$slots:{default:[NNe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8388608&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ANe(i){let e,t;return e=new zi({props:{$$slots:{default:[MNe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8388608&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function PNe(i){let e,t;return e=new HU({props:{view:i[2],logs:i[0].records}}),e.$on("date",i[16]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.view=n[2]),r&1&&(s.logs=n[0].records),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function NNe(i){let e;return{c(){e=K("No data on this day")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function MNe(i){let e,t;return e=new ki({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function LNe(i){let e,t,n,r;const s=[PNe,ANe,TNe],l=[];function o(a,u){return a[1]?a[1]?1:2:0}return t=o(i),n=l[t]=s[t](i),{c(){e=P("main"),n.c(),h(e,"class","h-full relative min-h-full h-50vh pt-3")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function ONe(i){let e,t,n=Te(i[3]).format("ddd MMM D, YYYY")+"",r,s,l,o=Te(i[3]).fromNow()+"",a;return{c(){e=P("div"),t=P("h2"),r=K(n),s=W(),l=P("div"),a=K(o),h(t,"class","text-center text-black dark:text-white font-bold leading-none text-sm line-clamp-1"),h(l,"class","text-xs text-gray-500 font-medium leading-none mt-1"),h(e,"class","title")},m(u,c){w(u,e,c),D(e,t),D(t,r),D(e,s),D(e,l),D(l,a)},p(u,c){c&8&&n!==(n=Te(u[3]).format("ddd MMM D, YYYY")+"")&&de(r,n),c&8&&o!==(o=Te(u[3]).fromNow()+"")&&de(a,o)},d(u){u&&y(e)}}}function INe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function BNe(i){let e,t;return e=new He({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[INe]},$$scope:{ctx:i}}}),e.$on("click",i[8]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8388608&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function RNe(i){let e,t;return e=new et({props:{icon:yf}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zNe(i){let e,t;return e=new He({props:{icon:!0,clear:!0,primary:!0,$$slots:{default:[RNe]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8388608&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function jNe(i){let e,t,n;return t=new mh({props:{hideCal:!0,$$slots:{default:[zNe]},$$scope:{ctx:i}}}),t.$on("previous",i[13]),t.$on("next",i[14]),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","-mr-2"),h(e,"slot","right")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&8388608&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function YNe(i){let e,t;return e=new et({props:{icon:i[20].icon,size:20}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function y7(i){let e,t,n;function r(){return i[15](i[20])}return e=new He({props:{className:i[2]===i[20].view?"active":"",icon:!0,$$slots:{default:[YNe]},$$scope:{ctx:i}}}),e.$on("click",r),{c(){B(e.$$.fragment),t=W()},m(s,l){O(e,s,l),w(s,t,l),n=!0},p(s,l){i=s;const o={};l&4&&(o.className=i[2]===i[20].view?"active":""),l&8388608&&(o.$$scope={dirty:l,ctx:i}),e.$set(o)},i(s){n||(_(e.$$.fragment,s),n=!0)},o(s){v(e.$$.fragment,s),n=!1},d(s){I(e,s),s&&y(t)}}}function UNe(i){let e,t,n=i[4],r=[];for(let l=0;l<n.length;l+=1)r[l]=y7(k7(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&52){n=l[4];let a;for(a=0;a<n.length;a+=1){const u=k7(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=y7(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function WNe(i){let e,t;return e=new Hl({props:{compact:!0,$$slots:{default:[UNe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8388612&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qNe(i){let e,t,n,r,s;return t=new Sn({props:{$$slots:{right:[jNe],left:[BNe],default:[ONe]},$$scope:{ctx:i}}}),r=new Os({props:{className:"px-4",$$slots:{default:[WNe]},$$scope:{ctx:i}}}),{c(){e=P("header"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"slot","header"),h(e,"class","bg-white dark:bg-black")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),O(r,e,null),s=!0},p(l,o){const a={};o&8388616&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&8388612&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),I(t),I(r)}}}function HNe(i){let e,t;return e=new ti({props:{$$slots:{header:[qNe],default:[LNe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&8388623&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function VNe(i,e,t){let n,r;Le(i,Hw,R=>t(3,n=R)),Le(i,su,R=>t(17,r=R));let{id:s}=e;const l={notes:[],trackers:[],trackers1:[],trackers2:[],records:[],people:[],context:[],locations:[]};let o=!0,a=wU,u="all";function c(R){t(2,u=R)}async function f(){t(1,o=!0);let R=await dn.getDay(n),Y=dn.extractTrackerTagAndValues(R);t(0,l.people=EU(R,r),l),t(0,l.context=FU(R),l),t(0,l.notes=$U(R),l),t(0,l.trackers=CU(Y),l),t(0,l.records=R,l),t(1,o=!1)}function d(){let R=Te(n).add(1,"day").toDate();Gb(R),f()}function m(){let R=Te(n).subtract(1,"day").toDate();Gb(R),f()}const p=()=>{tn(s)},g=R=>{R&&(Gb(R),f())},k=async()=>{let R=await qw(Te(n),!1);g(R.toDate())},$=async()=>{f()};Yt(()=>{$()});const C=()=>k(),E=()=>{m()},S=()=>{d()},T=R=>{c(R.view)},M=R=>{g(R.detail)};return i.$$set=R=>{"id"in R&&t(11,s=R.id)},[l,o,u,n,a,c,d,m,p,g,k,s,C,E,S,T,M]}class xNe extends pe{constructor(e){super(),me(this,e,VNe,HNe,he,{id:11})}}const GNe=void 0,Hw=rn(GNe),q0=i=>{i&&(Hw.update(e=>i),On({id:`on-this-day-modal-${i.toDateString()}`,component:xNe,componentProps:{}}))},Gb=i=>{Hw.update(e=>i)},ZNe=pi(),bk=async(i,e,t)=>{try{let n=Te(e).hour(Te().hour()).minute(Te().minute()).toDate(),r=new gn({end:n});if(i.tracker){if(i.tracker.type==="tick")r.note=`${i.tag} ${i.tracker.getIncluded(1).trim()}`;else{const s=await hc({tracker:i.tracker,trackables:t,value:void 0,allowSave:!1,expandNote:!0,nextLabel:`Add to ${Te(e).format(ZNe.tinyDate)} \u2192`,retrospective:!0});r.note=s.raw;let l={};Object.keys(t).map(o=>{o.substring(0,1)==="#"&&(l[o.replace("#","")]=t[o].tracker)}),r.score=Cf(r.note,r.end,l)}await xu(r)}else i.type=="person"?Rf(new gn({note:`${i.tag} `,end:e})):(r.note=i.tag,await xu(r));return!0}catch(n){return console.error(n),!1}};var XNe=Ey,KNe=hh,JNe="Expected a function";function QNe(i,e,t){var n=!0,r=!0;if(typeof i!="function")throw new TypeError(JNe);return KNe(t)&&(n="leading"in t?!!t.leading:n,r="trailing"in t?!!t.trailing:r),XNe(i,e,{leading:n,maxWait:e,trailing:r})}var eMe=QNe;function w7(i,e,t){const n=i.slice();return n[25]=e[t],n[27]=t,n}const tMe=i=>({item:i&1,firstPosItem:i&512,centerPosItem:i&1024}),$7=i=>({item:i[25],index:i[27],firstPosItem:i[9],centerPosItem:i[10]});function F7(i){let e,t,n,r;const s=i[15].default,l=nt(s,i,i[14],$7);return{c(){e=P("div"),l&&l.c(),t=W(),h(e,"data-index",i[27]),h(e,"class",n="scroller-item "+i[4]),ct(e,"snap-center",i[5]=="center"),ct(e,"snap-start",i[5]=="start"),ct(e,"snap-end",i[5]=="end")},m(o,a){w(o,e,a),l&&l.m(e,null),D(e,t),r=!0},p(o,a){l&&l.p&&(!r||a&17921)&&rt(l,s,o,o[14],r?it(s,o[14],a,tMe):st(o[14]),$7),(!r||a&16&&n!==(n="scroller-item "+o[4]))&&h(e,"class",n),(!r||a&48)&&ct(e,"snap-center",o[5]=="center"),(!r||a&48)&&ct(e,"snap-start",o[5]=="start"),(!r||a&48)&&ct(e,"snap-end",o[5]=="end")},i(o){r||(_(l,o),r=!0)},o(o){v(l,o),r=!1},d(o){o&&y(e),l&&l.d(o)}}}function nMe(i){let e,t,n,r,s,l,o,a=i[0],u=[];for(let f=0;f<a.length;f+=1)u[f]=F7(w7(i,a,f));const c=f=>v(u[f],1,1,()=>{u[f]=null});return{c(){var f,d;e=P("div"),t=P("div");for(let m=0;m<u.length;m+=1)u[m].c();h(t,"class",n="scroller-items "+i[3]+" flex "+(i[1]=="x"?"snap-scroll-x flex-row overflow-x-auto w-full":"snap-scroll-y flex-col overflow-y-auto h-full")),h(e,"class",r="scroller relative "+i[2]+" "+(i[1]=="x"?"w-full dir-x":"h-full dir-y")),gt(e,"--ele-width",(f=i[8])==null?void 0:f.clientWidth),gt(e,"--ele-height",(d=i[8])==null?void 0:d.clientHeight),ct(e,"center-start",i[6]==="center"||i[7])},m(f,d){w(f,e,d),D(e,t);for(let m=0;m<u.length;m+=1)u[m].m(t,null);i[16](t),s=!0,l||(o=Se(t,"scroll",i[17]),l=!0)},p(f,[d]){var m,p;if(d&17969){a=f[0];let g;for(g=0;g<a.length;g+=1){const k=w7(f,a,g);u[g]?(u[g].p(k,d),_(u[g],1)):(u[g]=F7(k),u[g].c(),_(u[g],1),u[g].m(t,null))}for(ae(),g=a.length;g<u.length;g+=1)c(g);ue()}(!s||d&10&&n!==(n="scroller-items "+f[3]+" flex "+(f[1]=="x"?"snap-scroll-x flex-row overflow-x-auto w-full":"snap-scroll-y flex-col overflow-y-auto h-full")))&&h(t,"class",n),(!s||d&6&&r!==(r="scroller relative "+f[2]+" "+(f[1]=="x"?"w-full dir-x":"h-full dir-y")))&&h(e,"class",r),(!s||d&256)&&gt(e,"--ele-width",(m=f[8])==null?void 0:m.clientWidth),(!s||d&256)&&gt(e,"--ele-height",(p=f[8])==null?void 0:p.clientHeight),(!s||d&198)&&ct(e,"center-start",f[6]==="center"||f[7])},i(f){if(!s){for(let d=0;d<a.length;d+=1)_(u[d]);s=!0}},o(f){u=u.filter(Boolean);for(let d=0;d<u.length;d+=1)v(u[d]);s=!1},d(f){f&&y(e),pt(u,f),i[16](null),l=!1,o()}}}function iMe(i,e,t){let{$$slots:n={},$$scope:r}=e,{items:s}=e,{direction:l="x"}=e,{className:o=""}=e,{itemsClass:a=""}=e,{itemClass:u=""}=e,{snapToItem:c="start"}=e,{start:f="start"}=e,{centerPoint:d=!1}=e,{scrollToIndex:m=void 0}=e;const p=Ut();let g=!1,k,$,C,E,S,T,M=[];const R=()=>{var x,ee;if(f=="center"){let J=Nt.round(s.length*.5,0)-1;(x=S.children[J])==null||x.scrollIntoView({behavior:"auto",block:"center",inline:"center"})}else f=="end"&&((ee=S.children[s.length-1])==null||ee.scrollIntoView({behavior:"auto",block:"center",inline:"center"}))},Y=x=>{let ee=l=="x"?S.scrollLeft:S.scrollTop;T=l=="x"?S.clientWidth*.5:S.clientHeight*.5,M=s.map((q,le)=>{const G=S.children[le],X=ip(G),se=l=="x"?X.top-X.eleHeight:X.top-X.eleHeight*2;return{index:le,item:q,left:X.left,right:X.left+X.eleWidth,top:se,bottom:se+X.eleHeight,width:X.eleWidth,height:X.eleHeight}});let J=M.sort((q,le)=>l=="x"?q.left>le.left?1:-1:q.top>le.top?1:-1).filter(q=>l=="x"?q.right>=0:q.bottom>=0);$=J[0],t(9,k=$==null?void 0:$.item),C=J.find(q=>l=="x"?q.left<=T&&q.right>=T:q.top<=T&&q.bottom>=T),t(10,E=C==null?void 0:C.item),x?Lt(100).then(()=>{R()}):p("change",{firstPosItem:{item:k,details:$},centerPosItem:{item:E,details:C},scrollAmount:ee})},z=eMe(x=>{Y()},200);Yt(()=>{Y(!0),t(13,g=!0)});function j(x){Oe[x?"unshift":"push"](()=>{S=x,t(8,S)})}const V=x=>{z(x)};return i.$$set=x=>{"items"in x&&t(0,s=x.items),"direction"in x&&t(1,l=x.direction),"className"in x&&t(2,o=x.className),"itemsClass"in x&&t(3,a=x.itemsClass),"itemClass"in x&&t(4,u=x.itemClass),"snapToItem"in x&&t(5,c=x.snapToItem),"start"in x&&t(6,f=x.start),"centerPoint"in x&&t(7,d=x.centerPoint),"scrollToIndex"in x&&t(12,m=x.scrollToIndex),"$$scope"in x&&t(14,r=x.$$scope)},i.$$.update=()=>{i.$$.dirty&12544&&g&&m&&setTimeout(()=>{const x=S.children[m];x==null||x.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),Y()},100)},[s,l,o,a,u,c,f,d,S,k,E,z,m,g,r,n,j,V]}class F1 extends pe{constructor(e){super(),me(this,e,iMe,nMe,he,{items:0,direction:1,className:2,itemsClass:3,itemClass:4,snapToItem:5,start:6,centerPoint:7,scrollToIndex:12})}}function E7(i,e,t){const n=i.slice();return n[5]=e[t],n[7]=t,n}function C7(i){let e,t=[],n=new Map,r,s=i[3];const l=o=>Math.random();for(let o=0;o<s.length;o+=1){let a=E7(i,s,o),u=l();n.set(u,t[o]=D7(u,a))}return{c(){e=P("span");for(let o=0;o<t.length;o+=1)t[o].c();h(e,"class",r="letter-ticker "+i[1]),h(e,"style",i[2])},m(o,a){w(o,e,a);for(let u=0;u<t.length;u+=1)t[u].m(e,null)},p(o,a){a&24&&(s=o[3],t=Pi(t,a,l,1,o,s,n,e,ef,D7,null,E7)),a&2&&r!==(r="letter-ticker "+o[1])&&h(e,"class",r),a&4&&h(e,"style",o[2])},d(o){o&&y(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function D7(i,e){let t,n=(e[5]===" "?"  ":e[5])+"",r,s;return{key:i,first:null,c(){t=P("span"),r=K(n),h(t,"class",s=e[4][e[7]]==e[5]?"letter-stay":"letter-up"),ct(t,"empty",e[5]===" "),this.first=t},m(l,o){w(l,t,o),D(t,r)},p(l,o){e=l,o&8&&n!==(n=(e[5]===" "?"  ":e[5])+"")&&de(r,n),o&24&&s!==(s=e[4][e[7]]==e[5]?"letter-stay":"letter-up")&&h(t,"class",s),o&24&&ct(t,"empty",e[5]===" ")},d(l){l&&y(t)}}}function rMe(i){let e,t=i[0]&&C7(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[0]?t?t.p(n,r):(t=C7(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(n){t&&t.d(n),n&&y(e)}}}function sMe(i,e,t){let{text:n=""}=e,{className:r=""}=e,{style:s=""}=e,l=[],o=[];return i.$$set=a=>{"text"in a&&t(0,n=a.text),"className"in a&&t(1,r=a.className),"style"in a&&t(2,s=a.style)},i.$$.update=()=>{i.$$.dirty&9&&n&&(t(4,o=l||[]),t(3,l=`${n||""}`.split("")))},[n,r,s,l,o]}class If extends pe{constructor(e){super(),me(this,e,sMe,rMe,he,{text:0,className:1,style:2})}}function lMe(i){let e,t=(i[0]?i[0].formatValue(0):0)+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","value")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=(r[0]?r[0].formatValue(0):0)+"")&&de(n,t)},d(r){r&&y(e)}}}function oMe(i){let e,t=(i[0]?i[0].formatValue(i[3].values[i[21]]):i[3].values[i[21]])+"",n,r;return{c(){var s,l;e=P("div"),n=K(t),h(e,"class",r="value "+(((l=(s=i[0])==null?void 0:s.formatValue(i[3].values[i[21]]))==null?void 0:l.length)>3?"xs":""))},m(s,l){w(s,e,l),D(e,n)},p(s,l){var o,a;l&2097161&&t!==(t=(s[0]?s[0].formatValue(s[3].values[s[21]]):s[3].values[s[21]])+"")&&de(n,t),l&2097161&&r!==(r="value "+(((a=(o=s[0])==null?void 0:o.formatValue(s[3].values[s[21]]))==null?void 0:a.length)>3?"xs":""))&&h(e,"class",r)},d(s){s&&y(e)}}}function aMe(i){let e,t,n,r=i[20].format("ddd")+"",s,l,o,a=i[20].format(i[6].tinyNumber)+"",u,c,f,d,m,p,g,k,$,C,E,S,T;function M(){return i[11](i[20])}function R(x,ee){return ee&2097160&&(d=null),d==null&&(d=!isNaN(x[3].values[x[21]])),d?oMe:lMe}let Y=R(i,-1),z=Y(i);function j(){return i[12](i[20])}function V(){return i[13](i[20])}return{c(){var x;e=P("div"),t=P("button"),n=P("div"),s=K(r),l=W(),o=P("div"),u=K(a),c=W(),f=P("button"),z.c(),m=W(),p=P("div"),g=W(),k=P("button"),k.textContent="+",h(n,"class","text-xs opacity-70 leading-none"),h(o,"class","leading-tight"),h(t,"class","mb-1 text-solid border-dotted border-b border-gray-200 dark:border-gray-800 "),h(p,"class","progress w-full transition-all duration-75"),gt(p,"height",`${Nt.percentage(i[4]||0,((x=i[3])==null?void 0:x.values[i[21]])||0)}%`),gt(p,"background-color",i[3].trackable.color),h(f,"class","day-wrapper"),h(k,"class","track-button"),h(e,"class",$="day "+(i[1]===i[21]?"active":"")),h(e,"data-index",C=i[21]),h(e,"data-label",E=i[20].format("dddd, MMMM D")),h(e,"aria-controls","form")},m(x,ee){w(x,e,ee),D(e,t),D(t,n),D(n,s),D(t,l),D(t,o),D(o,u),D(e,c),D(e,f),z.m(f,null),D(f,m),D(f,p),D(e,g),D(e,k),S||(T=[Se(t,"click",M),Se(f,"click",j),Se(k,"click",V)],S=!0)},p(x,ee){var J;i=x,ee&1048576&&r!==(r=i[20].format("ddd")+"")&&de(s,r),ee&1048576&&a!==(a=i[20].format(i[6].tinyNumber)+"")&&de(u,a),Y===(Y=R(i,ee))&&z?z.p(i,ee):(z.d(1),z=Y(i),z&&(z.c(),z.m(f,m))),ee&2097176&&gt(p,"height",`${Nt.percentage(i[4]||0,((J=i[3])==null?void 0:J.values[i[21]])||0)}%`),ee&8&&gt(p,"background-color",i[3].trackable.color),ee&2097154&&$!==($="day "+(i[1]===i[21]?"active":""))&&h(e,"class",$),ee&2097152&&C!==(C=i[21])&&h(e,"data-index",C),ee&1048576&&E!==(E=i[20].format("dddd, MMMM D"))&&h(e,"data-label",E)},d(x){x&&y(e),z.d(),S=!1,Ot(T)}}}function uMe(i){var r;let e,t,n;return t=new F1({props:{start:"end",snapToItem:"center",centerPoint:!0,items:((r=i[3])==null?void 0:r.dates)||[],direction:"x",itemsClass:"streak-scroller px-2 py-2 space-x-2",$$slots:{default:[aMe,({item:s,index:l})=>({20:s,21:l}),({item:s,index:l})=>(s?1048576:0)|(l?2097152:0)]},$$scope:{ctx:i}}}),t.$on("change",i[14]),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","streak-2 bg-white dark:bg-black py-1")},m(s,l){w(s,e,l),O(t,e,null),n=!0},p(s,[l]){var a;const o={};l&8&&(o.items=((a=s[3])==null?void 0:a.dates)||[]),l&7340091&&(o.$$scope={dirty:l,ctx:s}),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){v(t.$$.fragment,s),n=!1},d(s){s&&y(e),I(t)}}}function cMe(i,e,t){let n;Le(i,en,M=>t(5,n=M)),Ut();let r,s,l,o,{endDate:a=new Date}=e,{trackable:u=void 0}=e,{loading:c=!0}=e,f,d=10,m;const p=async()=>{clearTimeout(m),m=setTimeout(()=>{k()},200)};let g=pi();Yt(async()=>{await k(),l=sl.subscribe(M=>{t(10,o=M)})}),Ns(()=>{l()});const k=async()=>{t(8,c=!0);const M=Te(a).endOf("day"),R=Te(M).subtract(30,"days").startOf("day");let Y=new As({trackable:u,values:[],dates:[]});t(3,f=Y.byDay.backfill(R.toDate(),M.toDate()));const z={end:M,start:R,search:u.tag,fuzzy:!0,caller:"streak2.svelte"},j=await dn.query(z),V=_o(j,{trackables:n.trackables});return V[u.tag]?Y=V[u.tag]:Y=new As({trackable:u,values:[],dates:[]}),t(3,f=Y.byDay.backfill(R.toDate(),M.toDate())),t(4,d=Nt.max(f.values)),t(8,c=!1),!0},$=(M,R)=>{af(M,[{title:"Track on this Day",click(){bk(R,Te(M).hour(Te().hour()).toDate(),n.trackables)}}])},C=M=>{$(M.toDate(),f.trackable)},E=M=>{$(M.toDate(),f.trackable)},S=M=>{bk(f.trackable,M.hour(Te().hour()).toDate(),n.trackables)},T=M=>{var R,Y,z;M.detail.centerPosItem&&M.detail.centerPosItem.item&&(t(1,r=(Y=(R=M.detail.centerPosItem)==null?void 0:R.details)==null?void 0:Y.index),t(2,s=(z=M.detail.centerPosItem)==null?void 0:z.item.format(`ddd ${g.mmm_d_yyyy}`)))};return i.$$set=M=>{"endDate"in M&&t(9,a=M.endDate),"trackable"in M&&t(0,u=M.trackable),"loading"in M&&t(8,c=M.loading)},i.$$.update=()=>{i.$$.dirty&1537&&o&&(u||a)&&p()},[u,r,s,f,d,n,g,$,c,a,o,C,E,S,T]}class fMe extends pe{constructor(e){super(),me(this,e,cMe,uMe,he,{endDate:9,trackable:0,loading:8})}}function S7(i,e,t){const n=i.slice();return n[32]=e[t],n[34]=t,n}function T7(i,e,t){const n=i.slice();return n[35]=e[t],n[34]=t,n}function A7(i,e,t){const n=i.slice();return n[32]=e[t],n[34]=t,n}function P7(i,e,t){const n=i.slice();return n[38]=e[t],n}function N7(i,e,t){const n=i.slice();return n[41]=e[t],n[34]=t,n}function M7(i,e,t){const n=i.slice();return n[43]=e[t],n[34]=t,n}const dMe=i=>({}),L7=i=>({});function O7(i){let e,t=i[43]+"",n;return{c(){e=P("option"),n=K(t),e.__value=i[34],e.value=e.__value},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function I7(i){let e,t=i[41]+"",n;return{c(){e=P("option"),n=K(t),e.__value=i[41],e.value=e.__value},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function B7(i){let e,t,n,r,s;return t=new et({props:{icon:X1,size:14}}),{c(){e=P("button"),B(t.$$.fragment),h(e,"class","nselect"),ct(e,"sm",i[2]=="sm")},m(l,o){w(l,e,o),O(t,e,null),n=!0,r||(s=Se(e,"click",i[25]),r=!0)},p(l,o){(!n||o[0]&4)&&ct(e,"sm",l[2]=="sm")},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),I(t),r=!1,s()}}}function R7(i){let e,t,n,r,s;return t=new et({props:{icon:rc,size:14}}),{c(){e=P("button"),B(t.$$.fragment),h(e,"class","nselect"),ct(e,"sm",i[2]=="sm")},m(l,o){w(l,e,o),O(t,e,null),n=!0,r||(s=Se(e,"click",i[27]),r=!0)},p(l,o){(!n||o[0]&4)&&ct(e,"sm",l[2]=="sm")},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),I(t),r=!1,s()}}}function z7(i){let e,t=i[38].substring(0,3)+"",n,r;return{c(){e=P("div"),n=K(t),r=W(),h(e,"class","cell")},m(s,l){w(s,e,l),D(e,n),D(e,r)},p:Z,d(s){s&&y(e)}}}function j7(i){let e,t,n,r=Array(i[9]).fill(0),s=[];for(let c=0;c<r.length;c+=1)s[c]=Y7(A7(i,r,c));let l=Array(i[11]).fill(0).map(i[29]),o=[];for(let c=0;c<l.length;c+=1)o[c]=U7(T7(i,l,c));let a=Array(7-i[8]).fill(0),u=[];for(let c=0;c<a.length;c+=1)u[c]=W7(S7(i,a,c));return{c(){for(let c=0;c<s.length;c+=1)s[c].c();e=W();for(let c=0;c<o.length;c+=1)o[c].c();t=W();for(let c=0;c<u.length;c+=1)u[c].c();n=Ae()},m(c,f){for(let d=0;d<s.length;d+=1)s[d].m(c,f);w(c,e,f);for(let d=0;d<o.length;d+=1)o[d].m(c,f);w(c,t,f);for(let d=0;d<u.length;d+=1)u[d].m(c,f);w(c,n,f)},p(c,f){if(f[0]&136736){r=Array(c[9]).fill(0);let d;for(d=0;d<r.length;d+=1){const m=A7(c,r,d);s[d]?s[d].p(m,f):(s[d]=Y7(m),s[d].c(),s[d].m(e.parentNode,e))}for(;d<s.length;d+=1)s[d].d(1);s.length=r.length}if(f[0]&202784){l=Array(c[11]).fill(0).map(c[29]);let d;for(d=0;d<l.length;d+=1){const m=T7(c,l,d);o[d]?o[d].p(m,f):(o[d]=U7(m),o[d].c(),o[d].m(t.parentNode,t))}for(;d<o.length;d+=1)o[d].d(1);o.length=l.length}if(f[0]&135456){a=Array(7-c[8]).fill(0);let d;for(d=0;d<a.length;d+=1){const m=S7(c,a,d);u[d]?u[d].p(m,f):(u[d]=W7(m),u[d].c(),u[d].m(n.parentNode,n))}for(;d<u.length;d+=1)u[d].d(1);u.length=a.length}},d(c){pt(s,c),c&&y(e),pt(o,c),c&&y(t),pt(u,c),c&&y(n)}}}function Y7(i){let e,t,n=i[10]-(i[9]-(i[34]+1))+"",r,s,l,o,a;function u(){return i[28](i[34])}return{c(){e=P("button"),t=P("span"),r=K(n),s=W(),h(e,"class",l="past-month day d-"+i[5].format("YYYY-MM-DD")),ct(e,"today",i[5].format("YYYY-MM-DD")===i[12])},m(c,f){w(c,e,f),D(e,t),D(t,r),D(e,s),o||(a=Se(e,"click",u),o=!0)},p(c,f){i=c,f[0]&1536&&n!==(n=i[10]-(i[9]-(i[34]+1))+"")&&de(r,n),f[0]&32&&l!==(l="past-month day d-"+i[5].format("YYYY-MM-DD"))&&h(e,"class",l),f[0]&4128&&ct(e,"today",i[5].format("YYYY-MM-DD")===i[12])},d(c){c&&y(e),o=!1,a()}}}function U7(i){let e,t,n=i[34]+1+"",r,s,l,o,a;function u(){return i[30](i[35])}return{c(){e=P("button"),t=P("span"),r=K(n),s=W(),h(e,"class",l="cell day day-$"+i[34]+" d-"+i[35].format("YYYY-MM-DD")+" "+i[16](i[35])),ct(e,"today",i[35].format("YYYY-MM-DD")===i[12])},m(c,f){w(c,e,f),D(e,t),D(t,r),D(e,s),o||(a=Se(e,"click",u),o=!0)},p(c,f){i=c,f[0]&2080&&l!==(l="cell day day-$"+i[34]+" d-"+i[35].format("YYYY-MM-DD")+" "+i[16](i[35]))&&h(e,"class",l),f[0]&6176&&ct(e,"today",i[35].format("YYYY-MM-DD")===i[12])},d(c){c&&y(e),o=!1,a()}}}function W7(i){let e,t,n=i[34]+1+"",r,s,l,o,a;function u(){return i[31](i[34])}return{c(){e=P("button"),t=P("span"),r=K(n),s=W(),h(e,"class",l="next-month day d-"+i[5].format("YYYY-MM-DD")),ct(e,"today",i[5].format("YYYY-MM-DD")==i[12])},m(c,f){w(c,e,f),D(e,t),D(t,r),D(e,s),o||(a=Se(e,"click",u),o=!0)},p(c,f){i=c,f[0]&32&&l!==(l="next-month day d-"+i[5].format("YYYY-MM-DD"))&&h(e,"class",l),f[0]&4128&&ct(e,"today",i[5].format("YYYY-MM-DD")==i[12])},d(c){c&&y(e),o=!1,a()}}}function q7(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T;const M=i[20]["header-left"],R=nt(M,i,i[19],L7);let Y=Array(12).fill(0).map(i[21]),z=[];for(let G=0;G<Y.length;G+=1)z[G]=O7(M7(i,Y,G));let j=Array(12).fill(0).map(i[23]),V=[];for(let G=0;G<j.length;G+=1)V[G]=I7(N7(i,j,G));let x=!i[4]&&B7(i),ee=!i[4]&&R7(i),J=i[14],q=[];for(let G=0;G<J.length;G+=1)q[G]=z7(P7(i,J,G));let le=!i[3]&&j7(i);return{c(){e=P("div"),t=P("header"),n=P("div"),R&&R.c(),r=W(),s=P("div"),l=P("select");for(let G=0;G<z.length;G+=1)z[G].c();o=W(),a=P("select");for(let G=0;G<V.length;G+=1)V[G].c();u=W(),c=P("div"),f=W(),x&&x.c(),d=W(),m=P("button"),m.textContent="Today",p=W(),ee&&ee.c(),g=W(),k=P("div");for(let G=0;G<q.length;G+=1)q[G].c();$=W(),C=P("main"),le&&le.c(),h(l,"class","nselect rounded-r-none"),ct(l,"sm",i[2]=="sm"),h(a,"class","nselect rounded-l-none"),ct(a,"sm",i[2]=="sm"),h(s,"class","divide-x-2 divide-opacity-30 divide-gray-500 flex items-center nselect-group"),h(c,"class","filler"),h(m,"class","nselect "),ct(m,"sm",i[2]=="sm"),h(n,"class","title py-2 px-2 ntitle flex items-center space-x-1"),h(k,"class","header-days grid grid-cols-7 w-full"),h(C,"class","grid grid-cols-7 w-full calendar-days"),h(e,"class","calendar-3"),gt(e,"--trackable-color",i[1].trackable.color)},m(G,X){w(G,e,X),D(e,t),D(t,n),R&&R.m(n,null),D(n,r),D(n,s),D(s,l);for(let se=0;se<z.length;se+=1)z[se].m(l,null);ei(l,i[7]),D(s,o),D(s,a);for(let se=0;se<V.length;se+=1)V[se].m(a,null);ei(a,i[6]),D(n,u),D(n,c),D(n,f),x&&x.m(n,null),D(n,d),D(n,m),D(n,p),ee&&ee.m(n,null),D(t,g),D(t,k);for(let se=0;se<q.length;se+=1)q[se].m(k,null);D(e,$),D(e,C),le&&le.m(C,null),E=!0,S||(T=[Se(l,"input",i[22]),Se(a,"input",i[24]),Se(m,"click",i[26])],S=!0)},p(G,X){if(R&&R.p&&(!E||X[0]&524288)&&rt(R,M,G,G[19],E?it(M,G[19],X,dMe):st(G[19]),L7),X&0){Y=Array(12).fill(0).map(G[21]);let se;for(se=0;se<Y.length;se+=1){const te=M7(G,Y,se);z[se]?z[se].p(te,X):(z[se]=O7(te),z[se].c(),z[se].m(l,null))}for(;se<z.length;se+=1)z[se].d(1);z.length=Y.length}if((!E||X[0]&128)&&ei(l,G[7]),(!E||X[0]&4)&&ct(l,"sm",G[2]=="sm"),X&0){j=Array(12).fill(0).map(G[23]);let se;for(se=0;se<j.length;se+=1){const te=N7(G,j,se);V[se]?V[se].p(te,X):(V[se]=I7(te),V[se].c(),V[se].m(a,null))}for(;se<V.length;se+=1)V[se].d(1);V.length=j.length}if((!E||X[0]&64)&&ei(a,G[6]),(!E||X[0]&4)&&ct(a,"sm",G[2]=="sm"),G[4]?x&&(ae(),v(x,1,1,()=>{x=null}),ue()):x?(x.p(G,X),X[0]&16&&_(x,1)):(x=B7(G),x.c(),_(x,1),x.m(n,d)),(!E||X[0]&4)&&ct(m,"sm",G[2]=="sm"),G[4]?ee&&(ae(),v(ee,1,1,()=>{ee=null}),ue()):ee?(ee.p(G,X),X[0]&16&&_(ee,1)):(ee=R7(G),ee.c(),_(ee,1),ee.m(n,null)),X[0]&16384){J=G[14];let se;for(se=0;se<J.length;se+=1){const te=P7(G,J,se);q[se]?q[se].p(te,X):(q[se]=z7(te),q[se].c(),q[se].m(k,null))}for(;se<q.length;se+=1)q[se].d(1);q.length=J.length}G[3]?le&&(le.d(1),le=null):le?le.p(G,X):(le=j7(G),le.c(),le.m(C,null)),(!E||X[0]&2)&&gt(e,"--trackable-color",G[1].trackable.color)},i(G){E||(_(R,G),_(x),_(ee),E=!0)},o(G){v(R,G),v(x),v(ee),E=!1},d(G){G&&y(e),R&&R.d(G),pt(z,G),pt(V,G),x&&x.d(),ee&&ee.d(),pt(q,G),le&&le.d(),S=!1,Ot(T)}}}function hMe(i){let e=i[1],t,n,r=q7(i);return{c(){r.c(),t=Ae()},m(s,l){r.m(s,l),w(s,t,l),n=!0},p(s,l){l[0]&2&&he(e,e=s[1])?(ae(),v(r,1,1,Z),ue(),r=q7(s),r.c(),_(r,1),r.m(t.parentNode,t)):r.p(s,l)},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(t),r.d(s)}}}function mMe(i,e,t){let n,r,s,l,o,a,u,{$$slots:c={},$$scope:f}=e,{date:d=new Date}=e,{weekStarts:m="sunday"}=e,{trackableUsage:p=void 0}=e,{size:g="base"}=e,{loading:k}=e,{hidePrevNext:$=!1}=e,C=Te().format("YYYY-MM-DD");const E=Ut();let S=[Fe.t("days.monday","Monday"),Fe.t("days.tuesday","Tuesday"),Fe.t("days.wednesday","Wednesday"),Fe.t("days.thursday","Thursday"),Fe.t("days.friday","Friday"),Fe.t("days.saturday","Saturday"),Fe.t("days.sunday","Sunday")];const T=se=>{se==="next"?t(0,d=Te(d).add(1,"month").toDate()):t(0,d=Te(d).subtract(1,"month").toDate()),E("dateChange",d)},M=se=>{let te=[];if(!p)return"";const ie=p.dates.findIndex(re=>re.format("YYYY-MM-DD")===se.format("YYYY-MM-DD"));return ie>-1&&te.push("has-value"),p.positivity[ie]>0?te.push("is-positive"):p.positivity[ie]<0&&te.push("is-negative"),te.join(" ")},R=se=>{E("input",se.toDate())},Y=(se,te)=>Te().month(te).startOf("month").format("MMM"),z=se=>{let te=n.month(se.target.value);t(0,d=te.toDate()),E("dateChange",te.toDate())},j=(se,te)=>gi(Te().format("YYYY"))-te,V=se=>{let te=n.year(gi(se.target.value));t(0,d=te.toDate()),E("dateChange",te)},x=()=>T("previous"),ee=()=>{t(0,d=new Date)},J=()=>T("next"),q=se=>{let te=s-(l-(se+1));R(n.subtract(1,"month").date(te))},le=(se,te)=>n.date(te+1),G=se=>{R(se)},X=se=>{R(n.add(1,"month").date(se+1))};return i.$$set=se=>{"date"in se&&t(0,d=se.date),"weekStarts"in se&&t(18,m=se.weekStarts),"trackableUsage"in se&&t(1,p=se.trackableUsage),"size"in se&&t(2,g=se.size),"loading"in se&&t(3,k=se.loading),"hidePrevNext"in se&&t(4,$=se.hidePrevNext),"$$scope"in se&&t(19,f=se.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&1&&t(5,n=Te(d).startOf("month")),i.$$.dirty[0]&32&&t(11,r=n.daysInMonth()),i.$$.dirty[0]&32&&t(10,s=n.subtract(1,"month").daysInMonth()),i.$$.dirty[0]&262176&&t(9,l=n.day()-(m==="monday"?1:0)),i.$$.dirty[0]&262176&&t(8,o=n.endOf("month").day()+(m==="monday"?0:1)),i.$$.dirty[0]&32&&t(7,a=n.month()),i.$$.dirty[0]&32&&t(6,u=gi(n.format("YYYY"))),i.$$.dirty[0]&262144&&m=="sunday"){const se=S.pop();S.unshift(se)}},[d,p,g,k,$,n,u,a,o,l,s,r,C,E,S,T,M,R,m,f,c,Y,z,j,V,x,ee,J,q,le,G,X]}class VU extends pe{constructor(e){super(),me(this,e,mMe,hMe,he,{date:0,weekStarts:18,trackableUsage:1,size:2,loading:3,hidePrevNext:4},null,[-1,-1])}}function H7(i){let e,t,n,r;function s(a){i[8](a)}function l(a){i[9](a)}let o={};return i[2]!==void 0&&(o.trackableUsage=i[2]),i[1]!==void 0&&(o.loading=i[1]),e=new VU({props:o}),Oe.push(()=>Qe(e,"trackableUsage",s,i[2])),Oe.push(()=>Qe(e,"loading",l,i[1])),e.$on("input",i[10]),e.$on("dateChange",i[11]),{c(){B(e.$$.fragment)},m(a,u){O(e,a,u),r=!0},p(a,u){const c={};!t&&u&4&&(t=!0,c.trackableUsage=a[2],tt(()=>t=!1)),!n&&u&2&&(n=!0,c.loading=a[1],tt(()=>n=!1)),e.$set(c)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),r=!1},d(a){I(e,a)}}}function V7(i){let e,t,n;return t=new ki({props:{size:32}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","h-60 flex items-center justify-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function pMe(i){let e,t,n,r=i[2]&&H7(i),s=(!i[2]||i[1])&&V7();return{c(){r&&r.c(),e=W(),s&&s.c(),t=Ae()},m(l,o){r&&r.m(l,o),w(l,e,o),s&&s.m(l,o),w(l,t,o),n=!0},p(l,[o]){l[2]?r?(r.p(l,o),o&4&&_(r,1)):(r=H7(l),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ae(),v(r,1,1,()=>{r=null}),ue()),!l[2]||l[1]?s?o&6&&_(s,1):(s=V7(),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){n||(_(r),_(s),n=!0)},o(l){v(r),v(s),n=!1},d(l){r&&r.d(l),l&&y(e),s&&s.d(l),l&&y(t)}}}function _Me(i,e,t){let n,r;Le(i,dn,$=>t(7,n=$)),Le(i,en,$=>t(13,r=$));let{trackable:s}=e,{date:l=new Date}=e;const o=Ut();let a=!0,u,c;const f=async()=>{t(1,a=!0),clearTimeout(c),c=setTimeout(async()=>{t(2,u=await qp(s,{start:Te(l).startOf("month"),end:Te(l).endOf("month")},r.trackables)),o("usage",u),t(1,a=!1)},100)};let d="";Yt(()=>{f()});function m($){u=$,t(2,u)}function p($){a=$,t(1,a)}const g=$=>{o("input",$.detail)},k=$=>{t(0,l=$.detail),o("change",l),f()};return i.$$set=$=>{"trackable"in $&&t(5,s=$.trackable),"date"in $&&t(0,l=$.date)},i.$$.update=()=>{i.$$.dirty&225&&l&&s&&n.hash&&`${l==null?void 0:l.toDateString()}${s.tag}`!==d&&(t(6,d=`${l.toDateString()}${s.tag}`),f())},[l,a,u,o,f,s,d,n,m,p,g,k]}class gMe extends pe{constructor(e){super(),me(this,e,_Me,pMe,he,{trackable:5,date:0})}}function vMe(i){let e=i[3].format(`${i[5].tinyDate} ${i[5].time}`)+"",t,n,r=i[2].format(`${i[5].tinyDate} ${i[5].time}`)+"",s;return{c(){t=K(e),n=K(` \u2192\xA0
    `),s=K(r)},m(l,o){w(l,t,o),w(l,n,o),w(l,s,o)},p(l,o){o&8&&e!==(e=l[3].format(`${l[5].tinyDate} ${l[5].time}`)+"")&&de(t,e),o&4&&r!==(r=l[2].format(`${l[5].tinyDate} ${l[5].time}`)+"")&&de(s,r)},d(l){l&&y(t),l&&y(n),l&&y(s)}}}function bMe(i){let e=i[3].format(`ddd ${i[5].time}`)+"",t,n,r=i[2].format(`ddd ${i[5].time}`)+"",s;return{c(){t=K(e),n=K(` \u2192\xA0
    `),s=K(r)},m(l,o){w(l,t,o),w(l,n,o),w(l,s,o)},p(l,o){o&8&&e!==(e=l[3].format(`ddd ${l[5].time}`)+"")&&de(t,e),o&4&&r!==(r=l[2].format(`ddd ${l[5].time}`)+"")&&de(s,r)},d(l){l&&y(t),l&&y(n),l&&y(s)}}}function kMe(i){let e=i[3].format(`${i[5].time}`)+"",t,n,r=i[2].format(`${i[5].time}`)+"",s;return{c(){t=K(e),n=K(` \u2192\xA0
    `),s=K(r)},m(l,o){w(l,t,o),w(l,n,o),w(l,s,o)},p(l,o){o&8&&e!==(e=l[3].format(`${l[5].time}`)+"")&&de(t,e),o&4&&r!==(r=l[2].format(`${l[5].time}`)+"")&&de(s,r)},d(l){l&&y(t),l&&y(n),l&&y(s)}}}function yMe(i){let e,t;function n(l,o){return l[4]==0?kMe:l[4]<2?bMe:vMe}let r=n(i),s=r(i);return{c(){e=P("span"),s.c(),h(e,"class",t="time-range-text "+i[0]),h(e,"style",i[1])},m(l,o){w(l,e,o),s.m(e,null)},p(l,[o]){r===(r=n(l))&&s?s.p(l,o):(s.d(1),s=r(l),s&&(s.c(),s.m(e,null))),o&1&&t!==(t="time-range-text "+l[0])&&h(e,"class",t),o&2&&h(e,"style",l[1])},i:Z,o:Z,d(l){l&&y(e),s.d()}}}function wMe(i,e,t){let{date:n}=e,{seconds:r}=e,{className:s=""}=e,{style:l=""}=e,o,a,u;const c=pi();return i.$$set=f=>{"date"in f&&t(6,n=f.date),"seconds"in f&&t(7,r=f.seconds),"className"in f&&t(0,s=f.className),"style"in f&&t(1,l=f.style)},i.$$.update=()=>{i.$$.dirty&192&&(n||r)&&(t(2,o=Te(n)),t(3,a=Te(n).subtract(r,"seconds")),t(4,u=Math.floor(r/(3600*24))))},[s,l,o,a,u,c,n,r]}class $Me extends pe{constructor(e){super(),me(this,e,wMe,yMe,he,{date:6,seconds:7,className:0,style:1})}}function x7(i){let e,t;return e=new $Me({props:{date:i[0].end,seconds:i[5],className:" dark:text-gray-300 leading-tight"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.date=n[0].end),r&32&&(s.seconds=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function FMe(i){let e,t=i[0].note+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","text-sm text-gray-500 pr-2 pt-px w-full line-clamp-5")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].note+"")&&de(n,t)},i:Z,o:Z,d(r){r&&y(e)}}}function EMe(i){let e,t,n;return t=new Dl({props:{percentage:Nt.percentage(i[2],i[5]),className:"h-1 w-full",color:i[1].color}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","pr-2 pt-2 w-full")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&36&&(l.percentage=Nt.percentage(r[2],r[5])),s&2&&(l.color=r[1].color),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function CMe(i){var J;let e,t,n,r,s,l,o=i[1].label+"",a,u,c,f=i[0].endDayjs().format(i[6].tinyDate)+"",d,m,p,g=i[1].formatValue(i[5])+"",k,$,C,E,S,T,M,R,Y,z;t=new er({props:{trackable:i[1],size:42,className:"mr-2 mt-4"}});let j=((J=i[1].tracker)==null?void 0:J.type)=="timer"&&!i[4]&&x7(i);const V=[EMe,FMe],x=[];function ee(q,le){return q[2]&&q[1].tracker?0:1}return E=ee(i),S=x[E]=V[E](i),{c(){e=P("button"),B(t.$$.fragment),n=W(),r=P("main"),s=P("div"),l=P("h3"),a=K(o),u=W(),c=P("span"),d=K(f),m=W(),p=P("p"),k=K(g),$=W(),j&&j.c(),C=W(),S.c(),h(c,"class","text-base font-normal text-gray-500"),h(l,"class","text-base leading-tight font-bold w-full dark:text-white"),h(p,"class","text-black dark:text-white font-bold text-xl text-right mr-4 leading-none whitespace-nowrap"),h(s,"class","flex item-center space-y-1 filler items-center justify-between w-full"),h(r,"class","flex py-3 items-start flex-col w-full space-y-1"),h(e,"type","menu"),h(e,"class",T="rounded-md mock-item flex pl-1 items-start w-full text-left focus:ring-2 focus:ring-primary-500 "+i[3]),h(e,"id",M="log-"+i[0]._id)},m(q,le){w(q,e,le),O(t,e,null),D(e,n),D(e,r),D(r,s),D(s,l),D(l,a),D(l,u),D(l,c),D(c,d),D(s,m),D(s,p),D(p,k),D(r,$),j&&j.m(r,null),D(r,C),x[E].m(r,null),R=!0,Y||(z=Se(e,"click",i[8]),Y=!0)},p(q,[le]){var se;const G={};le&2&&(G.trackable=q[1]),t.$set(G),(!R||le&2)&&o!==(o=q[1].label+"")&&de(a,o),(!R||le&1)&&f!==(f=q[0].endDayjs().format(q[6].tinyDate)+"")&&de(d,f),(!R||le&34)&&g!==(g=q[1].formatValue(q[5])+"")&&de(k,g),((se=q[1].tracker)==null?void 0:se.type)=="timer"&&!q[4]?j?(j.p(q,le),le&18&&_(j,1)):(j=x7(q),j.c(),_(j,1),j.m(r,C)):j&&(ae(),v(j,1,1,()=>{j=null}),ue());let X=E;E=ee(q),E===X?x[E].p(q,le):(ae(),v(x[X],1,1,()=>{x[X]=null}),ue(),S=x[E],S?S.p(q,le):(S=x[E]=V[E](q),S.c()),_(S,1),S.m(r,null)),(!R||le&8&&T!==(T="rounded-md mock-item flex pl-1 items-start w-full text-left focus:ring-2 focus:ring-primary-500 "+q[3]))&&h(e,"class",T),(!R||le&1&&M!==(M="log-"+q[0]._id))&&h(e,"id",M)},i(q){R||(_(t.$$.fragment,q),_(j),_(S),R=!0)},o(q){v(t.$$.fragment,q),v(j),v(S),R=!1},d(q){q&&y(e),I(t),j&&j.d(),x[E].d(),Y=!1,z()}}}function DMe(i,e,t){let{log:n}=e,{trackable:r}=e,{max:s=void 0}=e,{className:l=""}=e,{hideTime:o=!1}=e,a=0;const u=pi(),c=Ut(),f=()=>{c("click",{log:n,trackable:r})};return i.$$set=d=>{"log"in d&&t(0,n=d.log),"trackable"in d&&t(1,r=d.trackable),"max"in d&&t(2,s=d.max),"className"in d&&t(3,l=d.className),"hideTime"in d&&t(4,o=d.hideTime)},i.$$.update=()=>{var d;i.$$.dirty&3&&(n||r)&&t(5,a=r.tracker?n.getTrackerValue((d=r.tracker)==null?void 0:d.tag):1)},[n,r,s,l,o,a,u,c,f]}class xU extends pe{constructor(e){super(),me(this,e,DMe,CMe,he,{log:0,trackable:1,max:2,className:3,hideTime:4})}}function G7(i,e,t){const n=i.slice();return n[17]=e[t],n[19]=t,n}function SMe(i){let e,t,n;function r(l){i[12](l)}let s={trackable:i[0].trackable};return i[1]!==void 0&&(s.date=i[1]),e=new gMe({props:s}),Oe.push(()=>Qe(e,"date",r,i[1])),e.$on("input",i[13]),e.$on("usage",i[14]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o&1&&(a.trackable=l[0].trackable),!t&&o&2&&(t=!0,a.date=l[1],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function TMe(i){let e,t;return e=new zi({props:{className:"text-gray-500",$$slots:{default:[MMe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1048592&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function AMe(i){let e,t,n=[],r=new Map,s,l=!i[3].logs.length&&Z7(i),o=i[3].logs;const a=u=>u[19];for(let u=0;u<o.length;u+=1){let c=G7(i,o,u),f=a(c);r.set(f,n[u]=X7(f,c))}return{c(){e=P("div"),l&&l.c(),t=W();for(let u=0;u<n.length;u+=1)n[u].c();h(e,"class","px-2 pt-2 lg:px-4 bg-gray-300 dark:bg-gray-800")},m(u,c){w(u,e,c),l&&l.m(e,null),D(e,t);for(let f=0;f<n.length;f+=1)n[f].m(e,null);s=!0},p(u,c){u[3].logs.length?l&&(l.d(1),l=null):l?l.p(u,c):(l=Z7(u),l.c(),l.m(e,t)),c&9&&(o=u[3].logs,ae(),n=Pi(n,c,a,1,u,o,r,e,br,X7,null,G7),ue())},i(u){if(!s){for(let c=0;c<o.length;c+=1)_(n[c]);s=!0}},o(u){for(let c=0;c<n.length;c+=1)v(n[c]);s=!1},d(u){u&&y(e),l&&l.d();for(let c=0;c<n.length;c+=1)n[c].d()}}}function PMe(i){let e;return{c(){e=K("No Data")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function NMe(i){let e;return{c(){e=K("Getting Data...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function MMe(i){let e;function t(s,l){return s[4]?NMe:PMe}let n=t(i),r=n(i);return{c(){r.c(),e=Ae()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n!==(n=t(s))&&(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function Z7(i){let e,t,n=i[3].trackable.label+"",r,s,l=Te(i[2]||i[1]).format(i[7].mmm_d_yyyy)+"",o;return{c(){e=P("div"),t=K("No "),r=K(n),s=K(" data for "),o=K(l),h(e,"class","text-center p-10 text-gray-500")},m(a,u){w(a,e,u),D(e,t),D(e,r),D(e,s),D(e,o)},p(a,u){u&8&&n!==(n=a[3].trackable.label+"")&&de(r,n),u&6&&l!==(l=Te(a[2]||a[1]).format(a[7].mmm_d_yyyy)+"")&&de(o,l)},d(a){a&&y(e)}}}function X7(i,e){let t,n,r;function s(...l){return e[15](e[17],...l)}return n=new xU({props:{index:e[19],max:e[3].max.value,trackable:e[0].trackable,log:e[17]}}),n.$on("click",s),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),O(n,l,o),r=!0},p(l,o){e=l;const a={};o&8&&(a.index=e[19]),o&8&&(a.max=e[3].max.value),o&1&&(a.trackable=e[0].trackable),o&8&&(a.log=e[17]),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),I(n,l)}}}function LMe(i){let e,t,n,r,s,l,o,a;e=new T0({props:{className:"bg-gray-100 rounded-none dark:bg-gray-900 stiff shadow-2xl z-30 overflow-hidden",$$slots:{default:[SMe]},$$scope:{ctx:i}}}),r=new hi({props:{left:1,className:"opacity-50"}});const u=[AMe,TMe],c=[];function f(d,m){return d[3]?0:1}return l=f(i),o=c[l]=u[l](i),{c(){B(e.$$.fragment),t=W(),n=P("section"),B(r.$$.fragment),s=W(),o.c(),h(n,"id","calendar-view-list"),h(n,"class","flex flex-col h-auto overflow-y-auto bg-white dark:bg-black")},m(d,m){O(e,d,m),w(d,t,m),w(d,n,m),O(r,n,null),D(n,s),c[l].m(n,null),a=!0},p(d,m){const p={};m&1048703&&(p.$$scope={dirty:m,ctx:d}),e.$set(p);let g=l;l=f(d),l===g?c[l].p(d,m):(ae(),v(c[g],1,1,()=>{c[g]=null}),ue(),o=c[l],o?o.p(d,m):(o=c[l]=u[l](d),o.c()),_(o,1),o.m(n,null))},i(d){a||(_(e.$$.fragment,d),_(r.$$.fragment,d),_(o),a=!0)},o(d){v(e.$$.fragment,d),v(r.$$.fragment,d),v(o),a=!1},d(d){I(e,d),d&&y(t),d&&y(n),I(r),c[l].d()}}}function OMe(i){let e,t,n=i[1]?`${i[2]?Te(i[2]).format(i[7].mmm_d_yyyy):Te(i[1]).format("MMM YYYY")}`:"Loading...",r;return{c(){e=P("div"),t=P("h1"),r=K(n),h(t,"class","ntitle"),h(e,"class","flex items-center space-x-2")},m(s,l){w(s,e,l),D(e,t),D(t,r)},p(s,l){l&6&&n!==(n=s[1]?`${s[2]?Te(s[2]).format(s[7].mmm_d_yyyy):Te(s[1]).format("MMM YYYY")}`:"Loading...")&&de(r,n)},d(s){s&&y(e)}}}function IMe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function BMe(i){let e,t;return e=new He({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[IMe]},$$scope:{ctx:i}}}),e.$on("click",i[9]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1048576&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function RMe(i){let e,t;return e=new fa({props:{transparent:!0,slot:"right",className:"rounded-full flex-row-reverse",trackable:i[0].trackable,hideValue:!0,size:32}}),e.$on("click",i[11]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[0].trackable),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zMe(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{right:[RMe],left:[BMe],default:[OMe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1048583&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function jMe(i){let e,t;return e=new T0({props:{absolute:!0,className:"overflow-hidden ",mainClass:"flex flex-col",$$slots:{header:[zMe],default:[LMe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1048703&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function YMe(i){let e,t;return e=new ti({props:{className:"calendar-view-modal",$$slots:{default:[jMe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&1048703&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function UMe(i,e,t){let n,r;Le(i,en,S=>t(16,n=S)),Le(i,sl,S=>t(6,r=S));let{id:s}=e,{props:l}=e,o,a,u,c=pi(),f=!0,d;const m=async S=>{let T=Te(S);const M=u.dates.findIndex(R=>R.format("YYYY-MM-DD")===(T==null?void 0:T.format("YYYY-MM-DD")));if(M>-1){const R=u.logs[M];if(R){const Y=document.querySelector(`#calendar-view-list #log-${R._id}`);Y&&Y.scrollIntoView({behavior:"smooth"})}}else await at.confirm("Track on this Day?")&&(t(4,f=!0),await bk(u.trackable,S,n.trackables),t(4,f=!1))},p=()=>{tn(s)},g=()=>Hr(l.trackable);function k(S){o=S,t(1,o)}const $=S=>{t(2,a=Te(S.detail)),m(S.detail)},C=S=>{t(4,f=!1),t(2,a=void 0),t(3,u=S.detail),t(5,d=r[u.trackable.tag])},E=(S,T)=>{hYe(S,l.trackable)};return i.$$set=S=>{"id"in S&&t(10,s=S.id),"props"in S&&t(0,l=S.props)},[l,o,a,u,f,d,r,c,m,p,s,g,k,$,C,E]}class WMe extends pe{constructor(e){super(),me(this,e,UMe,YMe,he,{id:10,props:0})}}const qMe=rn({}),GU=i=>{i.date=i.date||new Date,On({id:`calendarview-modal-${i.date.toDateString()}`,position:"fullscreen",component:WMe,componentProps:{props:i}}),qMe.update(e=>({...i,show:!0}))},HMe=i=>({}),K7=i=>({});function VMe(i){let e,t;return e=new et({props:{size:30,icon:X1}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xMe(i){let e=i[2].format(i[5].mmm_d_yyyy)+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&36&&e!==(e=n[2].format(n[5].mmm_d_yyyy)+"")&&de(t,e)},d(n){n&&y(t)}}}function GMe(i){let e=i[0].format(i[5].mmm_d_yyyy)+"",t,n,r=i[1].format(i[5].mmm_d_yyyy)+"",s;return{c(){t=K(e),n=K(` -
        `),s=K(r)},m(l,o){w(l,t,o),w(l,n,o),w(l,s,o)},p(l,o){o&33&&e!==(e=l[0].format(l[5].mmm_d_yyyy)+"")&&de(t,e),o&34&&r!==(r=l[1].format(l[5].mmm_d_yyyy)+"")&&de(s,r)},d(l){l&&y(t),l&&y(n),l&&y(s)}}}function ZMe(i){let e,t;return e=new et({props:{size:30,icon:rc}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function XMe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$;r=new He({props:{className:"bg-gray-500 bg-opacity-20",size:"lg",primary:!0,icon:!0,$$slots:{default:[VMe]},$$scope:{ctx:i}}}),r.$on("click",i[8]);const C=i[7].default,E=nt(C,i,i[10],null),S=i[7].title,T=nt(S,i,i[10],K7);function M(z,j){return z[0]&&z[1]?GMe:xMe}let R=M(i),Y=R(i);return m=new He({props:{className:"bg-gray-500 bg-opacity-20",size:"lg",primary:!0,icon:!0,$$slots:{default:[ZMe]},$$scope:{ctx:i}}}),m.$on("click",i[9]),{c(){e=P("div"),t=P("div"),n=W(),B(r.$$.fragment),s=W(),l=P("div"),E&&E.c(),o=W(),a=P("div"),T&&T.c(),u=W(),c=P("p"),Y.c(),d=W(),B(m.$$.fragment),p=W(),g=P("div"),h(t,"class","filler"),h(a,"class","title text-center"),h(c,"class",f=""+i[4]),h(l,"class","filler"),h(g,"class","filler"),h(e,"class",k="flex items-center py-2 justify-center "+i[3])},m(z,j){w(z,e,j),D(e,t),D(e,n),O(r,e,null),D(e,s),D(e,l),E&&E.m(l,null),D(l,o),D(l,a),T&&T.m(a,null),D(l,u),D(l,c),Y.m(c,null),D(e,d),O(m,e,null),D(e,p),D(e,g),$=!0},p(z,[j]){const V={};j&1024&&(V.$$scope={dirty:j,ctx:z}),r.$set(V),E&&E.p&&(!$||j&1024)&&rt(E,C,z,z[10],$?it(C,z[10],j,null):st(z[10]),null),T&&T.p&&(!$||j&1024)&&rt(T,S,z,z[10],$?it(S,z[10],j,HMe):st(z[10]),K7),R===(R=M(z))&&Y?Y.p(z,j):(Y.d(1),Y=R(z),Y&&(Y.c(),Y.m(c,null))),(!$||j&16&&f!==(f=""+z[4]))&&h(c,"class",f);const x={};j&1024&&(x.$$scope={dirty:j,ctx:z}),m.$set(x),(!$||j&8&&k!==(k="flex items-center py-2 justify-center "+z[3]))&&h(e,"class",k)},i(z){$||(_(r.$$.fragment,z),_(E,z),_(T,z),_(m.$$.fragment,z),$=!0)},o(z){v(r.$$.fragment,z),v(E,z),v(T,z),v(m.$$.fragment,z),$=!1},d(z){z&&y(e),I(r),E&&E.d(z),T&&T.d(z),Y.d(),I(m)}}}function KMe(i,e,t){let n,{$$slots:r={},$$scope:s}=e,{start:l=void 0}=e,{end:o=void 0}=e,{date:a=Te()}=e,{className:u=""}=e,{dateClass:c="text-center text-gray-600 dark:text-gray-400 text-xs md:text-sm my-1"}=e;const f=Ut(),d=()=>{f("previous")},m=()=>{f("next")};return i.$$set=p=>{"start"in p&&t(0,l=p.start),"end"in p&&t(1,o=p.end),"date"in p&&t(2,a=p.date),"className"in p&&t(3,u=p.className),"dateClass"in p&&t(4,c=p.dateClass),"$$scope"in p&&t(10,s=p.$$scope)},t(5,n=pi()),[l,o,a,u,c,n,f,r,d,m,s]}class JMe extends pe{constructor(e){super(),me(this,e,KMe,XMe,he,{start:0,end:1,date:2,className:3,dateClass:4})}}var kk={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(i,e){(function(){var t,n="4.17.21",r=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",l="Expected a function",o="Invalid `variable` option passed into `_.template`",a="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,d=2,m=4,p=1,g=2,k=1,$=2,C=4,E=8,S=16,T=32,M=64,R=128,Y=256,z=512,j=30,V="...",x=800,ee=16,J=1,q=2,le=3,G=1/0,X=9007199254740991,se=17976931348623157e292,te=0/0,ie=4294967295,re=ie-1,be=ie>>>1,we=[["ary",R],["bind",k],["bindKey",$],["curry",E],["curryRight",S],["flip",z],["partial",T],["partialRight",M],["rearg",Y]],De="[object Arguments]",Be="[object Array]",ze="[object AsyncFunction]",ke="[object Boolean]",Ue="[object Date]",Ce="[object DOMException]",vt="[object Error]",$t="[object Function]",bt="[object GeneratorFunction]",Tt="[object Map]",It="[object Number]",Je="[object Null]",Pt="[object Object]",sn="[object Promise]",Tn="[object Proxy]",Vn="[object RegExp]",An="[object Set]",xn="[object String]",In="[object Symbol]",Hi="[object Undefined]",mt="[object WeakMap]",dr="[object WeakSet]",yi="[object ArrayBuffer]",Ke="[object DataView]",Pr="[object Float32Array]",Nr="[object Float64Array]",yr="[object Int8Array]",ul="[object Int16Array]",ot="[object Int32Array]",Xt="[object Uint8Array]",yn="[object Uint8ClampedArray]",jn="[object Uint16Array]",ji="[object Uint32Array]",Bs=/\b__p \+= '';/g,Mr=/\b(__p \+=) '' \+/g,wr=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xl=/&(?:amp|lt|gt|quot|#39);/g,Gl=/[&<>"']/g,ko=RegExp(xl.source),ha=RegExp(Gl.source),yo=/<%-([\s\S]+?)%>/g,cl=/<%([\s\S]+?)%>/g,wo=/<%=([\s\S]+?)%>/g,cu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_e=/^\w*$/,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ve=/[\\^$.*+?()[\]{}|]/g,ht=RegExp(Ve.source),At=/^\s+/,Qt=/\s/,Rt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ki=/\{\n\/\* \[wrapped with (.+)\] \*/,Cn=/,? & /,nr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Zl=/[()=,{}\[\]\/\s]/,$o=/\\(\\)?/g,ma=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rr=/\w*$/,pa=/^[-+]0x[0-9a-f]+$/i,fu=/^0b[01]+$/i,Sl=/^\[object .+?Constructor\]$/,_a=/^0o[0-7]+$/i,ga=/^(?:0|[1-9]\d*)$/,Fo=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$r=/($^)/,Di=/['\n\r\u2028\u2029\\]/g,hr="\\ud800-\\udfff",Rs="\\u0300-\\u036f",zr="\\ufe20-\\ufe2f",fl="\\u20d0-\\u20ff",jr=Rs+zr+fl,dl="\\u2700-\\u27bf",hl="a-z\\xdf-\\xf6\\xf8-\\xff",va="\\xac\\xb1\\xd7\\xf7",_s="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ba="\\u2000-\\u206f",Gn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ge="A-Z\\xc0-\\xd6\\xd8-\\xde",Re="\\ufe0e\\ufe0f",Ee=va+_s+ba+Gn,We="['\u2019]",Ge="["+hr+"]",Ie="["+Ee+"]",dt="["+jr+"]",Ft="\\d+",Mt="["+dl+"]",Et="["+hl+"]",zt="[^"+hr+Ee+Ft+dl+hl+ge+"]",xt="\\ud83c[\\udffb-\\udfff]",hn="(?:"+dt+"|"+xt+")",nn="[^"+hr+"]",Pn="(?:\\ud83c[\\udde6-\\uddff]){2}",vi="[\\ud800-\\udbff][\\udc00-\\udfff]",ni="["+ge+"]",Lr="\\u200d",zs="(?:"+Et+"|"+zt+")",ka="(?:"+ni+"|"+zt+")",du="(?:"+We+"(?:d|ll|m|re|s|t|ve))?",Xl="(?:"+We+"(?:D|LL|M|RE|S|T|VE))?",pc=hn+"?",hu="["+Re+"]?",mu="(?:"+Lr+"(?:"+[nn,Pn,vi].join("|")+")"+hu+pc+")*",_c="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nh="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",l_=hu+pc+mu,wn="(?:"+[Mt,Pn,vi].join("|")+")"+l_,Tl="(?:"+[nn+dt+"?",dt,Pn,vi,Ge].join("|")+")",Si=RegExp(We,"g"),o_=RegExp(dt,"g"),gc=RegExp(xt+"(?="+xt+")|"+Tl+l_,"g"),Mh=RegExp([ni+"?"+Et+"+"+du+"(?="+[Ie,ni,"$"].join("|")+")",ka+"+"+Xl+"(?="+[Ie,ni+zs,"$"].join("|")+")",ni+"?"+zs+"+"+du,ni+"+"+Xl,Nh,_c,Ft,wn].join("|"),"g"),Lh=RegExp("["+Lr+hr+jr+Re+"]"),ya=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Oh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vc=-1,$n={};$n[Pr]=$n[Nr]=$n[yr]=$n[ul]=$n[ot]=$n[Xt]=$n[yn]=$n[jn]=$n[ji]=!0,$n[De]=$n[Be]=$n[yi]=$n[ke]=$n[Ke]=$n[Ue]=$n[vt]=$n[$t]=$n[Tt]=$n[It]=$n[Pt]=$n[Vn]=$n[An]=$n[xn]=$n[mt]=!1;var ii={};ii[De]=ii[Be]=ii[yi]=ii[Ke]=ii[ke]=ii[Ue]=ii[Pr]=ii[Nr]=ii[yr]=ii[ul]=ii[ot]=ii[Tt]=ii[It]=ii[Pt]=ii[Vn]=ii[An]=ii[xn]=ii[In]=ii[Xt]=ii[yn]=ii[jn]=ii[ji]=!0,ii[vt]=ii[$t]=ii[mt]=!1;var a_={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},u_={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},c_={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ih=parseFloat,lv=parseInt,Bh=typeof fi=="object"&&fi&&fi.Object===Object&&fi,Zn=typeof self=="object"&&self&&self.Object===Object&&self,Or=Bh||Zn||Function("return this")(),gs=e&&!e.nodeType&&e,ml=gs&&!0&&i&&!i.nodeType&&i,Rh=ml&&ml.exports===gs,zh=Rh&&Bh.process,es=function(){try{var xe=ml&&ml.require&&ml.require("util").types;return xe||zh&&zh.binding&&zh.binding("util")}catch{}}(),f_=es&&es.isArrayBuffer,jh=es&&es.isDate,d_=es&&es.isMap,h_=es&&es.isRegExp,zf=es&&es.isSet,m_=es&&es.isTypedArray;function Ji(xe,_t,ut){switch(ut.length){case 0:return xe.call(_t);case 1:return xe.call(_t,ut[0]);case 2:return xe.call(_t,ut[0],ut[1]);case 3:return xe.call(_t,ut[0],ut[1],ut[2])}return xe.apply(_t,ut)}function ov(xe,_t,ut,Gt){for(var pn=-1,ai=xe==null?0:xe.length;++pn<ai;){var sr=xe[pn];_t(Gt,sr,ut(sr),xe)}return Gt}function vs(xe,_t){for(var ut=-1,Gt=xe==null?0:xe.length;++ut<Gt&&_t(xe[ut],ut,xe)!==!1;);return xe}function Eo(xe,_t){for(var ut=xe==null?0:xe.length;ut--&&_t(xe[ut],ut,xe)!==!1;);return xe}function Yh(xe,_t){for(var ut=-1,Gt=xe==null?0:xe.length;++ut<Gt;)if(!_t(xe[ut],ut,xe))return!1;return!0}function Kl(xe,_t){for(var ut=-1,Gt=xe==null?0:xe.length,pn=0,ai=[];++ut<Gt;){var sr=xe[ut];_t(sr,ut,xe)&&(ai[pn++]=sr)}return ai}function jf(xe,_t){var ut=xe==null?0:xe.length;return!!ut&&$a(xe,_t,0)>-1}function Uh(xe,_t,ut){for(var Gt=-1,pn=xe==null?0:xe.length;++Gt<pn;)if(ut(_t,xe[Gt]))return!0;return!1}function Ti(xe,_t){for(var ut=-1,Gt=xe==null?0:xe.length,pn=Array(Gt);++ut<Gt;)pn[ut]=_t(xe[ut],ut,xe);return pn}function Co(xe,_t){for(var ut=-1,Gt=_t.length,pn=xe.length;++ut<Gt;)xe[pn+ut]=_t[ut];return xe}function Yf(xe,_t,ut,Gt){var pn=-1,ai=xe==null?0:xe.length;for(Gt&&ai&&(ut=xe[++pn]);++pn<ai;)ut=_t(ut,xe[pn],pn,xe);return ut}function p_(xe,_t,ut,Gt){var pn=xe==null?0:xe.length;for(Gt&&pn&&(ut=xe[--pn]);pn--;)ut=_t(ut,xe[pn],pn,xe);return ut}function pu(xe,_t){for(var ut=-1,Gt=xe==null?0:xe.length;++ut<Gt;)if(_t(xe[ut],ut,xe))return!0;return!1}var wa=Hh("length");function av(xe){return xe.split("")}function bc(xe){return xe.match(nr)||[]}function bs(xe,_t,ut){var Gt;return ut(xe,function(pn,ai,sr){if(_t(pn,ai,sr))return Gt=ai,!1}),Gt}function kc(xe,_t,ut,Gt){for(var pn=xe.length,ai=ut+(Gt?1:-1);Gt?ai--:++ai<pn;)if(_t(xe[ai],ai,xe))return ai;return-1}function $a(xe,_t,ut){return _t===_t?pv(xe,_t,ut):kc(xe,Wh,ut)}function uv(xe,_t,ut,Gt){for(var pn=ut-1,ai=xe.length;++pn<ai;)if(Gt(xe[pn],_t))return pn;return-1}function Wh(xe){return xe!==xe}function qh(xe,_t){var ut=xe==null?0:xe.length;return ut?Vh(xe,_t)/ut:te}function Hh(xe){return function(_t){return _t==null?t:_t[xe]}}function yc(xe){return function(_t){return xe==null?t:xe[_t]}}function Uf(xe,_t,ut,Gt,pn){return pn(xe,function(ai,sr,wi){ut=Gt?(Gt=!1,ai):_t(ut,ai,sr,wi)}),ut}function cv(xe,_t){var ut=xe.length;for(xe.sort(_t);ut--;)xe[ut]=xe[ut].value;return xe}function Vh(xe,_t){for(var ut,Gt=-1,pn=xe.length;++Gt<pn;){var ai=_t(xe[Gt]);ai!==t&&(ut=ut===t?ai:ut+ai)}return ut}function Wf(xe,_t){for(var ut=-1,Gt=Array(xe);++ut<xe;)Gt[ut]=_t(ut);return Gt}function fv(xe,_t){return Ti(_t,function(ut){return[ut,xe[ut]]})}function js(xe){return xe&&xe.slice(0,xf(xe)+1).replace(At,"")}function Fr(xe){return function(_t){return xe(_t)}}function xh(xe,_t){return Ti(_t,function(ut){return xe[ut]})}function ks(xe,_t){return xe.has(_t)}function __(xe,_t){for(var ut=-1,Gt=xe.length;++ut<Gt&&$a(_t,xe[ut],0)>-1;);return ut}function Fa(xe,_t){for(var ut=xe.length;ut--&&$a(_t,xe[ut],0)>-1;);return ut}function dv(xe,_t){for(var ut=xe.length,Gt=0;ut--;)xe[ut]===_t&&++Gt;return Gt}var wc=yc(a_),g_=yc(u_);function qf(xe){return"\\"+c_[xe]}function hv(xe,_t){return xe==null?t:xe[_t]}function ys(xe){return Lh.test(xe)}function Hf(xe){return ya.test(xe)}function mv(xe){for(var _t,ut=[];!(_t=xe.next()).done;)ut.push(_t.value);return ut}function $c(xe){var _t=-1,ut=Array(xe.size);return xe.forEach(function(Gt,pn){ut[++_t]=[pn,Gt]}),ut}function v_(xe,_t){return function(ut){return xe(_t(ut))}}function Yr(xe,_t){for(var ut=-1,Gt=xe.length,pn=0,ai=[];++ut<Gt;){var sr=xe[ut];(sr===_t||sr===c)&&(xe[ut]=c,ai[pn++]=ut)}return ai}function Vf(xe){var _t=-1,ut=Array(xe.size);return xe.forEach(function(Gt){ut[++_t]=Gt}),ut}function _u(xe){var _t=-1,ut=Array(xe.size);return xe.forEach(function(Gt){ut[++_t]=[Gt,Gt]}),ut}function pv(xe,_t,ut){for(var Gt=ut-1,pn=xe.length;++Gt<pn;)if(xe[Gt]===_t)return Gt;return-1}function Jl(xe,_t,ut){for(var Gt=ut+1;Gt--;)if(xe[Gt]===_t)return Gt;return Gt}function Ql(xe){return ys(xe)?Gh(xe):wa(xe)}function Ys(xe){return ys(xe)?Zf(xe):av(xe)}function xf(xe){for(var _t=xe.length;_t--&&Qt.test(xe.charAt(_t)););return _t}var Gf=yc(sv);function Gh(xe){for(var _t=gc.lastIndex=0;gc.test(xe);)++_t;return _t}function Zf(xe){return xe.match(gc)||[]}function gu(xe){return xe.match(Mh)||[]}var Xf=function xe(_t){_t=_t==null?Or:Do.defaults(Or.Object(),_t,Do.pick(Or,Oh));var ut=_t.Array,Gt=_t.Date,pn=_t.Error,ai=_t.Function,sr=_t.Math,wi=_t.Object,Us=_t.RegExp,Kf=_t.String,Ws=_t.TypeError,Ea=ut.prototype,_v=ai.prototype,Ca=wi.prototype,Jf=_t["__core-js_shared__"],So=_v.toString,_i=Ca.hasOwnProperty,vu=0,Zh=function(){var F=/[^.]+$/.exec(Jf&&Jf.keys&&Jf.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}(),Fc=Ca.toString,gv=So.call(wi),eo=Or._,b_=Us("^"+So.call(_i).replace(Ve,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ec=Rh?_t.Buffer:t,qs=_t.Symbol,Qf=_t.Uint8Array,Cc=Ec?Ec.allocUnsafe:t,To=v_(wi.getPrototypeOf,wi),Xh=wi.create,Kh=Ca.propertyIsEnumerable,ed=Ea.splice,Jh=qs?qs.isConcatSpreadable:t,bu=qs?qs.iterator:t,Ao=qs?qs.toStringTag:t,Dc=function(){try{var F=Mc(wi,"defineProperty");return F({},"",{}),F}catch{}}(),k_=_t.clearTimeout!==Or.clearTimeout&&_t.clearTimeout,vv=Gt&&Gt.now!==Or.Date.now&&Gt.now,y_=_t.setTimeout!==Or.setTimeout&&_t.setTimeout,Sc=sr.ceil,td=sr.floor,b=wi.getOwnPropertySymbols,A=Ec?Ec.isBuffer:t,U=_t.isFinite,Q=Ea.join,oe=v_(wi.keys,wi),fe=sr.max,Ne=sr.min,Xe=Gt.now,ft=_t.parseInt,wt=sr.random,Vt=Ea.reverse,un=Mc(_t,"DataView"),Dn=Mc(_t,"Map"),ts=Mc(_t,"Promise"),Hs=Mc(_t,"Set"),Po=Mc(_t,"WeakMap"),Vs=Mc(wi,"create"),ku=Po&&new Po,yu={},bv=Lc(un),kv=Lc(Dn),w_=Lc(ts),yv=Lc(Hs),$_=Lc(Po),Vi=qs?qs.prototype:t,No=Vi?Vi.valueOf:t,F_=Vi?Vi.toString:t;function ve(F){if(lr(F)&&!Fn(F)&&!(F instanceof Yn)){if(F instanceof ws)return F;if(_i.call(F,"__wrapped__"))return TF(F)}return new ws(F)}var wu=function(){function F(){}return function(N){if(!ir(N))return{};if(Xh)return Xh(N);F.prototype=N;var H=new F;return F.prototype=t,H}}();function $u(){}function ws(F,N){this.__wrapped__=F,this.__actions__=[],this.__chain__=!!N,this.__index__=0,this.__values__=t}ve.templateSettings={escape:yo,evaluate:cl,interpolate:wo,variable:"",imports:{_:ve}},ve.prototype=$u.prototype,ve.prototype.constructor=ve,ws.prototype=wu($u.prototype),ws.prototype.constructor=ws;function Yn(F){this.__wrapped__=F,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ie,this.__views__=[]}function Wq(){var F=new Yn(this.__wrapped__);return F.__actions__=xs(this.__actions__),F.__dir__=this.__dir__,F.__filtered__=this.__filtered__,F.__iteratees__=xs(this.__iteratees__),F.__takeCount__=this.__takeCount__,F.__views__=xs(this.__views__),F}function qq(){if(this.__filtered__){var F=new Yn(this);F.__dir__=-1,F.__filtered__=!0}else F=this.clone(),F.__dir__*=-1;return F}function Hq(){var F=this.__wrapped__.value(),N=this.__dir__,H=Fn(F),ne=N<0,ce=H?F.length:0,$e=iV(0,ce,this.__views__),Me=$e.start,Ye=$e.end,Ze=Ye-Me,kt=ne?Ye:Me-1,yt=this.__iteratees__,Dt=yt.length,qt=0,Jt=Ne(Ze,this.__takeCount__);if(!H||!ne&&ce==Ze&&Jt==Ze)return J$(F,this.__actions__);var cn=[];e:for(;Ze--&&qt<Jt;){kt+=N;for(var Mn=-1,fn=F[kt];++Mn<Dt;){var Hn=yt[Mn],Qn=Hn.iteratee,gl=Hn.type,Es=Qn(fn);if(gl==q)fn=Es;else if(!Es){if(gl==J)continue e;break e}}cn[qt++]=fn}return cn}Yn.prototype=wu($u.prototype),Yn.prototype.constructor=Yn;function Tc(F){var N=-1,H=F==null?0:F.length;for(this.clear();++N<H;){var ne=F[N];this.set(ne[0],ne[1])}}function Vq(){this.__data__=Vs?Vs(null):{},this.size=0}function xq(F){var N=this.has(F)&&delete this.__data__[F];return this.size-=N?1:0,N}function Gq(F){var N=this.__data__;if(Vs){var H=N[F];return H===a?t:H}return _i.call(N,F)?N[F]:t}function Zq(F){var N=this.__data__;return Vs?N[F]!==t:_i.call(N,F)}function Xq(F,N){var H=this.__data__;return this.size+=this.has(F)?0:1,H[F]=Vs&&N===t?a:N,this}Tc.prototype.clear=Vq,Tc.prototype.delete=xq,Tc.prototype.get=Gq,Tc.prototype.has=Zq,Tc.prototype.set=Xq;function Da(F){var N=-1,H=F==null?0:F.length;for(this.clear();++N<H;){var ne=F[N];this.set(ne[0],ne[1])}}function Kq(){this.__data__=[],this.size=0}function Jq(F){var N=this.__data__,H=E_(N,F);if(H<0)return!1;var ne=N.length-1;return H==ne?N.pop():ed.call(N,H,1),--this.size,!0}function Qq(F){var N=this.__data__,H=E_(N,F);return H<0?t:N[H][1]}function eH(F){return E_(this.__data__,F)>-1}function tH(F,N){var H=this.__data__,ne=E_(H,F);return ne<0?(++this.size,H.push([F,N])):H[ne][1]=N,this}Da.prototype.clear=Kq,Da.prototype.delete=Jq,Da.prototype.get=Qq,Da.prototype.has=eH,Da.prototype.set=tH;function Sa(F){var N=-1,H=F==null?0:F.length;for(this.clear();++N<H;){var ne=F[N];this.set(ne[0],ne[1])}}function nH(){this.size=0,this.__data__={hash:new Tc,map:new(Dn||Da),string:new Tc}}function iH(F){var N=B_(this,F).delete(F);return this.size-=N?1:0,N}function rH(F){return B_(this,F).get(F)}function sH(F){return B_(this,F).has(F)}function lH(F,N){var H=B_(this,F),ne=H.size;return H.set(F,N),this.size+=H.size==ne?0:1,this}Sa.prototype.clear=nH,Sa.prototype.delete=iH,Sa.prototype.get=rH,Sa.prototype.has=sH,Sa.prototype.set=lH;function Ac(F){var N=-1,H=F==null?0:F.length;for(this.__data__=new Sa;++N<H;)this.add(F[N])}function oH(F){return this.__data__.set(F,a),this}function aH(F){return this.__data__.has(F)}Ac.prototype.add=Ac.prototype.push=oH,Ac.prototype.has=aH;function to(F){var N=this.__data__=new Da(F);this.size=N.size}function uH(){this.__data__=new Da,this.size=0}function cH(F){var N=this.__data__,H=N.delete(F);return this.size=N.size,H}function fH(F){return this.__data__.get(F)}function dH(F){return this.__data__.has(F)}function hH(F,N){var H=this.__data__;if(H instanceof Da){var ne=H.__data__;if(!Dn||ne.length<r-1)return ne.push([F,N]),this.size=++H.size,this;H=this.__data__=new Sa(ne)}return H.set(F,N),this.size=H.size,this}to.prototype.clear=uH,to.prototype.delete=cH,to.prototype.get=fH,to.prototype.has=dH,to.prototype.set=hH;function T$(F,N){var H=Fn(F),ne=!H&&Oc(F),ce=!H&&!ne&&Su(F),$e=!H&&!ne&&!ce&&sd(F),Me=H||ne||ce||$e,Ye=Me?Wf(F.length,Kf):[],Ze=Ye.length;for(var kt in F)(N||_i.call(F,kt))&&!(Me&&(kt=="length"||ce&&(kt=="offset"||kt=="parent")||$e&&(kt=="buffer"||kt=="byteLength"||kt=="byteOffset")||Na(kt,Ze)))&&Ye.push(kt);return Ye}function A$(F){var N=F.length;return N?F[Nv(0,N-1)]:t}function mH(F,N){return R_(xs(F),Pc(N,0,F.length))}function pH(F){return R_(xs(F))}function wv(F,N,H){(H!==t&&!no(F[N],H)||H===t&&!(N in F))&&Ta(F,N,H)}function Qh(F,N,H){var ne=F[N];(!(_i.call(F,N)&&no(ne,H))||H===t&&!(N in F))&&Ta(F,N,H)}function E_(F,N){for(var H=F.length;H--;)if(no(F[H][0],N))return H;return-1}function _H(F,N,H,ne){return Fu(F,function(ce,$e,Me){N(ne,ce,H(ce),Me)}),ne}function P$(F,N){return F&&Lo(N,Ur(N),F)}function gH(F,N){return F&&Lo(N,Zs(N),F)}function Ta(F,N,H){N=="__proto__"&&Dc?Dc(F,N,{configurable:!0,enumerable:!0,value:H,writable:!0}):F[N]=H}function $v(F,N){for(var H=-1,ne=N.length,ce=ut(ne),$e=F==null;++H<ne;)ce[H]=$e?t:ib(F,N[H]);return ce}function Pc(F,N,H){return F===F&&(H!==t&&(F=F<=H?F:H),N!==t&&(F=F>=N?F:N)),F}function Al(F,N,H,ne,ce,$e){var Me,Ye=N&f,Ze=N&d,kt=N&m;if(H&&(Me=ce?H(F,ne,ce,$e):H(F)),Me!==t)return Me;if(!ir(F))return F;var yt=Fn(F);if(yt){if(Me=sV(F),!Ye)return xs(F,Me)}else{var Dt=ns(F),qt=Dt==$t||Dt==bt;if(Su(F))return tF(F,Ye);if(Dt==Pt||Dt==De||qt&&!ce){if(Me=Ze||qt?{}:kF(F),!Ye)return Ze?GH(F,gH(Me,F)):xH(F,P$(Me,F))}else{if(!ii[Dt])return ce?F:{};Me=lV(F,Dt,Ye)}}$e||($e=new to);var Jt=$e.get(F);if(Jt)return Jt;$e.set(F,Me),ZF(F)?F.forEach(function(fn){Me.add(Al(fn,N,H,fn,F,$e))}):xF(F)&&F.forEach(function(fn,Hn){Me.set(Hn,Al(fn,N,H,Hn,F,$e))});var cn=kt?Ze?Wv:Uv:Ze?Zs:Ur,Mn=yt?t:cn(F);return vs(Mn||F,function(fn,Hn){Mn&&(Hn=fn,fn=F[Hn]),Qh(Me,Hn,Al(fn,N,H,Hn,F,$e))}),Me}function vH(F){var N=Ur(F);return function(H){return N$(H,F,N)}}function N$(F,N,H){var ne=H.length;if(F==null)return!ne;for(F=wi(F);ne--;){var ce=H[ne],$e=N[ce],Me=F[ce];if(Me===t&&!(ce in F)||!$e(Me))return!1}return!0}function M$(F,N,H){if(typeof F!="function")throw new Ws(l);return lm(function(){F.apply(t,H)},N)}function em(F,N,H,ne){var ce=-1,$e=jf,Me=!0,Ye=F.length,Ze=[],kt=N.length;if(!Ye)return Ze;H&&(N=Ti(N,Fr(H))),ne?($e=Uh,Me=!1):N.length>=r&&($e=ks,Me=!1,N=new Ac(N));e:for(;++ce<Ye;){var yt=F[ce],Dt=H==null?yt:H(yt);if(yt=ne||yt!==0?yt:0,Me&&Dt===Dt){for(var qt=kt;qt--;)if(N[qt]===Dt)continue e;Ze.push(yt)}else $e(N,Dt,ne)||Ze.push(yt)}return Ze}var Fu=lF(Mo),L$=lF(Ev,!0);function bH(F,N){var H=!0;return Fu(F,function(ne,ce,$e){return H=!!N(ne,ce,$e),H}),H}function C_(F,N,H){for(var ne=-1,ce=F.length;++ne<ce;){var $e=F[ne],Me=N($e);if(Me!=null&&(Ye===t?Me===Me&&!_l(Me):H(Me,Ye)))var Ye=Me,Ze=$e}return Ze}function kH(F,N,H,ne){var ce=F.length;for(H=Nn(H),H<0&&(H=-H>ce?0:ce+H),ne=ne===t||ne>ce?ce:Nn(ne),ne<0&&(ne+=ce),ne=H>ne?0:KF(ne);H<ne;)F[H++]=N;return F}function O$(F,N){var H=[];return Fu(F,function(ne,ce,$e){N(ne,ce,$e)&&H.push(ne)}),H}function Vr(F,N,H,ne,ce){var $e=-1,Me=F.length;for(H||(H=aV),ce||(ce=[]);++$e<Me;){var Ye=F[$e];N>0&&H(Ye)?N>1?Vr(Ye,N-1,H,ne,ce):Co(ce,Ye):ne||(ce[ce.length]=Ye)}return ce}var Fv=oF(),I$=oF(!0);function Mo(F,N){return F&&Fv(F,N,Ur)}function Ev(F,N){return F&&I$(F,N,Ur)}function D_(F,N){return Kl(N,function(H){return Ma(F[H])})}function Nc(F,N){N=Cu(N,F);for(var H=0,ne=N.length;F!=null&&H<ne;)F=F[Oo(N[H++])];return H&&H==ne?F:t}function B$(F,N,H){var ne=N(F);return Fn(F)?ne:Co(ne,H(F))}function $s(F){return F==null?F===t?Hi:Je:Ao&&Ao in wi(F)?nV(F):pV(F)}function Cv(F,N){return F>N}function yH(F,N){return F!=null&&_i.call(F,N)}function wH(F,N){return F!=null&&N in wi(F)}function $H(F,N,H){return F>=Ne(N,H)&&F<fe(N,H)}function Dv(F,N,H){for(var ne=H?Uh:jf,ce=F[0].length,$e=F.length,Me=$e,Ye=ut($e),Ze=1/0,kt=[];Me--;){var yt=F[Me];Me&&N&&(yt=Ti(yt,Fr(N))),Ze=Ne(yt.length,Ze),Ye[Me]=!H&&(N||ce>=120&&yt.length>=120)?new Ac(Me&&yt):t}yt=F[0];var Dt=-1,qt=Ye[0];e:for(;++Dt<ce&&kt.length<Ze;){var Jt=yt[Dt],cn=N?N(Jt):Jt;if(Jt=H||Jt!==0?Jt:0,!(qt?ks(qt,cn):ne(kt,cn,H))){for(Me=$e;--Me;){var Mn=Ye[Me];if(!(Mn?ks(Mn,cn):ne(F[Me],cn,H)))continue e}qt&&qt.push(cn),kt.push(Jt)}}return kt}function FH(F,N,H,ne){return Mo(F,function(ce,$e,Me){N(ne,H(ce),$e,Me)}),ne}function tm(F,N,H){N=Cu(N,F),F=FF(F,N);var ne=F==null?F:F[Oo(Nl(N))];return ne==null?t:Ji(ne,F,H)}function R$(F){return lr(F)&&$s(F)==De}function EH(F){return lr(F)&&$s(F)==yi}function CH(F){return lr(F)&&$s(F)==Ue}function nm(F,N,H,ne,ce){return F===N?!0:F==null||N==null||!lr(F)&&!lr(N)?F!==F&&N!==N:DH(F,N,H,ne,nm,ce)}function DH(F,N,H,ne,ce,$e){var Me=Fn(F),Ye=Fn(N),Ze=Me?Be:ns(F),kt=Ye?Be:ns(N);Ze=Ze==De?Pt:Ze,kt=kt==De?Pt:kt;var yt=Ze==Pt,Dt=kt==Pt,qt=Ze==kt;if(qt&&Su(F)){if(!Su(N))return!1;Me=!0,yt=!1}if(qt&&!yt)return $e||($e=new to),Me||sd(F)?gF(F,N,H,ne,ce,$e):eV(F,N,Ze,H,ne,ce,$e);if(!(H&p)){var Jt=yt&&_i.call(F,"__wrapped__"),cn=Dt&&_i.call(N,"__wrapped__");if(Jt||cn){var Mn=Jt?F.value():F,fn=cn?N.value():N;return $e||($e=new to),ce(Mn,fn,H,ne,$e)}}return qt?($e||($e=new to),tV(F,N,H,ne,ce,$e)):!1}function SH(F){return lr(F)&&ns(F)==Tt}function Sv(F,N,H,ne){var ce=H.length,$e=ce,Me=!ne;if(F==null)return!$e;for(F=wi(F);ce--;){var Ye=H[ce];if(Me&&Ye[2]?Ye[1]!==F[Ye[0]]:!(Ye[0]in F))return!1}for(;++ce<$e;){Ye=H[ce];var Ze=Ye[0],kt=F[Ze],yt=Ye[1];if(Me&&Ye[2]){if(kt===t&&!(Ze in F))return!1}else{var Dt=new to;if(ne)var qt=ne(kt,yt,Ze,F,N,Dt);if(!(qt===t?nm(yt,kt,p|g,ne,Dt):qt))return!1}}return!0}function z$(F){if(!ir(F)||cV(F))return!1;var N=Ma(F)?b_:Sl;return N.test(Lc(F))}function TH(F){return lr(F)&&$s(F)==Vn}function AH(F){return lr(F)&&ns(F)==An}function PH(F){return lr(F)&&q_(F.length)&&!!$n[$s(F)]}function j$(F){return typeof F=="function"?F:F==null?Xs:typeof F=="object"?Fn(F)?W$(F[0],F[1]):U$(F):a3(F)}function Tv(F){if(!sm(F))return oe(F);var N=[];for(var H in wi(F))_i.call(F,H)&&H!="constructor"&&N.push(H);return N}function NH(F){if(!ir(F))return mV(F);var N=sm(F),H=[];for(var ne in F)ne=="constructor"&&(N||!_i.call(F,ne))||H.push(ne);return H}function Av(F,N){return F<N}function Y$(F,N){var H=-1,ne=Gs(F)?ut(F.length):[];return Fu(F,function(ce,$e,Me){ne[++H]=N(ce,$e,Me)}),ne}function U$(F){var N=Hv(F);return N.length==1&&N[0][2]?wF(N[0][0],N[0][1]):function(H){return H===F||Sv(H,F,N)}}function W$(F,N){return xv(F)&&yF(N)?wF(Oo(F),N):function(H){var ne=ib(H,F);return ne===t&&ne===N?rb(H,F):nm(N,ne,p|g)}}function S_(F,N,H,ne,ce){F!==N&&Fv(N,function($e,Me){if(ce||(ce=new to),ir($e))MH(F,N,Me,H,S_,ne,ce);else{var Ye=ne?ne(Zv(F,Me),$e,Me+"",F,N,ce):t;Ye===t&&(Ye=$e),wv(F,Me,Ye)}},Zs)}function MH(F,N,H,ne,ce,$e,Me){var Ye=Zv(F,H),Ze=Zv(N,H),kt=Me.get(Ze);if(kt){wv(F,H,kt);return}var yt=$e?$e(Ye,Ze,H+"",F,N,Me):t,Dt=yt===t;if(Dt){var qt=Fn(Ze),Jt=!qt&&Su(Ze),cn=!qt&&!Jt&&sd(Ze);yt=Ze,qt||Jt||cn?Fn(Ye)?yt=Ye:mr(Ye)?yt=xs(Ye):Jt?(Dt=!1,yt=tF(Ze,!0)):cn?(Dt=!1,yt=nF(Ze,!0)):yt=[]:om(Ze)||Oc(Ze)?(yt=Ye,Oc(Ye)?yt=JF(Ye):(!ir(Ye)||Ma(Ye))&&(yt=kF(Ze))):Dt=!1}Dt&&(Me.set(Ze,yt),ce(yt,Ze,ne,$e,Me),Me.delete(Ze)),wv(F,H,yt)}function q$(F,N){var H=F.length;if(!!H)return N+=N<0?H:0,Na(N,H)?F[N]:t}function H$(F,N,H){N.length?N=Ti(N,function($e){return Fn($e)?function(Me){return Nc(Me,$e.length===1?$e[0]:$e)}:$e}):N=[Xs];var ne=-1;N=Ti(N,Fr(an()));var ce=Y$(F,function($e,Me,Ye){var Ze=Ti(N,function(kt){return kt($e)});return{criteria:Ze,index:++ne,value:$e}});return cv(ce,function($e,Me){return VH($e,Me,H)})}function LH(F,N){return V$(F,N,function(H,ne){return rb(F,ne)})}function V$(F,N,H){for(var ne=-1,ce=N.length,$e={};++ne<ce;){var Me=N[ne],Ye=Nc(F,Me);H(Ye,Me)&&im($e,Cu(Me,F),Ye)}return $e}function OH(F){return function(N){return Nc(N,F)}}function Pv(F,N,H,ne){var ce=ne?uv:$a,$e=-1,Me=N.length,Ye=F;for(F===N&&(N=xs(N)),H&&(Ye=Ti(F,Fr(H)));++$e<Me;)for(var Ze=0,kt=N[$e],yt=H?H(kt):kt;(Ze=ce(Ye,yt,Ze,ne))>-1;)Ye!==F&&ed.call(Ye,Ze,1),ed.call(F,Ze,1);return F}function x$(F,N){for(var H=F?N.length:0,ne=H-1;H--;){var ce=N[H];if(H==ne||ce!==$e){var $e=ce;Na(ce)?ed.call(F,ce,1):Ov(F,ce)}}return F}function Nv(F,N){return F+td(wt()*(N-F+1))}function IH(F,N,H,ne){for(var ce=-1,$e=fe(Sc((N-F)/(H||1)),0),Me=ut($e);$e--;)Me[ne?$e:++ce]=F,F+=H;return Me}function Mv(F,N){var H="";if(!F||N<1||N>X)return H;do N%2&&(H+=F),N=td(N/2),N&&(F+=F);while(N);return H}function Bn(F,N){return Xv($F(F,N,Xs),F+"")}function BH(F){return A$(ld(F))}function RH(F,N){var H=ld(F);return R_(H,Pc(N,0,H.length))}function im(F,N,H,ne){if(!ir(F))return F;N=Cu(N,F);for(var ce=-1,$e=N.length,Me=$e-1,Ye=F;Ye!=null&&++ce<$e;){var Ze=Oo(N[ce]),kt=H;if(Ze==="__proto__"||Ze==="constructor"||Ze==="prototype")return F;if(ce!=Me){var yt=Ye[Ze];kt=ne?ne(yt,Ze,Ye):t,kt===t&&(kt=ir(yt)?yt:Na(N[ce+1])?[]:{})}Qh(Ye,Ze,kt),Ye=Ye[Ze]}return F}var G$=ku?function(F,N){return ku.set(F,N),F}:Xs,zH=Dc?function(F,N){return Dc(F,"toString",{configurable:!0,enumerable:!1,value:lb(N),writable:!0})}:Xs;function jH(F){return R_(ld(F))}function Pl(F,N,H){var ne=-1,ce=F.length;N<0&&(N=-N>ce?0:ce+N),H=H>ce?ce:H,H<0&&(H+=ce),ce=N>H?0:H-N>>>0,N>>>=0;for(var $e=ut(ce);++ne<ce;)$e[ne]=F[ne+N];return $e}function YH(F,N){var H;return Fu(F,function(ne,ce,$e){return H=N(ne,ce,$e),!H}),!!H}function T_(F,N,H){var ne=0,ce=F==null?ne:F.length;if(typeof N=="number"&&N===N&&ce<=be){for(;ne<ce;){var $e=ne+ce>>>1,Me=F[$e];Me!==null&&!_l(Me)&&(H?Me<=N:Me<N)?ne=$e+1:ce=$e}return ce}return Lv(F,N,Xs,H)}function Lv(F,N,H,ne){var ce=0,$e=F==null?0:F.length;if($e===0)return 0;N=H(N);for(var Me=N!==N,Ye=N===null,Ze=_l(N),kt=N===t;ce<$e;){var yt=td((ce+$e)/2),Dt=H(F[yt]),qt=Dt!==t,Jt=Dt===null,cn=Dt===Dt,Mn=_l(Dt);if(Me)var fn=ne||cn;else kt?fn=cn&&(ne||qt):Ye?fn=cn&&qt&&(ne||!Jt):Ze?fn=cn&&qt&&!Jt&&(ne||!Mn):Jt||Mn?fn=!1:fn=ne?Dt<=N:Dt<N;fn?ce=yt+1:$e=yt}return Ne($e,re)}function Z$(F,N){for(var H=-1,ne=F.length,ce=0,$e=[];++H<ne;){var Me=F[H],Ye=N?N(Me):Me;if(!H||!no(Ye,Ze)){var Ze=Ye;$e[ce++]=Me===0?0:Me}}return $e}function X$(F){return typeof F=="number"?F:_l(F)?te:+F}function pl(F){if(typeof F=="string")return F;if(Fn(F))return Ti(F,pl)+"";if(_l(F))return F_?F_.call(F):"";var N=F+"";return N=="0"&&1/F==-G?"-0":N}function Eu(F,N,H){var ne=-1,ce=jf,$e=F.length,Me=!0,Ye=[],Ze=Ye;if(H)Me=!1,ce=Uh;else if($e>=r){var kt=N?null:JH(F);if(kt)return Vf(kt);Me=!1,ce=ks,Ze=new Ac}else Ze=N?[]:Ye;e:for(;++ne<$e;){var yt=F[ne],Dt=N?N(yt):yt;if(yt=H||yt!==0?yt:0,Me&&Dt===Dt){for(var qt=Ze.length;qt--;)if(Ze[qt]===Dt)continue e;N&&Ze.push(Dt),Ye.push(yt)}else ce(Ze,Dt,H)||(Ze!==Ye&&Ze.push(Dt),Ye.push(yt))}return Ye}function Ov(F,N){return N=Cu(N,F),F=FF(F,N),F==null||delete F[Oo(Nl(N))]}function K$(F,N,H,ne){return im(F,N,H(Nc(F,N)),ne)}function A_(F,N,H,ne){for(var ce=F.length,$e=ne?ce:-1;(ne?$e--:++$e<ce)&&N(F[$e],$e,F););return H?Pl(F,ne?0:$e,ne?$e+1:ce):Pl(F,ne?$e+1:0,ne?ce:$e)}function J$(F,N){var H=F;return H instanceof Yn&&(H=H.value()),Yf(N,function(ne,ce){return ce.func.apply(ce.thisArg,Co([ne],ce.args))},H)}function Iv(F,N,H){var ne=F.length;if(ne<2)return ne?Eu(F[0]):[];for(var ce=-1,$e=ut(ne);++ce<ne;)for(var Me=F[ce],Ye=-1;++Ye<ne;)Ye!=ce&&($e[ce]=em($e[ce]||Me,F[Ye],N,H));return Eu(Vr($e,1),N,H)}function Q$(F,N,H){for(var ne=-1,ce=F.length,$e=N.length,Me={};++ne<ce;){var Ye=ne<$e?N[ne]:t;H(Me,F[ne],Ye)}return Me}function Bv(F){return mr(F)?F:[]}function Rv(F){return typeof F=="function"?F:Xs}function Cu(F,N){return Fn(F)?F:xv(F,N)?[F]:SF(bi(F))}var UH=Bn;function Du(F,N,H){var ne=F.length;return H=H===t?ne:H,!N&&H>=ne?F:Pl(F,N,H)}var eF=k_||function(F){return Or.clearTimeout(F)};function tF(F,N){if(N)return F.slice();var H=F.length,ne=Cc?Cc(H):new F.constructor(H);return F.copy(ne),ne}function zv(F){var N=new F.constructor(F.byteLength);return new Qf(N).set(new Qf(F)),N}function WH(F,N){var H=N?zv(F.buffer):F.buffer;return new F.constructor(H,F.byteOffset,F.byteLength)}function qH(F){var N=new F.constructor(F.source,Rr.exec(F));return N.lastIndex=F.lastIndex,N}function HH(F){return No?wi(No.call(F)):{}}function nF(F,N){var H=N?zv(F.buffer):F.buffer;return new F.constructor(H,F.byteOffset,F.length)}function iF(F,N){if(F!==N){var H=F!==t,ne=F===null,ce=F===F,$e=_l(F),Me=N!==t,Ye=N===null,Ze=N===N,kt=_l(N);if(!Ye&&!kt&&!$e&&F>N||$e&&Me&&Ze&&!Ye&&!kt||ne&&Me&&Ze||!H&&Ze||!ce)return 1;if(!ne&&!$e&&!kt&&F<N||kt&&H&&ce&&!ne&&!$e||Ye&&H&&ce||!Me&&ce||!Ze)return-1}return 0}function VH(F,N,H){for(var ne=-1,ce=F.criteria,$e=N.criteria,Me=ce.length,Ye=H.length;++ne<Me;){var Ze=iF(ce[ne],$e[ne]);if(Ze){if(ne>=Ye)return Ze;var kt=H[ne];return Ze*(kt=="desc"?-1:1)}}return F.index-N.index}function rF(F,N,H,ne){for(var ce=-1,$e=F.length,Me=H.length,Ye=-1,Ze=N.length,kt=fe($e-Me,0),yt=ut(Ze+kt),Dt=!ne;++Ye<Ze;)yt[Ye]=N[Ye];for(;++ce<Me;)(Dt||ce<$e)&&(yt[H[ce]]=F[ce]);for(;kt--;)yt[Ye++]=F[ce++];return yt}function sF(F,N,H,ne){for(var ce=-1,$e=F.length,Me=-1,Ye=H.length,Ze=-1,kt=N.length,yt=fe($e-Ye,0),Dt=ut(yt+kt),qt=!ne;++ce<yt;)Dt[ce]=F[ce];for(var Jt=ce;++Ze<kt;)Dt[Jt+Ze]=N[Ze];for(;++Me<Ye;)(qt||ce<$e)&&(Dt[Jt+H[Me]]=F[ce++]);return Dt}function xs(F,N){var H=-1,ne=F.length;for(N||(N=ut(ne));++H<ne;)N[H]=F[H];return N}function Lo(F,N,H,ne){var ce=!H;H||(H={});for(var $e=-1,Me=N.length;++$e<Me;){var Ye=N[$e],Ze=ne?ne(H[Ye],F[Ye],Ye,H,F):t;Ze===t&&(Ze=F[Ye]),ce?Ta(H,Ye,Ze):Qh(H,Ye,Ze)}return H}function xH(F,N){return Lo(F,Vv(F),N)}function GH(F,N){return Lo(F,vF(F),N)}function P_(F,N){return function(H,ne){var ce=Fn(H)?ov:_H,$e=N?N():{};return ce(H,F,an(ne,2),$e)}}function nd(F){return Bn(function(N,H){var ne=-1,ce=H.length,$e=ce>1?H[ce-1]:t,Me=ce>2?H[2]:t;for($e=F.length>3&&typeof $e=="function"?(ce--,$e):t,Me&&Fs(H[0],H[1],Me)&&($e=ce<3?t:$e,ce=1),N=wi(N);++ne<ce;){var Ye=H[ne];Ye&&F(N,Ye,ne,$e)}return N})}function lF(F,N){return function(H,ne){if(H==null)return H;if(!Gs(H))return F(H,ne);for(var ce=H.length,$e=N?ce:-1,Me=wi(H);(N?$e--:++$e<ce)&&ne(Me[$e],$e,Me)!==!1;);return H}}function oF(F){return function(N,H,ne){for(var ce=-1,$e=wi(N),Me=ne(N),Ye=Me.length;Ye--;){var Ze=Me[F?Ye:++ce];if(H($e[Ze],Ze,$e)===!1)break}return N}}function ZH(F,N,H){var ne=N&k,ce=rm(F);function $e(){var Me=this&&this!==Or&&this instanceof $e?ce:F;return Me.apply(ne?H:this,arguments)}return $e}function aF(F){return function(N){N=bi(N);var H=ys(N)?Ys(N):t,ne=H?H[0]:N.charAt(0),ce=H?Du(H,1).join(""):N.slice(1);return ne[F]()+ce}}function id(F){return function(N){return Yf(l3(s3(N).replace(Si,"")),F,"")}}function rm(F){return function(){var N=arguments;switch(N.length){case 0:return new F;case 1:return new F(N[0]);case 2:return new F(N[0],N[1]);case 3:return new F(N[0],N[1],N[2]);case 4:return new F(N[0],N[1],N[2],N[3]);case 5:return new F(N[0],N[1],N[2],N[3],N[4]);case 6:return new F(N[0],N[1],N[2],N[3],N[4],N[5]);case 7:return new F(N[0],N[1],N[2],N[3],N[4],N[5],N[6])}var H=wu(F.prototype),ne=F.apply(H,N);return ir(ne)?ne:H}}function XH(F,N,H){var ne=rm(F);function ce(){for(var $e=arguments.length,Me=ut($e),Ye=$e,Ze=rd(ce);Ye--;)Me[Ye]=arguments[Ye];var kt=$e<3&&Me[0]!==Ze&&Me[$e-1]!==Ze?[]:Yr(Me,Ze);if($e-=kt.length,$e<H)return hF(F,N,N_,ce.placeholder,t,Me,kt,t,t,H-$e);var yt=this&&this!==Or&&this instanceof ce?ne:F;return Ji(yt,this,Me)}return ce}function uF(F){return function(N,H,ne){var ce=wi(N);if(!Gs(N)){var $e=an(H,3);N=Ur(N),H=function(Ye){return $e(ce[Ye],Ye,ce)}}var Me=F(N,H,ne);return Me>-1?ce[$e?N[Me]:Me]:t}}function cF(F){return Pa(function(N){var H=N.length,ne=H,ce=ws.prototype.thru;for(F&&N.reverse();ne--;){var $e=N[ne];if(typeof $e!="function")throw new Ws(l);if(ce&&!Me&&I_($e)=="wrapper")var Me=new ws([],!0)}for(ne=Me?ne:H;++ne<H;){$e=N[ne];var Ye=I_($e),Ze=Ye=="wrapper"?qv($e):t;Ze&&Gv(Ze[0])&&Ze[1]==(R|E|T|Y)&&!Ze[4].length&&Ze[9]==1?Me=Me[I_(Ze[0])].apply(Me,Ze[3]):Me=$e.length==1&&Gv($e)?Me[Ye]():Me.thru($e)}return function(){var kt=arguments,yt=kt[0];if(Me&&kt.length==1&&Fn(yt))return Me.plant(yt).value();for(var Dt=0,qt=H?N[Dt].apply(this,kt):yt;++Dt<H;)qt=N[Dt].call(this,qt);return qt}})}function N_(F,N,H,ne,ce,$e,Me,Ye,Ze,kt){var yt=N&R,Dt=N&k,qt=N&$,Jt=N&(E|S),cn=N&z,Mn=qt?t:rm(F);function fn(){for(var Hn=arguments.length,Qn=ut(Hn),gl=Hn;gl--;)Qn[gl]=arguments[gl];if(Jt)var Es=rd(fn),vl=dv(Qn,Es);if(ne&&(Qn=rF(Qn,ne,ce,Jt)),$e&&(Qn=sF(Qn,$e,Me,Jt)),Hn-=vl,Jt&&Hn<kt){var pr=Yr(Qn,Es);return hF(F,N,N_,fn.placeholder,H,Qn,pr,Ye,Ze,kt-Hn)}var io=Dt?H:this,Oa=qt?io[F]:F;return Hn=Qn.length,Ye?Qn=_V(Qn,Ye):cn&&Hn>1&&Qn.reverse(),yt&&Ze<Hn&&(Qn.length=Ze),this&&this!==Or&&this instanceof fn&&(Oa=Mn||rm(Oa)),Oa.apply(io,Qn)}return fn}function fF(F,N){return function(H,ne){return FH(H,F,N(ne),{})}}function M_(F,N){return function(H,ne){var ce;if(H===t&&ne===t)return N;if(H!==t&&(ce=H),ne!==t){if(ce===t)return ne;typeof H=="string"||typeof ne=="string"?(H=pl(H),ne=pl(ne)):(H=X$(H),ne=X$(ne)),ce=F(H,ne)}return ce}}function jv(F){return Pa(function(N){return N=Ti(N,Fr(an())),Bn(function(H){var ne=this;return F(N,function(ce){return Ji(ce,ne,H)})})})}function L_(F,N){N=N===t?" ":pl(N);var H=N.length;if(H<2)return H?Mv(N,F):N;var ne=Mv(N,Sc(F/Ql(N)));return ys(N)?Du(Ys(ne),0,F).join(""):ne.slice(0,F)}function KH(F,N,H,ne){var ce=N&k,$e=rm(F);function Me(){for(var Ye=-1,Ze=arguments.length,kt=-1,yt=ne.length,Dt=ut(yt+Ze),qt=this&&this!==Or&&this instanceof Me?$e:F;++kt<yt;)Dt[kt]=ne[kt];for(;Ze--;)Dt[kt++]=arguments[++Ye];return Ji(qt,ce?H:this,Dt)}return Me}function dF(F){return function(N,H,ne){return ne&&typeof ne!="number"&&Fs(N,H,ne)&&(H=ne=t),N=La(N),H===t?(H=N,N=0):H=La(H),ne=ne===t?N<H?1:-1:La(ne),IH(N,H,ne,F)}}function O_(F){return function(N,H){return typeof N=="string"&&typeof H=="string"||(N=Ml(N),H=Ml(H)),F(N,H)}}function hF(F,N,H,ne,ce,$e,Me,Ye,Ze,kt){var yt=N&E,Dt=yt?Me:t,qt=yt?t:Me,Jt=yt?$e:t,cn=yt?t:$e;N|=yt?T:M,N&=~(yt?M:T),N&C||(N&=~(k|$));var Mn=[F,N,ce,Jt,Dt,cn,qt,Ye,Ze,kt],fn=H.apply(t,Mn);return Gv(F)&&EF(fn,Mn),fn.placeholder=ne,CF(fn,F,N)}function Yv(F){var N=sr[F];return function(H,ne){if(H=Ml(H),ne=ne==null?0:Ne(Nn(ne),292),ne&&U(H)){var ce=(bi(H)+"e").split("e"),$e=N(ce[0]+"e"+(+ce[1]+ne));return ce=(bi($e)+"e").split("e"),+(ce[0]+"e"+(+ce[1]-ne))}return N(H)}}var JH=Hs&&1/Vf(new Hs([,-0]))[1]==G?function(F){return new Hs(F)}:ub;function mF(F){return function(N){var H=ns(N);return H==Tt?$c(N):H==An?_u(N):fv(N,F(N))}}function Aa(F,N,H,ne,ce,$e,Me,Ye){var Ze=N&$;if(!Ze&&typeof F!="function")throw new Ws(l);var kt=ne?ne.length:0;if(kt||(N&=~(T|M),ne=ce=t),Me=Me===t?Me:fe(Nn(Me),0),Ye=Ye===t?Ye:Nn(Ye),kt-=ce?ce.length:0,N&M){var yt=ne,Dt=ce;ne=ce=t}var qt=Ze?t:qv(F),Jt=[F,N,H,ne,ce,yt,Dt,$e,Me,Ye];if(qt&&hV(Jt,qt),F=Jt[0],N=Jt[1],H=Jt[2],ne=Jt[3],ce=Jt[4],Ye=Jt[9]=Jt[9]===t?Ze?0:F.length:fe(Jt[9]-kt,0),!Ye&&N&(E|S)&&(N&=~(E|S)),!N||N==k)var cn=ZH(F,N,H);else N==E||N==S?cn=XH(F,N,Ye):(N==T||N==(k|T))&&!ce.length?cn=KH(F,N,H,ne):cn=N_.apply(t,Jt);var Mn=qt?G$:EF;return CF(Mn(cn,Jt),F,N)}function pF(F,N,H,ne){return F===t||no(F,Ca[H])&&!_i.call(ne,H)?N:F}function _F(F,N,H,ne,ce,$e){return ir(F)&&ir(N)&&($e.set(N,F),S_(F,N,t,_F,$e),$e.delete(N)),F}function QH(F){return om(F)?t:F}function gF(F,N,H,ne,ce,$e){var Me=H&p,Ye=F.length,Ze=N.length;if(Ye!=Ze&&!(Me&&Ze>Ye))return!1;var kt=$e.get(F),yt=$e.get(N);if(kt&&yt)return kt==N&&yt==F;var Dt=-1,qt=!0,Jt=H&g?new Ac:t;for($e.set(F,N),$e.set(N,F);++Dt<Ye;){var cn=F[Dt],Mn=N[Dt];if(ne)var fn=Me?ne(Mn,cn,Dt,N,F,$e):ne(cn,Mn,Dt,F,N,$e);if(fn!==t){if(fn)continue;qt=!1;break}if(Jt){if(!pu(N,function(Hn,Qn){if(!ks(Jt,Qn)&&(cn===Hn||ce(cn,Hn,H,ne,$e)))return Jt.push(Qn)})){qt=!1;break}}else if(!(cn===Mn||ce(cn,Mn,H,ne,$e))){qt=!1;break}}return $e.delete(F),$e.delete(N),qt}function eV(F,N,H,ne,ce,$e,Me){switch(H){case Ke:if(F.byteLength!=N.byteLength||F.byteOffset!=N.byteOffset)return!1;F=F.buffer,N=N.buffer;case yi:return!(F.byteLength!=N.byteLength||!$e(new Qf(F),new Qf(N)));case ke:case Ue:case It:return no(+F,+N);case vt:return F.name==N.name&&F.message==N.message;case Vn:case xn:return F==N+"";case Tt:var Ye=$c;case An:var Ze=ne&p;if(Ye||(Ye=Vf),F.size!=N.size&&!Ze)return!1;var kt=Me.get(F);if(kt)return kt==N;ne|=g,Me.set(F,N);var yt=gF(Ye(F),Ye(N),ne,ce,$e,Me);return Me.delete(F),yt;case In:if(No)return No.call(F)==No.call(N)}return!1}function tV(F,N,H,ne,ce,$e){var Me=H&p,Ye=Uv(F),Ze=Ye.length,kt=Uv(N),yt=kt.length;if(Ze!=yt&&!Me)return!1;for(var Dt=Ze;Dt--;){var qt=Ye[Dt];if(!(Me?qt in N:_i.call(N,qt)))return!1}var Jt=$e.get(F),cn=$e.get(N);if(Jt&&cn)return Jt==N&&cn==F;var Mn=!0;$e.set(F,N),$e.set(N,F);for(var fn=Me;++Dt<Ze;){qt=Ye[Dt];var Hn=F[qt],Qn=N[qt];if(ne)var gl=Me?ne(Qn,Hn,qt,N,F,$e):ne(Hn,Qn,qt,F,N,$e);if(!(gl===t?Hn===Qn||ce(Hn,Qn,H,ne,$e):gl)){Mn=!1;break}fn||(fn=qt=="constructor")}if(Mn&&!fn){var Es=F.constructor,vl=N.constructor;Es!=vl&&"constructor"in F&&"constructor"in N&&!(typeof Es=="function"&&Es instanceof Es&&typeof vl=="function"&&vl instanceof vl)&&(Mn=!1)}return $e.delete(F),$e.delete(N),Mn}function Pa(F){return Xv($F(F,t,NF),F+"")}function Uv(F){return B$(F,Ur,Vv)}function Wv(F){return B$(F,Zs,vF)}var qv=ku?function(F){return ku.get(F)}:ub;function I_(F){for(var N=F.name+"",H=yu[N],ne=_i.call(yu,N)?H.length:0;ne--;){var ce=H[ne],$e=ce.func;if($e==null||$e==F)return ce.name}return N}function rd(F){var N=_i.call(ve,"placeholder")?ve:F;return N.placeholder}function an(){var F=ve.iteratee||ob;return F=F===ob?j$:F,arguments.length?F(arguments[0],arguments[1]):F}function B_(F,N){var H=F.__data__;return uV(N)?H[typeof N=="string"?"string":"hash"]:H.map}function Hv(F){for(var N=Ur(F),H=N.length;H--;){var ne=N[H],ce=F[ne];N[H]=[ne,ce,yF(ce)]}return N}function Mc(F,N){var H=hv(F,N);return z$(H)?H:t}function nV(F){var N=_i.call(F,Ao),H=F[Ao];try{F[Ao]=t;var ne=!0}catch{}var ce=Fc.call(F);return ne&&(N?F[Ao]=H:delete F[Ao]),ce}var Vv=b?function(F){return F==null?[]:(F=wi(F),Kl(b(F),function(N){return Kh.call(F,N)}))}:cb,vF=b?function(F){for(var N=[];F;)Co(N,Vv(F)),F=To(F);return N}:cb,ns=$s;(un&&ns(new un(new ArrayBuffer(1)))!=Ke||Dn&&ns(new Dn)!=Tt||ts&&ns(ts.resolve())!=sn||Hs&&ns(new Hs)!=An||Po&&ns(new Po)!=mt)&&(ns=function(F){var N=$s(F),H=N==Pt?F.constructor:t,ne=H?Lc(H):"";if(ne)switch(ne){case bv:return Ke;case kv:return Tt;case w_:return sn;case yv:return An;case $_:return mt}return N});function iV(F,N,H){for(var ne=-1,ce=H.length;++ne<ce;){var $e=H[ne],Me=$e.size;switch($e.type){case"drop":F+=Me;break;case"dropRight":N-=Me;break;case"take":N=Ne(N,F+Me);break;case"takeRight":F=fe(F,N-Me);break}}return{start:F,end:N}}function rV(F){var N=F.match(Ki);return N?N[1].split(Cn):[]}function bF(F,N,H){N=Cu(N,F);for(var ne=-1,ce=N.length,$e=!1;++ne<ce;){var Me=Oo(N[ne]);if(!($e=F!=null&&H(F,Me)))break;F=F[Me]}return $e||++ne!=ce?$e:(ce=F==null?0:F.length,!!ce&&q_(ce)&&Na(Me,ce)&&(Fn(F)||Oc(F)))}function sV(F){var N=F.length,H=new F.constructor(N);return N&&typeof F[0]=="string"&&_i.call(F,"index")&&(H.index=F.index,H.input=F.input),H}function kF(F){return typeof F.constructor=="function"&&!sm(F)?wu(To(F)):{}}function lV(F,N,H){var ne=F.constructor;switch(N){case yi:return zv(F);case ke:case Ue:return new ne(+F);case Ke:return WH(F,H);case Pr:case Nr:case yr:case ul:case ot:case Xt:case yn:case jn:case ji:return nF(F,H);case Tt:return new ne;case It:case xn:return new ne(F);case Vn:return qH(F);case An:return new ne;case In:return HH(F)}}function oV(F,N){var H=N.length;if(!H)return F;var ne=H-1;return N[ne]=(H>1?"& ":"")+N[ne],N=N.join(H>2?", ":" "),F.replace(Rt,`{
/* [wrapped with `+N+`] */
`)}function aV(F){return Fn(F)||Oc(F)||!!(Jh&&F&&F[Jh])}function Na(F,N){var H=typeof F;return N=N==null?X:N,!!N&&(H=="number"||H!="symbol"&&ga.test(F))&&F>-1&&F%1==0&&F<N}function Fs(F,N,H){if(!ir(H))return!1;var ne=typeof N;return(ne=="number"?Gs(H)&&Na(N,H.length):ne=="string"&&N in H)?no(H[N],F):!1}function xv(F,N){if(Fn(F))return!1;var H=typeof F;return H=="number"||H=="symbol"||H=="boolean"||F==null||_l(F)?!0:_e.test(F)||!cu.test(F)||N!=null&&F in wi(N)}function uV(F){var N=typeof F;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?F!=="__proto__":F===null}function Gv(F){var N=I_(F),H=ve[N];if(typeof H!="function"||!(N in Yn.prototype))return!1;if(F===H)return!0;var ne=qv(H);return!!ne&&F===ne[0]}function cV(F){return!!Zh&&Zh in F}var fV=Jf?Ma:fb;function sm(F){var N=F&&F.constructor,H=typeof N=="function"&&N.prototype||Ca;return F===H}function yF(F){return F===F&&!ir(F)}function wF(F,N){return function(H){return H==null?!1:H[F]===N&&(N!==t||F in wi(H))}}function dV(F){var N=U_(F,function(ne){return H.size===u&&H.clear(),ne}),H=N.cache;return N}function hV(F,N){var H=F[1],ne=N[1],ce=H|ne,$e=ce<(k|$|R),Me=ne==R&&H==E||ne==R&&H==Y&&F[7].length<=N[8]||ne==(R|Y)&&N[7].length<=N[8]&&H==E;if(!($e||Me))return F;ne&k&&(F[2]=N[2],ce|=H&k?0:C);var Ye=N[3];if(Ye){var Ze=F[3];F[3]=Ze?rF(Ze,Ye,N[4]):Ye,F[4]=Ze?Yr(F[3],c):N[4]}return Ye=N[5],Ye&&(Ze=F[5],F[5]=Ze?sF(Ze,Ye,N[6]):Ye,F[6]=Ze?Yr(F[5],c):N[6]),Ye=N[7],Ye&&(F[7]=Ye),ne&R&&(F[8]=F[8]==null?N[8]:Ne(F[8],N[8])),F[9]==null&&(F[9]=N[9]),F[0]=N[0],F[1]=ce,F}function mV(F){var N=[];if(F!=null)for(var H in wi(F))N.push(H);return N}function pV(F){return Fc.call(F)}function $F(F,N,H){return N=fe(N===t?F.length-1:N,0),function(){for(var ne=arguments,ce=-1,$e=fe(ne.length-N,0),Me=ut($e);++ce<$e;)Me[ce]=ne[N+ce];ce=-1;for(var Ye=ut(N+1);++ce<N;)Ye[ce]=ne[ce];return Ye[N]=H(Me),Ji(F,this,Ye)}}function FF(F,N){return N.length<2?F:Nc(F,Pl(N,0,-1))}function _V(F,N){for(var H=F.length,ne=Ne(N.length,H),ce=xs(F);ne--;){var $e=N[ne];F[ne]=Na($e,H)?ce[$e]:t}return F}function Zv(F,N){if(!(N==="constructor"&&typeof F[N]=="function")&&N!="__proto__")return F[N]}var EF=DF(G$),lm=y_||function(F,N){return Or.setTimeout(F,N)},Xv=DF(zH);function CF(F,N,H){var ne=N+"";return Xv(F,oV(ne,gV(rV(ne),H)))}function DF(F){var N=0,H=0;return function(){var ne=Xe(),ce=ee-(ne-H);if(H=ne,ce>0){if(++N>=x)return arguments[0]}else N=0;return F.apply(t,arguments)}}function R_(F,N){var H=-1,ne=F.length,ce=ne-1;for(N=N===t?ne:N;++H<N;){var $e=Nv(H,ce),Me=F[$e];F[$e]=F[H],F[H]=Me}return F.length=N,F}var SF=dV(function(F){var N=[];return F.charCodeAt(0)===46&&N.push(""),F.replace(Pe,function(H,ne,ce,$e){N.push(ce?$e.replace($o,"$1"):ne||H)}),N});function Oo(F){if(typeof F=="string"||_l(F))return F;var N=F+"";return N=="0"&&1/F==-G?"-0":N}function Lc(F){if(F!=null){try{return So.call(F)}catch{}try{return F+""}catch{}}return""}function gV(F,N){return vs(we,function(H){var ne="_."+H[0];N&H[1]&&!jf(F,ne)&&F.push(ne)}),F.sort()}function TF(F){if(F instanceof Yn)return F.clone();var N=new ws(F.__wrapped__,F.__chain__);return N.__actions__=xs(F.__actions__),N.__index__=F.__index__,N.__values__=F.__values__,N}function vV(F,N,H){(H?Fs(F,N,H):N===t)?N=1:N=fe(Nn(N),0);var ne=F==null?0:F.length;if(!ne||N<1)return[];for(var ce=0,$e=0,Me=ut(Sc(ne/N));ce<ne;)Me[$e++]=Pl(F,ce,ce+=N);return Me}function bV(F){for(var N=-1,H=F==null?0:F.length,ne=0,ce=[];++N<H;){var $e=F[N];$e&&(ce[ne++]=$e)}return ce}function kV(){var F=arguments.length;if(!F)return[];for(var N=ut(F-1),H=arguments[0],ne=F;ne--;)N[ne-1]=arguments[ne];return Co(Fn(H)?xs(H):[H],Vr(N,1))}var yV=Bn(function(F,N){return mr(F)?em(F,Vr(N,1,mr,!0)):[]}),wV=Bn(function(F,N){var H=Nl(N);return mr(H)&&(H=t),mr(F)?em(F,Vr(N,1,mr,!0),an(H,2)):[]}),$V=Bn(function(F,N){var H=Nl(N);return mr(H)&&(H=t),mr(F)?em(F,Vr(N,1,mr,!0),t,H):[]});function FV(F,N,H){var ne=F==null?0:F.length;return ne?(N=H||N===t?1:Nn(N),Pl(F,N<0?0:N,ne)):[]}function EV(F,N,H){var ne=F==null?0:F.length;return ne?(N=H||N===t?1:Nn(N),N=ne-N,Pl(F,0,N<0?0:N)):[]}function CV(F,N){return F&&F.length?A_(F,an(N,3),!0,!0):[]}function DV(F,N){return F&&F.length?A_(F,an(N,3),!0):[]}function SV(F,N,H,ne){var ce=F==null?0:F.length;return ce?(H&&typeof H!="number"&&Fs(F,N,H)&&(H=0,ne=ce),kH(F,N,H,ne)):[]}function AF(F,N,H){var ne=F==null?0:F.length;if(!ne)return-1;var ce=H==null?0:Nn(H);return ce<0&&(ce=fe(ne+ce,0)),kc(F,an(N,3),ce)}function PF(F,N,H){var ne=F==null?0:F.length;if(!ne)return-1;var ce=ne-1;return H!==t&&(ce=Nn(H),ce=H<0?fe(ne+ce,0):Ne(ce,ne-1)),kc(F,an(N,3),ce,!0)}function NF(F){var N=F==null?0:F.length;return N?Vr(F,1):[]}function TV(F){var N=F==null?0:F.length;return N?Vr(F,G):[]}function AV(F,N){var H=F==null?0:F.length;return H?(N=N===t?1:Nn(N),Vr(F,N)):[]}function PV(F){for(var N=-1,H=F==null?0:F.length,ne={};++N<H;){var ce=F[N];ne[ce[0]]=ce[1]}return ne}function MF(F){return F&&F.length?F[0]:t}function NV(F,N,H){var ne=F==null?0:F.length;if(!ne)return-1;var ce=H==null?0:Nn(H);return ce<0&&(ce=fe(ne+ce,0)),$a(F,N,ce)}function MV(F){var N=F==null?0:F.length;return N?Pl(F,0,-1):[]}var LV=Bn(function(F){var N=Ti(F,Bv);return N.length&&N[0]===F[0]?Dv(N):[]}),OV=Bn(function(F){var N=Nl(F),H=Ti(F,Bv);return N===Nl(H)?N=t:H.pop(),H.length&&H[0]===F[0]?Dv(H,an(N,2)):[]}),IV=Bn(function(F){var N=Nl(F),H=Ti(F,Bv);return N=typeof N=="function"?N:t,N&&H.pop(),H.length&&H[0]===F[0]?Dv(H,t,N):[]});function BV(F,N){return F==null?"":Q.call(F,N)}function Nl(F){var N=F==null?0:F.length;return N?F[N-1]:t}function RV(F,N,H){var ne=F==null?0:F.length;if(!ne)return-1;var ce=ne;return H!==t&&(ce=Nn(H),ce=ce<0?fe(ne+ce,0):Ne(ce,ne-1)),N===N?Jl(F,N,ce):kc(F,Wh,ce,!0)}function zV(F,N){return F&&F.length?q$(F,Nn(N)):t}var jV=Bn(LF);function LF(F,N){return F&&F.length&&N&&N.length?Pv(F,N):F}function YV(F,N,H){return F&&F.length&&N&&N.length?Pv(F,N,an(H,2)):F}function UV(F,N,H){return F&&F.length&&N&&N.length?Pv(F,N,t,H):F}var WV=Pa(function(F,N){var H=F==null?0:F.length,ne=$v(F,N);return x$(F,Ti(N,function(ce){return Na(ce,H)?+ce:ce}).sort(iF)),ne});function qV(F,N){var H=[];if(!(F&&F.length))return H;var ne=-1,ce=[],$e=F.length;for(N=an(N,3);++ne<$e;){var Me=F[ne];N(Me,ne,F)&&(H.push(Me),ce.push(ne))}return x$(F,ce),H}function Kv(F){return F==null?F:Vt.call(F)}function HV(F,N,H){var ne=F==null?0:F.length;return ne?(H&&typeof H!="number"&&Fs(F,N,H)?(N=0,H=ne):(N=N==null?0:Nn(N),H=H===t?ne:Nn(H)),Pl(F,N,H)):[]}function VV(F,N){return T_(F,N)}function xV(F,N,H){return Lv(F,N,an(H,2))}function GV(F,N){var H=F==null?0:F.length;if(H){var ne=T_(F,N);if(ne<H&&no(F[ne],N))return ne}return-1}function ZV(F,N){return T_(F,N,!0)}function XV(F,N,H){return Lv(F,N,an(H,2),!0)}function KV(F,N){var H=F==null?0:F.length;if(H){var ne=T_(F,N,!0)-1;if(no(F[ne],N))return ne}return-1}function JV(F){return F&&F.length?Z$(F):[]}function QV(F,N){return F&&F.length?Z$(F,an(N,2)):[]}function ex(F){var N=F==null?0:F.length;return N?Pl(F,1,N):[]}function tx(F,N,H){return F&&F.length?(N=H||N===t?1:Nn(N),Pl(F,0,N<0?0:N)):[]}function nx(F,N,H){var ne=F==null?0:F.length;return ne?(N=H||N===t?1:Nn(N),N=ne-N,Pl(F,N<0?0:N,ne)):[]}function ix(F,N){return F&&F.length?A_(F,an(N,3),!1,!0):[]}function rx(F,N){return F&&F.length?A_(F,an(N,3)):[]}var sx=Bn(function(F){return Eu(Vr(F,1,mr,!0))}),lx=Bn(function(F){var N=Nl(F);return mr(N)&&(N=t),Eu(Vr(F,1,mr,!0),an(N,2))}),ox=Bn(function(F){var N=Nl(F);return N=typeof N=="function"?N:t,Eu(Vr(F,1,mr,!0),t,N)});function ax(F){return F&&F.length?Eu(F):[]}function ux(F,N){return F&&F.length?Eu(F,an(N,2)):[]}function cx(F,N){return N=typeof N=="function"?N:t,F&&F.length?Eu(F,t,N):[]}function Jv(F){if(!(F&&F.length))return[];var N=0;return F=Kl(F,function(H){if(mr(H))return N=fe(H.length,N),!0}),Wf(N,function(H){return Ti(F,Hh(H))})}function OF(F,N){if(!(F&&F.length))return[];var H=Jv(F);return N==null?H:Ti(H,function(ne){return Ji(N,t,ne)})}var fx=Bn(function(F,N){return mr(F)?em(F,N):[]}),dx=Bn(function(F){return Iv(Kl(F,mr))}),hx=Bn(function(F){var N=Nl(F);return mr(N)&&(N=t),Iv(Kl(F,mr),an(N,2))}),mx=Bn(function(F){var N=Nl(F);return N=typeof N=="function"?N:t,Iv(Kl(F,mr),t,N)}),px=Bn(Jv);function _x(F,N){return Q$(F||[],N||[],Qh)}function gx(F,N){return Q$(F||[],N||[],im)}var vx=Bn(function(F){var N=F.length,H=N>1?F[N-1]:t;return H=typeof H=="function"?(F.pop(),H):t,OF(F,H)});function IF(F){var N=ve(F);return N.__chain__=!0,N}function bx(F,N){return N(F),F}function z_(F,N){return N(F)}var kx=Pa(function(F){var N=F.length,H=N?F[0]:0,ne=this.__wrapped__,ce=function($e){return $v($e,F)};return N>1||this.__actions__.length||!(ne instanceof Yn)||!Na(H)?this.thru(ce):(ne=ne.slice(H,+H+(N?1:0)),ne.__actions__.push({func:z_,args:[ce],thisArg:t}),new ws(ne,this.__chain__).thru(function($e){return N&&!$e.length&&$e.push(t),$e}))});function yx(){return IF(this)}function wx(){return new ws(this.value(),this.__chain__)}function $x(){this.__values__===t&&(this.__values__=XF(this.value()));var F=this.__index__>=this.__values__.length,N=F?t:this.__values__[this.__index__++];return{done:F,value:N}}function Fx(){return this}function Ex(F){for(var N,H=this;H instanceof $u;){var ne=TF(H);ne.__index__=0,ne.__values__=t,N?ce.__wrapped__=ne:N=ne;var ce=ne;H=H.__wrapped__}return ce.__wrapped__=F,N}function Cx(){var F=this.__wrapped__;if(F instanceof Yn){var N=F;return this.__actions__.length&&(N=new Yn(this)),N=N.reverse(),N.__actions__.push({func:z_,args:[Kv],thisArg:t}),new ws(N,this.__chain__)}return this.thru(Kv)}function Dx(){return J$(this.__wrapped__,this.__actions__)}var Sx=P_(function(F,N,H){_i.call(F,H)?++F[H]:Ta(F,H,1)});function Tx(F,N,H){var ne=Fn(F)?Yh:bH;return H&&Fs(F,N,H)&&(N=t),ne(F,an(N,3))}function Ax(F,N){var H=Fn(F)?Kl:O$;return H(F,an(N,3))}var Px=uF(AF),Nx=uF(PF);function Mx(F,N){return Vr(j_(F,N),1)}function Lx(F,N){return Vr(j_(F,N),G)}function Ox(F,N,H){return H=H===t?1:Nn(H),Vr(j_(F,N),H)}function BF(F,N){var H=Fn(F)?vs:Fu;return H(F,an(N,3))}function RF(F,N){var H=Fn(F)?Eo:L$;return H(F,an(N,3))}var Ix=P_(function(F,N,H){_i.call(F,H)?F[H].push(N):Ta(F,H,[N])});function Bx(F,N,H,ne){F=Gs(F)?F:ld(F),H=H&&!ne?Nn(H):0;var ce=F.length;return H<0&&(H=fe(ce+H,0)),H_(F)?H<=ce&&F.indexOf(N,H)>-1:!!ce&&$a(F,N,H)>-1}var Rx=Bn(function(F,N,H){var ne=-1,ce=typeof N=="function",$e=Gs(F)?ut(F.length):[];return Fu(F,function(Me){$e[++ne]=ce?Ji(N,Me,H):tm(Me,N,H)}),$e}),zx=P_(function(F,N,H){Ta(F,H,N)});function j_(F,N){var H=Fn(F)?Ti:Y$;return H(F,an(N,3))}function jx(F,N,H,ne){return F==null?[]:(Fn(N)||(N=N==null?[]:[N]),H=ne?t:H,Fn(H)||(H=H==null?[]:[H]),H$(F,N,H))}var Yx=P_(function(F,N,H){F[H?0:1].push(N)},function(){return[[],[]]});function Ux(F,N,H){var ne=Fn(F)?Yf:Uf,ce=arguments.length<3;return ne(F,an(N,4),H,ce,Fu)}function Wx(F,N,H){var ne=Fn(F)?p_:Uf,ce=arguments.length<3;return ne(F,an(N,4),H,ce,L$)}function qx(F,N){var H=Fn(F)?Kl:O$;return H(F,W_(an(N,3)))}function Hx(F){var N=Fn(F)?A$:BH;return N(F)}function Vx(F,N,H){(H?Fs(F,N,H):N===t)?N=1:N=Nn(N);var ne=Fn(F)?mH:RH;return ne(F,N)}function xx(F){var N=Fn(F)?pH:jH;return N(F)}function Gx(F){if(F==null)return 0;if(Gs(F))return H_(F)?Ql(F):F.length;var N=ns(F);return N==Tt||N==An?F.size:Tv(F).length}function Zx(F,N,H){var ne=Fn(F)?pu:YH;return H&&Fs(F,N,H)&&(N=t),ne(F,an(N,3))}var Xx=Bn(function(F,N){if(F==null)return[];var H=N.length;return H>1&&Fs(F,N[0],N[1])?N=[]:H>2&&Fs(N[0],N[1],N[2])&&(N=[N[0]]),H$(F,Vr(N,1),[])}),Y_=vv||function(){return Or.Date.now()};function Kx(F,N){if(typeof N!="function")throw new Ws(l);return F=Nn(F),function(){if(--F<1)return N.apply(this,arguments)}}function zF(F,N,H){return N=H?t:N,N=F&&N==null?F.length:N,Aa(F,R,t,t,t,t,N)}function jF(F,N){var H;if(typeof N!="function")throw new Ws(l);return F=Nn(F),function(){return--F>0&&(H=N.apply(this,arguments)),F<=1&&(N=t),H}}var Qv=Bn(function(F,N,H){var ne=k;if(H.length){var ce=Yr(H,rd(Qv));ne|=T}return Aa(F,ne,N,H,ce)}),YF=Bn(function(F,N,H){var ne=k|$;if(H.length){var ce=Yr(H,rd(YF));ne|=T}return Aa(N,ne,F,H,ce)});function UF(F,N,H){N=H?t:N;var ne=Aa(F,E,t,t,t,t,t,N);return ne.placeholder=UF.placeholder,ne}function WF(F,N,H){N=H?t:N;var ne=Aa(F,S,t,t,t,t,t,N);return ne.placeholder=WF.placeholder,ne}function qF(F,N,H){var ne,ce,$e,Me,Ye,Ze,kt=0,yt=!1,Dt=!1,qt=!0;if(typeof F!="function")throw new Ws(l);N=Ml(N)||0,ir(H)&&(yt=!!H.leading,Dt="maxWait"in H,$e=Dt?fe(Ml(H.maxWait)||0,N):$e,qt="trailing"in H?!!H.trailing:qt);function Jt(pr){var io=ne,Oa=ce;return ne=ce=t,kt=pr,Me=F.apply(Oa,io),Me}function cn(pr){return kt=pr,Ye=lm(Hn,N),yt?Jt(pr):Me}function Mn(pr){var io=pr-Ze,Oa=pr-kt,u3=N-io;return Dt?Ne(u3,$e-Oa):u3}function fn(pr){var io=pr-Ze,Oa=pr-kt;return Ze===t||io>=N||io<0||Dt&&Oa>=$e}function Hn(){var pr=Y_();if(fn(pr))return Qn(pr);Ye=lm(Hn,Mn(pr))}function Qn(pr){return Ye=t,qt&&ne?Jt(pr):(ne=ce=t,Me)}function gl(){Ye!==t&&eF(Ye),kt=0,ne=Ze=ce=Ye=t}function Es(){return Ye===t?Me:Qn(Y_())}function vl(){var pr=Y_(),io=fn(pr);if(ne=arguments,ce=this,Ze=pr,io){if(Ye===t)return cn(Ze);if(Dt)return eF(Ye),Ye=lm(Hn,N),Jt(Ze)}return Ye===t&&(Ye=lm(Hn,N)),Me}return vl.cancel=gl,vl.flush=Es,vl}var Jx=Bn(function(F,N){return M$(F,1,N)}),Qx=Bn(function(F,N,H){return M$(F,Ml(N)||0,H)});function eG(F){return Aa(F,z)}function U_(F,N){if(typeof F!="function"||N!=null&&typeof N!="function")throw new Ws(l);var H=function(){var ne=arguments,ce=N?N.apply(this,ne):ne[0],$e=H.cache;if($e.has(ce))return $e.get(ce);var Me=F.apply(this,ne);return H.cache=$e.set(ce,Me)||$e,Me};return H.cache=new(U_.Cache||Sa),H}U_.Cache=Sa;function W_(F){if(typeof F!="function")throw new Ws(l);return function(){var N=arguments;switch(N.length){case 0:return!F.call(this);case 1:return!F.call(this,N[0]);case 2:return!F.call(this,N[0],N[1]);case 3:return!F.call(this,N[0],N[1],N[2])}return!F.apply(this,N)}}function tG(F){return jF(2,F)}var nG=UH(function(F,N){N=N.length==1&&Fn(N[0])?Ti(N[0],Fr(an())):Ti(Vr(N,1),Fr(an()));var H=N.length;return Bn(function(ne){for(var ce=-1,$e=Ne(ne.length,H);++ce<$e;)ne[ce]=N[ce].call(this,ne[ce]);return Ji(F,this,ne)})}),eb=Bn(function(F,N){var H=Yr(N,rd(eb));return Aa(F,T,t,N,H)}),HF=Bn(function(F,N){var H=Yr(N,rd(HF));return Aa(F,M,t,N,H)}),iG=Pa(function(F,N){return Aa(F,Y,t,t,t,N)});function rG(F,N){if(typeof F!="function")throw new Ws(l);return N=N===t?N:Nn(N),Bn(F,N)}function sG(F,N){if(typeof F!="function")throw new Ws(l);return N=N==null?0:fe(Nn(N),0),Bn(function(H){var ne=H[N],ce=Du(H,0,N);return ne&&Co(ce,ne),Ji(F,this,ce)})}function lG(F,N,H){var ne=!0,ce=!0;if(typeof F!="function")throw new Ws(l);return ir(H)&&(ne="leading"in H?!!H.leading:ne,ce="trailing"in H?!!H.trailing:ce),qF(F,N,{leading:ne,maxWait:N,trailing:ce})}function oG(F){return zF(F,1)}function aG(F,N){return eb(Rv(N),F)}function uG(){if(!arguments.length)return[];var F=arguments[0];return Fn(F)?F:[F]}function cG(F){return Al(F,m)}function fG(F,N){return N=typeof N=="function"?N:t,Al(F,m,N)}function dG(F){return Al(F,f|m)}function hG(F,N){return N=typeof N=="function"?N:t,Al(F,f|m,N)}function mG(F,N){return N==null||N$(F,N,Ur(N))}function no(F,N){return F===N||F!==F&&N!==N}var pG=O_(Cv),_G=O_(function(F,N){return F>=N}),Oc=R$(function(){return arguments}())?R$:function(F){return lr(F)&&_i.call(F,"callee")&&!Kh.call(F,"callee")},Fn=ut.isArray,gG=f_?Fr(f_):EH;function Gs(F){return F!=null&&q_(F.length)&&!Ma(F)}function mr(F){return lr(F)&&Gs(F)}function vG(F){return F===!0||F===!1||lr(F)&&$s(F)==ke}var Su=A||fb,bG=jh?Fr(jh):CH;function kG(F){return lr(F)&&F.nodeType===1&&!om(F)}function yG(F){if(F==null)return!0;if(Gs(F)&&(Fn(F)||typeof F=="string"||typeof F.splice=="function"||Su(F)||sd(F)||Oc(F)))return!F.length;var N=ns(F);if(N==Tt||N==An)return!F.size;if(sm(F))return!Tv(F).length;for(var H in F)if(_i.call(F,H))return!1;return!0}function wG(F,N){return nm(F,N)}function $G(F,N,H){H=typeof H=="function"?H:t;var ne=H?H(F,N):t;return ne===t?nm(F,N,t,H):!!ne}function tb(F){if(!lr(F))return!1;var N=$s(F);return N==vt||N==Ce||typeof F.message=="string"&&typeof F.name=="string"&&!om(F)}function FG(F){return typeof F=="number"&&U(F)}function Ma(F){if(!ir(F))return!1;var N=$s(F);return N==$t||N==bt||N==ze||N==Tn}function VF(F){return typeof F=="number"&&F==Nn(F)}function q_(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=X}function ir(F){var N=typeof F;return F!=null&&(N=="object"||N=="function")}function lr(F){return F!=null&&typeof F=="object"}var xF=d_?Fr(d_):SH;function EG(F,N){return F===N||Sv(F,N,Hv(N))}function CG(F,N,H){return H=typeof H=="function"?H:t,Sv(F,N,Hv(N),H)}function DG(F){return GF(F)&&F!=+F}function SG(F){if(fV(F))throw new pn(s);return z$(F)}function TG(F){return F===null}function AG(F){return F==null}function GF(F){return typeof F=="number"||lr(F)&&$s(F)==It}function om(F){if(!lr(F)||$s(F)!=Pt)return!1;var N=To(F);if(N===null)return!0;var H=_i.call(N,"constructor")&&N.constructor;return typeof H=="function"&&H instanceof H&&So.call(H)==gv}var nb=h_?Fr(h_):TH;function PG(F){return VF(F)&&F>=-X&&F<=X}var ZF=zf?Fr(zf):AH;function H_(F){return typeof F=="string"||!Fn(F)&&lr(F)&&$s(F)==xn}function _l(F){return typeof F=="symbol"||lr(F)&&$s(F)==In}var sd=m_?Fr(m_):PH;function NG(F){return F===t}function MG(F){return lr(F)&&ns(F)==mt}function LG(F){return lr(F)&&$s(F)==dr}var OG=O_(Av),IG=O_(function(F,N){return F<=N});function XF(F){if(!F)return[];if(Gs(F))return H_(F)?Ys(F):xs(F);if(bu&&F[bu])return mv(F[bu]());var N=ns(F),H=N==Tt?$c:N==An?Vf:ld;return H(F)}function La(F){if(!F)return F===0?F:0;if(F=Ml(F),F===G||F===-G){var N=F<0?-1:1;return N*se}return F===F?F:0}function Nn(F){var N=La(F),H=N%1;return N===N?H?N-H:N:0}function KF(F){return F?Pc(Nn(F),0,ie):0}function Ml(F){if(typeof F=="number")return F;if(_l(F))return te;if(ir(F)){var N=typeof F.valueOf=="function"?F.valueOf():F;F=ir(N)?N+"":N}if(typeof F!="string")return F===0?F:+F;F=js(F);var H=fu.test(F);return H||_a.test(F)?lv(F.slice(2),H?2:8):pa.test(F)?te:+F}function JF(F){return Lo(F,Zs(F))}function BG(F){return F?Pc(Nn(F),-X,X):F===0?F:0}function bi(F){return F==null?"":pl(F)}var RG=nd(function(F,N){if(sm(N)||Gs(N)){Lo(N,Ur(N),F);return}for(var H in N)_i.call(N,H)&&Qh(F,H,N[H])}),QF=nd(function(F,N){Lo(N,Zs(N),F)}),V_=nd(function(F,N,H,ne){Lo(N,Zs(N),F,ne)}),zG=nd(function(F,N,H,ne){Lo(N,Ur(N),F,ne)}),jG=Pa($v);function YG(F,N){var H=wu(F);return N==null?H:P$(H,N)}var UG=Bn(function(F,N){F=wi(F);var H=-1,ne=N.length,ce=ne>2?N[2]:t;for(ce&&Fs(N[0],N[1],ce)&&(ne=1);++H<ne;)for(var $e=N[H],Me=Zs($e),Ye=-1,Ze=Me.length;++Ye<Ze;){var kt=Me[Ye],yt=F[kt];(yt===t||no(yt,Ca[kt])&&!_i.call(F,kt))&&(F[kt]=$e[kt])}return F}),WG=Bn(function(F){return F.push(t,_F),Ji(e3,t,F)});function qG(F,N){return bs(F,an(N,3),Mo)}function HG(F,N){return bs(F,an(N,3),Ev)}function VG(F,N){return F==null?F:Fv(F,an(N,3),Zs)}function xG(F,N){return F==null?F:I$(F,an(N,3),Zs)}function GG(F,N){return F&&Mo(F,an(N,3))}function ZG(F,N){return F&&Ev(F,an(N,3))}function XG(F){return F==null?[]:D_(F,Ur(F))}function KG(F){return F==null?[]:D_(F,Zs(F))}function ib(F,N,H){var ne=F==null?t:Nc(F,N);return ne===t?H:ne}function JG(F,N){return F!=null&&bF(F,N,yH)}function rb(F,N){return F!=null&&bF(F,N,wH)}var QG=fF(function(F,N,H){N!=null&&typeof N.toString!="function"&&(N=Fc.call(N)),F[N]=H},lb(Xs)),eZ=fF(function(F,N,H){N!=null&&typeof N.toString!="function"&&(N=Fc.call(N)),_i.call(F,N)?F[N].push(H):F[N]=[H]},an),tZ=Bn(tm);function Ur(F){return Gs(F)?T$(F):Tv(F)}function Zs(F){return Gs(F)?T$(F,!0):NH(F)}function nZ(F,N){var H={};return N=an(N,3),Mo(F,function(ne,ce,$e){Ta(H,N(ne,ce,$e),ne)}),H}function iZ(F,N){var H={};return N=an(N,3),Mo(F,function(ne,ce,$e){Ta(H,ce,N(ne,ce,$e))}),H}var rZ=nd(function(F,N,H){S_(F,N,H)}),e3=nd(function(F,N,H,ne){S_(F,N,H,ne)}),sZ=Pa(function(F,N){var H={};if(F==null)return H;var ne=!1;N=Ti(N,function($e){return $e=Cu($e,F),ne||(ne=$e.length>1),$e}),Lo(F,Wv(F),H),ne&&(H=Al(H,f|d|m,QH));for(var ce=N.length;ce--;)Ov(H,N[ce]);return H});function lZ(F,N){return t3(F,W_(an(N)))}var oZ=Pa(function(F,N){return F==null?{}:LH(F,N)});function t3(F,N){if(F==null)return{};var H=Ti(Wv(F),function(ne){return[ne]});return N=an(N),V$(F,H,function(ne,ce){return N(ne,ce[0])})}function aZ(F,N,H){N=Cu(N,F);var ne=-1,ce=N.length;for(ce||(ce=1,F=t);++ne<ce;){var $e=F==null?t:F[Oo(N[ne])];$e===t&&(ne=ce,$e=H),F=Ma($e)?$e.call(F):$e}return F}function uZ(F,N,H){return F==null?F:im(F,N,H)}function cZ(F,N,H,ne){return ne=typeof ne=="function"?ne:t,F==null?F:im(F,N,H,ne)}var n3=mF(Ur),i3=mF(Zs);function fZ(F,N,H){var ne=Fn(F),ce=ne||Su(F)||sd(F);if(N=an(N,4),H==null){var $e=F&&F.constructor;ce?H=ne?new $e:[]:ir(F)?H=Ma($e)?wu(To(F)):{}:H={}}return(ce?vs:Mo)(F,function(Me,Ye,Ze){return N(H,Me,Ye,Ze)}),H}function dZ(F,N){return F==null?!0:Ov(F,N)}function hZ(F,N,H){return F==null?F:K$(F,N,Rv(H))}function mZ(F,N,H,ne){return ne=typeof ne=="function"?ne:t,F==null?F:K$(F,N,Rv(H),ne)}function ld(F){return F==null?[]:xh(F,Ur(F))}function pZ(F){return F==null?[]:xh(F,Zs(F))}function _Z(F,N,H){return H===t&&(H=N,N=t),H!==t&&(H=Ml(H),H=H===H?H:0),N!==t&&(N=Ml(N),N=N===N?N:0),Pc(Ml(F),N,H)}function gZ(F,N,H){return N=La(N),H===t?(H=N,N=0):H=La(H),F=Ml(F),$H(F,N,H)}function vZ(F,N,H){if(H&&typeof H!="boolean"&&Fs(F,N,H)&&(N=H=t),H===t&&(typeof N=="boolean"?(H=N,N=t):typeof F=="boolean"&&(H=F,F=t)),F===t&&N===t?(F=0,N=1):(F=La(F),N===t?(N=F,F=0):N=La(N)),F>N){var ne=F;F=N,N=ne}if(H||F%1||N%1){var ce=wt();return Ne(F+ce*(N-F+Ih("1e-"+((ce+"").length-1))),N)}return Nv(F,N)}var bZ=id(function(F,N,H){return N=N.toLowerCase(),F+(H?r3(N):N)});function r3(F){return sb(bi(F).toLowerCase())}function s3(F){return F=bi(F),F&&F.replace(Fo,wc).replace(o_,"")}function kZ(F,N,H){F=bi(F),N=pl(N);var ne=F.length;H=H===t?ne:Pc(Nn(H),0,ne);var ce=H;return H-=N.length,H>=0&&F.slice(H,ce)==N}function yZ(F){return F=bi(F),F&&ha.test(F)?F.replace(Gl,g_):F}function wZ(F){return F=bi(F),F&&ht.test(F)?F.replace(Ve,"\\$&"):F}var $Z=id(function(F,N,H){return F+(H?"-":"")+N.toLowerCase()}),FZ=id(function(F,N,H){return F+(H?" ":"")+N.toLowerCase()}),EZ=aF("toLowerCase");function CZ(F,N,H){F=bi(F),N=Nn(N);var ne=N?Ql(F):0;if(!N||ne>=N)return F;var ce=(N-ne)/2;return L_(td(ce),H)+F+L_(Sc(ce),H)}function DZ(F,N,H){F=bi(F),N=Nn(N);var ne=N?Ql(F):0;return N&&ne<N?F+L_(N-ne,H):F}function SZ(F,N,H){F=bi(F),N=Nn(N);var ne=N?Ql(F):0;return N&&ne<N?L_(N-ne,H)+F:F}function TZ(F,N,H){return H||N==null?N=0:N&&(N=+N),ft(bi(F).replace(At,""),N||0)}function AZ(F,N,H){return(H?Fs(F,N,H):N===t)?N=1:N=Nn(N),Mv(bi(F),N)}function PZ(){var F=arguments,N=bi(F[0]);return F.length<3?N:N.replace(F[1],F[2])}var NZ=id(function(F,N,H){return F+(H?"_":"")+N.toLowerCase()});function MZ(F,N,H){return H&&typeof H!="number"&&Fs(F,N,H)&&(N=H=t),H=H===t?ie:H>>>0,H?(F=bi(F),F&&(typeof N=="string"||N!=null&&!nb(N))&&(N=pl(N),!N&&ys(F))?Du(Ys(F),0,H):F.split(N,H)):[]}var LZ=id(function(F,N,H){return F+(H?" ":"")+sb(N)});function OZ(F,N,H){return F=bi(F),H=H==null?0:Pc(Nn(H),0,F.length),N=pl(N),F.slice(H,H+N.length)==N}function IZ(F,N,H){var ne=ve.templateSettings;H&&Fs(F,N,H)&&(N=t),F=bi(F),N=V_({},N,ne,pF);var ce=V_({},N.imports,ne.imports,pF),$e=Ur(ce),Me=xh(ce,$e),Ye,Ze,kt=0,yt=N.interpolate||$r,Dt="__p += '",qt=Us((N.escape||$r).source+"|"+yt.source+"|"+(yt===wo?ma:$r).source+"|"+(N.evaluate||$r).source+"|$","g"),Jt="//# sourceURL="+(_i.call(N,"sourceURL")?(N.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vc+"]")+`
`;F.replace(qt,function(fn,Hn,Qn,gl,Es,vl){return Qn||(Qn=gl),Dt+=F.slice(kt,vl).replace(Di,qf),Hn&&(Ye=!0,Dt+=`' +
__e(`+Hn+`) +
'`),Es&&(Ze=!0,Dt+=`';
`+Es+`;
__p += '`),Qn&&(Dt+=`' +
((__t = (`+Qn+`)) == null ? '' : __t) +
'`),kt=vl+fn.length,fn}),Dt+=`';
`;var cn=_i.call(N,"variable")&&N.variable;if(!cn)Dt=`with (obj) {
`+Dt+`
}
`;else if(Zl.test(cn))throw new pn(o);Dt=(Ze?Dt.replace(Bs,""):Dt).replace(Mr,"$1").replace(wr,"$1;"),Dt="function("+(cn||"obj")+`) {
`+(cn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ye?", __e = _.escape":"")+(Ze?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Dt+`return __p
}`;var Mn=o3(function(){return ai($e,Jt+"return "+Dt).apply(t,Me)});if(Mn.source=Dt,tb(Mn))throw Mn;return Mn}function BZ(F){return bi(F).toLowerCase()}function RZ(F){return bi(F).toUpperCase()}function zZ(F,N,H){if(F=bi(F),F&&(H||N===t))return js(F);if(!F||!(N=pl(N)))return F;var ne=Ys(F),ce=Ys(N),$e=__(ne,ce),Me=Fa(ne,ce)+1;return Du(ne,$e,Me).join("")}function jZ(F,N,H){if(F=bi(F),F&&(H||N===t))return F.slice(0,xf(F)+1);if(!F||!(N=pl(N)))return F;var ne=Ys(F),ce=Fa(ne,Ys(N))+1;return Du(ne,0,ce).join("")}function YZ(F,N,H){if(F=bi(F),F&&(H||N===t))return F.replace(At,"");if(!F||!(N=pl(N)))return F;var ne=Ys(F),ce=__(ne,Ys(N));return Du(ne,ce).join("")}function UZ(F,N){var H=j,ne=V;if(ir(N)){var ce="separator"in N?N.separator:ce;H="length"in N?Nn(N.length):H,ne="omission"in N?pl(N.omission):ne}F=bi(F);var $e=F.length;if(ys(F)){var Me=Ys(F);$e=Me.length}if(H>=$e)return F;var Ye=H-Ql(ne);if(Ye<1)return ne;var Ze=Me?Du(Me,0,Ye).join(""):F.slice(0,Ye);if(ce===t)return Ze+ne;if(Me&&(Ye+=Ze.length-Ye),nb(ce)){if(F.slice(Ye).search(ce)){var kt,yt=Ze;for(ce.global||(ce=Us(ce.source,bi(Rr.exec(ce))+"g")),ce.lastIndex=0;kt=ce.exec(yt);)var Dt=kt.index;Ze=Ze.slice(0,Dt===t?Ye:Dt)}}else if(F.indexOf(pl(ce),Ye)!=Ye){var qt=Ze.lastIndexOf(ce);qt>-1&&(Ze=Ze.slice(0,qt))}return Ze+ne}function WZ(F){return F=bi(F),F&&ko.test(F)?F.replace(xl,Gf):F}var qZ=id(function(F,N,H){return F+(H?" ":"")+N.toUpperCase()}),sb=aF("toUpperCase");function l3(F,N,H){return F=bi(F),N=H?t:N,N===t?Hf(F)?gu(F):bc(F):F.match(N)||[]}var o3=Bn(function(F,N){try{return Ji(F,t,N)}catch(H){return tb(H)?H:new pn(H)}}),HZ=Pa(function(F,N){return vs(N,function(H){H=Oo(H),Ta(F,H,Qv(F[H],F))}),F});function VZ(F){var N=F==null?0:F.length,H=an();return F=N?Ti(F,function(ne){if(typeof ne[1]!="function")throw new Ws(l);return[H(ne[0]),ne[1]]}):[],Bn(function(ne){for(var ce=-1;++ce<N;){var $e=F[ce];if(Ji($e[0],this,ne))return Ji($e[1],this,ne)}})}function xZ(F){return vH(Al(F,f))}function lb(F){return function(){return F}}function GZ(F,N){return F==null||F!==F?N:F}var ZZ=cF(),XZ=cF(!0);function Xs(F){return F}function ob(F){return j$(typeof F=="function"?F:Al(F,f))}function KZ(F){return U$(Al(F,f))}function JZ(F,N){return W$(F,Al(N,f))}var QZ=Bn(function(F,N){return function(H){return tm(H,F,N)}}),eX=Bn(function(F,N){return function(H){return tm(F,H,N)}});function ab(F,N,H){var ne=Ur(N),ce=D_(N,ne);H==null&&!(ir(N)&&(ce.length||!ne.length))&&(H=N,N=F,F=this,ce=D_(N,Ur(N)));var $e=!(ir(H)&&"chain"in H)||!!H.chain,Me=Ma(F);return vs(ce,function(Ye){var Ze=N[Ye];F[Ye]=Ze,Me&&(F.prototype[Ye]=function(){var kt=this.__chain__;if($e||kt){var yt=F(this.__wrapped__),Dt=yt.__actions__=xs(this.__actions__);return Dt.push({func:Ze,args:arguments,thisArg:F}),yt.__chain__=kt,yt}return Ze.apply(F,Co([this.value()],arguments))})}),F}function tX(){return Or._===this&&(Or._=eo),this}function ub(){}function nX(F){return F=Nn(F),Bn(function(N){return q$(N,F)})}var iX=jv(Ti),rX=jv(Yh),sX=jv(pu);function a3(F){return xv(F)?Hh(Oo(F)):OH(F)}function lX(F){return function(N){return F==null?t:Nc(F,N)}}var oX=dF(),aX=dF(!0);function cb(){return[]}function fb(){return!1}function uX(){return{}}function cX(){return""}function fX(){return!0}function dX(F,N){if(F=Nn(F),F<1||F>X)return[];var H=ie,ne=Ne(F,ie);N=an(N),F-=ie;for(var ce=Wf(ne,N);++H<F;)N(H);return ce}function hX(F){return Fn(F)?Ti(F,Oo):_l(F)?[F]:xs(SF(bi(F)))}function mX(F){var N=++vu;return bi(F)+N}var pX=M_(function(F,N){return F+N},0),_X=Yv("ceil"),gX=M_(function(F,N){return F/N},1),vX=Yv("floor");function bX(F){return F&&F.length?C_(F,Xs,Cv):t}function kX(F,N){return F&&F.length?C_(F,an(N,2),Cv):t}function yX(F){return qh(F,Xs)}function wX(F,N){return qh(F,an(N,2))}function $X(F){return F&&F.length?C_(F,Xs,Av):t}function FX(F,N){return F&&F.length?C_(F,an(N,2),Av):t}var EX=M_(function(F,N){return F*N},1),CX=Yv("round"),DX=M_(function(F,N){return F-N},0);function SX(F){return F&&F.length?Vh(F,Xs):0}function TX(F,N){return F&&F.length?Vh(F,an(N,2)):0}return ve.after=Kx,ve.ary=zF,ve.assign=RG,ve.assignIn=QF,ve.assignInWith=V_,ve.assignWith=zG,ve.at=jG,ve.before=jF,ve.bind=Qv,ve.bindAll=HZ,ve.bindKey=YF,ve.castArray=uG,ve.chain=IF,ve.chunk=vV,ve.compact=bV,ve.concat=kV,ve.cond=VZ,ve.conforms=xZ,ve.constant=lb,ve.countBy=Sx,ve.create=YG,ve.curry=UF,ve.curryRight=WF,ve.debounce=qF,ve.defaults=UG,ve.defaultsDeep=WG,ve.defer=Jx,ve.delay=Qx,ve.difference=yV,ve.differenceBy=wV,ve.differenceWith=$V,ve.drop=FV,ve.dropRight=EV,ve.dropRightWhile=CV,ve.dropWhile=DV,ve.fill=SV,ve.filter=Ax,ve.flatMap=Mx,ve.flatMapDeep=Lx,ve.flatMapDepth=Ox,ve.flatten=NF,ve.flattenDeep=TV,ve.flattenDepth=AV,ve.flip=eG,ve.flow=ZZ,ve.flowRight=XZ,ve.fromPairs=PV,ve.functions=XG,ve.functionsIn=KG,ve.groupBy=Ix,ve.initial=MV,ve.intersection=LV,ve.intersectionBy=OV,ve.intersectionWith=IV,ve.invert=QG,ve.invertBy=eZ,ve.invokeMap=Rx,ve.iteratee=ob,ve.keyBy=zx,ve.keys=Ur,ve.keysIn=Zs,ve.map=j_,ve.mapKeys=nZ,ve.mapValues=iZ,ve.matches=KZ,ve.matchesProperty=JZ,ve.memoize=U_,ve.merge=rZ,ve.mergeWith=e3,ve.method=QZ,ve.methodOf=eX,ve.mixin=ab,ve.negate=W_,ve.nthArg=nX,ve.omit=sZ,ve.omitBy=lZ,ve.once=tG,ve.orderBy=jx,ve.over=iX,ve.overArgs=nG,ve.overEvery=rX,ve.overSome=sX,ve.partial=eb,ve.partialRight=HF,ve.partition=Yx,ve.pick=oZ,ve.pickBy=t3,ve.property=a3,ve.propertyOf=lX,ve.pull=jV,ve.pullAll=LF,ve.pullAllBy=YV,ve.pullAllWith=UV,ve.pullAt=WV,ve.range=oX,ve.rangeRight=aX,ve.rearg=iG,ve.reject=qx,ve.remove=qV,ve.rest=rG,ve.reverse=Kv,ve.sampleSize=Vx,ve.set=uZ,ve.setWith=cZ,ve.shuffle=xx,ve.slice=HV,ve.sortBy=Xx,ve.sortedUniq=JV,ve.sortedUniqBy=QV,ve.split=MZ,ve.spread=sG,ve.tail=ex,ve.take=tx,ve.takeRight=nx,ve.takeRightWhile=ix,ve.takeWhile=rx,ve.tap=bx,ve.throttle=lG,ve.thru=z_,ve.toArray=XF,ve.toPairs=n3,ve.toPairsIn=i3,ve.toPath=hX,ve.toPlainObject=JF,ve.transform=fZ,ve.unary=oG,ve.union=sx,ve.unionBy=lx,ve.unionWith=ox,ve.uniq=ax,ve.uniqBy=ux,ve.uniqWith=cx,ve.unset=dZ,ve.unzip=Jv,ve.unzipWith=OF,ve.update=hZ,ve.updateWith=mZ,ve.values=ld,ve.valuesIn=pZ,ve.without=fx,ve.words=l3,ve.wrap=aG,ve.xor=dx,ve.xorBy=hx,ve.xorWith=mx,ve.zip=px,ve.zipObject=_x,ve.zipObjectDeep=gx,ve.zipWith=vx,ve.entries=n3,ve.entriesIn=i3,ve.extend=QF,ve.extendWith=V_,ab(ve,ve),ve.add=pX,ve.attempt=o3,ve.camelCase=bZ,ve.capitalize=r3,ve.ceil=_X,ve.clamp=_Z,ve.clone=cG,ve.cloneDeep=dG,ve.cloneDeepWith=hG,ve.cloneWith=fG,ve.conformsTo=mG,ve.deburr=s3,ve.defaultTo=GZ,ve.divide=gX,ve.endsWith=kZ,ve.eq=no,ve.escape=yZ,ve.escapeRegExp=wZ,ve.every=Tx,ve.find=Px,ve.findIndex=AF,ve.findKey=qG,ve.findLast=Nx,ve.findLastIndex=PF,ve.findLastKey=HG,ve.floor=vX,ve.forEach=BF,ve.forEachRight=RF,ve.forIn=VG,ve.forInRight=xG,ve.forOwn=GG,ve.forOwnRight=ZG,ve.get=ib,ve.gt=pG,ve.gte=_G,ve.has=JG,ve.hasIn=rb,ve.head=MF,ve.identity=Xs,ve.includes=Bx,ve.indexOf=NV,ve.inRange=gZ,ve.invoke=tZ,ve.isArguments=Oc,ve.isArray=Fn,ve.isArrayBuffer=gG,ve.isArrayLike=Gs,ve.isArrayLikeObject=mr,ve.isBoolean=vG,ve.isBuffer=Su,ve.isDate=bG,ve.isElement=kG,ve.isEmpty=yG,ve.isEqual=wG,ve.isEqualWith=$G,ve.isError=tb,ve.isFinite=FG,ve.isFunction=Ma,ve.isInteger=VF,ve.isLength=q_,ve.isMap=xF,ve.isMatch=EG,ve.isMatchWith=CG,ve.isNaN=DG,ve.isNative=SG,ve.isNil=AG,ve.isNull=TG,ve.isNumber=GF,ve.isObject=ir,ve.isObjectLike=lr,ve.isPlainObject=om,ve.isRegExp=nb,ve.isSafeInteger=PG,ve.isSet=ZF,ve.isString=H_,ve.isSymbol=_l,ve.isTypedArray=sd,ve.isUndefined=NG,ve.isWeakMap=MG,ve.isWeakSet=LG,ve.join=BV,ve.kebabCase=$Z,ve.last=Nl,ve.lastIndexOf=RV,ve.lowerCase=FZ,ve.lowerFirst=EZ,ve.lt=OG,ve.lte=IG,ve.max=bX,ve.maxBy=kX,ve.mean=yX,ve.meanBy=wX,ve.min=$X,ve.minBy=FX,ve.stubArray=cb,ve.stubFalse=fb,ve.stubObject=uX,ve.stubString=cX,ve.stubTrue=fX,ve.multiply=EX,ve.nth=zV,ve.noConflict=tX,ve.noop=ub,ve.now=Y_,ve.pad=CZ,ve.padEnd=DZ,ve.padStart=SZ,ve.parseInt=TZ,ve.random=vZ,ve.reduce=Ux,ve.reduceRight=Wx,ve.repeat=AZ,ve.replace=PZ,ve.result=aZ,ve.round=CX,ve.runInContext=xe,ve.sample=Hx,ve.size=Gx,ve.snakeCase=NZ,ve.some=Zx,ve.sortedIndex=VV,ve.sortedIndexBy=xV,ve.sortedIndexOf=GV,ve.sortedLastIndex=ZV,ve.sortedLastIndexBy=XV,ve.sortedLastIndexOf=KV,ve.startCase=LZ,ve.startsWith=OZ,ve.subtract=DX,ve.sum=SX,ve.sumBy=TX,ve.template=IZ,ve.times=dX,ve.toFinite=La,ve.toInteger=Nn,ve.toLength=KF,ve.toLower=BZ,ve.toNumber=Ml,ve.toSafeInteger=BG,ve.toString=bi,ve.toUpper=RZ,ve.trim=zZ,ve.trimEnd=jZ,ve.trimStart=YZ,ve.truncate=UZ,ve.unescape=WZ,ve.uniqueId=mX,ve.upperCase=qZ,ve.upperFirst=sb,ve.each=BF,ve.eachRight=RF,ve.first=MF,ab(ve,function(){var F={};return Mo(ve,function(N,H){_i.call(ve.prototype,H)||(F[H]=N)}),F}(),{chain:!1}),ve.VERSION=n,vs(["bind","bindKey","curry","curryRight","partial","partialRight"],function(F){ve[F].placeholder=ve}),vs(["drop","take"],function(F,N){Yn.prototype[F]=function(H){H=H===t?1:fe(Nn(H),0);var ne=this.__filtered__&&!N?new Yn(this):this.clone();return ne.__filtered__?ne.__takeCount__=Ne(H,ne.__takeCount__):ne.__views__.push({size:Ne(H,ie),type:F+(ne.__dir__<0?"Right":"")}),ne},Yn.prototype[F+"Right"]=function(H){return this.reverse()[F](H).reverse()}}),vs(["filter","map","takeWhile"],function(F,N){var H=N+1,ne=H==J||H==le;Yn.prototype[F]=function(ce){var $e=this.clone();return $e.__iteratees__.push({iteratee:an(ce,3),type:H}),$e.__filtered__=$e.__filtered__||ne,$e}}),vs(["head","last"],function(F,N){var H="take"+(N?"Right":"");Yn.prototype[F]=function(){return this[H](1).value()[0]}}),vs(["initial","tail"],function(F,N){var H="drop"+(N?"":"Right");Yn.prototype[F]=function(){return this.__filtered__?new Yn(this):this[H](1)}}),Yn.prototype.compact=function(){return this.filter(Xs)},Yn.prototype.find=function(F){return this.filter(F).head()},Yn.prototype.findLast=function(F){return this.reverse().find(F)},Yn.prototype.invokeMap=Bn(function(F,N){return typeof F=="function"?new Yn(this):this.map(function(H){return tm(H,F,N)})}),Yn.prototype.reject=function(F){return this.filter(W_(an(F)))},Yn.prototype.slice=function(F,N){F=Nn(F);var H=this;return H.__filtered__&&(F>0||N<0)?new Yn(H):(F<0?H=H.takeRight(-F):F&&(H=H.drop(F)),N!==t&&(N=Nn(N),H=N<0?H.dropRight(-N):H.take(N-F)),H)},Yn.prototype.takeRightWhile=function(F){return this.reverse().takeWhile(F).reverse()},Yn.prototype.toArray=function(){return this.take(ie)},Mo(Yn.prototype,function(F,N){var H=/^(?:filter|find|map|reject)|While$/.test(N),ne=/^(?:head|last)$/.test(N),ce=ve[ne?"take"+(N=="last"?"Right":""):N],$e=ne||/^find/.test(N);!ce||(ve.prototype[N]=function(){var Me=this.__wrapped__,Ye=ne?[1]:arguments,Ze=Me instanceof Yn,kt=Ye[0],yt=Ze||Fn(Me),Dt=function(Hn){var Qn=ce.apply(ve,Co([Hn],Ye));return ne&&qt?Qn[0]:Qn};yt&&H&&typeof kt=="function"&&kt.length!=1&&(Ze=yt=!1);var qt=this.__chain__,Jt=!!this.__actions__.length,cn=$e&&!qt,Mn=Ze&&!Jt;if(!$e&&yt){Me=Mn?Me:new Yn(this);var fn=F.apply(Me,Ye);return fn.__actions__.push({func:z_,args:[Dt],thisArg:t}),new ws(fn,qt)}return cn&&Mn?F.apply(this,Ye):(fn=this.thru(Dt),cn?ne?fn.value()[0]:fn.value():fn)})}),vs(["pop","push","shift","sort","splice","unshift"],function(F){var N=Ea[F],H=/^(?:push|sort|unshift)$/.test(F)?"tap":"thru",ne=/^(?:pop|shift)$/.test(F);ve.prototype[F]=function(){var ce=arguments;if(ne&&!this.__chain__){var $e=this.value();return N.apply(Fn($e)?$e:[],ce)}return this[H](function(Me){return N.apply(Fn(Me)?Me:[],ce)})}}),Mo(Yn.prototype,function(F,N){var H=ve[N];if(H){var ne=H.name+"";_i.call(yu,ne)||(yu[ne]=[]),yu[ne].push({name:N,func:H})}}),yu[N_(t,$).name]=[{name:"wrapper",func:t}],Yn.prototype.clone=Wq,Yn.prototype.reverse=qq,Yn.prototype.value=Hq,ve.prototype.at=kx,ve.prototype.chain=yx,ve.prototype.commit=wx,ve.prototype.next=$x,ve.prototype.plant=Ex,ve.prototype.reverse=Cx,ve.prototype.toJSON=ve.prototype.valueOf=ve.prototype.value=Dx,ve.prototype.first=ve.prototype.head,bu&&(ve.prototype[bu]=Fx),ve},Do=Xf();ml?((ml.exports=Do)._=Do,gs._=Do):Or._=Do}).call(fi)})(kk,kk.exports);const E1=kk.exports,QMe={calculateCummulativeSum(i){let e=[];const t=(n=>r=>n+=r)(0);return e=i.map(t),e},calculateSplitAverage(i,e){e=String(e);let t=parseInt(e.split("")[0]),n=parseInt(e.split("")[1]),r=t+n,s=t/r,l=i.length,o=[];o=i.slice(0,Math.round(l*s));let a=[];a=i.slice(Math.round(l*s),l);let u=o.reduce((p,g)=>p+g)/o.length,c=o.map(function(){return u}),f=a.reduce((p,g)=>p+g)/a.length,d=a.map(function(){return f});return d[0]=null,c.concat(d)},calculateAverage(i){let e=i.reduce((n,r)=>n+r)/i.length;return i.map(function(){return e})},calculateSimpleMovingAverage(i,e=5,t=1/0){if(!i||i.length<e)return[];let n=e-1;const r=i.length+1;let s=0;const l=[];let o=0;for(;++s<e&&o++<t;){const u=i.slice(s-s,s).reduce((c,f)=>c+f,0);l.push(u/s)}for(;++n<r&&o++<t;){const u=i.slice(n-e,n).reduce((c,f)=>c+f,0);l.push(u/e)}return l},calculateExponentialMovingAverage(i,e=5){if(!i||i.length<e)return[];let t=e-1,n=0,r=0;const s=i.length,l=2/(e+1),o=[],[a]=this.calculateSimpleMovingAverage(i,e,1);for(o.push(a);++n<e;){const u=i[n],c=o[r++],f=(u-c)*l+c;o.push(f)}for(;++t<s;){const u=i[t],c=o[r++],f=(u-c)*l+c;o.push(f)}return o},validateData(i){let e=E1.mean(E1.compact(i));for(var t=[],n=0;n<i.length;n++)Number.isNaN(i[n])&&!Number.isNaN(i[n+1])?(t[n]=i[n+1],t[n]==null&&(t[n]=e)):Number.isNaN(i[n])?t[n]=e:t[n]=i[n];return t},defineStatsDataset(i,e,t,n){var r=this.validateData(i),s=[];if(e=="avg"&&(s=this.calculateAverage(r)),e.includes("sma")){const o=parseInt(e.split("-")[1]);s=this.calculateSimpleMovingAverage(r,o)}if(e.includes("ema")){const o=parseInt(e.split("-")[1]);s=this.calculateExponentialMovingAverage(r,o)}if(e.includes("split")){const o=parseInt(e.split("-")[1]);s=this.calculateSplitAverage(r,o)}return e.includes("cumm")&&t=="sum"&&(s=this.calculateCummulativeSum(r)),this.statsQuery(n,s)},statsQuery(i,e){return{values:e,dates:i.dates,displayValue:i.displayValue,groupedBy:i.groupedBy,positivity:i.positivity,trackable:{id:"-statistics-",label:i.trackable.label+" stats",type:i.trackable.type,color:"#50B0EF",tracker:{color:"#50B0EF"}}}}};/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */const eLe=function(){let i=0;return function(){return i++}}();function Fi(i){return i===null||typeof i>"u"}function Gi(i){if(Array.isArray&&Array.isArray(i))return!0;const e=Object.prototype.toString.call(i);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Xn(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}const gr=i=>(typeof i=="number"||i instanceof Number)&&isFinite(+i);function Ol(i,e){return gr(i)?i:e}function ri(i,e){return typeof i>"u"?e:i}const tLe=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:i/e,ZU=(i,e)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*e:+i;function or(i,e,t){if(i&&typeof i.call=="function")return i.apply(t,e)}function $i(i,e,t,n){let r,s,l;if(Gi(i))if(s=i.length,n)for(r=s-1;r>=0;r--)e.call(t,i[r],r);else for(r=0;r<s;r++)e.call(t,i[r],r);else if(Xn(i))for(l=Object.keys(i),s=l.length,r=0;r<s;r++)e.call(t,i[l[r]],l[r])}function C1(i,e){let t,n,r,s;if(!i||!e||i.length!==e.length)return!1;for(t=0,n=i.length;t<n;++t)if(r=i[t],s=e[t],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function D1(i){if(Gi(i))return i.map(D1);if(Xn(i)){const e=Object.create(null),t=Object.keys(i),n=t.length;let r=0;for(;r<n;++r)e[t[r]]=D1(i[t[r]]);return e}return i}function XU(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function nLe(i,e,t,n){if(!XU(i))return;const r=e[i],s=t[i];Xn(r)&&Xn(s)?yp(r,s,n):e[i]=D1(s)}function yp(i,e,t){const n=Gi(e)?e:[e],r=n.length;if(!Xn(i))return i;t=t||{};const s=t.merger||nLe;for(let l=0;l<r;++l){if(e=n[l],!Xn(e))continue;const o=Object.keys(e);for(let a=0,u=o.length;a<u;++a)s(o[a],i,e,t)}return i}function Wm(i,e){return yp(i,e,{merger:iLe})}function iLe(i,e,t){if(!XU(i))return;const n=e[i],r=t[i];Xn(n)&&Xn(r)?Wm(n,r):Object.prototype.hasOwnProperty.call(e,i)||(e[i]=D1(r))}const J7={"":i=>i,x:i=>i.x,y:i=>i.y};function ec(i,e){return(J7[e]||(J7[e]=rLe(e)))(i)}function rLe(i){const e=sLe(i);return t=>{for(const n of e){if(n==="")break;t=t&&t[n]}return t}}function sLe(i){const e=i.split("."),t=[];let n="";for(const r of e)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(t.push(n),n="");return t}function Vw(i){return i.charAt(0).toUpperCase()+i.slice(1)}const Wl=i=>typeof i<"u",tc=i=>typeof i=="function",Q7=(i,e)=>{if(i.size!==e.size)return!1;for(const t of i)if(!e.has(t))return!1;return!0};function lLe(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const cr=Math.PI,Ai=2*cr,oLe=Ai+cr,S1=Number.POSITIVE_INFINITY,aLe=cr/180,ur=cr/2,_m=cr/4,e9=cr*2/3,Rl=Math.log10,Qo=Math.sign;function t9(i){const e=Math.round(i);i=qm(i,e,i/1e3)?e:i;const t=Math.pow(10,Math.floor(Rl(i))),n=i/t;return(n<=1?1:n<=2?2:n<=5?5:10)*t}function uLe(i){const e=[],t=Math.sqrt(i);let n;for(n=1;n<t;n++)i%n===0&&(e.push(n),e.push(i/n));return t===(t|0)&&e.push(t),e.sort((r,s)=>r-s).pop(),e}function ih(i){return!isNaN(parseFloat(i))&&isFinite(i)}function qm(i,e,t){return Math.abs(i-e)<t}function cLe(i,e){const t=Math.round(i);return t-e<=i&&t+e>=i}function KU(i,e,t){let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n][t],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function co(i){return i*(cr/180)}function xw(i){return i*(180/cr)}function n9(i){if(!gr(i))return;let e=1,t=0;for(;Math.round(i*e)/e!==i;)e*=10,t++;return t}function JU(i,e){const t=e.x-i.x,n=e.y-i.y,r=Math.sqrt(t*t+n*n);let s=Math.atan2(n,t);return s<-.5*cr&&(s+=Ai),{angle:s,distance:r}}function yk(i,e){return Math.sqrt(Math.pow(e.x-i.x,2)+Math.pow(e.y-i.y,2))}function fLe(i,e){return(i-e+oLe)%Ai-cr}function kl(i){return(i%Ai+Ai)%Ai}function wp(i,e,t,n){const r=kl(i),s=kl(e),l=kl(t),o=kl(s-r),a=kl(l-r),u=kl(r-s),c=kl(r-l);return r===s||r===l||n&&s===l||o>a&&u<c}function ss(i,e,t){return Math.max(e,Math.min(t,i))}function dLe(i){return ss(i,-32768,32767)}function $p(i,e,t,n=1e-6){return i>=Math.min(e,t)-n&&i<=Math.max(e,t)+n}function Gw(i,e,t){t=t||(l=>i[l]<e);let n=i.length-1,r=0,s;for(;n-r>1;)s=r+n>>1,t(s)?r=s:n=s;return{lo:r,hi:n}}const Jc=(i,e,t,n)=>Gw(i,t,n?r=>i[r][e]<=t:r=>i[r][e]<t),hLe=(i,e,t)=>Gw(i,t,n=>i[n][e]>=t);function mLe(i,e,t){let n=0,r=i.length;for(;n<r&&i[n]<e;)n++;for(;r>n&&i[r-1]>t;)r--;return n>0||r<i.length?i.slice(n,r):i}const QU=["push","pop","shift","splice","unshift"];function pLe(i,e){if(i._chartjs){i._chartjs.listeners.push(e);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),QU.forEach(t=>{const n="_onData"+Vw(t),r=i[t];Object.defineProperty(i,t,{configurable:!0,enumerable:!1,value(...s){const l=r.apply(this,s);return i._chartjs.listeners.forEach(o=>{typeof o[n]=="function"&&o[n](...s)}),l}})})}function i9(i,e){const t=i._chartjs;if(!t)return;const n=t.listeners,r=n.indexOf(e);r!==-1&&n.splice(r,1),!(n.length>0)&&(QU.forEach(s=>{delete i[s]}),delete i._chartjs)}function eW(i){const e=new Set;let t,n;for(t=0,n=i.length;t<n;++t)e.add(i[t]);return e.size===n?i:Array.from(e)}const tW=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function nW(i,e,t){const n=t||(l=>Array.prototype.slice.call(l));let r=!1,s=[];return function(...l){s=n(l),r||(r=!0,tW.call(window,()=>{r=!1,i.apply(e,s)}))}}function _Le(i,e){let t;return function(...n){return e?(clearTimeout(t),t=setTimeout(i,e,n)):i.apply(this,n),e}}const gLe=i=>i==="start"?"left":i==="end"?"right":"center",r9=(i,e,t)=>i==="start"?e:i==="end"?t:(e+t)/2;function iW(i,e,t){const n=e.length;let r=0,s=n;if(i._sorted){const{iScale:l,_parsed:o}=i,a=l.axis,{min:u,max:c,minDefined:f,maxDefined:d}=l.getUserBounds();f&&(r=ss(Math.min(Jc(o,l.axis,u).lo,t?n:Jc(e,a,l.getPixelForValue(u)).lo),0,n-1)),d?s=ss(Math.max(Jc(o,l.axis,c,!0).hi+1,t?0:Jc(e,a,l.getPixelForValue(c),!0).hi+1),r,n)-r:s=n-r}return{start:r,count:s}}function rW(i){const{xScale:e,yScale:t,_scaleRanges:n}=i,r={xmin:e.min,xmax:e.max,ymin:t.min,ymax:t.max};if(!n)return i._scaleRanges=r,!0;const s=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==t.min||n.ymax!==t.max;return Object.assign(n,r),s}const pg=i=>i===0||i===1,s9=(i,e,t)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-e)*Ai/t)),l9=(i,e,t)=>Math.pow(2,-10*i)*Math.sin((i-e)*Ai/t)+1,Hm={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*ur)+1,easeOutSine:i=>Math.sin(i*ur),easeInOutSine:i=>-.5*(Math.cos(cr*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>pg(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>pg(i)?i:s9(i,.075,.3),easeOutElastic:i=>pg(i)?i:l9(i,.075,.3),easeInOutElastic(i){return pg(i)?i:i<.5?.5*s9(i*2,.1125,.45):.5+.5*l9(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let e=1.70158;return(i/=.5)<1?.5*(i*i*(((e*=1.525)+1)*i-e)):.5*((i-=2)*i*(((e*=1.525)+1)*i+e)+2)},easeInBounce:i=>1-Hm.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Hm.easeInBounce(i*2)*.5:Hm.easeOutBounce(i*2-1)*.5+.5};/*!
 * @kurkle/color v0.2.1
 * https://github.com/kurkle/color#readme
 * (c) 2022 Jukka Kurkela
 * Released under the MIT License
 */function t_(i){return i+.5|0}const Lu=(i,e,t)=>Math.max(Math.min(i,t),e);function Pm(i){return Lu(t_(i*2.55),0,255)}function Yu(i){return Lu(t_(i*255),0,255)}function ja(i){return Lu(t_(i/2.55)/100,0,1)}function o9(i){return Lu(t_(i*100),0,100)}const Ll={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wk=[..."0123456789ABCDEF"],vLe=i=>wk[i&15],bLe=i=>wk[(i&240)>>4]+wk[i&15],_g=i=>(i&240)>>4===(i&15),kLe=i=>_g(i.r)&&_g(i.g)&&_g(i.b)&&_g(i.a);function yLe(i){var e=i.length,t;return i[0]==="#"&&(e===4||e===5?t={r:255&Ll[i[1]]*17,g:255&Ll[i[2]]*17,b:255&Ll[i[3]]*17,a:e===5?Ll[i[4]]*17:255}:(e===7||e===9)&&(t={r:Ll[i[1]]<<4|Ll[i[2]],g:Ll[i[3]]<<4|Ll[i[4]],b:Ll[i[5]]<<4|Ll[i[6]],a:e===9?Ll[i[7]]<<4|Ll[i[8]]:255})),t}const wLe=(i,e)=>i<255?e(i):"";function $Le(i){var e=kLe(i)?vLe:bLe;return i?"#"+e(i.r)+e(i.g)+e(i.b)+wLe(i.a,e):void 0}const FLe=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sW(i,e,t){const n=e*Math.min(t,1-t),r=(s,l=(s+i/30)%12)=>t-n*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function ELe(i,e,t){const n=(r,s=(r+i/60)%6)=>t-t*e*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function CLe(i,e,t){const n=sW(i,1,.5);let r;for(e+t>1&&(r=1/(e+t),e*=r,t*=r),r=0;r<3;r++)n[r]*=1-e-t,n[r]+=e;return n}function DLe(i,e,t,n,r){return i===r?(e-t)/n+(e<t?6:0):e===r?(t-i)/n+2:(i-e)/n+4}function Zw(i){const t=i.r/255,n=i.g/255,r=i.b/255,s=Math.max(t,n,r),l=Math.min(t,n,r),o=(s+l)/2;let a,u,c;return s!==l&&(c=s-l,u=o>.5?c/(2-s-l):c/(s+l),a=DLe(t,n,r,c,s),a=a*60+.5),[a|0,u||0,o]}function Xw(i,e,t,n){return(Array.isArray(e)?i(e[0],e[1],e[2]):i(e,t,n)).map(Yu)}function Kw(i,e,t){return Xw(sW,i,e,t)}function SLe(i,e,t){return Xw(CLe,i,e,t)}function TLe(i,e,t){return Xw(ELe,i,e,t)}function lW(i){return(i%360+360)%360}function ALe(i){const e=FLe.exec(i);let t=255,n;if(!e)return;e[5]!==n&&(t=e[6]?Pm(+e[5]):Yu(+e[5]));const r=lW(+e[2]),s=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?n=SLe(r,s,l):e[1]==="hsv"?n=TLe(r,s,l):n=Kw(r,s,l),{r:n[0],g:n[1],b:n[2],a:t}}function PLe(i,e){var t=Zw(i);t[0]=lW(t[0]+e),t=Kw(t),i.r=t[0],i.g=t[1],i.b=t[2]}function NLe(i){if(!i)return;const e=Zw(i),t=e[0],n=o9(e[1]),r=o9(e[2]);return i.a<255?`hsla(${t}, ${n}%, ${r}%, ${ja(i.a)})`:`hsl(${t}, ${n}%, ${r}%)`}const a9={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},u9={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function MLe(){const i={},e=Object.keys(u9),t=Object.keys(a9);let n,r,s,l,o;for(n=0;n<e.length;n++){for(l=o=e[n],r=0;r<t.length;r++)s=t[r],o=o.replace(s,a9[s]);s=parseInt(u9[l],16),i[o]=[s>>16&255,s>>8&255,s&255]}return i}let gg;function LLe(i){gg||(gg=MLe(),gg.transparent=[0,0,0,0]);const e=gg[i.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const OLe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function ILe(i){const e=OLe.exec(i);let t=255,n,r,s;if(!!e){if(e[7]!==n){const l=+e[7];t=e[8]?Pm(l):Lu(l*255,0,255)}return n=+e[1],r=+e[3],s=+e[5],n=255&(e[2]?Pm(n):Lu(n,0,255)),r=255&(e[4]?Pm(r):Lu(r,0,255)),s=255&(e[6]?Pm(s):Lu(s,0,255)),{r:n,g:r,b:s,a:t}}}function BLe(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${ja(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const Zb=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,pd=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function RLe(i,e,t){const n=pd(ja(i.r)),r=pd(ja(i.g)),s=pd(ja(i.b));return{r:Yu(Zb(n+t*(pd(ja(e.r))-n))),g:Yu(Zb(r+t*(pd(ja(e.g))-r))),b:Yu(Zb(s+t*(pd(ja(e.b))-s))),a:i.a+t*(e.a-i.a)}}function vg(i,e,t){if(i){let n=Zw(i);n[e]=Math.max(0,Math.min(n[e]+n[e]*t,e===0?360:1)),n=Kw(n),i.r=n[0],i.g=n[1],i.b=n[2]}}function oW(i,e){return i&&Object.assign(e||{},i)}function c9(i){var e={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(e={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(e.a=Yu(i[3]))):(e=oW(i,{r:0,g:0,b:0,a:1}),e.a=Yu(e.a)),e}function zLe(i){return i.charAt(0)==="r"?ILe(i):ALe(i)}class T1{constructor(e){if(e instanceof T1)return e;const t=typeof e;let n;t==="object"?n=c9(e):t==="string"&&(n=yLe(e)||LLe(e)||zLe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=oW(this._rgb);return e&&(e.a=ja(e.a)),e}set rgb(e){this._rgb=c9(e)}rgbString(){return this._valid?BLe(this._rgb):void 0}hexString(){return this._valid?$Le(this._rgb):void 0}hslString(){return this._valid?NLe(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let s;const l=t===s?.5:t,o=2*l-1,a=n.a-r.a,u=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;s=1-u,n.r=255&u*n.r+s*r.r+.5,n.g=255&u*n.g+s*r.g+.5,n.b=255&u*n.b+s*r.b+.5,n.a=l*n.a+(1-l)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=RLe(this._rgb,e._rgb,t)),this}clone(){return new T1(this.rgb)}alpha(e){return this._rgb.a=Yu(e),this}clearer(e){const t=this._rgb;return t.a*=1-e,this}greyscale(){const e=this._rgb,t=t_(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=t,this}opaquer(e){const t=this._rgb;return t.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return vg(this._rgb,2,e),this}darken(e){return vg(this._rgb,2,-e),this}saturate(e){return vg(this._rgb,1,e),this}desaturate(e){return vg(this._rgb,1,-e),this}rotate(e){return PLe(this._rgb,e),this}}function aW(i){return new T1(i)}function uW(i){if(i&&typeof i=="object"){const e=i.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function f9(i){return uW(i)?i:aW(i)}function Xb(i){return uW(i)?i:aW(i).saturate(.5).darken(.1).hexString()}const bf=Object.create(null),$k=Object.create(null);function Vm(i,e){if(!e)return i;const t=e.split(".");for(let n=0,r=t.length;n<r;++n){const s=t[n];i=i[s]||(i[s]=Object.create(null))}return i}function Kb(i,e,t){return typeof e=="string"?yp(Vm(i,e),t):yp(Vm(i,""),e)}class jLe{constructor(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,n)=>Xb(n.backgroundColor),this.hoverBorderColor=(t,n)=>Xb(n.borderColor),this.hoverColor=(t,n)=>Xb(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e)}set(e,t){return Kb(this,e,t)}get(e){return Vm(this,e)}describe(e,t){return Kb($k,e,t)}override(e,t){return Kb(bf,e,t)}route(e,t,n,r){const s=Vm(this,e),l=Vm(this,n),o="_"+t;Object.defineProperties(s,{[o]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const a=this[o],u=l[r];return Xn(a)?Object.assign({},u,a):ri(a,u)},set(a){this[o]=a}}})}}var si=new jLe({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function YLe(i){return!i||Fi(i.size)||Fi(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function A1(i,e,t,n,r){let s=e[r];return s||(s=e[r]=i.measureText(r).width,t.push(r)),s>n&&(n=s),n}function ULe(i,e,t,n){n=n||{};let r=n.data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(r=n.data={},s=n.garbageCollect=[],n.font=e),i.save(),i.font=e;let l=0;const o=t.length;let a,u,c,f,d;for(a=0;a<o;a++)if(f=t[a],f!=null&&Gi(f)!==!0)l=A1(i,r,s,l,f);else if(Gi(f))for(u=0,c=f.length;u<c;u++)d=f[u],d!=null&&!Gi(d)&&(l=A1(i,r,s,l,d));i.restore();const m=s.length/2;if(m>t.length){for(a=0;a<m;a++)delete r[s[a]];s.splice(0,m)}return l}function jc(i,e,t){const n=i.currentDevicePixelRatio,r=t!==0?Math.max(t/2,.5):0;return Math.round((e-r)*n)/n+r}function d9(i,e){e=e||i.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,i.width,i.height),e.restore()}function Fk(i,e,t,n){WLe(i,e,t,n,null)}function WLe(i,e,t,n,r){let s,l,o,a,u,c;const f=e.pointStyle,d=e.rotation,m=e.radius;let p=(d||0)*aLe;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){i.save(),i.translate(t,n),i.rotate(p),i.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),i.restore();return}if(!(isNaN(m)||m<=0)){switch(i.beginPath(),f){default:r?i.ellipse(t,n,r/2,m,0,0,Ai):i.arc(t,n,m,0,Ai),i.closePath();break;case"triangle":i.moveTo(t+Math.sin(p)*m,n-Math.cos(p)*m),p+=e9,i.lineTo(t+Math.sin(p)*m,n-Math.cos(p)*m),p+=e9,i.lineTo(t+Math.sin(p)*m,n-Math.cos(p)*m),i.closePath();break;case"rectRounded":u=m*.516,a=m-u,l=Math.cos(p+_m)*a,o=Math.sin(p+_m)*a,i.arc(t-l,n-o,u,p-cr,p-ur),i.arc(t+o,n-l,u,p-ur,p),i.arc(t+l,n+o,u,p,p+ur),i.arc(t-o,n+l,u,p+ur,p+cr),i.closePath();break;case"rect":if(!d){a=Math.SQRT1_2*m,c=r?r/2:a,i.rect(t-c,n-a,2*c,2*a);break}p+=_m;case"rectRot":l=Math.cos(p)*m,o=Math.sin(p)*m,i.moveTo(t-l,n-o),i.lineTo(t+o,n-l),i.lineTo(t+l,n+o),i.lineTo(t-o,n+l),i.closePath();break;case"crossRot":p+=_m;case"cross":l=Math.cos(p)*m,o=Math.sin(p)*m,i.moveTo(t-l,n-o),i.lineTo(t+l,n+o),i.moveTo(t+o,n-l),i.lineTo(t-o,n+l);break;case"star":l=Math.cos(p)*m,o=Math.sin(p)*m,i.moveTo(t-l,n-o),i.lineTo(t+l,n+o),i.moveTo(t+o,n-l),i.lineTo(t-o,n+l),p+=_m,l=Math.cos(p)*m,o=Math.sin(p)*m,i.moveTo(t-l,n-o),i.lineTo(t+l,n+o),i.moveTo(t+o,n-l),i.lineTo(t-o,n+l);break;case"line":l=r?r/2:Math.cos(p)*m,o=Math.sin(p)*m,i.moveTo(t-l,n-o),i.lineTo(t+l,n+o);break;case"dash":i.moveTo(t,n),i.lineTo(t+Math.cos(p)*m,n+Math.sin(p)*m);break}i.fill(),e.borderWidth>0&&i.stroke()}}function Fp(i,e,t){return t=t||.5,!e||i&&i.x>e.left-t&&i.x<e.right+t&&i.y>e.top-t&&i.y<e.bottom+t}function Jw(i,e){i.save(),i.beginPath(),i.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),i.clip()}function Qw(i){i.restore()}function qLe(i,e,t,n,r){if(!e)return i.lineTo(t.x,t.y);if(r==="middle"){const s=(e.x+t.x)/2;i.lineTo(s,e.y),i.lineTo(s,t.y)}else r==="after"!=!!n?i.lineTo(e.x,t.y):i.lineTo(t.x,e.y);i.lineTo(t.x,t.y)}function HLe(i,e,t,n){if(!e)return i.lineTo(t.x,t.y);i.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?t.cp2x:t.cp1x,n?t.cp2y:t.cp1y,t.x,t.y)}function P1(i,e,t,n,r,s={}){const l=Gi(e)?e:[e],o=s.strokeWidth>0&&s.strokeColor!=="";let a,u;for(i.save(),i.font=r.string,VLe(i,s),a=0;a<l.length;++a)u=l[a],o&&(s.strokeColor&&(i.strokeStyle=s.strokeColor),Fi(s.strokeWidth)||(i.lineWidth=s.strokeWidth),i.strokeText(u,t,n,s.maxWidth)),i.fillText(u,t,n,s.maxWidth),xLe(i,t,n,u,s),n+=r.lineHeight;i.restore()}function VLe(i,e){e.translation&&i.translate(e.translation[0],e.translation[1]),Fi(e.rotation)||i.rotate(e.rotation),e.color&&(i.fillStyle=e.color),e.textAlign&&(i.textAlign=e.textAlign),e.textBaseline&&(i.textBaseline=e.textBaseline)}function xLe(i,e,t,n,r){if(r.strikethrough||r.underline){const s=i.measureText(n),l=e-s.actualBoundingBoxLeft,o=e+s.actualBoundingBoxRight,a=t-s.actualBoundingBoxAscent,u=t+s.actualBoundingBoxDescent,c=r.strikethrough?(a+u)/2:u;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=r.decorationWidth||2,i.moveTo(l,c),i.lineTo(o,c),i.stroke()}}function N1(i,e){const{x:t,y:n,w:r,h:s,radius:l}=e;i.arc(t+l.topLeft,n+l.topLeft,l.topLeft,-ur,cr,!0),i.lineTo(t,n+s-l.bottomLeft),i.arc(t+l.bottomLeft,n+s-l.bottomLeft,l.bottomLeft,cr,ur,!0),i.lineTo(t+r-l.bottomRight,n+s),i.arc(t+r-l.bottomRight,n+s-l.bottomRight,l.bottomRight,ur,0,!0),i.lineTo(t+r,n+l.topRight),i.arc(t+r-l.topRight,n+l.topRight,l.topRight,0,-ur,!0),i.lineTo(t+l.topLeft,n)}const GLe=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),ZLe=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function XLe(i,e){const t=(""+i).match(GLe);if(!t||t[1]==="normal")return e*1.2;switch(i=+t[2],t[3]){case"px":return i;case"%":i/=100;break}return e*i}const KLe=i=>+i||0;function e$(i,e){const t={},n=Xn(e),r=n?Object.keys(e):e,s=Xn(i)?n?l=>ri(i[l],i[e[l]]):l=>i[l]:()=>i;for(const l of r)t[l]=KLe(s(l));return t}function cW(i){return e$(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Od(i){return e$(i,["topLeft","topRight","bottomLeft","bottomRight"])}function ql(i){const e=cW(i);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fl(i,e){i=i||{},e=e||si.font;let t=ri(i.size,e.size);typeof t=="string"&&(t=parseInt(t,10));let n=ri(i.style,e.style);n&&!(""+n).match(ZLe)&&(console.warn('Invalid font style specified: "'+n+'"'),n="");const r={family:ri(i.family,e.family),lineHeight:XLe(ri(i.lineHeight,e.lineHeight),t),size:t,style:n,weight:ri(i.weight,e.weight),string:""};return r.string=YLe(r),r}function bg(i,e,t,n){let r=!0,s,l,o;for(s=0,l=i.length;s<l;++s)if(o=i[s],o!==void 0&&(e!==void 0&&typeof o=="function"&&(o=o(e),r=!1),t!==void 0&&Gi(o)&&(o=o[t%o.length],r=!1),o!==void 0))return n&&!r&&(n.cacheable=!1),o}function JLe(i,e,t){const{min:n,max:r}=i,s=ZU(e,(r-n)/2),l=(o,a)=>t&&o===0?0:o+a;return{min:l(n,-Math.abs(s)),max:l(r,s)}}function fc(i,e){return Object.assign(Object.create(i),e)}function t$(i,e=[""],t=i,n,r=()=>i[0]){Wl(n)||(n=mW("_fallback",i));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:t,_fallback:n,_getTarget:r,override:l=>t$([l,...i],e,t,n)};return new Proxy(s,{deleteProperty(l,o){return delete l[o],delete l._keys,delete i[0][o],!0},get(l,o){return dW(l,o,()=>lOe(o,e,i,l))},getOwnPropertyDescriptor(l,o){return Reflect.getOwnPropertyDescriptor(l._scopes[0],o)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(l,o){return m9(l).includes(o)},ownKeys(l){return m9(l)},set(l,o,a){const u=l._storage||(l._storage=r());return l[o]=u[o]=a,delete l._keys,!0}})}function rh(i,e,t,n){const r={_cacheable:!1,_proxy:i,_context:e,_subProxy:t,_stack:new Set,_descriptors:fW(i,n),setContext:s=>rh(i,s,t,n),override:s=>rh(i.override(s),e,t,n)};return new Proxy(r,{deleteProperty(s,l){return delete s[l],delete i[l],!0},get(s,l,o){return dW(s,l,()=>eOe(s,l,o))},getOwnPropertyDescriptor(s,l){return s._descriptors.allKeys?Reflect.has(i,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,l)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(s,l){return Reflect.has(i,l)},ownKeys(){return Reflect.ownKeys(i)},set(s,l,o){return i[l]=o,delete s[l],!0}})}function fW(i,e={scriptable:!0,indexable:!0}){const{_scriptable:t=e.scriptable,_indexable:n=e.indexable,_allKeys:r=e.allKeys}=i;return{allKeys:r,scriptable:t,indexable:n,isScriptable:tc(t)?t:()=>t,isIndexable:tc(n)?n:()=>n}}const QLe=(i,e)=>i?i+Vw(e):e,n$=(i,e)=>Xn(e)&&i!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function dW(i,e,t){if(Object.prototype.hasOwnProperty.call(i,e))return i[e];const n=t();return i[e]=n,n}function eOe(i,e,t){const{_proxy:n,_context:r,_subProxy:s,_descriptors:l}=i;let o=n[e];return tc(o)&&l.isScriptable(e)&&(o=tOe(e,o,i,t)),Gi(o)&&o.length&&(o=nOe(e,o,i,l.isIndexable)),n$(e,o)&&(o=rh(o,r,s&&s[e],l)),o}function tOe(i,e,t,n){const{_proxy:r,_context:s,_subProxy:l,_stack:o}=t;if(o.has(i))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+i);return o.add(i),e=e(s,l||n),o.delete(i),n$(i,e)&&(e=i$(r._scopes,r,i,e)),e}function nOe(i,e,t,n){const{_proxy:r,_context:s,_subProxy:l,_descriptors:o}=t;if(Wl(s.index)&&n(i))e=e[s.index%e.length];else if(Xn(e[0])){const a=e,u=r._scopes.filter(c=>c!==a);e=[];for(const c of a){const f=i$(u,r,i,c);e.push(rh(f,s,l&&l[i],o))}}return e}function hW(i,e,t){return tc(i)?i(e,t):i}const iOe=(i,e)=>i===!0?e:typeof i=="string"?ec(e,i):void 0;function rOe(i,e,t,n,r){for(const s of e){const l=iOe(t,s);if(l){i.add(l);const o=hW(l._fallback,t,r);if(Wl(o)&&o!==t&&o!==n)return o}else if(l===!1&&Wl(n)&&t!==n)return null}return!1}function i$(i,e,t,n){const r=e._rootScopes,s=hW(e._fallback,t,n),l=[...i,...r],o=new Set;o.add(n);let a=h9(o,l,t,s||t,n);return a===null||Wl(s)&&s!==t&&(a=h9(o,l,s,a,n),a===null)?!1:t$(Array.from(o),[""],r,s,()=>sOe(e,t,n))}function h9(i,e,t,n,r){for(;t;)t=rOe(i,e,t,n,r);return t}function sOe(i,e,t){const n=i._getTarget();e in n||(n[e]={});const r=n[e];return Gi(r)&&Xn(t)?t:r}function lOe(i,e,t,n){let r;for(const s of e)if(r=mW(QLe(s,i),t),Wl(r))return n$(i,r)?i$(t,n,i,r):r}function mW(i,e){for(const t of e){if(!t)continue;const n=t[i];if(Wl(n))return n}}function m9(i){let e=i._keys;return e||(e=i._keys=oOe(i._scopes)),e}function oOe(i){const e=new Set;for(const t of i)for(const n of Object.keys(t).filter(r=>!r.startsWith("_")))e.add(n);return Array.from(e)}function pW(i,e,t,n){const{iScale:r}=i,{key:s="r"}=this._parsing,l=new Array(n);let o,a,u,c;for(o=0,a=n;o<a;++o)u=o+t,c=e[u],l[o]={r:r.parse(ec(c,s),u)};return l}const aOe=Number.EPSILON||1e-14,sh=(i,e)=>e<i.length&&!i[e].skip&&i[e],_W=i=>i==="x"?"y":"x";function uOe(i,e,t,n){const r=i.skip?e:i,s=e,l=t.skip?e:t,o=yk(s,r),a=yk(l,s);let u=o/(o+a),c=a/(o+a);u=isNaN(u)?0:u,c=isNaN(c)?0:c;const f=n*u,d=n*c;return{previous:{x:s.x-f*(l.x-r.x),y:s.y-f*(l.y-r.y)},next:{x:s.x+d*(l.x-r.x),y:s.y+d*(l.y-r.y)}}}function cOe(i,e,t){const n=i.length;let r,s,l,o,a,u=sh(i,0);for(let c=0;c<n-1;++c)if(a=u,u=sh(i,c+1),!(!a||!u)){if(qm(e[c],0,aOe)){t[c]=t[c+1]=0;continue}r=t[c]/e[c],s=t[c+1]/e[c],o=Math.pow(r,2)+Math.pow(s,2),!(o<=9)&&(l=3/Math.sqrt(o),t[c]=r*l*e[c],t[c+1]=s*l*e[c])}}function fOe(i,e,t="x"){const n=_W(t),r=i.length;let s,l,o,a=sh(i,0);for(let u=0;u<r;++u){if(l=o,o=a,a=sh(i,u+1),!o)continue;const c=o[t],f=o[n];l&&(s=(c-l[t])/3,o[`cp1${t}`]=c-s,o[`cp1${n}`]=f-s*e[u]),a&&(s=(a[t]-c)/3,o[`cp2${t}`]=c+s,o[`cp2${n}`]=f+s*e[u])}}function dOe(i,e="x"){const t=_W(e),n=i.length,r=Array(n).fill(0),s=Array(n);let l,o,a,u=sh(i,0);for(l=0;l<n;++l)if(o=a,a=u,u=sh(i,l+1),!!a){if(u){const c=u[e]-a[e];r[l]=c!==0?(u[t]-a[t])/c:0}s[l]=o?u?Qo(r[l-1])!==Qo(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}cOe(i,r,s),fOe(i,s,e)}function kg(i,e,t){return Math.max(Math.min(i,t),e)}function hOe(i,e){let t,n,r,s,l,o=Fp(i[0],e);for(t=0,n=i.length;t<n;++t)l=s,s=o,o=t<n-1&&Fp(i[t+1],e),s&&(r=i[t],l&&(r.cp1x=kg(r.cp1x,e.left,e.right),r.cp1y=kg(r.cp1y,e.top,e.bottom)),o&&(r.cp2x=kg(r.cp2x,e.left,e.right),r.cp2y=kg(r.cp2y,e.top,e.bottom)))}function mOe(i,e,t,n,r){let s,l,o,a;if(e.spanGaps&&(i=i.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")dOe(i,r);else{let u=n?i[i.length-1]:i[0];for(s=0,l=i.length;s<l;++s)o=i[s],a=uOe(u,o,i[Math.min(s+1,l-(n?0:1))%l],e.tension),o.cp1x=a.previous.x,o.cp1y=a.previous.y,o.cp2x=a.next.x,o.cp2y=a.next.y,u=o}e.capBezierPoints&&hOe(i,t)}function gW(){return typeof window<"u"&&typeof document<"u"}function r$(i){let e=i.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function M1(i,e,t){let n;return typeof i=="string"?(n=parseInt(i,10),i.indexOf("%")!==-1&&(n=n/100*e.parentNode[t])):n=i,n}const H0=i=>window.getComputedStyle(i,null);function pOe(i,e){return H0(i).getPropertyValue(e)}const _Oe=["top","right","bottom","left"];function sf(i,e,t){const n={};t=t?"-"+t:"";for(let r=0;r<4;r++){const s=_Oe[r];n[s]=parseFloat(i[e+"-"+s+t])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const gOe=(i,e,t)=>(i>0||e>0)&&(!t||!t.shadowRoot);function vOe(i,e){const t=i.touches,n=t&&t.length?t[0]:i,{offsetX:r,offsetY:s}=n;let l=!1,o,a;if(gOe(r,s,i.target))o=r,a=s;else{const u=e.getBoundingClientRect();o=n.clientX-u.left,a=n.clientY-u.top,l=!0}return{x:o,y:a,box:l}}function Wc(i,e){if("native"in i)return i;const{canvas:t,currentDevicePixelRatio:n}=e,r=H0(t),s=r.boxSizing==="border-box",l=sf(r,"padding"),o=sf(r,"border","width"),{x:a,y:u,box:c}=vOe(i,t),f=l.left+(c&&o.left),d=l.top+(c&&o.top);let{width:m,height:p}=e;return s&&(m-=l.width+o.width,p-=l.height+o.height),{x:Math.round((a-f)/m*t.width/n),y:Math.round((u-d)/p*t.height/n)}}function bOe(i,e,t){let n,r;if(e===void 0||t===void 0){const s=r$(i);if(!s)e=i.clientWidth,t=i.clientHeight;else{const l=s.getBoundingClientRect(),o=H0(s),a=sf(o,"border","width"),u=sf(o,"padding");e=l.width-u.width-a.width,t=l.height-u.height-a.height,n=M1(o.maxWidth,s,"clientWidth"),r=M1(o.maxHeight,s,"clientHeight")}}return{width:e,height:t,maxWidth:n||S1,maxHeight:r||S1}}const Jb=i=>Math.round(i*10)/10;function kOe(i,e,t,n){const r=H0(i),s=sf(r,"margin"),l=M1(r.maxWidth,i,"clientWidth")||S1,o=M1(r.maxHeight,i,"clientHeight")||S1,a=bOe(i,e,t);let{width:u,height:c}=a;if(r.boxSizing==="content-box"){const f=sf(r,"border","width"),d=sf(r,"padding");u-=d.width+f.width,c-=d.height+f.height}return u=Math.max(0,u-s.width),c=Math.max(0,n?Math.floor(u/n):c-s.height),u=Jb(Math.min(u,l,a.maxWidth)),c=Jb(Math.min(c,o,a.maxHeight)),u&&!c&&(c=Jb(u/2)),{width:u,height:c}}function p9(i,e,t){const n=e||1,r=Math.floor(i.height*n),s=Math.floor(i.width*n);i.height=r/n,i.width=s/n;const l=i.canvas;return l.style&&(t||!l.style.height&&!l.style.width)&&(l.style.height=`${i.height}px`,l.style.width=`${i.width}px`),i.currentDevicePixelRatio!==n||l.height!==r||l.width!==s?(i.currentDevicePixelRatio=n,l.height=r,l.width=s,i.ctx.setTransform(n,0,0,n,0,0),!0):!1}const yOe=function(){let i=!1;try{const e={get passive(){return i=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return i}();function _9(i,e){const t=pOe(i,e),n=t&&t.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function qc(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:i.y+t*(e.y-i.y)}}function wOe(i,e,t,n){return{x:i.x+t*(e.x-i.x),y:n==="middle"?t<.5?i.y:e.y:n==="after"?t<1?i.y:e.y:t>0?e.y:i.y}}function $Oe(i,e,t,n){const r={x:i.cp2x,y:i.cp2y},s={x:e.cp1x,y:e.cp1y},l=qc(i,r,t),o=qc(r,s,t),a=qc(s,e,t),u=qc(l,o,t),c=qc(o,a,t);return qc(u,c,t)}const g9=new Map;function FOe(i,e){e=e||{};const t=i+JSON.stringify(e);let n=g9.get(t);return n||(n=new Intl.NumberFormat(i,e),g9.set(t,n)),n}function n_(i,e,t){return FOe(e,t).format(i)}const EOe=function(i,e){return{x(t){return i+i+e-t},setWidth(t){e=t},textAlign(t){return t==="center"?t:t==="right"?"left":"right"},xPlus(t,n){return t-n},leftForLtr(t,n){return t-n}}},COe=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,e){return i+e},leftForLtr(i,e){return i}}};function Qb(i,e,t){return i?EOe(e,t):COe()}function DOe(i,e){let t,n;(e==="ltr"||e==="rtl")&&(t=i.canvas.style,n=[t.getPropertyValue("direction"),t.getPropertyPriority("direction")],t.setProperty("direction",e,"important"),i.prevTextDirection=n)}function SOe(i,e){e!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",e[0],e[1]))}function vW(i){return i==="angle"?{between:wp,compare:fLe,normalize:kl}:{between:$p,compare:(e,t)=>e-t,normalize:e=>e}}function v9({start:i,end:e,count:t,loop:n,style:r}){return{start:i%t,end:e%t,loop:n&&(e-i+1)%t===0,style:r}}function TOe(i,e,t){const{property:n,start:r,end:s}=t,{between:l,normalize:o}=vW(n),a=e.length;let{start:u,end:c,loop:f}=i,d,m;if(f){for(u+=a,c+=a,d=0,m=a;d<m&&l(o(e[u%a][n]),r,s);++d)u--,c--;u%=a,c%=a}return c<u&&(c+=a),{start:u,end:c,loop:f,style:i.style}}function bW(i,e,t){if(!t)return[i];const{property:n,start:r,end:s}=t,l=e.length,{compare:o,between:a,normalize:u}=vW(n),{start:c,end:f,loop:d,style:m}=TOe(i,e,t),p=[];let g=!1,k=null,$,C,E;const S=()=>a(r,E,$)&&o(r,E)!==0,T=()=>o(s,$)===0||a(s,E,$),M=()=>g||S(),R=()=>!g||T();for(let Y=c,z=c;Y<=f;++Y)C=e[Y%l],!C.skip&&($=u(C[n]),$!==E&&(g=a($,r,s),k===null&&M()&&(k=o($,r)===0?Y:z),k!==null&&R()&&(p.push(v9({start:k,end:Y,loop:d,count:l,style:m})),k=null),z=Y,E=$));return k!==null&&p.push(v9({start:k,end:f,loop:d,count:l,style:m})),p}function kW(i,e){const t=[],n=i.segments;for(let r=0;r<n.length;r++){const s=bW(n[r],i.points,e);s.length&&t.push(...s)}return t}function AOe(i,e,t,n){let r=0,s=e-1;if(t&&!n)for(;r<e&&!i[r].skip;)r++;for(;r<e&&i[r].skip;)r++;for(r%=e,t&&(s+=r);s>r&&i[s%e].skip;)s--;return s%=e,{start:r,end:s}}function POe(i,e,t,n){const r=i.length,s=[];let l=e,o=i[e],a;for(a=e+1;a<=t;++a){const u=i[a%r];u.skip||u.stop?o.skip||(n=!1,s.push({start:e%r,end:(a-1)%r,loop:n}),e=l=u.stop?a:null):(l=a,o.skip&&(e=a)),o=u}return l!==null&&s.push({start:e%r,end:l%r,loop:n}),s}function NOe(i,e){const t=i.points,n=i.options.spanGaps,r=t.length;if(!r)return[];const s=!!i._loop,{start:l,end:o}=AOe(t,r,s,n);if(n===!0)return b9(i,[{start:l,end:o,loop:s}],t,e);const a=o<l?o+r:o,u=!!i._fullLoop&&l===0&&o===r-1;return b9(i,POe(t,l,a,u),t,e)}function b9(i,e,t,n){return!n||!n.setContext||!t?e:MOe(i,e,t,n)}function MOe(i,e,t,n){const r=i._chart.getContext(),s=k9(i.options),{_datasetIndex:l,options:{spanGaps:o}}=i,a=t.length,u=[];let c=s,f=e[0].start,d=f;function m(p,g,k,$){const C=o?-1:1;if(p!==g){for(p+=a;t[p%a].skip;)p-=C;for(;t[g%a].skip;)g+=C;p%a!==g%a&&(u.push({start:p%a,end:g%a,loop:k,style:$}),c=$,f=g%a)}}for(const p of e){f=o?f:p.start;let g=t[f%a],k;for(d=f+1;d<=p.end;d++){const $=t[d%a];k=k9(n.setContext(fc(r,{type:"segment",p0:g,p1:$,p0DataIndex:(d-1)%a,p1DataIndex:d%a,datasetIndex:l}))),LOe(k,c)&&m(f,d-1,p.loop,c),g=$,c=k}f<d-1&&m(f,d-1,p.loop,c)}return u}function k9(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function LOe(i,e){return e&&JSON.stringify(i)!==JSON.stringify(e)}/*!
 * Chart.js v3.9.1
 * https://www.chartjs.org
 * (c) 2022 Chart.js Contributors
 * Released under the MIT License
 */class OOe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const s=t.listeners[r],l=t.duration;s.forEach(o=>o({chart:e,initial:t.initial,numSteps:l,currentStep:Math.min(n-t.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=tW.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let l=s.length-1,o=!1,a;for(;l>=0;--l)a=s[l],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),o=!0):(s[l]=s[s.length-1],s.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,t===0&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){!t||!t.length||this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);!t||(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!(!t||!t.running||!t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Ba=new OOe;const y9="transparent",IOe={boolean(i,e,t){return t>.5?e:i},color(i,e,t){const n=f9(i||y9),r=n.valid&&f9(e||y9);return r&&r.valid?r.mix(n,t).hexString():e},number(i,e,t){return i+(e-i)*t}};class BOe{constructor(e,t,n,r){const s=t[n];r=bg([e.to,r,s,e.from]);const l=bg([e.from,s,r]);this._active=!0,this._fn=e.fn||IOe[e.type||typeof l],this._easing=Hm[e.easing]||Hm.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,l=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=bg([e.to,t,r,e.from]),this._from=bg([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,s=this._from,l=this._loop,o=this._to;let a;if(this._active=s!==o&&(l||t<n),!this._active){this._target[r]=o,this._notify(!0);return}if(t<0){this._target[r]=s;return}a=t/n%2,a=l&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(s,o,a)}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}const ROe=["x","y","borderWidth","radius","tension"],zOe=["color","borderColor","backgroundColor"];si.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const jOe=Object.keys(si.animation);si.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:i=>i!=="onProgress"&&i!=="onComplete"&&i!=="fn"});si.set("animations",{colors:{type:"color",properties:zOe},numbers:{type:"number",properties:ROe}});si.describe("animations",{_fallback:"animation"});si.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:i=>i|0}}}});class yW{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!Xn(e))return;const t=this._properties;Object.getOwnPropertyNames(e).forEach(n=>{const r=e[n];if(!Xn(r))return;const s={};for(const l of jOe)s[l]=r[l];(Gi(r.properties)&&r.properties||[n]).forEach(l=>{(l===n||!t.has(l))&&t.set(l,s)})})}_animateOptions(e,t){const n=t.options,r=UOe(e,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&YOe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,r=[],s=e.$animations||(e.$animations={}),l=Object.keys(t),o=Date.now();let a;for(a=l.length-1;a>=0;--a){const u=l[a];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,t));continue}const c=t[u];let f=s[u];const d=n.get(u);if(f)if(d&&f.active()){f.update(d,c,o);continue}else f.cancel();if(!d||!d.duration){e[u]=c;continue}s[u]=f=new BOe(d,e,u,c),r.push(f)}return r}update(e,t){if(this._properties.size===0){Object.assign(e,t);return}const n=this._createAnimations(e,t);if(n.length)return Ba.add(this._chart,n),!0}}function YOe(i,e){const t=[],n=Object.keys(e);for(let r=0;r<n.length;r++){const s=i[n[r]];s&&s.active()&&t.push(s.wait())}return Promise.all(t)}function UOe(i,e){if(!e)return;let t=i.options;if(!t){i.options=e;return}return t.$shared&&(i.options=t=Object.assign({},t,{$shared:!1,$animations:{}})),t}function w9(i,e){const t=i&&i.options||{},n=t.reverse,r=t.min===void 0?e:0,s=t.max===void 0?e:0;return{start:n?s:r,end:n?r:s}}function WOe(i,e,t){if(t===!1)return!1;const n=w9(i,t),r=w9(e,t);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function qOe(i){let e,t,n,r;return Xn(i)?(e=i.top,t=i.right,n=i.bottom,r=i.left):e=t=n=r=i,{top:e,right:t,bottom:n,left:r,disabled:i===!1}}function wW(i,e){const t=[],n=i._getSortedDatasetMetas(e);let r,s;for(r=0,s=n.length;r<s;++r)t.push(n[r].index);return t}function $9(i,e,t,n={}){const r=i.keys,s=n.mode==="single";let l,o,a,u;if(e!==null){for(l=0,o=r.length;l<o;++l){if(a=+r[l],a===t){if(n.all)continue;break}u=i.values[a],gr(u)&&(s||e===0||Qo(e)===Qo(u))&&(e+=u)}return e}}function HOe(i){const e=Object.keys(i),t=new Array(e.length);let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],t[n]={x:s,y:i[s]};return t}function F9(i,e){const t=i&&i.options.stacked;return t||t===void 0&&e.stack!==void 0}function VOe(i,e,t){return`${i.id}.${e.id}.${t.stack||t.type}`}function xOe(i){const{min:e,max:t,minDefined:n,maxDefined:r}=i.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:r?t:Number.POSITIVE_INFINITY}}function GOe(i,e,t){const n=i[e]||(i[e]={});return n[t]||(n[t]={})}function E9(i,e,t,n){for(const r of e.getMatchingVisibleMetas(n).reverse()){const s=i[r.index];if(t&&s>0||!t&&s<0)return r.index}return null}function C9(i,e){const{chart:t,_cachedMeta:n}=i,r=t._stacks||(t._stacks={}),{iScale:s,vScale:l,index:o}=n,a=s.axis,u=l.axis,c=VOe(s,l,n),f=e.length;let d;for(let m=0;m<f;++m){const p=e[m],{[a]:g,[u]:k}=p,$=p._stacks||(p._stacks={});d=$[u]=GOe(r,c,g),d[o]=k,d._top=E9(d,l,!0,n.type),d._bottom=E9(d,l,!1,n.type)}}function e2(i,e){const t=i.scales;return Object.keys(t).filter(n=>t[n].axis===e).shift()}function ZOe(i,e){return fc(i,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function XOe(i,e,t){return fc(i,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:t,index:e,mode:"default",type:"data"})}function gm(i,e){const t=i.controller.index,n=i.vScale&&i.vScale.axis;if(!!n){e=e||i._parsed;for(const r of e){const s=r._stacks;if(!s||s[n]===void 0||s[n][t]===void 0)return;delete s[n][t]}}}const t2=i=>i==="reset"||i==="none",D9=(i,e)=>e?i:Object.assign({},i),KOe=(i,e,t)=>i&&!e.hidden&&e._stacked&&{keys:wW(t,!0),values:null};class bo{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=F9(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&gm(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(f,d,m,p)=>f==="x"?d:f==="r"?p:m,s=t.xAxisID=ri(n.xAxisID,e2(e,"x")),l=t.yAxisID=ri(n.yAxisID,e2(e,"y")),o=t.rAxisID=ri(n.rAxisID,e2(e,"r")),a=t.indexAxis,u=t.iAxisID=r(a,s,l,o),c=t.vAxisID=r(a,l,s,o);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(l),t.rScale=this.getScaleForId(o),t.iScale=this.getScaleForId(u),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&i9(this._data,this),e._stacked&&gm(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(Xn(t))this._data=HOe(t);else if(n!==t){if(n){i9(n,this);const r=this._cachedMeta;gm(r),r._parsed=[]}t&&Object.isExtensible(t)&&pLe(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=F9(t.vScale,t),t.stack!==n.stack&&(r=!0,gm(t),t.stack=n.stack),this._resyncElements(e),(r||s!==t._stacked)&&C9(this,t._parsed)}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:l}=n,o=s.axis;let a=e===0&&t===r.length?!0:n._sorted,u=e>0&&n._parsed[e-1],c,f,d;if(this._parsing===!1)n._parsed=r,n._sorted=!0,d=r;else{Gi(r[e])?d=this.parseArrayData(n,r,e,t):Xn(r[e])?d=this.parseObjectData(n,r,e,t):d=this.parsePrimitiveData(n,r,e,t);const m=()=>f[o]===null||u&&f[o]<u[o];for(c=0;c<t;++c)n._parsed[c+e]=f=d[c],a&&(m()&&(a=!1),u=f);n._sorted=a}l&&C9(this,d)}parsePrimitiveData(e,t,n,r){const{iScale:s,vScale:l}=e,o=s.axis,a=l.axis,u=s.getLabels(),c=s===l,f=new Array(r);let d,m,p;for(d=0,m=r;d<m;++d)p=d+n,f[d]={[o]:c||s.parse(u[p],p),[a]:l.parse(t[p],p)};return f}parseArrayData(e,t,n,r){const{xScale:s,yScale:l}=e,o=new Array(r);let a,u,c,f;for(a=0,u=r;a<u;++a)c=a+n,f=t[c],o[a]={x:s.parse(f[0],c),y:l.parse(f[1],c)};return o}parseObjectData(e,t,n,r){const{xScale:s,yScale:l}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,u=new Array(r);let c,f,d,m;for(c=0,f=r;c<f;++c)d=c+n,m=t[d],u[c]={x:s.parse(ec(m,o),d),y:l.parse(ec(m,a),d)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,s=this._cachedMeta,l=t[e.axis],o={keys:wW(r,!0),values:t._stacks[e.axis]};return $9(o,l,s.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const s=n[t.axis];let l=s===null?NaN:s;const o=r&&n._stacks[t.axis];r&&o&&(r.values=o,l=$9(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&e===n.iScale,l=r.length,o=this._getOtherScale(e),a=KOe(t,n,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:f}=xOe(o);let d,m;function p(){m=r[d];const g=m[o.axis];return!gr(m[e.axis])||c>g||f<g}for(d=0;d<l&&!(!p()&&(this.updateRangeFromParsed(u,e,m,a),s));++d);if(s){for(d=l-1;d>=0;--d)if(!p()){this.updateRangeFromParsed(u,e,m,a);break}}return u}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,s,l;for(r=0,s=t.length;r<s;++r)l=t[r][e.axis],gr(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=qOe(ri(this.options.clip,WOe(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],s=t.chartArea,l=[],o=this._drawStart||0,a=this._drawCount||r.length-o,u=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,o,a),c=o;c<o+a;++c){const f=r[c];f.hidden||(f.active&&u?l.push(f):f.draw(e,s))}for(c=0;c<l.length;++c)l[c].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];s=l.$context||(l.$context=XOe(this.getContext(),e,l)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=ZOe(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e,t="default",n){const r=t==="active",s=this._cachedDataOpts,l=e+"-"+t,o=s[l],a=this.enableOptionSharing&&Wl(n);if(o)return D9(o,a);const u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),f=r?[`${e}Hover`,"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),m=Object.keys(si.elements[e]),p=()=>this.getContext(n,r),g=u.resolveNamedOptions(d,m,p,f);return g.$shared&&(g.$shared=a,s[l]=Object.freeze(D9(g,a))),g}_resolveAnimations(e,t,n){const r=this.chart,s=this._cachedDataOpts,l=`animation-${t}`,o=s[l];if(o)return o;let a;if(r.options.animation!==!1){const c=this.chart.config,f=c.datasetAnimationScopeKeys(this._type,t),d=c.getOptionScopes(this.getDataset(),f);a=c.createResolver(d,this.getContext(e,n,t))}const u=new yW(r,a&&a.animations);return a&&a._cacheable&&(s[l]=Object.freeze(u)),u}getSharedOptions(e){if(!!e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||t2(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(n),l=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:l}}updateElement(e,t,n,r){t2(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!t2(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[o,a,u]of this._syncList)this[o](a,u);this._syncList=[];const r=n.length,s=t.length,l=Math.min(s,r);l&&this.parse(0,l),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t,n=!0){const r=this._cachedMeta,s=r.data,l=e+t;let o;const a=u=>{for(u.length+=t,o=u.length-1;o>=l;o--)u[o]=u[o-t]};for(a(s),o=e;o<l;++o)s[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&gm(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}bo.defaults={};bo.prototype.datasetElementType=null;bo.prototype.dataElementType=null;function JOe(i,e){if(!i._cache.$bar){const t=i.getMatchingVisibleMetas(e);let n=[];for(let r=0,s=t.length;r<s;r++)n=n.concat(t[r].controller.getAllParsedValues(i));i._cache.$bar=eW(n.sort((r,s)=>r-s))}return i._cache.$bar}function QOe(i){const e=i.iScale,t=JOe(e,i.type);let n=e._length,r,s,l,o;const a=()=>{l===32767||l===-32768||(Wl(o)&&(n=Math.min(n,Math.abs(l-o)||n)),o=l)};for(r=0,s=t.length;r<s;++r)l=e.getPixelForValue(t[r]),a();for(o=void 0,r=0,s=e.ticks.length;r<s;++r)l=e.getPixelForTick(r),a();return n}function eIe(i,e,t,n){const r=t.barThickness;let s,l;return Fi(r)?(s=e.min*t.categoryPercentage,l=t.barPercentage):(s=r*n,l=1),{chunk:s/n,ratio:l,start:e.pixels[i]-s/2}}function tIe(i,e,t,n){const r=e.pixels,s=r[i];let l=i>0?r[i-1]:null,o=i<r.length-1?r[i+1]:null;const a=t.categoryPercentage;l===null&&(l=s-(o===null?e.end-e.start:o-s)),o===null&&(o=s+s-l);const u=s-(s-Math.min(l,o))/2*a;return{chunk:Math.abs(o-l)/2*a/n,ratio:t.barPercentage,start:u}}function nIe(i,e,t,n){const r=t.parse(i[0],n),s=t.parse(i[1],n),l=Math.min(r,s),o=Math.max(r,s);let a=l,u=o;Math.abs(l)>Math.abs(o)&&(a=o,u=l),e[t.axis]=u,e._custom={barStart:a,barEnd:u,start:r,end:s,min:l,max:o}}function $W(i,e,t,n){return Gi(i)?nIe(i,e,t,n):e[t.axis]=t.parse(i,n),e}function S9(i,e,t,n){const r=i.iScale,s=i.vScale,l=r.getLabels(),o=r===s,a=[];let u,c,f,d;for(u=t,c=t+n;u<c;++u)d=e[u],f={},f[r.axis]=o||r.parse(l[u],u),a.push($W(d,f,s,u));return a}function n2(i){return i&&i.barStart!==void 0&&i.barEnd!==void 0}function iIe(i,e,t){return i!==0?Qo(i):(e.isHorizontal()?1:-1)*(e.min>=t?1:-1)}function rIe(i){let e,t,n,r,s;return i.horizontal?(e=i.base>i.x,t="left",n="right"):(e=i.base<i.y,t="bottom",n="top"),e?(r="end",s="start"):(r="start",s="end"),{start:t,end:n,reverse:e,top:r,bottom:s}}function sIe(i,e,t,n){let r=e.borderSkipped;const s={};if(!r){i.borderSkipped=s;return}if(r===!0){i.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:o,reverse:a,top:u,bottom:c}=rIe(i);r==="middle"&&t&&(i.enableBorderRadius=!0,(t._top||0)===n?r=u:(t._bottom||0)===n?r=c:(s[T9(c,l,o,a)]=!0,r=u)),s[T9(r,l,o,a)]=!0,i.borderSkipped=s}function T9(i,e,t,n){return n?(i=lIe(i,e,t),i=A9(i,t,e)):i=A9(i,e,t),i}function lIe(i,e,t){return i===e?t:i===t?e:i}function A9(i,e,t){return i==="start"?e:i==="end"?t:i}function oIe(i,{inflateAmount:e},t){i.inflateAmount=e==="auto"?t===1?.33:0:e}class V0 extends bo{parsePrimitiveData(e,t,n,r){return S9(e,t,n,r)}parseArrayData(e,t,n,r){return S9(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:s,vScale:l}=e,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,u=s.axis==="x"?o:a,c=l.axis==="x"?o:a,f=[];let d,m,p,g;for(d=n,m=n+r;d<m;++d)g=t[d],p={},p[s.axis]=s.parse(ec(g,u),d),f.push($W(ec(g,c),p,l,d));return f}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,s=this.getParsed(e),l=s._custom,o=n2(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const s=r==="reset",{index:l,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),u=o.isHorizontal(),c=this._getRuler(),{sharedOptions:f,includeOptions:d}=this._getSharedOptions(t,r);for(let m=t;m<t+n;m++){const p=this.getParsed(m),g=s||Fi(p[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(m),k=this._calculateBarIndexPixels(m,c),$=(p._stacks||{})[o.axis],C={horizontal:u,base:g.base,enableBorderRadius:!$||n2(p._custom)||l===$._top||l===$._bottom,x:u?g.head:k.center,y:u?k.center:g.head,height:u?k.size:Math.abs(g.size),width:u?Math.abs(g.size):k.size};d&&(C.options=f||this.resolveDataElementOptions(m,e[m].active?"active":r));const E=C.options||e[m].options;sIe(C,E,$,l),oIe(C,E,c.ratio),this.updateElement(e[m],m,C,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(a=>a.controller.options.grouped),s=n.options.stacked,l=[],o=a=>{const u=a.controller.getParsed(t),c=u&&u[a.vScale.axis];if(Fi(c)||isNaN(c))return!0};for(const a of r)if(!(t!==void 0&&o(a))&&((s===!1||l.indexOf(a.stack)===-1||s===void 0&&a.stack===void 0)&&l.push(a.stack),a.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,t,n){const r=this._getStacks(e,n),s=t!==void 0?r.indexOf(t):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let s,l;for(s=0,l=t.data.length;s<l;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const o=e.barThickness;return{min:o||QOe(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:o?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n},options:{base:r,minBarLength:s}}=this,l=r||0,o=this.getParsed(e),a=o._custom,u=n2(a);let c=o[t.axis],f=0,d=n?this.applyStack(t,o,n):c,m,p;d!==c&&(f=d-c,d=c),u&&(c=a.barStart,d=a.barEnd-a.barStart,c!==0&&Qo(c)!==Qo(a.barEnd)&&(f=0),f+=c);const g=!Fi(r)&&!u?r:f;let k=t.getPixelForValue(g);if(this.chart.getDataVisibility(e)?m=t.getPixelForValue(f+d):m=k,p=m-k,Math.abs(p)<s){p=iIe(p,t,l)*s,c===l&&(k-=p/2);const $=t.getPixelForDecimal(0),C=t.getPixelForDecimal(1),E=Math.min($,C),S=Math.max($,C);k=Math.max(Math.min(k,S),E),m=k+p}if(k===t.getPixelForValue(l)){const $=Qo(p)*t.getLineWidthForValue(l)/2;k+=$,p-=$}return{size:p,base:k,head:m,center:m+p/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,s=r.skipNull,l=ri(r.maxBarThickness,1/0);let o,a;if(t.grouped){const u=s?this._getStackCount(e):t.stackCount,c=r.barThickness==="flex"?tIe(e,t,r,u):eIe(e,t,r,u),f=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);o=c.start+c.chunk*f+c.chunk/2,a=Math.min(l,c.chunk*c.ratio)}else o=n.getPixelForValue(this.getParsed(e)[n.axis],e),a=Math.min(l,t.min*t.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let s=0;for(;s<r;++s)this.getParsed(s)[t.axis]!==null&&n[s].draw(this._ctx)}}V0.id="bar";V0.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};V0.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};class s$ extends bo{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const s=super.parsePrimitiveData(e,t,n,r);for(let l=0;l<s.length;l++)s[l]._custom=this.resolveDataElementOptions(l+n).radius;return s}parseArrayData(e,t,n,r){const s=super.parseArrayData(e,t,n,r);for(let l=0;l<s.length;l++){const o=t[n+l];s[l]._custom=ri(o[2],this.resolveDataElementOptions(l+n).radius)}return s}parseObjectData(e,t,n,r){const s=super.parseObjectData(e,t,n,r);for(let l=0;l<s.length;l++){const o=t[n+l];s[l]._custom=ri(o&&o.r&&+o.r,this.resolveDataElementOptions(l+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,{xScale:n,yScale:r}=t,s=this.getParsed(e),l=n.getLabelForValue(s.x),o=r.getLabelForValue(s.y),a=s._custom;return{label:t.label,value:"("+l+", "+o+(a?", "+a:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const s=r==="reset",{iScale:l,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:u}=this._getSharedOptions(t,r),c=l.axis,f=o.axis;for(let d=t;d<t+n;d++){const m=e[d],p=!s&&this.getParsed(d),g={},k=g[c]=s?l.getPixelForDecimal(.5):l.getPixelForValue(p[c]),$=g[f]=s?o.getBasePixel():o.getPixelForValue(p[f]);g.skip=isNaN(k)||isNaN($),u&&(g.options=a||this.resolveDataElementOptions(d,m.active?"active":r),s&&(g.options.radius=0)),this.updateElement(m,d,g,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return t!=="active"&&(r.radius=0),r.radius+=ri(n&&n._custom,s),r}}s$.id="bubble";s$.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};s$.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function aIe(i,e,t){let n=1,r=1,s=0,l=0;if(e<Ai){const o=i,a=o+e,u=Math.cos(o),c=Math.sin(o),f=Math.cos(a),d=Math.sin(a),m=(E,S,T)=>wp(E,o,a,!0)?1:Math.max(S,S*t,T,T*t),p=(E,S,T)=>wp(E,o,a,!0)?-1:Math.min(S,S*t,T,T*t),g=m(0,u,f),k=m(ur,c,d),$=p(cr,u,f),C=p(cr+ur,c,d);n=(g-$)/2,r=(k-C)/2,s=-(g+$)/2,l=-(k+C)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:l}}class i_ extends bo{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let s=a=>+n[a];if(Xn(n[e])){const{key:a="value"}=this._parsing;s=u=>+ec(n[u],a)}let l,o;for(l=e,o=e+t;l<o;++l)r._parsed[l]=s(l)}}_getRotation(){return co(this.options.rotation-90)}_getCircumference(){return co(this.options.circumference)}_getRotationExtents(){let e=Ai,t=-Ai;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){const r=this.chart.getDatasetMeta(n).controller,s=r._getRotation(),l=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+l)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,s=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-l)/2,0),a=Math.min(tLe(this.options.cutout,o),1),u=this._getRingWeight(this.index),{circumference:c,rotation:f}=this._getRotationExtents(),{ratioX:d,ratioY:m,offsetX:p,offsetY:g}=aIe(f,c,a),k=(n.width-l)/d,$=(n.height-l)/m,C=Math.max(Math.min(k,$)/2,0),E=ZU(this.options.radius,C),S=Math.max(E*a,0),T=(E-S)/this._getVisibleDatasetWeightTotal();this.offsetX=p*E,this.offsetY=g*E,r.total=this.calculateTotal(),this.outerRadius=E-T*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-T*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Ai)}updateElements(e,t,n,r){const s=r==="reset",l=this.chart,o=l.chartArea,u=l.options.animation,c=(o.left+o.right)/2,f=(o.top+o.bottom)/2,d=s&&u.animateScale,m=d?0:this.innerRadius,p=d?0:this.outerRadius,{sharedOptions:g,includeOptions:k}=this._getSharedOptions(t,r);let $=this._getRotation(),C;for(C=0;C<t;++C)$+=this._circumference(C,s);for(C=t;C<t+n;++C){const E=this._circumference(C,s),S=e[C],T={x:c+this.offsetX,y:f+this.offsetY,startAngle:$,endAngle:$+E,circumference:E,outerRadius:p,innerRadius:m};k&&(T.options=g||this.resolveDataElementOptions(C,S.active?"active":r)),$+=E,this.updateElement(S,C,T,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n=0,r;for(r=0;r<t.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!t[r].hidden&&(n+=Math.abs(s))}return n}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Ai*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=n_(t._parsed[e],n.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,s,l,o,a;if(!e){for(r=0,s=n.data.datasets.length;r<s;++r)if(n.isDatasetVisible(r)){l=n.getDatasetMeta(r),e=l.data,o=l.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)a=o.resolveDataElementOptions(r),a.borderAlign!=="inner"&&(t=Math.max(t,a.borderWidth||0,a.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const s=this.resolveDataElementOptions(n);t=Math.max(t,s.offset||0,s.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(ri(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}i_.id="doughnut";i_.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};i_.descriptors={_scriptable:i=>i!=="spacing",_indexable:i=>i!=="spacing"};i_.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=i.legend.options;return e.labels.map((n,r)=>{const l=i.getDatasetMeta(0).controller.getStyle(r);return{text:n,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:t,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(i){let e=i.label;const t=": "+i.formattedValue;return Gi(e)?(e=e.slice(),e[0]+=t):e+=t,e}}}}};class x0 extends bo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:s}=t,l=this.chart._animationsDisabled;let{start:o,count:a}=iW(t,r,l);this._drawStart=o,this._drawCount=a,rW(t)&&(o=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=r;const u=this.resolveDatasetElementOptions(e);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:u},e),this.updateElements(r,o,a,e)}updateElements(e,t,n,r){const s=r==="reset",{iScale:l,vScale:o,_stacked:a,_dataset:u}=this._cachedMeta,{sharedOptions:c,includeOptions:f}=this._getSharedOptions(t,r),d=l.axis,m=o.axis,{spanGaps:p,segment:g}=this.options,k=ih(p)?p:Number.POSITIVE_INFINITY,$=this.chart._animationsDisabled||s||r==="none";let C=t>0&&this.getParsed(t-1);for(let E=t;E<t+n;++E){const S=e[E],T=this.getParsed(E),M=$?S:{},R=Fi(T[m]),Y=M[d]=l.getPixelForValue(T[d],E),z=M[m]=s||R?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,T,a):T[m],E);M.skip=isNaN(Y)||isNaN(z)||R,M.stop=E>0&&Math.abs(T[d]-C[d])>k,g&&(M.parsed=T,M.raw=u.data[E]),f&&(M.options=c||this.resolveDataElementOptions(E,S.active?"active":r)),$||this.updateElement(S,E,M,r),C=T}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const s=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,s,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}x0.id="line";x0.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};x0.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};class l$ extends bo{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=n_(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,n,r){return pW.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,r)=>{const s=this.getParsed(r).r;!isNaN(s)&&this.chart.getDataVisibility(r)&&(s<t.min&&(t.min=s),s>t.max&&(t.max=s))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),l=Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0),o=(s-l)/e.getVisibleDatasetCount();this.outerRadius=s-o*this.index,this.innerRadius=this.outerRadius-o}updateElements(e,t,n,r){const s=r==="reset",l=this.chart,a=l.options.animation,u=this._cachedMeta.rScale,c=u.xCenter,f=u.yCenter,d=u.getIndexAngle(0)-.5*cr;let m=d,p;const g=360/this.countVisibleElements();for(p=0;p<t;++p)m+=this._computeAngle(p,r,g);for(p=t;p<t+n;p++){const k=e[p];let $=m,C=m+this._computeAngle(p,r,g),E=l.getDataVisibility(p)?u.getDistanceFromCenterForValue(this.getParsed(p).r):0;m=C,s&&(a.animateScale&&(E=0),a.animateRotate&&($=C=d));const S={x:c,y:f,innerRadius:0,outerRadius:E,startAngle:$,endAngle:C,options:this.resolveDataElementOptions(p,k.active?"active":r)};this.updateElement(k,p,S,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((n,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?co(this.resolveDataElementOptions(e,t).angle||n):0}}l$.id="polarArea";l$.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};l$.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:t}}=i.legend.options;return e.labels.map((n,r)=>{const l=i.getDatasetMeta(0).controller.getStyle(r);return{text:n,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,lineWidth:l.borderWidth,pointStyle:t,hidden:!i.getDataVisibility(r),index:r}})}return[]}},onClick(i,e,t){t.chart.toggleDataVisibility(e.index),t.chart.update()}},tooltip:{callbacks:{title(){return""},label(i){return i.chart.data.labels[i.dataIndex]+": "+i.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};class FW extends i_{}FW.id="pie";FW.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};class o$ extends bo{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return pW.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(n.points=r,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const o={_loop:!0,_fullLoop:s.length===r.length,options:l};this.updateElement(n,void 0,o,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const s=this._cachedMeta.rScale,l=r==="reset";for(let o=t;o<t+n;o++){const a=e[o],u=this.resolveDataElementOptions(o,a.active?"active":r),c=s.getPointPositionForValue(o,this.getParsed(o).r),f=l?s.xCenter:c.x,d=l?s.yCenter:c.y,m={x:f,y:d,angle:c.angle,skip:isNaN(f)||isNaN(d),options:u};this.updateElement(a,o,m,r)}}}o$.id="radar";o$.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};o$.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};class uu{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return ih(this.x)&&ih(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}}uu.defaults={};uu.defaultRoutes=void 0;const EW={values(i){return Gi(i)?i:""+i},numeric(i,e,t){if(i===0)return"0";const n=this.chart.options.locale;let r,s=i;if(t.length>1){const u=Math.max(Math.abs(t[0].value),Math.abs(t[t.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=uIe(i,t)}const l=Rl(Math.abs(s)),o=Math.max(Math.min(-1*Math.floor(l),20),0),a={notation:r,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(a,this.options.ticks.format),n_(i,n,a)},logarithmic(i,e,t){if(i===0)return"0";const n=i/Math.pow(10,Math.floor(Rl(i)));return n===1||n===2||n===5?EW.numeric.call(this,i,e,t):""}};function uIe(i,e){let t=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(t)>=1&&i!==Math.floor(i)&&(t=i-Math.floor(i)),t}var G0={formatters:EW};si.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(i,e)=>e.lineWidth,tickColor:(i,e)=>e.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:G0.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});si.route("scale.ticks","color","","color");si.route("scale.grid","color","","borderColor");si.route("scale.grid","borderColor","","borderColor");si.route("scale.title","color","","color");si.describe("scale",{_fallback:!1,_scriptable:i=>!i.startsWith("before")&&!i.startsWith("after")&&i!=="callback"&&i!=="parser",_indexable:i=>i!=="borderDash"&&i!=="tickBorderDash"});si.describe("scales",{_fallback:"scale"});si.describe("scale.ticks",{_scriptable:i=>i!=="backdropPadding"&&i!=="callback",_indexable:i=>i!=="backdropPadding"});function cIe(i,e){const t=i.options.ticks,n=t.maxTicksLimit||fIe(i),r=t.major.enabled?hIe(e):[],s=r.length,l=r[0],o=r[s-1],a=[];if(s>n)return mIe(e,a,r,s/n),a;const u=dIe(r,e,n);if(s>0){let c,f;const d=s>1?Math.round((o-l)/(s-1)):null;for(yg(e,a,u,Fi(d)?0:l-d,l),c=0,f=s-1;c<f;c++)yg(e,a,u,r[c],r[c+1]);return yg(e,a,u,o,Fi(d)?e.length:o+d),a}return yg(e,a,u),a}function fIe(i){const e=i.options.offset,t=i._tickSize(),n=i._length/t+(e?0:1),r=i._maxLength/t;return Math.floor(Math.min(n,r))}function dIe(i,e,t){const n=pIe(i),r=e.length/t;if(!n)return Math.max(r,1);const s=uLe(n);for(let l=0,o=s.length-1;l<o;l++){const a=s[l];if(a>r)return a}return Math.max(r,1)}function hIe(i){const e=[];let t,n;for(t=0,n=i.length;t<n;t++)i[t].major&&e.push(t);return e}function mIe(i,e,t,n){let r=0,s=t[0],l;for(n=Math.ceil(n),l=0;l<i.length;l++)l===s&&(e.push(i[l]),r++,s=t[r*n])}function yg(i,e,t,n,r){const s=ri(n,0),l=Math.min(ri(r,i.length),i.length);let o=0,a,u,c;for(t=Math.ceil(t),r&&(a=r-n,t=a/Math.floor(a/t)),c=s;c<0;)o++,c=Math.round(s+o*t);for(u=Math.max(s,0);u<l;u++)u===c&&(e.push(i[u]),o++,c=Math.round(s+o*t))}function pIe(i){const e=i.length;let t,n;if(e<2)return!1;for(n=i[0],t=1;t<e;++t)if(i[t]-i[t-1]!==n)return!1;return n}const _Ie=i=>i==="left"?"right":i==="right"?"left":i,P9=(i,e,t)=>e==="top"||e==="left"?i[e]+t:i[e]-t;function N9(i,e){const t=[],n=i.length/e,r=i.length;let s=0;for(;s<r;s+=n)t.push(i[Math.floor(s)]);return t}function gIe(i,e,t){const n=i.ticks.length,r=Math.min(e,n-1),s=i._startPixel,l=i._endPixel,o=1e-6;let a=i.getPixelForTick(r),u;if(!(t&&(n===1?u=Math.max(a-s,l-a):e===0?u=(i.getPixelForTick(1)-a)/2:u=(a-i.getPixelForTick(r-1))/2,a+=r<e?u:-u,a<s-o||a>l+o)))return a}function vIe(i,e){$i(i,t=>{const n=t.gc,r=n.length/2;let s;if(r>e){for(s=0;s<r;++s)delete t.data[n[s]];n.splice(0,r)}})}function vm(i){return i.drawTicks?i.tickLength:0}function M9(i,e){if(!i.display)return 0;const t=Fl(i.font,e),n=ql(i.padding);return(Gi(i.text)?i.text.length:1)*t.lineHeight+n.height}function bIe(i,e){return fc(i,{scale:e,type:"scale"})}function kIe(i,e,t){return fc(i,{tick:t,index:e,type:"tick"})}function yIe(i,e,t){let n=gLe(i);return(t&&e!=="right"||!t&&e==="right")&&(n=_Ie(n)),n}function wIe(i,e,t,n){const{top:r,left:s,bottom:l,right:o,chart:a}=i,{chartArea:u,scales:c}=a;let f=0,d,m,p;const g=l-r,k=o-s;if(i.isHorizontal()){if(m=r9(n,s,o),Xn(t)){const $=Object.keys(t)[0],C=t[$];p=c[$].getPixelForValue(C)+g-e}else t==="center"?p=(u.bottom+u.top)/2+g-e:p=P9(i,t,e);d=o-s}else{if(Xn(t)){const $=Object.keys(t)[0],C=t[$];m=c[$].getPixelForValue(C)-k+e}else t==="center"?m=(u.left+u.right)/2-k+e:m=P9(i,t,e);p=r9(n,l,r),f=t==="left"?-ur:ur}return{titleX:m,titleY:p,maxWidth:d,rotation:f}}class Bf extends uu{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=Ol(e,Number.POSITIVE_INFINITY),t=Ol(t,Number.NEGATIVE_INFINITY),n=Ol(n,Number.POSITIVE_INFINITY),r=Ol(r,Number.NEGATIVE_INFINITY),{min:Ol(e,n),max:Ol(t,r),minDefined:gr(e),maxDefined:gr(t)}}getMinMax(e){let{min:t,max:n,minDefined:r,maxDefined:s}=this.getUserBounds(),l;if(r&&s)return{min:t,max:n};const o=this.getMatchingVisibleMetas();for(let a=0,u=o.length;a<u;++a)l=o[a].controller.getMinMax(this,e),r||(t=Math.min(t,l.min)),s||(n=Math.max(n,l.max));return t=s&&t>n?n:t,n=r&&t>n?t:n,{min:Ol(t,Ol(n,t)),max:Ol(n,Ol(t,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){or(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:s,ticks:l}=this.options,o=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=JLe(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?N9(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=cIe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,t,n;this.isHorizontal()?(t=this.left,n=this.right):(t=this.top,n=this.bottom,e=!e),this._startPixel=t,this._endPixel=n,this._reversePixels=e,this._length=n-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){or(this.options.afterUpdate,[this])}beforeSetDimensions(){or(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){or(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),or(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){or(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=or(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){or(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){or(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=this.ticks.length,r=t.minRotation||0,s=t.maxRotation;let l=r,o,a,u;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const c=this._getLabelSizes(),f=c.widest.width,d=c.highest.height,m=ss(this.chart.width-f,0,this.maxWidth);o=e.offset?this.maxWidth/n:m/(n-1),f+6>o&&(o=m/(n-(e.offset?.5:1)),a=this.maxHeight-vm(e.grid)-t.padding-M9(e.title,this.chart.options.font),u=Math.sqrt(f*f+d*d),l=xw(Math.min(Math.asin(ss((c.highest.height+6)/o,-1,1)),Math.asin(ss(a/u,-1,1))-Math.asin(ss(d/u,-1,1)))),l=Math.max(r,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){or(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){or(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,l=this._isVisible(),o=this.isHorizontal();if(l){const a=M9(r,t.options.font);if(o?(e.width=this.maxWidth,e.height=vm(s)+a):(e.height=this.maxHeight,e.width=vm(s)+a),n.display&&this.ticks.length){const{first:u,last:c,widest:f,highest:d}=this._getLabelSizes(),m=n.padding*2,p=co(this.labelRotation),g=Math.cos(p),k=Math.sin(p);if(o){const $=n.mirror?0:k*f.width+g*d.height;e.height=Math.min(this.maxHeight,e.height+$+m)}else{const $=n.mirror?0:g*f.width+k*d.height;e.width=Math.min(this.maxWidth,e.width+$+m)}this._calculatePadding(u,c,k,g)}}this._handleMargins(),o?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:s,padding:l},position:o}=this.options,a=this.labelRotation!==0,u=o!=="top"&&this.axis==="x";if(this.isHorizontal()){const c=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,m=0;a?u?(d=r*e.width,m=n*t.height):(d=n*e.height,m=r*t.width):s==="start"?m=t.width:s==="end"?d=e.width:s!=="inner"&&(d=e.width/2,m=t.width/2),this.paddingLeft=Math.max((d-c+l)*this.width/(this.width-c),0),this.paddingRight=Math.max((m-f+l)*this.width/(this.width-f),0)}else{let c=t.height/2,f=e.height/2;s==="start"?(c=0,f=e.height):s==="end"&&(c=t.height,f=0),this.paddingTop=c+l,this.paddingBottom=f+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){or(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return t==="top"||t==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let t,n;for(t=0,n=e.length;t<n;t++)Fi(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=N9(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length)}return e}_computeLabelSizes(e,t){const{ctx:n,_longestTextCache:r}=this,s=[],l=[];let o=0,a=0,u,c,f,d,m,p,g,k,$,C,E;for(u=0;u<t;++u){if(d=e[u].label,m=this._resolveTickFontOptions(u),n.font=p=m.string,g=r[p]=r[p]||{data:{},gc:[]},k=m.lineHeight,$=C=0,!Fi(d)&&!Gi(d))$=A1(n,g.data,g.gc,$,d),C=k;else if(Gi(d))for(c=0,f=d.length;c<f;++c)E=d[c],!Fi(E)&&!Gi(E)&&($=A1(n,g.data,g.gc,$,E),C+=k);s.push($),l.push(C),o=Math.max($,o),a=Math.max(C,a)}vIe(r,t);const S=s.indexOf(o),T=l.indexOf(a),M=R=>({width:s[R]||0,height:l[R]||0});return{first:M(0),last:M(t-1),widest:M(S),highest:M(T),widths:s,heights:l}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return dLe(this._alignToPixels?jc(this.chart,t,0):t)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=kIe(this.getContext(),e,n))}return this.$context||(this.$context=bIe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,t=co(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),l=e.autoSkipPadding||0,o=s?s.widest.width+l:0,a=s?s.highest.height+l:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:l}=r,o=s.offset,a=this.isHorizontal(),c=this.ticks.length+(o?1:0),f=vm(s),d=[],m=s.setContext(this.getContext()),p=m.drawBorder?m.borderWidth:0,g=p/2,k=function(q){return jc(n,q,p)};let $,C,E,S,T,M,R,Y,z,j,V,x;if(l==="top")$=k(this.bottom),M=this.bottom-f,Y=$-g,j=k(e.top)+g,x=e.bottom;else if(l==="bottom")$=k(this.top),j=e.top,x=k(e.bottom)-g,M=$+g,Y=this.top+f;else if(l==="left")$=k(this.right),T=this.right-f,R=$-g,z=k(e.left)+g,V=e.right;else if(l==="right")$=k(this.left),z=e.left,V=k(e.right)-g,T=$+g,R=this.left+f;else if(t==="x"){if(l==="center")$=k((e.top+e.bottom)/2+.5);else if(Xn(l)){const q=Object.keys(l)[0],le=l[q];$=k(this.chart.scales[q].getPixelForValue(le))}j=e.top,x=e.bottom,M=$+g,Y=M+f}else if(t==="y"){if(l==="center")$=k((e.left+e.right)/2);else if(Xn(l)){const q=Object.keys(l)[0],le=l[q];$=k(this.chart.scales[q].getPixelForValue(le))}T=$-g,R=T-f,z=e.left,V=e.right}const ee=ri(r.ticks.maxTicksLimit,c),J=Math.max(1,Math.ceil(c/ee));for(C=0;C<c;C+=J){const q=s.setContext(this.getContext(C)),le=q.lineWidth,G=q.color,X=q.borderDash||[],se=q.borderDashOffset,te=q.tickWidth,ie=q.tickColor,re=q.tickBorderDash||[],be=q.tickBorderDashOffset;E=gIe(this,C,o),E!==void 0&&(S=jc(n,E,le),a?T=R=z=V=S:M=Y=j=x=S,d.push({tx1:T,ty1:M,tx2:R,ty2:Y,x1:z,y1:j,x2:V,y2:x,width:le,color:G,borderDash:X,borderDashOffset:se,tickWidth:te,tickColor:ie,tickBorderDash:re,tickBorderDashOffset:be}))}return this._ticksLength=c,this._borderValue=$,d}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:s}=n,l=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:u,padding:c,mirror:f}=s,d=vm(n.grid),m=d+c,p=f?-c:m,g=-co(this.labelRotation),k=[];let $,C,E,S,T,M,R,Y,z,j,V,x,ee="middle";if(r==="top")M=this.bottom-p,R=this._getXAxisLabelAlignment();else if(r==="bottom")M=this.top+p,R=this._getXAxisLabelAlignment();else if(r==="left"){const q=this._getYAxisLabelAlignment(d);R=q.textAlign,T=q.x}else if(r==="right"){const q=this._getYAxisLabelAlignment(d);R=q.textAlign,T=q.x}else if(t==="x"){if(r==="center")M=(e.top+e.bottom)/2+m;else if(Xn(r)){const q=Object.keys(r)[0],le=r[q];M=this.chart.scales[q].getPixelForValue(le)+m}R=this._getXAxisLabelAlignment()}else if(t==="y"){if(r==="center")T=(e.left+e.right)/2-m;else if(Xn(r)){const q=Object.keys(r)[0],le=r[q];T=this.chart.scales[q].getPixelForValue(le)}R=this._getYAxisLabelAlignment(d).textAlign}t==="y"&&(a==="start"?ee="top":a==="end"&&(ee="bottom"));const J=this._getLabelSizes();for($=0,C=o.length;$<C;++$){E=o[$],S=E.label;const q=s.setContext(this.getContext($));Y=this.getPixelForTick($)+s.labelOffset,z=this._resolveTickFontOptions($),j=z.lineHeight,V=Gi(S)?S.length:1;const le=V/2,G=q.color,X=q.textStrokeColor,se=q.textStrokeWidth;let te=R;l?(T=Y,R==="inner"&&($===C-1?te=this.options.reverse?"left":"right":$===0?te=this.options.reverse?"right":"left":te="center"),r==="top"?u==="near"||g!==0?x=-V*j+j/2:u==="center"?x=-J.highest.height/2-le*j+j:x=-J.highest.height+j/2:u==="near"||g!==0?x=j/2:u==="center"?x=J.highest.height/2-le*j:x=J.highest.height-V*j,f&&(x*=-1)):(M=Y,x=(1-V)*j/2);let ie;if(q.showLabelBackdrop){const re=ql(q.backdropPadding),be=J.heights[$],we=J.widths[$];let De=M+x-re.top,Be=T-re.left;switch(ee){case"middle":De-=be/2;break;case"bottom":De-=be;break}switch(R){case"center":Be-=we/2;break;case"right":Be-=we;break}ie={left:Be,top:De,width:we+re.width,height:be+re.height,color:q.backdropColor}}k.push({rotation:g,label:S,font:z,color:G,strokeColor:X,strokeWidth:se,textOffset:x,textAlign:te,textBaseline:ee,translation:[T,M],backdrop:ie})}return k}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-co(this.labelRotation))return e==="top"?"left":"right";let r="center";return t.align==="start"?r="left":t.align==="end"?r="right":t.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,l=this._getLabelSizes(),o=e+s,a=l.widest.width;let u,c;return t==="left"?r?(c=this.right+s,n==="near"?u="left":n==="center"?(u="center",c+=a/2):(u="right",c+=a)):(c=this.right-o,n==="near"?u="right":n==="center"?(u="center",c-=a/2):(u="left",c=this.left)):t==="right"?r?(c=this.left+s,n==="near"?u="right":n==="center"?(u="center",c-=a/2):(u="left",c-=a)):(c=this.left+o,n==="near"?u="left":n==="center"?(u="center",c+=a/2):(u="right",c=this.right)):u="right",{textAlign:u,x:c}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;if(t==="left"||t==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(t==="top"||t==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:s,height:l}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,s,l),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?t.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,l;const o=(a,u,c)=>{!c.width||!c.color||(n.save(),n.lineWidth=c.width,n.strokeStyle=c.color,n.setLineDash(c.borderDash||[]),n.lineDashOffset=c.borderDashOffset,n.beginPath(),n.moveTo(a.x,a.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(t.display)for(s=0,l=r.length;s<l;++s){const a=r[s];t.drawOnChartArea&&o({x:a.x1,y:a.y1},{x:a.x2,y:a.y2},a),t.drawTicks&&o({x:a.tx1,y:a.ty1},{x:a.tx2,y:a.ty2},{color:a.tickColor,width:a.tickWidth,borderDash:a.tickBorderDash,borderDashOffset:a.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{grid:n}}=this,r=n.setContext(this.getContext()),s=n.drawBorder?r.borderWidth:0;if(!s)return;const l=n.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let a,u,c,f;this.isHorizontal()?(a=jc(e,this.left,s)-s/2,u=jc(e,this.right,l)+l/2,c=f=o):(c=jc(e,this.top,s)-s/2,f=jc(e,this.bottom,l)+l/2,a=u=o),t.save(),t.lineWidth=r.borderWidth,t.strokeStyle=r.borderColor,t.beginPath(),t.moveTo(a,c),t.lineTo(u,f),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&Jw(n,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(e));let l,o;for(l=0,o=s.length;l<o;++l){const a=s[l],u=a.font,c=a.label;a.backdrop&&(n.fillStyle=a.backdrop.color,n.fillRect(a.backdrop.left,a.backdrop.top,a.backdrop.width,a.backdrop.height));let f=a.textOffset;P1(n,c,0,f,u,a)}r&&Qw(n)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=Fl(n.font),l=ql(n.padding),o=n.align;let a=s.lineHeight/2;t==="bottom"||t==="center"||Xn(t)?(a+=l.bottom,Gi(n.text)&&(a+=s.lineHeight*(n.text.length-1))):a+=l.top;const{titleX:u,titleY:c,maxWidth:f,rotation:d}=wIe(this,a,t,o);P1(e,n.text,0,0,s,{color:n.color,maxWidth:f,rotation:d,textAlign:yIe(o,t,r),textBaseline:"middle",translation:[u,c]})}draw(e){!this._isVisible()||(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=ri(e.grid&&e.grid.z,-1);return!this._isVisible()||this.draw!==Bf.prototype.draw?[{z:t,draw:r=>{this.draw(r)}}]:[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:t,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,l;for(s=0,l=t.length;s<l;++s){const o=t[s];o[n]===this.id&&(!e||o.type===e)&&r.push(o)}return r}_resolveTickFontOptions(e){const t=this.options.ticks.setContext(this.getContext(e));return Fl(t.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class wg{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;EIe(t)&&(n=this.register(t));const r=this.items,s=e.id,l=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,$Ie(e,l,n),this.override&&si.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in si[r]&&(delete si[r][n],this.override&&delete bf[n])}}function $Ie(i,e,t){const n=yp(Object.create(null),[t?si.get(t):{},si.get(e),i.defaults]);si.set(e,n),i.defaultRoutes&&FIe(e,i.defaultRoutes),i.descriptors&&si.describe(e,i.descriptors)}function FIe(i,e){Object.keys(e).forEach(t=>{const n=t.split("."),r=n.pop(),s=[i].concat(n).join("."),l=e[t].split("."),o=l.pop(),a=l.join(".");si.route(s,r,a,o)})}function EIe(i){return"id"in i&&"defaults"in i}class CIe{constructor(){this.controllers=new wg(bo,"datasets",!0),this.elements=new wg(uu,"elements"),this.plugins=new wg(Object,"plugins"),this.scales=new wg(Bf,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,t,n){[...t].forEach(r=>{const s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):$i(r,l=>{const o=n||this._getRegistryForType(l);this._exec(e,o,l)})})}_exec(e,t,n){const r=Vw(e);or(n["before"+r],[],n),t[e](n),or(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var xo=new CIe;class a$ extends bo{update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:l}=iW(t,n,r);if(this._drawStart=s,this._drawCount=l,rW(t)&&(s=0,l=n.length),this.options.showLine){const{dataset:o,_dataset:a}=t;o._chart=this.chart,o._datasetIndex=this.index,o._decimated=!!a._decimated,o.points=n;const u=this.resolveDatasetElementOptions(e);u.segment=this.options.segment,this.updateElement(o,void 0,{animated:!r,options:u},e)}this.updateElements(n,s,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=xo.getElement("line")),super.addElements()}updateElements(e,t,n,r){const s=r==="reset",{iScale:l,vScale:o,_stacked:a,_dataset:u}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),f=this.getSharedOptions(c),d=this.includeOptions(r,f),m=l.axis,p=o.axis,{spanGaps:g,segment:k}=this.options,$=ih(g)?g:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||r==="none";let E=t>0&&this.getParsed(t-1);for(let S=t;S<t+n;++S){const T=e[S],M=this.getParsed(S),R=C?T:{},Y=Fi(M[p]),z=R[m]=l.getPixelForValue(M[m],S),j=R[p]=s||Y?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,M,a):M[p],S);R.skip=isNaN(z)||isNaN(j)||Y,R.stop=S>0&&Math.abs(M[m]-E[m])>$,k&&(R.parsed=M,R.raw=u.data[S]),d&&(R.options=f||this.resolveDataElementOptions(S,T.active?"active":r)),C||this.updateElement(T,S,R,r),E=M}this.updateSharedOptions(f,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let o=0;for(let a=t.length-1;a>=0;--a)o=Math.max(o,t[a].size(this.resolveDataElementOptions(a))/2);return o>0&&o}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),l=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,l)/2}}a$.id="scatter";a$.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};a$.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(i){return"("+i.label+", "+i.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};function Yc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ek{constructor(e){this.options=e||{}}init(e){}formats(){return Yc()}parse(e,t){return Yc()}format(e,t){return Yc()}add(e,t,n){return Yc()}diff(e,t,n){return Yc()}startOf(e,t,n){return Yc()}endOf(e,t){return Yc()}}Ek.override=function(i){Object.assign(Ek.prototype,i)};var DIe={_date:Ek};function SIe(i,e,t,n){const{controller:r,data:s,_sorted:l}=i,o=r._cachedMeta.iScale;if(o&&e===o.axis&&e!=="r"&&l&&s.length){const a=o._reversePixels?hLe:Jc;if(n){if(r._sharedOptions){const u=s[0],c=typeof u.getRange=="function"&&u.getRange(e);if(c){const f=a(s,e,t-c),d=a(s,e,t+c);return{lo:f.lo,hi:d.hi}}}}else return a(s,e,t)}return{lo:0,hi:s.length-1}}function r_(i,e,t,n,r){const s=i.getSortedVisibleDatasetMetas(),l=t[e];for(let o=0,a=s.length;o<a;++o){const{index:u,data:c}=s[o],{lo:f,hi:d}=SIe(s[o],e,l,r);for(let m=f;m<=d;++m){const p=c[m];p.skip||n(p,u,m)}}}function TIe(i){const e=i.indexOf("x")!==-1,t=i.indexOf("y")!==-1;return function(n,r){const s=e?Math.abs(n.x-r.x):0,l=t?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(l,2))}}function i2(i,e,t,n,r){const s=[];return!r&&!i.isPointInArea(e)||r_(i,t,e,function(o,a,u){!r&&!Fp(o,i.chartArea,0)||o.inRange(e.x,e.y,n)&&s.push({element:o,datasetIndex:a,index:u})},!0),s}function AIe(i,e,t,n){let r=[];function s(l,o,a){const{startAngle:u,endAngle:c}=l.getProps(["startAngle","endAngle"],n),{angle:f}=JU(l,{x:e.x,y:e.y});wp(f,u,c)&&r.push({element:l,datasetIndex:o,index:a})}return r_(i,t,e,s),r}function PIe(i,e,t,n,r,s){let l=[];const o=TIe(t);let a=Number.POSITIVE_INFINITY;function u(c,f,d){const m=c.inRange(e.x,e.y,r);if(n&&!m)return;const p=c.getCenterPoint(r);if(!(!!s||i.isPointInArea(p))&&!m)return;const k=o(e,p);k<a?(l=[{element:c,datasetIndex:f,index:d}],a=k):k===a&&l.push({element:c,datasetIndex:f,index:d})}return r_(i,t,e,u),l}function r2(i,e,t,n,r,s){return!s&&!i.isPointInArea(e)?[]:t==="r"&&!n?AIe(i,e,t,r):PIe(i,e,t,n,r,s)}function L9(i,e,t,n,r){const s=[],l=t==="x"?"inXRange":"inYRange";let o=!1;return r_(i,t,e,(a,u,c)=>{a[l](e[t],r)&&(s.push({element:a,datasetIndex:u,index:c}),o=o||a.inRange(e.x,e.y,r))}),n&&!o?[]:s}var NIe={evaluateInteractionItems:r_,modes:{index(i,e,t,n){const r=Wc(e,i),s=t.axis||"x",l=t.includeInvisible||!1,o=t.intersect?i2(i,r,s,n,l):r2(i,r,s,!1,n,l),a=[];return o.length?(i.getSortedVisibleDatasetMetas().forEach(u=>{const c=o[0].index,f=u.data[c];f&&!f.skip&&a.push({element:f,datasetIndex:u.index,index:c})}),a):[]},dataset(i,e,t,n){const r=Wc(e,i),s=t.axis||"xy",l=t.includeInvisible||!1;let o=t.intersect?i2(i,r,s,n,l):r2(i,r,s,!1,n,l);if(o.length>0){const a=o[0].datasetIndex,u=i.getDatasetMeta(a).data;o=[];for(let c=0;c<u.length;++c)o.push({element:u[c],datasetIndex:a,index:c})}return o},point(i,e,t,n){const r=Wc(e,i),s=t.axis||"xy",l=t.includeInvisible||!1;return i2(i,r,s,n,l)},nearest(i,e,t,n){const r=Wc(e,i),s=t.axis||"xy",l=t.includeInvisible||!1;return r2(i,r,s,t.intersect,n,l)},x(i,e,t,n){const r=Wc(e,i);return L9(i,r,"x",t.intersect,n)},y(i,e,t,n){const r=Wc(e,i);return L9(i,r,"y",t.intersect,n)}}};const CW=["left","top","right","bottom"];function bm(i,e){return i.filter(t=>t.pos===e)}function O9(i,e){return i.filter(t=>CW.indexOf(t.pos)===-1&&t.box.axis===e)}function km(i,e){return i.sort((t,n)=>{const r=e?n:t,s=e?t:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function MIe(i){const e=[];let t,n,r,s,l,o;for(t=0,n=(i||[]).length;t<n;++t)r=i[t],{position:s,options:{stack:l,stackWeight:o=1}}=r,e.push({index:t,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&s+l,stackWeight:o});return e}function LIe(i){const e={};for(const t of i){const{stack:n,pos:r,stackWeight:s}=t;if(!n||!CW.includes(r))continue;const l=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=s}return e}function OIe(i,e){const t=LIe(i),{vBoxMaxWidth:n,hBoxMaxHeight:r}=e;let s,l,o;for(s=0,l=i.length;s<l;++s){o=i[s];const{fullSize:a}=o.box,u=t[o.stack],c=u&&o.stackWeight/u.weight;o.horizontal?(o.width=c?c*n:a&&e.availableWidth,o.height=r):(o.width=n,o.height=c?c*r:a&&e.availableHeight)}return t}function IIe(i){const e=MIe(i),t=km(e.filter(u=>u.box.fullSize),!0),n=km(bm(e,"left"),!0),r=km(bm(e,"right")),s=km(bm(e,"top"),!0),l=km(bm(e,"bottom")),o=O9(e,"x"),a=O9(e,"y");return{fullSize:t,leftAndTop:n.concat(s),rightAndBottom:r.concat(a).concat(l).concat(o),chartArea:bm(e,"chartArea"),vertical:n.concat(r).concat(a),horizontal:s.concat(l).concat(o)}}function I9(i,e,t,n){return Math.max(i[t],e[t])+Math.max(i[n],e[n])}function DW(i,e){i.top=Math.max(i.top,e.top),i.left=Math.max(i.left,e.left),i.bottom=Math.max(i.bottom,e.bottom),i.right=Math.max(i.right,e.right)}function BIe(i,e,t,n){const{pos:r,box:s}=t,l=i.maxPadding;if(!Xn(r)){t.size&&(i[r]-=t.size);const f=n[t.stack]||{size:0,count:1};f.size=Math.max(f.size,t.horizontal?s.height:s.width),t.size=f.size/f.count,i[r]+=t.size}s.getPadding&&DW(l,s.getPadding());const o=Math.max(0,e.outerWidth-I9(l,i,"left","right")),a=Math.max(0,e.outerHeight-I9(l,i,"top","bottom")),u=o!==i.w,c=a!==i.h;return i.w=o,i.h=a,t.horizontal?{same:u,other:c}:{same:c,other:u}}function RIe(i){const e=i.maxPadding;function t(n){const r=Math.max(e[n]-i[n],0);return i[n]+=r,r}i.y+=t("top"),i.x+=t("left"),t("right"),t("bottom")}function zIe(i,e){const t=e.maxPadding;function n(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{s[l]=Math.max(e[l],t[l])}),s}return n(i?["left","right"]:["top","bottom"])}function Nm(i,e,t,n){const r=[];let s,l,o,a,u,c;for(s=0,l=i.length,u=0;s<l;++s){o=i[s],a=o.box,a.update(o.width||e.w,o.height||e.h,zIe(o.horizontal,e));const{same:f,other:d}=BIe(e,t,o,n);u|=f&&r.length,c=c||d,a.fullSize||r.push(o)}return u&&Nm(r,e,t,n)||c}function $g(i,e,t,n,r){i.top=t,i.left=e,i.right=e+n,i.bottom=t+r,i.width=n,i.height=r}function B9(i,e,t,n){const r=t.padding;let{x:s,y:l}=e;for(const o of i){const a=o.box,u=n[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/u.weight||1;if(o.horizontal){const f=e.w*c,d=u.size||a.height;Wl(u.start)&&(l=u.start),a.fullSize?$g(a,r.left,l,t.outerWidth-r.right-r.left,d):$g(a,e.left+u.placed,l,f,d),u.start=l,u.placed+=f,l=a.bottom}else{const f=e.h*c,d=u.size||a.width;Wl(u.start)&&(s=u.start),a.fullSize?$g(a,s,r.top,d,t.outerHeight-r.bottom-r.top):$g(a,s,e.top+u.placed,d,f),u.start=s,u.placed+=f,s=a.right}}e.x=s,e.y=l}si.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Fg={addBox(i,e){i.boxes||(i.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},i.boxes.push(e)},removeBox(i,e){const t=i.boxes?i.boxes.indexOf(e):-1;t!==-1&&i.boxes.splice(t,1)},configure(i,e,t){e.fullSize=t.fullSize,e.position=t.position,e.weight=t.weight},update(i,e,t,n){if(!i)return;const r=ql(i.options.layout.padding),s=Math.max(e-r.width,0),l=Math.max(t-r.height,0),o=IIe(i.boxes),a=o.vertical,u=o.horizontal;$i(i.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const c=a.reduce((g,k)=>k.box.options&&k.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:t,padding:r,availableWidth:s,availableHeight:l,vBoxMaxWidth:s/2/c,hBoxMaxHeight:l/2}),d=Object.assign({},r);DW(d,ql(n));const m=Object.assign({maxPadding:d,w:s,h:l,x:r.left,y:r.top},r),p=OIe(a.concat(u),f);Nm(o.fullSize,m,f,p),Nm(a,m,f,p),Nm(u,m,f,p)&&Nm(a,m,f,p),RIe(m),B9(o.leftAndTop,m,f,p),m.x+=m.w,m.y+=m.h,B9(o.rightAndBottom,m,f,p),i.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},$i(o.chartArea,g=>{const k=g.box;Object.assign(k,i.chartArea),k.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}};class SW{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class jIe extends SW{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Rg="$chartjs",YIe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},R9=i=>i===null||i==="";function UIe(i,e){const t=i.style,n=i.getAttribute("height"),r=i.getAttribute("width");if(i[Rg]={initial:{height:n,width:r,style:{display:t.display,height:t.height,width:t.width}}},t.display=t.display||"block",t.boxSizing=t.boxSizing||"border-box",R9(r)){const s=_9(i,"width");s!==void 0&&(i.width=s)}if(R9(n))if(i.style.height==="")i.height=i.width/(e||2);else{const s=_9(i,"height");s!==void 0&&(i.height=s)}return i}const TW=yOe?{passive:!0}:!1;function WIe(i,e,t){i.addEventListener(e,t,TW)}function qIe(i,e,t){i.canvas.removeEventListener(e,t,TW)}function HIe(i,e){const t=YIe[i.type]||i.type,{x:n,y:r}=Wc(i,e);return{type:t,chart:e,native:i,x:n!==void 0?n:null,y:r!==void 0?r:null}}function L1(i,e){for(const t of i)if(t===e||t.contains(e))return!0}function VIe(i,e,t){const n=i.canvas,r=new MutationObserver(s=>{let l=!1;for(const o of s)l=l||L1(o.addedNodes,n),l=l&&!L1(o.removedNodes,n);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}function xIe(i,e,t){const n=i.canvas,r=new MutationObserver(s=>{let l=!1;for(const o of s)l=l||L1(o.removedNodes,n),l=l&&!L1(o.addedNodes,n);l&&t()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ep=new Map;let z9=0;function AW(){const i=window.devicePixelRatio;i!==z9&&(z9=i,Ep.forEach((e,t)=>{t.currentDevicePixelRatio!==i&&e()}))}function GIe(i,e){Ep.size||window.addEventListener("resize",AW),Ep.set(i,e)}function ZIe(i){Ep.delete(i),Ep.size||window.removeEventListener("resize",AW)}function XIe(i,e,t){const n=i.canvas,r=n&&r$(n);if(!r)return;const s=nW((o,a)=>{const u=r.clientWidth;t(o,a),u<r.clientWidth&&t()},window),l=new ResizeObserver(o=>{const a=o[0],u=a.contentRect.width,c=a.contentRect.height;u===0&&c===0||s(u,c)});return l.observe(r),GIe(i,s),l}function s2(i,e,t){t&&t.disconnect(),e==="resize"&&ZIe(i)}function KIe(i,e,t){const n=i.canvas,r=nW(s=>{i.ctx!==null&&t(HIe(s,i))},i,s=>{const l=s[0];return[l,l.offsetX,l.offsetY]});return WIe(n,e,r),r}class JIe extends SW{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(UIe(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[Rg])return!1;const n=t[Rg].initial;["height","width"].forEach(s=>{const l=n[s];Fi(l)?t.removeAttribute(s):t.setAttribute(s,l)});const r=n.style||{};return Object.keys(r).forEach(s=>{t.style[s]=r[s]}),t.width=t.width,delete t[Rg],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),l={attach:VIe,detach:xIe,resize:XIe}[t]||KIe;r[t]=l(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:s2,detach:s2,resize:s2}[t]||qIe)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return kOe(e,t,n,r)}isAttached(e){const t=r$(e);return!!(t&&t.isConnected)}}function QIe(i){return!gW()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?jIe:JIe}class eBe{constructor(){this._init=[]}notify(e,t,n,r){t==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),l=this._notify(s,e,t,n);return t==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,t,n,r){r=r||{};for(const s of e){const l=s.plugin,o=l[n],a=[t,r,s.options];if(or(o,a,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Fi(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=ri(n.options&&n.options.plugins,{}),s=tBe(n);return r===!1&&!t?[]:iBe(e,s,r,t)}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(s,l)=>s.filter(o=>!l.some(a=>o.plugin.id===a.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function tBe(i){const e={},t=[],n=Object.keys(xo.plugins.items);for(let s=0;s<n.length;s++)t.push(xo.getPlugin(n[s]));const r=i.plugins||[];for(let s=0;s<r.length;s++){const l=r[s];t.indexOf(l)===-1&&(t.push(l),e[l.id]=!0)}return{plugins:t,localIds:e}}function nBe(i,e){return!e&&i===!1?null:i===!0?{}:i}function iBe(i,{plugins:e,localIds:t},n,r){const s=[],l=i.getContext();for(const o of e){const a=o.id,u=nBe(n[a],r);u!==null&&s.push({plugin:o,options:rBe(i.config,{plugin:o,local:t[a]},u,l)})}return s}function rBe(i,{plugin:e,local:t},n,r){const s=i.pluginScopeKeys(e),l=i.getOptionScopes(n,s);return t&&e.defaults&&l.push(e.defaults),i.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ck(i,e){const t=si.datasets[i]||{};return((e.datasets||{})[i]||{}).indexAxis||e.indexAxis||t.indexAxis||"x"}function sBe(i,e){let t=i;return i==="_index_"?t=e:i==="_value_"&&(t=e==="x"?"y":"x"),t}function lBe(i,e){return i===e?"_index_":"_value_"}function oBe(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function Dk(i,e){return i==="x"||i==="y"?i:e.axis||oBe(e.position)||i.charAt(0).toLowerCase()}function aBe(i,e){const t=bf[i.type]||{scales:{}},n=e.scales||{},r=Ck(i.type,e),s=Object.create(null),l=Object.create(null);return Object.keys(n).forEach(o=>{const a=n[o];if(!Xn(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const u=Dk(o,a),c=lBe(u,r),f=t.scales||{};s[u]=s[u]||o,l[o]=Wm(Object.create(null),[{axis:u},a,f[u],f[c]])}),i.data.datasets.forEach(o=>{const a=o.type||i.type,u=o.indexAxis||Ck(a,e),f=(bf[a]||{}).scales||{};Object.keys(f).forEach(d=>{const m=sBe(d,u),p=o[m+"AxisID"]||s[m]||m;l[p]=l[p]||Object.create(null),Wm(l[p],[{axis:m},n[p],f[d]])})}),Object.keys(l).forEach(o=>{const a=l[o];Wm(a,[si.scales[a.type],si.scale])}),l}function PW(i){const e=i.options||(i.options={});e.plugins=ri(e.plugins,{}),e.scales=aBe(i,e)}function NW(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function uBe(i){return i=i||{},i.data=NW(i.data),PW(i),i}const j9=new Map,MW=new Set;function Eg(i,e){let t=j9.get(i);return t||(t=e(),j9.set(i,t),MW.add(t)),t}const ym=(i,e,t)=>{const n=ec(e,t);n!==void 0&&i.add(n)};class cBe{constructor(e){this._config=uBe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=NW(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),PW(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Eg(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,t){return Eg(`${e}.transition.${t}`,()=>[[`datasets.${e}.transitions.${t}`,`transitions.${t}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,t){return Eg(`${e}-${t}`,()=>[[`datasets.${e}.elements.${t}`,`datasets.${e}`,`elements.${t}`,""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return Eg(`${n}-plugin-${t}`,()=>[[`plugins.${t}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return(!r||t)&&(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:s}=this,l=this._cachedScopes(e,n),o=l.get(t);if(o)return o;const a=new Set;t.forEach(c=>{e&&(a.add(e),c.forEach(f=>ym(a,e,f))),c.forEach(f=>ym(a,r,f)),c.forEach(f=>ym(a,bf[s]||{},f)),c.forEach(f=>ym(a,si,f)),c.forEach(f=>ym(a,$k,f))});const u=Array.from(a);return u.length===0&&u.push(Object.create(null)),MW.has(t)&&l.set(t,u),u}chartOptionScopes(){const{options:e,type:t}=this;return[e,bf[t]||{},si.datasets[t]||{},{type:t},si,$k]}resolveNamedOptions(e,t,n,r=[""]){const s={$shared:!0},{resolver:l,subPrefixes:o}=Y9(this._resolverCache,e,r);let a=l;if(dBe(l,t)){s.$shared=!1,n=tc(n)?n():n;const u=this.createResolver(e,n,o);a=rh(l,n,u)}for(const u of t)s[u]=a[u];return s}createResolver(e,t,n=[""],r){const{resolver:s}=Y9(this._resolverCache,e,n);return Xn(t)?rh(s,t,void 0,r):s}}function Y9(i,e,t){let n=i.get(e);n||(n=new Map,i.set(e,n));const r=t.join();let s=n.get(r);return s||(s={resolver:t$(e,t),subPrefixes:t.filter(o=>!o.toLowerCase().includes("hover"))},n.set(r,s)),s}const fBe=i=>Xn(i)&&Object.getOwnPropertyNames(i).reduce((e,t)=>e||tc(i[t]),!1);function dBe(i,e){const{isScriptable:t,isIndexable:n}=fW(i);for(const r of e){const s=t(r),l=n(r),o=(l||s)&&i[r];if(s&&(tc(o)||fBe(o))||l&&Gi(o))return!0}return!1}var hBe="3.9.1";const mBe=["top","bottom","left","right","chartArea"];function U9(i,e){return i==="top"||i==="bottom"||mBe.indexOf(i)===-1&&e==="x"}function W9(i,e){return function(t,n){return t[i]===n[i]?t[e]-n[e]:t[i]-n[i]}}function q9(i){const e=i.chart,t=e.options.animation;e.notifyPlugins("afterRender"),or(t&&t.onComplete,[i],e)}function pBe(i){const e=i.chart,t=e.options.animation;or(t&&t.onProgress,[i],e)}function LW(i){return gW()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const O1={},OW=i=>{const e=LW(i);return Object.values(O1).filter(t=>t.canvas===e).pop()};function _Be(i,e,t){const n=Object.keys(i);for(const r of n){const s=+r;if(s>=e){const l=i[r];delete i[r],(t>0||s>e)&&(i[s+t]=l)}}}function gBe(i,e,t,n){return!t||i.type==="mouseout"?null:n?e:i}class I1{constructor(e,t){const n=this.config=new cBe(t),r=LW(e),s=OW(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||QIe(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,l.aspectRatio),a=o&&o.canvas,u=a&&a.height,c=a&&a.width;if(this.id=eLe(),this.ctx=o,this.canvas=a,this.width=c,this.height=u,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new eBe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=_Le(f=>this.update(f),l.resizeDelay||0),this._dataChanges=[],O1[this.id]=this,!o||!a){console.error("Failed to create chart: can't acquire context from the given item");return}Ba.listen(this,"complete",q9),Ba.listen(this,"progress",pBe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:s}=this;return Fi(e)?t&&s?s:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():p9(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return d9(this.canvas,this.ctx),this}stop(){return Ba.stop(this),this}resize(e,t){Ba.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,e,t,s),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,p9(this,o,!0)&&(this.notifyPlugins("resize",{size:l}),or(n.onResize,[this,l],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){const t=this.options.scales||{};$i(t,(n,r)=>{n.id=r})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((l,o)=>(l[o]=!1,l),{});let s=[];t&&(s=s.concat(Object.keys(t).map(l=>{const o=t[l],a=Dk(l,o),u=a==="r",c=a==="x";return{options:o,dposition:u?"chartArea":c?"bottom":"left",dtype:u?"radialLinear":c?"category":"linear"}}))),$i(s,l=>{const o=l.options,a=o.id,u=Dk(a,o),c=ri(o.type,l.dtype);(o.position===void 0||U9(o.position,u)!==U9(l.dposition))&&(o.position=l.dposition),r[a]=!0;let f=null;if(a in n&&n[a].type===c)f=n[a];else{const d=xo.getScale(c);f=new d({id:a,type:c,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(o,e)}),$i(r,(l,o)=>{l||delete n[o]}),$i(n,l=>{Fg.configure(this,l,l.options),Fg.addBox(this,l)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((r,s)=>r.index-s.index),n>t){for(let r=t;r<n;++r)this._destroyDatasetMeta(r);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(W9("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((n,r)=>{t.filter(s=>s===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const s=t[n];let l=this.getDatasetMeta(n);const o=s.type||this.config.type;if(l.type&&l.type!==o&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=o,l.indexAxis=s.indexAxis||Ck(o,this.options),l.order=s.order||0,l.index=n,l.label=""+s.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const a=xo.getController(o),{datasetElementType:u,dataElementType:c}=si.datasets[o];Object.assign(a.prototype,{dataElementType:xo.getElement(c),datasetElementType:u&&xo.getElement(u)}),l.controller=new a(this,n),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){$i(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let u=0,c=this.data.datasets.length;u<c;u++){const{controller:f}=this.getDatasetMeta(u),d=!r&&s.indexOf(f)===-1;f.buildOrUpdateElements(d),l=Math.max(+f.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),r||$i(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(W9("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){$i(this.scales,e=>{Fg.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Q7(t,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of t){const l=n==="_removeElements"?-s:s;_Be(e,r,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=s=>new Set(e.filter(l=>l[0]===s).map((l,o)=>o+","+l.splice(1).join(","))),r=n(0);for(let s=1;s<t;s++)if(!Q7(r,n(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Fg.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],$i(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,tc(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ba.has(this)?this.attached&&!Ba.running(this)&&Ba.start(this):(this.draw(),q9({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resize(n,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,s;for(r=0,s=t.length;r<s;++r){const l=t[r];(!e||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n=e._clip,r=!n.disabled,s=this.chartArea,l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(r&&Jw(t,{left:n.left===!1?0:s.left-n.left,right:n.right===!1?this.width:s.right+n.right,top:n.top===!1?0:s.top-n.top,bottom:n.bottom===!1?this.height:s.bottom+n.bottom}),e.controller.draw(),r&&Qw(t),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return Fp(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const s=NIe.modes[t];return typeof s=="function"?s(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(s=>s&&s._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=fc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!t.hidden}setDatasetVisibility(e,t){const n=this.getDatasetMeta(e);n.hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",s=this.getDatasetMeta(e),l=s.controller._resolveAnimations(void 0,r);Wl(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),l.update(s,{visible:n}),this.update(o=>o.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Ba.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),d9(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete O1[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(s,l)=>{t.addEventListener(this,s,l),e[s]=l},r=(s,l,o)=>{s.offsetX=l,s.offsetY=o,this._eventHandler(s)};$i(this.options.events,s=>n(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(a,u)=>{t.addEventListener(this,a,u),e[a]=u},r=(a,u)=>{e[a]&&(t.removeEventListener(this,a,u),delete e[a])},s=(a,u)=>{this.canvas&&this.resize(a,u)};let l;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",s),n("detach",l)};l=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",o)},t.isAttached(this.canvas)?o():l()}unbindEvents(){$i(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},$i(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let s,l,o,a;for(t==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=e.length;o<a;++o){l=e[o];const u=l&&this.getDatasetMeta(l.datasetIndex).controller;u&&u[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(({datasetIndex:s,index:l})=>{const o=this.getDatasetMeta(s);if(!o)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:o.data[l],index:l}});!C1(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}_updateHoverStyles(e,t,n){const r=this.options.hover,s=(a,u)=>a.filter(c=>!u.some(f=>c.datasetIndex===f.datasetIndex&&c.index===f.index)),l=s(t,e),o=n?e:s(e,t);l.length&&this.updateHoverStyle(l,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:s}=this,l=t,o=this._getActiveElements(e,r,n,l),a=lLe(e),u=gBe(e,this._lastEvent,n,a);n&&(this._lastEvent=null,or(s.onHover,[e,o,this],this),a&&or(s.onClick,[e,o,this],this));const c=!C1(o,r);return(c||t)&&(this._active=o,this._updateHoverStyles(o,r,t)),this._lastEvent=u,c}_getActiveElements(e,t,n,r){if(e.type==="mouseout")return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}const H9=()=>$i(I1.instances,i=>i._plugins.invalidate()),Au=!0;Object.defineProperties(I1,{defaults:{enumerable:Au,value:si},instances:{enumerable:Au,value:O1},overrides:{enumerable:Au,value:bf},registry:{enumerable:Au,value:xo},version:{enumerable:Au,value:hBe},getChart:{enumerable:Au,value:OW},register:{enumerable:Au,value:(...i)=>{xo.add(...i),H9()}},unregister:{enumerable:Au,value:(...i)=>{xo.remove(...i),H9()}}});function IW(i,e,t){const{startAngle:n,pixelMargin:r,x:s,y:l,outerRadius:o,innerRadius:a}=e;let u=r/o;i.beginPath(),i.arc(s,l,o,n-u,t+u),a>r?(u=r/a,i.arc(s,l,a,t+u,n-u,!0)):i.arc(s,l,r,t+ur,n-ur),i.closePath(),i.clip()}function vBe(i){return e$(i,["outerStart","outerEnd","innerStart","innerEnd"])}function bBe(i,e,t,n){const r=vBe(i.options.borderRadius),s=(t-e)/2,l=Math.min(s,n*e/2),o=a=>{const u=(t-Math.min(s,a))*n/2;return ss(a,0,Math.min(s,u))};return{outerStart:o(r.outerStart),outerEnd:o(r.outerEnd),innerStart:ss(r.innerStart,0,l),innerEnd:ss(r.innerEnd,0,l)}}function _d(i,e,t,n){return{x:t+i*Math.cos(e),y:n+i*Math.sin(e)}}function Sk(i,e,t,n,r,s){const{x:l,y:o,startAngle:a,pixelMargin:u,innerRadius:c}=e,f=Math.max(e.outerRadius+n+t-u,0),d=c>0?c+n+t+u:0;let m=0;const p=r-a;if(n){const q=c>0?c-n:0,le=f>0?f-n:0,G=(q+le)/2,X=G!==0?p*G/(G+n):p;m=(p-X)/2}const g=Math.max(.001,p*f-t/cr)/f,k=(p-g)/2,$=a+k+m,C=r-k-m,{outerStart:E,outerEnd:S,innerStart:T,innerEnd:M}=bBe(e,d,f,C-$),R=f-E,Y=f-S,z=$+E/R,j=C-S/Y,V=d+T,x=d+M,ee=$+T/V,J=C-M/x;if(i.beginPath(),s){if(i.arc(l,o,f,z,j),S>0){const G=_d(Y,j,l,o);i.arc(G.x,G.y,S,j,C+ur)}const q=_d(x,C,l,o);if(i.lineTo(q.x,q.y),M>0){const G=_d(x,J,l,o);i.arc(G.x,G.y,M,C+ur,J+Math.PI)}if(i.arc(l,o,d,C-M/d,$+T/d,!0),T>0){const G=_d(V,ee,l,o);i.arc(G.x,G.y,T,ee+Math.PI,$-ur)}const le=_d(R,$,l,o);if(i.lineTo(le.x,le.y),E>0){const G=_d(R,z,l,o);i.arc(G.x,G.y,E,$-ur,z)}}else{i.moveTo(l,o);const q=Math.cos(z)*f+l,le=Math.sin(z)*f+o;i.lineTo(q,le);const G=Math.cos(j)*f+l,X=Math.sin(j)*f+o;i.lineTo(G,X)}i.closePath()}function kBe(i,e,t,n,r){const{fullCircles:s,startAngle:l,circumference:o}=e;let a=e.endAngle;if(s){Sk(i,e,t,n,l+Ai,r);for(let u=0;u<s;++u)i.fill();isNaN(o)||(a=l+o%Ai,o%Ai===0&&(a+=Ai))}return Sk(i,e,t,n,a,r),i.fill(),a}function yBe(i,e,t){const{x:n,y:r,startAngle:s,pixelMargin:l,fullCircles:o}=e,a=Math.max(e.outerRadius-l,0),u=e.innerRadius+l;let c;for(t&&IW(i,e,s+Ai),i.beginPath(),i.arc(n,r,u,s+Ai,s,!0),c=0;c<o;++c)i.stroke();for(i.beginPath(),i.arc(n,r,a,s,s+Ai),c=0;c<o;++c)i.stroke()}function wBe(i,e,t,n,r,s){const{options:l}=e,{borderWidth:o,borderJoinStyle:a}=l,u=l.borderAlign==="inner";!o||(u?(i.lineWidth=o*2,i.lineJoin=a||"round"):(i.lineWidth=o,i.lineJoin=a||"bevel"),e.fullCircles&&yBe(i,e,u),u&&IW(i,e,r),Sk(i,e,t,n,r,s),i.stroke())}class u$ extends uu{constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:s,distance:l}=JU(r,{x:e,y:t}),{startAngle:o,endAngle:a,innerRadius:u,outerRadius:c,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),d=this.options.spacing/2,p=ri(f,a-o)>=Ai||wp(s,o,a),g=$p(l,u+d,c+d);return p&&g}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:s,innerRadius:l,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),{offset:a,spacing:u}=this.options,c=(r+s)/2,f=(l+o+u+a)/2;return{x:t+Math.cos(c)*f,y:n+Math.sin(c)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/2,s=(t.spacing||0)/2,l=t.circular;if(this.pixelMargin=t.borderAlign==="inner"?.33:0,this.fullCircles=n>Ai?Math.floor(n/Ai):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let o=0;if(r){o=r/2;const u=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(u)*o,Math.sin(u)*o),this.circumference>=cr&&(o=r)}e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor;const a=kBe(e,this,o,s,l);wBe(e,this,o,s,a,l),e.restore()}}u$.id="arc";u$.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};u$.defaultRoutes={backgroundColor:"backgroundColor"};function BW(i,e,t=e){i.lineCap=ri(t.borderCapStyle,e.borderCapStyle),i.setLineDash(ri(t.borderDash,e.borderDash)),i.lineDashOffset=ri(t.borderDashOffset,e.borderDashOffset),i.lineJoin=ri(t.borderJoinStyle,e.borderJoinStyle),i.lineWidth=ri(t.borderWidth,e.borderWidth),i.strokeStyle=ri(t.borderColor,e.borderColor)}function $Be(i,e,t){i.lineTo(t.x,t.y)}function FBe(i){return i.stepped?qLe:i.tension||i.cubicInterpolationMode==="monotone"?HLe:$Be}function RW(i,e,t={}){const n=i.length,{start:r=0,end:s=n-1}=t,{start:l,end:o}=e,a=Math.max(r,l),u=Math.min(s,o),c=r<l&&s<l||r>o&&s>o;return{count:n,start:a,loop:e.loop,ilen:u<a&&!c?n+u-a:u-a}}function EBe(i,e,t,n){const{points:r,options:s}=e,{count:l,start:o,loop:a,ilen:u}=RW(r,t,n),c=FBe(s);let{move:f=!0,reverse:d}=n||{},m,p,g;for(m=0;m<=u;++m)p=r[(o+(d?u-m:m))%l],!p.skip&&(f?(i.moveTo(p.x,p.y),f=!1):c(i,g,p,d,s.stepped),g=p);return a&&(p=r[(o+(d?u:0))%l],c(i,g,p,d,s.stepped)),!!a}function CBe(i,e,t,n){const r=e.points,{count:s,start:l,ilen:o}=RW(r,t,n),{move:a=!0,reverse:u}=n||{};let c=0,f=0,d,m,p,g,k,$;const C=S=>(l+(u?o-S:S))%s,E=()=>{g!==k&&(i.lineTo(c,k),i.lineTo(c,g),i.lineTo(c,$))};for(a&&(m=r[C(0)],i.moveTo(m.x,m.y)),d=0;d<=o;++d){if(m=r[C(d)],m.skip)continue;const S=m.x,T=m.y,M=S|0;M===p?(T<g?g=T:T>k&&(k=T),c=(f*c+S)/++f):(E(),i.lineTo(S,T),p=M,f=0,g=k=T),$=T}E()}function Tk(i){const e=i.options,t=e.borderDash&&e.borderDash.length;return!i._decimated&&!i._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!t?CBe:EBe}function DBe(i){return i.stepped?wOe:i.tension||i.cubicInterpolationMode==="monotone"?$Oe:qc}function SBe(i,e,t,n){let r=e._path;r||(r=e._path=new Path2D,e.path(r,t,n)&&r.closePath()),BW(i,e.options),i.stroke(r)}function TBe(i,e,t,n){const{segments:r,options:s}=e,l=Tk(e);for(const o of r)BW(i,s,o.style),i.beginPath(),l(i,e,o,{start:t,end:t+n-1})&&i.closePath(),i.stroke()}const ABe=typeof Path2D=="function";function PBe(i,e,t,n){ABe&&!e.options.segment?SBe(i,e,t,n):TBe(i,e,t,n)}class dc extends uu{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;mOe(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=NOe(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],s=this.points,l=kW(this,{property:t,start:r,end:r});if(!l.length)return;const o=[],a=DBe(n);let u,c;for(u=0,c=l.length;u<c;++u){const{start:f,end:d}=l[u],m=s[f],p=s[d];if(m===p){o.push(m);continue}const g=Math.abs((r-m[t])/(p[t]-m[t])),k=a(m,p,g,n.stepped);k[t]=e[t],o.push(k)}return o.length===1?o[0]:o}pathSegment(e,t,n){return Tk(this)(e,this,t,n)}path(e,t,n){const r=this.segments,s=Tk(this);let l=this._loop;t=t||0,n=n||this.points.length-t;for(const o of r)l&=s(e,this,o,{start:t,end:t+n-1});return!!l}draw(e,t,n,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),PBe(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}dc.id="line";dc.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};dc.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};dc.descriptors={_scriptable:!0,_indexable:i=>i!=="borderDash"&&i!=="fill"};function V9(i,e,t,n){const r=i.options,{[t]:s}=i.getProps([t],n);return Math.abs(e-s)<r.radius+r.hitRadius}class Z0 extends uu{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:s,y:l}=this.getProps(["x","y"],n);return Math.pow(e-s,2)+Math.pow(t-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return V9(this,e,"x",t)}inYRange(e,t){return V9(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){e=e||this.options||{};let t=e.radius||0;t=Math.max(t,t&&e.hoverRadius||0);const n=t&&e.borderWidth||0;return(t+n)*2}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Fp(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Fk(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}Z0.id="point";Z0.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Z0.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function zW(i,e){const{x:t,y:n,base:r,width:s,height:l}=i.getProps(["x","y","base","width","height"],e);let o,a,u,c,f;return i.horizontal?(f=l/2,o=Math.min(t,r),a=Math.max(t,r),u=n-f,c=n+f):(f=s/2,o=t-f,a=t+f,u=Math.min(n,r),c=Math.max(n,r)),{left:o,top:u,right:a,bottom:c}}function Ou(i,e,t,n){return i?0:ss(e,t,n)}function NBe(i,e,t){const n=i.options.borderWidth,r=i.borderSkipped,s=cW(n);return{t:Ou(r.top,s.top,0,t),r:Ou(r.right,s.right,0,e),b:Ou(r.bottom,s.bottom,0,t),l:Ou(r.left,s.left,0,e)}}function MBe(i,e,t){const{enableBorderRadius:n}=i.getProps(["enableBorderRadius"]),r=i.options.borderRadius,s=Od(r),l=Math.min(e,t),o=i.borderSkipped,a=n||Xn(r);return{topLeft:Ou(!a||o.top||o.left,s.topLeft,0,l),topRight:Ou(!a||o.top||o.right,s.topRight,0,l),bottomLeft:Ou(!a||o.bottom||o.left,s.bottomLeft,0,l),bottomRight:Ou(!a||o.bottom||o.right,s.bottomRight,0,l)}}function LBe(i){const e=zW(i),t=e.right-e.left,n=e.bottom-e.top,r=NBe(i,t/2,n/2),s=MBe(i,t/2,n/2);return{outer:{x:e.left,y:e.top,w:t,h:n,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:t-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function l2(i,e,t,n){const r=e===null,s=t===null,o=i&&!(r&&s)&&zW(i,n);return o&&(r||$p(e,o.left,o.right))&&(s||$p(t,o.top,o.bottom))}function OBe(i){return i.topLeft||i.topRight||i.bottomLeft||i.bottomRight}function IBe(i,e){i.rect(e.x,e.y,e.w,e.h)}function o2(i,e,t={}){const n=i.x!==t.x?-e:0,r=i.y!==t.y?-e:0,s=(i.x+i.w!==t.x+t.w?e:0)-n,l=(i.y+i.h!==t.y+t.h?e:0)-r;return{x:i.x+n,y:i.y+r,w:i.w+s,h:i.h+l,radius:i.radius}}class X0 extends uu{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:l}=LBe(this),o=OBe(l.radius)?N1:IBe;e.save(),(l.w!==s.w||l.h!==s.h)&&(e.beginPath(),o(e,o2(l,t,s)),e.clip(),o(e,o2(s,-t,l)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),o(e,o2(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return l2(this,e,t,n)}inXRange(e,t){return l2(this,e,null,t)}inYRange(e,t){return l2(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}X0.id="bar";X0.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};X0.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function BBe(i,e,t){const n=i.segments,r=i.points,s=e.points,l=[];for(const o of n){let{start:a,end:u}=o;u=c$(a,u,r);const c=Ak(t,r[a],r[u],o.loop);if(!e.segments){l.push({source:o,target:c,start:r[a],end:r[u]});continue}const f=kW(e,c);for(const d of f){const m=Ak(t,s[d.start],s[d.end],d.loop),p=bW(o,r,m);for(const g of p)l.push({source:g,target:d,start:{[t]:x9(c,m,"start",Math.max)},end:{[t]:x9(c,m,"end",Math.min)}})}}return l}function Ak(i,e,t,n){if(n)return;let r=e[i],s=t[i];return i==="angle"&&(r=kl(r),s=kl(s)),{property:i,start:r,end:s}}function RBe(i,e){const{x:t=null,y:n=null}=i||{},r=e.points,s=[];return e.segments.forEach(({start:l,end:o})=>{o=c$(l,o,r);const a=r[l],u=r[o];n!==null?(s.push({x:a.x,y:n}),s.push({x:u.x,y:n})):t!==null&&(s.push({x:t,y:a.y}),s.push({x:t,y:u.y}))}),s}function c$(i,e,t){for(;e>i;e--){const n=t[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function x9(i,e,t,n){return i&&e?n(i[t],e[t]):i?i[t]:e?e[t]:0}function jW(i,e){let t=[],n=!1;return Gi(i)?(n=!0,t=i):t=RBe(i,e),t.length?new dc({points:t,options:{tension:0},_loop:n,_fullLoop:n}):null}function G9(i){return i&&i.fill!==!1}function zBe(i,e,t){let r=i[e].fill;const s=[e];let l;if(!t)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!gr(r))return r;if(l=i[r],!l)return!1;if(l.visible)return r;s.push(r),r=l.fill}return!1}function jBe(i,e,t){const n=qBe(i);if(Xn(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return gr(r)&&Math.floor(r)===r?YBe(n[0],e,r,t):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function YBe(i,e,t,n){return(i==="-"||i==="+")&&(t=e+t),t===e||t<0||t>=n?!1:t}function UBe(i,e){let t=null;return i==="start"?t=e.bottom:i==="end"?t=e.top:Xn(i)?t=e.getPixelForValue(i.value):e.getBasePixel&&(t=e.getBasePixel()),t}function WBe(i,e,t){let n;return i==="start"?n=t:i==="end"?n=e.options.reverse?e.min:e.max:Xn(i)?n=i.value:n=e.getBaseValue(),n}function qBe(i){const e=i.options,t=e.fill;let n=ri(t&&t.target,t);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function HBe(i){const{scale:e,index:t,line:n}=i,r=[],s=n.segments,l=n.points,o=VBe(e,t);o.push(jW({x:null,y:e.bottom},n));for(let a=0;a<s.length;a++){const u=s[a];for(let c=u.start;c<=u.end;c++)xBe(r,l[c],o)}return new dc({points:r,options:{}})}function VBe(i,e){const t=[],n=i.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const s=n[r];if(s.index===e)break;s.hidden||t.unshift(s.dataset)}return t}function xBe(i,e,t){const n=[];for(let r=0;r<t.length;r++){const s=t[r],{first:l,last:o,point:a}=GBe(s,e,"x");if(!(!a||l&&o)){if(l)n.unshift(a);else if(i.push(a),!o)break}}i.push(...n)}function GBe(i,e,t){const n=i.interpolate(e,t);if(!n)return{};const r=n[t],s=i.segments,l=i.points;let o=!1,a=!1;for(let u=0;u<s.length;u++){const c=s[u],f=l[c.start][t],d=l[c.end][t];if($p(r,f,d)){o=r===f,a=r===d;break}}return{first:o,last:a,point:n}}class YW{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:s,radius:l}=this;return t=t||{start:0,end:Ai},e.arc(r,s,l,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function ZBe(i){const{chart:e,fill:t,line:n}=i;if(gr(t))return XBe(e,t);if(t==="stack")return HBe(i);if(t==="shape")return!0;const r=KBe(i);return r instanceof YW?r:jW(r,n)}function XBe(i,e){const t=i.getDatasetMeta(e);return t&&i.isDatasetVisible(e)?t.dataset:null}function KBe(i){return(i.scale||{}).getPointPositionForValue?QBe(i):JBe(i)}function JBe(i){const{scale:e={},fill:t}=i,n=UBe(t,e);if(gr(n)){const r=e.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function QBe(i){const{scale:e,fill:t}=i,n=e.options,r=e.getLabels().length,s=n.reverse?e.max:e.min,l=WBe(t,e,s),o=[];if(n.grid.circular){const a=e.getPointPositionForValue(0,s);return new YW({x:a.x,y:a.y,radius:e.getDistanceFromCenterForValue(l)})}for(let a=0;a<r;++a)o.push(e.getPointPositionForValue(a,l));return o}function a2(i,e,t){const n=ZBe(e),{line:r,scale:s,axis:l}=e,o=r.options,a=o.fill,u=o.backgroundColor,{above:c=u,below:f=u}=a||{};n&&r.points.length&&(Jw(i,t),eRe(i,{line:r,target:n,above:c,below:f,area:t,scale:s,axis:l}),Qw(i))}function eRe(i,e){const{line:t,target:n,above:r,below:s,area:l,scale:o}=e,a=t._loop?"angle":e.axis;i.save(),a==="x"&&s!==r&&(Z9(i,n,l.top),X9(i,{line:t,target:n,color:r,scale:o,property:a}),i.restore(),i.save(),Z9(i,n,l.bottom)),X9(i,{line:t,target:n,color:s,scale:o,property:a}),i.restore()}function Z9(i,e,t){const{segments:n,points:r}=e;let s=!0,l=!1;i.beginPath();for(const o of n){const{start:a,end:u}=o,c=r[a],f=r[c$(a,u,r)];s?(i.moveTo(c.x,c.y),s=!1):(i.lineTo(c.x,t),i.lineTo(c.x,c.y)),l=!!e.pathSegment(i,o,{move:l}),l?i.closePath():i.lineTo(f.x,t)}i.lineTo(e.first().x,t),i.closePath(),i.clip()}function X9(i,e){const{line:t,target:n,property:r,color:s,scale:l}=e,o=BBe(t,n,r);for(const{source:a,target:u,start:c,end:f}of o){const{style:{backgroundColor:d=s}={}}=a,m=n!==!0;i.save(),i.fillStyle=d,tRe(i,l,m&&Ak(r,c,f)),i.beginPath();const p=!!t.pathSegment(i,a);let g;if(m){p?i.closePath():K9(i,n,f,r);const k=!!n.pathSegment(i,u,{move:p,reverse:!0});g=p&&k,g||K9(i,n,c,r)}i.closePath(),i.fill(g?"evenodd":"nonzero"),i.restore()}}function tRe(i,e,t){const{top:n,bottom:r}=e.chart.chartArea,{property:s,start:l,end:o}=t||{};s==="x"&&(i.beginPath(),i.rect(l,n,o-l,r-n),i.clip())}function K9(i,e,t,n){const r=e.interpolate(t,n);r&&i.lineTo(r.x,r.y)}var nRe={id:"filler",afterDatasetsUpdate(i,e,t){const n=(i.data.datasets||[]).length,r=[];let s,l,o,a;for(l=0;l<n;++l)s=i.getDatasetMeta(l),o=s.dataset,a=null,o&&o.options&&o instanceof dc&&(a={visible:i.isDatasetVisible(l),index:l,fill:jBe(o,l,n),chart:i,axis:s.controller.options.indexAxis,scale:s.vScale,line:o}),s.$filler=a,r.push(a);for(l=0;l<n;++l)a=r[l],!(!a||a.fill===!1)&&(a.fill=zBe(r,l,t.propagate))},beforeDraw(i,e,t){const n=t.drawTime==="beforeDraw",r=i.getSortedVisibleDatasetMetas(),s=i.chartArea;for(let l=r.length-1;l>=0;--l){const o=r[l].$filler;!o||(o.line.updateControlPoints(s,o.axis),n&&o.fill&&a2(i.ctx,o,s))}},beforeDatasetsDraw(i,e,t){if(t.drawTime!=="beforeDatasetsDraw")return;const n=i.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const s=n[r].$filler;G9(s)&&a2(i.ctx,s,i.chartArea)}},beforeDatasetDraw(i,e,t){const n=e.meta.$filler;!G9(n)||t.drawTime!=="beforeDatasetDraw"||a2(i.ctx,n,i.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const zg={average(i){if(!i.length)return!1;let e,t,n=0,r=0,s=0;for(e=0,t=i.length;e<t;++e){const l=i[e].element;if(l&&l.hasValue()){const o=l.tooltipPosition();n+=o.x,r+=o.y,++s}}return{x:n/s,y:r/s}},nearest(i,e){if(!i.length)return!1;let t=e.x,n=e.y,r=Number.POSITIVE_INFINITY,s,l,o;for(s=0,l=i.length;s<l;++s){const a=i[s].element;if(a&&a.hasValue()){const u=a.getCenterPoint(),c=yk(e,u);c<r&&(r=c,o=a)}}if(o){const a=o.tooltipPosition();t=a.x,n=a.y}return{x:t,y:n}}};function jo(i,e){return e&&(Gi(e)?Array.prototype.push.apply(i,e):i.push(e)),i}function Ra(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function iRe(i,e){const{element:t,datasetIndex:n,index:r}=e,s=i.getDatasetMeta(n).controller,{label:l,value:o}=s.getLabelAndValue(r);return{chart:i,label:l,parsed:s.getParsed(r),raw:i.data.datasets[n].data[r],formattedValue:o,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:t}}function J9(i,e){const t=i.chart.ctx,{body:n,footer:r,title:s}=i,{boxWidth:l,boxHeight:o}=e,a=Fl(e.bodyFont),u=Fl(e.titleFont),c=Fl(e.footerFont),f=s.length,d=r.length,m=n.length,p=ql(e.padding);let g=p.height,k=0,$=n.reduce((S,T)=>S+T.before.length+T.lines.length+T.after.length,0);if($+=i.beforeBody.length+i.afterBody.length,f&&(g+=f*u.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),$){const S=e.displayColors?Math.max(o,a.lineHeight):a.lineHeight;g+=m*S+($-m)*a.lineHeight+($-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*c.lineHeight+(d-1)*e.footerSpacing);let C=0;const E=function(S){k=Math.max(k,t.measureText(S).width+C)};return t.save(),t.font=u.string,$i(i.title,E),t.font=a.string,$i(i.beforeBody.concat(i.afterBody),E),C=e.displayColors?l+2+e.boxPadding:0,$i(n,S=>{$i(S.before,E),$i(S.lines,E),$i(S.after,E)}),C=0,t.font=c.string,$i(i.footer,E),t.restore(),k+=p.width,{width:k,height:g}}function rRe(i,e){const{y:t,height:n}=e;return t<n/2?"top":t>i.height-n/2?"bottom":"center"}function sRe(i,e,t,n){const{x:r,width:s}=n,l=t.caretSize+t.caretPadding;if(i==="left"&&r+s+l>e.width||i==="right"&&r-s-l<0)return!0}function lRe(i,e,t,n){const{x:r,width:s}=t,{width:l,chartArea:{left:o,right:a}}=i;let u="center";return n==="center"?u=r<=(o+a)/2?"left":"right":r<=s/2?u="left":r>=l-s/2&&(u="right"),sRe(u,i,e,t)&&(u="center"),u}function Q9(i,e,t){const n=t.yAlign||e.yAlign||rRe(i,t);return{xAlign:t.xAlign||e.xAlign||lRe(i,e,t,n),yAlign:n}}function oRe(i,e){let{x:t,width:n}=i;return e==="right"?t-=n:e==="center"&&(t-=n/2),t}function aRe(i,e,t){let{y:n,height:r}=i;return e==="top"?n+=t:e==="bottom"?n-=r+t:n-=r/2,n}function eT(i,e,t,n){const{caretSize:r,caretPadding:s,cornerRadius:l}=i,{xAlign:o,yAlign:a}=t,u=r+s,{topLeft:c,topRight:f,bottomLeft:d,bottomRight:m}=Od(l);let p=oRe(e,o);const g=aRe(e,a,u);return a==="center"?o==="left"?p+=u:o==="right"&&(p-=u):o==="left"?p-=Math.max(c,d)+r:o==="right"&&(p+=Math.max(f,m)+r),{x:ss(p,0,n.width-e.width),y:ss(g,0,n.height-e.height)}}function Cg(i,e,t){const n=ql(t.padding);return e==="center"?i.x+i.width/2:e==="right"?i.x+i.width-n.right:i.x+n.left}function tT(i){return jo([],Ra(i))}function uRe(i,e,t){return fc(i,{tooltip:e,tooltipItems:t,type:"tooltip"})}function nT(i,e){const t=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return t?i.override(t):i}class cRe extends uu{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,s=new yW(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=uRe(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,t){const{callbacks:n}=t,r=n.beforeTitle.apply(this,[e]),s=n.title.apply(this,[e]),l=n.afterTitle.apply(this,[e]);let o=[];return o=jo(o,Ra(r)),o=jo(o,Ra(s)),o=jo(o,Ra(l)),o}getBeforeBody(e,t){return tT(t.callbacks.beforeBody.apply(this,[e]))}getBody(e,t){const{callbacks:n}=t,r=[];return $i(e,s=>{const l={before:[],lines:[],after:[]},o=nT(n,s);jo(l.before,Ra(o.beforeLabel.call(this,s))),jo(l.lines,o.label.call(this,s)),jo(l.after,Ra(o.afterLabel.call(this,s))),r.push(l)}),r}getAfterBody(e,t){return tT(t.callbacks.afterBody.apply(this,[e]))}getFooter(e,t){const{callbacks:n}=t,r=n.beforeFooter.apply(this,[e]),s=n.footer.apply(this,[e]),l=n.afterFooter.apply(this,[e]);let o=[];return o=jo(o,Ra(r)),o=jo(o,Ra(s)),o=jo(o,Ra(l)),o}_createItems(e){const t=this._active,n=this.chart.data,r=[],s=[],l=[];let o=[],a,u;for(a=0,u=t.length;a<u;++a)o.push(iRe(this.chart,t[a]));return e.filter&&(o=o.filter((c,f,d)=>e.filter(c,f,d,n))),e.itemSort&&(o=o.sort((c,f)=>e.itemSort(c,f,n))),$i(o,c=>{const f=nT(e.callbacks,c);r.push(f.labelColor.call(this,c)),s.push(f.labelPointStyle.call(this,c)),l.push(f.labelTextColor.call(this,c))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=l,this.dataPoints=o,o}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let s,l=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const o=zg[n.position].call(this,r,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const a=this._size=J9(this,n),u=Object.assign({},o,a),c=Q9(this.chart,n,u),f=eT(n,u,c,this.chart);this.xAlign=c.xAlign,this.yAlign=c.yAlign,s={opacity:1,x:f.x,y:f.y,width:a.width,height:a.height,caretX:o.x,caretY:o.y}}this._tooltipItems=l,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const s=this.getCaretPosition(e,n,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:s}=this,{caretSize:l,cornerRadius:o}=n,{topLeft:a,topRight:u,bottomLeft:c,bottomRight:f}=Od(o),{x:d,y:m}=e,{width:p,height:g}=t;let k,$,C,E,S,T;return s==="center"?(S=m+g/2,r==="left"?(k=d,$=k-l,E=S+l,T=S-l):(k=d+p,$=k+l,E=S-l,T=S+l),C=k):(r==="left"?$=d+Math.max(a,c)+l:r==="right"?$=d+p-Math.max(u,f)-l:$=this.caretX,s==="top"?(E=m,S=E-l,k=$-l,C=$+l):(E=m+g,S=E+l,k=$+l,C=$-l),T=E),{x1:k,x2:$,x3:C,y1:E,y2:S,y3:T}}drawTitle(e,t,n){const r=this.title,s=r.length;let l,o,a;if(s){const u=Qb(n.rtl,this.x,this.width);for(e.x=Cg(this,n.titleAlign,n),t.textAlign=u.textAlign(n.titleAlign),t.textBaseline="middle",l=Fl(n.titleFont),o=n.titleSpacing,t.fillStyle=n.titleColor,t.font=l.string,a=0;a<s;++a)t.fillText(r[a],u.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+o,a+1===s&&(e.y+=n.titleMarginBottom-o)}}_drawColorBox(e,t,n,r,s){const l=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:u,boxPadding:c}=s,f=Fl(s.bodyFont),d=Cg(this,"left",s),m=r.x(d),p=a<f.lineHeight?(f.lineHeight-a)/2:0,g=t.y+p;if(s.usePointStyle){const k={radius:Math.min(u,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},$=r.leftForLtr(m,u)+u/2,C=g+a/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Fk(e,k,$,C),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,Fk(e,k,$,C)}else{e.lineWidth=Xn(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const k=r.leftForLtr(m,u-c),$=r.leftForLtr(r.xPlus(m,1),u-c-2),C=Od(l.borderRadius);Object.values(C).some(E=>E!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,N1(e,{x:k,y:g,w:u,h:a,radius:C}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),N1(e,{x:$,y:g+1,w:u-2,h:a-2,radius:C}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(k,g,u,a),e.strokeRect(k,g,u,a),e.fillStyle=l.backgroundColor,e.fillRect($,g+1,u-2,a-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:s,bodyAlign:l,displayColors:o,boxHeight:a,boxWidth:u,boxPadding:c}=n,f=Fl(n.bodyFont);let d=f.lineHeight,m=0;const p=Qb(n.rtl,this.x,this.width),g=function(Y){t.fillText(Y,p.x(e.x+m),e.y+d/2),e.y+=d+s},k=p.textAlign(l);let $,C,E,S,T,M,R;for(t.textAlign=l,t.textBaseline="middle",t.font=f.string,e.x=Cg(this,k,n),t.fillStyle=n.bodyColor,$i(this.beforeBody,g),m=o&&k!=="right"?l==="center"?u/2+c:u+2+c:0,S=0,M=r.length;S<M;++S){for($=r[S],C=this.labelTextColors[S],t.fillStyle=C,$i($.before,g),E=$.lines,o&&E.length&&(this._drawColorBox(t,e,S,p,n),d=Math.max(f.lineHeight,a)),T=0,R=E.length;T<R;++T)g(E[T]),d=f.lineHeight;$i($.after,g)}m=0,d=f.lineHeight,$i(this.afterBody,g),e.y-=s}drawFooter(e,t,n){const r=this.footer,s=r.length;let l,o;if(s){const a=Qb(n.rtl,this.x,this.width);for(e.x=Cg(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=a.textAlign(n.footerAlign),t.textBaseline="middle",l=Fl(n.footerFont),t.fillStyle=n.footerColor,t.font=l.string,o=0;o<s;++o)t.fillText(r[o],a.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:s,yAlign:l}=this,{x:o,y:a}=e,{width:u,height:c}=n,{topLeft:f,topRight:d,bottomLeft:m,bottomRight:p}=Od(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(o+f,a),l==="top"&&this.drawCaret(e,t,n,r),t.lineTo(o+u-d,a),t.quadraticCurveTo(o+u,a,o+u,a+d),l==="center"&&s==="right"&&this.drawCaret(e,t,n,r),t.lineTo(o+u,a+c-p),t.quadraticCurveTo(o+u,a+c,o+u-p,a+c),l==="bottom"&&this.drawCaret(e,t,n,r),t.lineTo(o+m,a+c),t.quadraticCurveTo(o,a+c,o,a+c-m),l==="center"&&s==="left"&&this.drawCaret(e,t,n,r),t.lineTo(o,a+f),t.quadraticCurveTo(o,a,o+f,a),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const l=zg[e.position].call(this,this._active,this._eventPosition);if(!l)return;const o=this._size=J9(this,e),a=Object.assign({},l,this._size),u=Q9(t,e,a),c=eT(e,a,u,t);(r._to!==c.x||s._to!==c.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=o.width,this.height=o.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,c))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=ql(t.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&o&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,r,t),DOe(e,t.textDirection),s.y+=l.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),SOe(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(({datasetIndex:o,index:a})=>{const u=this.chart.getDatasetMeta(o);if(!u)throw new Error("Cannot find a dataset at index "+o);return{datasetIndex:o,element:u.data[a],index:a}}),s=!C1(n,r),l=this._positionChanged(r,t);(s||l)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t,n=!0){if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],l=this._getActiveElements(e,s,t,n),o=this._positionChanged(l,e),a=t||!C1(l,s)||o;return a&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),a}_getActiveElements(e,t,n,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return t;const l=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&l.reverse(),l}_positionChanged(e,t){const{caretX:n,caretY:r,options:s}=this,l=zg[s.position].call(this,e,t);return l!==!1&&(n!==l.x||r!==l.y)}}cRe.positioners=zg;const fRe=(i,e,t,n)=>(typeof e=="string"?(t=i.push(e)-1,n.unshift({index:t,label:e})):isNaN(e)&&(t=null),t);function dRe(i,e,t,n){const r=i.indexOf(e);if(r===-1)return fRe(i,e,t,n);const s=i.lastIndexOf(e);return r!==s?t:r}const hRe=(i,e)=>i===null?null:ss(Math.round(i),0,e);class B1 extends Bf{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const n=this.getLabels();for(const{index:r,label:s}of t)n[r]===s&&n.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(Fi(e))return null;const n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:dRe(n,e,ri(t,e),this._addedLabels),hRe(t,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=e===0&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=e;l<=t;l++)r.push({value:l});return r}getLabelForValue(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}B1.id="category";B1.defaults={ticks:{callback:B1.prototype.getLabelForValue}};function mRe(i,e){const t=[],{bounds:r,step:s,min:l,max:o,precision:a,count:u,maxTicks:c,maxDigits:f,includeBounds:d}=i,m=s||1,p=c-1,{min:g,max:k}=e,$=!Fi(l),C=!Fi(o),E=!Fi(u),S=(k-g)/(f+1);let T=t9((k-g)/p/m)*m,M,R,Y,z;if(T<1e-14&&!$&&!C)return[{value:g},{value:k}];z=Math.ceil(k/T)-Math.floor(g/T),z>p&&(T=t9(z*T/p/m)*m),Fi(a)||(M=Math.pow(10,a),T=Math.ceil(T*M)/M),r==="ticks"?(R=Math.floor(g/T)*T,Y=Math.ceil(k/T)*T):(R=g,Y=k),$&&C&&s&&cLe((o-l)/s,T/1e3)?(z=Math.round(Math.min((o-l)/T,c)),T=(o-l)/z,R=l,Y=o):E?(R=$?l:R,Y=C?o:Y,z=u-1,T=(Y-R)/z):(z=(Y-R)/T,qm(z,Math.round(z),T/1e3)?z=Math.round(z):z=Math.ceil(z));const j=Math.max(n9(T),n9(R));M=Math.pow(10,Fi(a)?j:a),R=Math.round(R*M)/M,Y=Math.round(Y*M)/M;let V=0;for($&&(d&&R!==l?(t.push({value:l}),R<l&&V++,qm(Math.round((R+V*T)*M)/M,l,iT(l,S,i))&&V++):R<l&&V++);V<z;++V)t.push({value:Math.round((R+V*T)*M)/M});return C&&d&&Y!==o?t.length&&qm(t[t.length-1].value,o,iT(o,S,i))?t[t.length-1].value=o:t.push({value:o}):(!C||Y===o)&&t.push({value:Y}),t}function iT(i,e,{horizontal:t,minRotation:n}){const r=co(n),s=(t?Math.sin(r):Math.cos(r))||.001,l=.75*e*(""+i).length;return Math.min(e/s,l)}class R1 extends Bf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return Fi(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const l=a=>r=t?r:a,o=a=>s=n?s:a;if(e){const a=Qo(r),u=Qo(s);a<0&&u<0?o(0):a>0&&u>0&&l(0)}if(r===s){let a=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(a=Math.abs(s*.05)),o(s+a),e||l(r-a)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:t,stepSize:n}=e,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),t=t||11),t&&(r=Math.min(t,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:t.includeBounds!==!1},s=this._range||this,l=mRe(r,s);return e.bounds==="ticks"&&KU(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return n_(e,this.chart.options.locale,this.options.ticks.format)}}class f$ extends R1{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=gr(e)?e:0,this.max=gr(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=co(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}f$.id="linear";f$.defaults={ticks:{callback:G0.formatters.numeric}};function rT(i){return i/Math.pow(10,Math.floor(Rl(i)))===1}function pRe(i,e){const t=Math.floor(Rl(e.max)),n=Math.ceil(e.max/Math.pow(10,t)),r=[];let s=Ol(i.min,Math.pow(10,Math.floor(Rl(e.min)))),l=Math.floor(Rl(s)),o=Math.floor(s/Math.pow(10,l)),a=l<0?Math.pow(10,Math.abs(l)):1;do r.push({value:s,major:rT(s)}),++o,o===10&&(o=1,++l,a=l>=0?1:a),s=Math.round(o*Math.pow(10,l)*a)/a;while(l<t||l===t&&o<n);const u=Ol(i.max,s);return r.push({value:u,major:rT(s)}),r}class d$ extends Bf{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=R1.prototype.parse.apply(this,[e,t]);if(n===0){this._zero=!0;return}return gr(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=gr(e)?Math.max(0,e):null,this.max=gr(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const s=a=>n=e?n:a,l=a=>r=t?r:a,o=(a,u)=>Math.pow(10,Math.floor(Rl(a))+u);n===r&&(n<=0?(s(1),l(10)):(s(o(n,-1)),l(o(r,1)))),n<=0&&s(o(r,-1)),r<=0&&l(o(n,1)),this._zero&&this.min!==this._suggestedMin&&n===o(this.min,0)&&s(o(n,-1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t={min:this._userMin,max:this._userMax},n=pRe(t,this);return e.bounds==="ticks"&&KU(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":n_(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Rl(e),this._valueRange=Rl(this.max)-Rl(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Rl(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}d$.id="logarithmic";d$.defaults={ticks:{callback:G0.formatters.logarithmic,major:{enabled:!0}}};function Pk(i){const e=i.ticks;if(e.display&&i.display){const t=ql(e.backdropPadding);return ri(e.font&&e.font.size,si.font.size)+t.height}return 0}function _Re(i,e,t){return t=Gi(t)?t:[t],{w:ULe(i,e.string,t),h:t.length*e.lineHeight}}function sT(i,e,t,n,r){return i===n||i===r?{start:e-t/2,end:e+t/2}:i<n||i>r?{start:e-t,end:e}:{start:e,end:e+t}}function gRe(i){const e={l:i.left+i._padding.left,r:i.right-i._padding.right,t:i.top+i._padding.top,b:i.bottom-i._padding.bottom},t=Object.assign({},e),n=[],r=[],s=i._pointLabels.length,l=i.options.pointLabels,o=l.centerPointLabels?cr/s:0;for(let a=0;a<s;a++){const u=l.setContext(i.getPointLabelContext(a));r[a]=u.padding;const c=i.getPointPosition(a,i.drawingArea+r[a],o),f=Fl(u.font),d=_Re(i.ctx,f,i._pointLabels[a]);n[a]=d;const m=kl(i.getIndexAngle(a)+o),p=Math.round(xw(m)),g=sT(p,c.x,d.w,0,180),k=sT(p,c.y,d.h,90,270);vRe(t,e,m,g,k)}i.setCenterPoint(e.l-t.l,t.r-e.r,e.t-t.t,t.b-e.b),i._pointLabelItems=bRe(i,n,r)}function vRe(i,e,t,n,r){const s=Math.abs(Math.sin(t)),l=Math.abs(Math.cos(t));let o=0,a=0;n.start<e.l?(o=(e.l-n.start)/s,i.l=Math.min(i.l,e.l-o)):n.end>e.r&&(o=(n.end-e.r)/s,i.r=Math.max(i.r,e.r+o)),r.start<e.t?(a=(e.t-r.start)/l,i.t=Math.min(i.t,e.t-a)):r.end>e.b&&(a=(r.end-e.b)/l,i.b=Math.max(i.b,e.b+a))}function bRe(i,e,t){const n=[],r=i._pointLabels.length,s=i.options,l=Pk(s)/2,o=i.drawingArea,a=s.pointLabels.centerPointLabels?cr/r:0;for(let u=0;u<r;u++){const c=i.getPointPosition(u,o+l+t[u],a),f=Math.round(xw(kl(c.angle+ur))),d=e[u],m=wRe(c.y,d.h,f),p=kRe(f),g=yRe(c.x,d.w,p);n.push({x:c.x,y:m,textAlign:p,left:g,top:m,right:g+d.w,bottom:m+d.h})}return n}function kRe(i){return i===0||i===180?"center":i<180?"left":"right"}function yRe(i,e,t){return t==="right"?i-=e:t==="center"&&(i-=e/2),i}function wRe(i,e,t){return t===90||t===270?i-=e/2:(t>270||t<90)&&(i-=e),i}function $Re(i,e){const{ctx:t,options:{pointLabels:n}}=i;for(let r=e-1;r>=0;r--){const s=n.setContext(i.getPointLabelContext(r)),l=Fl(s.font),{x:o,y:a,textAlign:u,left:c,top:f,right:d,bottom:m}=i._pointLabelItems[r],{backdropColor:p}=s;if(!Fi(p)){const g=Od(s.borderRadius),k=ql(s.backdropPadding);t.fillStyle=p;const $=c-k.left,C=f-k.top,E=d-c+k.width,S=m-f+k.height;Object.values(g).some(T=>T!==0)?(t.beginPath(),N1(t,{x:$,y:C,w:E,h:S,radius:g}),t.fill()):t.fillRect($,C,E,S)}P1(t,i._pointLabels[r],o,a+l.lineHeight/2,l,{color:s.color,textAlign:u,textBaseline:"middle"})}}function UW(i,e,t,n){const{ctx:r}=i;if(t)r.arc(i.xCenter,i.yCenter,e,0,Ai);else{let s=i.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let l=1;l<n;l++)s=i.getPointPosition(l,e),r.lineTo(s.x,s.y)}}function FRe(i,e,t,n){const r=i.ctx,s=e.circular,{color:l,lineWidth:o}=e;!s&&!n||!l||!o||t<0||(r.save(),r.strokeStyle=l,r.lineWidth=o,r.setLineDash(e.borderDash),r.lineDashOffset=e.borderDashOffset,r.beginPath(),UW(i,t,s,n),r.closePath(),r.stroke(),r.restore())}function ERe(i,e,t){return fc(i,{label:t,index:e,type:"pointLabel"})}class K0 extends R1{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ql(Pk(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=gr(e)&&!isNaN(e)?e:0,this.max=gr(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Pk(this.options))}generateTickLabels(e){R1.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((t,n)=>{const r=or(this.options.pointLabels.callback,[t,n],this);return r||r===0?r:""}).filter((t,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?gRe(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){const t=Ai/(this._pointLabels.length||1),n=this.options.startAngle||0;return kl(e*t+co(n))}getDistanceFromCenterForValue(e){if(Fi(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(Fi(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return ERe(this.getContext(),e,n)}}getPointPosition(e,t,n=0){const r=this.getIndexAngle(e)-ur+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),UW(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r}=t,s=this._pointLabels.length;let l,o,a;if(t.pointLabels.display&&$Re(this,s),r.display&&this.ticks.forEach((u,c)=>{if(c!==0){o=this.getDistanceFromCenterForValue(u.value);const f=r.setContext(this.getContext(c-1));FRe(this,f,o,s)}}),n.display){for(e.save(),l=s-1;l>=0;l--){const u=n.setContext(this.getPointLabelContext(l)),{color:c,lineWidth:f}=u;!f||!c||(e.lineWidth=f,e.strokeStyle=c,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,o=this.getDistanceFromCenterForValue(t.ticks.reverse?this.min:this.max),a=this.getPointPosition(l,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(a.x,a.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((o,a)=>{if(a===0&&!t.reverse)return;const u=n.setContext(this.getContext(a)),c=Fl(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[a].value),u.showLabelBackdrop){e.font=c.string,l=e.measureText(o.label).width,e.fillStyle=u.backdropColor;const f=ql(u.backdropPadding);e.fillRect(-l/2-f.left,-s-c.size/2-f.top,l+f.width,c.size+f.height)}P1(e,o.label,0,-s,c,{color:u.color})}),e.restore()}drawTitle(){}}K0.id="radialLinear";K0.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:G0.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(i){return i},padding:5,centerPointLabels:!1}};K0.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};K0.descriptors={angleLines:{_fallback:"grid"}};const J0={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Qs=Object.keys(J0);function CRe(i,e){return i-e}function lT(i,e){if(Fi(e))return null;const t=i._adapter,{parser:n,round:r,isoWeekday:s}=i._parseOpts;let l=e;return typeof n=="function"&&(l=n(l)),gr(l)||(l=typeof n=="string"?t.parse(l,n):t.parse(l)),l===null?null:(r&&(l=r==="week"&&(ih(s)||s===!0)?t.startOf(l,"isoWeek",s):t.startOf(l,r)),+l)}function oT(i,e,t,n){const r=Qs.length;for(let s=Qs.indexOf(i);s<r-1;++s){const l=J0[Qs[s]],o=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((t-e)/(o*l.size))<=n)return Qs[s]}return Qs[r-1]}function DRe(i,e,t,n,r){for(let s=Qs.length-1;s>=Qs.indexOf(t);s--){const l=Qs[s];if(J0[l].common&&i._adapter.diff(r,n,l)>=e-1)return l}return Qs[t?Qs.indexOf(t):0]}function SRe(i){for(let e=Qs.indexOf(i)+1,t=Qs.length;e<t;++e)if(J0[Qs[e]].common)return Qs[e]}function aT(i,e,t){if(!t)i[e]=!0;else if(t.length){const{lo:n,hi:r}=Gw(t,e),s=t[n]>=e?t[n]:t[r];i[s]=!0}}function TRe(i,e,t,n){const r=i._adapter,s=+r.startOf(e[0].value,n),l=e[e.length-1].value;let o,a;for(o=s;o<=l;o=+r.add(o,1,n))a=t[o],a>=0&&(e[a].major=!0);return e}function uT(i,e,t){const n=[],r={},s=e.length;let l,o;for(l=0;l<s;++l)o=e[l],r[o]=l,n.push({value:o,major:!1});return s===0||!t?n:TRe(i,n,r,t)}class Q0 extends Bf{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,t){const n=e.time||(e.time={}),r=this._adapter=new DIe._date(e.adapters.date);r.init(t),Wm(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return e===void 0?null:lT(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:s,minDefined:l,maxDefined:o}=this.getUserBounds();function a(u){!l&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!o&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!l||!o)&&(a(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&a(this.getMinMax(!1))),r=gr(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),s=gr(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,l=this.max,o=mLe(r,s,l);return this._unit=t.unit||(n.autoSkip?oT(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):DRe(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:SRe(this._unit),this.initOffsets(r),e.reverse&&o.reverse(),uT(this,o,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let t=0,n=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?t=1-r:t=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?n=s:n=(s-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;t=ss(t,0,l),n=ss(n,0,l),this._offsets={start:t,end:n,factor:1/(t+1+n)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,s=r.time,l=s.unit||oT(s.minUnit,t,n,this._getLabelCapacity(t)),o=ri(s.stepSize,1),a=l==="week"?s.isoWeekday:!1,u=ih(a)||a===!0,c={};let f=t,d,m;if(u&&(f=+e.startOf(f,"isoWeek",a)),f=+e.startOf(f,u?"day":l),e.diff(n,t,l)>1e5*o)throw new Error(t+" and "+n+" are too far apart with stepSize of "+o+" "+l);const p=r.ticks.source==="data"&&this.getDataTimestamps();for(d=f,m=0;d<n;d=+e.add(d,o,l),m++)aT(c,d,p);return(d===n||r.bounds==="ticks"||m===1)&&aT(c,d,p),Object.keys(c).sort((g,k)=>g-k).map(g=>+g)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}_tickFormatFunction(e,t,n,r){const s=this.options,l=s.time.displayFormats,o=this._unit,a=this._majorUnit,u=o&&l[o],c=a&&l[a],f=n[t],d=a&&c&&f&&f.major,m=this._adapter.format(e,r||(d?c:u)),p=s.ticks.callback;return p?or(p,[m,t,n],this):m}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=co(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),l=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*s+o*l,h:n*l+o*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,uT(this,[e],this._majorUnit),r),l=this._getLabelSize(s),o=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return o>0?o:1}getDataTimestamps(){let e=this._cache.data||[],t,n;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,n=r.length;t<n;++t)e=e.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(lT(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return eW(e.sort(CRe))}}Q0.id="time";Q0.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function Dg(i,e,t){let n=0,r=i.length-1,s,l,o,a;t?(e>=i[n].pos&&e<=i[r].pos&&({lo:n,hi:r}=Jc(i,"pos",e)),{pos:s,time:o}=i[n],{pos:l,time:a}=i[r]):(e>=i[n].time&&e<=i[r].time&&({lo:n,hi:r}=Jc(i,"time",e)),{time:s,pos:o}=i[n],{time:l,pos:a}=i[r]);const u=l-s;return u?o+(a-o)*(e-s)/u:o}class WW extends Q0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=Dg(t,this.min),this._tableRange=Dg(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],s=[];let l,o,a,u,c;for(l=0,o=e.length;l<o;++l)u=e[l],u>=t&&u<=n&&r.push(u);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(l=0,o=r.length;l<o;++l)c=r[l+1],a=r[l-1],u=r[l],Math.round((c+a)/2)!==u&&s.push({time:u,pos:l/(o-1)});return s}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return t.length&&n.length?e=this.normalize(t.concat(n)):e=t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(Dg(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return Dg(this._table,n*this._tableRange+this._minPos,!0)}}WW.id="timeseries";WW.defaults=Q0.defaults;function ARe(i){let e,t;return{c(){e=P("canvas"),h(e,"height","100%"),h(e,"id",t=`chart-${i[0]}`)},m(n,r){w(n,e,r),i[3](e)},p(n,[r]){r&1&&t!==(t=`chart-${n[0]}`)&&h(e,"id",t)},i:Z,o:Z,d(n){n&&y(e),i[3](null)}}}function PRe(i,e,t){I1.register(X0,nRe,dc,Z0,B1,f$,d$,V0,x0);let{id:n}=e,{chartjsPayload:r}=e,s,l;const o=Ut(),a=()=>{try{return t(2,r.options={...r.options,onClick:(c,f)=>{if(f.length){const d=f[0].index;o("click",d)}},onHover:(c,f)=>{if(f.length){const d=f[0].index;o("click",d)}}},r),s=new I1(l,r),s}catch(c){console.error("Caught an error on the cartjs chart",c)}};Yt(()=>{a()});function u(c){Oe[c?"unshift":"push"](()=>{l=c,t(1,l)})}return i.$$set=c=>{"id"in c&&t(0,n=c.id),"chartjsPayload"in c&&t(2,r=c.chartjsPayload)},[n,l,r,u]}class qW extends pe{constructor(e){super(),me(this,e,PRe,ARe,he,{id:0,chartjsPayload:2})}}const NRe=(i,e)=>{const t=h$();t[i]=e,localStorage.setItem("chart-options",JSON.stringify(t))},MRe=i=>h$()[i],h$=()=>{try{const i=localStorage.getItem("chart-options")||"{}";return JSON.parse(i)}catch{return{}}};rn(h$());function LRe(i){let e,t,n;return t=new ki({props:{size:32}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","loading-box")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function ORe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p=i[5]&&cT(i),g=i[7]&&fT(i);return a=new et({props:{size:14,icon:hee,className:"text-gray-800 dark:text-gray-200"}}),{c(){e=P("div"),p&&p.c(),t=W(),g&&g.c(),n=W(),r=P("div"),s=P("div"),l=W(),o=P("button"),B(a.$$.fragment),h(s,"class","filler"),h(o,"class","chart-config-button px-1"),h(r,"class","usage-chart-tools flex items-center space-x-2 absolute top-0 left-3 justify-between right-1"),h(e,"id",i[2]),h(e,"class",u="usage-chart pt-2 "+i[1]),h(e,"style",c="min-height:120px; "+i[0])},m(k,$){w(k,e,$),p&&p.m(e,null),D(e,t),g&&g.m(e,null),D(e,n),D(e,r),D(r,s),D(r,l),D(r,o),O(a,o,null),f=!0,d||(m=Se(o,"click",ic(il(i[19]))),d=!0)},p(k,$){k[5]?p?(p.p(k,$),$[0]&32&&_(p,1)):(p=cT(k),p.c(),_(p,1),p.m(e,t)):p&&(ae(),v(p,1,1,()=>{p=null}),ue()),k[7]?g?(g.p(k,$),$[0]&128&&_(g,1)):(g=fT(k),g.c(),_(g,1),g.m(e,n)):g&&(ae(),v(g,1,1,()=>{g=null}),ue()),(!f||$[0]&4)&&h(e,"id",k[2]),(!f||$[0]&2&&u!==(u="usage-chart pt-2 "+k[1]))&&h(e,"class",u),(!f||$[0]&1&&c!==(c="min-height:120px; "+k[0]))&&h(e,"style",c)},i(k){f||(_(p),_(g),_(a.$$.fragment,k),f=!0)},o(k){v(p),v(g),v(a.$$.fragment,k),f=!1},d(k){k&&y(e),p&&p.d(),g&&g.d(),I(a),d=!1,m()}}}function cT(i){let e,t,n,r,s=i[5].format(i[8].tinyDate)+"",l,o,a,u=i[5].format(i[8].dateDay)+"",c,f,d,m,p,g,k,$,C,E;return k=new et({props:{size:12,icon:ua}}),{c(){var S,T;e=P("div"),t=P("button"),n=P("div"),r=P("span"),l=K(s),o=W(),a=P("span"),c=K(u),f=W(),d=P("div"),m=K(i[6]),p=W(),g=P("button"),B(k.$$.fragment),h(r,"class","lg:hidden"),h(a,"class","hidden lg:block"),gt(n,"font-size","0.7rem"),h(n,"class","line-clamp-1 py-px px-2 rounded-md bg-gray-200 dark:bg-gray-800 text-black dark:text-white"),h(d,"class","font-extrabold ml-2"),gt(d,"font-size","0.8rem"),gt(d,"color",(T=(S=i[4])==null?void 0:S.trackable)==null?void 0:T.color),h(t,"class","flex items-center"),h(g,"class","flex items-center justify-center text-sm text-black dark:text-white"),h(e,"class","active-date-holder z-40 flex items-center space-x-2 justify-center px-4 text-center absolute top-1 left-0 right-0")},m(S,T){w(S,e,T),D(e,t),D(t,n),D(n,r),D(r,l),D(n,o),D(n,a),D(a,c),D(t,f),D(t,d),D(d,m),D(e,p),D(e,g),O(k,g,null),$=!0,C||(E=[Se(t,"click",i[16]),Se(g,"click",i[17])],C=!0)},p(S,T){var M,R;(!$||T[0]&32)&&s!==(s=S[5].format(S[8].tinyDate)+"")&&de(l,s),(!$||T[0]&32)&&u!==(u=S[5].format(S[8].dateDay)+"")&&de(c,u),(!$||T[0]&64)&&de(m,S[6]),(!$||T[0]&16)&&gt(d,"color",(R=(M=S[4])==null?void 0:M.trackable)==null?void 0:R.color)},i(S){$||(_(k.$$.fragment,S),$=!0)},o(S){v(k.$$.fragment,S),$=!1},d(S){S&&y(e),I(k),C=!1,Ot(E)}}}function fT(i){let e,t;return e=new qW({props:{id:"chart-"+i[2],chartjsPayload:i[9]()}}),e.$on("click",i[18]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&4&&(s.id="chart-"+n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function IRe(i){let e,t,n,r;const s=[ORe,LRe],l=[];function o(a,u){return a[4]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function BRe(i,e,t){let n;Le(i,en,te=>t(27,n=te));let{usages:r=[]}=e,{style:s=""}=e,{className:l=""}=e,{type:o="bar"}=e,{hideLabels:a=!1}=e,{hideValues:u=!1}=e,{id:c}=e,{stacked:f=!1}=e,d=pi(),m,p,g,k;Yt(()=>{z()});let $=o,C=!0,E="linear",S="none",T=!0,M,R="None";const Y=async(te,ie,re,be,we=!0)=>{t(7,C=!1),$=te,T=ie,S=re,M=be,we&&NRe(c,{type:te,startWithZero:T,stats:re,include:be}),await Lt(60),await j(),await Lt(60),await V(),t(7,C=!0)},z=async()=>{let te=MRe(c)||{},ie=(te.type||o)=="line"?"line":"bar",re=!(te.startWithZero===void 0||te.startWithZero===!1),be=te.stats||"none",we=te.include||void 0;Y(ie,re,be,we,!1)},j=async(te=!1)=>{for(var ie=0;ie<r.length;ie++)r.length>1&&r.splice(E1.findIndex(r,function(be){return be.trackable.id==="-alsoinclude-"}),1);var re;if(te==!0?(re=await S0(),M=re):re=M,re!=null){R=re.id,re=n.trackables[re.id];const we=await qp(re,{start:r[0].dates[0],end:r[0].dates[r[0].dates.length-1]},n.trackables);return we.trackable.id="-alsoinclude-",r[0].groupedBy=="week"?p=we.reverse().groupBy("week","YYYY-MM-D").backfill(r[0].dates[0].toDate(),r[0].dates[r[0].dates.length-1].toDate()):p=we.reverse().byDay.backfill(r[0].dates[0].toDate(),r[0].dates[r[0].dates.length-1].toDate()),r.length==1?(r.push(p),r.push(p),r.slice(0,-1)):r.push(p),we}else return null},V=async()=>{r.length>1&&r.splice(E1.findIndex(r,function(ie){return ie.trackable.id==="-statistics-"}),1);var te=r.find(ie=>ie!==void 0);if(S!="none"&&(S=="cumm"&&te.trackable.tracker.math=="sum"||S!="cumm")){let ie=te.values,re=QMe.defineStatsDataset(ie,S,te.trackable.tracker.math,r[0]);r.push(re)}},x=async te=>{const ie=[{title:Fe.t("general.line-chart","Line Chart"),icon:$==="line"?Go:void 0,click(){Y("line",T,S,M)}},{title:Fe.t("general.bar-chart","Bar Chart"),icon:$==="bar"?Go:void 0,click(){Y("bar",T,S,M)}},{title:`Scale: ${E}`,divider:!0,click(){Js({id:"chart-scale",buttons:[{id:"linear",title:"Linear Scale",checked:E==="linear",click(){E="linear",z()}},{id:"log",title:"Log Scale",checked:E==="logarithmic",click(){E="logarithmic",z()}}]})}},{title:`Stats: ${S}`,divider:!0,click(){Js({id:"chart-stats",buttons:[{id:"none",title:"No Stats",checked:S==="none",async click(){S="none",await Lt(10),await V(),Y($,T,S,M)}},{id:"avg",title:"Average",checked:S==="avg",async click(){S="avg",await Lt(10),await V(),Y($,T,S,M)}},{id:"split-11",title:"Average Split(50%-50%)",checked:S==="split-11",async click(){S="split-11",await Lt(10),await V(),Y($,T,S,M)}},{id:"split-12",title:"Average Split(33%-66%)",checked:S==="split-12",async click(){S="split-12",await Lt(10),await V(),Y($,T,S,M)}},{id:"split-13",title:"Average Split(25%-75%)",checked:S==="split-13",async click(){S="split-13",await Lt(10),await V(),Y($,T,S,M)}},{id:"sma-7",title:"7 days Simple Moving Average",checked:S==="sma-7",async click(){S="sma-7",await Lt(10),await V(),Y($,T,S,M)}},{id:"sma-15",title:"15 days Simple Moving Average",checked:S==="sma-15",async click(){S="sma-15",await Lt(10),await V(),Y($,T,S,M)}},{id:"sma-30",title:"30 days Simple Moving Average",checked:S==="sma-30",async click(){S="sma-30",await Lt(10),await V(),Y($,T,S,M)}},{id:"ema-7",title:"7 days Exponential Moving Average",checked:S==="ema-7",async click(){S="ema-7",await Lt(10),await V(),Y($,T,S,M)}},{id:"ema-15",title:"15 days Exponential Moving Average",checked:S==="ema-15",async click(){S="ema-15",await Lt(10),await V(),Y($,T,S,M)}},{id:"ema-30",title:"30 days Exponential Moving Average",checked:S==="ema-30",async click(){S="ema-30",await Lt(10),await V(),Y($,T,S,M)}},{id:"cumm",title:"Cummulative trend",checked:S==="cumm",async click(){S="cumm",await Lt(10),await V(),Y($,T,S,M)}}]})}},{title:Fe.t("general.start-with-zero","Start with Zero"),icon:T?Go:void 0,divider:!0,click(){T=!T,Y($,T,S,M)}},{title:`Include: ${R}`,divider:!0,click(){const re=[{id:"none",title:"No Other Trackable",checked:R==="None",async click(){M=void 0,R="None",await j(!1),Y($,T,S,M)}},{id:"trackable",title:"Select Trackable",checked:R!="None",async click(){await j(!0),Y($,T,S,M)}}];Js({id:"also-include",buttons:re})}}];by(te,ie)},ee=te=>{const ie=te,re=ie.dates,be=ie.values,we=re.map((Ue,Ce)=>be[Ce]);let De={label:ie.trackable.label,data:we};var Be=1.5,ze=1;ie.trackable.id==="-statistics-"&&(Be=2.5,ze=0);const ke=(Ue,Ce)=>Ue.p0.skip||Ue.p1.skip?Ce:void 0;return $==="line"||ie.trackable.id==="-statistics-"?De={...De,type:"line",pointRadius:ze,pointHitRadius:10,borderColor:ie.trackable.color,spanGaps:!0,borderWidth:Be,backgroundColor:Jae(ie.trackable.color,.1),fill:"origin",segment:{borderColor:Ue=>ke(Ue,"rgb(140,140,140,0.5)"),borderDash:Ue=>ke(Ue,[2,2])},tension:.4}:De={...De,type:"bar",backgroundColor:ie.trackable.color,barPercentage:.9,borderRadius:100,minBarLength:10},De},J=()=>{const te=r.map(re=>ee(re));return{type:$,options:{animation:!1,elements:{bar:{borderRadius:100}},plugins:{legend:{display:!1},tooltip:{callbacks:{label(re){return m.trackable.formatValue(gi(`${re.raw}`))}}}},layout:{padding:6},responsive:!0,maintainAspectRatio:!1,scales:{x:{display:!a,ticks:{autoSkip:!0,maxRotation:0,font:{size:10}}},y:{stacked:f,display:!u,beginAtZero:T,type:E,ticks:{font:{size:10},callback(re,be,we){return m.trackable.formatValue(re)}}}}},data:{labels:r[0].dates.map(re=>re.format(d.tinyNumber)),datasets:te}}},q=te=>{te?(t(5,g=m.dates[te]),t(6,k=m.trackable.formatValue(m.values[te]))):t(5,g=void 0)},le=()=>af(g.toDate()),G=()=>{q(void 0)},X=te=>{q(te.detail)},se=te=>{x(te.target)};return i.$$set=te=>{"usages"in te&&t(11,r=te.usages),"style"in te&&t(0,s=te.style),"className"in te&&t(1,l=te.className),"type"in te&&t(12,o=te.type),"hideLabels"in te&&t(13,a=te.hideLabels),"hideValues"in te&&t(14,u=te.hideValues),"id"in te&&t(2,c=te.id),"stacked"in te&&t(15,f=te.stacked)},i.$$.update=()=>{i.$$.dirty[0]&2048&&r&&r.length&&t(4,m=r[0].backfill())},[s,l,c,x,m,g,k,C,d,J,q,r,o,a,u,f,le,G,X,se]}class ev extends pe{constructor(e){super(),me(this,e,BRe,IRe,he,{usages:11,style:0,className:1,type:12,hideLabels:13,hideValues:14,id:2,stacked:15,showOptionsMenu:3},null,[-1,-1])}get showOptionsMenu(){return this.$$.ctx[3]}}function RRe(){return new Worker("/assets/related-worker.d8f5dd9b.js")}function dT(i,e,t){const n=i.slice();return n[22]=e[t],n[24]=t,n}function zRe(i){let e;return{c(){e=P("div"),h(e,"class","w-full h-32")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function jRe(i){let e,t;return e=new ev({props:{className:"w-full h-32",hideValues:!0,id:"related-chart",usages:i[2]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.usages=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function hT(i){let e,t,n,r;const s=[jRe,zRe],l=[];function o(a,u){return a[6]?1:0}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"class","chart sticky dark:bg-gray-900 bg-gray-100 top-0 pb-2 flex items-center justify-center w-full"),gt(e,"min-height","180px")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function mT(i){var m;let e,t,n,r,s,l=Math.abs(((m=i[4])==null?void 0:m.length)||0-Object.keys(i[5]||{}).length)+"",o,a,u=Object.keys(i[5]||{}).length+"",c,f,d;return t=new ki({props:{size:26}}),{c(){e=P("div"),B(t.$$.fragment),n=W(),r=P("span"),s=K("Comparing "),o=K(l),a=K(" of "),c=K(u),f=K(" ..."),h(e,"class","p-4 text-center text-gray-500 flex items-center space-x-2")},m(p,g){w(p,e,g),O(t,e,null),D(e,n),D(e,r),D(r,s),D(r,o),D(r,a),D(r,c),D(r,f),d=!0},p(p,g){var k;(!d||g&48)&&l!==(l=Math.abs(((k=p[4])==null?void 0:k.length)||0-Object.keys(p[5]||{}).length)+"")&&de(o,l),(!d||g&32)&&u!==(u=Object.keys(p[5]||{}).length+"")&&de(c,u)},i(p){d||(_(t.$$.fragment,p),d=!0)},o(p){v(t.$$.fragment,p),d=!1},d(p){p&&y(e),I(t)}}}function pT(i){let e,t;return e=new zi({props:{emoji:"\u{1F9E2}",title:"Not enough data",description:"Unable to find enough data to look at relations."}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function YRe(i){let e,t,n;return t=new dee({}),{c(){e=P("span"),B(t.$$.fragment),h(e,"class","text-gray-500 dark:text-gray-500 fill-current")},m(r,s){w(r,e,s),O(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function URe(i){let e,t,n;return t=new ZI({}),{c(){e=P("span"),B(t.$$.fragment),h(e,"class","text-primary-500 fill-current")},m(r,s){w(r,e,s),O(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function _T(i){let e,t,n,r,s,l,o;function a(...m){return i[11](i[22],...m)}const u=[URe,YRe],c=[];function f(m,p){return p&20&&(t=null),t==null&&(t=!!m[2].find(a)),t?0:1}n=f(i,-1),r=c[n]=u[n](i);function d(){return i[13](i[22])}return{c(){e=P("button"),r.c(),h(e,"class","")},m(m,p){w(m,e,p),c[n].m(e,null),s=!0,l||(o=Se(e,"click",d),l=!0)},p(m,p){i=m;let g=n;n=f(i,p),n!==g&&(ae(),v(c[g],1,1,()=>{c[g]=null}),ue(),r=c[n],r||(r=c[n]=u[n](i),r.c()),_(r,1),r.m(e,null))},i(m){s||(_(r),s=!0)},o(m){v(r),s=!1},d(m){m&&y(e),c[n].d(),l=!1,o()}}}function gT(i,e){let t,n,r,s,l,o,a=e[22].trackable.tag+"",u,c,f,d,m,p=(e[22].score*100).toFixed(1)+"",g,k,$,C,E=e[2],S,T,M,R;s=new er({props:{trackable:e[22].trackable,size:20}}),$=new Dl({props:{className:"w-full h-2 dark:bg-gray-900 bg-gray-200",barClass:"mx-auto",percentage:e[22].percent,color:e[22].score>0?"green":"red"}});function Y(){return e[12](e[22])}let z=_T(e);return{key:i,first:null,c(){t=P("div"),n=P("button"),r=P("div"),B(s.$$.fragment),l=W(),o=P("span"),u=K(a),c=W(),f=P("div"),d=W(),m=P("span"),g=K(p),k=W(),B($.$$.fragment),C=W(),z.c(),S=W(),h(o,"class","ml-2 w-full line-clamp-1 text-xs font-semibold text-black dark:text-white"),h(f,"class","filler"),h(m,"class","text-gray-500 text-sm"),h(r,"class","flex items-center justify-center mb-1 w-full"),h(n,"class","w-full flex flex-col items-center justify-center px-4 py-2"),h(t,"class","flex items-center w-full"),this.first=t},m(j,V){w(j,t,V),D(t,n),D(n,r),O(s,r,null),D(r,l),D(r,o),D(o,u),D(r,c),D(r,f),D(r,d),D(r,m),D(m,g),D(n,k),O($,n,null),D(t,C),z.m(t,null),D(t,S),T=!0,M||(R=Se(n,"click",Y),M=!0)},p(j,V){e=j;const x={};V&16&&(x.trackable=e[22].trackable),s.$set(x),(!T||V&16)&&a!==(a=e[22].trackable.tag+"")&&de(u,a),(!T||V&16)&&p!==(p=(e[22].score*100).toFixed(1)+"")&&de(g,p);const ee={};V&16&&(ee.percentage=e[22].percent),V&16&&(ee.color=e[22].score>0?"green":"red"),$.$set(ee),V&4&&he(E,E=e[2])?(ae(),v(z,1,1,Z),ue(),z=_T(e),z.c(),_(z,1),z.m(t,S)):z.p(e,V)},i(j){T||(_(s.$$.fragment,j),_($.$$.fragment,j),_(z),T=!0)},o(j){v(s.$$.fragment,j),v($.$$.fragment,j),v(z),T=!1},d(j){j&&y(t),I(s),I($),z.d(j),M=!1,R()}}}function WRe(i){let e=i[2],t,n,r,s,l=[],o=new Map,a,u,c=hT(i),f=i[3]&&mT(i),d=!i[4].length&&!i[3]&&pT(),m=i[4];const p=g=>g[22].trackable.tag;for(let g=0;g<m.length;g+=1){let k=dT(i,m,g),$=p(k);o.set($,l[g]=gT($,k))}return{c(){c.c(),t=W(),n=P("div"),f&&f.c(),r=W(),d&&d.c(),s=W();for(let g=0;g<l.length;g+=1)l[g].c();h(n,"class",a="compare-view px-2 pt-2 "+i[0]),h(n,"style",i[1])},m(g,k){c.m(g,k),w(g,t,k),w(g,n,k),f&&f.m(n,null),D(n,r),d&&d.m(n,null),D(n,s);for(let $=0;$<l.length;$+=1)l[$].m(n,null);u=!0},p(g,[k]){k&4&&he(e,e=g[2])?(ae(),v(c,1,1,Z),ue(),c=hT(g),c.c(),_(c,1),c.m(t.parentNode,t)):c.p(g,k),g[3]?f?(f.p(g,k),k&8&&_(f,1)):(f=mT(g),f.c(),_(f,1),f.m(n,r)):f&&(ae(),v(f,1,1,()=>{f=null}),ue()),!g[4].length&&!g[3]?d?k&24&&_(d,1):(d=pT(),d.c(),_(d,1),d.m(n,s)):d&&(ae(),v(d,1,1,()=>{d=null}),ue()),k&148&&(m=g[4],ae(),l=Pi(l,k,p,1,g,m,o,n,br,gT,null,dT),ue()),(!u||k&1&&a!==(a="compare-view px-2 pt-2 "+g[0]))&&h(n,"class",a),(!u||k&2)&&h(n,"style",g[1])},i(g){if(!u){_(c),_(f),_(d);for(let k=0;k<m.length;k+=1)_(l[k]);u=!0}},o(g){v(c),v(f),v(d);for(let k=0;k<l.length;k+=1)v(l[k]);u=!1},d(g){c.d(g),g&&y(t),g&&y(n),f&&f.d(),d&&d.d();for(let k=0;k<l.length;k+=1)l[k].d()}}}function qRe(i,e,t){let n;Le(i,en,z=>t(16,n=z));let{className:r=""}=e,{style:s=""}=e,{trackable:l}=e,o=[],a=!1,u=!1,c=[],f,d,m,p=Te().subtract(1.5,"month");const g=z=>{const j=Object.keys(z).map(ee=>z[ee].score);let V=Nt.max(j),x=Nt.min(j);Object.keys(z).map((ee,J)=>{let q=z[ee].score;q>0?z[ee].percent=Nt.percentage(V,q):q<0&&(z[ee].percent=Nt.percentage(V,-q))}),t(4,c=Object.keys(z).map(ee=>z[ee]).sort((ee,J)=>ee.score<J.score?1:-1).filter(ee=>ee.score>0?Nt.percentage(V,ee.score)>50:ee.score<0?Nt.percentage(x,ee.score)>50:!1))};let k;async function $(){var V;t(3,u=!0),t(4,c=[]);const z=n.trackables,j=await dn.query({start:p,end:Te(new Date)});t(5,k=_o(j,{trackables:z})),Object.keys(k).map(x=>{k[x].values.length<7&&delete k[x]});try{let x=(V=k[l.tag])==null?void 0:V.values.filter(le=>!isNaN(le)).length;x?(m=k[l.tag],d=E(k[l.tag],m.firstDate,m.lastDate),C(d)):t(3,u=!1);const ee={tag:l.tag,values:(d==null?void 0:d.values)||[],dates:d==null?void 0:d.dates.map(le=>le.toJSON()),compareTo:{}},J=le=>{const G=k[le].values.filter(te=>!isNaN(te)).length,X=k[le],se=Nt.percentage(x,G);if(le!==l.tag&&se>20){const te=E(X,m.firstDate,m.lastDate);ee.compareTo[le]=te.values}},q=Object.keys(k);if(d){q.forEach(G=>{J(G)});let le=new RRe;le.onmessage=G=>{let X=G.data,se={};X.map((te,ie)=>{let re=te.score;se[te.tag]={score:re,percent:0,negative:re<0,trackable:k[te.tag].trackable,usage:k[te.tag]}}),g(se)},le.postMessage(ee)}}catch(x){console.error(x),t(4,c=[])}t(3,u=!1)}const C=z=>{const j=z.byDay.averaged;o.push(j),t(2,o)},E=(z,j,V)=>{let x=j||p.toDate(),ee=V||new Date;return z.byDay.backfill(x,ee)};let S=!1;const T=async z=>{t(6,S=!0),o.find(j=>j.trackable.tag===z.trackable.tag)?(t(2,o=o.filter(j=>j.trackable.tag!==z.trackable.tag)),t(2,o)):C(z.usage.byDay.backfill()),await Lt(100),t(6,S=!1)};Yt(()=>{t(3,u=!0),t(9,a=!0)});const M=(z,j)=>j.trackable.tag===z.trackable.tag,R=z=>{Hr(z.trackable,{title:`${z.trackable.label}`})},Y=z=>T(z);return i.$$set=z=>{"className"in z&&t(0,r=z.className),"style"in z&&t(1,s=z.style),"trackable"in z&&t(8,l=z.trackable)},i.$$.update=()=>{i.$$.dirty&1792&&a&&f!==l&&(t(10,f=l),$())},[r,s,o,u,c,k,S,T,l,a,f,M,R,Y]}class HRe extends pe{constructor(e){super(),me(this,e,qRe,WRe,he,{className:0,style:1,trackable:8})}}function VRe(i){let e;return{c(){e=P("div"),e.textContent="No Data",h(e,"class","h-40 flex items-center justify-center text-gray-500")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function xRe(i){let e;return{c(){e=P("div"),h(e,"class","skeleton-item h-40 w-full bg-white rounded-lg dark:bg-gray-900")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function GRe(i){let e,t;return e=new ev({props:{id:`usage-${Jn(i[4].trackable.tag)}`,hideValues:!1,className:"h-40 max-h-40 lg:max-h-42 ",usages:[i[4]],type:"bar"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.id=`usage-${Jn(n[4].trackable.tag)}`),r&16&&(s.usages=[n[4]]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ZRe(i){let e;return{c(){e=P("span"),e.textContent="Loading...",h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function XRe(i){let e=i[3].trackable.formatValue(i[3].average)+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&8&&e!==(e=n[3].trackable.formatValue(n[3].average)+"")&&de(t,e)},d(n){n&&y(t)}}}function KRe(i){let e;return{c(){e=P("span"),e.textContent="Loading...",h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function JRe(i){let e=i[1].displayValue+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&2&&e!==(e=n[1].displayValue+"")&&de(t,e)},d(n){n&&y(t)}}}function QRe(i){let e,t,n;return{c(){e=P("div"),t=W(),n=P("div"),h(e,"class","skeleton-item w-full h-14"),h(n,"class","skeleton-item w-full h-14")},m(r,s){w(r,e,s),w(r,t,s),w(r,n,s)},p:Z,i:Z,o:Z,d(r){r&&y(e),r&&y(t),r&&y(n)}}}function eze(i){let e,t;return e=new jt({props:{solo:!0,className:"w-full bright",$$slots:{default:[dze]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&65611&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function tze(i){let e,t;return e=new lt({props:{bottomLine:18,className:"dark:bg-black bg-white shadow-md h-24 rounded-xl",$$slots:{right:[ize],default:[nze]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&65537&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nze(i){let e,t=Te(i[8].last.d).format(i[7].mmm_d_yyyy)+"",n;return{c(){e=K("Latest: "),n=K(t)},m(r,s){w(r,e,s),w(r,n,s)},p:Z,d(r){r&&y(e),r&&y(n)}}}function ize(i){let e,t=i[0].formatValue(i[8].last.v,!0)+"",n;return{c(){e=P("div"),n=K(t),h(e,"slot","right")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].formatValue(r[8].last.v,!0)+"")&&de(n,t)},d(r){r&&y(e)}}}function rze(i){let e;return{c(){e=P("strong"),e.textContent="Max"},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function vT(i){let e,t;return e=new Of({props:{className:"pad",$$slots:{default:[sze]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&65544&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sze(i){let e=Te(i[3].max.date).format(i[7].mmm_d_yyyy)+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&8&&e!==(e=Te(n[3].max.date).format(n[7].mmm_d_yyyy)+"")&&de(t,e)},d(n){n&&y(t)}}}function lze(i){let e,t,n,r=(i[3].max?i[0].formatValue(i[3].max.value):"0")+"",s,l,o=i[3].max&&vT(i);return{c(){e=P("div"),o&&o.c(),t=W(),n=P("span"),s=K(r),h(e,"slot","right"),h(e,"class","item-center space-x-2 flex")},m(a,u){w(a,e,u),o&&o.m(e,null),D(e,t),D(e,n),D(n,s),l=!0},p(a,u){a[3].max?o?(o.p(a,u),u&8&&_(o,1)):(o=vT(a),o.c(),_(o,1),o.m(e,t)):o&&(ae(),v(o,1,1,()=>{o=null}),ue()),(!l||u&9)&&r!==(r=(a[3].max?a[0].formatValue(a[3].max.value):"0")+"")&&de(s,r)},i(a){l||(_(o),l=!0)},o(a){v(o),l=!1},d(a){a&&y(e),o&&o.d()}}}function oze(i){let e;return{c(){e=P("strong"),e.textContent="Min"},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function aze(i){let e=(i[3].min?Te(i[3].min.date).format(i[7].mmm_d_yyyy):"")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&8&&e!==(e=(n[3].min?Te(n[3].min.date).format(n[7].mmm_d_yyyy):"")+"")&&de(t,e)},d(n){n&&y(t)}}}function uze(i){let e,t,n,r,s=(i[3].min?i[0].formatValue(i[3].min.value):"")+"",l,o;return t=new Of({props:{className:"pad",$$slots:{default:[aze]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),n=W(),r=P("span"),l=K(s),h(e,"slot","right"),h(e,"class","item-center space-x-2 flex")},m(a,u){w(a,e,u),O(t,e,null),D(e,n),D(e,r),D(r,l),o=!0},p(a,u){const c={};u&65544&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),(!o||u&9)&&s!==(s=(a[3].min?a[0].formatValue(a[3].min.value):"")+"")&&de(l,s)},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){v(t.$$.fragment,a),o=!1},d(a){a&&y(e),I(t)}}}function cze(i){let e;return{c(){e=P("strong"),e.textContent="Score"},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function fze(i){let e,t=i[1].getTotalScore(i[6])+"",n,r,s=qu(i[1].getTotalScore(i[6])>0?1:i[1].getTotalScore(i[6])<0?-1:0,!0)+"",l;return{c(){e=P("div"),n=K(t),r=W(),l=K(s),h(e,"slot","right")},m(o,a){w(o,e,a),D(e,n),D(e,r),D(e,l)},p(o,a){a&66&&t!==(t=o[1].getTotalScore(o[6])+"")&&de(n,t),a&66&&s!==(s=qu(o[1].getTotalScore(o[6])>0?1:o[1].getTotalScore(o[6])<0?-1:0,!0)+"")&&de(l,s)},d(o){o&&y(e)}}}function dze(i){let e,t,n,r,s,l,o,a=i[8]&&tze(i);return t=new lt({props:{bottomLine:18,detail:!0,$$slots:{right:[lze],default:[rze]},$$scope:{ctx:i}}}),t.$on("click",i[13]),r=new lt({props:{bottomLine:18,detail:!0,$$slots:{right:[uze],default:[oze]},$$scope:{ctx:i}}}),r.$on("click",i[14]),l=new lt({props:{$$slots:{right:[fze],default:[cze]},$$scope:{ctx:i}}}),{c(){a&&a.c(),e=W(),B(t.$$.fragment),n=W(),B(r.$$.fragment),s=W(),B(l.$$.fragment)},m(u,c){a&&a.m(u,c),w(u,e,c),O(t,u,c),w(u,n,c),O(r,u,c),w(u,s,c),O(l,u,c),o=!0},p(u,c){u[8]&&a.p(u,c);const f={};c&65545&&(f.$$scope={dirty:c,ctx:u}),t.$set(f);const d={};c&65545&&(d.$$scope={dirty:c,ctx:u}),r.$set(d);const m={};c&65602&&(m.$$scope={dirty:c,ctx:u}),l.$set(m)},i(u){o||(_(a),_(t.$$.fragment,u),_(r.$$.fragment,u),_(l.$$.fragment,u),o=!0)},o(u){v(a),v(t.$$.fragment,u),v(r.$$.fragment,u),v(l.$$.fragment,u),o=!1},d(u){a&&a.d(u),u&&y(e),I(t,u),u&&y(n),I(r,u),u&&y(s),I(l,u)}}}function hze(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S;const T=[GRe,xRe,VRe],M=[];function R(G,X){return G[4]?0:G[5].loading?1:2}t=R(i),n=M[t]=T[t](i);function Y(G,X){return G[3]?XRe:ZRe}let z=Y(i),j=z(i);function V(G,X){return G[1]?JRe:KRe}let x=V(i),ee=x(i);const J=[eze,QRe],q=[];function le(G,X){return G[1]&&G[3]?0:1}return $=le(i),C=q[$]=J[$](i),{c(){e=P("div"),n.c(),s=W(),l=P("main"),o=P("div"),a=P("strong"),a.textContent="Daily Avg",u=W(),c=P("div"),j.c(),f=W(),d=P("div"),m=P("strong"),m.textContent="Total",p=W(),g=P("div"),ee.c(),k=W(),C.c(),E=Ae(),h(e,"class",r="bg-white p-2 dark:bg-black relative "+i[2]),h(a,"class","text-sm font-semibold"),h(c,"class","text-2xl line-clamp-1 font-semibold bg-white shadow-md dark:bg-black rounded-md px-4 py-2 mt-1"),h(o,"class","h-auto text-center"),h(m,"class","text-sm font-semibold"),h(g,"class","text-2xl line-clamp-1 font-semibold bg-white shadow-md dark:bg-black rounded-md px-4 py-2 mt-1"),h(d,"class","text-center"),h(l,"class","grid grid-cols-2 gap-2 dark:text-white")},m(G,X){w(G,e,X),M[t].m(e,null),w(G,s,X),w(G,l,X),D(l,o),D(o,a),D(o,u),D(o,c),j.m(c,null),D(l,f),D(l,d),D(d,m),D(d,p),D(d,g),ee.m(g,null),w(G,k,X),q[$].m(G,X),w(G,E,X),S=!0},p(G,[X]){let se=t;t=R(G),t===se?M[t].p(G,X):(ae(),v(M[se],1,1,()=>{M[se]=null}),ue(),n=M[t],n?n.p(G,X):(n=M[t]=T[t](G),n.c()),_(n,1),n.m(e,null)),(!S||X&4&&r!==(r="bg-white p-2 dark:bg-black relative "+G[2]))&&h(e,"class",r),z===(z=Y(G))&&j?j.p(G,X):(j.d(1),j=z(G),j&&(j.c(),j.m(c,null))),x===(x=V(G))&&ee?ee.p(G,X):(ee.d(1),ee=x(G),ee&&(ee.c(),ee.m(g,null)));let te=$;$=le(G),$===te?q[$].p(G,X):(ae(),v(q[te],1,1,()=>{q[te]=null}),ue(),C=q[$],C?C.p(G,X):(C=q[$]=J[$](G),C.c()),_(C,1),C.m(E.parentNode,E))},i(G){S||(_(n),_(C),S=!0)},o(G){v(n),v(C),S=!1},d(G){G&&y(e),M[t].d(),G&&y(s),G&&y(l),j.d(),ee.d(),G&&y(k),q[$].d(G),G&&y(E)}}}function mze(i,e,t){let n,r;Le(i,ea,E=>t(5,n=E)),Le(i,Ls,E=>t(6,r=E));let{trackable:s}=e,{usage:l}=e,{className:o=""}=e;const a=pi();let u,c;const f=async E=>{const S=E.last.d,T=E.logId,R=(await dn.query({start:Te(S).startOf("day"),end:Te(S).endOf("day")})).find(Y=>Y._id===T);R&&lh(R)},d=async()=>{t(4,g=void 0),await Lt(10);let E=new As({...l,trackable:s});t(3,u=E.byDay),n.time==="1y"?E=E.groupBy("month","YYYY-MM-W"):E=E.byDay;const S=s_(n.endDate,n.time);E=E.backfill(S.start.toDate(),S.end.toDate()),t(4,g=E)};let m="",p=!1,g;Yt(()=>{t(11,p=!0)});const k=()=>{f(c)},$=()=>{let E=u.max.date;af(E.toDate())},C=()=>{af(u.min.date.toDate())};return i.$$set=E=>{"trackable"in E&&t(0,s=E.trackable),"usage"in E&&t(1,l=E.usage),"className"in E&&t(2,o=E.className)},i.$$.update=()=>{i.$$.dirty&3074&&di(l)!==m&&p&&(t(10,m=di(l)),d())},[s,l,o,u,g,n,r,a,c,f,m,p,k,$,C]}class pze extends pe{constructor(e){super(),me(this,e,mze,hze,he,{trackable:0,usage:1,className:2})}}const _ze={d:{type:"d",label:"Day",unit:"day",format:"YYYY-MM-DD",groupByFormat:"YYYY-MM-DD"},w:{type:"w",label:"Week",unit:"week",format:"YYYY-MM-W",groupByFormat:"YYYY-MM-W"},m:{type:"m",label:"Month",unit:"month",format:"YYYY-MM-DD",groupByFormat:"YYYY-MM-DD"},"3m":{type:"3m",label:"3 Months",unit:"day",format:"YYYY-MM-DD",groupByFormat:"YYYY-MM-DD"},"6m":{type:"6m",label:"6 Months",unit:"month",format:"YYYY-MM-DD",groupByFormat:"YYYY-MM-W"},"1y":{type:"1y",label:"1 year",unit:"year",format:"YYYY-MM-DD",groupByFormat:"YYYY-MM-W"}},gze=()=>({sun:Array(24).fill(0),mon:Array(24).fill(0),tue:Array(24).fill(0),wed:Array(24).fill(0),thu:Array(24).fill(0),fri:Array(24).fill(0),sat:Array(24).fill(0)}),vze=i=>i==="monday"?["mon","tue","wed","thu","fri","sat","sun"]:["sun","mon","tue","wed","thu","fri","sat"],bze=(i,e,t)=>{let n=0,r=vze(e),s=gze();return i.forEach(o=>{var c;let a=gi(o.endDayjs().format("H")),u=o.endDayjs().format("ddd").toLowerCase();if(((c=t.tracker)==null?void 0:c.type)=="timer"){let f=o.getTrackerValue(t.tracker.tag),d=Nt.round(f?f/60/60:0);if(d)for(let m=1;m<d;m++){let p=a-m,g=o.endDayjs().subtract(p,"hour").format("ddd").toLowerCase();s[g][p]=s[g][p]+1}}s[u][a]=s[u][a]+1,n<s[u][a]&&(n=s[u][a])}),{grid:r.map(o=>({daykey:o,day:s[o]})),meta:{max:n}}};function bT(i,e,t){const n=i.slice();return n[10]=e[t],n[12]=t,n}function kT(i,e,t){const n=i.slice();return n[13]=e[t],n}function yT(i,e,t){const n=i.slice();return n[16]=e[t],n}function wT(i){let e,t;return{c(){e=P("div"),h(e,"class",t="hour bg-white w-full "+(i[16]===0?"empty-hour":"active-hour")),gt(e,"--percent",Nt.percentage(i[4],i[16])/100)},m(n,r){w(n,e,r)},p(n,r){r&8&&t!==(t="hour bg-white w-full "+(n[16]===0?"empty-hour":"active-hour"))&&h(e,"class",t),r&24&&gt(e,"--percent",Nt.percentage(n[4],n[16])/100)},d(n){n&&y(e)}}}function $T(i){let e,t,n=i[13].daykey+"",r,s,l=i[13].day,o=[];for(let a=0;a<l.length;a+=1)o[a]=wT(yT(i,l,a));return{c(){e=P("div"),t=P("div"),r=K(n),s=W();for(let a=0;a<o.length;a+=1)o[a].c();h(t,"class","day-label"),h(e,"class","day flex row w-full justify-evenly text-xs")},m(a,u){w(a,e,u),D(e,t),D(t,r),D(e,s);for(let c=0;c<o.length;c+=1)o[c].m(e,null)},p(a,u){if(u&8&&n!==(n=a[13].daykey+"")&&de(r,n),u&24){l=a[13].day;let c;for(c=0;c<l.length;c+=1){const f=yT(a,l,c);o[c]?o[c].p(f,u):(o[c]=wT(f),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=l.length}},d(a){a&&y(e),pt(o,a)}}}function FT(i){let e,t=i[5](i[12])+"",n,r;return{c(){e=P("div"),n=K(t),r=W(),h(e,"class","hour-label overflow-hidden")},m(s,l){w(s,e,l),D(e,n),D(e,r)},p:Z,d(s){s&&y(e)}}}function kze(i){let e,t,n,r,s,l,o=i[3],a=[];for(let f=0;f<o.length;f+=1)a[f]=$T(kT(i,o,f));let u=Array(24).fill(0),c=[];for(let f=0;f<u.length;f+=1)c[f]=FT(bT(i,u,f));return{c(){e=P("div"),t=P("div");for(let f=0;f<a.length;f+=1)a[f].c();n=W(),r=P("div");for(let f=0;f<c.length;f+=1)c[f].c();h(r,"class","day-legend flex items-center ml-6 mt-1 text-opacity-50 text-black dark:text-white"),h(t,"class","time-grid-wrap relative z-40"),h(e,"class",s="time-grid "+i[1]),h(e,"style",l="--color:"+i[0].color+"; "+i[2])},m(f,d){w(f,e,d),D(e,t);for(let m=0;m<a.length;m+=1)a[m].m(t,null);D(t,n),D(t,r);for(let m=0;m<c.length;m+=1)c[m].m(r,null)},p(f,[d]){if(d&24){o=f[3];let m;for(m=0;m<o.length;m+=1){const p=kT(f,o,m);a[m]?a[m].p(p,d):(a[m]=$T(p),a[m].c(),a[m].m(t,n))}for(;m<a.length;m+=1)a[m].d(1);a.length=o.length}if(d&32){u=Array(24).fill(0);let m;for(m=0;m<u.length;m+=1){const p=bT(f,u,m);c[m]?c[m].p(p,d):(c[m]=FT(p),c[m].c(),c[m].m(r,null))}for(;m<c.length;m+=1)c[m].d(1);c.length=u.length}d&2&&s!==(s="time-grid "+f[1])&&h(e,"class",s),d&5&&l!==(l="--color:"+f[0].color+"; "+f[2])&&h(e,"style",l)},i:Z,o:Z,d(f){f&&y(e),pt(a,f),pt(c,f)}}}function yze(i,e,t){let n,r;Le(i,Ni,m=>t(7,n=m)),Le(i,Ht,m=>t(8,r=m));let{usage:s}=e,{trackable:l}=e,{className:o=""}=e,{style:a=""}=e,u=[],c=0;const f=()=>{const m=bze(s.logs,r.weekStarts,l);t(3,u=m.grid),t(4,c=m.meta.max)},d=m=>{if(r.use24hour)return m;{let p=Te().hour(m).format("h");return n.width<340&&m%2,p}};return i.$$set=m=>{"usage"in m&&t(6,s=m.usage),"trackable"in m&&t(0,l=m.trackable),"className"in m&&t(1,o=m.className),"style"in m&&t(2,a=m.style)},i.$$.update=()=>{i.$$.dirty&64&&s&&f()},[l,o,a,u,c,d,s]}class wze extends pe{constructor(e){super(),me(this,e,yze,kze,he,{usage:6,trackable:0,className:1,style:2})}}function $ze(i,e=null,t="sum"){let n={mon:{count:0,values:[],percent:0},tue:{count:0,values:[],percent:0},wed:{count:0,values:[],percent:0},thu:{count:0,values:[],percent:0},fri:{count:0,values:[],percent:0},sat:{count:0,values:[],percent:0},sun:{count:0,values:[],percent:0}};i.forEach(l=>{let o=Te(l.end).format("ddd").toLowerCase(),a=n[o];a&&(a.count++,a.values.push(e?l.getTrackerValue(e,t):1))});let r=Object.keys(n).map(l=>n[l].count),s=Nt.percentile(r);return Object.keys(n).forEach((l,o)=>{n[l].percent=s[o],n[l].total=t=="sum"?Nt.sum(n[l].values):Nt.average(n[l].valuels)}),n}function Fze(i){let e,t,n=i[1].label+"",r,s,l,o,a,u,c,f,d=i[1].label+"",m,p,g,k,$,C;return a=new qW({props:{id:"dow",chartjsPayload:{type:"bar",data:i[3](),options:{scales:{y:{beginAtZero:!1,type:"logarithmic",ticks:{display:!1}}},responsive:!0,plugins:{legend:{display:!1}}}}}}),$=new wze({props:{usage:i[0],trackable:i[1],className:"rounded-lg shadow-md"}}),{c(){e=P("div"),t=P("h2"),r=K(n),s=K(" by day of week"),l=W(),o=P("div"),B(a.$$.fragment),u=W(),c=P("div"),f=P("h2"),m=K(d),p=K(" by day and hour"),g=W(),k=P("div"),B($.$$.fragment),h(t,"class","ntitle mb-4 px-2 pt-2 text-center"),h(o,"class","stiff"),h(e,"class","p-2 h-42 bg-white dark:bg-black rounded-lg shadow-md"),h(f,"class","ntitle mb-4 px-2 pt-2 text-center"),h(k,"class","overflow-hidden w-full"),h(c,"class","p-2 h-40 overflow-hidden bg-white dark:bg-black rounded-lg shadow-md")},m(E,S){w(E,e,S),D(e,t),D(t,r),D(t,s),D(e,l),D(e,o),O(a,o,null),w(E,u,S),w(E,c,S),D(c,f),D(f,m),D(f,p),D(c,g),D(c,k),O($,k,null),C=!0},p(E,S){(!C||S&2)&&n!==(n=E[1].label+"")&&de(r,n),(!C||S&2)&&d!==(d=E[1].label+"")&&de(m,d);const T={};S&1&&(T.usage=E[0]),S&2&&(T.trackable=E[1]),$.$set(T)},i(E){C||(_(a.$$.fragment,E),_($.$$.fragment,E),C=!0)},o(E){v(a.$$.fragment,E),v($.$$.fragment,E),C=!1},d(E){E&&y(e),I(a),E&&y(u),E&&y(c),I($)}}}function Eze(i){let e,t,n;return{c(){e=P("div"),t=W(),n=P("div"),h(e,"class","skeleton-item h-36 bg-white dark:bg-black rounded-lg"),h(n,"class","skeleton-item h-48 bg-white dark:bg-black rounded-lg")},m(r,s){w(r,e,s),w(r,t,s),w(r,n,s)},p:Z,i:Z,o:Z,d(r){r&&y(e),r&&y(t),r&&y(n)}}}function Cze(i){let e,t,n,r;const s=[Eze,Fze],l=[];function o(a,u){return a[2]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Dze(i,e,t){let n;Le(i,Ht,m=>t(8,n=m));let{logs:r}=e,{usage:s}=e,{trackable:l}=e,o,a=!0,u="";const c=()=>({labels:[n.weekStarts=="sunday"?"Sun":null,"Mon","Tue","Wed","Thu","Fri","Sat",n.weekStarts=="monday"?"Sun":null].filter(m=>m),datasets:[{backgroundColor:l.color,barPercentage:.9,borderRadius:100,minBarLength:10,data:[n.weekStarts=="sunday"?o.sun.percent:null,o.mon.percent,o.tue.percent,o.wed.percent,o.thu.percent,o.fri.percent,o.sat.percent,n.weekStarts=="monday"?o.sun.percent:null].filter(m=>m)}]});let f=!1;const d=async()=>{f||(f=!0,t(2,a=!0),o=$ze(r),await Lt(10),t(2,a=!1),f=!1)};return i.$$set=m=>{"logs"in m&&t(4,r=m.logs),"usage"in m&&t(0,s=m.usage),"trackable"in m&&t(1,l=m.trackable)},i.$$.update=()=>{i.$$.dirty&48&&di(r)!==u&&(t(5,u=di(r)),d())},[s,l,a,c,r,u]}class Sze extends pe{constructor(e){super(),me(this,e,Dze,Cze,he,{logs:4,usage:0,trackable:1})}}function ET(i){let e,t,n;function r(l){i[12](l)}let s={lock:!0,className:"rounded-lg overflow-hidden shadow-lg"};return i[0].logs!==void 0&&(s.records=i[0].logs),e=new Ah({props:s}),Oe.push(()=>Qe(e,"records",r,i[0].logs)),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.records=l[0].logs,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function Tze(i){let e,t,n;return{c(){e=P("button"),e.innerHTML='<span class="text-primary-500">Find Related...</span>',h(e,"class","w-full text-primary-500 py-20"),h(e,"title","Find potentially related trackables")},m(r,s){w(r,e,s),t||(n=Se(e,"click",i[13]),t=!0)},p:Z,i:Z,o:Z,d(r){r&&y(e),t=!1,n()}}}function Aze(i){let e,t;return e=new HRe({props:{trackable:i[0].trackable}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[0].trackable),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Pze(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k;t=new pze({props:{className:"-mx-2",trackable:i[0].trackable,usage:i[0].usage}});function $(R){i[11](R)}let C={trackable:i[0].trackable,usage:i[0].usage};i[0].logs!==void 0&&(C.logs=i[0].logs),r=new Sze({props:C}),Oe.push(()=>Qe(r,"logs",$,i[0].logs));let E=!i[0].loading&&ET(i);const S=[Aze,Tze],T=[];function M(R,Y){return R[1]?0:1}return d=M(i),m=T[d]=S[d](i),{c(){e=P("section"),B(t.$$.fragment),n=W(),B(r.$$.fragment),l=W(),o=P("div"),E&&E.c(),u=W(),c=P("section"),f=P("div"),m.c(),p=W(),g=P("div"),h(o,"class",a="map-wrap rounded-md h-60 shadow-md "+(i[0].loading?"skeleton-item":"")),h(e,"class","pt-2 px-3 w-full grid grid-cols-1 pb-4 overflow-y-auto gap-4 relative bg-gray-200 dark:bg-gray-800"),h(f,"class","related bg-white dark:bg-black rounded-xl shadow-lg border-gray-500 border-opacity-20"),h(c,"class","px-3 w-full"),h(g,"class","h-10")},m(R,Y){w(R,e,Y),O(t,e,null),D(e,n),O(r,e,null),D(e,l),D(e,o),E&&E.m(o,null),w(R,u,Y),w(R,c,Y),D(c,f),T[d].m(f,null),w(R,p,Y),w(R,g,Y),k=!0},p(R,Y){const z={};Y&1&&(z.trackable=R[0].trackable),Y&1&&(z.usage=R[0].usage),t.$set(z);const j={};Y&1&&(j.trackable=R[0].trackable),Y&1&&(j.usage=R[0].usage),!s&&Y&1&&(s=!0,j.logs=R[0].logs,tt(()=>s=!1)),r.$set(j),R[0].loading?E&&(ae(),v(E,1,1,()=>{E=null}),ue()):E?(E.p(R,Y),Y&1&&_(E,1)):(E=ET(R),E.c(),_(E,1),E.m(o,null)),(!k||Y&1&&a!==(a="map-wrap rounded-md h-60 shadow-md "+(R[0].loading?"skeleton-item":"")))&&h(o,"class",a);let V=d;d=M(R),d===V?T[d].p(R,Y):(ae(),v(T[V],1,1,()=>{T[V]=null}),ue(),m=T[d],m?m.p(R,Y):(m=T[d]=S[d](R),m.c()),_(m,1),m.m(f,null))},i(R){k||(_(t.$$.fragment,R),_(r.$$.fragment,R),_(E),_(m),k=!0)},o(R){v(t.$$.fragment,R),v(r.$$.fragment,R),v(E),v(m),k=!1},d(R){R&&y(e),I(t),I(r),E&&E.d(),R&&y(u),R&&y(c),T[d].d(),R&&y(p),R&&y(g)}}}function Nze(i){let e;return{c(){e=P("div"),e.textContent="Loading...",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function Mze(i){let e,t;return e=new Os({props:{className:"space-x-2",$$slots:{default:[Ize]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&131073&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Lze(i){let e,t;return e=new et({props:{icon:Qa,size:28,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Oze(i){let e,t;return e=new et({props:{icon:Gk,size:28,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ize(i){let e,t,n,r,s,l;return e=new He({props:{icon:!0,$$slots:{default:[Lze]},$$scope:{ctx:i}}}),e.$on("click",i[3]),n=new Hl({props:{className:"",compact:!0,value:i[0].time,buttons:Object.keys(_ze).map(i[7])}}),s=new He({props:{icon:!0,$$slots:{default:[Oze]},$$scope:{ctx:i}}}),s.$on("click",i[8]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment)},m(o,a){O(e,o,a),w(o,t,a),O(n,o,a),w(o,r,a),O(s,o,a),l=!0},p(o,a){const u={};a&131072&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&1&&(c.value=o[0].time),n.$set(c);const f={};a&131072&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){I(e,o),o&&y(t),I(n,o),o&&y(r),I(s,o)}}}function Bze(i){let e,t,n,r,s=i[0].trackable.label+"",l,o;return t=new er({props:{trackable:i[0].trackable,size:20,className:"mr-2"}}),{c(){e=P("h1"),B(t.$$.fragment),n=W(),r=P("span"),l=K(s),h(e,"class","text-black text-center flex items-center justify-center dark:text-white font-bold leading-none line-clamp-1 w-full")},m(a,u){w(a,e,u),O(t,e,null),D(e,n),D(e,r),D(r,l),o=!0},p(a,u){const c={};u&1&&(c.trackable=a[0].trackable),t.$set(c),(!o||u&1)&&s!==(s=a[0].trackable.label+"")&&de(l,s)},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){v(t.$$.fragment,a),o=!1},d(a){a&&y(e),I(t)}}}function Rze(i){let e,t,n,r,s,l;const o=[Mze,Nze],a=[];function u(c,f){return c[0].trackable?0:1}return t=u(i),n=a[t]=o[t](i),s=new JMe({props:{start:i[2].start,end:i[2].end,$$slots:{default:[Bze]},$$scope:{ctx:i}}}),s.$on("next",i[9]),s.$on("previous",i[10]),{c(){e=P("header"),n.c(),r=W(),B(s.$$.fragment),h(e,"slot","header"),h(e,"class","bg-white dark:bg-gray-800")},m(c,f){w(c,e,f),a[t].m(e,null),D(e,r),O(s,e,null),l=!0},p(c,f){let d=t;t=u(c),t===d?a[t].p(c,f):(ae(),v(a[d],1,1,()=>{a[d]=null}),ue(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),_(n,1),n.m(e,r));const m={};f&4&&(m.start=c[2].start),f&4&&(m.end=c[2].end),f&131073&&(m.$$scope={dirty:f,ctx:c}),s.$set(m)},i(c){l||(_(n),_(s.$$.fragment,c),l=!0)},o(c){v(n),v(s.$$.fragment,c),l=!1},d(c){c&&y(e),a[t].d(),I(s)}}}function zze(i){let e,t;return e=new ti({props:{headerClass:"shadow-lg z-40",$$slots:{header:[Rze],default:[Pze]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&131079&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function jze(i,e,t){let n,r,s;Le(i,en,E=>t(15,n=E)),Le(i,ea,E=>t(0,r=E)),Le(i,Wze,E=>t(2,s=E));let{id:l}=e,o=!1,a="",u;const c=async()=>{await VW(r.trackable,{known:n.trackables,date:new Date})},f=()=>{tn(l)},d=E=>({label:E,value:E,click(){Vze(E)}}),m=async()=>{await Lt(100),GU({trackable:r.trackable})},p=()=>qze(),g=()=>Hze();function k(E){i.$$.not_equal(r.logs,E)&&(r.logs=E,ea.set(r))}function $(E){i.$$.not_equal(r.logs,E)&&(r.logs=E,ea.set(r))}const C=()=>t(1,o=!0);return i.$$set=E=>{"id"in E&&t(4,l=E.id)},i.$$.update=()=>{i.$$.dirty&97&&(r.time!==a||u!==r.trackable)&&(t(6,u=r.trackable),t(5,a=r.time),c())},[r,o,s,f,l,a,u,d,m,p,g,k,$,C]}class Yze extends pe{constructor(e){super(),me(this,e,jze,zze,he,{id:4})}}const Uze={loading:!0,trackable:void 0,knownTrackables:{},usage:void 0,view:"overview",time:"m",endDate:new Date,logs:[]},ea=rn(Uze),Wze=ds(ea,i=>s_(i.endDate,i.time)),HW=async i=>{let e;ea.update(n=>(n.endDate=xze(n.endDate,n.time,i),n.loading=!0,n.usage=void 0,e=n,n)),await Lt(200);let t=s_(e.endDate,e.time);return await m$(t.start,t.end)},qze=()=>HW(1),Hze=()=>HW(-1),Vze=async i=>{let e;ea.update(n=>(e=n,n.loading=!0,n.usage=void 0,n.time=i,n.logs=[],n)),await Lt(200);const t=s_(e.endDate,e.time);await m$(t.start,t.end)},xze=(i,e,t)=>{let n;return e==="d"?n=Te(i).add(t,"day"):e==="w"?n=Te(i).add(t,"week"):e==="m"?n=Te(i).add(t,"month"):e==="3m"?n=Te(i).add(3*t,"month"):e==="6m"?n=Te(i).add(6*t,"month"):e==="1y"&&(n=Te(i).add(t,"year")),n.toDate()},Gze=async(i,e,t)=>{const n=await dn.query({start:i,end:e});return{usages:_o(n,{trackables:t}),logs:n}},m$=async(i,e)=>{const t=Zze(),{usages:n,logs:r}=await Gze(i,e,t.knownTrackables);ea.update(s=>{s.loading=!1;let l=n[s.trackable.tag];return s.logs=r.filter(o=>o.getTrackables({}).find(a=>a.tag===s.trackable.tag)),l&&(s.usage=l),s})},Zze=()=>{let i;return ea.update(e=>(i=e,e)),i},VW=async(i,e)=>{let t;ea.update(r=>(r.trackable=i,r.knownTrackables=e.known,r.endDate=e.date||new Date,r.loading=!0,t=r,r));const n=s_(t.endDate,t.time);On({id:Gg(`stats-${ia(i.tag)}`),component:Yze,componentProps:{}}),await m$(n.start,n.end)},s_=(i,e)=>{const t=Te(i);let n;return e==="d"?n=t.subtract(1,"day"):e==="w"?n=t.subtract(6,"days"):e==="m"?n=t.subtract(1,"month"):e==="3m"?n=t.subtract(3,"month"):e==="6m"?n=t.subtract(6,"month"):e==="1y"&&(n=t.subtract(1,"year")),{start:n,end:t}},xm=(i,e)=>VW(i,e),Xze=i=>ew({dates:i});function Kze(i){let e,t;return e=new xU({props:{className:"ml-2 has-activity",hideTime:!0,max:i[5],trackable:i[1],log:i[1].type==="person"&&i[25].logs&&i[25].logs.length?new gn({note:i[25].logs[0].note}):i[25].logs.length==1?new gn(i[25].logs[0]):new gn({note:`${i[1].tag}(${i[25].value})`,end:i[25].date})}}),e.$on("click",i[19]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.max=n[5]),r&2&&(s.trackable=n[1]),r&33554434&&(s.log=n[1].type==="person"&&n[25].logs&&n[25].logs.length?new gn({note:n[25].logs[0].note}):n[25].logs.length==1?new gn(n[25].logs[0]):new gn({note:`${n[1].tag}(${n[25].value})`,end:n[25].date})),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Jze(i){let e,t=i[25].date.format(i[10].mmm_d_yyyy)+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","streak-item no-activity relative w-full text-gray-500 font-semibold ")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&33554432&&t!==(t=r[25].date.format(r[10].mmm_d_yyyy)+"")&&de(n,t)},i:Z,o:Z,d(r){r&&y(e)}}}function Qze(i){let e,t,n,r,s,l,o,a,u;const c=[Jze,Kze],f=[];function d(m,p){return p&33554432&&(s=null),s==null&&(s=!!isNaN(m[25].value)),s?0:1}return l=d(i,-1),o=f[l]=c[l](i),{c(){var m,p;e=P("div"),t=P("div"),r=W(),o.c(),h(t,"class",n="connector-ball "+(isNaN(i[25].value)?"no-activity":"has-activity")+" "+(isNaN((m=i[2][i[25].index-1])==null?void 0:m.value)?"prev-sib-inactive":"prev-sib-active")+" "+(isNaN((p=i[2][i[25].index+1])==null?void 0:p.value)?"next-sib-inactive":"next-sib-active")),h(e,"class",a="px-4 flex bg-white dark:bg-black justify-items-stretch items-center "+(isNaN(i[25].value)?"no-activity":"has-activity")),gt(e,"--trackable-color",i[1].color)},m(m,p){w(m,e,p),D(e,t),D(e,r),f[l].m(e,null),u=!0},p(m,p){var k,$;(!u||p&33554436&&n!==(n="connector-ball "+(isNaN(m[25].value)?"no-activity":"has-activity")+" "+(isNaN((k=m[2][m[25].index-1])==null?void 0:k.value)?"prev-sib-inactive":"prev-sib-active")+" "+(isNaN(($=m[2][m[25].index+1])==null?void 0:$.value)?"next-sib-inactive":"next-sib-active")))&&h(t,"class",n);let g=l;l=d(m,p),l===g?f[l].p(m,p):(ae(),v(f[g],1,1,()=>{f[g]=null}),ue(),o=f[l],o?o.p(m,p):(o=f[l]=c[l](m),o.c()),_(o,1),o.m(e,null)),(!u||p&33554432&&a!==(a="px-4 flex bg-white dark:bg-black justify-items-stretch items-center "+(isNaN(m[25].value)?"no-activity":"has-activity")))&&h(e,"class",a),(!u||p&2)&&gt(e,"--trackable-color",m[1].color)},i(m){u||(_(o),u=!0)},o(m){v(o),u=!1},d(m){m&&y(e),f[l].d()}}}function CT(i){let e,t,n;return t=new ki({props:{size:20}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","absolute bottom-4 right-4 z-50")},m(r,s){w(r,e,s),O(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function eje(i){let e,t,n,r,s,l;function o(f){i[20](f)}function a(f){i[21](f)}let u={items:i[2],$$slots:{default:[Qze,({item:f})=>({25:f}),({item:f})=>f?33554432:0]},$$scope:{ctx:i}};i[3]!==void 0&&(u.end=i[3]),i[8]!==void 0&&(u.start=i[8]),e=new sU({props:u}),Oe.push(()=>Qe(e,"end",o,i[3])),Oe.push(()=>Qe(e,"start",a,i[8]));let c=i[7]&&CT();return{c(){B(e.$$.fragment),r=W(),c&&c.c(),s=Ae()},m(f,d){O(e,f,d),w(f,r,d),c&&c.m(f,d),w(f,s,d),l=!0},p(f,d){const m={};d&4&&(m.items=f[2]),d&100663334&&(m.$$scope={dirty:d,ctx:f}),!t&&d&8&&(t=!0,m.end=f[3],tt(()=>t=!1)),!n&&d&256&&(n=!0,m.start=f[8],tt(()=>n=!1)),e.$set(m),f[7]?c?d&128&&_(c,1):(c=CT(),c.c(),_(c,1),c.m(s.parentNode,s)):c&&(ae(),v(c,1,1,()=>{c=null}),ue())},i(f){l||(_(e.$$.fragment,f),_(c),l=!0)},o(f){v(e.$$.fragment,f),v(c),l=!1},d(f){I(e,f),f&&y(r),c&&c.d(f),f&&y(s)}}}function tje(i){let e,t,n,r=i[1].label+"",s,l,o;return t=new er({props:{trackable:i[1],size:22}}),{c(){e=P("h1"),B(t.$$.fragment),n=W(),s=K(r),l=K(" Streak"),h(e,"class","ntitle capitalize line-clamp-1")},m(a,u){w(a,e,u),O(t,e,null),D(e,n),D(e,s),D(e,l),o=!0},p(a,u){const c={};u&2&&(c.trackable=a[1]),t.$set(c),(!o||u&2)&&r!==(r=a[1].label+"")&&de(s,r)},i(a){o||(_(t.$$.fragment,a),o=!0)},o(a){v(t.$$.fragment,a),o=!1},d(a){a&&y(e),I(t)}}}function nje(i){let e,t;return e=new et({props:{icon:ua}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ije(i){let e,t;return e=new He({props:{slot:"left",primary:!0,icon:!0,$$slots:{default:[nje]},$$scope:{ctx:i}}}),e.$on("click",i[11]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function DT(i){let e,t,n;function r(l){i[17](l)}let s={hidePrevNext:!0,loading:!1,date:i[4]};return i[6]!==void 0&&(s.trackableUsage=i[6]),e=new VU({props:s}),Oe.push(()=>Qe(e,"trackableUsage",r,i[6])),e.$on("input",lje),e.$on("dateChange",i[18]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o&16&&(a.date=l[4]),!t&&o&64&&(t=!0,a.trackableUsage=l[6],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function ST(i){let e,t,n,r,s,l,o=i[9].currentStreak+"",a,u,c,f,d,m,p,g=i[9].longestStreak+"",k,$;return{c(){e=P("section"),t=P("div"),n=P("div"),r=P("div"),r.textContent="Current",s=W(),l=P("div"),a=K(o),u=K(" days"),c=W(),f=P("div"),d=P("div"),d.textContent="Longest",m=W(),p=P("div"),k=K(g),$=K(" days"),h(r,"class",""),h(l,"class","font-bold"),h(n,"class","leading-tight text-center flex items-center space-x-2 text-xs text-description"),h(d,"class",""),h(p,"class","font-bold"),h(f,"class","leading-tight text-center flex items-center space-x-2 text-xs text-description"),h(t,"class","rounded-full flex space-x-4 items-center mx-auto w-auto"),h(e,"class","flex w-full py-2")},m(C,E){w(C,e,E),D(e,t),D(t,n),D(n,r),D(n,s),D(n,l),D(l,a),D(l,u),D(t,c),D(t,f),D(f,d),D(f,m),D(f,p),D(p,k),D(p,$)},p(C,E){E&512&&o!==(o=C[9].currentStreak+"")&&de(a,o),E&512&&g!==(g=C[9].longestStreak+"")&&de(k,g)},d(C){C&&y(e)}}}function rje(i){let e,t,n,r,s;t=new Sn({props:{$$slots:{left:[ije],default:[tje]},$$scope:{ctx:i}}});let l=i[6]&&i[6].logs&&DT(i),o=i[9]&&ST(i);return{c(){e=P("header"),B(t.$$.fragment),n=W(),l&&l.c(),r=W(),o&&o.c(),h(e,"slot","header")},m(a,u){w(a,e,u),O(t,e,null),D(e,n),l&&l.m(e,null),D(e,r),o&&o.m(e,null),s=!0},p(a,u){const c={};u&67108866&&(c.$$scope={dirty:u,ctx:a}),t.$set(c),a[6]&&a[6].logs?l?(l.p(a,u),u&64&&_(l,1)):(l=DT(a),l.c(),_(l,1),l.m(e,r)):l&&(ae(),v(l,1,1,()=>{l=null}),ue()),a[9]?o?o.p(a,u):(o=ST(a),o.c(),o.m(e,null)):o&&(o.d(1),o=null)},i(a){s||(_(t.$$.fragment,a),_(l),s=!0)},o(a){v(t.$$.fragment,a),v(l),s=!1},d(a){a&&y(e),I(t),l&&l.d(),o&&o.d()}}}function sje(i){let e,t;return e=new ti({props:{headerClass:"glass mb-2",mainClass:"bg-white filler dark:bg-black",$$slots:{header:[rje],default:[eje]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&67109887&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}const u2=30,lje=i=>{};function oje(i,e,t){let n;Le(i,en,x=>t(23,n=x));let{trackable:r}=e,{date:s}=e,{id:l}=e,o,a,u,c,f=0,d=[],m=pi(),p,g,k=!1;const $=async()=>{var x;t(7,k=!0),t(6,g=await qp(r,{start:u,end:a},n.trackables)),t(5,f=((x=g.max)==null?void 0:x.value)>f?g.max.value:f),o=g.byDay.backfill(u.toDate(),a.toDate()),o.dates.forEach((ee,J)=>{let q=g.dates.findIndex(le=>le.format("YYYY-MM-DD-HH")===ee.format("YYYY-MM-DD-HH"));if(!d.find(le=>le.date.format("YYYY-MM-DD")==ee.format("YYYY-MM-DD"))){let le=q>-1?g.logs[q]:void 0;d.push({date:ee,value:o.values[J],logs:le?[le]:[]})}}),t(2,d=d.sort((ee,J)=>ee.date<J.date?1:-1).map((ee,J)=>(ee.index=J,ee))),Lt(500).then(()=>{t(7,k=!1)})},C=()=>{tn(l)};let E,S,T,M;function R(x){g=x,t(6,g)}const Y=x=>{t(0,s=new Date(x.detail))},z=x=>{af(x.detail.log.end)};function j(x){S=x,t(3,S)}function V(x){T=x,t(8,T)}return i.$$set=x=>{"trackable"in x&&t(1,r=x.trackable),"date"in x&&t(0,s=x.date),"id"in x&&t(12,l=x.id)},i.$$.update=()=>{if(i.$$.dirty&32770&&r&&r!==p&&(t(15,p=r),t(2,d=[])),i.$$.dirty&24577&&s&&(t(13,a=Te(s)),t(14,u=a.subtract(u2,"days")),t(4,c=u.toDate()),$()),i.$$.dirty&90124&&E!==S&&S===d.length-1&&d.length>0){t(16,E=S),t(14,u=u.subtract(u2,"day")),t(4,c=u.toDate()),t(13,a=a.subtract(u2,"day")),$();let x=d.filter(ee=>ee.value>0||ee.value<0).map(ee=>ee.date.toDate());t(9,M=Xze(x))}},[s,r,d,S,c,f,g,k,T,M,m,C,l,a,u,p,E,R,Y,z,j,V]}class aje extends pe{constructor(e){super(),me(this,e,oje,sje,he,{trackable:1,date:0,id:12})}}const uje=(i,e=new Date)=>{On({id:Gg(`streak-${i.tag}`),component:aje,componentProps:{trackable:i,date:e}})};function cje(i){let e;return{c(){e=K("\u2193")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function fje(i){let e;return{c(){e=K("\u2191")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function dje(i){let e,t,n,r,s=i[0].trackableUsage.trackable.label+"",l,o,a,u,c,f=Nt.round(i[0].compared.value.change*100)+"",d,m,p=i[0].compared.value.direction+"",g,k,$,C,E,S=i[0].trackableUsage.formatValue(i[0].compared.value.from)+"",T,M,R,Y,z,j=i[0].trackableUsage.formatValue(i[0].compared.value.to)+"",V,x;function ee(le,G){return le[0].compared.value.direction==="up"?fje:cje}let J=ee(i),q=J(i);return{c(){e=P("main"),t=P("div"),n=P("h2"),r=P("div"),l=K(s),o=W(),a=P("div"),u=P("span"),q.c(),c=W(),d=K(f),m=K(`%
          `),g=K(p),k=W(),$=P("div"),C=P("div"),E=P("span"),T=K(S),M=W(),R=P("span"),R.textContent="\u2192",Y=W(),z=P("span"),V=K(j),h(r,"class","font-semibold filler"),h(u,"class","text-primary-500"),h(a,"class","text-sm opacity-80 stiff text-black dark:text-white font-semibold mb-1"),h(n,"class","leading-tight mb-1 space-x-2 flex items-center"),h(E,"class","whitespace-nowrap"),h(R,"class","opacity-50"),h(z,"class","whitespace-nowrap"),h(C,"class","text-lg text-left text-gray-600 dark:text-gray-400 whitespace-nowrap"),h($,"class",x="w-full change "+i[0].compared.value.direction+" text-right pr-2"),h(t,"class","w-full"),h(e,"class","flex space-x-2 flex-nowrap items-center")},m(le,G){w(le,e,G),D(e,t),D(t,n),D(n,r),D(r,l),D(n,o),D(n,a),D(a,u),q.m(u,null),D(a,c),D(a,d),D(a,m),D(a,g),D(t,k),D(t,$),D($,C),D(C,E),D(E,T),D(C,M),D(C,R),D(C,Y),D(C,z),D(z,V)},p(le,G){G&1&&s!==(s=le[0].trackableUsage.trackable.label+"")&&de(l,s),J!==(J=ee(le))&&(q.d(1),q=J(le),q&&(q.c(),q.m(u,null))),G&1&&f!==(f=Nt.round(le[0].compared.value.change*100)+"")&&de(d,f),G&1&&p!==(p=le[0].compared.value.direction+"")&&de(g,p),G&1&&S!==(S=le[0].trackableUsage.formatValue(le[0].compared.value.from)+"")&&de(T,S),G&1&&j!==(j=le[0].trackableUsage.formatValue(le[0].compared.value.to)+"")&&de(V,j),G&1&&x!==(x="w-full change "+le[0].compared.value.direction+" text-right pr-2")&&h($,"class",x)},d(le){le&&y(e),q.d()}}}function hje(i){let e,t;return e=new er({props:{size:42,className:"mr-2 flex items-center",trackable:i[0].trackableUsage.trackable,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[0].trackableUsage.trackable),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mje(i){let e,t,n,r;return e=new lt({props:{clickable:!0,$$slots:{left:[hje],default:[dje]},$$scope:{ctx:i}}}),e.$on("click",i[1]),n=new hi({props:{left:72}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,[l]){const o={};l&5&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function pje(i,e,t){let{uct:n}=e;const r=()=>{Hr(n.trackableUsage.trackable)};return i.$$set=s=>{"uct"in s&&t(0,n=s.uct)},[n,r]}class p$ extends pe{constructor(e){super(),me(this,e,pje,mje,he,{uct:0})}}function TT(i,e,t){const n=i.slice();return n[22]=e[t],n[24]=t,n}function AT(i,e,t){const n=i.slice();return n[22]=e[t],n[24]=t,n}function PT(i,e,t){const n=i.slice();return n[22]=e[t],n[24]=t,n}function _je(i){let e,t,n,r,s,l=i[5].length&&NT(i);return t=new jt({props:{solo:!0,outside:!0,title:"Trending Up",$$slots:{default:[bje]},$$scope:{ctx:i}}}),r=new jt({props:{solo:!0,outside:!0,title:"Trending Down ",$$slots:{default:[kje]},$$scope:{ctx:i}}}),{c(){l&&l.c(),e=W(),B(t.$$.fragment),n=W(),B(r.$$.fragment)},m(o,a){l&&l.m(o,a),w(o,e,a),O(t,o,a),w(o,n,a),O(r,o,a),s=!0},p(o,a){o[5].length?l?(l.p(o,a),a&32&&_(l,1)):(l=NT(o),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(ae(),v(l,1,1,()=>{l=null}),ue());const u={};a&134217736&&(u.$$scope={dirty:a,ctx:o}),t.$set(u);const c={};a&134217744&&(c.$$scope={dirty:a,ctx:o}),r.$set(c)},i(o){s||(_(l),_(t.$$.fragment,o),_(r.$$.fragment,o),s=!0)},o(o){v(l),v(t.$$.fragment,o),v(r.$$.fragment,o),s=!1},d(o){l&&l.d(o),o&&y(e),I(t,o),o&&y(n),I(r,o)}}}function gje(i){let e,t,n;return t=new ki({props:{size:42}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","w-full h-40 flex items-center justify-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function NT(i){let e,t;return e=new jt({props:{solo:!0,outside:!0,title:"New",$$slots:{default:[vje]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&134217760&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function MT(i,e){let t,n,r;return n=new p$({props:{uct:e[22]}}),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),O(n,s,l),r=!0},p(s,l){e=s;const o={};l&32&&(o.uct=e[22]),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),I(n,s)}}}function vje(i){let e=[],t=new Map,n,r,s=i[5];const l=o=>o[22].trackableUsage.trackable;for(let o=0;o<s.length;o+=1){let a=PT(i,s,o),u=l(a);t.set(u,e[o]=MT(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),r=!0},p(o,a){a&32&&(s=o[5],ae(),e=Pi(e,a,l,1,o,s,t,n.parentNode,br,MT,n,PT),ue())},i(o){if(!r){for(let a=0;a<s.length;a+=1)_(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)v(e[a]);r=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&y(n)}}}function LT(i,e){let t,n,r;return n=new p$({props:{uct:e[22]}}),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),O(n,s,l),r=!0},p(s,l){e=s;const o={};l&8&&(o.uct=e[22]),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),I(n,s)}}}function OT(i){let e;return{c(){e=P("div"),e.textContent="No Up Trends",h(e,"class","text-gray-500 px-4 py-4")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function bje(i){let e=[],t=new Map,n,r,s,l=i[3];const o=u=>u[22].trackableUsage.trackable;for(let u=0;u<l.length;u+=1){let c=AT(i,l,u),f=o(c);t.set(f,e[u]=LT(f,c))}let a=!i[3].length&&OT();return{c(){for(let u=0;u<e.length;u+=1)e[u].c();n=W(),a&&a.c(),r=Ae()},m(u,c){for(let f=0;f<e.length;f+=1)e[f].m(u,c);w(u,n,c),a&&a.m(u,c),w(u,r,c),s=!0},p(u,c){c&8&&(l=u[3],ae(),e=Pi(e,c,o,1,u,l,t,n.parentNode,br,LT,n,AT),ue()),u[3].length?a&&(a.d(1),a=null):a||(a=OT(),a.c(),a.m(r.parentNode,r))},i(u){if(!s){for(let c=0;c<l.length;c+=1)_(e[c]);s=!0}},o(u){for(let c=0;c<e.length;c+=1)v(e[c]);s=!1},d(u){for(let c=0;c<e.length;c+=1)e[c].d(u);u&&y(n),a&&a.d(u),u&&y(r)}}}function IT(i){let e;return{c(){e=P("div"),e.textContent="No Down Trends",h(e,"class","text-gray-500 px-4 py-4")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function BT(i,e){let t,n,r;return n=new p$({props:{uct:e[22]}}),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),O(n,s,l),r=!0},p(s,l){e=s;const o={};l&16&&(o.uct=e[22]),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),I(n,s)}}}function kje(i){let e,t=[],n=new Map,r,s,l=!i[4].length&&IT(),o=i[4];const a=u=>u[22].trackableUsage.trackable;for(let u=0;u<o.length;u+=1){let c=TT(i,o,u),f=a(c);n.set(f,t[u]=BT(f,c))}return{c(){l&&l.c(),e=W();for(let u=0;u<t.length;u+=1)t[u].c();r=Ae()},m(u,c){l&&l.m(u,c),w(u,e,c);for(let f=0;f<t.length;f+=1)t[f].m(u,c);w(u,r,c),s=!0},p(u,c){u[4].length?l&&(l.d(1),l=null):l||(l=IT(),l.c(),l.m(e.parentNode,e)),c&16&&(o=u[4],ae(),t=Pi(t,c,a,1,u,o,n,r.parentNode,br,BT,r,TT),ue())},i(u){if(!s){for(let c=0;c<o.length;c+=1)_(t[c]);s=!0}},o(u){for(let c=0;c<t.length;c+=1)v(t[c]);s=!1},d(u){l&&l.d(u),u&&y(e);for(let c=0;c<t.length;c+=1)t[c].d(u);u&&y(r)}}}function yje(i){let e,t,n,r,s,l;const o=[gje,_je],a=[];function u(c,f){return c[0]?0:1}return t=u(i),n=a[t]=o[t](i),{c(){e=P("section"),n.c(),r=W(),s=P("div"),h(e,"class","trending px-1"),h(s,"class","h-20")},m(c,f){w(c,e,f),a[t].m(e,null),w(c,r,f),w(c,s,f),l=!0},p(c,f){let d=t;t=u(c),t===d?a[t].p(c,f):(ae(),v(a[d],1,1,()=>{a[d]=null}),ue(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),_(n,1),n.m(e,null))},i(c){l||(_(n),l=!0)},o(c){v(n),l=!1},d(c){c&&y(e),a[t].d(),c&&y(r),c&&y(s)}}}function wje(i){let e,t;return{c(){e=P("h2"),t=K(i[6]),h(e,"class","text-xs text-solid font-bold leading-tight text-center")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&64&&de(t,n[6])},d(n){n&&y(e)}}}function $je(i){let e,t;return e=new mh({props:{hideCal:!0,$$slots:{default:[wje]},$$scope:{ctx:i}}}),e.$on("next",i[8]),e.$on("previous",i[9]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&134217792&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Fje(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Eje(i){let e,t;return e=new He({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[Fje]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&134217728&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Cje(i){var n;let e=((n=i[10].find(i[16]))==null?void 0:n.label)+"",t;return{c(){t=K(e)},m(r,s){w(r,t,s)},p(r,s){var l;s&2&&e!==(e=((l=r[10].find(r[16]))==null?void 0:l.label)+"")&&de(t,e)},d(r){r&&y(t)}}}function Dje(i){let e,t;return e=new He({props:{slot:"right",clear:!0,primary:!0,$$slots:{default:[Cje]},$$scope:{ctx:i}}}),e.$on("click",i[11]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&134217730&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Sje(i){let e,t,n,r,s,l,o;t=new Sn({props:{$$slots:{right:[Dje],left:[Eje],default:[$je]},$$scope:{ctx:i}}});function a(c){i[17](c)}let u={buttons:[{label:"All",value:"all"},{label:"Trackers",value:"tracker"},{label:"People",value:"person"},{label:"Context",value:"context"}]};return i[2]!==void 0&&(u.value=i[2]),s=new Hl({props:u}),Oe.push(()=>Qe(s,"value",a,i[2])),{c(){e=P("header"),B(t.$$.fragment),n=W(),r=P("div"),B(s.$$.fragment),h(r,"role","menubar"),h(r,"class","px-4 pb-1"),h(e,"slot","header"),h(e,"class","bg-white dark:bg-black")},m(c,f){w(c,e,f),O(t,e,null),D(e,n),D(e,r),O(s,r,null),o=!0},p(c,f){const d={};f&134217794&&(d.$$scope={dirty:f,ctx:c}),t.$set(d);const m={};!l&&f&4&&(l=!0,m.value=c[2],tt(()=>l=!1)),s.$set(m)},i(c){o||(_(t.$$.fragment,c),_(s.$$.fragment,c),o=!0)},o(c){v(t.$$.fragment,c),v(s.$$.fragment,c),o=!1},d(c){c&&y(e),I(t),I(s)}}}function Tje(i){let e,t;return e=new ti({props:{$$slots:{header:[Sje],default:[yje]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&134217855&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Aje(i,e,t){let n,r;Le(i,vd,z=>t(15,n=z)),Le(i,en,z=>t(18,r=z));let{id:s}=e,l=!0,o=new Date,a="day",u="all",c=[],f=[],d=[],m=[],p=pi(),g="Loading...";const k=async()=>{iu("trending-modal"),t(0,l=!0);const z=Lje(n.date,n.focalPeriod),j=await rw({start:z.start,end:z.end},r.trackables);t(14,c=Oje(j,z)),t(0,l=!1)},$=()=>{tn(s)},C=z=>{let j=Te(o);a==="day"?ui(vd,n.date=z=="forward"?j.add(1,"day").toDate():j.subtract(1,"day").toDate(),n):a=="week"?ui(vd,n.date=z=="forward"?j.add(1,"week").toDate():j.subtract(1,"week").toDate(),n):a=="month"&&ui(vd,n.date=z=="forward"?j.add(1,"month").toDate():j.subtract(1,"month").toDate(),n)},E=()=>{C("forward")},S=()=>{C("backward")},T=[{id:"day",label:Fe.t("general.day","Day")},{id:"week",label:Fe.t("general.week","Week")},{id:"month",label:Fe.t("general.month","Month")}],M=()=>{at.popmenu({id:`trending-${o.toDateString()}`,buttons:T.map(z=>({title:z.label,async click(){await Lt(200),ui(vd,n.focalPeriod=z.id,n),k()}}))})},R=z=>z.id===a;function Y(z){u=z,t(2,u)}return i.$$set=z=>{"id"in z&&t(12,s=z.id)},i.$$.update=()=>{i.$$.dirty&32768&&t(13,o=n.date),i.$$.dirty&32768&&t(1,a=n.focalPeriod),i.$$.dirty&16397&&!l&&u&&(t(4,d=c.filter(z=>u==="all"?!0:z.trackableUsage.trackable.type===u).filter(z=>z.compared.value.direction==="down"&&[z.compared.value.from,z.compared.value.to].join(",")!=="0,1")),t(3,f=c.filter(z=>u==="all"?!0:z.trackableUsage.trackable.type===u).filter(z=>z.compared.value.direction==="up"&&[z.compared.value.from,z.compared.value.to].join(",")!=="0,1")),t(5,m=f.filter(z=>z.compared.value.from===0)),t(3,f=f.filter(z=>z.compared.value.from))),i.$$.dirty&40962&&n&&(k(),a==="day"?t(6,g=Te(o).format(p.mmm_d_yyyy)):a==="week"?t(6,g=`${Te(o).startOf("week").format(p.tinyDate)} - ${Te(o).endOf("week").format(`${p.tinyDate} YYYY`)}`):a==="month"&&t(6,g=`${Te(o).format("MMM YYYY")}`))},[l,a,u,f,d,m,g,$,E,S,T,M,s,o,c,n,R,Y]}class Pje extends pe{constructor(e){super(),me(this,e,Aje,Tje,he,{id:12})}}const Nje=i=>{let e=i.groupedBy?i:i.byDay,t=e.values.length,n=Math.floor(t*.5),r={trackable:e.trackable,values:[],dates:[]},s={trackable:e.trackable,values:[],dates:[]};return e.values.forEach((l,o)=>{o<n?(r.values.push(l),r.dates.push(e.dates[o])):(s.values.push(l),s.dates.push(e.dates[o]))}),Mje(new As(r),new As(s))},Mje=(i,e)=>{const t=i.average,n=i.values.filter(f=>f).length,r=e.average,s=e.values.filter(f=>f).length,l=t<r?"up":t>r?"down":"same",o=n<s?"up":n>s?"down":"same",a=r>t?Nt.percentage(r,t):Nt.percentage(t,r),u=s>n?Nt.percentage(s,n):Nt.percentage(n,s);return{value:{direction:l,change:1-Nt.round(a/100),from:t,to:r},usage:{direction:o,change:1-Nt.round(u/100)}}},vd=rn(void 0),xW=(i,e="day")=>{vd.update(t=>({date:i,focalPeriod:e})),On({id:`trending-${i.toDateString()}`,componentProps:{},component:Pje})},Lje=(i,e)=>{let t=Te(i).startOf("day"),n=Te(i).endOf("day");return e==="day"?(t=Te(t).subtract(1,"day"),n=Te(n).endOf("day")):e==="hour"?(t=Te(t).subtract(2,"hour"),n=Te(n).endOf("hour")):e==="month"?(t=Te(t).startOf("month").subtract(1,"month"),n=Te(n).endOf("month")):e==="week"?(t=Te(t).startOf("week").subtract(1,"week"),n=Te(n).endOf("week")):e==="month"&&(t=Te(t).startOf("month").subtract(1,"month"),n=Te(n).endOf("month")),{start:t,end:n}},Oje=(i,e)=>Object.keys(i).map(n=>{try{let r=i[n];r=r.backfill(e.start.toDate(),e.end.toDate());const s=Nje(r);return{trackableUsage:r,compared:s}}catch{return}}).filter(n=>n).sort((n,r)=>{const s=n.trackableUsage.values.filter(o=>!isNaN(o)&&o).length+(n.compared.value.change||0)+(n.compared.usage.change||0)||-1,l=n.trackableUsage.values.filter(o=>!isNaN(o)&&o).length+(r.compared.value.change||0)+(r.compared.usage.change||0)||-1;return s<l?-1:1}).filter(n=>n.compared.value.direction!=="same"),Ije=(i,e)=>{const t={};return i.forEach(n=>{let r="YYYY-MM-DD",s=`${n.endDayjs().format(r)}`;t[s]=t[s]||[],t[s].push(n)}),Object.keys(t).map(n=>{const r=_o(t[n],{trackables:e});return{time:t[n][0].endDayjs(),usage:r,logs:t[n]}})};function Bje(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p;return{c(){e=P("div"),t=P("div"),n=K(i[7]),r=W(),s=P("button"),l=P("div"),o=K(i[1]),a=W(),u=P("div"),h(t,"class","top-label"),h(l,"class","vb-value"),h(u,"class","percent-bar"),gt(u,"height",i[0]+"%"),h(s,"type","button"),h(s,"title",c=`${i[7]} ${i[6].toISOString()}`),h(s,"class",f="value-button "+i[4]),gt(s,"background-color",i[2]),h(e,"class",d="value-button-wrapper "+i[5]),gt(e,"--size",i[3]+"px")},m(g,k){w(g,e,k),D(e,t),D(t,n),D(e,r),D(e,s),D(s,l),D(l,o),D(s,a),D(s,u),m||(p=Se(s,"click",i[9]),m=!0)},p(g,[k]){k&128&&de(n,g[7]),k&2&&de(o,g[1]),k&1&&gt(u,"height",g[0]+"%"),k&192&&c!==(c=`${g[7]} ${g[6].toISOString()}`)&&h(s,"title",c),k&16&&f!==(f="value-button "+g[4])&&h(s,"class",f),k&4&&gt(s,"background-color",g[2]),k&32&&d!==(d="value-button-wrapper "+g[5])&&h(e,"class",d),k&8&&gt(e,"--size",g[3]+"px")},i:Z,o:Z,d(g){g&&y(e),m=!1,p()}}}function Rje(i,e,t){const n=Ut();let{percentage:r}=e,{value:s}=e,{color:l}=e,{size:o}=e,{className:a=""}=e,{wrapperClass:u=""}=e,{date:c}=e,{topLabel:f}=e;const d=()=>{n("click")};return i.$$set=m=>{"percentage"in m&&t(0,r=m.percentage),"value"in m&&t(1,s=m.value),"color"in m&&t(2,l=m.color),"size"in m&&t(3,o=m.size),"className"in m&&t(4,a=m.className),"wrapperClass"in m&&t(5,u=m.wrapperClass),"date"in m&&t(6,c=m.date),"topLabel"in m&&t(7,f=m.topLabel)},[r,s,l,o,a,u,c,f,n,d]}class zje extends pe{constructor(e){super(),me(this,e,Rje,Bje,he,{percentage:0,value:1,color:2,size:3,className:4,wrapperClass:5,date:6,topLabel:7})}}function RT(i,e,t){const n=i.slice();return n[20]=e[t],n}function zT(i,e,t){const n=i.slice();return n[23]=e[t],n[25]=t,n}function jT(i,e,t){const n=i.slice();return n[26]=e[t],n[25]=t,n}function YT(i){let e,t,n,r=[],s=new Map,l;function o(...c){return i[11](i[19],...c)}let a=Object.keys(i[19].usage).map(o).sort(VT);const u=c=>c[23].tag;for(let c=0;c<a.length;c+=1){let f=zT(i,a,c),d=u(f);s.set(d,r[c]=WT(d,f))}return{c(){e=P("div"),t=P("div"),n=P("div");for(let c=0;c<r.length;c+=1)r[c].c();h(n,"class","trackables relative z-0 rounded-lg bg-white dark:bg-gray-950"),h(t,"class","my-2 mx-4"),ct(t,"hidden",!Object.keys(i[19].usage).length),h(e,"class","timeline-30")},m(c,f){w(c,e,f),D(e,t),D(t,n);for(let d=0;d<r.length;d+=1)r[d].m(n,null);l=!0},p(c,f){i=c,f&524448&&(a=Object.keys(i[19].usage).map(o).sort(VT),ae(),r=Pi(r,f,u,1,i,a,s,n,br,WT,null,zT),ue()),(!l||f&524288)&&ct(t,"hidden",!Object.keys(i[19].usage).length)},i(c){if(!l){for(let f=0;f<a.length;f+=1)_(r[f]);l=!0}},o(c){for(let f=0;f<r.length;f+=1)v(r[f]);l=!1},d(c){c&&y(e);for(let f=0;f<r.length;f+=1)r[f].d()}}}function UT(i,e){let t,n,r;function s(){return e[14](e[26])}return n=new zje({props:{percentage:e[26].percentage,value:e[26].trackable.formatValue(e[26].value),wrapperClass:"m-px",size:48,date:e[26].date,color:e[26].trackable.color,topLabel:e[26].date.format(e[7].time).replace(/( |M)/g,"").toLowerCase()}}),n.$on("click",s),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),O(n,l,o),r=!0},p(l,o){e=l;const a={};o&524288&&(a.percentage=e[26].percentage),o&524288&&(a.value=e[26].trackable.formatValue(e[26].value)),o&524288&&(a.date=e[26].date),o&524288&&(a.color=e[26].trackable.color),o&524288&&(a.topLabel=e[26].date.format(e[7].time).replace(/( |M)/g,"").toLowerCase()),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),I(n,l)}}}function jje(i){let e,t,n=[],r=new Map,s,l;function o(...c){return i[13](i[23],...c)}let a=i[23].usage.values.map(o).sort(xT);const u=c=>c[25];for(let c=0;c<a.length;c+=1){let f=jT(i,a,c),d=u(f);r.set(d,n[c]=UT(d,f))}return{c(){e=P("div"),t=P("div");for(let c=0;c<n.length;c+=1)n[c].c();s=W(),h(t,"class","flex w-full justify-end items-end flex-wrap"),h(e,"class","w-full")},m(c,f){w(c,e,f),D(e,t);for(let d=0;d<n.length;d+=1)n[d].m(t,null);w(c,s,f),l=!0},p(c,f){i=c,f&524416&&(a=i[23].usage.values.map(o).sort(xT),ae(),n=Pi(n,f,u,1,i,a,r,t,br,UT,null,jT),ue())},i(c){if(!l){for(let f=0;f<a.length;f+=1)_(n[f]);l=!0}},o(c){for(let f=0;f<n.length;f+=1)v(n[f]);l=!1},d(c){c&&y(e);for(let f=0;f<n.length;f+=1)n[f].d();c&&y(s)}}}function Yje(i){let e,t;function n(){return i[12](i[23])}return e=new fa({props:{transparent:!0,slot:"left",value:i[23].usage.trackable.formatValue(i[23].usage.trackable.tallyValues(i[23].usage.values)),hideValue:i[23].usage.trackable.type==="person",trackable:i[23].usage.trackable,size:i[5].width<350?34:42,className:"stiff z-10 hover:scale-105 focus:scale-95 transition-all transform duration-200 mb-1 mr-1  lg:mr-2 shadow-md lg:col-span-3 md:col-span-6 col-span-6 timeline-pill w-full"}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&524288&&(l.value=i[23].usage.trackable.formatValue(i[23].usage.trackable.tallyValues(i[23].usage.values))),s&524288&&(l.hideValue=i[23].usage.trackable.type==="person"),s&524288&&(l.trackable=i[23].usage.trackable),s&32&&(l.size=i[5].width<350?34:42),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function WT(i,e){let t,n,r;return n=new lt({props:{bottomLine:60,id:Gg(e[23].usage.trackable.tag)+"-items",$$slots:{left:[Yje],default:[jje]},$$scope:{ctx:e}}}),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),O(n,s,l),r=!0},p(s,l){e=s;const o={};l&524288&&(o.id=Gg(e[23].usage.trackable.tag)+"-items"),l&268959776&&(o.$$scope={dirty:l,ctx:e}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),I(n,s)}}}function qT(i){let e,t,n=i[19].logs.filter(i[15]).sort(GT),r=[];for(let l=0;l<n.length;l+=1)r[l]=HT(RT(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=P("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","notes")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&524289){n=l[19].logs.filter(l[15]).sort(GT);let a;for(a=0;a<n.length;a+=1){const u=RT(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=HT(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),pt(r,l)}}}function HT(i){let e,t,n,r;return t=new mc({props:{log:i[20],hideTrackables:i[0].trackables}}),{c(){e=P("div"),B(t.$$.fragment),n=W(),h(e,"class","px-4 py-2")},m(s,l){w(s,e,l),O(t,e,null),D(e,n),r=!0},p(s,l){const o={};l&524289&&(o.log=s[20]),l&1&&(o.hideTrackables=s[0].trackables),t.$set(o)},i(s){r||(_(t.$$.fragment,s),r=!0)},o(s){v(t.$$.fragment,s),r=!1},d(s){s&&y(e),I(t)}}}function Uje(i){let e,t,n,r=i[19].logs[0].endDayjs().fromNow()+"",s,l,o,a=i[19].logs[0].endDayjs().format(`ddd ${i[7].mmm_d_yyyy}`)+"",u,c,f,d,m,p,g,k,$;f=new et({props:{icon:rc,className:"opacity-50",size:14}});function C(){return i[10](i[19])}let E=i[0].trackables&&YT(i),S=i[0].notes&&qT(i);return{c(){var T;e=P("header"),t=P("button"),n=P("div"),s=K(r),l=W(),o=P("h2"),u=K(a),c=W(),B(f.$$.fragment),d=W(),E&&E.c(),m=W(),S&&S.c(),p=Ae(),h(n,"class","text-sm block font-normal leading-none text-gray-500 mb-1"),h(o,"class","transform block transition-all duration-500 filler text-xl md:text-2xl"),ct(o,"text-sm",i[19].logs[0].endDayjs().format("YYYY-MM-DD")==((T=i[4])==null?void 0:T.logs[0].endDayjs().format("YYYY-MM-DD"))),h(t,"type","button"),h(t,"class","text-left w-full font-bold hover:opacity-80"),h(e,"class","text-center px-6 items-center mt-6 mb-2 font-bold text-gray-900 dark:text-gray-100")},m(T,M){w(T,e,M),D(e,t),D(t,n),D(n,s),D(t,l),D(t,o),D(o,u),D(o,c),O(f,o,null),w(T,d,M),E&&E.m(T,M),w(T,m,M),S&&S.m(T,M),w(T,p,M),g=!0,k||($=Se(t,"click",C),k=!0)},p(T,M){var R;i=T,(!g||M&524288)&&r!==(r=i[19].logs[0].endDayjs().fromNow()+"")&&de(s,r),(!g||M&524288)&&a!==(a=i[19].logs[0].endDayjs().format(`ddd ${i[7].mmm_d_yyyy}`)+"")&&de(u,a),(!g||M&524304)&&ct(o,"text-sm",i[19].logs[0].endDayjs().format("YYYY-MM-DD")==((R=i[4])==null?void 0:R.logs[0].endDayjs().format("YYYY-MM-DD"))),i[0].trackables?E?(E.p(i,M),M&1&&_(E,1)):(E=YT(i),E.c(),_(E,1),E.m(m.parentNode,m)):E&&(ae(),v(E,1,1,()=>{E=null}),ue()),i[0].notes?S?(S.p(i,M),M&1&&_(S,1)):(S=qT(i),S.c(),_(S,1),S.m(p.parentNode,p)):S&&(ae(),v(S,1,1,()=>{S=null}),ue())},i(T){g||(_(f.$$.fragment,T),_(E),_(S),g=!0)},o(T){v(f.$$.fragment,T),v(E),v(S),g=!1},d(T){T&&y(e),I(f),T&&y(d),E&&E.d(T),T&&y(m),S&&S.d(T),T&&y(p),k=!1,$()}}}function Wje(i){let e,t;return e=new Li({props:{size:"md",$$slots:{default:[Uje]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&268959793&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qje(i){let e,t,n,r;function s(a){i[16](a)}function l(a){i[17](a)}let o={items:i[1],$$slots:{default:[Wje,({item:a})=>({19:a}),({item:a})=>a?524288:0]},$$scope:{ctx:i}};return i[3]!==void 0&&(o.start=i[3]),i[2]!==void 0&&(o.end=i[2]),e=new lU({props:o}),Oe.push(()=>Qe(e,"start",s,i[3])),Oe.push(()=>Qe(e,"end",l,i[2])),e.$on("topItem",i[18]),{c(){B(e.$$.fragment)},m(a,u){O(e,a,u),r=!0},p(a,[u]){const c={};u&2&&(c.items=a[1]),u&268959793&&(c.$$scope={dirty:u,ctx:a}),!t&&u&8&&(t=!0,c.start=a[3],tt(()=>t=!1)),!n&&u&4&&(n=!0,c.end=a[2],tt(()=>n=!1)),e.$set(c)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),r=!1},d(a){I(e,a)}}}const VT=(i,e)=>i.usage.logs[i.usage.logs.length-1].end<e.usage.logs[e.usage.logs.length-1].end?1:-1,xT=(i,e)=>i.log.end>e.log.end?1:-1,GT=(i,e)=>i.pinned||e.pinned?i.pinned<e.pinned?1:-1:i.end<e.end?1:-1;function Hje(i,e,t){let n,r;Le(i,en,M=>t(9,n=M)),Le(i,Ni,M=>t(5,r=M));let{logs:s=[]}=e,{filters:l={}}=e;const o=Ut();let a=[],u=pi(),c,f,d;const m=M=>{q0(M.logs[0].end)},p=(M,R)=>({usage:M.usage[R],tag:R,item:M}),g=M=>Hr(M.usage.trackable),k=(M,R,Y)=>{var z;return{value:R,log:M.usage.logs[Y],date:M.usage.dates[Y],usage:M.usage,trackable:M.usage.trackable,percentage:Nt.percentage(((z=sl[M.usage.trackable.tag])==null?void 0:z.max.v)||R,R)}},$=M=>{at.logOptions(M.log,{description:M.log.note})},C=M=>l.trackables?M.hasNote:!0;function E(M){c=M,t(3,c)}function S(M){f=M,t(2,f)}const T=M=>{t(4,d=M.detail),o("scrollItem",M.detail)};return i.$$set=M=>{"logs"in M&&t(8,s=M.logs),"filters"in M&&t(0,l=M.filters)},i.$$.update=()=>{i.$$.dirty&768&&n&&t(1,a=Ije(s,n.trackables)),i.$$.dirty&6&&f===a.length&&a.length>0&&o("endOfItems")},[l,a,f,c,d,r,o,u,s,n,m,p,g,k,$,C,E,S,T]}class Vje extends pe{constructor(e){super(),me(this,e,Hje,qje,he,{logs:8,filters:0})}}function ZT(i){let e,t,n,r=i[7]&&i[4].toDate()>i[8].toDate(),s,l;const o=[Zje,Gje,xje],a=[];function u(f,d){return f[2].length?0:f[5]?1:f[5]?-1:2}~(e=u(i))&&(t=a[e]=o[e](i));let c=r&&XT(i);return{c(){t&&t.c(),n=W(),c&&c.c(),s=Ae()},m(f,d){~e&&a[e].m(f,d),w(f,n,d),c&&c.m(f,d),w(f,s,d),l=!0},p(f,d){let m=e;e=u(f),e===m?~e&&a[e].p(f,d):(t&&(ae(),v(a[m],1,1,()=>{a[m]=null}),ue()),~e?(t=a[e],t?t.p(f,d):(t=a[e]=o[e](f),t.c()),_(t,1),t.m(n.parentNode,n)):t=null),d&400&&(r=f[7]&&f[4].toDate()>f[8].toDate()),r?c?(c.p(f,d),d&400&&_(c,1)):(c=XT(f),c.c(),_(c,1),c.m(s.parentNode,s)):c&&(ae(),v(c,1,1,()=>{c=null}),ue())},i(f){l||(_(t),_(c),l=!0)},o(f){v(t),v(c),l=!1},d(f){~e&&a[e].d(f),f&&y(n),c&&c.d(f),f&&y(s)}}}function xje(i){let e,t;return e=new zi({props:{$$slots:{default:[Xje]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108872&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Gje(i){let e,t,n;return t=new ki({props:{size:32}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","w-full h-screen -mt-12 flex items-center justify-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Zje(i){let e,t,n;function r(l){i[15](l)}let s={logs:i[2]};return i[0]!==void 0&&(s.filters=i[0]),e=new Vje({props:s}),Oe.push(()=>Qe(e,"filters",r,i[0])),e.$on("scrollItem",i[16]),e.$on("endOfItems",i[17]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o&4&&(a.logs=l[2]),!t&&o&1&&(t=!0,a.filters=l[0],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function Xje(i){let e,t,n=i[3].format(i[10].date)+"",r;return{c(){e=P("p"),t=K("No entries found between now and "),r=K(n),h(e,"class","text-gray-500 text-center leading-tight text-sm")},m(s,l){w(s,e,l),D(e,t),D(e,r)},p(s,l){l&8&&n!==(n=s[3].format(s[10].date)+"")&&de(r,n)},d(s){s&&y(e)}}}function XT(i){let e,t,n;return t=new He({props:{size:"sm",className:"bg-primary text-white rounded-full",$$slots:{default:[Kje]},$$scope:{ctx:i}}}),t.$on("click",i[18]),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","px-4 py-2 absolute z-40 bottom-10 left-10 right-10 flex items-center justify-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&67108864&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Kje(i){let e;return{c(){e=K("Load futher back...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Jje(i){let e,t,n=i[6]&&ZT(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[6]?n?(n.p(r,s),s&64&&_(n,1)):(n=ZT(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}const Sg=15;function Qje(i,e,t){const n={notes:!0,maps:!1,trackables:!1,context:!1};let{filters:r={...n}}=e,{daysToLoad:s=30}=e,{startingDate:l=new Date}=e,o=[],a=Te(l),u=Te(l),c=!0,f;const d=Ut();Yt(()=>{t(6,f=!0)}),Ns(()=>{t(6,f=!1)});let m=new Date;const p=pi();let g=0,k=!1;const $=async()=>{t(4,u=a.subtract(s,"day"));const ee={end:a,start:u};r.search&&(ee.search=r.search,ee.fuzzy=!0);const J=await dn.query(ee);J.length===0&&t(1,g=g+1),t(2,o=[...J,...o.filter(q=>!J.find(le=>le._id===q._id))].sort((q,le)=>q.end>le.end?-1:1)),o.length==0&&g<=Sg&&(t(3,a=Te(u)),await $())},C=async(ee,J="unknown")=>(t(5,c=!0),ee&&(t(1,g=0),t(3,a=Te(l||new Date)),t(4,u=Te(l||new Date))),g<=Sg&&await $(),t(5,c=!1),o),E=async ee=>g<Sg?(t(3,a=Te(u)),C(!1,ee||"loadMore")):[],S=async()=>{t(2,o=[]),C(!0,"clearAndLoad")};let T,M,R,Y;Yt(async()=>{t(8,Y=await dn.getFirstDate()),S(),M=dn.hook("onLogUpdate",async ee=>{await Lt(600),C(!0,"onLogUpdate")}),T=dn.hook("onLogSaved",async ee=>{await Lt(600),C(!0,"onLogSaved")}),R=dn.hook("onLogsDeleted",async ee=>{await Lt(200),await S()})}),Ns(()=>{T(),M(),R()});function z(ee){r=ee,t(0,r)}const j=ee=>{const J=ee.detail;d("topItem",J)},V=()=>{k||E()},x=()=>{t(1,g=0),E()};return i.$$set=ee=>{"filters"in ee&&t(0,r=ee.filters),"daysToLoad"in ee&&t(12,s=ee.daysToLoad),"startingDate"in ee&&t(13,l=ee.startingDate)},i.$$.update=()=>{i.$$.dirty&24576&&l&&l.toDateString()!==m.toDateString()&&(t(14,m=l),t(2,o=[]),t(3,a=Te(l)),t(4,u=Te(l)),t(1,g=0),C()),i.$$.dirty&2&&t(7,k=g>=Sg)},[r,g,o,a,u,c,f,k,Y,d,p,E,s,l,m,z,j,V,x]}class GW extends pe{constructor(e){super(),me(this,e,Qje,Jje,he,{filters:0,daysToLoad:12,startingDate:13})}}function eYe(i){let e,t,n,r,s;function l(u){i[5](u)}function o(u){i[6](u)}let a={};return i[1]!==void 0&&(a.startingDate=i[1]),i[0]!==void 0&&(a.filters=i[0]),t=new GW({props:a}),Oe.push(()=>Qe(t,"startingDate",l,i[1])),Oe.push(()=>Qe(t,"filters",o,i[0])),t.$on("topItem",i[7]),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","pb-10")},m(u,c){w(u,e,c),O(t,e,null),s=!0},p(u,c){const f={};!n&&c&2&&(n=!0,f.startingDate=u[1],tt(()=>n=!1)),!r&&c&1&&(r=!0,f.filters=u[0],tt(()=>r=!1)),t.$set(f)},i(u){s||(_(t.$$.fragment,u),s=!0)},o(u){v(t.$$.fragment,u),s=!1},d(u){u&&y(e),I(t)}}}function tYe(i){let e,t,n;return t=new If({props:{className:"font-bold ntitle",text:i[2].fromNow()}}),{c(){e=P("div"),B(t.$$.fragment)},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&4&&(l.text=r[2].fromNow()),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function nYe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function iYe(i){let e,t;return e=new He({props:{slot:"left",primary:!0,clear:!0,$$slots:{default:[nYe]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function rYe(i){let e,t;return e=new Sn({props:{slot:"header",className:"bg-white dark:bg-black",$$slots:{left:[iYe],default:[tYe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&516&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sYe(i){let e,t;return e=new ti({props:{$$slots:{header:[rYe],default:[eYe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&519&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lYe(i,e,t){let{id:n}=e,{filters:r={}}=e,{startingDate:s=new Date}=e;pi();let l=Te(s||new Date);const o=()=>{tn(n)};function a(f){s=f,t(1,s)}function u(f){r=f,t(0,r)}const c=f=>{t(2,l=Te(f.detail.time))};return i.$$set=f=>{"id"in f&&t(4,n=f.id),"filters"in f&&t(0,r=f.filters),"startingDate"in f&&t(1,s=f.startingDate)},[r,s,l,o,n,a,u,c]}class oYe extends pe{constructor(e){super(),me(this,e,lYe,sYe,he,{id:4,filters:0,startingDate:1})}}const wm=aU("timeline-settings",{default:{notes:!0,maps:!1,trackables:!1,context:!1}});function ZW(i){On({id:`timeline-modal-${ia(i.search)}`,component:oYe,componentProps:{filters:i}})}const aYe=async()=>{let i=await at.prompt(`${Fe.t("board.add-a-board","Add New Tab")}`,`${Fe.t("board.add-a-board-description","Tabs help you organize your trackables into logical groups.")}`,{placeholder:`${Fe.t("board.board-input-placeholder","Tab name or Emoji \u{1F44D}")}`});if(i){let e=i.trim();e.toLowerCase()!=="all"?_0e(e):at.error("Sorry, 'All' is a reserved word")}},uYe=i=>({title:Fe.t("general.new-context"," Add New +Context"),icon:yU,async click(){await 200,await Kr(new Wi({type:"context"}))}}),XW=i=>({title:`${Fe.t("general.new-tracker","Add New #Tracker")}`,icon:Qk,async click(){Kr(new Wi({type:"tracker",tracker:new qi({})}))}}),KW=async i=>{await at.confirm(`${Fe.t("general.remove-official","Remove Official Trackable")}`,`${Fe.t("tracker.delete-description","No tracked data will be deleted, and you can always recreate this tracker")}`)&&(at.blocker("Deleting..."),await F0e(i,!1),at.stopBlocker(),Ni.reload())},cYe=async(i,e)=>{const t=e||ap();if(await at.confirm(`Remove ${i.tag} from this board?`,"You can always re-add it later")){const r=await yh(),s=r.find(l=>l.id===t);s&&(s.elements=s.elements.filter(l=>l!==i.tag)),await $0(r),ol.update(l=>(l.boards=r,l.hash=di(r),l))}},fYe=async i=>{const e=await yh(),t=e.findIndex(n=>n.id==i.id);return t>-1?e[t]=i:e.push(i),iw(e)},dYe=async i=>{const e=ap(),t=[{title:"Remove from Current Tab",click(){cYe(i,e)}},{title:"Remove official Trackable",click(){KW(i)}}];await Lt(300),at.popmenu({id:`delete-${i.tag}`,trackable:i,title:`Delete ${i.label}`,buttons:t})},hYe=(i,e)=>{const t=[{title:"View Full Note",click(){lh(i)}},{title:`View all ${i.endDayjs().format(pi().mmm_d_yyyy)}`,click(){q0(i.end)}},{title:`View Trending on ${i.endDayjs().format(pi().mmm_d_yyyy)}`,click(){xW(i.end,"day")}}];at.popmenu({id:`calendar-mode-${i._id}`,title:"What would you like to do?",buttons:t})},Hr=async(i,e)=>{var a,u;e=e||{},e.component=e.component||fMe,e.componentProps=e.componentProps||{trackable:i},e.title=e.title||i.tag;const t=S1e(i),n=t?(u=(a=t[i.tag])==null?void 0:a.streak)==null?void 0:u.v:0,r=[];t&&t.last&&(r.push(`(${i.formatValue(t.last.v)})`),r.push(Te(t.last.d).fromNow())),e.description=r.length?r.join(" "):void 0,e.trackable=e.trackable||i;const s=()=>{e.click&&e.click()};let l=[{title:`${Fe.t("tracker.stats","Stats")} `,icon:ree,skipClosing:!0,click(){xm(i,{known:{},date:new Date}),s()}},{title:`${Fe.t("tracker.streak","Streak")}`,icon:GAe,right:n,skipClosing:!0,click(){uje(i)}},{title:Fe.t("general.entries","Entries"),icon:aB,skipClosing:!0,click(){ZW({search:i.tag,notes:!0})}},{title:"Calendar",icon:yf,skipClosing:!0,click(){GU({trackable:e.trackable})}},{title:`${Fe.t("general.configure","Configure")}`,icon:bee,skipClosing:!0,click(){i.type==="tracker"&&Kr(i),i.type==="person"&&Kr(i),i.type==="context"&&Kr(i),s()}},{title:`${Fe.t("general.remove","Remove")}`,icon:wf,click(){dYe(i),s()}}];const o={id:`trackable-options-${ia(e.trackable.tag)}`,title:e.title||"Tracker Options",component:e.component,componentProps:e.componentProps,description:e.description||void 0,buttons:e.buttons?[...l,...e.buttons]:l,trackable:e.trackable,buttonView:"grid"};return await Js(o)},JW=i=>({title:`${Fe.t("general.new-person","Add New @Person")}`,icon:cB,async click(){await Lt(300),QW()}}),QW=async i=>{try{const e=new Xa({});Kr(e.toTrackable())}catch(e){at.error(e.message)}},eq=(i,e)=>({title:`${Fe.t("general.pick-from-existing-trackables","Pick From Existing")}`,icon:pB,disabled:e,divider:!0,async click(){await Lt(300);const t=await Ch();t.length&&await i1(t,i)}}),tq={title:`${Fe.t("general.browse-library","Browse Library...")}`,icon:hB,async click(){UAe()}},mYe={title:`${Fe.t("general.new-tab","Add New Tab")}`,icon:oee,divider:!0,async click(){aYe()}},nq=(i,e={})=>{const t=Object.keys(e).length>0;return[XW(),JW(),uYe(),eq(i,!t),tq,mYe]},pYe=async(i,e={})=>{const t=nq(i,e);at.popmenu({id:"things-to-track",buttons:t})},_Ye=i=>{let e=[];return e.push({title:`${Fe.t("general.go-back-in-time","Go Back in Time")}`,icon:KAe,async click(){await Lt(300),D0e()}}),e.push({title:"Edit",divider:!0,icon:HAe,click(){sj()}}),e},z1=(i=0,e)=>us.positivity.sort((t,n)=>t.score<n.score?1:-1).map(t=>({title:`${t.label}`,emoji:t.emoji,checked:i==t.score,click(){e&&e(t)}}));Array.prototype.find||(Array.prototype.find=function(i){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof i!="function")throw new TypeError("predicate must be a function");for(var e=Object(this),t=e.length>>>0,n=arguments[1],r,s=0;s<t;s++)if(r=e[s],i.call(n,r,s,e))return r});if(window&&typeof window.CustomEvent!="function"){let i=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};var CustomEvent$1=i;typeof window.Event<"u"&&(i.prototype=window.Event.prototype),window.CustomEvent=i}class j1{constructor(e){this.tribute=e,this.tribute.events=this}static keys(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}bind(e){e.boundKeydown=this.keydown.bind(e,this),e.boundKeyup=this.keyup.bind(e,this),e.boundInput=this.input.bind(e,this),e.addEventListener("keydown",e.boundKeydown,!1),e.addEventListener("keyup",e.boundKeyup,!1),e.addEventListener("input",e.boundInput,!1)}unbind(e){e.removeEventListener("keydown",e.boundKeydown,!1),e.removeEventListener("keyup",e.boundKeyup,!1),e.removeEventListener("input",e.boundInput,!1),delete e.boundKeydown,delete e.boundKeyup,delete e.boundInput}keydown(e,t){e.shouldDeactivate(t)&&(e.tribute.isActive=!1,e.tribute.hideMenu());let n=this;e.commandEvent=!1,j1.keys().forEach(r=>{r.key===t.keyCode&&(e.commandEvent=!0,e.callbacks()[r.value.toLowerCase()](t,n))})}input(e,t){e.inputEvent=!0,e.keyup.call(this,e,t)}click(e,t){let n=e.tribute;if(n.menu&&n.menu.contains(t.target)){let r=t.target;for(t.preventDefault(),t.stopPropagation();r.nodeName.toLowerCase()!=="li";)if(r=r.parentNode,!r||r===n.menu)throw new Error("cannot find the <li> container for the click");n.selectItemAtIndex(r.getAttribute("data-index"),t),n.hideMenu()}else n.current.element&&!n.current.externalTrigger&&(n.current.externalTrigger=!1,setTimeout(()=>n.hideMenu()))}keyup(e,t){if(e.inputEvent&&(e.inputEvent=!1),e.updateSelection(this),t.keyCode!==27){if(!e.tribute.allowSpaces&&e.tribute.hasTrailingSpace){e.tribute.hasTrailingSpace=!1,e.commandEvent=!0,e.callbacks().space(t,this);return}if(!e.tribute.isActive)if(e.tribute.autocompleteMode)e.callbacks().triggerChar(t,this,"");else{let n=e.getKeyCode(e,this,t);if(isNaN(n)||!n)return;let r=e.tribute.triggers().find(s=>s.charCodeAt(0)===n);typeof r<"u"&&e.callbacks().triggerChar(t,this,r)}e.tribute.current.mentionText.length<e.tribute.current.collection.menuShowMinLength||((e.tribute.current.trigger||e.tribute.autocompleteMode)&&e.commandEvent===!1||e.tribute.isActive&&t.keyCode===8)&&e.tribute.showMenuFor(this,!0)}}shouldDeactivate(e){if(!this.tribute.isActive)return!1;if(this.tribute.current.mentionText.length===0){let t=!1;return j1.keys().forEach(n=>{e.keyCode===n.key&&(t=!0)}),!t}return!1}getKeyCode(e,t,n){let r=e.tribute,s=r.range.getTriggerInfo(!1,r.hasTrailingSpace,!0,r.allowSpaces,r.autocompleteMode);return s?s.mentionTriggerChar.charCodeAt(0):!1}updateSelection(e){this.tribute.current.element=e;let t=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);t&&(this.tribute.current.selectedPath=t.mentionSelectedPath,this.tribute.current.mentionText=t.mentionText,this.tribute.current.selectedOffset=t.mentionSelectedOffset)}callbacks(){return{triggerChar:(e,t,n)=>{let r=this.tribute;r.current.trigger=n;let s=r.collection.find(l=>l.trigger===n);r.current.collection=s,r.current.mentionText.length>=r.current.collection.menuShowMinLength&&r.inputEvent&&r.showMenuFor(t,!0)},enter:(e,t)=>{this.tribute.isActive&&this.tribute.current.filteredItems&&(e.preventDefault(),e.stopPropagation(),setTimeout(()=>{this.tribute.selectItemAtIndex(this.tribute.menuSelected,e),this.tribute.hideMenu()},0))},escape:(e,t)=>{this.tribute.isActive&&(e.preventDefault(),e.stopPropagation(),this.tribute.isActive=!1,this.tribute.hideMenu())},tab:(e,t)=>{this.callbacks().enter(e,t)},space:(e,t)=>{this.tribute.isActive&&(this.tribute.spaceSelectsMatch?this.callbacks().enter(e,t):this.tribute.allowSpaces||(e.stopPropagation(),setTimeout(()=>{this.tribute.hideMenu(),this.tribute.isActive=!1},0)))},up:(e,t)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();let n=this.tribute.current.filteredItems.length,r=this.tribute.menuSelected;n>r&&r>0?(this.tribute.menuSelected--,this.setActiveLi()):r===0&&(this.tribute.menuSelected=n-1,this.setActiveLi(),this.tribute.menu.scrollTop=this.tribute.menu.scrollHeight)}},down:(e,t)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();let n=this.tribute.current.filteredItems.length-1,r=this.tribute.menuSelected;n>r?(this.tribute.menuSelected++,this.setActiveLi()):n===r&&(this.tribute.menuSelected=0,this.setActiveLi(),this.tribute.menu.scrollTop=0)}},delete:(e,t)=>{this.tribute.isActive&&this.tribute.current.mentionText.length<1?this.tribute.hideMenu():this.tribute.isActive&&this.tribute.showMenuFor(t)}}}setActiveLi(e){let t=this.tribute.menu.querySelectorAll("li"),n=t.length>>>0;e&&(this.tribute.menuSelected=parseInt(e));for(let r=0;r<n;r++){let s=t[r];if(r===this.tribute.menuSelected){s.classList.add(this.tribute.current.collection.selectClass);let l=s.getBoundingClientRect(),o=this.tribute.menu.getBoundingClientRect();if(l.bottom>o.bottom){let a=l.bottom-o.bottom;this.tribute.menu.scrollTop+=a}else if(l.top<o.top){let a=o.top-l.top;this.tribute.menu.scrollTop-=a}}else s.classList.remove(this.tribute.current.collection.selectClass)}}getFullHeight(e,t){let n=e.getBoundingClientRect().height;if(t){let r=e.currentStyle||window.getComputedStyle(e);return n+parseFloat(r.marginTop)+parseFloat(r.marginBottom)}return n}}class gYe{constructor(e){this.tribute=e,this.tribute.menuEvents=this,this.menu=this.tribute.menu}bind(e){this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.showMenuFor(this.tribute.current.element,!1)},300,!1),this.windowResizeEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.range.positionMenuAtCaret(!0)},300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}unbind(e){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}debounce(e,t,n){var r;return()=>{var s=this,l=arguments,o=()=>{r=null,n||e.apply(s,l)},a=n&&!r;clearTimeout(r),r=setTimeout(o,t),a&&e.apply(s,l)}}}class vYe{constructor(e){this.tribute=e,this.tribute.range=this}getDocument(){let e;return this.tribute.current.collection&&(e=this.tribute.current.collection.iframe),e?e.contentWindow.document:document}positionMenuAtCaret(e){let t=this.tribute.current,n,r=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(typeof r<"u"){if(!this.tribute.positionMenu){this.tribute.menu.style.cssText="display: block;";return}this.isContentEditable(t.element)?n=this.getContentEditableCaretPosition(r.mentionPosition):n=this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,r.mentionPosition),this.tribute.menu.style.cssText=`top: ${n.top}px;
                                     left: ${n.left}px;
                                     right: ${n.right}px;
                                     bottom: ${n.bottom}px;
                                     position: absolute;
                                     display: block;`,n.left==="auto"&&(this.tribute.menu.style.left="auto"),n.top==="auto"&&(this.tribute.menu.style.top="auto"),e&&this.scrollIntoView(),window.setTimeout(()=>{let s={width:this.tribute.menu.offsetWidth,height:this.tribute.menu.offsetHeight},l=this.isMenuOffScreen(n,s),o=window.innerWidth>s.width&&(l.left||l.right),a=window.innerHeight>s.height&&(l.top||l.bottom);(o||a)&&(this.tribute.menu.style.cssText="display: none",this.positionMenuAtCaret(e))},0)}else this.tribute.menu.style.cssText="display: none"}get menuContainerIsBody(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}selectElement(e,t,n){let r,s=e;if(t)for(var l=0;l<t.length;l++){if(s=s.childNodes[t[l]],s===void 0)return;for(;s.length<n;)n-=s.length,s=s.nextSibling;s.childNodes.length===0&&!s.length&&(s=s.previousSibling)}let o=this.getWindowSelection();r=this.getDocument().createRange(),r.setStart(s,n),r.setEnd(s,n),r.collapse(!0);try{o.removeAllRanges()}catch{}o.addRange(r),e.focus()}replaceTriggerText(e,t,n,r,s){let l=this.getTriggerInfo(!0,n,t,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(l!==void 0){let o=this.tribute.current,a=new CustomEvent("tribute-replaced",{detail:{item:s,instance:o,context:l,event:r}});if(this.isContentEditable(o.element)){let u=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:"\xA0";e+=u;let c=l.mentionPosition+l.mentionText.length;this.tribute.autocompleteMode||(c+=l.mentionTriggerChar.length),this.pasteHtml(e,l.mentionPosition,c)}else{let u=this.tribute.current.element,c=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:" ";e+=c;let f=l.mentionPosition,d=l.mentionPosition+l.mentionText.length+c.length;this.tribute.autocompleteMode||(d+=l.mentionTriggerChar.length-1),u.value=u.value.substring(0,f)+e+u.value.substring(d,u.value.length),u.selectionStart=f+e.length,u.selectionEnd=f+e.length}o.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),o.element.dispatchEvent(a)}}pasteHtml(e,t,n){let r,s;s=this.getWindowSelection(),r=this.getDocument().createRange(),r.setStart(s.anchorNode,t),r.setEnd(s.anchorNode,n),r.deleteContents();let l=this.getDocument().createElement("div");l.innerHTML=e;let o=this.getDocument().createDocumentFragment(),a,u;for(;a=l.firstChild;)u=o.appendChild(a);r.insertNode(o),u&&(r=r.cloneRange(),r.setStartAfter(u),r.collapse(!0),s.removeAllRanges(),s.addRange(r))}getWindowSelection(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}getNodePositionInParent(e){if(e.parentNode===null)return 0;for(var t=0;t<e.parentNode.childNodes.length;t++)if(e.parentNode.childNodes[t]===e)return t}getContentEditableSelectedPath(e){let t=this.getWindowSelection(),n=t.anchorNode,r=[],s;if(n!=null){let l,o=n.contentEditable;for(;n!==null&&o!=="true";)l=this.getNodePositionInParent(n),r.push(l),n=n.parentNode,n!==null&&(o=n.contentEditable);return r.reverse(),s=t.getRangeAt(0).startOffset,{selected:n,path:r,offset:s}}}getTextPrecedingCurrentSelection(){let e=this.tribute.current,t="";if(this.isContentEditable(e.element)){let n=this.getWindowSelection().anchorNode;if(n!=null){let r=n.textContent,s=this.getWindowSelection().getRangeAt(0).startOffset;r&&s>=0&&(t=r.substring(0,s))}}else{let n=this.tribute.current.element;if(n){let r=n.selectionStart;n.value&&r>=0&&(t=n.value.substring(0,r))}}return t}getLastWordInText(e){e=e.replace(/\u00A0/g," ");let t=e.split(/\s+/),n=t.length-1;return t[n].trim()}getTriggerInfo(e,t,n,r,s){let l=this.tribute.current,o,a,u;if(!this.isContentEditable(l.element))o=this.tribute.current.element;else{let d=this.getContentEditableSelectedPath(l);d&&(o=d.selected,a=d.path,u=d.offset)}let c=this.getTextPrecedingCurrentSelection(),f=this.getLastWordInText(c);if(s)return{mentionPosition:c.length-f.length,mentionText:f,mentionSelectedElement:o,mentionSelectedPath:a,mentionSelectedOffset:u};if(c!=null){let d=-1,m;if(this.tribute.collection.forEach(p=>{let g=p.trigger,k=p.requireLeadingSpace?this.lastIndexWithLeadingSpace(c,g):c.lastIndexOf(g);k>d&&(d=k,m=g,n=p.requireLeadingSpace)}),d>=0&&(d===0||!n||/[\xA0\s]/g.test(c.substring(d-1,d)))){let p=c.substring(d+m.length,c.length);m=c.substring(d,d+m.length);let g=p.substring(0,1),k=p.length>0&&(g===" "||g==="\xA0");t&&(p=p.trim());let $=r?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=$.test(p),!k&&(e||!$.test(p)))return{mentionPosition:d,mentionText:p,mentionSelectedElement:o,mentionSelectedPath:a,mentionSelectedOffset:u,mentionTriggerChar:m}}}}lastIndexWithLeadingSpace(e,t){let n=e.split("").reverse().join(""),r=-1;for(let s=0,l=e.length;s<l;s++){let o=s===e.length-1,a=/\s/.test(n[s+1]),u=!0;for(let c=t.length-1;c>=0;c--)if(t[c]!==n[s-c]){u=!1;break}if(u&&(o||a)){r=e.length-1-s;break}}return r}isContentEditable(e){return e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"}isMenuOffScreen(e,t){let n=window.innerWidth,r=window.innerHeight,s=document.documentElement,l=(window.pageXOffset||s.scrollLeft)-(s.clientLeft||0),o=(window.pageYOffset||s.scrollTop)-(s.clientTop||0),a=typeof e.top=="number"?e.top:o+r-e.bottom-t.height,u=typeof e.right=="number"?e.right:e.left+t.width,c=typeof e.bottom=="number"?e.bottom:e.top+t.height,f=typeof e.left=="number"?e.left:l+n-e.right-t.width;return{top:a<Math.floor(o),right:u>Math.ceil(l+n),bottom:c>Math.ceil(o+r),left:f<Math.floor(l)}}getMenuDimensions(){let e={width:null,height:null};return this.tribute.menu.style.cssText=`top: 0px;
                                 left: 0px;
                                 position: fixed;
                                 display: block;
                                 visibility; hidden;`,e.width=this.tribute.menu.offsetWidth,e.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",e}getTextAreaOrInputUnderlinePosition(e,t,n){let r=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],s=window.mozInnerScreenX!==null,l=this.getDocument().createElement("div");l.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(l);let o=l.style,a=window.getComputedStyle?getComputedStyle(e):e.currentStyle;o.whiteSpace="pre-wrap",e.nodeName!=="INPUT"&&(o.wordWrap="break-word"),o.position="absolute",o.visibility="hidden",r.forEach(M=>{o[M]=a[M]}),s?(o.width=`${parseInt(a.width)-2}px`,e.scrollHeight>parseInt(a.height)&&(o.overflowY="scroll")):o.overflow="hidden",l.textContent=e.value.substring(0,t),e.nodeName==="INPUT"&&(l.textContent=l.textContent.replace(/\s/g,"\xA0"));let u=this.getDocument().createElement("span");u.textContent=e.value.substring(t)||".",l.appendChild(u);let c=e.getBoundingClientRect(),f=document.documentElement,d=(window.pageXOffset||f.scrollLeft)-(f.clientLeft||0),m=(window.pageYOffset||f.scrollTop)-(f.clientTop||0),p=0,g=0;this.menuContainerIsBody&&(p=c.top,g=c.left);let k={top:p+m+u.offsetTop+parseInt(a.borderTopWidth)+parseInt(a.fontSize)-e.scrollTop,left:g+d+u.offsetLeft+parseInt(a.borderLeftWidth)},$=window.innerWidth,C=window.innerHeight,E=this.getMenuDimensions(),S=this.isMenuOffScreen(k,E);S.right&&(k.right=$-k.left,k.left="auto");let T=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(S.bottom){let M=this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect(),R=T-(C-M.top);k.bottom=R+(C-c.top-u.offsetTop),k.top="auto"}return S=this.isMenuOffScreen(k,E),S.left&&(k.left=$>E.width?d+$-E.width:d,delete k.right),S.top&&(k.top=C>E.height?m+C-E.height:m,delete k.bottom),this.getDocument().body.removeChild(l),k}getContentEditableCaretPosition(e){let t,n=this.getWindowSelection();t=this.getDocument().createRange(),t.setStart(n.anchorNode,e),t.setEnd(n.anchorNode,e),t.collapse(!1);let r=t.getBoundingClientRect(),s=document.documentElement,l=(window.pageXOffset||s.scrollLeft)-(s.clientLeft||0),o=(window.pageYOffset||s.scrollTop)-(s.clientTop||0),a=r.left,u=r.top,c={left:a+l,top:u+r.height+o},f=window.innerWidth,d=window.innerHeight,m=this.getMenuDimensions(),p=this.isMenuOffScreen(c,m);p.right&&(c.left="auto",c.right=f-r.left-l);let g=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(p.bottom){let k=this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect(),$=g-(d-k.top);c.top="auto",c.bottom=$+(d-r.top)}return p=this.isMenuOffScreen(c,m),p.left&&(c.left=f>m.width?l+f-m.width:l,delete c.right),p.top&&(c.top=d>m.height?o+d-m.height:o,delete c.bottom),this.menuContainerIsBody||(c.left=c.left?c.left-this.tribute.menuContainer.offsetLeft:c.left,c.top=c.top?c.top-this.tribute.menuContainer.offsetTop:c.top),c}scrollIntoView(e){let t=20,n,r=100,s=this.menu;if(typeof s>"u")return;for(;n===void 0||n.height===0;)if(n=s.getBoundingClientRect(),n.height===0&&(s=s.childNodes[0],s===void 0||!s.getBoundingClientRect))return;let l=n.top,o=l+n.height;if(l<0)window.scrollTo(0,window.pageYOffset+n.top-t);else if(o>window.innerHeight){let a=window.pageYOffset+n.top-t;a-window.pageYOffset>r&&(a=window.pageYOffset+r);let u=window.pageYOffset-(window.innerHeight-o);u>a&&(u=a),window.scrollTo(0,u)}}}class bYe{constructor(e){this.tribute=e,this.tribute.search=this}simpleFilter(e,t){return t.filter(n=>this.test(e,n))}test(e,t){return this.match(e,t)!==null}match(e,t,n){n=n||{},t.length;let r=n.pre||"",s=n.post||"",l=n.caseSensitive&&t||t.toLowerCase();if(n.skip)return{rendered:t,score:0};e=n.caseSensitive&&e||e.toLowerCase();let o=this.traverse(l,e,0,0,[]);return o?{rendered:this.render(t,o.cache,r,s),score:o.score}:null}traverse(e,t,n,r,s){if(t.length===r)return{score:this.calculateScore(s),cache:s.slice()};if(e.length===n||t.length-r>e.length-n)return;let l=t[r],o=e.indexOf(l,n),a,u;for(;o>-1;){if(s.push(o),u=this.traverse(e,t,o+1,r+1,s),s.pop(),!u)return a;(!a||a.score<u.score)&&(a=u),o=e.indexOf(l,o+1)}return a}calculateScore(e){let t=0,n=1;return e.forEach((r,s)=>{s>0&&(e[s-1]+1===r?n+=n+1:n=1),t+=n}),t}render(e,t,n,r){var s=e.substring(0,t[0]);return t.forEach((l,o)=>{s+=n+e[l]+r+e.substring(l+1,t[o+1]?t[o+1]:e.length)}),s}filter(e,t,n){return n=n||{},t.reduce((r,s,l,o)=>{let a=s;n.extract&&(a=n.extract(s),a||(a=""));let u=this.match(e,a,n);return u!=null&&(r[r.length]={string:u.rendered,score:u.score,index:l,original:s}),r},[]).sort((r,s)=>{let l=s.score-r.score;return l||r.index-s.index})}}class Gc{constructor({values:e=null,iframe:t=null,selectClass:n="highlight",containerClass:r="tribute-container",itemClass:s="",trigger:l="@",autocompleteMode:o=!1,selectTemplate:a=null,menuItemTemplate:u=null,lookup:c="key",fillAttr:f="value",collection:d=null,menuContainer:m=null,noMatchTemplate:p=null,requireLeadingSpace:g=!0,allowSpaces:k=!1,replaceTextSuffix:$=null,positionMenu:C=!0,spaceSelectsMatch:E=!1,searchOpts:S={},menuItemLimit:T=null,menuShowMinLength:M=0}){if(this.autocompleteMode=o,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=m,this.allowSpaces=k,this.replaceTextSuffix=$,this.positionMenu=C,this.hasTrailingSpace=!1,this.spaceSelectsMatch=E,this.autocompleteMode&&(l="",k=!1),e)this.collection=[{trigger:l,iframe:t,selectClass:n,containerClass:r,itemClass:s,selectTemplate:(a||Gc.defaultSelectTemplate).bind(this),menuItemTemplate:(u||Gc.defaultMenuItemTemplate).bind(this),noMatchTemplate:(R=>typeof R=="string"?R.trim()===""?null:R:typeof R=="function"?R.bind(this):p||function(){return"<li>No Match Found!</li>"}.bind(this))(p),lookup:c,fillAttr:f,values:e,requireLeadingSpace:g,searchOpts:S,menuItemLimit:T,menuShowMinLength:M}];else if(d)this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=d.map(R=>({trigger:R.trigger||l,iframe:R.iframe||t,selectClass:R.selectClass||n,containerClass:R.containerClass||r,itemClass:R.itemClass||s,selectTemplate:(R.selectTemplate||Gc.defaultSelectTemplate).bind(this),menuItemTemplate:(R.menuItemTemplate||Gc.defaultMenuItemTemplate).bind(this),noMatchTemplate:(Y=>typeof Y=="string"?Y.trim()===""?null:Y:typeof Y=="function"?Y.bind(this):p||function(){return"<li>No Match Found!</li>"}.bind(this))(p),lookup:R.lookup||c,fillAttr:R.fillAttr||f,values:R.values,requireLeadingSpace:R.requireLeadingSpace,searchOpts:R.searchOpts||S,menuItemLimit:R.menuItemLimit||T,menuShowMinLength:R.menuShowMinLength||M}));else throw new Error("[Tribute] No collection specified.");new vYe(this),new j1(this),new gYe(this),new bYe(this)}get isActive(){return this._isActive}set isActive(e){if(this._isActive!=e&&(this._isActive=e,this.current.element)){let t=new CustomEvent(`tribute-active-${e}`);this.current.element.dispatchEvent(t)}}static defaultSelectTemplate(e){return typeof e>"u"?`${this.current.collection.trigger}${this.current.mentionText}`:this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+e.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+e.original[this.current.collection.fillAttr]}static defaultMenuItemTemplate(e){return e.string}static inputTypes(){return["TEXTAREA","INPUT"]}triggers(){return this.collection.map(e=>e.trigger)}attach(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array){let n=e.length;for(var t=0;t<n;++t)this._attach(e[t])}else this._attach(e)}_attach(e){e.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+e.nodeName),this.ensureEditable(e),this.events.bind(e),e.setAttribute("data-tribute",!0)}ensureEditable(e){if(Gc.inputTypes().indexOf(e.nodeName)===-1)if(e.contentEditable)e.contentEditable=!0;else throw new Error("[Tribute] Cannot bind to "+e.nodeName)}createMenu(e){let t=this.range.getDocument().createElement("div"),n=this.range.getDocument().createElement("ul");return t.className=e,t.appendChild(n),this.menuContainer?this.menuContainer.appendChild(t):this.range.getDocument().body.appendChild(t)}showMenuFor(e,t){if(this.isActive&&this.current.element===e&&this.current.mentionText===this.currentMentionTextSnapshot)return;this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),e.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");const n=r=>{if(!this.isActive)return;let s=this.search.filter(this.current.mentionText,r,{pre:this.current.collection.searchOpts.pre||"<span>",post:this.current.collection.searchOpts.post||"</span>",skip:this.current.collection.searchOpts.skip,extract:a=>{if(typeof this.current.collection.lookup=="string")return a[this.current.collection.lookup];if(typeof this.current.collection.lookup=="function")return this.current.collection.lookup(a,this.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});this.current.collection.menuItemLimit&&(s=s.slice(0,this.current.collection.menuItemLimit)),this.current.filteredItems=s;let l=this.menu.querySelector("ul");if(this.range.positionMenuAtCaret(t),!s.length){let a=new CustomEvent("tribute-no-match",{detail:this.menu});this.current.element.dispatchEvent(a),typeof this.current.collection.noMatchTemplate=="function"&&!this.current.collection.noMatchTemplate()||!this.current.collection.noMatchTemplate?this.hideMenu():typeof this.current.collection.noMatchTemplate=="function"?l.innerHTML=this.current.collection.noMatchTemplate():l.innerHTML=this.current.collection.noMatchTemplate;return}l.innerHTML="";let o=this.range.getDocument().createDocumentFragment();s.forEach((a,u)=>{let c=this.range.getDocument().createElement("li");c.setAttribute("data-index",u),c.className=this.current.collection.itemClass,c.addEventListener("mousemove",f=>{let[d,m]=this._findLiTarget(f.target);f.movementY!==0&&this.events.setActiveLi(m)}),this.menuSelected===u&&c.classList.add(this.current.collection.selectClass),c.innerHTML=this.current.collection.menuItemTemplate(a),o.appendChild(c)}),l.appendChild(o)};typeof this.current.collection.values=="function"?this.current.collection.values(this.current.mentionText,n):n(this.current.collection.values)}_findLiTarget(e){if(!e)return[];const t=e.getAttribute("data-index");return t?[e,t]:this._findLiTarget(e.parentNode)}showMenuForCollection(e,t){e!==document.activeElement&&this.placeCaretAtEnd(e),this.current.collection=this.collection[t||0],this.current.externalTrigger=!0,this.current.element=e,e.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(e,this.current.collection.trigger),this.showMenuFor(e)}placeCaretAtEnd(e){if(e.focus(),typeof window.getSelection<"u"&&typeof document.createRange<"u"){var t=document.createRange();t.selectNodeContents(e),t.collapse(!1);var n=window.getSelection();n.removeAllRanges(),n.addRange(t)}else if(typeof document.body.createTextRange<"u"){var r=document.body.createTextRange();r.moveToElementText(e),r.collapse(!1),r.select()}}insertTextAtCursor(e){var t,n;t=window.getSelection(),n=t.getRangeAt(0),n.deleteContents();var r=document.createTextNode(e);n.insertNode(r),n.selectNodeContents(r),n.collapse(!1),t.removeAllRanges(),t.addRange(n)}insertAtCaret(e,t){var n=e.scrollTop,r=e.selectionStart,s=e.value.substring(0,r),l=e.value.substring(e.selectionEnd,e.value.length);e.value=s+t+l,r=r+t.length,e.selectionStart=r,e.selectionEnd=r,e.focus(),e.scrollTop=n}hideMenu(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}selectItemAtIndex(e,t){if(e=parseInt(e),typeof e!="number"||isNaN(e))return;let n=this.current.filteredItems[e],r=this.current.collection.selectTemplate(n);r!==null&&this.replaceText(r,t,n)}replaceText(e,t,n){this.range.replaceTriggerText(e,!0,!0,t,n)}_append(e,t,n){if(typeof e.values=="function")throw new Error("Unable to append to values, as it is a function.");n?e.values=t:e.values=e.values.concat(t)}append(e,t,n){let r=parseInt(e);if(typeof r!="number")throw new Error("please provide an index for the collection to update.");let s=this.collection[r];this._append(s,t,n)}appendCurrent(e,t){if(this.isActive)this._append(this.current.collection,e,t);else throw new Error("No active state. Please use append instead and pass an index.")}detach(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array){let n=e.length;for(var t=0;t<n;++t)this._detach(e[t])}else this._detach(e)}_detach(e){this.events.unbind(e),e.tributeMenu&&this.menuEvents.unbind(e.tributeMenu),setTimeout(()=>{e.removeAttribute("data-tribute"),this.isActive=!1,e.tributeMenu&&e.tributeMenu.remove()})}}var Uc,Tg,Gm=typeof Map=="function"?new Map:(Uc=[],Tg=[],{has:function(i){return Uc.indexOf(i)>-1},get:function(i){return Tg[Uc.indexOf(i)]},set:function(i,e){Uc.indexOf(i)===-1&&(Uc.push(i),Tg.push(e))},delete:function(i){var e=Uc.indexOf(i);e>-1&&(Uc.splice(e,1),Tg.splice(e,1))}}),iq=function(i){return new Event(i,{bubbles:!0})};try{new Event("test")}catch{iq=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function kYe(i){var e=Gm.get(i);e&&e.destroy()}function yYe(i){var e=Gm.get(i);e&&e.update()}var Mm=null;typeof window>"u"||typeof window.getComputedStyle!="function"?((Mm=function(i){return i}).destroy=function(i){return i},Mm.update=function(i){return i}):((Mm=function(i,e){return i&&Array.prototype.forEach.call(i.length?i:[i],function(t){return function(n){if(n&&n.nodeName&&n.nodeName==="TEXTAREA"&&!Gm.has(n)){var r,s=null,l=null,o=null,a=function(){n.clientWidth!==l&&d()},u=function(m){window.removeEventListener("resize",a,!1),n.removeEventListener("input",d,!1),n.removeEventListener("keyup",d,!1),n.removeEventListener("autosize:destroy",u,!1),n.removeEventListener("autosize:update",d,!1),Object.keys(m).forEach(function(p){n.style[p]=m[p]}),Gm.delete(n)}.bind(n,{height:n.style.height,resize:n.style.resize,overflowY:n.style.overflowY,overflowX:n.style.overflowX,wordWrap:n.style.wordWrap});n.addEventListener("autosize:destroy",u,!1),"onpropertychange"in n&&"oninput"in n&&n.addEventListener("keyup",d,!1),window.addEventListener("resize",a,!1),n.addEventListener("input",d,!1),n.addEventListener("autosize:update",d,!1),n.style.overflowX="hidden",n.style.wordWrap="break-word",Gm.set(n,{destroy:u,update:d}),(r=window.getComputedStyle(n,null)).resize==="vertical"?n.style.resize="none":r.resize==="both"&&(n.style.resize="horizontal"),s=r.boxSizing==="content-box"?-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)):parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),isNaN(s)&&(s=0),d()}function c(m){var p=n.style.width;n.style.width="0px",n.style.width=p,n.style.overflowY=m}function f(){if(n.scrollHeight!==0){var m=function(p){for(var g=[];p&&p.parentNode&&p.parentNode instanceof Element;)p.parentNode.scrollTop&&(p.parentNode.style.scrollBehavior="auto",g.push([p.parentNode,p.parentNode.scrollTop])),p=p.parentNode;return function(){return g.forEach(function(k){var $=k[0];$.scrollTop=k[1],$.style.scrollBehavior=null})}}(n);n.style.height="",n.style.height=n.scrollHeight+s+"px",l=n.clientWidth,m()}}function d(){f();var m=Math.round(parseFloat(n.style.height)),p=window.getComputedStyle(n,null),g=p.boxSizing==="content-box"?Math.round(parseFloat(p.height)):n.offsetHeight;if(g<m?p.overflowY==="hidden"&&(c("scroll"),f(),g=p.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight):p.overflowY!=="hidden"&&(c("hidden"),f(),g=p.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(n,null).height)):n.offsetHeight),o!==g){o=g;var k=iq("autosize:resized");try{n.dispatchEvent(k)}catch{}}}}(t)}),i}).destroy=function(i){return i&&Array.prototype.forEach.call(i.length?i:[i],kYe),i},Mm.update=function(i){return i&&Array.prototype.forEach.call(i.length?i:[i],yYe),i});var KT=Mm;const wYe=i=>(KT(i),{destroy(){KT.destroy(i)}});function $Ye(i){let e,t,n,r,s=[i[3],{class:t=`${i[3].class}`}],l={};for(let o=0;o<s.length;o+=1)l=St(l,s[o]);return{c(){e=P("textarea"),Bt(e,l)},m(o,a){w(o,e,a),e.autofocus&&e.focus(),i[6](e),Kn(e,i[0]),n||(r=[Wt(wYe.call(null,e)),Se(e,"input",i[7]),Se(e,"input",i[8]),Se(e,"focus",i[9]),Se(e,"keydown",i[10]),Se(e,"blur",i[11])],n=!0)},p(o,[a]){Bt(e,l=Zt(s,[a&8&&o[3],a&8&&t!==(t=`${o[3].class}`)&&{class:t}])),a&1&&Kn(e,o[0])},i:Z,o:Z,d(o){o&&y(e),i[6](null),n=!1,Ot(r)}}}function FYe(i,e,t){const n=["value","tributeConfig","setSelectionRange"];let r=mi(e,n),{value:s}=e,{tributeConfig:l=void 0}=e;const o=Ut(),a=(C,E)=>{c.setSelectionRange(C,E),c.focus()};let u,c;const f=C=>{let E=C.detail;E.cursor={start:c.selectionStart,end:c.selectionEnd},o("inserted",C.detail)};Yt(async()=>{l&&(u=new Gc(l),u.attach(c),c.addEventListener("tribute-replaced",f))}),Ns(()=>{c.removeEventListener("tribute-replaced",f)});function d(C){Oe[C?"unshift":"push"](()=>{c=C,t(1,c)})}function m(){s=this.value,t(0,s)}const p=C=>{o("input",C)},g=C=>{o("focus",C)},k=C=>{o("keydown",C)},$=C=>{o("blur",C)};return i.$$set=C=>{e=St(St({},e),Qi(C)),t(3,r=mi(e,n)),"value"in C&&t(0,s=C.value),"tributeConfig"in C&&t(4,l=C.tributeConfig)},[s,c,o,r,l,a,d,m,p,g,k,$]}class rq extends pe{constructor(e){super(),me(this,e,FYe,$Ye,he,{value:0,tributeConfig:4,setSelectionRange:5})}get setSelectionRange(){return this.$$.ctx[5]}}function EYe(i){let e,t,n;const r=[{"aria-label":"Note entry field"},{id:i[1]},{tributeConfig:{menuShowMinLength:1,autocompleteMode:!1,menuItemLimit:3,noMatchTemplate:null,collection:[{trigger:"#",noMatchTemplate:null,values:i[4].map(JT)},{trigger:"@",noMatchTemplate:null,values:i[5].map(QT)},{trigger:"+",values:i[6].map(eA)}]}},{class:i[8].class||""},{placeholder:i[8].placeholder||""},i[8]];function s(o){i[9](o)}let l={};for(let o=0;o<r.length;o+=1)l=St(l,r[o]);return i[0]!==void 0&&(l.value=i[0]),e=new rq({props:l}),Oe.push(()=>Qe(e,"value",s,i[0])),i[10](e),e.$on("inserted",i[11]),e.$on("input",i[12]),e.$on("keydown",i[13]),e.$on("focus",i[14]),e.$on("blur",i[15]),e.$on("paste",i[16]),{c(){B(e.$$.fragment)},m(o,a){O(e,o,a),n=!0},p(o,[a]){const u=a&370?Zt(r,[r[0],a&2&&{id:o[1]},a&112&&{tributeConfig:{menuShowMinLength:1,autocompleteMode:!1,menuItemLimit:3,noMatchTemplate:null,collection:[{trigger:"#",noMatchTemplate:null,values:o[4].map(JT)},{trigger:"@",noMatchTemplate:null,values:o[5].map(QT)},{trigger:"+",values:o[6].map(eA)}]}},a&256&&{class:o[8].class||""},a&256&&{placeholder:o[8].placeholder||""},a&256&&Qr(o[8])]):{};!t&&a&1&&(t=!0,u.value=o[0],tt(()=>t=!1)),e.$set(u)},i(o){n||(_(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){i[10](null),I(e,o)}}}const JT=i=>{var e;return{key:i.tag,value:(e=i.tag)==null?void 0:e.replace("#","")}},QT=i=>{var e;return{key:i.tag,value:(e=i.tag)==null?void 0:e.replace("@","")}},eA=i=>{var e;return{key:i.tag,value:(e=i.tag)==null?void 0:e.replace("+","")}};function CYe(i,e,t){const n=["value","id"];let r=mi(e,n),s,l,o,a;Le(i,en,T=>t(3,s=T)),Le(i,y0e,T=>t(4,l=T)),Le(i,w0e,T=>t(5,o=T)),Le(i,$0e,T=>t(6,a=T));let u,{value:c}=e,{id:f}=e;const d=Ut();function m(T){c=T,t(0,c)}function p(T){Oe[T?"unshift":"push"](()=>{u=T,t(2,u)})}const g=async T=>{const M=T.detail.item.original.key,R=sc(M)[0],Y=rr(R,s.trackables),z=T.detail.cursor.end-1-M.length;if(Y.type=="tracker"){const j=await hc({trackables:s.trackables,tracker:Y.tracker,expandNote:!0});if(j){let V=Zae(c,M,j.raw,z),x=T.detail.cursor.end+(j.raw.length-M.length);t(0,c=`${V} `),await Lt(20),u.setSelectionRange(x,x),d("input",T.detail)}}},k=T=>d("input",T.detail),$=T=>d("keydown",T.detail),C=T=>d("focus",T.detail),E=T=>d("blur",T.detail),S=T=>d("paste",T.detail);return i.$$set=T=>{e=St(St({},e),Qi(T)),t(8,r=mi(e,n)),"value"in T&&t(0,c=T.value),"id"in T&&t(1,f=T.id)},[c,f,u,s,l,o,a,d,r,m,p,g,k,$,C,E,S]}class sq extends pe{constructor(e){super(),me(this,e,CYe,EYe,he,{value:0,id:1})}}function DYe(i){let e,t,n,r,s,l,o,a;return{c(){e=ye("svg"),t=ye("title"),n=K("Magnet"),r=ye("path"),s=ye("path"),l=ye("path"),h(r,"d","M421.83 293.82A144 144 0 00218.18 90.17M353.94 225.94a48 48 0 00-67.88-67.88"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(s,"d","M192 464v-48M90.18 421.82l33.94-33.94M48 320h48"),h(l,"d","M286.06 158.06L172.92 271.19a32 32 0 01-45.25 0L105 248.57a32 32 0 010-45.26L218.18 90.17M421.83 293.82L308.69 407a32 32 0 01-45.26 0l-22.62-22.63a32 32 0 010-45.26l113.13-113.17M139.6 169.98l67.88 67.89M275.36 305.75l67.89 67.88"),h(l,"fill","none"),h(l,"stroke","currentColor"),h(l,"stroke-linejoin","round"),h(l,"stroke-width","32"),h(e,"height",o=i[0]+"px"),h(e,"width",a=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(u,c){w(u,e,c),D(e,t),D(t,n),D(e,r),D(e,s),D(e,l)},p(u,[c]){c&1&&o!==(o=u[0]+"px")&&h(e,"height",o),c&1&&a!==(a=u[0]+"px")&&h(e,"width",a)},i:Z,o:Z,d(u){u&&y(e)}}}function SYe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Nk extends pe{constructor(e){super(),me(this,e,SYe,DYe,he,{size:0})}}function tA(i){var $;let e,t,n,r,s,l,o,a,u,c;function f(C,E){var S;return(S=C[0].log)!=null&&S.lat?AYe:TYe}let d=f(i),m=d(i),p=(($=i[0].log)==null?void 0:$.lat)&&nA(i);function g(C){i[12](C)}let k={autofocus:!0,id:"editor",placeholder:"What's up?",class:"p-4 pt-2 w-full focus:outline-none dark:text-gray-200 placeholder-gray-500 focus:ring ring-inset ring-primary-500 ring-opacity-20 bg-transparent",style:"min-height:300px;"};return i[0].log.note!==void 0&&(k.value=i[0].log.note),l=new sq({props:k}),Oe.push(()=>Qe(l,"value",g,i[0].log.note)),{c(){e=P("div"),t=P("button"),m.c(),n=W(),p&&p.c(),r=W(),s=P("div"),B(l.$$.fragment),h(t,"class","control"),h(e,"class","w-full flex items-center px-4 py-3 space-x-2 text-sm justify-center"),h(s,"class","filler h-full")},m(C,E){w(C,e,E),D(e,t),m.m(t,null),D(e,n),p&&p.m(e,null),w(C,r,E),w(C,s,E),O(l,s,null),a=!0,u||(c=Se(t,"click",i[10]),u=!0)},p(C,E){var T;d===(d=f(C))&&m?m.p(C,E):(m.d(1),m=d(C),m&&(m.c(),m.m(t,null))),(T=C[0].log)!=null&&T.lat?p?(p.p(C,E),E&1&&_(p,1)):(p=nA(C),p.c(),_(p,1),p.m(e,null)):p&&(ae(),v(p,1,1,()=>{p=null}),ue());const S={};!o&&E&1&&(o=!0,S.value=C[0].log.note,tt(()=>o=!1)),l.$set(S)},i(C){a||(_(p),_(l.$$.fragment,C),a=!0)},o(C){v(p),v(l.$$.fragment,C),a=!1},d(C){C&&y(e),m.d(),p&&p.d(),C&&y(r),C&&y(s),I(l),u=!1,c()}}}function TYe(i){let e;return{c(){e=P("span"),e.textContent=`${Fe.t("general.no-location","No Location Set")}`,h(e,"class","text-gray-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function AYe(i){let e,t=(i[0].log.location||`${Nt.round(i[0].log.lat,100)},${Nt.round(i[0].log.lng,100)}`)+"",n;return{c(){e=P("span"),n=K(t),h(e,"class","text-green-500")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=(r[0].log.location||`${Nt.round(r[0].log.lat,100)},${Nt.round(r[0].log.lng,100)}`)+"")&&de(n,t)},d(r){r&&y(e)}}}function nA(i){let e,t,n,r,s;return t=new et({props:{icon:ua,size:16,className:"text-red-500"}}),{c(){e=P("button"),B(t.$$.fragment),h(e,"class","flex items-center px-1 rounded-md")},m(l,o){w(l,e,o),O(t,e,null),n=!0,r||(s=Se(e,"click",i[11]),r=!0)},p:Z,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),I(t),r=!1,s()}}}function PYe(i){let e,t,n=i[0].log&&tA(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[0].log?n?(n.p(r,s),s&1&&_(n,1)):(n=tA(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function NYe(i){let e,t=i[0].log.note+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","line-clamp-1 text-sm w-full min-w-0 text-black dark:text-white")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].log.note+"")&&de(n,t)},d(r){r&&y(e)}}}function MYe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function LYe(i){let e,t;return e=new He({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[MYe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&32768&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function OYe(i){let e=Fe.t("general.save","Save")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function IYe(i){let e,t;return e=new He({props:{clear:!0,primary:!0,slot:"right",$$slots:{default:[OYe]},$$scope:{ctx:i}}}),e.$on("click",i[1].save),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&32768&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function BYe(i){let e,t;return e=new Wce({props:{size:"sm",time:i[0].log.end,date:i[0].log.end}}),e.$on("change",i[9]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.time=n[0].log.end),r&1&&(s.date=n[0].log.end),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function RYe(i){let e,t,n=qu(i[0].log.score).emoji+"",r;return{c(){e=P("div"),t=P("div"),r=K(n),h(t,"class","value w-10"),h(e,"title","Select Score for this note"),h(e,"class","w-full text-center"),gt(e,"width","100%")},m(s,l){w(s,e,l),D(e,t),D(t,r)},p(s,l){l&1&&n!==(n=qu(s[0].log.score).emoji+"")&&de(r,n)},d(s){s&&y(e)}}}function zYe(i){let e,t;return e=new $h({props:{slot:"left",id:"log-editor-options",x:"left",title:"Select Score for this note",buttonClass:"text-lg ",menuButtons:[...z1(i[0].log.score,i[8])],$$slots:{default:[RYe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.menuButtons=[...z1(n[0].log.score,n[8])]),r&32769&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function jYe(i){let e,t;return e=new et({props:{icon:Nk,className:"text-primary opacity-80"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function YYe(i){let e,t;return e=new et({props:{icon:sce,className:"text-green-500 dark:text-green-400"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function UYe(i){let e,t,n,r;const s=[YYe,jYe],l=[];function o(a,u){return a[0].log.pinned?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function WYe(i){let e,t;return e=new He({props:{title:"Pin/Unpin Entry to top of Day",slot:"right",clear:!0,icon:!0,$$slots:{default:[UYe]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&32769&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qYe(i){let e,t,n,r,s;return t=new Sn({props:{$$slots:{right:[IYe],left:[LYe],default:[NYe]},$$scope:{ctx:i}}}),r=new Sn({props:{$$slots:{right:[WYe],left:[zYe],default:[BYe]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"slot","header"),h(e,"class","shadow-md z-40 relative")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),O(r,e,null),s=!0},p(l,o){const a={};o&32769&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&32769&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),I(t),I(r)}}}function HYe(i){let e,t;return e=new ti({props:{mainClass:"bg-white dark:bg-black filler",className:"h-full bg-white dark:bg-gray-800",$$slots:{header:[qYe],default:[PYe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&32769&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function VYe(i,e,t){let n;Le(i,Ht,C=>t(13,n=C));let{log:r}=e,{id:s}=e,l,o={saving:!1,mapReady:!1,log:r};const a={async init(){let C=n.alwaysLocate;if(r&&(t(0,o.log=new gn(r),o),t(0,o.log.note=`${o.log.note} `,o),o.log.lat&&n.alwaysLocate&&(C=!1)),C){const E=await wh();if(E.latitude){t(0,o.log.lat=E.latitude,o),t(0,o.log.lng=E.longitude,o);let S=await dj({lat:E.latitude,lng:E.longitude});S&&S.name&&t(0,o.log.location=S.name,o)}}t(0,o.mapReady=!0,o)},getLocations(){let C=[];return o.log.lat&&C.push({lat:o.log.lat,lng:o.log.lng,name:o.log.location}),C},async save(){try{t(0,o.saving=!0,o),await dn.updateLog(o.log,r.end),Oi.clear(),qn({message:`Saved: ${o.log.note.substring(0,100)}`}),f()}catch(C){at.error(C.message)}}};async function u(){let C=await at.pickLocation();if(C){let E=C;t(0,o.log.lat=E.lat,o),t(0,o.log.lng=E.lng,o),t(0,o.log.location=E.name,o)}}const c=async()=>{t(0,o.log.lat=void 0,o),t(0,o.log.lng=void 0,o),t(0,o.log.location=void 0,o)},f=()=>{tn(s)};Yt(async()=>{a.init(),iu("journal-editor"),await Lt(200),l==null||l.focus()});const d=()=>{t(0,o.log.pinned=!o.log.pinned,o)},m=C=>{t(0,o.log.score=C.score,o)},p=C=>{t(0,o.log.end=C.detail,o)},g=()=>{u()},k=()=>c();function $(C){i.$$.not_equal(o.log.note,C)&&(o.log.note=C,t(0,o))}return i.$$set=C=>{"log"in C&&t(5,r=C.log),"id"in C&&t(6,s=C.id)},[o,a,u,c,f,r,s,d,m,p,g,k,$]}class xYe extends pe{constructor(e){super(),me(this,e,VYe,HYe,he,{log:5,id:6})}}const Rf=i=>{iu("open_log_editor"),On({id:`log-editor-${di(i)}`,position:"fullscreen",component:xYe,componentProps:{log:i}})},GYe=()=>{let i={};i.end=null,i.start=null;const{subscribe:e,set:t,update:n}=rn(i),r=new CR,s={clear:Ey(()=>{lq(),n(l=>(l={},l.start=null,l.end=null,l))},500),hook(l,o){r.hook(l,o)},journal(l){l=l instanceof gn?l:new gn(l||{}),Rf(l)},updateNote(l){n(o=>(o.note=`${l.trim()} `,r.run("onUpdate",o),o))},asLog(){let l;return n(o=>(l=new gn(o),o)),l},calculateScore(l,o){return Cf(l,new Date,o)},removeStr(l){n(o=>(o.note=o.note.split(" ").filter(a=>a!==l).join(" "),o))},addElement(l){n(o=>{let a=(o.note||"").trim().split(" ");return a.push(l.trim()),o.note=a.join(" ").trim()+" ",r.run("onAddElement",l),o})},addTag(l,o){n(a=>(isNaN(parseFloat(o))?a.note=`${a.note} #${l} `:a.note=`${a.note} #${l}(${o}) `,r.run("onAddTag",{tag:l,value:o}),a))},focus(){const l=document.getElementById("textarea-capture-note");l&&l.focus()}};return{subscribe:e,update:n,set:t,...s}},Oi=GYe(),ZYe=i=>{Oi.update(e=>(e.end=new Date(i),e))},lq=()=>{document.querySelectorAll(".item-grid .shortcut-button").forEach(e=>{e.classList.remove("in-note")})};Te.extend(ay);const rs={padTime(i){return(i+"").length===1?(i+"").padStart(2,"0"):i},secondsToTime(i){i=i||0;let e=i,t=Math.floor(parseInt(`${e}`)/60).toString(),n;return parseInt(t)>59&&(n=this.padTime(Math.floor(parseInt(t)/60).toString()),t=this.padTime((parseInt(t)-parseInt(n)*60).toString())),e=this.padTime(Math.floor(parseInt(`${e}`)%60).toString()),t=this.padTime(t),n?(n=parseInt(`${n}`),`${n}:${t}:${e}`):`00:${t}:${e}`},dateToDesc(i){let e=Te(i),t=parseInt(e.format("H"));return t>=6&&t<12?"morning":t>=12&&t<18?"afternoon":t>=18&&t<20?"evening":"night"},fromNow(i){let e=Te(i).fromNow(),t=e;return e=="a few seconds ago"?t="now":t=t.replace("minutes","min").replace("seconds","sec").replace("months","mon").replace("hours","hrs"),t},datetimeLocal(i){let e=i.split("T"),t=e[0],n=e[1];return Te(t,"YYYY-MM-DD").set("hour",n.split(":")[0]).set("minute",n.split(":")[1]).toDate()},msToSecond(i){return i/1e3},timestringToSeconds(i){let e=i.split(":");return this.unitsToSeconds(e[0],e[1],e[2])},unitsToSeconds(i,e,t){let n=0;return n=(parseInt(i)||0)*60*60,n=n+(parseInt(e)||0)*60,n=n+(parseInt(t)||0),n},getNumberedArray(i){i++;let e=[];for(var t=0;t<i;t++)e.push((t+"").toString().length==1?`0${t}`:`${t}`);return e}};function iA(i,e,t){const n=i.slice();return n[9]=e[t],n}function rA(i,e,t){const n=i.slice();return n[9]=e[t],n}function sA(i,e,t){const n=i.slice();return n[9]=e[t],n}function lA(i,e){let t,n=e[9]+"",r;return{key:i,first:null,c(){t=P("option"),r=K(n),t.__value=e[9],t.value=t.__value,this.first=t},m(s,l){w(s,t,l),D(t,r)},p(s,l){e=s},d(s){s&&y(t)}}}function oA(i,e){let t,n=e[9]+"",r;return{key:i,first:null,c(){t=P("option"),r=K(n),t.__value=e[9],t.value=t.__value,this.first=t},m(s,l){w(s,t,l),D(t,r)},p(s,l){e=s},d(s){s&&y(t)}}}function aA(i,e){let t,n=e[9]+"",r;return{key:i,first:null,c(){t=P("option"),r=K(n),t.__value=e[9],t.value=t.__value,this.first=t},m(s,l){w(s,t,l),D(t,r)},p(s,l){e=s},d(s){s&&y(t)}}}function XYe(i){let e,t,n,r=[],s=new Map,l,o,a,u,c,f=[],d=new Map,m,p,g,k,$,C=[],E=new Map,S,T,M,R,Y,z=rs.getNumberedArray(300);const j=q=>q[9];for(let q=0;q<z.length;q+=1){let le=sA(i,z,q),G=j(le);s.set(G,r[q]=lA(G,le))}let V=rs.getNumberedArray(59);const x=q=>q[9];for(let q=0;q<V.length;q+=1){let le=rA(i,V,q),G=x(le);d.set(G,f[q]=oA(G,le))}let ee=rs.getNumberedArray(59);const J=q=>q[9];for(let q=0;q<ee.length;q+=1){let le=iA(i,ee,q),G=J(le);E.set(G,C[q]=aA(G,le))}return{c(){e=P("div"),t=P("div"),n=P("select");for(let q=0;q<r.length;q+=1)r[q].c();l=W(),o=P("label"),o.textContent="Hour",a=W(),u=P("div"),c=P("select");for(let q=0;q<f.length;q+=1)f[q].c();m=W(),p=P("label"),p.textContent="Min",g=W(),k=P("div"),$=P("select");for(let q=0;q<C.length;q+=1)C[q].c();S=W(),T=P("label"),T.textContent="Sec",h(n,"name","hours"),h(n,"id","hours"),h(o,"for","hours"),h(o,"aria-controls","hours"),h(t,"class","unit hours"),h(c,"id","minutes"),h(c,"name","minutes"),h(p,"for","minutes"),h(p,"aria-controls","minutes"),h(u,"class","unit hours"),h($,"id","seconds"),h($,"name","seconds"),h(T,"for","seconds"),h(T,"aria-controls","seconds"),h(k,"class","unit seconds"),h(e,"class",M="n-counter-manual size-"+i[1]+" "+i[0])},m(q,le){w(q,e,le),D(e,t),D(t,n);for(let G=0;G<r.length;G+=1)r[G].m(n,null);ei(n,i[2].getUnitValue("hours")),D(t,l),D(t,o),D(e,a),D(e,u),D(u,c);for(let G=0;G<f.length;G+=1)f[G].m(c,null);ei(c,i[2].getUnitValue("minutes")),D(u,m),D(u,p),D(e,g),D(e,k),D(k,$);for(let G=0;G<C.length;G+=1)C[G].m($,null);ei($,i[2].getUnitValue("seconds")),D(k,S),D(k,T),R||(Y=[Se(n,"change",i[4]),Se(c,"change",i[5]),Se($,"change",i[6])],R=!0)},p(q,[le]){le&0&&(z=rs.getNumberedArray(300),r=Pi(r,le,j,1,q,z,s,n,ef,lA,null,sA)),le&0&&(V=rs.getNumberedArray(59),f=Pi(f,le,x,1,q,V,d,c,ef,oA,null,rA)),le&0&&(ee=rs.getNumberedArray(59),C=Pi(C,le,J,1,q,ee,E,$,ef,aA,null,iA)),le&3&&M!==(M="n-counter-manual size-"+q[1]+" "+q[0])&&h(e,"class",M)},i:Z,o:Z,d(q){q&&y(e);for(let le=0;le<r.length;le+=1)r[le].d();for(let le=0;le<f.length;le+=1)f[le].d();for(let le=0;le<C.length;le+=1)C[le].d();R=!1,Ot(Y)}}}function KYe(i,e,t){let{className:n=""}=e,{value:r=0}=e,{size:s="default"}=e;const l=Ut(),o={add(d){switch(d){case"hours":t(3,r=r+60*60);break;case"minutes":t(3,r=r+60);break;case"seconds":t(3,r=r+1);break}l("change",r)},subtract(d){switch(d){case"hours":r>60*60&&t(3,r=r-60*60);break;case"minutes":r>60&&t(3,r=r-60);break;case"seconds":r>1&&t(3,r=r-1);break}l("change",r)},getUnitValue(d){return a[d]||"00"},setUnitValue(d,m){let p=parseInt(d.target.value),g={hours:a.hours,minutes:a.minutes,seconds:a.seconds};g[m]=rs.padTime(p),t(3,r=rs.unitsToSeconds(g.hours,g.minutes,g.seconds)),l("change",r)},timeStringToNode(d){let m=rs.secondsToTime(d).split(":");return{hours:m[0],minutes:m[1],seconds:m[2]}}};let a={...o.timeStringToNode(r),computed:{totalSeconds:0},localValue:r};const u=d=>{o.setUnitValue(d,"hours")},c=d=>{o.setUnitValue(d,"minutes")},f=d=>{o.setUnitValue(d,"seconds")};return i.$$set=d=>{"className"in d&&t(0,n=d.className),"value"in d&&t(3,r=d.value),"size"in d&&t(1,s=d.size)},i.$$.update=()=>{if(i.$$.dirty&8&&r>-1){let d=o.timeStringToNode(r);a.hours=rs.padTime(d.hours),a.minutes=rs.padTime(d.minutes),a.seconds=rs.padTime(d.seconds)}},[n,s,o,r,u,c,f]}class oq extends pe{constructor(e){super(),me(this,e,KYe,XYe,he,{className:0,value:3,size:1})}}var aq={exports:{}};(function(i,e){(function(n,r){i.exports=r()})(window,function(){return function(t){var n={};function r(s){if(n[s])return n[s].exports;var l=n[s]={i:s,l:!1,exports:{}};return t[s].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=t,r.c=n,r.d=function(s,l,o){r.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:o})},r.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},r.t=function(s,l){if(l&1&&(s=r(s)),l&8||l&4&&typeof s=="object"&&s&&s.__esModule)return s;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:s}),l&2&&typeof s!="string")for(var a in s)r.d(o,a,function(u){return s[u]}.bind(null,a));return o},r.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(l,"a",l),l},r.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},r.p="",r(r.s="./src/range-slider.js")}({"./src/range-slider.css":function(t,n,r){},"./src/range-slider.js":function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0});var s=function(){function T(M,R){for(var Y=0;Y<R.length;Y++){var z=R[Y];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(M,z.key,z)}}return function(M,R,Y){return R&&T(M.prototype,R),Y&&T(M,Y),M}}(),l=r("./src/utils/dom.js"),o=c(l),a=r("./src/utils/functions.js"),u=c(a);r("./src/range-slider.css");function c(T){if(T&&T.__esModule)return T;var M={};if(T!=null)for(var R in T)Object.prototype.hasOwnProperty.call(T,R)&&(M[R]=T[R]);return M.default=T,M}function f(T,M){if(!(T instanceof M))throw new TypeError("Cannot call a class as a function")}var d=new RegExp("/[\\n\\t]/","g"),m=100,p=300,g=50,k="rangeSlider",$=o.supportsRange(),C={polyfill:!0,root:document,rangeClass:"rangeSlider",disabledClass:"rangeSlider--disabled",fillClass:"rangeSlider__fill",bufferClass:"rangeSlider__buffer",handleClass:"rangeSlider__handle",startEvent:["mousedown","touchstart","pointerdown"],moveEvent:["mousemove","touchmove","pointermove"],endEvent:["mouseup","touchend","pointerup"],min:null,max:null,step:null,value:null,buffer:null,stick:null,borderRadius:10,vertical:!1},E=!1,S=function(){function T(M,R){f(this,T);var Y=void 0,z=void 0,j=void 0,V=void 0,x=void 0;if(T.instances.push(this),this.element=M,this.options=u.simpleExtend(C,R),this.polyfill=this.options.polyfill,this.vertical=this.options.vertical,this.onInit=this.options.onInit,this.onSlide=this.options.onSlide,this.onSlideStart=this.options.onSlideStart,this.onSlideEnd=this.options.onSlideEnd,this.onSlideEventsCount=-1,this.isInteractsNow=!1,this.needTriggerEvents=!1,this._addVerticalSlideScrollFix(),!(!this.polyfill&&$)){this.options.buffer=this.options.buffer||parseFloat(this.element.getAttribute("data-buffer")),this.identifier="js-"+k+"-"+u.uuid(),this.min=u.getFirsNumberLike(this.options.min,parseFloat(this.element.getAttribute("min")),Y=0),this.max=u.getFirsNumberLike(this.options.max,parseFloat(this.element.getAttribute("max")),z=m),this.value=u.getFirsNumberLike(this.options.value,this.element.value,parseFloat(this.element.value||this.min+(this.max-this.min)/2)),this.step=u.getFirsNumberLike(this.options.step,parseFloat(this.element.getAttribute("step"))||(j=1)),this.percent=null,u.isArray(this.options.stick)&&this.options.stick.length>=1?this.stick=this.options.stick:(V=this.element.getAttribute("stick"))&&(x=V.split(" "),x.length>=1&&(this.stick=x.map(parseFloat))),this.stick&&this.stick.length===1&&this.stick.push(this.step*1.5),this._updatePercentFromValue(),this.toFixed=this._toFixed(this.step);var ee=void 0;this.container=document.createElement("div"),o.addClass(this.container,this.options.fillClass),ee=this.vertical?this.options.fillClass+"__vertical":this.options.fillClass+"__horizontal",o.addClass(this.container,ee),this.handle=document.createElement("div"),o.addClass(this.handle,this.options.handleClass),ee=this.vertical?this.options.handleClass+"__vertical":this.options.handleClass+"__horizontal",o.addClass(this.handle,ee),this.range=document.createElement("div"),o.addClass(this.range,this.options.rangeClass),this.range.id=this.identifier;var J=M.getAttribute("title");J&&J.length>0&&this.range.setAttribute("title",J),this.options.bufferClass&&(this.buffer=document.createElement("div"),o.addClass(this.buffer,this.options.bufferClass),this.range.appendChild(this.buffer),ee=this.vertical?this.options.bufferClass+"__vertical":this.options.bufferClass+"__horizontal",o.addClass(this.buffer,ee)),this.range.appendChild(this.container),this.range.appendChild(this.handle),ee=this.vertical?this.options.rangeClass+"__vertical":this.options.rangeClass+"__horizontal",o.addClass(this.range,ee),u.isNumberLike(this.options.value)&&(this._setValue(this.options.value,!0),this.element.value=this.options.value),u.isNumberLike(this.options.buffer)&&this.element.setAttribute("data-buffer",this.options.buffer),(u.isNumberLike(this.options.min)||Y)&&this.element.setAttribute("min",""+this.min),(u.isNumberLike(this.options.max)||z)&&this.element.setAttribute("max",""+this.max),(u.isNumberLike(this.options.step)||j)&&this.element.setAttribute("step",""+this.step),o.insertAfter(this.element,this.range),o.setCss(this.element,{position:"absolute",width:"1px",height:"1px",overflow:"hidden",opacity:"0"}),this._handleDown=this._handleDown.bind(this),this._handleMove=this._handleMove.bind(this),this._handleEnd=this._handleEnd.bind(this),this._startEventListener=this._startEventListener.bind(this),this._changeEventListener=this._changeEventListener.bind(this),this._handleResize=this._handleResize.bind(this),this._init(),window.addEventListener("resize",this._handleResize,!1),o.addEventListeners(this.options.root,this.options.startEvent,this._startEventListener),this.element.addEventListener("change",this._changeEventListener,!1)}}return s(T,[{key:"update",value:function(R,Y){return Y&&(this.needTriggerEvents=!0),u.isObject(R)&&(u.isNumberLike(R.min)&&(this.element.setAttribute("min",""+R.min),this.min=R.min),u.isNumberLike(R.max)&&(this.element.setAttribute("max",""+R.max),this.max=R.max),u.isNumberLike(R.step)&&(this.element.setAttribute("step",""+R.step),this.step=R.step,this.toFixed=this._toFixed(R.step)),u.isNumberLike(R.buffer)&&this._setBufferPosition(R.buffer),u.isNumberLike(R.value)&&this._setValue(R.value)),this._update(),this.onSlideEventsCount=0,this.needTriggerEvents=!1,this}},{key:"destroy",value:function(){var R=this;o.removeAllListenersFromEl(this,this.options.root),window.removeEventListener("resize",this._handleResize,!1),this.element.removeEventListener("change",this._changeEventListener,!1),this.element.style.cssText="",delete this.element[k],this.range&&this.range.parentNode.removeChild(this.range),T.instances=T.instances.filter(function(Y){return Y!==R}),T.instances.some(function(Y){return Y.vertical})||this._removeVerticalSlideScrollFix()}},{key:"_toFixed",value:function(R){return(R+"").replace(".","").length-1}},{key:"_init",value:function(){this.onInit&&typeof this.onInit=="function"&&this.onInit(),this._update(!1)}},{key:"_updatePercentFromValue",value:function(){this.percent=(this.value-this.min)/(this.max-this.min)}},{key:"_startEventListener",value:function(R,Y){var z=this,j=R.target,V=!1;R.which!==1&&!("touches"in R)||(o.forEachAncestors(j,function(x){return V=x.id===z.identifier&&!o.hasClass(x,z.options.disabledClass)},!0),V&&this._handleDown(R,Y))}},{key:"_changeEventListener",value:function(R,Y){if(!(Y&&Y.origin===this.identifier)){var z=R.target.value,j=this._getPositionFromValue(z);this._setPosition(j)}}},{key:"_update",value:function(R){var Y=this.vertical?"offsetHeight":"offsetWidth";this.handleSize=o.getDimension(this.handle,Y),this.rangeSize=o.getDimension(this.range,Y),this.maxHandleX=this.rangeSize-this.handleSize,this.grabX=this.handleSize/2,this.position=this._getPositionFromValue(this.value),this.element.disabled?o.addClass(this.range,this.options.disabledClass):o.removeClass(this.range,this.options.disabledClass),this._setPosition(this.position),this.options.bufferClass&&this.options.buffer&&this._setBufferPosition(this.options.buffer),this._updatePercentFromValue(),R!==!1&&o.triggerEvent(this.element,"change",{origin:this.identifier})}},{key:"_addVerticalSlideScrollFix",value:function(){this.vertical&&!E&&(document.addEventListener("touchmove",T._touchMoveScrollHandler,{passive:!1}),E=!0)}},{key:"_removeVerticalSlideScrollFix",value:function(){document.removeEventListener("touchmove",T._touchMoveScrollHandler),E=!1}},{key:"_handleResize",value:function(){var R=this;return u.debounce(function(){u.delay(function(){R._update()},p)},g)()}},{key:"_handleDown",value:function(R){if(this.isInteractsNow=!0,R.preventDefault(),o.addEventListeners(this.options.root,this.options.moveEvent,this._handleMove),o.addEventListeners(this.options.root,this.options.endEvent,this._handleEnd),!((" "+R.target.className+" ").replace(d," ").indexOf(this.options.handleClass)>-1)){var Y=this.range.getBoundingClientRect(),z=this._getRelativePosition(R),j=this.vertical?Y.bottom:Y.left,V=this._getPositionFromNode(this.handle)-j,x=z-this.grabX;this._setPosition(x),z>=V&&z<V+this.options.borderRadius*2&&(this.grabX=z-V),this._updatePercentFromValue()}}},{key:"_handleMove",value:function(R){var Y=this._getRelativePosition(R);this.isInteractsNow=!0,R.preventDefault(),this._setPosition(Y-this.grabX)}},{key:"_handleEnd",value:function(R){R.preventDefault(),o.removeEventListeners(this.options.root,this.options.moveEvent,this._handleMove),o.removeEventListeners(this.options.root,this.options.endEvent,this._handleEnd),o.triggerEvent(this.element,"change",{origin:this.identifier}),(this.isInteractsNow||this.needTriggerEvents)&&(this.onSlideEnd&&typeof this.onSlideEnd=="function"&&this.onSlideEnd(this.value,this.percent,this.position),this.vertical&&(T.slidingVertically=!1)),this.onSlideEventsCount=0,this.isInteractsNow=!1}},{key:"_setPosition",value:function(R){var Y=void 0,z=void 0,j=void 0,V=void 0,x=this._getValueFromPosition(u.between(R,0,this.maxHandleX));this.stick&&(V=this.stick[0],z=this.stick[1]||.1,j=x%V,j<z?x=x-j:Math.abs(V-j)<z&&(x=x-j+V)),Y=this._getPositionFromValue(x),this.vertical?(this.container.style.height=Y+this.grabX+"px",this.handle.style.webkitTransform="translateY(-"+Y+"px)",this.handle.style.msTransform="translateY(-"+Y+"px)",this.handle.style.transform="translateY(-"+Y+"px)"):(this.container.style.width=Y+this.grabX+"px",this.handle.style.webkitTransform="translateX("+Y+"px)",this.handle.style.msTransform="translateX("+Y+"px)",this.handle.style.transform="translateX("+Y+"px)"),this._setValue(x),this.position=Y,this.value=x,this._updatePercentFromValue(),(this.isInteractsNow||this.needTriggerEvents)&&(this.onSlideStart&&typeof this.onSlideStart=="function"&&this.onSlideEventsCount===0&&this.onSlideStart(this.value,this.percent,this.position),this.onSlide&&typeof this.onSlide=="function"&&this.onSlide(this.value,this.percent,this.position),this.vertical&&(T.slidingVertically=!0)),this.onSlideEventsCount++}},{key:"_setBufferPosition",value:function(R){var Y=!0;if(isFinite(R))R=parseFloat(R);else if(u.isString(R))R.indexOf("px")>0&&(Y=!1),R=parseFloat(R);else{console.warn("New position must be XXpx or XX%");return}if(isNaN(R)){console.warn("New position is NaN");return}if(!this.options.bufferClass){console.warn("You disabled buffer, it's className is empty");return}var z=Y?R:R/this.rangeSize*100;z<0&&(z=0),z>100&&(z=100),this.options.buffer=z;var j=this.options.borderRadius/this.rangeSize*100,V=z-j;V<0&&(V=0),this.vertical?(this.buffer.style.height=V+"%",this.buffer.style.bottom=j*.5+"%"):(this.buffer.style.width=V+"%",this.buffer.style.left=j*.5+"%"),this.element.setAttribute("data-buffer",z)}},{key:"_getPositionFromNode",value:function(R){for(var Y=this.vertical?this.maxHandleX:0;R!==null;)Y+=this.vertical?R.offsetTop:R.offsetLeft,R=R.offsetParent;return Y}},{key:"_getRelativePosition",value:function(R){var Y=this.range.getBoundingClientRect(),z=this.vertical?Y.bottom:Y.left,j=0,V=this.vertical?"pageY":"pageX";return typeof R[V]<"u"?j=R.touches&&R.touches.length?R.touches[0][V]:R[V]:typeof R.originalEvent<"u"?typeof R.originalEvent[V]<"u"?j=R.originalEvent[V]:R.originalEvent.touches&&R.originalEvent.touches[0]&&typeof R.originalEvent.touches[0][V]<"u"&&(j=R.originalEvent.touches[0][V]):R.touches&&R.touches[0]&&typeof R.touches[0][V]<"u"?j=R.touches[0][V]:R.currentPoint&&(typeof R.currentPoint.x<"u"||typeof R.currentPoint.y<"u")&&(j=this.vertical?R.currentPoint.y:R.currentPoint.x),this.vertical&&(j-=window.pageYOffset),this.vertical?z-j:j-z}},{key:"_getPositionFromValue",value:function(R){var Y=(R-this.min)/(this.max-this.min),z=Y*this.maxHandleX;return isNaN(z)?0:z}},{key:"_getValueFromPosition",value:function(R){var Y=R/(this.maxHandleX||1),z=this.step*Math.round(Y*(this.max-this.min)/this.step)+this.min;return Number(z.toFixed(this.toFixed))}},{key:"_setValue",value:function(R,Y){R===this.value&&!Y||(this.element.value=R,this.value=R,o.triggerEvent(this.element,"input",{origin:this.identifier}))}}],[{key:"create",value:function(R,Y){var z=function(V){var x=V[k];x||(x=new T(V,Y),V[k]=x)};R.length?Array.prototype.slice.call(R).forEach(function(j){z(j)}):z(R)}},{key:"_touchMoveScrollHandler",value:function(R){T.slidingVertically&&R.preventDefault()}}]),T}();n.default=S,S.version="0.4.11",S.dom=o,S.functions=u,S.instances=[],S.slidingVertically=!1,t.exports=n.default},"./src/utils/dom.js":function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.supportsRange=n.removeAllListenersFromEl=n.removeEventListeners=n.addEventListeners=n.insertAfter=n.triggerEvent=n.forEachAncestors=n.removeClass=n.addClass=n.hasClass=n.setCss=n.getDimension=n.getHiddenParentNodes=n.isHidden=n.detectIE=void 0;var s=r("./src/utils/functions.js"),l=o(s);function o(g){if(g&&g.__esModule)return g;var k={};if(g!=null)for(var $ in g)Object.prototype.hasOwnProperty.call(g,$)&&(k[$]=g[$]);return k.default=g,k}var a="eventListenerList",u=n.detectIE=function(){var k=window.navigator.userAgent,$=k.indexOf("MSIE ");if($>0)return parseInt(k.substring($+5,k.indexOf(".",$)),10);var C=k.indexOf("Trident/");if(C>0){var E=k.indexOf("rv:");return parseInt(k.substring(E+3,k.indexOf(".",E)),10)}var S=k.indexOf("Edge/");return S>0?parseInt(k.substring(S+5,k.indexOf(".",S)),10):!1},c=u(),f=window.PointerEvent&&!c?{passive:!1}:!1,d=n.isHidden=function(k){return k.offsetWidth===0||k.offsetHeight===0||k.open===!1},m=n.getHiddenParentNodes=function(k){for(var $=[],C=k.parentNode;C&&d(C);)$.push(C),C=C.parentNode;return $};n.getDimension=function(k,$){var C=m(k),E=C.length,S=[],T=k[$],M=function(j){typeof j.open<"u"&&(j.open=!j.open)};if(E){for(var R=0;R<E;R++)S.push({display:C[R].style.display,height:C[R].style.height,overflow:C[R].style.overflow,visibility:C[R].style.visibility}),C[R].style.display="block",C[R].style.height="0",C[R].style.overflow="hidden",C[R].style.visibility="hidden",M(C[R]);T=k[$];for(var Y=0;Y<E;Y++)M(C[Y]),C[Y].style.display=S[Y].display,C[Y].style.height=S[Y].height,C[Y].style.overflow=S[Y].overflow,C[Y].style.visibility=S[Y].visibility}return T},n.setCss=function(k,$){for(var C in $)k.style[C]=$[C];return k.style};var p=n.hasClass=function(k,$){return new RegExp(" "+$+" ").test(" "+k.className+" ")};n.addClass=function(k,$){p(k,$)||(k.className+=" "+$)},n.removeClass=function(k,$){var C=" "+k.className.replace(/[\t\r\n]/g," ")+" ";if(p(k,$)){for(;C.indexOf(" "+$+" ")>=0;)C=C.replace(" "+$+" "," ");k.className=C.replace(/^\s+|\s+$/g,"")}},n.forEachAncestors=function(k,$,C){for(C&&$(k);k.parentNode&&!$(k);)k=k.parentNode;return k},n.triggerEvent=function(k,$,C){if(!l.isString($))throw new TypeError("event name must be String");if(!(k instanceof HTMLElement))throw new TypeError("element must be HTMLElement");$=$.trim();var E=document.createEvent("CustomEvent");E.initCustomEvent($,!1,!1,C),k.dispatchEvent(E)},n.insertAfter=function(k,$){return k.parentNode.insertBefore($,k.nextSibling)},n.addEventListeners=function(k,$,C){$.forEach(function(E){k[a]||(k[a]={}),k[a][E]||(k[a][E]=[]),k.addEventListener(E,C,f),k[a][E].indexOf(C)<0&&k[a][E].push(C)})},n.removeEventListeners=function(k,$,C){$.forEach(function(E){var S=void 0;k.removeEventListener(E,C,!1),k[a]&&k[a][E]&&(S=k[a][E].indexOf(C))>-1&&k[a][E].splice(S,1)})},n.removeAllListenersFromEl=function(k,$){if(!$[a])return;function C(S){S===k._startEventListener&&this.el.removeEventListener(this.eventName,S,!1)}for(var E in $[a])$[a][E].forEach(C,{eventName:E,el:$});$[a]={}},n.supportsRange=function(){var k=document.createElement("input");return k.setAttribute("type","range"),k.type!=="text"}},"./src/utils/functions.js":function(t,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.uuid=function(){var a=function(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},n.delay=function(a,u){for(var c=arguments.length,f=Array(c>2?c-2:0),d=2;d<c;d++)f[d-2]=arguments[d];return setTimeout(function(){return a.apply(null,f)},u)},n.debounce=function(a){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;return function(){for(var c=arguments.length,f=Array(c),d=0;d<c;d++)f[d]=arguments[d];return a.debouncing||(a.lastReturnVal=a.apply(window,f),a.debouncing=!0),clearTimeout(a.debounceTimeout),a.debounceTimeout=setTimeout(function(){a.debouncing=!1},u),a.lastReturnVal}};var s=n.isString=function(a){return a===""+a};n.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"};var l=n.isNumberLike=function(a){return a!=null&&(s(a)&&isFinite(parseFloat(a))||isFinite(a))};n.getFirsNumberLike=function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];if(!u.length)return null;for(var f=0,d=u.length;f<d;f++)if(l(u[f]))return u[f];return null},n.isObject=function(a){return Object.prototype.toString.call(a)==="[object Object]"},n.simpleExtend=function(a,u){var c={};for(var f in a)c[f]=a[f];for(var d in u)c[d]=u[d];return c},n.between=function(a,u,c){return a<u?u:a>c?c:a}}})})})(aq);const JYe=oK(aq.exports);function uA(i){let e,t,n=i[3].tracker.minLabel&&cA(i),r=i[3].tracker.maxLabel&&fA(i);return{c(){e=P("div"),n&&n.c(),t=W(),r&&r.c(),h(e,"class","flex items-center w-full justify-between -mb-2 mt-2 opacity-50 text-xs")},m(s,l){w(s,e,l),n&&n.m(e,null),D(e,t),r&&r.m(e,null)},p(s,l){s[3].tracker.minLabel?n?n.p(s,l):(n=cA(s),n.c(),n.m(e,t)):n&&(n.d(1),n=null),s[3].tracker.maxLabel?r?r.p(s,l):(r=fA(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(s){s&&y(e),n&&n.d(),r&&r.d()}}}function cA(i){let e,t=i[3].tracker.minLabel+"",n;return{c(){e=P("span"),n=K(t),h(e,"class","label-min")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&8&&t!==(t=r[3].tracker.minLabel+"")&&de(n,t)},d(r){r&&y(e)}}}function fA(i){let e,t=i[3].tracker.maxLabel+"",n;return{c(){e=P("span"),n=K(t),h(e,"class","label-max")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&8&&t!==(t=r[3].tracker.maxLabel+"")&&de(n,t)},d(r){r&&y(e)}}}function QYe(i){let e,t,n,r,s,l,o,a,u,c=(i[3].tracker.minLabel||i[3].tracker.maxLabel)&&uA(i);return{c(){e=P("div"),t=P("div"),n=P("input"),s=W(),c&&c.c(),h(n,"aria-label",r=i[3].label),h(n,"type","text"),h(n,"class","w-full n-range"),h(n,"min",i[0]),h(n,"max",i[1]),h(n,"step",i[5]),h(t,"class","slider-wrapper"),h(e,"class",l="tracker-input slider py-2 "+i[2]),h(e,"style",o=`--trackable-color:${i[3].color};`),ct(e,"vertical",!i[4]),ct(e,"mini",i[4])},m(f,d){w(f,e,d),D(e,t),D(t,n),i[10](n),Kn(n,i[7]),D(t,s),c&&c.m(t,null),a||(u=[Se(n,"input",i[11]),Se(n,"input",i[12]),Se(n,"change",i[13])],a=!0)},p(f,[d]){d&8&&r!==(r=f[3].label)&&h(n,"aria-label",r),d&1&&h(n,"min",f[0]),d&2&&h(n,"max",f[1]),d&32&&h(n,"step",f[5]),d&128&&n.value!==f[7]&&Kn(n,f[7]),f[3].tracker.minLabel||f[3].tracker.maxLabel?c?c.p(f,d):(c=uA(f),c.c(),c.m(t,null)):c&&(c.d(1),c=null),d&4&&l!==(l="tracker-input slider py-2 "+f[2])&&h(e,"class",l),d&8&&o!==(o=`--trackable-color:${f[3].color};`)&&h(e,"style",o),d&20&&ct(e,"vertical",!f[4]),d&20&&ct(e,"mini",f[4])},i:Z,o:Z,d(f){f&&y(e),i[10](null),c&&c.d(),a=!1,Ot(u)}}}function eUe(i,e,t){let{min:n=0}=e,{max:r=10}=e,{value:s=5}=e,{className:l=""}=e,{trackable:o}=e,{mini:a=!1}=e,{step:u=1}=e,c,f;const d=Ut();async function m(){f&&d("change",parseInt(f)),JYe.create(c)}Yt(m);function p(C){Oe[C?"unshift":"push"](()=>{c=C,t(6,c)})}function g(){f=this.value,t(7,f),t(9,s)}const k=()=>d("input",parseFloat(f)),$=()=>d("change",parseFloat(f));return i.$$set=C=>{"min"in C&&t(0,n=C.min),"max"in C&&t(1,r=C.max),"value"in C&&t(9,s=C.value),"className"in C&&t(2,l=C.className),"trackable"in C&&t(3,o=C.trackable),"mini"in C&&t(4,a=C.mini),"step"in C&&t(5,u=C.step)},i.$$.update=()=>{i.$$.dirty&512&&t(7,f=s)},[n,r,l,o,a,u,c,f,d,s,p,g,k,$]}class tUe extends pe{constructor(e){super(),me(this,e,eUe,QYe,he,{min:0,max:1,value:9,className:2,trackable:3,mini:4,step:5})}}function dA(i,e,t){const n=i.slice();return n[16]=e[t],n[17]=e,n[18]=t,n}function nUe(i){let e=i[16].label+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[16].label+"")&&de(t,e)},d(n){n&&y(t)}}}function hA(i){var n;let e,t;return e=new If({props:{className:"text-lg font-bold",text:(n=i[16].tracker)==null?void 0:n.displayValue(i[16].value)}}),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){var o;const l={};s&1&&(l.text=(o=r[16].tracker)==null?void 0:o.displayValue(r[16].value)),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function mA(i){let e;return{c(){e=P("div"),e.textContent="Nested Combos are currently not supported",h(e,"class","dark:text-white filler py-1 text-sm ")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function pA(i){let e,t,n;function r(...s){return i[11](i[16],i[17],i[18],...s)}return t=new tUe({props:{trackable:i[16],step:i[16].tracker.step||1,value:Hd(i[16].tracker.default)?i[16].tracker.default:i[16].value,min:parseFloat(`${i[16].tracker.min}`),max:parseFloat(`${i[16].tracker.max}`)||100,className:"w-full"}}),t.$on("input",r),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","")},m(s,l){w(s,e,l),O(t,e,null),n=!0},p(s,l){i=s;const o={};l&1&&(o.trackable=i[16]),l&1&&(o.step=i[16].tracker.step||1),l&1&&(o.value=Hd(i[16].tracker.default)?i[16].tracker.default:i[16].value),l&1&&(o.min=parseFloat(`${i[16].tracker.min}`)),l&1&&(o.max=parseFloat(`${i[16].tracker.max}`)||100),t.$set(o)},i(s){n||(_(t.$$.fragment,s),n=!0)},o(s){v(t.$$.fragment,s),n=!1},d(s){s&&y(e),I(t)}}}function iUe(i){var d,m,p;let e,t,n,r,s,l,o,a;n=new al({props:{$$slots:{default:[nUe]},$$scope:{ctx:i}}});let u=((d=i[16].tracker)==null?void 0:d.type)=="range"&&hA(i),c=((m=i[16].tracker)==null?void 0:m.type)==="note"&&mA(),f=((p=i[16].tracker)==null?void 0:p.type)==="range"&&pA(i);return{c(){e=P("main"),t=P("header"),B(n.$$.fragment),r=W(),u&&u.c(),s=W(),c&&c.c(),l=W(),f&&f.c(),o=W(),h(t,"class","flex items-center justify-between"),h(e,"class","filler")},m(g,k){w(g,e,k),D(e,t),O(n,t,null),D(t,r),u&&u.m(t,null),D(e,s),c&&c.m(e,null),D(e,l),f&&f.m(e,null),w(g,o,k),a=!0},p(g,k){var C,E,S;const $={};k&524289&&($.$$scope={dirty:k,ctx:g}),n.$set($),((C=g[16].tracker)==null?void 0:C.type)=="range"?u?(u.p(g,k),k&1&&_(u,1)):(u=hA(g),u.c(),_(u,1),u.m(t,null)):u&&(ae(),v(u,1,1,()=>{u=null}),ue()),((E=g[16].tracker)==null?void 0:E.type)==="note"?c||(c=mA(),c.c(),c.m(e,l)):c&&(c.d(1),c=null),((S=g[16].tracker)==null?void 0:S.type)==="range"?f?(f.p(g,k),k&1&&_(f,1)):(f=pA(g),f.c(),_(f,1),f.m(e,null)):f&&(ae(),v(f,1,1,()=>{f=null}),ue())},i(g){a||(_(n.$$.fragment,g),_(u),_(f),a=!0)},o(g){v(n.$$.fragment,g),v(u),v(f),a=!1},d(g){g&&y(e),I(n),u&&u.d(),c&&c.d(),f&&f.d(),g&&y(o)}}}function rUe(i){let e,t;return e=new er({props:{slot:"left",trackable:i[16],size:46}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[16]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sUe(i){let e,t;function n(...r){return i[10](i[16],i[17],i[18],...r)}return e=new Ar({props:{title:"value"}}),e.$on("change",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function lUe(i){let e,t,n;function r(l){i[9](l,i[16])}let s={size:"sm"};return i[16].value!==void 0&&(s.value=i[16].value),e=new oq({props:s}),Oe.push(()=>Qe(e,"value",r,i[16].value)),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){i=l;const a={};!t&&o&1&&(t=!0,a.value=i[16].value,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function oUe(i){let e,t;function n(...r){return i[8](i[16],i[17],i[18],...r)}return e=new Ar({props:{title:"input"}}),e.$on("change",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function aUe(i){let e,t,n,r,s,l,o,a;function u(){i[6].call(t,i[17],i[18])}function c(){return i[7](i[16],i[17],i[18])}return s=new He({props:{className:"-ml-8",icon:!0,primary:!0,title:"Add value",$$slots:{default:[uUe]},$$scope:{ctx:i}}}),s.$on("click",c),{c(){e=P("div"),t=P("input"),r=W(),B(s.$$.fragment),h(t,"aria-label",n=i[16].label),h(t,"class","bg-gray-100 pr-10 stiff mr-2 dark:bg-gray-800 text-black dark:text-white text-lg rounded-md p-2 flex-shrink text-right w-24 font-bold"),h(t,"type","number"),h(e,"class","flex items-center")},m(f,d){w(f,e,d),D(e,t),Kn(t,i[16].value),D(e,r),O(s,e,null),l=!0,o||(a=[Se(t,"change",i[5]),Se(t,"focus",hUe),Se(t,"input",u)],o=!0)},p(f,d){i=f,(!l||d&1&&n!==(n=i[16].label))&&h(t,"aria-label",n),d&1&&oh(t.value)!==i[16].value&&Kn(t,i[16].value);const m={};d&524288&&(m.$$scope={dirty:d,ctx:i}),s.$set(m)},i(f){l||(_(s.$$.fragment,f),l=!0)},o(f){v(s.$$.fragment,f),l=!1},d(f){f&&y(e),I(s),o=!1,Ot(a)}}}function uUe(i){let e,t;return e=new et({props:{icon:Tp}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function cUe(i){let e,t,n,r,s;const l=[aUe,oUe,lUe,sUe],o=[];function a(u,c){var f,d,m;return((f=u[16].tracker)==null?void 0:f.type)==="value"?0:((d=u[16].tracker)==null?void 0:d.type)==="tick"||u[16].type==="context"?1:((m=u[16].tracker)==null?void 0:m.type)==="timer"?2:u[16].person||u[16].context?3:-1}return~(t=a(i))&&(n=o[t]=l[t](i)),{c(){e=P("div"),n&&n.c(),r=W(),h(e,"slot","right"),h(e,"class","pr-2 text-right ")},m(u,c){w(u,e,c),~t&&o[t].m(e,null),D(e,r),s=!0},p(u,c){let f=t;t=a(u),t===f?~t&&o[t].p(u,c):(n&&(ae(),v(o[f],1,1,()=>{o[f]=null}),ue()),~t?(n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,r)):n=null)},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),~t&&o[t].d()}}}function _A(i){let e,t,n,r;return n=new lt({props:{bottomLine:64,className:"bg-white dark:bg-gray-900",$$slots:{right:[cUe],left:[rUe],default:[iUe]},$$scope:{ctx:i}}}),{c(){e=P("article"),t=W(),B(n.$$.fragment),h(e,"class","flex flex-col justify-center items-center")},m(s,l){w(s,e,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&524291&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(e),s&&y(t),I(n,s)}}}function fUe(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=_A(dA(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&7){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=dA(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=_A(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function dUe(i){let e,t,n;return t=new jt({props:{solo:!0,$$slots:{default:[fUe]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","h-full tracker-input-combo")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,[s]){const l={};s&524291&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}const hUe=i=>{i.target.select()};function mUe(i,e,t){let n;Le(i,en,E=>t(1,n=E));let{value:r="5"}=e,{tracker:s=void 0}=e,l;const o=Ut();let a=[];async function u(){const E=sc(s.note);t(0,a=E.map(S=>{var M,R;const T=rr(S,n.trackables);return T.person&&(T.value=0),((M=T.tracker)==null?void 0:M.type)=="value"&&T.value==1&&(T.value=0),((R=T.tracker)==null?void 0:R.type)=="tick"&&T.value==1&&(T.value=0),T})),l&&o("change",parseInt(l))}const c=()=>a.filter(E=>E.value===!0?!0:E.value>0||E.value<0).map(E=>(E.value===!0&&(E.value=1),E.getNoteValue())).join(" "),f=()=>{const E=c();o("note",E),o("change",1)};Yt(u);const d=E=>{f()};function m(E,S){E[S].value=oh(this.value),t(0,a)}const p=async(E,S,T)=>{const M=await v$(E,n.trackables,"Next");t(0,S[T].value=M.value,a),f()},g=(E,S,T,M)=>{t(0,S[T].value=M.detail?1:0,a),f()};function k(E,S){i.$$.not_equal(S.value,E)&&(S.value=E,t(0,a))}const $=(E,S,T,M)=>{t(0,S[T].value=M.detail?1:0,a),f()},C=(E,S,T,M)=>{t(0,S[T].value=M.detail,a),f()};return i.$$set=E=>{"value"in E&&t(3,r=E.value),"tracker"in E&&t(4,s=E.tracker)},i.$$.update=()=>{i.$$.dirty&8&&(l=r)},[a,n,f,r,s,d,m,p,g,k,$,C]}class pUe extends pe{constructor(e){super(),me(this,e,mUe,dUe,he,{value:3,tracker:4})}}function gA(i){return Object.prototype.toString.call(i)==="[object Date]"}function Mk(i,e,t,n){if(typeof t=="number"||gA(t)){const r=n-t,s=(t-e)/(i.dt||1/60),l=i.opts.stiffness*r,o=i.opts.damping*s,a=(l-o)*i.inv_mass,u=(s+a)*i.dt;return Math.abs(u)<i.opts.precision&&Math.abs(r)<i.opts.precision?n:(i.settled=!1,gA(t)?new Date(t.getTime()+u):t+u)}else{if(Array.isArray(t))return t.map((r,s)=>Mk(i,e[s],t[s],n[s]));if(typeof t=="object"){const r={};for(const s in t)r[s]=Mk(i,e[s],t[s],n[s]);return r}else throw new Error(`Cannot spring ${typeof t} values`)}}function _Ue(i,e={}){const t=rn(i),{stiffness:n=.15,damping:r=.8,precision:s=.01}=e;let l,o,a,u=i,c=i,f=1,d=0,m=!1;function p(k,$={}){c=k;const C=a={};return i==null||$.hard||g.stiffness>=1&&g.damping>=1?(m=!0,l=Zm(),u=k,t.set(i=c),Promise.resolve()):($.soft&&(d=1/(($.soft===!0?.5:+$.soft)*60),f=0),o||(l=Zm(),m=!1,o=H1(E=>{if(m)return m=!1,o=null,!1;f=Math.min(f+d,1);const S={inv_mass:f,opts:g,settled:!0,dt:(E-l)*60/1e3},T=Mk(S,u,i,c);return l=E,u=i,t.set(i=T),S.settled&&(o=null),!S.settled})),new Promise(E=>{o.promise.then(()=>{C===a&&E()})}))}const g={set:p,update:(k,$)=>p(k(c,i),$),subscribe:t.subscribe,stiffness:n,damping:r,precision:s};return g}function vA(i,e,t){const n=i.slice();return n[28]=e[t],n[30]=t,n}function bA(i){let e,t,n,r,s=(i[6]==="label"||i[7]==="label")&&kA(i);return{c(){e=P("span"),s&&s.c(),h(e,"class","pip first"),h(e,"style",t=i[14]+": 0%;"),ct(e,"selected",i[18](i[0])),ct(e,"in-range",i[17](i[0]))},m(l,o){w(l,e,o),s&&s.m(e,null),n||(r=[Se(e,"click",function(){ln(i[21](i[0]))&&i[21](i[0]).apply(this,arguments)}),Se(e,"touchend",il(function(){ln(i[21](i[0]))&&i[21](i[0]).apply(this,arguments)}))],n=!0)},p(l,o){i=l,i[6]==="label"||i[7]==="label"?s?s.p(i,o):(s=kA(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null),o&16384&&t!==(t=i[14]+": 0%;")&&h(e,"style",t),o&262145&&ct(e,"selected",i[18](i[0])),o&131073&&ct(e,"in-range",i[17](i[0]))},d(l){l&&y(e),s&&s.d(),n=!1,Ot(r)}}}function kA(i){let e,t=i[12](i[16](i[0]),0,0)+"",n,r=i[10]&&yA(i),s=i[11]&&wA(i);return{c(){e=P("span"),r&&r.c(),n=K(t),s&&s.c(),h(e,"class","pipVal")},m(l,o){w(l,e,o),r&&r.m(e,null),D(e,n),s&&s.m(e,null)},p(l,o){l[10]?r?r.p(l,o):(r=yA(l),r.c(),r.m(e,n)):r&&(r.d(1),r=null),o&69633&&t!==(t=l[12](l[16](l[0]),0,0)+"")&&de(n,t),l[11]?s?s.p(l,o):(s=wA(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function yA(i){let e,t;return{c(){e=P("span"),t=K(i[10]),h(e,"class","pipVal-prefix")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&1024&&de(t,n[10])},d(n){n&&y(e)}}}function wA(i){let e,t;return{c(){e=P("span"),t=K(i[11]),h(e,"class","pipVal-suffix")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&2048&&de(t,n[11])},d(n){n&&y(e)}}}function $A(i){let e,t=Array(i[20]+1),n=[];for(let r=0;r<t.length;r+=1)n[r]=SA(vA(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ae()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&4120131){t=Array(r[20]+1);let l;for(l=0;l<t.length;l+=1){const o=vA(r,t,l);n[l]?n[l].p(o,s):(n[l]=SA(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){pt(n,r),r&&y(e)}}}function FA(i){let e,t,n,r,s,l=(i[6]==="label"||i[9]==="label")&&EA(i);return{c(){e=P("span"),l&&l.c(),t=W(),h(e,"class","pip"),h(e,"style",n=i[14]+": "+i[15](i[19](i[30]))+"%;"),ct(e,"selected",i[18](i[19](i[30]))),ct(e,"in-range",i[17](i[19](i[30])))},m(o,a){w(o,e,a),l&&l.m(e,null),D(e,t),r||(s=[Se(e,"click",function(){ln(i[21](i[19](i[30])))&&i[21](i[19](i[30])).apply(this,arguments)}),Se(e,"touchend",il(function(){ln(i[21](i[19](i[30])))&&i[21](i[19](i[30])).apply(this,arguments)}))],r=!0)},p(o,a){i=o,i[6]==="label"||i[9]==="label"?l?l.p(i,a):(l=EA(i),l.c(),l.m(e,t)):l&&(l.d(1),l=null),a&573440&&n!==(n=i[14]+": "+i[15](i[19](i[30]))+"%;")&&h(e,"style",n),a&786432&&ct(e,"selected",i[18](i[19](i[30]))),a&655360&&ct(e,"in-range",i[17](i[19](i[30])))},d(o){o&&y(e),l&&l.d(),r=!1,Ot(s)}}}function EA(i){let e,t=i[12](i[19](i[30]),i[30],i[15](i[19](i[30])))+"",n,r=i[10]&&CA(i),s=i[11]&&DA(i);return{c(){e=P("span"),r&&r.c(),n=K(t),s&&s.c(),h(e,"class","pipVal")},m(l,o){w(l,e,o),r&&r.m(e,null),D(e,n),s&&s.m(e,null)},p(l,o){l[10]?r?r.p(l,o):(r=CA(l),r.c(),r.m(e,n)):r&&(r.d(1),r=null),o&561152&&t!==(t=l[12](l[19](l[30]),l[30],l[15](l[19](l[30])))+"")&&de(n,t),l[11]?s?s.p(l,o):(s=DA(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function CA(i){let e,t;return{c(){e=P("span"),t=K(i[10]),h(e,"class","pipVal-prefix")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&1024&&de(t,n[10])},d(n){n&&y(e)}}}function DA(i){let e,t;return{c(){e=P("span"),t=K(i[11]),h(e,"class","pipVal-suffix")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&2048&&de(t,n[11])},d(n){n&&y(e)}}}function SA(i){let e=i[19](i[30])!==i[0]&&i[19](i[30])!==i[1],t,n=e&&FA(i);return{c(){n&&n.c(),t=Ae()},m(r,s){n&&n.m(r,s),w(r,t,s)},p(r,s){s&524291&&(e=r[19](r[30])!==r[0]&&r[19](r[30])!==r[1]),e?n?n.p(r,s):(n=FA(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){n&&n.d(r),r&&y(t)}}}function TA(i){let e,t,n,r,s=(i[6]==="label"||i[8]==="label")&&AA(i);return{c(){e=P("span"),s&&s.c(),h(e,"class","pip last"),h(e,"style",t=i[14]+": 100%;"),ct(e,"selected",i[18](i[1])),ct(e,"in-range",i[17](i[1]))},m(l,o){w(l,e,o),s&&s.m(e,null),n||(r=[Se(e,"click",function(){ln(i[21](i[1]))&&i[21](i[1]).apply(this,arguments)}),Se(e,"touchend",il(function(){ln(i[21](i[1]))&&i[21](i[1]).apply(this,arguments)}))],n=!0)},p(l,o){i=l,i[6]==="label"||i[8]==="label"?s?s.p(i,o):(s=AA(i),s.c(),s.m(e,null)):s&&(s.d(1),s=null),o&16384&&t!==(t=i[14]+": 100%;")&&h(e,"style",t),o&262146&&ct(e,"selected",i[18](i[1])),o&131074&&ct(e,"in-range",i[17](i[1]))},d(l){l&&y(e),s&&s.d(),n=!1,Ot(r)}}}function AA(i){let e,t=i[12](i[16](i[1]),i[20],100)+"",n,r=i[10]&&PA(i),s=i[11]&&NA(i);return{c(){e=P("span"),r&&r.c(),n=K(t),s&&s.c(),h(e,"class","pipVal")},m(l,o){w(l,e,o),r&&r.m(e,null),D(e,n),s&&s.m(e,null)},p(l,o){l[10]?r?r.p(l,o):(r=PA(l),r.c(),r.m(e,n)):r&&(r.d(1),r=null),o&1118210&&t!==(t=l[12](l[16](l[1]),l[20],100)+"")&&de(n,t),l[11]?s?s.p(l,o):(s=NA(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function PA(i){let e,t;return{c(){e=P("span"),t=K(i[10]),h(e,"class","pipVal-prefix")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&1024&&de(t,n[10])},d(n){n&&y(e)}}}function NA(i){let e,t;return{c(){e=P("span"),t=K(i[11]),h(e,"class","pipVal-suffix")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&2048&&de(t,n[11])},d(n){n&&y(e)}}}function gUe(i){let e,t,n,r=(i[6]&&i[7]!==!1||i[7])&&bA(i),s=(i[6]&&i[9]!==!1||i[9])&&$A(i),l=(i[6]&&i[8]!==!1||i[8])&&TA(i);return{c(){e=P("div"),r&&r.c(),t=W(),s&&s.c(),n=W(),l&&l.c(),h(e,"class","rangePips"),ct(e,"disabled",i[5]),ct(e,"hoverable",i[4]),ct(e,"vertical",i[2]),ct(e,"reversed",i[3]),ct(e,"focus",i[13])},m(o,a){w(o,e,a),r&&r.m(e,null),D(e,t),s&&s.m(e,null),D(e,n),l&&l.m(e,null)},p(o,[a]){o[6]&&o[7]!==!1||o[7]?r?r.p(o,a):(r=bA(o),r.c(),r.m(e,t)):r&&(r.d(1),r=null),o[6]&&o[9]!==!1||o[9]?s?s.p(o,a):(s=$A(o),s.c(),s.m(e,n)):s&&(s.d(1),s=null),o[6]&&o[8]!==!1||o[8]?l?l.p(o,a):(l=TA(o),l.c(),l.m(e,null)):l&&(l.d(1),l=null),a&32&&ct(e,"disabled",o[5]),a&16&&ct(e,"hoverable",o[4]),a&4&&ct(e,"vertical",o[2]),a&8&&ct(e,"reversed",o[3]),a&8192&&ct(e,"focus",o[13])},i:Z,o:Z,d(o){o&&y(e),r&&r.d(),s&&s.d(),l&&l.d()}}}function vUe(i,e,t){let n,r,s,l,o,{range:a=!1}=e,{min:u=0}=e,{max:c=100}=e,{step:f=1}=e,{values:d=[(c+u)/2]}=e,{vertical:m=!1}=e,{reversed:p=!1}=e,{hoverable:g=!0}=e,{disabled:k=!1}=e,{pipstep:$=void 0}=e,{all:C=!0}=e,{first:E=void 0}=e,{last:S=void 0}=e,{rest:T=void 0}=e,{prefix:M=""}=e,{suffix:R=""}=e,{formatter:Y=(q,le)=>q}=e,{focus:z=void 0}=e,{orientationStart:j=void 0}=e,{percentOf:V=void 0}=e,{moveHandle:x=void 0}=e,{fixFloat:ee=void 0}=e;function J(q){k||x(void 0,q)}return i.$$set=q=>{"range"in q&&t(22,a=q.range),"min"in q&&t(0,u=q.min),"max"in q&&t(1,c=q.max),"step"in q&&t(23,f=q.step),"values"in q&&t(24,d=q.values),"vertical"in q&&t(2,m=q.vertical),"reversed"in q&&t(3,p=q.reversed),"hoverable"in q&&t(4,g=q.hoverable),"disabled"in q&&t(5,k=q.disabled),"pipstep"in q&&t(25,$=q.pipstep),"all"in q&&t(6,C=q.all),"first"in q&&t(7,E=q.first),"last"in q&&t(8,S=q.last),"rest"in q&&t(9,T=q.rest),"prefix"in q&&t(10,M=q.prefix),"suffix"in q&&t(11,R=q.suffix),"formatter"in q&&t(12,Y=q.formatter),"focus"in q&&t(13,z=q.focus),"orientationStart"in q&&t(14,j=q.orientationStart),"percentOf"in q&&t(15,V=q.percentOf),"moveHandle"in q&&t(26,x=q.moveHandle),"fixFloat"in q&&t(16,ee=q.fixFloat)},i.$$.update=()=>{i.$$.dirty&41943047&&t(27,n=$||((c-u)/f>=(m?50:100)?(c-u)/(m?10:20):1)),i.$$.dirty&142606339&&t(20,r=parseInt((c-u)/(f*n),10)),i.$$.dirty&142671873&&t(19,s=function(q){return ee(u+q*f*n)}),i.$$.dirty&16842752&&t(18,l=function(q){return d.some(le=>ee(le)===ee(q))}),i.$$.dirty&20971520&&t(17,o=function(q){if(a==="min")return d[0]>q;if(a==="max")return d[0]<q;if(a)return d[0]<q&&d[1]>q})},[u,c,m,p,g,k,C,E,S,T,M,R,Y,z,j,V,ee,o,l,s,r,J,a,f,d,$,x,n]}class bUe extends pe{constructor(e){super(),me(this,e,vUe,gUe,he,{range:22,min:0,max:1,step:23,values:24,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:25,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:26,fixFloat:16})}}function MA(i,e,t){const n=i.slice();return n[64]=e[t],n[66]=t,n}function LA(i){let e,t=i[21](i[64],i[66],i[23](i[64]))+"",n,r=i[18]&&OA(i),s=i[19]&&IA(i);return{c(){e=P("span"),r&&r.c(),n=K(t),s&&s.c(),h(e,"class","rangeFloat")},m(l,o){w(l,e,o),r&&r.m(e,null),D(e,n),s&&s.m(e,null)},p(l,o){l[18]?r?r.p(l,o):(r=OA(l),r.c(),r.m(e,n)):r&&(r.d(1),r=null),o[0]&10485761&&t!==(t=l[21](l[64],l[66],l[23](l[64]))+"")&&de(n,t),l[19]?s?s.p(l,o):(s=IA(l),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function OA(i){let e,t;return{c(){e=P("span"),t=K(i[18]),h(e,"class","rangeFloat-prefix")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r[0]&262144&&de(t,n[18])},d(n){n&&y(e)}}}function IA(i){let e,t;return{c(){e=P("span"),t=K(i[19]),h(e,"class","rangeFloat-suffix")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r[0]&524288&&de(t,n[19])},d(n){n&&y(e)}}}function BA(i){let e,t,n,r,s,l,o,a,u,c,f,d,m=i[7]&&LA(i);return{c(){e=P("span"),t=P("span"),n=W(),m&&m.c(),h(t,"class","rangeNub"),h(e,"role","slider"),h(e,"class","rangeHandle"),h(e,"data-handle",i[66]),h(e,"style",r=i[28]+": "+i[29][i[66]]+"%; z-index: "+(i[26]===i[66]?3:2)+";"),h(e,"aria-valuemin",s=i[2]===!0&&i[66]===1?i[0][0]:i[3]),h(e,"aria-valuemax",l=i[2]===!0&&i[66]===0?i[0][1]:i[4]),h(e,"aria-valuenow",o=i[64]),h(e,"aria-valuetext",a=""+(i[18]+i[21](i[64],i[66],i[23](i[64]))+i[19])),h(e,"aria-orientation",u=i[6]?"vertical":"horizontal"),h(e,"aria-disabled",i[10]),h(e,"disabled",i[10]),h(e,"tabindex",c=i[10]?-1:0),ct(e,"active",i[24]&&i[26]===i[66]),ct(e,"press",i[25]&&i[26]===i[66])},m(p,g){w(p,e,g),D(e,t),D(e,n),m&&m.m(e,null),f||(d=[Se(e,"blur",i[34]),Se(e,"focus",i[35]),Se(e,"keydown",i[36])],f=!0)},p(p,g){p[7]?m?m.p(p,g):(m=LA(p),m.c(),m.m(e,null)):m&&(m.d(1),m=null),g[0]&872415232&&r!==(r=p[28]+": "+p[29][p[66]]+"%; z-index: "+(p[26]===p[66]?3:2)+";")&&h(e,"style",r),g[0]&13&&s!==(s=p[2]===!0&&p[66]===1?p[0][0]:p[3])&&h(e,"aria-valuemin",s),g[0]&21&&l!==(l=p[2]===!0&&p[66]===0?p[0][1]:p[4])&&h(e,"aria-valuemax",l),g[0]&1&&o!==(o=p[64])&&h(e,"aria-valuenow",o),g[0]&11272193&&a!==(a=""+(p[18]+p[21](p[64],p[66],p[23](p[64]))+p[19]))&&h(e,"aria-valuetext",a),g[0]&64&&u!==(u=p[6]?"vertical":"horizontal")&&h(e,"aria-orientation",u),g[0]&1024&&h(e,"aria-disabled",p[10]),g[0]&1024&&h(e,"disabled",p[10]),g[0]&1024&&c!==(c=p[10]?-1:0)&&h(e,"tabindex",c),g[0]&83886080&&ct(e,"active",p[24]&&p[26]===p[66]),g[0]&100663296&&ct(e,"press",p[25]&&p[26]===p[66])},d(p){p&&y(e),m&&m.d(),f=!1,Ot(d)}}}function RA(i){let e,t;return{c(){e=P("span"),h(e,"class","rangeBar"),h(e,"style",t=i[28]+": "+i[32](i[29])+"%; "+i[27]+": "+i[33](i[29])+"%;")},m(n,r){w(n,e,r)},p(n,r){r[0]&939524096&&t!==(t=n[28]+": "+n[32](n[29])+"%; "+n[27]+": "+n[33](n[29])+"%;")&&h(e,"style",t)},d(n){n&&y(e)}}}function zA(i){let e,t;return e=new bUe({props:{values:i[0],min:i[3],max:i[4],step:i[5],range:i[2],vertical:i[6],reversed:i[8],orientationStart:i[28],hoverable:i[9],disabled:i[10],all:i[13],first:i[14],last:i[15],rest:i[16],pipstep:i[12],prefix:i[18],suffix:i[19],formatter:i[20],focus:i[24],percentOf:i[23],moveHandle:i[31],fixFloat:i[30]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.values=n[0]),r[0]&8&&(s.min=n[3]),r[0]&16&&(s.max=n[4]),r[0]&32&&(s.step=n[5]),r[0]&4&&(s.range=n[2]),r[0]&64&&(s.vertical=n[6]),r[0]&256&&(s.reversed=n[8]),r[0]&268435456&&(s.orientationStart=n[28]),r[0]&512&&(s.hoverable=n[9]),r[0]&1024&&(s.disabled=n[10]),r[0]&8192&&(s.all=n[13]),r[0]&16384&&(s.first=n[14]),r[0]&32768&&(s.last=n[15]),r[0]&65536&&(s.rest=n[16]),r[0]&4096&&(s.pipstep=n[12]),r[0]&262144&&(s.prefix=n[18]),r[0]&524288&&(s.suffix=n[19]),r[0]&1048576&&(s.formatter=n[20]),r[0]&16777216&&(s.focus=n[24]),r[0]&8388608&&(s.percentOf=n[23]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function kUe(i){let e,t,n,r,s,l,o=i[0],a=[];for(let f=0;f<o.length;f+=1)a[f]=BA(MA(i,o,f));let u=i[2]&&RA(i),c=i[11]&&zA(i);return{c(){e=P("div");for(let f=0;f<a.length;f+=1)a[f].c();t=W(),u&&u.c(),n=W(),c&&c.c(),h(e,"id",i[17]),h(e,"class","rangeSlider"),ct(e,"range",i[2]),ct(e,"disabled",i[10]),ct(e,"hoverable",i[9]),ct(e,"vertical",i[6]),ct(e,"reversed",i[8]),ct(e,"focus",i[24]),ct(e,"min",i[2]==="min"),ct(e,"max",i[2]==="max"),ct(e,"pips",i[11]),ct(e,"pip-labels",i[13]==="label"||i[14]==="label"||i[15]==="label"||i[16]==="label")},m(f,d){w(f,e,d);for(let m=0;m<a.length;m+=1)a[m].m(e,null);D(e,t),u&&u.m(e,null),D(e,n),c&&c.m(e,null),i[50](e),r=!0,s||(l=[Se(window,"mousedown",i[39]),Se(window,"touchstart",i[39]),Se(window,"mousemove",i[40]),Se(window,"touchmove",i[40]),Se(window,"mouseup",i[41]),Se(window,"touchend",i[42]),Se(window,"keydown",i[43]),Se(e,"mousedown",i[37]),Se(e,"mouseup",i[38]),Se(e,"touchstart",il(i[37])),Se(e,"touchend",il(i[38]))],s=!0)},p(f,d){if(d[0]&934020317|d[1]&56){o=f[0];let m;for(m=0;m<o.length;m+=1){const p=MA(f,o,m);a[m]?a[m].p(p,d):(a[m]=BA(p),a[m].c(),a[m].m(e,t))}for(;m<a.length;m+=1)a[m].d(1);a.length=o.length}f[2]?u?u.p(f,d):(u=RA(f),u.c(),u.m(e,n)):u&&(u.d(1),u=null),f[11]?c?(c.p(f,d),d[0]&2048&&_(c,1)):(c=zA(f),c.c(),_(c,1),c.m(e,null)):c&&(ae(),v(c,1,1,()=>{c=null}),ue()),(!r||d[0]&131072)&&h(e,"id",f[17]),(!r||d[0]&4)&&ct(e,"range",f[2]),(!r||d[0]&1024)&&ct(e,"disabled",f[10]),(!r||d[0]&512)&&ct(e,"hoverable",f[9]),(!r||d[0]&64)&&ct(e,"vertical",f[6]),(!r||d[0]&256)&&ct(e,"reversed",f[8]),(!r||d[0]&16777216)&&ct(e,"focus",f[24]),(!r||d[0]&4)&&ct(e,"min",f[2]==="min"),(!r||d[0]&4)&&ct(e,"max",f[2]==="max"),(!r||d[0]&2048)&&ct(e,"pips",f[11]),(!r||d[0]&122880)&&ct(e,"pip-labels",f[13]==="label"||f[14]==="label"||f[15]==="label"||f[16]==="label")},i(f){r||(_(c),r=!0)},o(f){v(c),r=!1},d(f){f&&y(e),pt(a,f),u&&u.d(),c&&c.d(),i[50](null),s=!1,Ot(l)}}}function jA(i){if(!i)return-1;for(var e=0;i=i.previousElementSibling;)e++;return e}function c2(i){return i.type.includes("touch")?i.touches[0]:i}function yUe(i,e,t){let n,r,s,l,o,a,u=Z,c=()=>(u(),u=ta(Ue,ot=>t(29,a=ot)),Ue);i.$$.on_destroy.push(()=>u());let{slider:f=void 0}=e,{range:d=!1}=e,{pushy:m=!1}=e,{min:p=0}=e,{max:g=100}=e,{step:k=1}=e,{values:$=[(g+p)/2]}=e,{vertical:C=!1}=e,{float:E=!1}=e,{reversed:S=!1}=e,{hoverable:T=!0}=e,{disabled:M=!1}=e,{pips:R=!1}=e,{pipstep:Y=void 0}=e,{all:z=void 0}=e,{first:j=void 0}=e,{last:V=void 0}=e,{rest:x=void 0}=e,{id:ee=void 0}=e,{prefix:J=""}=e,{suffix:q=""}=e,{formatter:le=(ot,Xt,yn)=>ot}=e,{handleFormatter:G=le}=e,{precision:X=2}=e,{springValues:se={stiffness:.15,damping:.4}}=e;const te=Ut();let ie=0,re=!1,be=!1,we=!1,De=!1,Be=$.length-1,ze,ke,Ue;const Ce=ot=>parseFloat(ot.toFixed(X));function vt(ot){const Xt=f.querySelectorAll(".handle"),yn=Array.prototype.includes.call(Xt,ot),jn=Array.prototype.some.call(Xt,ji=>ji.contains(ot));return yn||jn}function $t(ot){return d==="min"||d==="max"?ot.slice(0,1):d?ot.slice(0,2):ot}function bt(){return f.getBoundingClientRect()}function Tt(ot){const Xt=bt();let yn=0,jn=0,ji=0;C?(yn=ot.clientY-Xt.top,jn=yn/Xt.height*100,jn=S?jn:100-jn):(yn=ot.clientX-Xt.left,jn=yn/Xt.width*100,jn=S?100-jn:jn),ji=(g-p)/100*jn+p;let Bs;return d===!0&&$[0]===$[1]?ji>$[1]?1:0:(Bs=$.indexOf([...$].sort((Mr,wr)=>Math.abs(ji-Mr)-Math.abs(ji-wr))[0]),Bs)}function It(ot){const Xt=bt();let yn=0,jn=0,ji=0;C?(yn=ot.clientY-Xt.top,jn=yn/Xt.height*100,jn=S?jn:100-jn):(yn=ot.clientX-Xt.left,jn=yn/Xt.width*100,jn=S?100-jn:jn),ji=(g-p)/100*jn+p,Je(Be,ji)}function Je(ot,Xt){return Xt=s(Xt),typeof ot>"u"&&(ot=Be),d&&(ot===0&&Xt>$[1]?m?t(0,$[1]=Xt,$):Xt=$[1]:ot===1&&Xt<$[0]&&(m?t(0,$[0]=Xt,$):Xt=$[0])),$[ot]!==Xt&&t(0,$[ot]=Xt,$),ke!==Xt&&(yr(),ke=Xt),Xt}function Pt(ot){return d==="min"?0:ot[0]}function sn(ot){return d==="max"?0:d==="min"?100-ot[0]:100-ot[1]}function Tn(ot){De&&(t(24,re=!1),be=!1,t(25,we=!1))}function Vn(ot){M||(t(26,Be=jA(ot.target)),t(24,re=!0))}function An(ot){if(!M){const Xt=jA(ot.target);let yn=ot.ctrlKey||ot.metaKey||ot.shiftKey?k*10:k,jn=!1;switch(ot.key){case"PageDown":yn*=10;case"ArrowRight":case"ArrowUp":Je(Xt,$[Xt]+yn),jn=!0;break;case"PageUp":yn*=10;case"ArrowLeft":case"ArrowDown":Je(Xt,$[Xt]-yn),jn=!0;break;case"Home":Je(Xt,p),jn=!0;break;case"End":Je(Xt,g),jn=!0;break}jn&&(ot.preventDefault(),ot.stopPropagation())}}function xn(ot){if(!M){const Xt=ot.target,yn=c2(ot);t(24,re=!0),be=!0,t(25,we=!0),t(26,Be=Tt(yn)),ze=ke=s($[Be]),Pr(),ot.type==="touchstart"&&!Xt.matches(".pipVal")&&It(yn)}}function In(ot){ot.type==="touchend"&&Nr(),t(25,we=!1)}function Hi(ot){De=!1,re&&ot.target!==f&&!f.contains(ot.target)&&t(24,re=!1)}function mt(ot){M||be&&It(c2(ot))}function dr(ot){if(!M){const Xt=ot.target;be&&((Xt===f||f.contains(Xt))&&(t(24,re=!0),!vt(Xt)&&!Xt.matches(".pipVal")&&It(c2(ot))),Nr())}be=!1,t(25,we=!1)}function yi(ot){be=!1,t(25,we=!1)}function Ke(ot){M||(ot.target===f||f.contains(ot.target))&&(De=!0)}function Pr(){!M&&te("start",{activeHandle:Be,value:ze,values:$.map(ot=>s(ot))})}function Nr(){!M&&te("stop",{activeHandle:Be,startValue:ze,value:$[Be],values:$.map(ot=>s(ot))})}function yr(){!M&&te("change",{activeHandle:Be,startValue:ze,previousValue:typeof ke>"u"?ze:ke,value:$[Be],values:$.map(ot=>s(ot))})}function ul(ot){Oe[ot?"unshift":"push"](()=>{f=ot,t(1,f)})}return i.$$set=ot=>{"slider"in ot&&t(1,f=ot.slider),"range"in ot&&t(2,d=ot.range),"pushy"in ot&&t(44,m=ot.pushy),"min"in ot&&t(3,p=ot.min),"max"in ot&&t(4,g=ot.max),"step"in ot&&t(5,k=ot.step),"values"in ot&&t(0,$=ot.values),"vertical"in ot&&t(6,C=ot.vertical),"float"in ot&&t(7,E=ot.float),"reversed"in ot&&t(8,S=ot.reversed),"hoverable"in ot&&t(9,T=ot.hoverable),"disabled"in ot&&t(10,M=ot.disabled),"pips"in ot&&t(11,R=ot.pips),"pipstep"in ot&&t(12,Y=ot.pipstep),"all"in ot&&t(13,z=ot.all),"first"in ot&&t(14,j=ot.first),"last"in ot&&t(15,V=ot.last),"rest"in ot&&t(16,x=ot.rest),"id"in ot&&t(17,ee=ot.id),"prefix"in ot&&t(18,J=ot.prefix),"suffix"in ot&&t(19,q=ot.suffix),"formatter"in ot&&t(20,le=ot.formatter),"handleFormatter"in ot&&t(21,G=ot.handleFormatter),"precision"in ot&&t(45,X=ot.precision),"springValues"in ot&&t(46,se=ot.springValues)},i.$$.update=()=>{i.$$.dirty[0]&24&&t(49,r=function(ot){return ot<=p?p:ot>=g?g:ot}),i.$$.dirty[0]&56|i.$$.dirty[1]&262144&&t(48,s=function(ot){if(ot<=p)return Ce(p);if(ot>=g)return Ce(g);let Xt=(ot-p)%k,yn=ot-Xt;return Math.abs(Xt)*2>=k&&(yn+=Xt>0?k:-k),yn=r(yn),Ce(yn)}),i.$$.dirty[0]&24&&t(23,n=function(ot){let Xt=(ot-p)/(g-p)*100;return isNaN(Xt)||Xt<=0?0:Xt>=100?100:Ce(Xt)}),i.$$.dirty[0]&12582937|i.$$.dirty[1]&229376&&(Array.isArray($)||(t(0,$=[(g+p)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")),t(0,$=$t($.map(ot=>s(ot)))),ie!==$.length?c(t(22,Ue=_Ue($.map(ot=>n(ot)),se))):Ue.set($.map(ot=>n(ot))),t(47,ie=$.length)),i.$$.dirty[0]&320&&t(28,l=C?S?"top":"bottom":S?"right":"left"),i.$$.dirty[0]&320&&t(27,o=C?S?"bottom":"top":S?"left":"right")},[$,f,d,p,g,k,C,E,S,T,M,R,Y,z,j,V,x,ee,J,q,le,G,Ue,n,re,we,Be,o,l,a,Ce,Je,Pt,sn,Tn,Vn,An,xn,In,Hi,mt,dr,yi,Ke,m,X,se,ie,s,r,ul]}class wUe extends pe{constructor(e){super(),me(this,e,yUe,kUe,he,{slider:1,range:2,pushy:44,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,precision:45,springValues:46},null,[-1,-1,-1])}}function YA(i){let e,t=i[0].minLabel+"",n,r;return{c(){e=P("span"),n=K(t),h(e,"class",r="min-label range-label "+(Ci.emoji(i[0].minLabel)?"text-2xl":"text-xs"))},m(s,l){w(s,e,l),D(e,n)},p(s,l){l&1&&t!==(t=s[0].minLabel+"")&&de(n,t),l&1&&r!==(r="min-label range-label "+(Ci.emoji(s[0].minLabel)?"text-2xl":"text-xs"))&&h(e,"class",r)},d(s){s&&y(e)}}}function UA(i){let e,t=i[0].maxLabel+"",n,r;return{c(){e=P("span"),n=K(t),h(e,"class",r="max-label range-label "+(Ci.emoji(i[0].maxLabel)?"text-2xl":"text-xs"))},m(s,l){w(s,e,l),D(e,n)},p(s,l){l&1&&t!==(t=s[0].maxLabel+"")&&de(n,t),l&1&&r!==(r="max-label range-label "+(Ci.emoji(s[0].maxLabel)?"text-2xl":"text-xs"))&&h(e,"class",r)},d(s){s&&y(e)}}}function $Ue(i){let e,t;return e=new If({props:{text:`${i[1]}`,className:"font-bold text-gray-800 dark:text-white"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.text=`${n[1]}`),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function FUe(i){let e,t;return e=new If({props:{text:`${i[0].displayValue(i[1])}`,className:" font-bold text-gray-800 dark:text-white"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&3&&(s.text=`${n[0].displayValue(n[1])}`),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function EUe(i){let e,t,n,r,s,l,o,a,u,c,f=i[0].minLabel&&YA(i),d=i[0].maxLabel&&UA(i);s=new wUe({props:{style:"--range-slider:"+i[0].color+";",springValues:{stiffness:.5,damping:.7},formatter:i[7],first:i[0].minLabel,last:i[0].maxLabel,vertical:!0,value:i[1],min:parseFloat(i[0].min),max:parseFloat(i[0].max),steps:parseFloat(i[0].step||1),pips:!0}}),s.$on("change",i[8]);const m=[FUe,$Ue],p=[];function g(k,$){return k[0]&&k[0].uom!=="num"?0:k[0]?1:-1}return~(a=g(i))&&(u=p[a]=m[a](i)),{c(){e=P("div"),t=P("div"),f&&f.c(),n=W(),d&&d.c(),r=W(),B(s.$$.fragment),l=W(),o=P("div"),u&&u.c(),h(o,"class","value dark:bg-gray-700 bg-gray-300 px-2 pt-3 pb-1 w-20 -ml-3 -mt-6 rounded-b-xl text-center"),gt(t,"--range-handle-inactive",i[0].color),gt(t,"--range-handle",i[0].color),gt(t,"--range-handle-focus",i[0].color),h(t,"class","relative range-holder pt-5 pb-2 pl-4 flex flex-col items-center justify-center h-full w-full"),h(e,"class","tracker-input-slider relative")},m(k,$){w(k,e,$),D(e,t),f&&f.m(t,null),D(t,n),d&&d.m(t,null),D(t,r),O(s,t,null),D(t,l),D(t,o),~a&&p[a].m(o,null),c=!0},p(k,[$]){k[0].minLabel?f?f.p(k,$):(f=YA(k),f.c(),f.m(t,n)):f&&(f.d(1),f=null),k[0].maxLabel?d?d.p(k,$):(d=UA(k),d.c(),d.m(t,r)):d&&(d.d(1),d=null);const C={};$&1&&(C.style="--range-slider:"+k[0].color+";"),$&1&&(C.formatter=k[7]),$&1&&(C.first=k[0].minLabel),$&1&&(C.last=k[0].maxLabel),$&2&&(C.value=k[1]),$&1&&(C.min=parseFloat(k[0].min)),$&1&&(C.max=parseFloat(k[0].max)),$&1&&(C.steps=parseFloat(k[0].step||1)),s.$set(C);let E=a;a=g(k),a===E?~a&&p[a].p(k,$):(u&&(ae(),v(p[E],1,1,()=>{p[E]=null}),ue()),~a?(u=p[a],u?u.p(k,$):(u=p[a]=m[a](k),u.c()),_(u,1),u.m(o,null)):u=null),(!c||$&1)&&gt(t,"--range-handle-inactive",k[0].color),(!c||$&1)&&gt(t,"--range-handle",k[0].color),(!c||$&1)&&gt(t,"--range-handle-focus",k[0].color)},i(k){c||(_(s.$$.fragment,k),_(u),c=!0)},o(k){v(s.$$.fragment,k),v(u),c=!1},d(k){k&&y(e),f&&f.d(),d&&d.d(),I(s),~a&&p[a].d()}}}function CUe(i,e,t){let{min:n="0"}=e,{max:r="10"}=e,{value:s="5"}=e,{tracker:l=void 0}=e,{step:o=l?l.step:"1"}=e,a;const u=Ut();async function c(){a&&u("change",parseInt(a))}Yt(c);const f=m=>l.displayValue(m),d=m=>{u("change",parseInt(m.detail.value))};return i.$$set=m=>{"min"in m&&t(3,n=m.min),"max"in m&&t(4,r=m.max),"value"in m&&t(5,s=m.value),"tracker"in m&&t(0,l=m.tracker),"step"in m&&t(6,o=m.step)},i.$$.update=()=>{i.$$.dirty&32&&t(1,a=s)},[l,a,u,n,r,s,o,f,d]}class DUe extends pe{constructor(e){super(),me(this,e,CUe,EUe,he,{min:3,max:4,value:5,tracker:0,step:6})}}function SUe(i){let e,t,n;return{c(){e=P("div"),t=K(i[0]),h(e,"class",n="label mr-2 "+i[1])},m(r,s){w(r,e,s),D(e,t)},p(r,s){s&1&&de(t,r[0]),s&2&&n!==(n="label mr-2 "+r[1])&&h(e,"class",n)},i:Z,o:Z,d(r){r&&y(e)}}}function TUe(i){let e,t,n;return{c(){e=P("div"),t=K(i[5]),h(e,"class",n="label mr-2 "+i[1])},m(r,s){w(r,e,s),D(e,t)},p(r,s){s&32&&de(t,r[5]),s&2&&n!==(n="label mr-2 "+r[1])&&h(e,"class",n)},i:Z,o:Z,d(r){r&&y(e)}}}function AUe(i){let e,t,n,r=i[6].label+"",s,l,o,a=i[6].formatValue(i[6].value)+"",u,c;return e=new er({props:{trackable:i[6]}}),{c(){B(e.$$.fragment),t=W(),n=P("h2"),s=K(r),l=W(),o=P("div"),u=K(a),h(n,"class",""),h(o,"class","opacity-50")},m(f,d){O(e,f,d),w(f,t,d),w(f,n,d),D(n,s),w(f,l,d),w(f,o,d),D(o,u),c=!0},p(f,d){const m={};d&64&&(m.trackable=f[6]),e.$set(m),(!c||d&64)&&r!==(r=f[6].label+"")&&de(s,r),(!c||d&64)&&a!==(a=f[6].formatValue(f[6].value)+"")&&de(u,a)},i(f){c||(_(e.$$.fragment,f),c=!0)},o(f){v(e.$$.fragment,f),c=!1},d(f){I(e,f),f&&y(t),f&&y(n),f&&y(l),f&&y(o)}}}function PUe(i){let e,t,n,r=i[6].label+"",s,l,o,a,u=i[6].formatValue(i[6].value)+"",c,f,d,m,p,g,k,$;return e=new er({props:{trackable:i[6]}}),{c(){B(e.$$.fragment),t=W(),n=P("h2"),s=K(r),o=W(),a=P("div"),c=K(u),f=W(),d=P("div"),m=W(),p=P("div"),g=K(i[5]),h(n,"class",l=i[3]?"font-bold":"font-medium"),h(a,"class","opacity-50"),h(d,"class","filler"),h(p,"class",k="text-center px-2 "+i[1])},m(C,E){O(e,C,E),w(C,t,E),w(C,n,E),D(n,s),w(C,o,E),w(C,a,E),D(a,c),w(C,f,E),w(C,d,E),w(C,m,E),w(C,p,E),D(p,g),$=!0},p(C,E){const S={};E&64&&(S.trackable=C[6]),e.$set(S),(!$||E&64)&&r!==(r=C[6].label+"")&&de(s,r),(!$||E&8&&l!==(l=C[3]?"font-bold":"font-medium"))&&h(n,"class",l),(!$||E&64)&&u!==(u=C[6].formatValue(C[6].value)+"")&&de(c,u),(!$||E&32)&&de(g,C[5]),(!$||E&2&&k!==(k="text-center px-2 "+C[1]))&&h(p,"class",k)},i(C){$||(_(e.$$.fragment,C),$=!0)},o(C){v(e.$$.fragment,C),$=!1},d(C){I(e,C),C&&y(t),C&&y(n),C&&y(o),C&&y(a),C&&y(f),C&&y(d),C&&y(m),C&&y(p)}}}function NUe(i){let e,t,n,r,s;const l=[PUe,AUe,TUe,SUe],o=[];function a(u,c){return u[4].length&&u[5].length?0:u[4].length?1:u[5].length?2:3}return t=a(i),n=o[t]=l[t](i),{c(){e=P("div"),n.c(),h(e,"class",r="n-label-meta space-x-2 flex items-center "+(i[3]?"selected":"")+" "+i[2]+" h-8")},m(u,c){w(u,e,c),o[t].m(e,null),s=!0},p(u,[c]){let f=t;t=a(u),t===f?o[t].p(u,c):(ae(),v(o[f],1,1,()=>{o[f]=null}),ue(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,null)),(!s||c&12&&r!==(r="n-label-meta space-x-2 flex items-center "+(u[3]?"selected":"")+" "+u[2]+" h-8"))&&h(e,"class",r)},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),o[t].d()}}}function MUe(i,e,t){let n;Le(i,en,m=>t(9,n=m));let{str:r=void 0}=e,{titleClass:s=""}=e,{className:l=""}=e,{selected:o=!1}=e,a=[],u="",c="",f,d;return i.$$set=m=>{"str"in m&&t(0,r=m.str),"titleClass"in m&&t(1,s=m.titleClass),"className"in m&&t(2,l=m.className),"selected"in m&&t(3,o=m.selected)},i.$$.update=()=>{i.$$.dirty&913&&r!==d&&(t(8,d=r),t(7,a=sc(r)),t(5,u=a.filter(m=>m.type=="generic").map(m=>m.raw).join(" ").trim()),t(4,c=a.filter(m=>m.type!=="generic").map(m=>m.raw).join(" ").trim()),c.length&&t(6,f=t0e(c,n.trackables)))},[r,s,l,o,c,u,f,a,d,n]}class LUe extends pe{constructor(e){super(),me(this,e,MUe,NUe,he,{str:0,titleClass:1,className:2,selected:3})}}const OUe=i=>({}),WA=i=>({});function qA(i,e,t){const n=i.slice();return n[12]=e[t],n[14]=t,n}function HA(i){let e,t;return e=new Nf({props:{autocomplete:!0,compact:!0,showClose:!0,className:"p-0 px-2"}}),e.$on("clear",i[6]),e.$on("change",i[7]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function VA(i){let e,t;return e=new zi({props:{title:Fe.t("general.no-matches-found","No matches found")}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function IUe(i){let e,t;function n(){return i[8](i[12])}return e=new lt({props:{bottomLine:54,style:"min-height:40px;",compact:!0,clickable:!0,className:"pl-3 pr-2 compact duration-75  "+(i[0].indexOf(i[12])>-1?"bg-primary-500 bg-opacity-10 text-white":"bg-gray-200 dark:bg-gray-800"),$$slots:{right:[zUe],default:[RUe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&5&&(l.className="pl-3 pr-2 compact duration-75  "+(i[0].indexOf(i[12])>-1?"bg-primary-500 bg-opacity-10 text-white":"bg-gray-200 dark:bg-gray-800")),s&517&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function BUe(i){let e,t=i[12].replace(":","")+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","text-gray-800 dark:text-gray-200 text-lg font-bold pt-5 pb-1 px-3 mt-1")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&4&&t!==(t=r[12].replace(":","")+"")&&de(n,t)},i:Z,o:Z,d(r){r&&y(e)}}}function RUe(i){let e,t,n;return t=new LUe({props:{selected:i[0].indexOf(i[12])>-1,className:"w-full space-x-2",str:i[12],titleClass:(i[0].indexOf(i[12])>-1,"")}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","flex items-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&5&&(l.selected=r[0].indexOf(r[12])>-1),s&4&&(l.str=r[12]),s&5&&(l.titleClass=(r[0].indexOf(r[12])>-1,"")),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function zUe(i){let e,t,n;return t=new Ar({props:{title:i[12],value:i[0].indexOf(i[12])>-1}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right"),h(e,"class","stiff flex items-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&4&&(l.title=r[12]),s&5&&(l.value=r[0].indexOf(r[12])>-1),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function xA(i,e){let t,n,r,s,l,o;const a=[BUe,IUe],u=[];function c(f,d){return d&4&&(n=null),n==null&&(n=!!YUe(f[12])),n?0:1}return r=c(e,-1),s=u[r]=a[r](e),{key:i,first:null,c(){t=Ae(),s.c(),l=Ae(),this.first=t},m(f,d){w(f,t,d),u[r].m(f,d),w(f,l,d),o=!0},p(f,d){e=f;let m=r;r=c(e,d),r===m?u[r].p(e,d):(ae(),v(u[m],1,1,()=>{u[m]=null}),ue(),s=u[r],s?s.p(e,d):(s=u[r]=a[r](e),s.c()),_(s,1),s.m(l.parentNode,l))},i(f){o||(_(s),o=!0)},o(f){v(s),o=!1},d(f){f&&y(t),u[r].d(f),f&&y(l)}}}function jUe(i){let e,t,n,r=[],s=new Map,l,o,a,u=i[1].picks.length>10&&HA(i),c=i[2].length==0&&i[3]&&VA(),f=i[2]||[];const d=g=>g[14];for(let g=0;g<f.length;g+=1){let k=qA(i,f,g),$=d(k);s.set($,r[g]=xA($,k))}const m=i[5].bottom,p=nt(m,i,i[9],WA);return{c(){e=P("div"),u&&u.c(),t=W(),c&&c.c(),n=W();for(let g=0;g<r.length;g+=1)r[g].c();l=W(),o=P("div"),p&&p.c(),h(o,"class","flex"),h(e,"class","w-full p-2 bg-gray-100 dark:bg-gray-800 ")},m(g,k){w(g,e,k),u&&u.m(e,null),D(e,t),c&&c.m(e,null),D(e,n);for(let $=0;$<r.length;$+=1)r[$].m(e,null);D(e,l),D(e,o),p&&p.m(o,null),a=!0},p(g,[k]){g[1].picks.length>10?u?(u.p(g,k),k&2&&_(u,1)):(u=HA(g),u.c(),_(u,1),u.m(e,t)):u&&(ae(),v(u,1,1,()=>{u=null}),ue()),g[2].length==0&&g[3]?c?(c.p(g,k),k&12&&_(c,1)):(c=VA(),c.c(),_(c,1),c.m(e,n)):c&&(ae(),v(c,1,1,()=>{c=null}),ue()),k&21&&(f=g[2]||[],ae(),r=Pi(r,k,d,1,g,f,s,e,br,xA,l,qA),ue()),p&&p.p&&(!a||k&512)&&rt(p,m,g,g[9],a?it(m,g[9],k,OUe):st(g[9]),WA)},i(g){if(!a){_(u),_(c);for(let k=0;k<f.length;k+=1)_(r[k]);_(p,g),a=!0}},o(g){v(u),v(c);for(let k=0;k<r.length;k+=1)v(r[k]);v(p,g),a=!1},d(g){g&&y(e),u&&u.d(),c&&c.d();for(let k=0;k<r.length;k+=1)r[k].d();p&&p.d(g)}}}function YUe(i){return i.trim().substr(i.trim().length-1,1)===":"}function UUe(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Ut();let{tracker:l}=e,{active:o=[]}=e,a=[],u;function c(g){o.indexOf(g)>-1?t(0,o=o.filter(k=>k!==g)):o.push(g),t(0,o),setTimeout(()=>{try{document.activeElement.blur()}catch{}},120),f()}function f(){s("change",o)}const d=()=>{t(3,u=void 0)},m=g=>{g.detail&&g.detail.length>0?t(3,u=g.detail):t(3,u=void 0)},p=g=>{c(g)};return i.$$set=g=>{"tracker"in g&&t(1,l=g.tracker),"active"in g&&t(0,o=g.active),"$$scope"in g&&t(9,r=g.$$scope)},i.$$.update=()=>{i.$$.dirty&14&&(t(2,a=l&&l.picks?l.picks:[]),u&&t(2,a=a.filter(g=>g.toLowerCase().search(`${u}`.toLowerCase())>-1)))},[o,l,a,u,c,n,d,m,p,r]}class WUe extends pe{constructor(e){super(),me(this,e,UUe,jUe,he,{tracker:1,active:0})}}function qUe(i){let e,t;return e=new WUe({props:{tracker:i[0],active:i[1]}}),e.$on("change",i[2]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.tracker=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function HUe(i){let e,t;return e=new fY({props:{className:"mx-3 mt-3",list:i[0].picks,showHeaderContent:!1}}),e.$on("change",i[3]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.list=n[0].picks),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function VUe(i){let e,t,n,r;const s=[HUe,qUe],l=[];function o(a,u){return 1}return t=o(),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"class","picker-input-wrapper filler overflow-y-auto max-h-full min-h-0")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,[u]){n.p(a,u)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function xUe(i,e,t){const n=Ut();let{tracker:r}=e,s=[];function l(a){n("change",a.detail)}const o=a=>{t(0,r.picks=a.detail,r)};return i.$$set=a=>{"tracker"in a&&t(0,r=a.tracker)},[r,s,l,o]}class GUe extends pe{constructor(e){super(),me(this,e,xUe,VUe,he,{tracker:0})}}function ZUe(i){let e,t,n,r,s;return t=new If({props:{text:i[4]}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class",n="n-counter "+i[1]+" "+(i[0]?"large":"small")+" "+(i[3]?"filled":"")+" svelte-2wp3xd"),h(e,"style",r=`color:${i[3]?"#FFF":i[2]}; background-color:${i[3]?i[2]:""}`)},m(l,o){w(l,e,o),O(t,e,null),s=!0},p(l,[o]){const a={};o&16&&(a.text=l[4]),t.$set(a),(!s||o&11&&n!==(n="n-counter "+l[1]+" "+(l[0]?"large":"small")+" "+(l[3]?"filled":"")+" svelte-2wp3xd"))&&h(e,"class",n),(!s||o&12&&r!==(r=`color:${l[3]?"#FFF":l[2]}; background-color:${l[3]?l[2]:""}`))&&h(e,"style",r)},i(l){s||(_(t.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),s=!1},d(l){l&&y(e),I(t)}}}function XUe(i,e,t){let n,{started:r=void 0}=e,{initialDuration:s=0}=e,{lg:l=void 0}=e,{className:o=""}=e,{color:a="var(--color-red)"}=e,{filled:u=!1}=e;Yt(()=>{r&&c.init()});const c={init(){setInterval(()=>{let d=s*1e3+new Date().getTime()-r;t(4,n=c.secondsToTime(c.msToSecond(d)))},1e3);let f=s*1e3+new Date().getTime()-r;t(4,n=c.secondsToTime(c.msToSecond(f)))},normalizeTime(f){return(f+"").length===1?f.padStart(2,"0"):f},secondsToTime(f){let d=f.toFixed(0),m=Math.floor(parseInt(d)/60).toString(),p="";return parseInt(m)>59&&(p=this.normalizeTime(Math.floor(parseInt(m)/60).toString()),m=this.normalizeTime((parseInt(m)-parseInt(p)*60).toString())),d=this.normalizeTime(Math.floor(parseInt(d)%60).toString()),m=this.normalizeTime(m),p!==""?(p=parseInt(p),`${p}:${m}:${d}`):`00:${m}:${d}`},msToSecond(f){return f/1e3}};return i.$$set=f=>{"started"in f&&t(5,r=f.started),"initialDuration"in f&&t(6,s=f.initialDuration),"lg"in f&&t(0,l=f.lg),"className"in f&&t(1,o=f.className),"color"in f&&t(2,a=f.color),"filled"in f&&t(3,u=f.filled)},t(4,n="00:00:00"),[l,o,a,u,n,r,s]}class _$ extends pe{constructor(e){super(),me(this,e,XUe,ZUe,he,{started:5,initialDuration:6,lg:0,className:1,color:2,filled:3})}}function KUe(i){let e,t,n,r,s,l,o,a,u,c;l=new oq({props:{value:i[0]}}),l.$on("change",i[4]);let f=!i[2]&&i[0]&&GA(i);return{c(){e=P("div"),t=P("div"),n=W(),r=P("div"),s=W(),B(l.$$.fragment),o=W(),f&&f.c(),a=W(),u=P("div"),h(t,"class","filler"),h(r,"class","filler"),h(u,"class","filler"),h(e,"class","flex flex-col items-center justify-center")},m(d,m){w(d,e,m),D(e,t),D(e,n),D(e,r),D(e,s),O(l,e,null),D(e,o),f&&f.m(e,null),D(e,a),D(e,u),c=!0},p(d,m){const p={};m&1&&(p.value=d[0]),l.$set(p),!d[2]&&d[0]?f?f.p(d,m):(f=GA(d),f.c(),f.m(e,a)):f&&(f.d(1),f=null)},i(d){c||(_(l.$$.fragment,d),c=!0)},o(d){v(l.$$.fragment,d),c=!1},d(d){d&&y(e),I(l),f&&f.d()}}}function JUe(i){let e,t,n,r,s,l,o;return r=new _$({props:{initialDuration:i[1].timeTracked,started:i[1].started,lg:!0,className:"py-5 bg-light"}}),{c(){e=P("div"),t=P("div"),n=W(),B(r.$$.fragment),s=W(),l=P("div"),h(t,"class","filler"),h(l,"class","filler"),h(e,"class","flex flex-col items-center justify-center")},m(a,u){w(a,e,u),D(e,t),D(e,n),O(r,e,null),D(e,s),D(e,l),o=!0},p(a,u){const c={};u&2&&(c.initialDuration=a[1].timeTracked),u&2&&(c.started=a[1].started),r.$set(c)},i(a){o||(_(r.$$.fragment,a),o=!0)},o(a){v(r.$$.fragment,a),o=!1},d(a){a&&y(e),I(r)}}}function GA(i){let e,t,n;return{c(){e=P("button"),e.textContent=`${Fe.t("general.resume","Resume")}`,h(e,"aria-label","Resume Timer"),h(e,"class","bg-gray-300 rounded-md px-3 py-1 mt-2 font-medium dark:bg-gray-700 dark:text-white")},m(r,s){w(r,e,s),t||(n=Se(e,"click",i[5]),t=!0)},p:Z,d(r){r&&y(e),t=!1,n()}}}function QUe(i){let e,t,n,r;const s=[JUe,KUe],l=[];function o(a,u){return!a[2]&&a[1].started?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"class","n-timer-input w-full")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,[u]){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function eWe(i,e,t){const n=Ut();let{value:r}=e,{tracker:s}=e,{manual:l=!1}=e;const o=u=>{n("change",u.detail)},a=()=>{n("forceStart")};return i.$$set=u=>{"value"in u&&t(0,r=u.value),"tracker"in u&&t(1,s=u.tracker),"manual"in u&&t(2,l=u.manual)},[r,s,l,n,o,a]}class tWe extends pe{constructor(e){super(),me(this,e,eWe,QUe,he,{value:0,tracker:1,manual:2})}}var nWe=iy,iWe=gy;function rWe(i,e,t){var n=i==null?0:i.length;return n?(e=t||e===void 0?1:iWe(e),e=n-e,nWe(i,0,e<0?0:e)):[]}var sWe=rWe;function ZA(i,e,t){const n=i.slice();return n[18]=e[t],n[20]=t,n}function XA(i,e,t){const n=i.slice();return n[21]=e[t],n[23]=t,n}function KA(i,e,t){const n=i.slice();return n[24]=e[t],n}function JA(i,e,t){const n=i.slice();return n[24]=e[t],n}function QA(i){let e,t=i[0](i[1])+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","preview")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&3&&t!==(t=r[0](r[1])+"")&&de(n,t)},d(r){r&&y(e)}}}function eP(i){let e,t=i[2],n=[];for(let r=0;r<t.length;r+=1)n[r]=tP(JA(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ae()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&4){t=r[2];let l;for(l=0;l<t.length;l+=1){const o=JA(r,t,l);n[l]?n[l].p(o,s):(n[l]=tP(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){pt(n,r),r&&y(e)}}}function tP(i){let e,t=i[24]+"",n;return{c(){e=P("span"),n=K(t)},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&4&&t!==(t=r[24]+"")&&de(n,t)},d(r){r&&y(e)}}}function nP(i){let e,t=i[24]+"",n;return{c(){e=P("span"),n=K(t),h(e,"class","numberUp")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&2&&t!==(t=r[24]+"")&&de(n,t)},d(r){r&&y(e)}}}function lWe(i){let e;return{c(){e=P("span"),h(e,"class","empty")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function oWe(i){let e,t;function n(){return i[9](i[21])}return e=new He({props:{id:"calc-button-"+i[21],shape:"round",color:"light",size:"lg",delay:0,className:"r-"+i[20]+" b-"+i[23],$$slots:{default:[aWe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&536870912&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function aWe(i){let e=i[21]+"",t,n;return{c(){t=K(e),n=W()},m(r,s){w(r,t,s),w(r,n,s)},p:Z,d(r){r&&y(t),r&&y(n)}}}function iP(i){let e,t,n,r;const s=[oWe,lWe],l=[];function o(a,u){return a[21]!==null?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){t.p(a,u)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function rP(i){let e,t,n=i[18],r=[];for(let l=0;l<n.length;l+=1)r[l]=iP(XA(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&80){n=l[18];let a;for(a=0;a<n.length;a+=1){const u=XA(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=iP(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function uWe(i){let e,t,n,r,s,l,o,a,u,c,f,d=i[0]&&QA(i),m=i[2].length>1&&eP(i),p=i[1].toString().split(""),g=[];for(let E=0;E<p.length;E+=1)g[E]=nP(KA(i,p,E));let k=i[4],$=[];for(let E=0;E<k.length;E+=1)$[E]=rP(ZA(i,k,E));const C=E=>v($[E],1,1,()=>{$[E]=null});return{c(){e=P("div"),t=P("div"),d&&d.c(),n=W(),r=P("div"),m&&m.c(),s=W(),l=P("div");for(let E=0;E<g.length;E+=1)g[E].c();o=W(),a=P("div");for(let E=0;E<$.length;E+=1)$[E].c();h(r,"class","buffer"),h(l,"class","value"),gt(l,"font-size",i[3]+"px"),h(t,"class","calc-screen"),h(a,"class","buttons"),h(e,"class","w-full n-calculator")},m(E,S){w(E,e,S),D(e,t),d&&d.m(t,null),D(t,n),D(t,r),m&&m.m(r,null),D(t,s),D(t,l);for(let T=0;T<g.length;T+=1)g[T].m(l,null);D(e,o),D(e,a);for(let T=0;T<$.length;T+=1)$[T].m(a,null);u=!0,c||(f=Se(window,"keydown",i[5]),c=!0)},p(E,[S]){if(E[0]?d?d.p(E,S):(d=QA(E),d.c(),d.m(t,n)):d&&(d.d(1),d=null),E[2].length>1?m?m.p(E,S):(m=eP(E),m.c(),m.m(r,null)):m&&(m.d(1),m=null),S&2){p=E[1].toString().split("");let T;for(T=0;T<p.length;T+=1){const M=KA(E,p,T);g[T]?g[T].p(M,S):(g[T]=nP(M),g[T].c(),g[T].m(l,null))}for(;T<g.length;T+=1)g[T].d(1);g.length=p.length}if((!u||S&8)&&gt(l,"font-size",E[3]+"px"),S&80){k=E[4];let T;for(T=0;T<k.length;T+=1){const M=ZA(E,k,T);$[T]?($[T].p(M,S),_($[T],1)):($[T]=rP(M),$[T].c(),_($[T],1),$[T].m(a,null))}for(ae(),T=k.length;T<$.length;T+=1)C(T);ue()}},i(E){if(!u){for(let S=0;S<k.length;S+=1)_($[S]);u=!0}},o(E){$=$.filter(Boolean);for(let S=0;S<$.length;S+=1)v($[S]);u=!1},d(E){E&&y(e),d&&d.d(),m&&m.d(),pt(g,E),pt($,E),c=!1,f()}}}function Ag(i){return!isNaN(i)&&i!==null}function cWe(i,e,t){const n=Ut();let r="0",s=[],l=40,{value:o=0}=e,{displayFormat:a=void 0}=e,{defaultEphemeral:u=!0}=e,c=!1;Yt(()=>{Ci.truthy(o)&&(t(2,s=[o]),m())});const f=[["C","+/-","%","/"],[7,8,9,"*"],[4,5,6,"-"],[1,2,3,"+"],["\u232B",0,".",null]];function d(T){var z;const M=T.key,R=document.getElementById(`calc-button-${M}`);(z=R==null?void 0:R.classList)==null||z.add("pressing"),f.find(j=>j.find(V=>`${V}`==`${M}`))?C(M):`${M}`=="0"?C(0):M=="Backspace"&&C("\u232B"),setTimeout(()=>{var j;(j=R==null?void 0:R.classList)==null||j.remove("pressing")},200)}function m(){s.length==1?t(1,r=s[0]):s.length?t(1,r=p()):t(1,r=0),n("change",r),E()}function p(){return Nt.calculate(s)}function g(T){!c&&Ci.truthy(o)&&u&&(t(7,o=0),k(),c=!0),C(T)}function k(){t(2,s=[])}function $(){if(s.length){let T=`${s[s.length-1]}`;t(2,s[s.length-1]=sWe(T.split("")).join(""),s),m()}}function C(T){let M=s.length?s[s.length-1]:null;if(Ag(T)&&Ag(M))t(2,s[s.length-1]=parseFloat(`${M}${T}`),s),m();else if(Ag(T)&&M=="."){let R=s[s.length-2],Y=T;Nt.isFloat(R)||(t(2,s[s.length-2]=`${R}.${Y}`,s),s.pop()),m()}else if(Ag(T))s.push(T),m();else switch(T){case"C":t(2,s=[]),m();break;case"\u232B":$();break;case"+/-":r>0?t(2,s=[-Math.abs(r)]):t(2,s=[Math.abs(r)]),m();break;case"%":t(2,s=[r/100]),m();break;default:["+","*","/","-","."].indexOf(T)>-1&&(s.push(T),m());break}t(2,s)}async function E(){await Lt(10);let T=r.toString().length;T<10?t(3,l=40):T>=10&&T<18?t(3,l=30):t(3,l=20)}const S=T=>{g(T)};return i.$$set=T=>{"value"in T&&t(7,o=T.value),"displayFormat"in T&&t(0,a=T.displayFormat),"defaultEphemeral"in T&&t(8,u=T.defaultEphemeral)},[a,r,s,l,f,d,g,o,u,S]}class uq extends pe{constructor(e){super(),me(this,e,cWe,uWe,he,{value:7,displayFormat:0,defaultEphemeral:8})}}function fWe(i){let e,t;return e=new ki({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function dWe(i){let e,t,n,r;const s=[mWe,hWe],l=[];function o(a,u){return a[0].type==="timer"&&a[2]!==!1?0:a[2]?1:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=Ae()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function hWe(i){let e,t,n,r;return{c(){e=P("button"),t=K(i[4]),h(e,"aria-label","Save"),h(e,"type","button"),h(e,"class","action-button bg-primary-500 text-white")},m(s,l){w(s,e,l),D(e,t),n||(r=Se(e,"click",i[12]),n=!0)},p(s,l){l&16&&de(t,s[4])},i:Z,o:Z,d(s){s&&y(e),n=!1,r()}}}function mWe(i){let e,t,n,r;const s=[gWe,_We,pWe],l=[];function o(a,u){return a[0].started?0:!a[0].started&&!a[1]?1:!a[0].started&&a[1]?2:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=Ae()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function pWe(i){let e,t,n,r;return{c(){e=P("button"),t=K(i[4]),h(e,"aria-label","Save"),e.autofocus=!0,h(e,"type","button"),h(e,"class","action-button bg-primary-500 text-white")},m(s,l){w(s,e,l),D(e,t),e.focus(),n||(r=Se(e,"click",i[11]),n=!0)},p(s,l){l&16&&de(t,s[4])},i:Z,o:Z,d(s){s&&y(e),n=!1,r()}}}function _We(i){let e,t,n;return{c(){e=P("button"),e.textContent=`${Fe.t("general.start","Start")}`,h(e,"aria-label","Start Timer"),h(e,"type","button"),e.autofocus=!0,h(e,"class","action-button bg-primary-500 text-white")},m(r,s){w(r,e,s),e.focus(),t||(n=Se(e,"click",i[10]),t=!0)},p:Z,i:Z,o:Z,d(r){r&&y(e),t=!1,n()}}}function gWe(i){let e,t,n,r,s;return t=new et({props:{icon:kee,size:32,className:"text-white"}}),{c(){e=P("button"),B(t.$$.fragment),h(e,"type","button"),h(e,"aria-label","Save"),e.autofocus=!0,h(e,"class","action-button bg-red-500 text-white")},m(l,o){w(l,e,o),O(t,e,null),n=!0,e.focus(),r||(s=Se(e,"click",i[9]),r=!0)},p:Z,i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),I(t),r=!1,s()}}}function vWe(i){let e,t,n,r;const s=[dWe,fWe],l=[];function o(a,u){return a[3]?1:0}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"class","flex items-center justify-center w-full px-2")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function bWe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function kWe(i){let e,t,n;return t=new He({props:{type:"clear",size:"lg",className:"px-2 -ml-2 text-lg md:text-xl text-gray-900 dark:text-white",$$slots:{default:[bWe]},$$scope:{ctx:i}}}),t.$on("click",i[8]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","left"),h(e,"class","pr-2")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&8192&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function yWe(i){let e,t;return e=new He({props:{className:"w-16",clear:!0}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wWe(i){let e,t;return e=new He({props:{id:"input-insert-button",clear:!0,autofocus:!0,primary:!i[2],size:"lg",title:"Add this to the note without immediately saving.",className:`-mr-2 whitespace-nowrap text-lg md:text-xl 
                `+(i[2]?"text-gray-900 dark:text-white":"")+`
                `+(i[0].started?"hidden":""),$$slots:{default:[EWe]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.primary=!n[2]),r&5&&(s.className=`-mr-2 whitespace-nowrap text-lg md:text-xl 
                `+(n[2]?"text-gray-900 dark:text-white":"")+`
                `+(n[0].started?"hidden":"")),r&8228&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $We(i){let e=Fe.t("general.Insert","Insert")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function FWe(i){let e=(i[5]||Fe.t("general.next","Next"))+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&32&&e!==(e=(n[5]||Fe.t("general.next","Next"))+"")&&de(t,e)},d(n){n&&y(t)}}}function EWe(i){let e;function t(s,l){return s[2]?$We:FWe}let n=t(i),r=n(i);return{c(){r.c(),e=Ae()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function CWe(i){let e,t,n,r;const s=[wWe,yWe],l=[];function o(a,u){return a[1]!==void 0&&!a[0].started?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function DWe(i){let e,t,n;return t=new Sn({props:{$$slots:{right:[CWe],left:[kWe],default:[vWe]},$$scope:{ctx:i}}}),{c(){e=P("footer"),B(t.$$.fragment),h(e,"class","tracker-input-footer py-3 stiff glass-lite z-50 w-full rounded-b-2xl")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,[s]){const l={};s&8255&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function SWe(i,e,t){let{tracker:n}=e,{value:r}=e,{allowSave:s}=e,{saving:l}=e,{saveLabel:o=Fe.t("general.save","Save")}=e,{nextLabel:a=Fe.t("general.next","Next")}=e;const u=Ut(),c=()=>{u("add")},f=()=>{u("cancel")},d=()=>u("stopTimer"),m=()=>{u("startTimer")},p=()=>{u("save")},g=()=>{u("save")};return i.$$set=k=>{"tracker"in k&&t(0,n=k.tracker),"value"in k&&t(1,r=k.value),"allowSave"in k&&t(2,s=k.allowSave),"saving"in k&&t(3,l=k.saving),"saveLabel"in k&&t(4,o=k.saveLabel),"nextLabel"in k&&t(5,a=k.nextLabel)},[n,r,s,l,o,a,u,c,f,d,m,p,g]}class TWe extends pe{constructor(e){super(),me(this,e,SWe,DWe,he,{tracker:0,value:1,allowSave:2,saving:3,saveLabel:4,nextLabel:5})}}function AWe(i){let e,t;return{c:Z,m(n,r){e||(t=[Se(document.body,"keyup",i[7]),Se(document.body,"keydown",i[8])],e=!0)},p:Z,i:Z,o:Z,d(n){e=!1,Ot(t)}}}function PWe(i,e,t){let n,r,{paused:s=!1}=e,{pauseOnInput:l=!1}=e;const o=Ut();let a=[],u=[];const c=({key:d})=>{t(4,u=u.filter(m=>m!==d)),!(u.length>0)&&t(2,a=[])},f=({key:d,target:m})=>{l&&m.tagName!=="BODY"||(t(4,u=[...u,d]),s||(d in r?o("combo",n):t(2,a=[...a,d]),o(d),o("key",d)))};return i.$$set=d=>{"paused"in d&&t(0,s=d.paused),"pauseOnInput"in d&&t(1,l=d.pauseOnInput)},i.$$.update=()=>{i.$$.dirty&4&&t(3,n=a.join("-")),i.$$.dirty&4&&t(5,r=a.reduce((d,m)=>({...d,[m]:!0}),{})),i.$$.dirty&12&&a.length>0&&o("combo",n)},[s,l,a,n,u,r,o,c,f]}class tv extends pe{constructor(e){super(),me(this,e,PWe,AWe,he,{paused:0,pauseOnInput:1})}}function sP(i){let e,t,n,r=i[6].ready===!0&&lP(i);return{c(){e=P("main"),r&&r.c(),h(e,"class",t="relative z-20 "+(i[4].type==="range"?"filler":"h-full"))},m(s,l){w(s,e,l),r&&r.m(e,null),n=!0},p(s,l){s[6].ready===!0?r?(r.p(s,l),l[0]&64&&_(r,1)):(r=lP(s),r.c(),_(r,1),r.m(e,null)):r&&(ae(),v(r,1,1,()=>{r=null}),ue()),(!n||l[0]&16&&t!==(t="relative z-20 "+(s[4].type==="range"?"filler":"h-full")))&&h(e,"class",t)},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(e),r&&r.d()}}}function lP(i){let e,t,n,r,s;const l=[BWe,IWe,OWe,LWe,MWe,NWe],o=[];function a(u,c){return u[4].type==="range"?0:u[4].type==="note"?1:u[4].type==="picker"?2:u[4].type==="value"||u[4].type==="tick"?3:u[4].type==="timer"?4:5}return t=a(i),n=o[t]=l[t](i),{c(){e=P("div"),n.c(),h(e,"class",r="input-modal filler h-full type-"+i[4].type)},m(u,c){w(u,e,c),o[t].m(e,null),s=!0},p(u,c){let f=t;t=a(u),t===f?o[t].p(u,c):(ae(),v(o[f],1,1,()=>{o[f]=null}),ue(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,null)),(!s||c[0]&16&&r!==(r="input-modal filler h-full type-"+u[4].type))&&h(e,"class",r)},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),o[t].d()}}}function NWe(i){let e,t,n;return t=new uq({props:{value:i[3],displayFormat:i[31]}}),t.$on("change",i[32]),{c(){e=P("div"),B(t.$$.fragment),h(e,"id","keypad-holder")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[0]&8&&(l.value=r[3]),s[0]&16&&(l.displayFormat=r[31]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function MWe(i){let e,t,n;return t=new tWe({props:{tracker:i[4],manual:i[5],value:i[6].value}}),t.$on("forceStart",i[8].startTimer),t.$on("change",i[30]),{c(){e=P("div"),B(t.$$.fragment),gt(e,"min-height",i[7].width>500?"500px":"30vh"),h(e,"class","filler flex items-center justify-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[0]&16&&(l.tracker=r[4]),s[0]&32&&(l.manual=r[5]),s[0]&64&&(l.value=r[6].value),t.$set(l),(!n||s[0]&128)&&gt(e,"min-height",r[7].width>500?"500px":"30vh")},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function LWe(i){let e,t;return e=new uq({props:{value:i[6].value,displayFormat:i[28]}}),e.$on("change",i[29]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&64&&(s.value=n[6].value),r[0]&16&&(s.displayFormat=n[28]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function OWe(i){let e,t;return e=new GUe({props:{tracker:i[4]}}),e.$on("enterEdit",i[25]),e.$on("enterView",i[26]),e.$on("change",i[27]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&16&&(s.tracker=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function IWe(i){let e,t;return e=new pUe({props:{tracker:i[4]}}),e.$on("note",i[24]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&16&&(s.tracker=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function BWe(i){let e,t;return e=new DUe({props:{tracker:i[4],value:(i[6].value||i[4].min)+"",min:(i[4].min||0)+"",max:(i[4].max||0)+""}}),e.$on("change",i[23]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&16&&(s.tracker=n[4]),r[0]&80&&(s.value=(n[6].value||n[4].min)+""),r[0]&16&&(s.min=(n[4].min||0)+""),r[0]&16&&(s.max=(n[4].max||0)+""),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function RWe(i){let e,t,n,r;e=new tv({}),e.$on("Escape",i[21]),e.$on("key",i[22]);let s=i[0].tracker&&sP(i);return{c(){B(e.$$.fragment),t=W(),s&&s.c(),n=Ae()},m(l,o){O(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){l[0].tracker?s?(s.p(l,o),o[0]&1&&_(s,1)):(s=sP(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){I(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function zWe(i){let e,t=i[4].label+"",n,r;return{c(){e=P("span"),n=K(t),h(e,"class",r="animate line-clamp-1 up text-md ntitle "+(i[6].ready?"visible":"hidden"))},m(s,l){w(s,e,l),D(e,n)},p(s,l){l[0]&16&&t!==(t=s[4].label+"")&&de(n,t),l[0]&64&&r!==(r="animate line-clamp-1 up text-md ntitle "+(s[6].ready?"visible":"hidden"))&&h(e,"class",r)},d(s){s&&y(e)}}}function jWe(i){let e,t;return e=new et({props:{icon:Jk,size:26,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function YWe(i){let e,t,n;return t=new He({props:{icon:!0,$$slots:{default:[jWe]},$$scope:{ctx:i}}}),t.$on("click",i[9]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[1]&8&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function UWe(i){let e,t,n;return t=new Sn({props:{$$slots:{right:[YWe],default:[zWe]},$$scope:{ctx:i}}}),{c(){e=P("header"),B(t.$$.fragment),h(e,"slot","header")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[0]&80|s[1]&8&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function WWe(i){let e,t,n,r,s,l,o;function a(p){i[11](p)}function u(p){i[12](p)}function c(p){i[13](p)}function f(p){i[14](p)}function d(p){i[15](p)}let m={slot:"footer",tracker:i[4]};return i[6].value!==void 0&&(m.value=i[6].value),i[1]!==void 0&&(m.saveLabel=i[1]),i[2]!==void 0&&(m.nextLabel=i[2]),i[0].allowSave!==void 0&&(m.allowSave=i[0].allowSave),i[6].saving!==void 0&&(m.saving=i[6].saving),e=new TWe({props:m}),Oe.push(()=>Qe(e,"value",a,i[6].value)),Oe.push(()=>Qe(e,"saveLabel",u,i[1])),Oe.push(()=>Qe(e,"nextLabel",c,i[2])),Oe.push(()=>Qe(e,"allowSave",f,i[0].allowSave)),Oe.push(()=>Qe(e,"saving",d,i[6].saving)),e.$on("add",i[16]),e.$on("startTimer",i[17]),e.$on("stopTimer",i[18]),e.$on("cancel",i[19]),e.$on("save",i[20]),{c(){B(e.$$.fragment)},m(p,g){O(e,p,g),o=!0},p(p,g){const k={};g[0]&16&&(k.tracker=p[4]),!t&&g[0]&64&&(t=!0,k.value=p[6].value,tt(()=>t=!1)),!n&&g[0]&2&&(n=!0,k.saveLabel=p[1],tt(()=>n=!1)),!r&&g[0]&4&&(r=!0,k.nextLabel=p[2],tt(()=>r=!1)),!s&&g[0]&1&&(s=!0,k.allowSave=p[0].allowSave,tt(()=>s=!1)),!l&&g[0]&64&&(l=!0,k.saving=p[6].saving,tt(()=>l=!1)),e.$set(k)},i(p){o||(_(e.$$.fragment,p),o=!0)},o(p){v(e.$$.fragment,p),o=!1},d(p){I(e,p)}}}function qWe(i){let e,t;return e=new ti({props:{className:"tracker-input-modal",$$slots:{footer:[WWe],header:[UWe],default:[RWe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&255|r[1]&8&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function HWe(i,e,t){let n;Le(i,Ni,ie=>t(7,n=ie));let{value:r=void 0}=e,{saveLabel:s=Fe.t("general.save","Save")}=e,{nextLabel:l=Fe.t("general.next","Next")}=e,o,a=!1,{id:u}=e,{payload:c}=e,f={value:null,ready:!1,suffix:"",calcUsed:!1,editing:!1,saving:!1,note:void 0};const d={onSave(){if(!f.saving){t(6,f.saving=!0,f);const ie={value:f.value,tracker:o,suffix:f.suffix,action:"save",note:`#${o.tag}${f.value?`(${f.value})`:""} ${o.getIncluded(f.value)}`.trim()};lg(o),c.onComplete(ie),tn(u),t(6,f.saving=!1,f)}},onAdd(){lg(o),c.onComplete({value:f.value,action:"add",tracker:o,suffix:f.suffix,note:`#${o.tag}${f.value?`(${f.value})`:""} ${o.getIncluded(f.value)}`.trim()}),tn(u)},async onCancel(){o.type==="timer"&&!o.started&&await lg(o),tn(u)},async startTimer(){t(4,o=await aj(o)),d.onCancel()},async stopTimer(){o.started&&(t(4,o=await uj(o)),t(6,f.value=o.timeTracked,f))}};function m(){Kr(o.toTrackable())}(()=>{t(4,o=c.tracker),r&&f.value!==void 0?t(6,f.value=r,f):t(6,f.value=o.default||0,f),c.retrospective&&t(5,a=!0),setTimeout(()=>{t(6,f.ready=!0,f)},12)})();function g(ie){i.$$.not_equal(f.value,ie)&&(f.value=ie,t(6,f))}function k(ie){s=ie,t(1,s)}function $(ie){l=ie,t(2,l),t(0,c)}function C(ie){i.$$.not_equal(c.allowSave,ie)&&(c.allowSave=ie,t(0,c))}function E(ie){i.$$.not_equal(f.saving,ie)&&(f.saving=ie,t(6,f))}const S=()=>d.onAdd(),T=()=>d.startTimer(),M=()=>d.stopTimer(),R=()=>d.onCancel(),Y=()=>d.onSave(),z=()=>{d.onCancel()},j=ie=>{ie.detail=="Enter"&&d.onSave()},V=ie=>{t(6,f.value=ie.detail,f)},x=ie=>{t(6,f.suffix=ie.detail,f),t(6,f.value=1,f)},ee=ie=>{t(6,f.editing=!0,f)},J=()=>{t(6,f.editing=!1,f)},q=ie=>{t(6,f.suffix=ie.detail.join(" "),f)},le=ie=>o.displayValue(ie||""),G=ie=>{t(6,f.value=ie.detail,f)},X=async ie=>{t(6,f.value=ie.detail,f),t(4,o=await lg(o,ie.detail))},se=ie=>o.displayValue(ie||""),te=ie=>{t(6,f.value=ie.detail,f)};return i.$$set=ie=>{"value"in ie&&t(3,r=ie.value),"saveLabel"in ie&&t(1,s=ie.saveLabel),"nextLabel"in ie&&t(2,l=ie.nextLabel),"id"in ie&&t(10,u=ie.id),"payload"in ie&&t(0,c=ie.payload)},i.$$.update=()=>{i.$$.dirty[0]&1&&t(2,l=c==null?void 0:c.nextLabel)},[c,s,l,r,o,a,f,n,d,m,u,g,k,$,C,E,S,T,M,R,Y,z,j,V,x,ee,J,q,le,G,X,se,te]}class VWe extends pe{constructor(e){super(),me(this,e,HWe,qWe,he,{value:3,saveLabel:1,nextLabel:2,id:10,payload:0},null,[-1,-1])}}const g$={tracker:void 0},cq=rn(g$),nv=async(i,e)=>{let t=await hc({tracker:i,trackables:e,value:i.default,allowSave:!0,expandNote:!0});return t!=null&&t.raw.length&&(Oi.addElement(t.raw),t.action==="save"||i.one_tap)&&(await xu(Oi.asLog()),Oi.clear()),t},xWe=()=>{cq.update(i=>(i={...g$},i))},GWe=()=>{xWe()},v$=async(i,e,t=Fe.t("general.next","Next"),n={})=>{const r=[];return n.tracker=i.tracker,new Promise((s,l)=>{if(i.type!=="tracker"||i.type=="tracker"&&i.tracker.type=="tick")r.push(i.tag),s({trackable:i,value:void 0,tag:i.tag});else if(i.type=="tracker"&&i.tracker.type!=="tick"){n.trackables=e,n.tracker=i.tracker,n.allowSave=!1,n.nextLabel=t;const o=n.onComplete?n.onComplete.bind({}):void 0;n.onClose=()=>{};const a=u=>{(u.suffix||"").length&&r.push(u.suffix);const c={trackable:i,value:u.value,tag:i.getNoteValue(u.value)};ZWe(),o&&o(c),s(c)};n.onComplete=a,fq(n)}})},fq=(i={})=>new Promise((e,t)=>{const n=i.onComplete,r=s=>{e(s)};i.onComplete=s=>{n&&n(s),r(s)},On({id:`tracker-input-${di(i)}`,componentProps:{payload:i},component:VWe,position:window.document.body.clientWidth>500?"center":"bottom"})}),ZWe=()=>{cq.update(i=>(i={...g$},i))},hc=async i=>new Promise(async e=>{let t;const n=async()=>{};if(i.tracker.type==="tick"?t={tracker:i.tracker,value:i.tracker.default}:t=await fq({tracker:i.tracker,trackables:i.trackables,value:i.value,allowSave:i.allowSave,expandNote:i.expandNote,nextLabel:i.nextLabel,retrospective:i.retrospective,onClose:n}),t&&t.tracker){const r=[],s=t.tracker;s.type==="note"||s.type==="picker"?r.push(`#${t.tracker.tag}`):Ci.truthy(t.value)?r.push(`#${t.tracker.tag}(${t.value})`):r.push(`#${t.tracker.tag}`),(t.suffix||"").length&&r.push(t.suffix),i.tracker.include&&i.expandNote&&r.push(i.tracker.getIncluded(t.value)),e({raw:r.join(" "),action:t.action,tracker:t.tracker,value:t.value,expandNote:i.expandNote})}else e(void 0);n()});function XWe(i){let e,t,n;return t=new Ah({props:{locations:i[0],records:i[1]}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","relative flex-grow h-full")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.locations=r[0]),s&2&&(l.records=r[1]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function oP(i){let e=i[0][0].name+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[0][0].name+"")&&de(t,e)},d(n){n&&y(t)}}}function KWe(i){let e,t=i[0].length&&oP(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,r){n[0].length?t?t.p(n,r):(t=oP(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(n){t&&t.d(n),n&&y(e)}}}function JWe(i){let e,t;return e=new al({props:{className:"line-clamp-1",$$slots:{default:[KWe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function QWe(i){let e;return{c(){e=K("Close")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function eqe(i){let e,t,n;return t=new He({props:{primary:!0,clear:!0,$$slots:{default:[QWe]},$$scope:{ctx:i}}}),t.$on("click",i[4]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&32&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function tqe(i){let e;return{c(){e=P("div"),h(e,"slot","right")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function nqe(i){let e,t;return e=new Sn({props:{slot:"header",className:"bg-white dark:bg-black shadow-md z-40 relative",$$slots:{right:[tqe],left:[eqe],default:[JWe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function iqe(i){let e;return{c(){e=P("div"),h(e,"class","mt-2"),h(e,"slot","footer")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function rqe(i){let e,t;return e=new ti({props:{$$slots:{footer:[iqe],header:[nqe],default:[XWe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sqe(i,e,t){let{id:n}=e,{locations:r}=e,{logs:s}=e;const l=()=>{tn(n)},o=()=>l();return i.$$set=a=>{"id"in a&&t(3,n=a.id),"locations"in a&&t(0,r=a.locations),"logs"in a&&t(1,s=a.logs)},[r,s,l,n,o]}class lqe extends pe{constructor(e){super(),me(this,e,sqe,rqe,he,{id:3,locations:0,logs:1})}}const oqe=(i,e)=>{On({id:`locations-${di(i)}`,component:lqe,position:"fullscreen",componentProps:{logs:e,locations:i}})};function aP(i,e,t){const n=i.slice();return n[15]=e[t],n[17]=t,n}function uP(i){let e,t,n,r=i[2].note+"",s,l=i[2].words,o=[];for(let a=0;a<l.length;a+=1)o[a]=fP(aP(i,l,a));return{c(){e=P("div");for(let a=0;a<o.length;a+=1)o[a].c();n=W(),s=K(r),h(e,"class",t="n-note-textualized "+(i[0]||"leading-snug text-black dark:text-white")+" "+(i[2].words.length>20?"text-size-sm":"")+" "+(i[2].words.length<20?"text-size-big":""))},m(a,u){w(a,e,u);for(let c=0;c<o.length;c+=1)o[c].m(e,null);w(a,n,u),w(a,s,u)},p(a,u){if(u&54){l=a[2].words;let c;for(c=0;c<l.length;c+=1){const f=aP(a,l,c);o[c]?o[c].p(f,u):(o[c]=fP(f),o[c].c(),o[c].m(e,null))}for(;c<o.length;c+=1)o[c].d(1);o.length=l.length}u&5&&t!==(t="n-note-textualized "+(a[0]||"leading-snug text-black dark:text-white")+" "+(a[2].words.length>20?"text-size-sm":"")+" "+(a[2].words.length<20?"text-size-big":""))&&h(e,"class",t),u&4&&r!==(r=a[2].note+"")&&de(s,r)},d(a){a&&y(e),pt(o,a),a&&y(n),a&&y(s)}}}function aqe(i){let e,t=i[15].raw+" ",n;return{c(){e=P("span"),n=K(t)},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&4&&t!==(t=r[15].raw+" ")&&de(n,t)},d(r){r&&y(e)}}}function uqe(i){let e,t,n;function r(...s){return i[13](i[17],...s)}return{c(){e=P("input"),h(e,"type","checkbox"),h(e,"data-index",`${i[17]}`),e.checked=!0},m(s,l){w(s,e,l),t||(n=Se(e,"change",r),t=!0)},p(s,l){i=s},d(s){s&&y(e),t=!1,n()}}}function cqe(i){let e,t,n;function r(...s){return i[12](i[17],...s)}return{c(){e=P("input"),h(e,"type","checkbox"),h(e,"data-index",`${i[17]}`)},m(s,l){w(s,e,l),t||(n=Se(e,"change",r),t=!0)},p(s,l){i=s},d(s){s&&y(e),t=!1,n()}}}function fqe(i){let e;return{c(){e=P("br")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function dqe(i){let e,t=` ${i[15].id} `,n,r,s,l;function o(){return i[11](i[15])}return{c(){e=P("button"),n=K(t),h(e,"type","button"),h(e,"class",r="token link "+(i[1]||"default-token-class"))},m(a,u){w(a,e,u),D(e,n),s||(l=Se(e,"click",o),s=!0)},p(a,u){i=a,u&4&&t!==(t=` ${i[15].id} `)&&de(n,t),u&2&&r!==(r="token link "+(i[1]||"default-token-class"))&&h(e,"class",r)},d(a){a&&y(e),s=!1,l()}}}function hqe(i){let e,t=` ${i[15].raw} `,n,r,s,l;function o(){return i[10](i[15])}return{c(){e=P("button"),n=K(t),h(e,"type","button"),h(e,"class",r="context token "+(i[1]||"default-token-class"))},m(a,u){w(a,e,u),D(e,n),s||(l=Se(e,"click",o),s=!0)},p(a,u){i=a,u&4&&t!==(t=` ${i[15].raw} `)&&de(n,t),u&2&&r!==(r="context token "+(i[1]||"default-token-class"))&&h(e,"class",r)},d(a){a&&y(e),s=!1,l()}}}function mqe(i){let e,t=` ${i[15].raw} `,n,r,s,l;function o(){return i[9](i[15])}return{c(){e=P("button"),n=K(t),h(e,"type","button"),h(e,"class",r="person token "+(i[1]||"default-token-class"))},m(a,u){w(a,e,u),D(e,n),s||(l=Se(e,"click",o),s=!0)},p(a,u){i=a,u&4&&t!==(t=` ${i[15].raw} `)&&de(n,t),u&2&&r!==(r="person token "+(i[1]||"default-token-class"))&&h(e,"class",r)},d(a){a&&y(e),s=!1,l()}}}function pqe(i){let e,t=` #${i[15].id} `,n,r,s,l;function o(){return i[8](i[15])}return{c(){e=P("button"),n=K(t),h(e,"type","button"),h(e,"class",r="token "+(i[1]||"default-token-class"))},m(a,u){w(a,e,u),D(e,n),s||(l=Se(e,"click",o),s=!0)},p(a,u){i=a,u&4&&t!==(t=` #${i[15].id} `)&&de(n,t),u&2&&r!==(r="token "+(i[1]||"default-token-class"))&&h(e,"class",r)},d(a){a&&y(e),s=!1,l()}}}function cP(i){let e,t=i[15].remainder.trim()+"",n;return{c(){e=P("span"),n=K(t),h(e,"class","remainder")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&4&&t!==(t=r[15].remainder.trim()+"")&&de(n,t)},d(r){r&&y(e)}}}function fP(i){let e,t;function n(o,a){if(o[15].type==="tracker")return pqe;if(o[15].type=="person")return mqe;if(o[15].type=="context")return hqe;if(o[15].type=="link")return dqe;if(o[15].type=="line-break")return fqe;if(o[15].raw=="[]")return cqe;if(o[15].raw=="[x]")return uqe;if(o[15].raw)return aqe}let r=n(i),s=r&&r(i),l=i[15].remainder&&i[15].type!=="person"&&cP(i);return{c(){s&&s.c(),e=W(),l&&l.c(),t=Ae()},m(o,a){s&&s.m(o,a),w(o,e,a),l&&l.m(o,a),w(o,t,a)},p(o,a){r===(r=n(o))&&s?s.p(o,a):(s&&s.d(1),s=r&&r(o),s&&(s.c(),s.m(e.parentNode,e))),o[15].remainder&&o[15].type!=="person"?l?l.p(o,a):(l=cP(o),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null)},d(o){s&&s.d(o),o&&y(e),l&&l.d(o),o&&y(t)}}}function _qe(i){let e,t=i[3]&&uP(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[3]?t?t.p(n,r):(t=uP(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(n){t&&t.d(n),n&&y(e)}}}function gqe(i,e,t){let{note:n=""}=e,{trackers:r={}}=e,{className:s=void 0}=e,{tokenClass:l=void 0}=e;const o=Ut(),a={words:[],note:""};let u=0;const c=C=>{a.words[C].raw=="[x]"?(t(2,a.words[C].raw="[]",a),t(2,a.words[C].id="[]",a)):(t(2,a.words[C].raw="[x]",a),t(2,a.words[C].id="[x]",a)),t(2,a),t(6,n),o("noteChange",a.words.map(S=>S.raw).join(" "))},f={split(C){return C.split(" ")},tracker_get(C){return(r||{})[C]||new qi({tag:C})},textElementClick(C){o("textClick",C)},linkClick(C){window.open(C,"_system")},note_to_array(C){let E=np.parse(C,{includeGeneric:!0})||[],S=E.filter(T=>["person","context","generic"].indexOf(T.type)>-1);return t(3,u=S.length),E}},d=C=>{f.textElementClick(C)},m=C=>{f.textElementClick(C)},p=C=>{f.textElementClick(C)},g=C=>{f.linkClick(C.raw)},k=(C,E)=>{c(C)},$=(C,E)=>{c(C)};return i.$$set=C=>{"note"in C&&t(6,n=C.note),"trackers"in C&&t(7,r=C.trackers),"className"in C&&t(0,s=C.className),"tokenClass"in C&&t(1,l=C.tokenClass)},i.$$.update=()=>{i.$$.dirty&64&&t(2,a.words=f.note_to_array(n),a)},[s,l,a,u,c,f,n,r,d,m,p,g,k,$]}class b$ extends pe{constructor(e){super(),me(this,e,gqe,_qe,he,{note:6,trackers:7,className:0,tokenClass:1})}}function dP(i){let e,t=i[0].formatValue(i[1])+"",n;return{c(){e=P("span"),n=K(t),h(e,"class","value")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&3&&t!==(t=r[0].formatValue(r[1])+"")&&de(n,t)},d(r){r&&y(e)}}}function vqe(i){let e,t,n,r,s=i[0].label+"",l,o,a,u,c;t=new er({props:{className:"items-center self-center",trackable:i[0],size:23}});let f=i[1]&&dP(i);return{c(){e=P("button"),B(t.$$.fragment),n=W(),r=P("span"),l=K(s),o=W(),f&&f.c(),h(r,"class","label line-clamp-1"),h(e,"class","tiny-trackable")},m(d,m){w(d,e,m),O(t,e,null),D(e,n),D(e,r),D(r,l),D(e,o),f&&f.m(e,null),a=!0,u||(c=Se(e,"click",i[4]),u=!0)},p(d,[m]){const p={};m&1&&(p.trackable=d[0]),t.$set(p),(!a||m&1)&&s!==(s=d[0].label+"")&&de(l,s),d[1]?f?f.p(d,m):(f=dP(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(d){a||(_(t.$$.fragment,d),a=!0)},o(d){v(t.$$.fragment,d),a=!1},d(d){d&&y(e),I(t),f&&f.d(),u=!1,c()}}}function bqe(i,e,t){let{date:n}=e,{trackable:r}=e,{value:s}=e;const l=Ut(),o=()=>l("click");return i.$$set=a=>{"date"in a&&t(3,n=a.date),"trackable"in a&&t(0,r=a.trackable),"value"in a&&t(1,s=a.value)},[r,s,l,n,o]}class kqe extends pe{constructor(e){super(),me(this,e,bqe,vqe,he,{date:3,trackable:0,value:1})}}const yqe=i=>({}),hP=i=>({});function mP(i,e,t){const n=i.slice();return n[20]=e[t],n[22]=t,n}function pP(i){let e,t,n,r=qu(i[0].score).emoji+"",s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M,R;function Y(X,se){return X[1]?$qe:wqe}let z=Y(i),j=z(i);const V=[Eqe,Fqe],x=[];function ee(X,se){return X[0].location?0:X[0].lng?1:-1}~(f=ee(i))&&(d=x[f]=V[f](i)),g=new et({props:{size:22,icon:XJ}});let J=i[0].hasNote&&_P(i),q=!i[2]&&gP(i);const le=i[12]["item-footer"],G=nt(le,i,i[11],hP);return{c(){e=P("div"),t=P("div"),n=P("button"),s=K(r),l=W(),o=P("div"),j.c(),a=W(),u=P("div"),c=P("button"),d&&d.c(),m=W(),p=P("button"),B(g.$$.fragment),k=W(),J&&J.c(),$=W(),q&&q.c(),C=W(),G&&G.c(),h(n,"class","text-base text-gray-600 dark:text-gray-400"),h(o,"class","text-gray-500 stiff line-clamp-1"),h(c,"aria-label","View Location"),h(c,"class","w-full text-right flex items-center justify-end"),h(u,"class","text-right flex items-center filler text-gray-500"),h(p,"type","button"),gt(p,"margin-right","-10px"),h(p,"class","text-gray-800 dark:text-white h-7 w-7 rounded-full flex items-center justify-center"),h(t,"class","flex items-center justify-between text-xs space-x-3 -mt-2"),h(e,"id",E="log-"+i[5]._id),h(e,"class",S="note-bubble space-y-2 bubble "+i[3]),ct(e,"pinned",i[5].pinned)},m(X,se){w(X,e,se),D(e,t),D(t,n),D(n,s),D(t,l),D(t,o),j.m(o,null),D(t,a),D(t,u),D(u,c),~f&&x[f].m(c,null),D(t,m),D(t,p),O(g,p,null),D(e,k),J&&J.m(e,null),D(e,$),q&&q.m(e,null),D(e,C),G&&G.m(e,null),T=!0,M||(R=[Se(n,"click",i[13]),Se(c,"click",i[14]),Se(p,"click",i[15])],M=!0)},p(X,se){(!T||se&1)&&r!==(r=qu(X[0].score).emoji+"")&&de(s,r),z===(z=Y(X))&&j?j.p(X,se):(j.d(1),j=z(X),j&&(j.c(),j.m(o,null)));let te=f;f=ee(X),f===te?~f&&x[f].p(X,se):(d&&(ae(),v(x[te],1,1,()=>{x[te]=null}),ue()),~f?(d=x[f],d?d.p(X,se):(d=x[f]=V[f](X),d.c()),_(d,1),d.m(c,null)):d=null),X[0].hasNote?J?(J.p(X,se),se&1&&_(J,1)):(J=_P(X),J.c(),_(J,1),J.m(e,$)):J&&(ae(),v(J,1,1,()=>{J=null}),ue()),X[2]?q&&(ae(),v(q,1,1,()=>{q=null}),ue()):q?(q.p(X,se),se&4&&_(q,1)):(q=gP(X),q.c(),_(q,1),q.m(e,C)),G&&G.p&&(!T||se&2048)&&rt(G,le,X,X[11],T?it(le,X[11],se,yqe):st(X[11]),hP),(!T||se&32&&E!==(E="log-"+X[5]._id))&&h(e,"id",E),(!T||se&8&&S!==(S="note-bubble space-y-2 bubble "+X[3]))&&h(e,"class",S),(!T||se&40)&&ct(e,"pinned",X[5].pinned)},i(X){T||(_(d),_(g.$$.fragment,X),_(J),_(q),_(G,X),T=!0)},o(X){v(d),v(g.$$.fragment,X),v(J),v(q),v(G,X),T=!1},d(X){X&&y(e),j.d(),~f&&x[f].d(),I(g),J&&J.d(),q&&q.d(),G&&G.d(X),M=!1,Ot(R)}}}function wqe(i){let e=i[0].endDayjs().format(i[9].time)+"",t,n,r,s=i[0].endDayjs().fromNow()+"",l;return{c(){t=K(e),n=W(),r=P("span"),l=K(s),h(r,"class","pl-2 text-gray-300 dark:text-gray-700")},m(o,a){w(o,t,a),w(o,n,a),w(o,r,a),D(r,l)},p(o,a){a&1&&e!==(e=o[0].endDayjs().format(o[9].time)+"")&&de(t,e),a&1&&s!==(s=o[0].endDayjs().fromNow()+"")&&de(l,s)},d(o){o&&y(t),o&&y(n),o&&y(r)}}}function $qe(i){let e=i[0].endDayjs().format(`${i[9].date} ${i[9].time}`)+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[0].endDayjs().format(`${n[9].date} ${n[9].time}`)+"")&&de(t,e)},d(n){n&&y(t)}}}function Fqe(i){let e,t;return e=new et({props:{icon:eB,className:"text-green-500",size:16}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Eqe(i){let e,t=i[0].location+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","line-clamp-1 text-green-500")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].location+"")&&de(n,t)},i:Z,o:Z,d(r){r&&y(e)}}}function _P(i){let e,t,n;return t=new b$({props:{note:i[0].note,className:" dark:text-gray-300 text-gray-700 leading-snug"}}),t.$on("noteChange",i[16]),t.$on("textClick",i[17]),{c(){e=P("p"),B(t.$$.fragment),h(e,"class","text-base leading-5")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.note=r[0].note),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function gP(i){let e,t=[],n=new Map,r,s,l,o,a,u=i[6];const c=f=>`${f[20].trackable.tag}-${f[22]}`;for(let f=0;f<u.length;f+=1){let d=mP(i,u,f),m=c(d);n.set(m,t[f]=vP(m,d))}return{c(){e=P("div");for(let f=0;f<t.length;f+=1)t[f].c();r=W(),s=P("button"),s.innerHTML='<span class="value w-5">+</span>',h(s,"class","tiny-trackable bg-transparent"),h(e,"class","trackables -px-1 w-full flex flex-wrap")},m(f,d){w(f,e,d);for(let m=0;m<t.length;m+=1)t[m].m(e,null);D(e,r),D(e,s),l=!0,o||(a=Se(s,"click",i[19]),o=!0)},p(f,d){d&65&&(u=f[6],ae(),t=Pi(t,d,c,1,f,u,n,e,br,vP,r,mP),ue())},i(f){if(!l){for(let d=0;d<u.length;d+=1)_(t[d]);l=!0}},o(f){for(let d=0;d<t.length;d+=1)v(t[d]);l=!1},d(f){f&&y(e);for(let d=0;d<t.length;d+=1)t[d].d();o=!1,a()}}}function vP(i,e){let t,n,r;function s(){return e[18](e[20])}return n=new kqe({props:{trackable:e[20].trackable,value:e[20].value,date:e[0].end}}),n.$on("click",s),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),O(n,l,o),r=!0},p(l,o){e=l;const a={};o&64&&(a.trackable=e[20].trackable),o&64&&(a.value=e[20].value),o&1&&(a.date=e[0].end),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),I(n,l)}}}function Cqe(i){let e,t,n=i[5]&&pP(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[5]?n?(n.p(r,s),s&32&&_(n,1)):(n=pP(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function Dqe(i,e,t){let n;Le(i,en,R=>t(4,n=R));let{$$slots:r={},$$scope:s}=e,{log:l=void 0}=e,{fullDate:o=!1}=e,{hideTrackables:a=!1}=e,{className:u=""}=e,c,f,d=[];const m=async R=>{const Y=await Oue(R.score);Y&&Ci.truthy(Y.score)&&(R.score=Y.score,console.log({score:R.score}),await Ym(R.note,R))},p=async()=>{const R=await S0();let Y;if(await Lt(100),R&&R.type=="tracker"){const z=await hc({allowSave:!1,expandNote:!0,trackables:n.trackables,tracker:R.tracker,nextLabel:"Add"});z!=null&&z.raw&&(Y=z.raw)}else(R.type=="person"||R.type=="context")&&(Y=R.tag);if(Y){let z=`${c.note} ${Y}`;t(5,c=await Ym(z,c))}};let g=pi();const k=()=>m(l),$=()=>oqe([l.geoType],[l]),C=()=>{at.logOptions(l,{description:l.note})},E=R=>{Ym(R.detail,l)},S=R=>{const Y=rr(R.detail,n.trackables);Hr(Y)},T=R=>{Hr(R.trackable,{date:l.endDayjs()})},M=()=>p();return i.$$set=R=>{"log"in R&&t(0,l=R.log),"fullDate"in R&&t(1,o=R.fullDate),"hideTrackables"in R&&t(2,a=R.hideTrackables),"className"in R&&t(3,u=R.className),"$$scope"in R&&t(11,s=R.$$scope)},i.$$.update=()=>{i.$$.dirty&1041&&l&&di(l)!==f&&(t(10,f=di(l)),t(5,c=new gn(l)),t(6,d=l.elements.filter(R=>R.type!=="generic").map((R,Y)=>{const z=rr(R,n.trackables);return{trackable:z,token:R,value:gi(R.value||(z==null?void 0:z.value)||0)}}).filter(R=>R.trackable)))},[l,o,a,u,n,c,d,m,p,g,f,s,r,k,$,C,E,S,T,M]}class mc extends pe{constructor(e){super(),me(this,e,Dqe,Cqe,he,{log:0,fullDate:1,hideTrackables:2,className:3})}}function bP(i){let e,t,n;return t=new Ah({props:{className:"shadow-md",records:[i[0]],height:152}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","sticky top-0 left-0 right-0 w-full z-40 stiff")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.records=[r[0]]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Sqe(i){let e,t,n,r,s=i[0].lat&&bP(i);return n=new mc({props:{log:i[0]}}),{c(){s&&s.c(),e=W(),t=P("div"),B(n.$$.fragment),h(t,"class","p-4 relative z-50")},m(l,o){s&&s.m(l,o),w(l,e,o),w(l,t,o),O(n,t,null),r=!0},p(l,o){l[0].lat?s?(s.p(l,o),o&1&&_(s,1)):(s=bP(l),s.c(),_(s,1),s.m(e.parentNode,e)):s&&(ae(),v(s,1,1,()=>{s=null}),ue());const a={};o&1&&(a.log=l[0]),n.$set(a)},i(l){r||(_(s),_(n.$$.fragment,l),r=!0)},o(l){v(s),v(n.$$.fragment,l),r=!1},d(l){s&&s.d(l),l&&y(e),l&&y(t),I(n)}}}function Tqe(i){let e,t=i[0].endDayjs().format(`ddd ${i[1].date} ${i[1].time}`)+"",n;return{c(){e=P("h2"),n=K(t),h(e,"class","line-clamp-1 text-black dark:text-white whitespace-normal leading-tight text-base font-semibold")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].endDayjs().format(`ddd ${r[1].date} ${r[1].time}`)+"")&&de(n,t)},d(r){r&&y(e)}}}function Aqe(i){let e,t;return e=new et({props:{icon:Qa,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Pqe(i){let e,t;return e=new He({props:{icon:!0,slot:"left",$$slots:{default:[Aqe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Nqe(i){let e,t;return e=new Sn({props:{slot:"header",shadow:!0,$$slots:{left:[Pqe],default:[Tqe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Mqe(i){let e,t;return e=new ti({props:{mainClass:"overflow-y-auto relative",className:"h-full bg-gray-100 dark:bg-gray-900 w-full rounded-2xl",$$slots:{header:[Nqe],default:[Sqe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Lqe(i,e,t){let{id:n}=e,{log:r}=e,s=pi();const l=async()=>{tn(n)},o=()=>l();return i.$$set=a=>{"id"in a&&t(3,n=a.id),"log"in a&&t(0,r=a.log)},[r,s,l,n,o]}class Oqe extends pe{constructor(e){super(),me(this,e,Lqe,Mqe,he,{id:3,log:0})}}const lh=i=>{On({position:"bottom",id:`display-log-${i._id}`,componentProps:{log:i},component:Oqe})},kP=pi(),iv=i=>[{title:`View ${Te(i).format(kP.mmm_d_yyyy)}`,icon:yf,click(){q0(i)}},{title:`Trending ${Te(i).format(kP.mmm_d_yyyy)}`,icon:kB,click(){xW(i)}}],Y1=i=>{const e=[...i];return e[0].divider=!0,e},dq=(i,e=!0)=>{const t=[{title:"View Note",description:e?`${i.note.substring(0,200)}`:void 0,icon:yee,click(){lh(i)}},{title:"Edit Note",icon:aB,click(){Rf(i)}}];return i.pinned?t.push({title:"Unpin Note",icon:Nk,click(){delete i.pinned,dn.updateLog(i)}}):t.push({title:"Pin Note",icon:Nk,click(){i.pinned=!0,dn.updateLog(i)}}),t},Iqe=i=>[{title:`${Uu(i.label)} Usage...`,icon:uB,async click(){await Lt(400),Hr(i)}}];function Bqe(i){let e,t,n,r;t=new rY({props:{source:i[0]}});let s=[i[2],{class:n="markdown "+i[2].class}],l={};for(let o=0;o<s.length;o+=1)l=St(l,s[o]);return{c(){e=P("div"),B(t.$$.fragment),Bt(e,l)},m(o,a){w(o,e,a),O(t,e,null),i[3](e),r=!0},p(o,[a]){const u={};a&1&&(u.source=o[0]),t.$set(u),Bt(e,l=Zt(s,[a&4&&o[2],(!r||a&4&&n!==(n="markdown "+o[2].class))&&{class:n}]))},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t),i[3](null)}}}function Rqe(i,e,t){const n=["content"];let r=mi(e,n),{content:s}=e,l;Yt(()=>{l.querySelectorAll("a").forEach(u=>{u.setAttribute("target","_blank")})});function o(a){Oe[a?"unshift":"push"](()=>{l=a,t(1,l)})}return i.$$set=a=>{e=St(St({},e),Qi(a)),t(2,r=mi(e,n)),"content"in a&&t(0,s=a.content)},[s,l,r,o]}class zqe extends pe{constructor(e){super(),me(this,e,Rqe,Bqe,he,{content:0})}}function yP(i){let e,t=i[0].title+"",n,r;return{c(){e=P("h2"),n=K(t),h(e,"role","alert"),h(e,"class",r="card-title "+(i[0].message?"has-message":"message-less"))},m(s,l){w(s,e,l),D(e,n)},p(s,l){l&1&&t!==(t=s[0].title+"")&&de(n,t),l&1&&r!==(r="card-title "+(s[0].message?"has-message":"message-less"))&&h(e,"class",r)},d(s){s&&y(e)}}}function jqe(i){let e,t,n,r;t=new vr({props:{size:"sm",$$slots:{default:[Wqe]},$$scope:{ctx:i}}});const s=i[3].default,l=nt(s,i,i[5],null);return{c(){e=P("div"),B(t.$$.fragment),n=W(),l&&l.c(),h(e,"class","pt-0 slot-holder card-body")},m(o,a){w(o,e,a),O(t,e,null),D(e,n),l&&l.m(e,null),r=!0},p(o,a){const u={};a&33&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),l&&l.p&&(!r||a&32)&&rt(l,s,o,o[5],r?it(s,o[5],a,null):st(o[5]),null)},i(o){r||(_(t.$$.fragment,o),_(l,o),r=!0)},o(o){v(t.$$.fragment,o),v(l,o),r=!1},d(o){o&&y(e),I(t),l&&l.d(o)}}}function Yqe(i){let e,t;const n=i[3].default,r=nt(n,i,i[5],null);return{c(){e=P("div"),r&&r.c(),h(e,"class","pt-0 slot-holder card-body")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&32)&&rt(r,n,s,s[5],t?it(n,s[5],l,null):st(s[5]),null)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function Uqe(i){let e,t,n;return t=new zqe({props:{content:i[0].message}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"role","alert"),h(e,"class","card-body message")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.content=r[0].message),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Wqe(i){let e=i[0].message+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[0].message+"")&&de(t,e)},d(n){n&&y(t)}}}function wP(i){let e,t=i[0].cancel+"",n,r,s,l;return{c(){e=P("button"),n=K(t),h(e,"id","alert-cancel"),h(e,"color","transparent"),h(e,"aria-label",r=i[0].cancel),h(e,"class","cancel")},m(o,a){w(o,e,a),D(e,n),s||(l=Se(e,"click",i[1].onCancel),s=!0)},p(o,a){a&1&&t!==(t=o[0].cancel+"")&&de(n,t),a&1&&r!==(r=o[0].cancel)&&h(e,"aria-label",r)},d(o){o&&y(e),s=!1,l()}}}function qqe(i){let e,t,n,r,s,l,o,a,u,c,f,d=i[0].ok+"",m,p,g,k,$,C;e=new tv({}),e.$on("Escape",i[4]);let E=i[0].title&&yP(i);const S=[Uqe,Yqe,jqe],T=[];function M(j,V){return j[0].message&&!Hqe?0:-1}~(l=M(i))&&(o=T[l]=S[l](i));const R=i[3].default,Y=nt(R,i,i[5],null);let z=i[0].cancel&&wP(i);return{c(){B(e.$$.fragment),t=W(),n=P("div"),r=P("div"),E&&E.c(),s=W(),o&&o.c(),a=W(),Y&&Y.c(),u=W(),c=P("div"),f=P("button"),m=K(d),g=W(),z&&z.c(),h(r,"class","px-3 pt-3"),h(f,"id","alert-ok"),h(f,"aria-label",p=i[0].ok),h(f,"class","primary"),h(c,"class","footer"),h(n,"class","alert-dialog-window card"),h(n,"role","alertdialog"),h(n,"aria-modal","true"),h(n,"aria-hidden",!Vqe)},m(j,V){O(e,j,V),w(j,t,V),w(j,n,V),D(n,r),E&&E.m(r,null),D(r,s),~l&&T[l].m(r,null),D(r,a),Y&&Y.m(r,null),D(n,u),D(n,c),D(c,f),D(f,m),D(c,g),z&&z.m(c,null),k=!0,$||(C=Se(f,"click",i[1].onOk),$=!0)},p(j,[V]){j[0].title?E?E.p(j,V):(E=yP(j),E.c(),E.m(r,s)):E&&(E.d(1),E=null);let x=l;l=M(j),l===x?~l&&T[l].p(j,V):(o&&(ae(),v(T[x],1,1,()=>{T[x]=null}),ue()),~l?(o=T[l],o?o.p(j,V):(o=T[l]=S[l](j),o.c()),_(o,1),o.m(r,a)):o=null),Y&&Y.p&&(!k||V&32)&&rt(Y,R,j,j[5],k?it(R,j[5],V,null):st(j[5]),null),(!k||V&1)&&d!==(d=j[0].ok+"")&&de(m,d),(!k||V&1&&p!==(p=j[0].ok))&&h(f,"aria-label",p),j[0].cancel?z?z.p(j,V):(z=wP(j),z.c(),z.m(c,null)):z&&(z.d(1),z=null)},i(j){k||(_(e.$$.fragment,j),_(o),_(Y,j),k=!0)},o(j){v(e.$$.fragment,j),v(o),v(Y,j),k=!1},d(j){I(e,j),j&&y(t),j&&y(n),E&&E.d(),~l&&T[l].d(),Y&&Y.d(j),z&&z.d(),$=!1,C()}}}let Hqe=!1,Vqe=!1;function xqe(i,e,t){let{$$slots:n={},$$scope:r}=e,{payload:s}=e,{id:l}=e;const o={onOk(){s.onInteract&&(t(0,s.value=s.value||!0,s),s.onInteract(s),tn(l))},onCancel(){s.onInteract&&(t(0,s.value=s.value||!1,s),s.onInteract(s),tn(l))}},a=()=>{o.onCancel()};return i.$$set=u=>{"payload"in u&&t(0,s=u.payload),"id"in u&&t(2,l=u.id),"$$scope"in u&&t(5,r=u.$$scope)},[s,o,l,n,a,r]}class Lk extends pe{constructor(e){super(),me(this,e,xqe,qqe,he,{payload:0,id:2})}}function $P(i,e,t){const n=i.slice();return n[40]=e[t],n[42]=t,n}function FP(i){let e,t,n,r;return n=new Ah({props:{hideFavorite:!0,locations:i[0].active?[i[0].active]:[],picker:!0}}),n.$on("change",i[11]),{c(){e=P("div"),t=P("div"),B(n.$$.fragment),gt(t,"height","200px"),h(t,"class","relative"),gt(e,"height","225px"),h(e,"class","flex-grow-0 flex-shrink-0 relative")},m(s,l){w(s,e,l),D(e,t),O(n,t,null),r=!0},p(s,l){const o={};l[0]&1&&(o.locations=s[0].active?[s[0].active]:[]),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(e),I(n)}}}function EP(i){let e,t;return e=new jt({props:{solo:!0,className:"mb-2",$$slots:{default:[Xqe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&2|r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Gqe(i){let e,t,n=Nt.round(i[1].lat,1e4)+"",r,s,l=Nt.round(i[1].lng,1e4)+"",o;return{c(){e=K("Favorite "),t=P("strong"),r=K(n),s=K(","),o=K(l)},m(a,u){w(a,e,u),w(a,t,u),D(t,r),D(t,s),D(t,o)},p(a,u){u[0]&2&&n!==(n=Nt.round(a[1].lat,1e4)+"")&&de(r,n),u[0]&2&&l!==(l=Nt.round(a[1].lng,1e4)+"")&&de(o,l)},d(a){a&&y(e),a&&y(t)}}}function Zqe(i){let e,t,n=Nt.round(i[1].lat,1e4)+"",r,s,l=Nt.round(i[1].lng,1e4)+"",o;return{c(){e=K("Select "),t=P("strong"),r=K(n),s=K(","),o=K(l)},m(a,u){w(a,e,u),w(a,t,u),D(t,r),D(t,s),D(t,o)},p(a,u){u[0]&2&&n!==(n=Nt.round(a[1].lat,1e4)+"")&&de(r,n),u[0]&2&&l!==(l=Nt.round(a[1].lng,1e4)+"")&&de(o,l)},d(a){a&&y(e),a&&y(t)}}}function Xqe(i){let e,t,n,r;return e=new lt({props:{bottomLine:18,clickable:!0,"aria-label":"Save this Location",$$slots:{default:[Gqe]},$$scope:{ctx:i}}}),e.$on("click",i[29]),n=new lt({props:{clickable:!0,"aria-label":"Use this area",$$slots:{default:[Zqe]},$$scope:{ctx:i}}}),n.$on("click",i[30]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l[0]&2|l[1]&8192&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l[0]&2|l[1]&8192&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function Kqe(i){let e=Fe.t("location.locating","Locating...")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Jqe(i){let e=Fe.t("location.use-current-location","Use Current Location")+"",t,n;return{c(){t=K(e),n=K("...")},m(r,s){w(r,t,s),w(r,n,s)},p:Z,d(r){r&&y(t),r&&y(n)}}}function Qqe(i){let e;function t(s,l){return s[0].locating?Kqe:Jqe}let n=t(i),r=n(i);return{c(){r.c(),e=Ae()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function CP(i){let e,t;return e=new ki({props:{size:24}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function eHe(i){let e,t,n=i[0].locating&&CP();return{c(){e=P("div"),n&&n.c(),h(e,"slot","right")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[0].locating?n?s[0]&1&&_(n,1):(n=CP(),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function tHe(i){let e;return{c(){e=K("Find on Map...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function nHe(i){let e,t,n,r,s,l;return e=new lt({props:{clickable:!0,className:"clickable py-1 dark:bg-gray-900 bg-white text-primary "+(i[0].locating?"opacity-50":""),$$slots:{right:[eHe],default:[Qqe]},$$scope:{ctx:i}}}),e.$on("click",i[31]),n=new hi({props:{center:!0}}),s=new lt({props:{clickable:!0,$$slots:{default:[tHe]},$$scope:{ctx:i}}}),s.$on("click",i[32]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment)},m(o,a){O(e,o,a),w(o,t,a),O(n,o,a),w(o,r,a),O(s,o,a),l=!0},p(o,a){const u={};a[0]&1&&(u.className="clickable py-1 dark:bg-gray-900 bg-white text-primary "+(o[0].locating?"opacity-50":"")),a[0]&1|a[1]&8192&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a[1]&8192&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){I(e,o),o&&y(t),I(n,o),o&&y(r),I(s,o)}}}function DP(i){let e,t;return e=new zi({props:{className:"text-gray-500",$$slots:{default:[iHe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function iHe(i){let e=Fe.t("general.no-favorites-found","No Favorites Found")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function SP(i){let e,t;return e=new jt({props:{solo:!0,$$slots:{default:[mHe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function rHe(i){let e,t;function n(){return i[35](i[43])}return e=new lt({props:{clickable:!0,bottomLine:14,className:" dark:bg-gray-900 bg-white",$$slots:{left:[oHe],default:[lHe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&1|s[1]&12288&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function sHe(i){let e,t;return e=new lt({props:{bottomLine:14,className:"dark:bg-gray-900 bg-white",$$slots:{right:[dHe],left:[uHe],default:[aHe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&12288&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function TP(i){let e,t;return e=new et({props:{icon:Go,className:"fill-primary"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lHe(i){let e,t=i[43].name+"",n,r,s,l=i[0].active&&i[43].hash==i[0].active.hash&&TP();return{c(){e=P("h2"),n=K(t),r=W(),l&&l.c(),h(e,"class","text-base font-bold leading-tight text-black dark:text-white")},m(o,a){w(o,e,a),D(e,n),D(e,r),l&&l.m(e,null),s=!0},p(o,a){(!s||a[1]&4096)&&t!==(t=o[43].name+"")&&de(n,t),o[0].active&&o[43].hash==o[0].active.hash?l?(l.p(o,a),a[0]&1|a[1]&4096&&_(l,1)):(l=TP(),l.c(),_(l,1),l.m(e,null)):l&&(ae(),v(l,1,1,()=>{l=null}),ue())},i(o){s||(_(l),s=!0)},o(o){v(l),s=!1},d(o){o&&y(e),l&&l.d()}}}function oHe(i){let e,t,n;return t=new et({props:{icon:aee,className:"text-yellow-500",size:22}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function AP(i){let e,t;return e=new et({props:{icon:Go,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function aHe(i){let e,t=i[43].name+"",n,r,s,l=i[0].active&&i[43].hash==i[0].active.hash&&AP();return{c(){e=P("h2"),n=K(t),r=W(),l&&l.c(),h(e,"class","ntitle")},m(o,a){w(o,e,a),D(e,n),D(e,r),l&&l.m(e,null),s=!0},p(o,a){(!s||a[1]&4096)&&t!==(t=o[43].name+"")&&de(n,t),o[0].active&&o[43].hash==o[0].active.hash?l?(l.p(o,a),a[0]&1|a[1]&4096&&_(l,1)):(l=AP(),l.c(),_(l,1),l.m(e,null)):l&&(ae(),v(l,1,1,()=>{l=null}),ue())},i(o){s||(_(l),s=!0)},o(o){v(l),s=!1},d(o){o&&y(e),l&&l.d()}}}function uHe(i){let e,t,n;return t=new et({props:{icon:mB}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","menu"),h(e,"slot","left")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function cHe(i){let e,t;return e=new et({props:{icon:bB}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fHe(i){let e,t;return e=new et({props:{icon:wf,className:"text-red-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function dHe(i){let e,t,n,r,s;function l(){return i[33](i[43])}t=new He({props:{icon:!0,className:"tap-icon",$$slots:{default:[cHe]},$$scope:{ctx:i}}}),t.$on("click",l);function o(...a){return i[34](i[43],...a)}return r=new He({props:{icon:!0,$$slots:{default:[fHe]},$$scope:{ctx:i}}}),r.$on("click",o),{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"slot","right"),h(e,"class","flex")},m(a,u){w(a,e,u),O(t,e,null),D(e,n),O(r,e,null),s=!0},p(a,u){i=a;const c={};u[1]&8192&&(c.$$scope={dirty:u,ctx:i}),t.$set(c);const f={};u[1]&8192&&(f.$$scope={dirty:u,ctx:i}),r.$set(f)},i(a){s||(_(t.$$.fragment,a),_(r.$$.fragment,a),s=!0)},o(a){v(t.$$.fragment,a),v(r.$$.fragment,a),s=!1},d(a){a&&y(e),I(t),I(r)}}}function hHe(i){let e,t,n,r;const s=[sHe,rHe],l=[];function o(a,u){return a[0].mode==="edit"?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"class","item-wrapper")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function mHe(i){let e,t,n;function r(l){i[36](l)}let s={key:"id",direction:"y",enabled:i[0].mode=="edit",handleClass:".menu",$$slots:{default:[hHe,({item:l})=>({43:l}),({item:l})=>[0,l?4096:0]]},$$scope:{ctx:i}};return i[0].locations!==void 0&&(s.items=i[0].locations),e=new Th({props:s}),Oe.push(()=>Qe(e,"items",r,i[0].locations)),e.$on("update",i[9]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o[0]&1&&(a.enabled=l[0].mode=="edit"),o[0]&1|o[1]&12288&&(a.$$scope={dirty:o,ctx:l}),!t&&o[0]&1&&(t=!0,a.items=l[0].locations,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function pHe(i){let e,t,n,r,s,l,o,a,u,c,f=i[2]&&FP(i),d=i[1]&&i[1].lat&&EP(i);o=new jt({props:{solo:!0,className:"mb-2",$$slots:{default:[nHe]},$$scope:{ctx:i}}});let m=i[0].locations.length==0&&DP(i),p=i[6]&&SP(i);return{c(){e=P("main"),t=P("section"),f&&f.c(),n=W(),r=P("div"),s=P("div"),d&&d.c(),l=W(),B(o.$$.fragment),a=W(),m&&m.c(),u=W(),p&&p.c(),h(s,"class","list-wrapper px-2 lg:px-4 space-y-4"),h(r,"class","flex-grow flex-shrink h-full overflow-y-auto "),h(t,"class","flex flex-col h-full relative h-50vh"),h(e,"class","pt-4 pb-4")},m(g,k){w(g,e,k),D(e,t),f&&f.m(t,null),D(t,n),D(t,r),D(r,s),d&&d.m(s,null),D(s,l),O(o,s,null),D(s,a),m&&m.m(s,null),D(s,u),p&&p.m(s,null),c=!0},p(g,k){g[2]?f?(f.p(g,k),k[0]&4&&_(f,1)):(f=FP(g),f.c(),_(f,1),f.m(t,n)):f&&(ae(),v(f,1,1,()=>{f=null}),ue()),g[1]&&g[1].lat?d?(d.p(g,k),k[0]&2&&_(d,1)):(d=EP(g),d.c(),_(d,1),d.m(s,l)):d&&(ae(),v(d,1,1,()=>{d=null}),ue());const $={};k[0]&5|k[1]&8192&&($.$$scope={dirty:k,ctx:g}),o.$set($),g[0].locations.length==0?m?(m.p(g,k),k[0]&1&&_(m,1)):(m=DP(g),m.c(),_(m,1),m.m(s,u)):m&&(ae(),v(m,1,1,()=>{m=null}),ue()),g[6]?p?(p.p(g,k),k[0]&64&&_(p,1)):(p=SP(g),p.c(),_(p,1),p.m(s,null)):p&&(ae(),v(p,1,1,()=>{p=null}),ue())},i(g){c||(_(f),_(d),_(o.$$.fragment,g),_(m),_(p),c=!0)},o(g){v(f),v(d),v(o.$$.fragment,g),v(m),v(p),c=!1},d(g){g&&y(e),f&&f.d(),d&&d.d(),I(o),m&&m.d(),p&&p.d()}}}function _He(i){let e=Fe.t("location.pick-a-location","Pick a Location")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function gHe(i){let e=i[0].mapLocation.lat+"",t,n,r=i[0].mapLocation.lng+"",s;return{c(){t=K(e),n=K(","),s=K(r)},m(l,o){w(l,t,o),w(l,n,o),w(l,s,o)},p(l,o){o[0]&1&&e!==(e=l[0].mapLocation.lat+"")&&de(t,e),o[0]&1&&r!==(r=l[0].mapLocation.lng+"")&&de(s,r)},d(l){l&&y(t),l&&y(n),l&&y(s)}}}function vHe(i){let e=i[0].active.name+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r[0]&1&&e!==(e=n[0].active.name+"")&&de(t,e)},d(n){n&&y(t)}}}function bHe(i){let e;function t(s,l){return s[0].active?vHe:s[0].mapLocation?gHe:_He}let n=t(i),r=n(i);return{c(){e=P("h1"),r.c(),h(e,"class","ntitle")},m(s,l){w(s,e,l),r.m(e,null)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r.d()}}}function kHe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function yHe(i){let e,t,n;return t=new He({props:{primary:!0,clear:!0,$$slots:{default:[kHe]},$$scope:{ctx:i}}}),t.$on("click",i[8]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[1]&8192&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function wHe(i){let e,t;return e=new He({props:{clear:!0,primary:!0,$$slots:{default:[FHe]},$$scope:{ctx:i}}}),e.$on("click",i[23]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $He(i){let e,t,n,r;const s=[CHe,EHe],l=[];function o(a,u){return a[7]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function FHe(i){let e=Fe.t("general.edit","Edit")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function EHe(i){let e,t;return e=new He({props:{clear:!0,primary:!0,type:"clear",$$slots:{default:[DHe]},$$scope:{ctx:i}}}),e.$on("click",i[22]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function CHe(i){let e,t;return e=new ki({props:{size:24}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function DHe(i){let e;return{c(){e=K("Done")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function SHe(i){let e,t,n,r;const s=[$He,wHe],l=[];function o(a,u){return a[0].mode=="edit"?0:a[0].locations.length?1:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=P("div"),n&&n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function PP(i){let e,t,n;return t=new jt({props:{solo:!0,className:"my-2  shadow-lg ring-1 ring-gray-500 ring-opacity-25",$$slots:{default:[PHe]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"value",1),h(e,"class","absolute left-4 right-4 top-8 z-50")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[0]&32|s[1]&8192&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function THe(i){let e=i[40].name+"",t,n;return{c(){t=K(e),n=W()},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s[0]&32&&e!==(e=r[40].name+"")&&de(t,e)},d(r){r&&y(t),r&&y(n)}}}function NP(i){let e,t;return e=new et({props:{icon:oB,className:"text-yellow-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function AHe(i){let e,t,n,r=i[40].saved&&NP();return{c(){e=P("div"),r&&r.c(),t=W(),h(e,"slot","left")},m(s,l){w(s,e,l),r&&r.m(e,null),D(e,t),n=!0},p(s,l){s[40].saved?r?(r.p(s,l),l[0]&32&&_(r,1)):(r=NP(),r.c(),_(r,1),r.m(e,t)):r&&(ae(),v(r,1,1,()=>{r=null}),ue())},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(e),r&&r.d()}}}function MP(i){let e,t;function n(){return i[28](i[40])}return e=new lt({props:{bottomLine:24,autofocus:!0,$$slots:{left:[AHe],default:[THe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&32|s[1]&8192&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function PHe(i){let e,t,n=i[5],r=[];for(let l=0;l<n.length;l+=1)r[l]=MP($P(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&262176){n=l[5];let a;for(a=0;a<n.length;a+=1){const u=$P(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=MP(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function NHe(i){var d;let e,t,n,r,s,l,o,a;t=new Sn({props:{className:"w-full stiff",$$slots:{right:[SHe],left:[yHe],default:[bHe]},$$scope:{ctx:i}}});function u(m){i[24](m)}let c={};i[3]!==void 0&&(c.searchTerm=i[3]),s=new Nf({props:c}),Oe.push(()=>Qe(s,"searchTerm",u,i[3])),s.$on("focus",i[25]),s.$on("blur",i[26]),s.$on("change",i[27]);let f=i[5].length&&((d=i[3])==null?void 0:d.length)&&!i[4]&&PP(i);return{c(){e=P("header"),B(t.$$.fragment),n=W(),r=P("div"),B(s.$$.fragment),o=W(),f&&f.c(),h(r,"class","searchbar-results relative"),h(e,"slot","header"),h(e,"class","bg-white relative dark:bg-black pb-2 shadow-md z-40")},m(m,p){w(m,e,p),O(t,e,null),D(e,n),D(e,r),O(s,r,null),D(r,o),f&&f.m(r,null),a=!0},p(m,p){var $;const g={};p[0]&129|p[1]&8192&&(g.$$scope={dirty:p,ctx:m}),t.$set(g);const k={};!l&&p[0]&8&&(l=!0,k.searchTerm=m[3],tt(()=>l=!1)),s.$set(k),m[5].length&&(($=m[3])==null?void 0:$.length)&&!m[4]?f?(f.p(m,p),p[0]&56&&_(f,1)):(f=PP(m),f.c(),_(f,1),f.m(r,null)):f&&(ae(),v(f,1,1,()=>{f=null}),ue())},i(m){a||(_(t.$$.fragment,m),_(s.$$.fragment,m),_(f),a=!0)},o(m){v(t.$$.fragment,m),v(s.$$.fragment,m),v(f),a=!1},d(m){m&&y(e),I(t),I(s),f&&f.d()}}}function MHe(i){let e,t;return e=new ti({props:{className:"h-full bg-white dark:bg-gray-900 w-full",$$slots:{header:[NHe],default:[pHe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&255|r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function LHe(i,e,t){let n,r;Le(i,yl,ze=>t(21,n=ze)),Le(i,at,ze=>t(39,r=ze));let{id:s}=e,{onSelect:l}=e;const o={locations:[],active:null,mode:"view",mapLocation:null,locating:!1};let a=null,u=null,c=!1,f,d=!0,m=[],p=!0;const g=async()=>{tn(s)};let k,$=!1;function C(ze){if(clearTimeout(k),o.mode=="edit"){t(7,$=!0);let ke=ze.detail;k=setTimeout(()=>{yl.updateSync(Ue=>ke).then(()=>{t(7,$=!1)})},300)}}const E=async ze=>{t(6,p=!1),t(0,o.mode=ze,o),await Lt(100),t(6,p=!0)};function S(ze){let ke=ze.detail;a!==ke.hash&&(a=ke.hash,t(1,u=ke))}async function T(ze){await at.confirm("Remove Location?","You can add it later")&&(t(0,o.mode="view",o),t(6,p=!1),await yl.remove(ze),await Lt(100),E("edit"))}async function M(){t(0,o.locating=!0,o);try{let ze=await wh();if(ze){let ke=new Bu({lat:ze.latitude,lng:ze.longitude,name:ze.location});Y(ke)}}catch{at.error(`${Fe.t("location.unable-to-get-your-location","Unable to get your location")}`)}t(0,o.locating=!1,o)}async function R(ze){let ke=await at.prompt("New Name",null,{value:ze.name});ke&&(ze.name=ke,yl.upsert(ze))}function Y(ze){r.locationFinder.onInteract&&r.locationFinder.onInteract(ze),l&&l(ze),g()}async function z(ze){let ke;if(ze||u?ke=ze||u:o.active&&(ke=o.active),ke){if(!ke.name){let Ue=await at.prompt("\u{1F4CD} Name this location",null,{value:ke.name});ke.name=Ue}ke.name&&await yl.upsert(ke)}}const j=async ze=>{let ke=await A0e(ze),Ue=n.filter(Ce=>JSON.stringify(Ce).toLowerCase().search(ze.toLowerCase())>-1).map(Ce=>({name:Ce.name,lat:Ce.lat,lng:Ce.lng,magicKey:null,saved:!0}));t(5,m=[...Ue,...ke])},V=async ze=>{const ke=await T0e(ze);ke&&!ze.saved&&await z(ke),Y(ke),t(4,d=!0)},x=()=>{E("view")},ee=()=>{E("edit")};function J(ze){f=ze,t(3,f)}const q=()=>{t(4,d=!1)},le=()=>{t(4,d=!0)},G=ze=>{j(ze.detail)},X=ze=>{V(ze)},se=()=>{z(u)},te=()=>{Y(u)},ie=()=>{M()},re=()=>{t(2,c=!c)},be=ze=>{R(ze)},we=(ze,ke)=>{T(ze)},De=ze=>{o.mode=="view"&&Y(ze)};function Be(ze){i.$$.not_equal(o.locations,ze)&&(o.locations=ze,t(0,o),t(21,n))}return i.$$set=ze=>{"id"in ze&&t(19,s=ze.id),"onSelect"in ze&&t(20,l=ze.onSelect)},i.$$.update=()=>{i.$$.dirty[0]&2097152&&t(0,o.locations=n,o)},[o,u,c,f,d,m,p,$,g,C,E,S,T,M,R,Y,z,j,V,s,l,n,x,ee,J,q,le,G,X,se,te,ie,re,be,we,De,Be]}class OHe extends pe{constructor(e){super(),me(this,e,LHe,MHe,he,{id:19,onSelect:20},null,[-1,-1])}}function IHe(i){let e,t,n,r;return{c(){e=P("input"),h(e,"title","input value"),h(e,"name","value"),h(e,"placeholder",t=i[0].placeholder),h(e,"class","h-10 mt-2 form-control")},m(s,l){w(s,e,l),Kn(e,i[0].value),n||(r=[Se(e,"keypress",i[8]),Se(e,"input",i[9])],n=!0)},p(s,l){l&1&&t!==(t=s[0].placeholder)&&h(e,"placeholder",t),l&1&&e.value!==s[0].value&&Kn(e,s[0].value)},i:Z,o:Z,d(s){s&&y(e),n=!1,Ot(r)}}}function BHe(i){let e,t,n;function r(l){i[6](l)}let s={opened:!0,calendarPosition:"top"};return i[0].value!==void 0&&(s.date=i[0].value),e=new LR({props:s}),Oe.push(()=>Qe(e,"date",r,i[0].value)),e.$on("change",i[7]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.date=l[0].value,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function RHe(i){let e,t,n,r;return{c(){e=P("input"),h(e,"name","value"),h(e,"pattern","[0-9]*"),h(e,"inputmode","numeric"),h(e,"title","input value "),h(e,"placeholder",t=i[0].placeholder),h(e,"type","number"),h(e,"class","h-10 mt-2 form-control stiff")},m(s,l){w(s,e,l),Kn(e,i[0].value),n||(r=[Se(e,"keypress",i[4]),Se(e,"input",i[5]),Se(e,"focus",this.select)],n=!0)},p(s,l){l&1&&t!==(t=s[0].placeholder)&&h(e,"placeholder",t),l&1&&oh(e.value)!==s[0].value&&Kn(e,s[0].value)},i:Z,o:Z,d(s){s&&y(e),n=!1,Ot(r)}}}function zHe(i){let e,t,n,r;return{c(){e=P("textarea"),h(e,"name","value"),h(e,"title","input value"),h(e,"placeholder",t=i[0].placeholder),h(e,"class","mt-2 form-control"),gt(e,"min-height","200px")},m(s,l){w(s,e,l),Kn(e,i[0].value),n||(r=Se(e,"input",i[3]),n=!0)},p(s,l){l&1&&t!==(t=s[0].placeholder)&&h(e,"placeholder",t),l&1&&Kn(e,s[0].value)},i:Z,o:Z,d(s){s&&y(e),n=!1,r()}}}function jHe(i){let e,t,n,r;const s=[zHe,RHe,BHe,IHe],l=[];function o(a,u){return a[0].valueType=="textarea"?0:a[0].valueType=="number"?1:a[0].valueType=="datetime"?2:3}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"class","px-2 pt-1")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function YHe(i){let e,t;return e=new Lk({props:{id:i[1],payload:i[0],$$slots:{default:[jHe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&2&&(s.id=n[1]),r&1&&(s.payload=n[0]),r&1027&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function UHe(i,e,t){let{id:n}=e,{payload:r}=e;const s=(m,p)=>{m.charCode===13&&p()};function l(){r.value=this.value,t(0,r)}const o=m=>{s(m,()=>{r.onInteract(r),tn(n)})};function a(){r.value=oh(this.value),t(0,r)}function u(m){i.$$.not_equal(r.value,m)&&(r.value=m,t(0,r))}const c=m=>{t(0,r.value=m.detail.toDate(),r)},f=m=>{s(m,()=>{r.onInteract(r),tn(n)})};function d(){r.value=this.value,t(0,r)}return i.$$set=m=>{"id"in m&&t(1,n=m.id),"payload"in m&&t(0,r=m.payload)},[r,n,s,l,o,a,u,c,f,d]}class WHe extends pe{constructor(e){super(),me(this,e,UHe,YHe,he,{id:1,payload:0})}}function LP(i){let e,t,n,r,s,l;const o=[HHe,qHe],a=[];function u(f,d){return f[0].blocker.percent?1:0}n=u(i),r=a[n]=o[n](i);let c=i[0].blocker.message&&OP(i);return{c(){e=P("div"),t=P("div"),r.c(),s=W(),c&&c.c(),h(t,"class","w-28 h-28 dark:bg-black border glass dark:border-gray-700 bg-white dark:bg-opacity-80 bg-opacity-60 flex flex-col items-center justify-center space-y-4 p-4 rounded-lg"),gt(e,"min-width","100px"),gt(e,"min-height","100px"),h(e,"class","w-28 h-28")},m(f,d){w(f,e,d),D(e,t),a[n].m(t,null),D(t,s),c&&c.m(t,null),l=!0},p(f,d){let m=n;n=u(f),n===m?a[n].p(f,d):(ae(),v(a[m],1,1,()=>{a[m]=null}),ue(),r=a[n],r?r.p(f,d):(r=a[n]=o[n](f),r.c()),_(r,1),r.m(t,s)),f[0].blocker.message?c?c.p(f,d):(c=OP(f),c.c(),c.m(t,null)):c&&(c.d(1),c=null)},i(f){l||(_(r),l=!0)},o(f){v(r),l=!1},d(f){f&&y(e),a[n].d(),c&&c.d()}}}function qHe(i){let e,t,n;return t=new Dl({props:{percentage:i[0].blocker.percent,className:"w-20 h-4 flex-shrink-0 bg-gray-200 dark:bg-gray-800"}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","py-2")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.percentage=r[0].blocker.percent),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function HHe(i){let e,t,n;return t=new ki({props:{size:32}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","flex-shrink-0")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function OP(i){let e,t=(i[0].blocker.message||"")+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","leading-tight text-center line-clamp-3 text-xs dark:text-white ")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=(r[0].blocker.message||"")+"")&&de(n,t)},d(r){r&&y(e)}}}function VHe(i){let e,t,n=i[0].blocker.show&&LP(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0].blocker.show?n?(n.p(r,s),s&1&&_(n,1)):(n=LP(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function xHe(i,e,t){let n;return Le(i,at,r=>t(0,n=r)),[n]}class GHe extends pe{constructor(e){super(),me(this,e,xHe,VHe,he,{})}}const IP={show:!1,title:null,description:null,buttons:[],divider:!1,component:void 0,componentProps:void 0,buttonView:"list",trackable:void 0,headerRightIcon:void 0,headerRightIconClick:void 0},ZHe={activeTag:null,date:null,terms:[],focused:null},XHe=()=>{const{update:i,subscribe:e,set:t}=rn({stats:ZHe,alert:{show:!1,title:null,message:null,ok:"Ok",cancel:null,onInteract:null},blocker:{show:!1,message:void 0,percent:void 0},confetti:{show:!1,title:void 0,message:void 0,timeout:void 0},trackerInput:{show:!1,tracker:null,onInteract:null,value:null,allowSave:!0},logEditor:{show:!1,log:null,onInteract:null,tag:null,value:null},toast:{show:!1,message:null,detail:null,buttonLabel:void 0,buttonClick:void 0,click:void 0,description:void 0},popmenu:{...IP},locationFinder:{show:!1,onInteract:null,location:null},locationViewer:{show:!1,locations:null},prompt:{show:!1,placeholder:void 0,message:void 0,title:void 0,value:void 0,valueType:void 0,cancel:void 0,onInteract:void 0}}),n={alert(r,s,l){return new Promise(o=>{On({id:`alert-${di([r,s,l])}`,component:Lk,position:"center",componentProps:{payload:{show:!0,title:r,message:s,cancel:null,ok:l||"Ok",onInteract:o}}})})},confetti(r={}){i(s=>(s.confetti.show=r.show!==!1,r.title&&n.alert(r.title,r.message),r.timeout&&setTimeout(()=>{n.confetti({show:!1,title:void 0,message:void 0,timeout:void 0})},r.timeout),s))},blocker(r,s){On({id:"blocker",position:"center",transparent:!0,component:GHe}),i(l=>(l.blocker.show=!0,l.blocker.message=r,l.blocker.percent=s,l))},stopBlocker(){tn("blocker"),i(r=>(r.blocker.show=!1,r.blocker.message=void 0,r.blocker.percent=void 0,r))},toggleFocusedEditor(){Rf(new gn({}))},loading(r){let s=()=>{i(l=>(l.toast.show=!1,l.toast.message=null,l.toast.detail=null,l.toast.buttonClick=void 0,l.toast.buttonLabel=void 0,l))};return i(l=>(l.toast.show=!0,l.toast.message=r,l)),s},async trackerInput(r,s={}){},dismissTrackerInput(){i(r=>(r.trackerInput.show=!1,r.trackerInput.tracker=null,r.trackerInput.onInteract=null,r))},focusDate(r){i(s=>(s.stats.focused=r,s))},closeStats(){i(r=>(r.stats.terms=[],r))},async selectDate(r=new Date){return(await at.prompt("Date / Time",null,{valueType:"datetime",value:r})).getTime()},logOptions(r,s={}){return r=new gn(r),r.trackers||r.expanded(),new Promise((l,o)=>{const a={title:`${Fe.t("general.delete-this-note","Delete this note...")}`,click:async()=>{if(await Lt(300),await n.confirm("Delete this note?","Are you sure? Deleting a log cannot be undone.")){try{await dn.deleteLogs([r]),qn({message:Fe.t("general.note-deleted","Note Deleted")})}catch(f){n.error(f.message)}return{action:"deleted"}}else return null},icon:wf,divider:!0};let u=[];n.popmenu({title:Te(r.end).fromNow(),description:r.note,id:`log-options-${r._id}`,buttons:[...dq(r,!1),...u,...Y1(iv(r.end)),a]})})},showLocations(r){i(s=>(s.locationViewer.locations=r,s.locationViewer.show=!0,s))},dismissLocations(){i(r=>(r.locationViewer.locations=null,r.locationViewer.show=!1,r))},async error(r){return n.alert(`${Fe.t("general.error","Error")}`,r)},confirm(r,s,l,o){return new Promise(a=>{const u=`alert-${di([r,s,l])}`;On({id:u,component:Lk,position:"center",componentProps:{payload:{title:r,message:s,cancel:o||`${Fe.t("general.cancel","Cancel")}`,ok:l||"Ok",onInteract:c=>{c.value===!1?a(!1):a(c.value||!0),tn(u)}}}})})},reload(){document.location.reload()},closePopMenu(){i(r=>(r.popmenu=IP,r))},popmenu(r){Js(r)},pickLocation(r){return new Promise((s,l)=>{On({id:"pickLocation",component:OHe,componentProps:{location:r,onSelect:o=>{s(o)}}})})},prompt(r,s,l={}){return new Promise((o,a)=>{On({id:`prompt-${di([r,s,l])}`,position:"center",component:WHe,componentProps:{payload:{show:!0,message:s,title:r,ok:"Next",value:l.value||null,valueType:l.valueType||"text",cancel:`${Fe.t("general.cancel","Cancel")}`,placeholder:l.placeholder||"",onInteract:u=>{u&&o(u.value)}}}})})},dismiss(){i(r=>(r.popmenu.show=!1,r.prompt.show=!1,r.popmenu.component=void 0,r.popmenu.componentProps=void 0,r))}};return window.interact=n,{update:i,subscribe:e,set:t,...n}},at=XHe();function BP(i,e,t){const n=i.slice();return n[5]=e[t],n[7]=t,n}function KHe(i){let e,t,n=i[0].newAwards,r=[];for(let s=0;s<n.length;s+=1)r[s]=RP(BP(i,n,s));return{c(){e=P("main"),t=P("div");for(let s=0;s<r.length;s+=1)r[s].c();h(t,"class","grid grid-cols-2 lg:grid-cols-3 gap-2 p-4"),h(e,"class","")},m(s,l){w(s,e,l),D(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(s,l){if(l&1){n=s[0].newAwards;let o;for(o=0;o<n.length;o+=1){const a=BP(s,n,o);r[o]?r[o].p(a,l):(r[o]=RP(a),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){s&&y(e),pt(r,s)}}}function JHe(i){let e,t,n,r,s,l,o,a=i[0].newAwards[0].name+"",u,c,f=i[0].newAwards[0].reason&&zP(i);return{c(){e=P("main"),t=P("div"),n=P("img"),l=W(),o=P("div"),u=K(a),c=W(),f&&f.c(),h(n,"class","mx-auto w-52"),Jr(n.src,r="/images/awards/"+i[0].newAwards[0].id+".svg")||h(n,"src",r),h(n,"alt",s=i[0].newAwards[0].name),h(o,"class","text-4xl my-4 font-bold w-11/12 mx-auto relative text-gray-400 dark:text-gray-200 text-center leading-tight "),h(t,"class","award-badge text-center w-full"),h(e,"class","h-full flex items-center justify-center")},m(d,m){w(d,e,m),D(e,t),D(t,n),D(t,l),D(t,o),D(o,u),D(o,c),f&&f.m(o,null)},p(d,m){m&1&&!Jr(n.src,r="/images/awards/"+d[0].newAwards[0].id+".svg")&&h(n,"src",r),m&1&&s!==(s=d[0].newAwards[0].name)&&h(n,"alt",s),m&1&&a!==(a=d[0].newAwards[0].name+"")&&de(u,a),d[0].newAwards[0].reason?f?f.p(d,m):(f=zP(d),f.c(),f.m(o,null)):f&&(f.d(1),f=null)},d(d){d&&y(e),f&&f.d()}}}function RP(i){let e,t,n,r,s,l,o=i[5].name+"",a,u;return{c(){e=P("div"),t=P("img"),s=W(),l=P("div"),a=K(o),u=W(),Jr(t.src,n="/images/awards/"+i[5].id+".svg")||h(t,"src",n),h(t,"alt",r=i[5].name),h(l,"class","text-xs -top-2 w-11/12 mx-auto relative text-gray-400 dark:text-gray-200 rounded-full py-1 text-center line-clamp-1 leading-tight "),h(e,"class","award-badge")},m(c,f){w(c,e,f),D(e,t),D(e,s),D(e,l),D(l,a),D(e,u)},p(c,f){f&1&&!Jr(t.src,n="/images/awards/"+c[5].id+".svg")&&h(t,"src",n),f&1&&r!==(r=c[5].name)&&h(t,"alt",r),f&1&&o!==(o=c[5].name+"")&&de(a,o)},d(c){c&&y(e)}}}function zP(i){let e,t,n=i[0].newAwards[0].reason+"",r,s,l,o=i[0].newAwards[0].getHash()+"",a;return{c(){e=P("p"),t=K("Reason: "),r=K(n),s=W(),l=P("p"),a=K(o),h(e,"class","text-gray-500 font-medium text-sm mt-2"),h(l,"class","text-gray-500 font-medium text-xs opacity-60 mt-2")},m(u,c){w(u,e,c),D(e,t),D(e,r),w(u,s,c),w(u,l,c),D(l,a)},p(u,c){c&1&&n!==(n=u[0].newAwards[0].reason+"")&&de(r,n),c&1&&o!==(o=u[0].newAwards[0].getHash()+"")&&de(a,o)},d(u){u&&y(e),u&&y(s),u&&y(l)}}}function QHe(i){let e;function t(s,l){return s[1]==1?JHe:KHe}let n=t(i),r=n(i);return{c(){r.c(),e=Ae()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},d(s){r.d(s),s&&y(e)}}}function eVe(i){let e,t=(i[1]==1?Fe.t("awards.new-award","New Award!"):Fe.t("awards.new-awards","New Awards!"))+"",n;return{c(){e=P("h1"),n=K(t),h(e,"class","ntitle")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&2&&t!==(t=(r[1]==1?Fe.t("awards.new-award","New Award!"):Fe.t("awards.new-awards","New Awards!"))+"")&&de(n,t)},d(r){r&&y(e)}}}function tVe(i){let e,t;return e=new et({props:{icon:Qa,size:28,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nVe(i){let e,t;return e=new He({props:{slot:"left",type:"icon",$$slots:{default:[tVe]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function iVe(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{left:[nVe],default:[eVe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&258&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function rVe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function sVe(i){let e,t;return e=new He({props:{id:"accept-award-button",className:"w-full bg-primary-600 text-white font-bold",$$slots:{default:[rVe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lVe(i){let e,t;return e=new Os({props:{slot:"footer",$$slots:{default:[sVe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function oVe(i){let e,t;return e=new ti({props:{$$slots:{footer:[lVe],header:[iVe],default:[QHe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&259&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function aVe(i,e,t){let n,r;Le(i,ll,a=>t(0,r=a));let{id:s}=e;const l=async()=>{await Lt(200),ll.update(a=>(a.newAwards=[],a)),tn(s)},o=async()=>{await gVe(),l()};return i.$$set=a=>{"id"in a&&t(3,s=a.id)},i.$$.update=()=>{i.$$.dirty&1&&t(1,n=r.newAwards.length)},[r,n,l,s,o]}class uVe extends pe{constructor(e){super(),me(this,e,aVe,oVe,he,{id:3})}}const cVe=(i,e,t="days")=>{var n=e.getTime()-i.getTime(),r=n/(1e3*3600*24);return Math.abs(r)},fVe=i=>$y.filter(t=>!i.chain.chain.find(n=>n.id===t.id)).filter(t=>{var n,r;return((n=t.config)==null?void 0:n.type)==="open-streak"?i.streakDays>=t.config.days:((r=t.config)==null?void 0:r.type)==="usage-length"?i.daysUsing>=t.config.days:!1}).map(t=>new Hg(t)),dVe={chain:void 0,ready:!1,saving:!1,awards:[],newAwards:[]},ll=rn(dVe);ll.subscribe(i=>{i.newAwards.length&&(iu("new-awards"),On({id:"new-awards",component:uVe,position:"bottom",componentProps:{}}))});const hVe=async()=>{const i=new mK(_n.getEngine(),Ii.storage.awards());await i.open(),ll.update(e=>(e.chain=i,e.ready=!0,e.awards=i.chain,e.newAwards=[],e)),await Lt(1e3),_Ve(i)},mVe=()=>hq().chain,hq=()=>{let i;return ll.update(e=>(i=e,e)),i},pVe=i=>{const e=hq();let n=$y.filter(r=>!e.awards.find(s=>s.id==r.id)).find(r=>r.id===i);!e.chain.getById(i)&&n&&ll.update(r=>{let s=new Hg(n);return s.reason="Created a tracker",r.newAwards=[s],r})},_Ve=async i=>{const e=(await dn.getFirstDate(!1)).toDate(),t=Te(new Date),n={lastOpened:t.startOf("day").toDate(),streak:0},r=await _n.get("open-streak.json")||n,s=Math.floor(cVe(e,new Date)),l=Te(r.lastOpened).startOf("day"),o=t.startOf("day"),a=Math.abs(l.diff(o,"hours"));a==24?r.streak=r.streak+1:a>24&&(r.streak=0),r.lastOpened=new Date,ll.update(u=>{const c=fVe({existingAwards:u.awards,chain:i,streakDays:r.streak,daysUsing:s});return u.newAwards=c,u}),_n.put("open-streak.json",r)},gVe=async()=>{let i=[],e;at.blocker("Saving..."),ll.update(n=>(n.saving=!0,i=n.newAwards,e=n.chain,n));let t=[];for(let n=0;n<i.length;n++)await e.add(i[n]).then(()=>{t.push(i[n])});at.stopBlocker(),await Lt(200),ll.update(n=>(n.saving=!1,n.chain=e,n.awards=e.chain,n.newAwards=[],n))};function jP(i,e,t){const n=i.slice();return n[11]=e[t],n[13]=t,n}function YP(i){let e,t,n;return t=new et({props:{className:"text-gray-800 dark:text-gray-200",icon:G1}}),{c(){e=P("div"),B(t.$$.fragment)},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function UP(i){let e,t=i[11].description+"",n,r;return{c(){e=P("p"),n=K(t),h(e,"class",r=(i[1]=="sm"?"text-xs":"text-sm")+" description")},m(s,l){w(s,e,l),D(e,n)},p(s,l){l&1&&t!==(t=s[11].description+"")&&de(n,t),l&2&&r!==(r=(s[1]=="sm"?"text-xs":"text-sm")+" description")&&h(e,"class",r)},d(s){s&&y(e)}}}function vVe(i){let e,t;return e=new kr({props:{emoji:i[11].emoji,size:32}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.emoji=n[11].emoji),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function bVe(i){let e,t;return e=new et({props:{icon:i[11].icon,className:"text-black dark:text-white",size:i[5]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.icon=n[11].icon),r&32&&(s.size=n[5]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function WP(i,e){let t,n,r,s,l=e[11].title+"",o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M=e[11].checked&&YP(),R=e[11].description&&UP(e);const Y=[bVe,vVe],z=[];function j(ee,J){return ee[11].icon?0:ee[11].emoji?1:-1}~(d=j(e))&&(m=z[d]=Y[d](e));function V(...ee){return e[9](e[11],...ee)}function x(){return e[10](e[11])}return{key:i,first:null,c(){t=P("button"),M&&M.c(),n=W(),r=P("main"),s=P("h1"),o=K(l),u=W(),R&&R.c(),c=W(),f=P("div"),m&&m.c(),p=W(),h(s,"class",a=(e[11].title.length>25||e[1]=="sm"?"text-sm":"text-lg")+" leading-tight title"),h(r,"class","flex-fill w-full transition-all"),h(f,"class","flex items-center"),h(t,"role","menuitem"),h(t,"data-award-required",g=e[11].awardRequired),h(t,"aria-label",k=e[11].title),t.disabled=$=e[11].disabled,h(t,"class",C="pop-button "+(e[11].checked?"active":"")+" bg-white dark:bg-black bg-opacity-80 dark:bg-opacity-80 nbtn-left pop-button-"+e[13]+" "+(e[11].awardRequired?e[6].awards.find(V)?"unlocked":"locked":"")+" "+(e[11].description?"nbtn-desc":"")),this.first=t},m(ee,J){w(ee,t,J),M&&M.m(t,null),D(t,n),D(t,r),D(r,s),D(s,o),D(r,u),R&&R.m(r,null),D(t,c),D(t,f),~d&&z[d].m(f,null),D(t,p),E=!0,S||(T=Se(t,"click",x),S=!0)},p(ee,J){e=ee,e[11].checked?M?(M.p(e,J),J&1&&_(M,1)):(M=YP(),M.c(),_(M,1),M.m(t,n)):M&&(ae(),v(M,1,1,()=>{M=null}),ue()),(!E||J&1)&&l!==(l=e[11].title+"")&&de(o,l),(!E||J&3&&a!==(a=(e[11].title.length>25||e[1]=="sm"?"text-sm":"text-lg")+" leading-tight title"))&&h(s,"class",a),e[11].description?R?R.p(e,J):(R=UP(e),R.c(),R.m(r,null)):R&&(R.d(1),R=null);let q=d;d=j(e),d===q?~d&&z[d].p(e,J):(m&&(ae(),v(z[q],1,1,()=>{z[q]=null}),ue()),~d?(m=z[d],m?m.p(e,J):(m=z[d]=Y[d](e),m.c()),_(m,1),m.m(f,null)):m=null),(!E||J&1&&g!==(g=e[11].awardRequired))&&h(t,"data-award-required",g),(!E||J&1&&k!==(k=e[11].title))&&h(t,"aria-label",k),(!E||J&1&&$!==($=e[11].disabled))&&(t.disabled=$),(!E||J&65&&C!==(C="pop-button "+(e[11].checked?"active":"")+" bg-white dark:bg-black bg-opacity-80 dark:bg-opacity-80 nbtn-left pop-button-"+e[13]+" "+(e[11].awardRequired?e[6].awards.find(V)?"unlocked":"locked":"")+" "+(e[11].description?"nbtn-desc":"")))&&h(t,"class",C)},i(ee){E||(_(M),_(m),E=!0)},o(ee){v(M),v(m),E=!1},d(ee){ee&&y(t),M&&M.d(),R&&R.d(),~d&&z[d].d(),S=!1,T()}}}function kVe(i){let e,t=[],n=new Map,r,s,l=i[0];const o=a=>a[13];for(let a=0;a<l.length;a+=1){let u=jP(i,l,a),c=o(u);n.set(c,t[a]=WP(c,u))}return{c(){e=P("div");for(let a=0;a<t.length;a+=1)t[a].c();h(e,"role","menu"),h(e,"id",i[4]),h(e,"class",r="n-menu size-"+i[1]+" "+i[2]),h(e,"style",i[3])},m(a,u){w(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);s=!0},p(a,[u]){u&227&&(l=a[0],ae(),t=Pi(t,u,o,1,a,l,n,e,br,WP,null,jP),ue()),(!s||u&16)&&h(e,"id",a[4]),(!s||u&6&&r!==(r="n-menu size-"+a[1]+" "+a[2]))&&h(e,"class",r),(!s||u&8)&&h(e,"style",a[3])},i(a){if(!s){for(let u=0;u<l.length;u+=1)_(t[u]);s=!0}},o(a){for(let u=0;u<t.length;u+=1)v(t[u]);s=!1},d(a){a&&y(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function yVe(i,e,t){let n;Le(i,ll,p=>t(6,n=p));let{buttons:r=[]}=e,{size:s="lg"}=e,{className:l=""}=e,{style:o=""}=e,{id:a=""}=e;const u=Ut();let c=[],f=24;const d=(p,g)=>g.id==p.awardRequired,m=async p=>{await Lt(200),p.click(),u("click",p)};return i.$$set=p=>{"buttons"in p&&t(0,r=p.buttons),"size"in p&&t(1,s=p.size),"className"in p&&t(2,l=p.className),"style"in p&&t(3,o=p.style),"id"in p&&t(4,a=p.id)},i.$$.update=()=>{if(i.$$.dirty&257&&r){t(8,c=[[]]);let p=c.length-1;r.forEach(g=>{g.divider&&(c.push([]),p=c.length-1),c[p].push(g)})}i.$$.dirty&2&&s&&(s=="xs"?t(5,f=14):s=="sm"?t(5,f=18):s=="md"?t(5,f=22):s=="lg"?t(5,f=26):s=="xl"&&t(5,f=32))},[r,s,l,o,a,f,n,u,c,d,m]}class k$ extends pe{constructor(e){super(),me(this,e,yVe,kVe,he,{buttons:0,size:1,className:2,style:3,id:4})}}function wVe(i){return i instanceof Element?i:window.document.body}function qP(i){if(i){const e=wVe(i),t=e.getBoundingClientRect();return{x:t.x,y:t.y,height:t.height,width:t.width,top:Math.abs(t.top),topP:(Math.abs(t.top)-window.innerHeight)/Math.abs(t.top),left:t.left,leftP:(Math.abs(t.left)-window.innerWidth)/Math.abs(t.left),element:e,dir:t.x>t.y?"x":"y"}}else return{x:0,y:0,height:0,width:0,top:0,topP:0,left:0,leftP:0,element:void 0,dir:void 0}}function HP(i){let e,t,n,r,s;return t=new k$({props:{id:"dropdown-store-menu",className:"dropmenu shadow-2xl rounded-xl "+(i[5]?"open":"closed")+" "+(i[6]?"opacity-100":"opacity-0"),style:(i[1]?`top:${i[1]}px`:`bottom:${i[2]}px`)+"; "+(i[4]?`right:${i[4]}px;`:`left:${i[3]}px;`),size:"md",buttons:i[0].buttons}}),t.$on("click",i[8]),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","drop-menu-background cursor-pointer "),h(e,"id","drop-menu")},m(l,o){w(l,e,o),O(t,e,null),n=!0,r||(s=Se(e,"click",BI(i[9])),r=!0)},p(l,o){const a={};o&96&&(a.className="dropmenu shadow-2xl rounded-xl "+(l[5]?"open":"closed")+" "+(l[6]?"opacity-100":"opacity-0")),o&30&&(a.style=(l[1]?`top:${l[1]}px`:`bottom:${l[2]}px`)+"; "+(l[4]?`right:${l[4]}px;`:`left:${l[3]}px;`)),o&1&&(a.buttons=l[0].buttons),t.$set(a)},i(l){n||(_(t.$$.fragment,l),n=!0)},o(l){v(t.$$.fragment,l),n=!1},d(l){l&&y(e),I(t),r=!1,s()}}}function $Ve(i){let e,t,n=i[0].visible&&HP(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0].visible?n?(n.p(r,s),s&1&&_(n,1)):(n=HP(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function FVe(i,e,t){let n;Le(i,C2,g=>t(0,n=g));let r,s,l,o,a,u=!1,c=!1;async function f(){if(t(5,u=!1),r){const g=qP(r);let k=250;t(5,u=!0);let $=qP(document.getElementById("dropdown-store-menu"));$&&g&&(t(1,s=Math.abs(g.y+g.height)+10),t(3,o=Math.abs(g.x)),await Lt(40),s+($.height||200)>window.innerHeight&&(t(1,s=void 0),t(2,l=10)),o+k>window.innerWidth?t(4,a=10):o<0&&t(3,o=10),t(6,c=!0))}}const d=async()=>{t(5,u=!1),t(6,c=!1),await Lt(200),C2.close()},m=()=>{d()},p=()=>{Lt(200).then(()=>{d()})};return i.$$.update=()=>{i.$$.dirty&1&&(r=n.caller),i.$$.dirty&1&&n.visible&&(t(3,o=void 0),t(4,a=void 0),setTimeout(()=>{f()},10))},[n,s,l,o,a,u,c,d,m,p]}class EVe extends pe{constructor(e){super(),me(this,e,FVe,$Ve,he,{})}}function VP(i){return{c:Z,m:Z,d:Z}}function CVe(i){let e,t=i[0].logEditor.show&&VP();return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[0].logEditor.show?t||(t=VP(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(n){t&&t.d(n),n&&y(e)}}}function DVe(i,e,t){let n;return Le(i,at,r=>t(0,n=r)),[n]}class SVe extends pe{constructor(e){super(),me(this,e,DVe,CVe,he,{})}}function TVe(i){let e,t;return{c(){e=P("div"),h(e,"class",t="dot z-20 inline-flex rounded-full "+i[1]),gt(e,"width",i[0]+"px"),gt(e,"height",i[0]+"px")},m(n,r){w(n,e,r)},p(n,[r]){r&2&&t!==(t="dot z-20 inline-flex rounded-full "+n[1])&&h(e,"class",t),r&1&&gt(e,"width",n[0]+"px"),r&1&&gt(e,"height",n[0]+"px")},i:Z,o:Z,d(n){n&&y(e)}}}function AVe(i,e,t){let{size:n=10}=e,{className:r=""}=e;return i.$$set=s=>{"size"in s&&t(0,n=s.size),"className"in s&&t(1,r=s.className)},[n,r]}class mq extends pe{constructor(e){super(),me(this,e,AVe,TVe,he,{size:0,className:1})}}function xP(i){let e,t;return{c(){e=P("div"),t=K(i[4]),h(e,"class","notify")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&16&&de(t,n[4])},d(n){n&&y(e)}}}function PVe(i){let e,t,n,r,s,l=i[4]&&xP(i);const o=i[5].default,a=nt(o,i,i[6],null);return{c(){l&&l.c(),e=W(),a&&a.c(),t=W(),n=P("div"),r=K(i[0]),h(n,"class","label whitespace-nowrap")},m(u,c){l&&l.m(u,c),w(u,e,c),a&&a.m(u,c),w(u,t,c),w(u,n,c),D(n,r),s=!0},p(u,c){u[4]?l?l.p(u,c):(l=xP(u),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),a&&a.p&&(!s||c&64)&&rt(a,o,u,u[6],s?it(o,u[6],c,null):st(u[6]),null),(!s||c&1)&&de(r,u[0])},i(u){s||(_(a,u),s=!0)},o(u){v(a,u),s=!1},d(u){l&&l.d(u),u&&y(e),a&&a.d(u),u&&y(t),u&&y(n)}}}function NVe(i){let e,t;return e=new Z2e({props:{to:i[2],$$slots:{default:[PVe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.to=n[2]),r&81&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function MVe(i){let e,t;return e=new He({props:{className:"tab-wrap tab-"+i[1]+" "+i[3],ariaLabel:i[0],$$slots:{default:[NVe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&10&&(s.className="tab-wrap tab-"+n[1]+" "+n[3]),r&1&&(s.ariaLabel=n[0]),r&85&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function LVe(i,e,t){let{$$slots:n={},$$scope:r}=e,{label:s}=e,{id:l}=e,{link:o}=e,{className:a=""}=e,{notify:u=!1}=e;return i.$$set=c=>{"label"in c&&t(0,s=c.label),"id"in c&&t(1,l=c.id),"link"in c&&t(2,o=c.link),"className"in c&&t(3,a=c.className),"notify"in c&&t(4,u=c.notify),"$$scope"in c&&t(6,r=c.$$scope)},[s,l,o,a,u,n,r]}class Lm extends pe{constructor(e){super(),me(this,e,LVe,MVe,he,{label:0,id:1,link:2,className:3,notify:4})}}function GP(i){let e,t,n;return t=new Li({props:{size:"sm",$$slots:{default:[jVe]},$$scope:{ctx:i}}}),{c(){e=P("nav"),B(t.$$.fragment),h(e,"id","app-tabs"),h(e,"class",i[0])},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&308&&(l.$$scope={dirty:s,ctx:r}),t.$set(l),(!n||s&1)&&h(e,"class",r[0])},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function OVe(i){let e,t,n,r;return e=new et({props:{className:"inactive",icon:yf}}),n=new et({props:{className:"active",icon:vee}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p:Z,i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function IVe(i){let e,t,n,r;return e=new et({props:{className:"inactive",icon:_ee}}),n=new et({props:{className:"active",icon:gee}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p:Z,i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function ZP(i){let e,t;return e=new mq({props:{size:8,className:"absolute animate-pulse top-1 bg-red-500 ml-2"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function BVe(i){let e,t,n,r,s,l;e=new et({props:{className:"inactive",icon:pB}}),n=new et({props:{className:"active",icon:pee}});let o=i[4].length&&ZP();return{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),o&&o.c(),s=Ae()},m(a,u){O(e,a,u),w(a,t,u),O(n,a,u),w(a,r,u),o&&o.m(a,u),w(a,s,u),l=!0},p(a,u){a[4].length?o?u&16&&_(o,1):(o=ZP(),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(ae(),v(o,1,1,()=>{o=null}),ue())},i(a){l||(_(e.$$.fragment,a),_(n.$$.fragment,a),_(o),l=!0)},o(a){v(e.$$.fragment,a),v(n.$$.fragment,a),v(o),l=!1},d(a){I(e,a),a&&y(t),I(n,a),a&&y(r),o&&o.d(a),a&&y(s)}}}function RVe(i){let e,t,n,r;return e=new et({props:{className:"inactive",icon:_B}}),n=new et({props:{className:"active",icon:Fee}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p:Z,i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function XP(i){let e,t;return e=new Lm({props:{id:"goals",className:i[2]=="goals"?"start-page":"",link:"/goals",label:Fe.t("tabs.goals"," Goals"),notify:i[5].join("/")!=="0/0"?i[5].join("/"):void 0,$$slots:{default:[RVe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.className=n[2]=="goals"?"start-page":""),r&32&&(s.notify=n[5].join("/")!=="0/0"?n[5].join("/"):void 0),r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zVe(i){let e,t,n,r;return e=new et({props:{className:"inactive",icon:zd}}),n=new et({props:{className:"active",icon:zd}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p:Z,i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function jVe(i){let e,t,n,r,s,l,o,a=i[5],u,c,f;t=new Lm({props:{id:"timeline",className:i[2]=="timeline"?"start-page":"",link:"/timeline",label:Fe.t("tabs.timeline","Timeline"),$$slots:{default:[OVe]},$$scope:{ctx:i}}}),r=new Lm({props:{id:"dashboard",className:i[2]=="dashboard"?"start-page":"",link:Ii.routes.dashboard(),label:Fe.t("tabs.dashboard","Dash"),$$slots:{default:[IVe]},$$scope:{ctx:i}}}),l=new Lm({props:{id:"track",className:i[2]=="track"?"start-page":"",link:"/track",label:Fe.t("tabs.track","Track"),$$slots:{default:[BVe]},$$scope:{ctx:i}}});let d=XP(i);return c=new Lm({props:{id:"settings",link:Ii.routes.settings(),label:Fe.t("general.more","More"),$$slots:{default:[zVe]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),s=W(),B(l.$$.fragment),o=W(),d.c(),u=W(),B(c.$$.fragment),h(e,"class","flex items-center w-full justify-items-stretch")},m(m,p){w(m,e,p),O(t,e,null),D(e,n),O(r,e,null),D(e,s),O(l,e,null),D(e,o),d.m(e,null),D(e,u),O(c,e,null),f=!0},p(m,p){const g={};p&4&&(g.className=m[2]=="timeline"?"start-page":""),p&256&&(g.$$scope={dirty:p,ctx:m}),t.$set(g);const k={};p&4&&(k.className=m[2]=="dashboard"?"start-page":""),p&256&&(k.$$scope={dirty:p,ctx:m}),r.$set(k);const $={};p&4&&($.className=m[2]=="track"?"start-page":""),p&272&&($.$$scope={dirty:p,ctx:m}),l.$set($),p&32&&he(a,a=m[5])?(ae(),v(d,1,1,Z),ue(),d=XP(m),d.c(),_(d,1),d.m(e,u)):d.p(m,p);const C={};p&256&&(C.$$scope={dirty:p,ctx:m}),c.$set(C)},i(m){f||(_(t.$$.fragment,m),_(r.$$.fragment,m),_(l.$$.fragment,m),_(d),_(c.$$.fragment,m),f=!0)},o(m){v(t.$$.fragment,m),v(r.$$.fragment,m),v(l.$$.fragment,m),v(d),v(c.$$.fragment,m),f=!1},d(m){m&&y(e),I(t),I(r),I(l),d.d(m),I(c)}}}function YVe(i){let e,t,n=i[1].mounted&&i[3].width<900&&GP(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[1].mounted&&r[3].width<900?n?(n.p(r,s),s&10&&_(n,1)):(n=GP(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function UVe(i,e,t){let n,r,s,l;Le(i,Ht,f=>t(7,n=f)),Le(i,Ni,f=>t(3,r=f)),Le(i,F0,f=>t(4,s=f)),Le(i,R0,f=>t(5,l=f));let{className:o=""}=e;const a={mounted:!1};let u="/",c;return Yt(()=>{t(1,a.mounted=!0,a)}),i.$$set=f=>{"className"in f&&t(0,o=f.className)},i.$$.update=()=>{if(i.$$.dirty&198&&a.mounted&&(t(6,u=document.location.pathname),u==="/"&&n.startPage==="track"?t(2,c="track"):u==="/"&&n.startPage==="dashboard"?t(2,c="dashboard"):u==="/"&&n.startPage==="goals"?t(2,c="goals"):u==="/"&&n.startPage==="timeline"?t(2,c="timeline"):u==="/"&&n.startPage==="history"&&t(2,c="history"),c))try{setTimeout(()=>{document.querySelector(`.tab-${c} a`).setAttribute("aria-current","page")},500)}catch(f){console.error(f)}},[o,a,c,r,s,l,u,n]}class WVe extends pe{constructor(e){super(),me(this,e,UVe,YVe,he,{className:0})}}const pq=gi(localStorage.getItem("launchCount")||"1"),_q=rn(pq),qVe=()=>{localStorage.setItem("launchCount",`${pq+1}`)},gq="last-backup-date",y$=rn(localStorage.getItem(gq));y$.subscribe(i=>{localStorage.setItem(gq,i)});const HVe=ds(y$,i=>i?Te().diff(new Date(i),"day"):9e3),vq=async()=>{y$.update(i=>new Date().toJSON())},w$=async()=>await at.confirm(`${Fe.t("settings.export-title","Generate a Backup")}`,`${Fe.t("settings.export-confirm","This might take a while if you have a lot of data.")}`)?(await hAe(),vq(),!0):!1;function KP(i){let e,t,n,r,s,l,o,a;function u(d,m){return d[1]>1e3?xVe:VVe}let c=u(i),f=c(i);return{c(){e=P("div"),t=P("button"),f.c(),n=W(),r=P("div"),r.textContent=`${Fe.t("general.download-backup","Download Backup")}`,s=K(`
    or
    `),l=P("button"),l.textContent="Skip",h(r,"class","ml-2 font-bold"),h(t,"aria-label","Backup your data"),h(t,"class","flex items-center mr-2 text-xs py-1 text-center rounded-full backup"),h(l,"class","ml-2 font-bold"),h(e,"class","flex text-xs space-x-1 items-center justify-center container-sm bg-red-500 text-white")},m(d,m){w(d,e,m),D(e,t),f.m(t,null),D(t,n),D(t,r),D(e,s),D(e,l),o||(a=[Se(t,"click",w$),Se(l,"click",i[7])],o=!0)},p(d,m){c===(c=u(d))&&f?f.p(d,m):(f.d(1),f=c(d),f&&(f.c(),f.m(t,n)))},d(d){d&&y(e),f.d(),o=!1,Ot(a)}}}function VVe(i){let e,t,n;return{c(){e=P("div"),t=K(i[1]),n=K(" days since last backup"),h(e,"class","text-red-200")},m(r,s){w(r,e,s),D(e,t),D(e,n)},p(r,s){s&2&&de(t,r[1])},d(r){r&&y(e)}}}function xVe(i){let e;return{c(){e=P("div"),e.textContent=`${Fe.t("general.no-known-backups","No recent backups")}`,h(e,"class","text-red-200")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function GVe(i){let e,t=i[0]&&i[2]===!0&&KP(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[0]&&n[2]===!0?t?t.p(n,r):(t=KP(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(n){t&&t.d(n),n&&y(e)}}}function ZVe(i,e,t){let n,r,s;Le(i,Ht,f=>t(4,n=f)),Le(i,_q,f=>t(5,r=f)),Le(i,HVe,f=>t(6,s=f));let l=!1,o=!1,a=n.backupDays,u=0;Yt(()=>{setTimeout(()=>{t(0,o=!0)},4e3)});const c=()=>{vq()};return i.$$.update=()=>{i.$$.dirty&64&&(isNaN(s)?t(1,u=1001):t(1,u=s)),i.$$.dirty&59&&(t(3,a=n.backupDays),o&&u&&a>-1&&r>5&&u>=a&&!n.hideBackupMessage?t(2,l=!0):t(2,l=!1))},[o,u,l,a,n,r,s,c]}class XVe extends pe{constructor(e){super(),me(this,e,ZVe,GVe,he,{})}}function KVe(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Bulb"),r=ye("path"),h(r,"d","M288 464h-64a16 16 0 000 32h64a16 16 0 000-32zM304 416h-96a16 16 0 000 32h96a16 16 0 000-32zM369.42 62.69C339.35 32.58 299.07 16 256 16A159.62 159.62 0 0096 176c0 46.62 17.87 90.23 49 119.64l4.36 4.09C167.37 316.57 192 339.64 192 360v24a16 16 0 0016 16h24a8 8 0 008-8V274.82a8 8 0 00-5.13-7.47A130.73 130.73 0 01208.71 253a16 16 0 1118.58-26c7.4 5.24 21.65 13 28.71 13s21.31-7.78 28.73-13a16 16 0 0118.56 26 130.73 130.73 0 01-26.16 14.32 8 8 0 00-5.13 7.47V392a8 8 0 008 8h24a16 16 0 0016-16v-24c0-19.88 24.36-42.93 42.15-59.77l4.91-4.66C399.08 265 416 223.61 416 176a159.16 159.16 0 00-46.58-113.31z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function JVe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class QVe extends pe{constructor(e){super(),me(this,e,JVe,KVe,he,{size:0})}}function JP(i,e,t){const n=i.slice();return n[9]=e[t],n[11]=t,n}function QP(i){let e,t=i[9].format("MMM")+"",n,r,s=i[9].format("D")+"",l,o,a,u,c;function f(){return i[6](i[9],i[11])}return{c(){e=P("button"),n=K(t),r=W(),l=K(s),o=W(),h(e,"class",a="snap-end "+(i[0]==i[11]?"selected active bg-primary-500 my-1 px-2 text-white font-bold ":" text-primary-500")+" text-xs p-1 stiff rounded-full")},m(d,m){w(d,e,m),D(e,n),D(e,r),D(e,l),D(e,o),u||(c=Se(e,"click",f),u=!0)},p(d,m){i=d,m&1&&a!==(a="snap-end "+(i[0]==i[11]?"selected active bg-primary-500 my-1 px-2 text-white font-bold ":" text-primary-500")+" text-xs p-1 stiff rounded-full")&&h(e,"class",a)},d(d){d&&y(e),u=!1,c()}}}function exe(i){let e,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=QP(JP(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ae()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&7){t=r[1];let l;for(l=0;l<t.length;l+=1){const o=JP(r,t,l);n[l]?n[l].p(o,s):(n[l]=QP(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){pt(n,r),r&&y(e)}}}function txe(i){let e,t,n,r;return n=new Fh({props:{activeIndex:i[0],wrapperClass:"space-x-2 pr-1 snap-scroll-x",className:"mr-2",$$slots:{default:[exe]},$$scope:{ctx:i}}}),{c(){e=P("section"),t=P("div"),B(n.$$.fragment),h(t,"class","filler"),h(e,"aria-label","date-time-setting"),h(e,"class","flex items-center justify-items-stretch")},m(s,l){w(s,e,l),D(e,t),O(n,t,null),r=!0},p(s,[l]){const o={};l&1&&(o.activeIndex=s[0]),l&4097&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(e),I(n)}}}function nxe(i,e,t){let n,r,s;Le(i,Zo,d=>t(5,s=d));let{time:l=new Date().getTime()}=e,{is24Hour:o=!1}=e;const a=Ut(),u=Array(30).fill(0).map((d,m)=>Te(new Date).subtract(m,"day")).reverse(),c=(d,m)=>{t(0,r=m);const p=d.hour(n.hour()).minute(n.minute()).toDate();a("change",p)},f=(d,m)=>{c(d,m)};return i.$$set=d=>{"time"in d&&t(3,l=d.time),"is24Hour"in d&&t(4,o=d.is24Hour)},i.$$.update=()=>{i.$$.dirty&8&&(n=Te(new Date(l))),i.$$.dirty&32&&t(0,r=u.findIndex(d=>d.format("YYYY-MM-DD")===s.date.format("YYYY-MM-DD")))},[r,u,c,l,o,s,f]}class ixe extends pe{constructor(e){super(),me(this,e,nxe,txe,he,{time:3,is24Hour:4})}}function eN(i,e,t){const n=i.slice();return n[31]=e[t],n}function tN(i,e,t){const n=i.slice();return n[31]=e[t],n}function nN(i){let e,t,n;return t=new jt({props:{solo:!0,$$slots:{default:[axe]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","p-4 lg:rounded-2xl absolute z-10 top-0 right-0 left-0 bottom-0 bg-black bg-opacity-30 backdrop-filter backdrop-blur-sm")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[0]&20|s[1]&32&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function rxe(i){let e;return{c(){e=P("h1"),e.textContent="Create a Writing Prompt",h(e,"class","font-bold text-lg")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function sxe(i){let e,t,n,r,s,l,o;return{c(){e=P("option"),e.textContent="Anytime",t=W(),n=P("option"),n.textContent="Morning",r=W(),s=P("option"),s.textContent="Afternoon",l=W(),o=P("option"),o.textContent="Evening",e.__value="any",e.value=e.__value,n.__value="morning",n.value=n.__value,s.__value="afternoon",s.value=s.__value,o.__value="evening",o.value=o.__value},m(a,u){w(a,e,u),w(a,t,u),w(a,n,u),w(a,r,u),w(a,s,u),w(a,l,u),w(a,o,u)},p:Z,d(a){a&&y(e),a&&y(t),a&&y(n),a&&y(r),a&&y(s),a&&y(l),a&&y(o)}}}function lxe(i){let e;return{c(){e=P("div"),e.textContent="Save Prompt",h(e,"class","w-full text-center text-primary-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function oxe(i){let e;return{c(){e=P("div"),e.textContent="Cancel",h(e,"class","w-full text-center text-red-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function axe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k;e=new lt({props:{$$slots:{default:[rxe]},$$scope:{ctx:i}}});function $(T){i[19](T)}let C={type:"select",listItem:!0,label:"Time frame",$$slots:{default:[sxe]},$$scope:{ctx:i}};i[2].time!==void 0&&(C.value=i[2].time),n=new Wn({props:C}),Oe.push(()=>Qe(n,"value",$,i[2].time)),l=new hi({props:{left:16}});function E(T){i[20](T)}let S={class:"bg-white dark:bg-gray-900 text-black dark:text-white px-4 py-1 w-full focus:outline-none ring-inset focus:ring ring-primary-500 ring-opacity-20",placeholder:"Writing Prompt"};return i[2].text!==void 0&&(S.value=i[2].text),a=new rq({props:S}),Oe.push(()=>Qe(a,"value",E,i[2].text)),f=new hi({props:{left:16}}),m=new lt({props:{clickable:!0,disabled:!i[4],$$slots:{default:[lxe]},$$scope:{ctx:i}}}),m.$on("click",i[21]),g=new lt({props:{clickable:!0,$$slots:{default:[oxe]},$$scope:{ctx:i}}}),g.$on("click",i[22]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),s=W(),B(l.$$.fragment),o=W(),B(a.$$.fragment),c=W(),B(f.$$.fragment),d=W(),B(m.$$.fragment),p=W(),B(g.$$.fragment)},m(T,M){O(e,T,M),w(T,t,M),O(n,T,M),w(T,s,M),O(l,T,M),w(T,o,M),O(a,T,M),w(T,c,M),O(f,T,M),w(T,d,M),O(m,T,M),w(T,p,M),O(g,T,M),k=!0},p(T,M){const R={};M[1]&32&&(R.$$scope={dirty:M,ctx:T}),e.$set(R);const Y={};M[1]&32&&(Y.$$scope={dirty:M,ctx:T}),!r&&M[0]&4&&(r=!0,Y.value=T[2].time,tt(()=>r=!1)),n.$set(Y);const z={};!u&&M[0]&4&&(u=!0,z.value=T[2].text,tt(()=>u=!1)),a.$set(z);const j={};M[0]&16&&(j.disabled=!T[4]),M[1]&32&&(j.$$scope={dirty:M,ctx:T}),m.$set(j);const V={};M[1]&32&&(V.$$scope={dirty:M,ctx:T}),g.$set(V)},i(T){k||(_(e.$$.fragment,T),_(n.$$.fragment,T),_(l.$$.fragment,T),_(a.$$.fragment,T),_(f.$$.fragment,T),_(m.$$.fragment,T),_(g.$$.fragment,T),k=!0)},o(T){v(e.$$.fragment,T),v(n.$$.fragment,T),v(l.$$.fragment,T),v(a.$$.fragment,T),v(f.$$.fragment,T),v(m.$$.fragment,T),v(g.$$.fragment,T),k=!1},d(T){I(e,T),T&&y(t),I(n,T),T&&y(s),I(l,T),T&&y(o),I(a,T),T&&y(c),I(f,T),T&&y(d),I(m,T),T&&y(p),I(g,T)}}}function uxe(i){let e,t=i[31].text+"",n,r,s,l=i[31].time+"",o;return{c(){e=P("p"),n=K(t),r=W(),s=P("p"),o=K(l),h(e,"class","font-medium"),h(s,"class","text-gray-500 capitalize")},m(a,u){w(a,e,u),D(e,n),w(a,r,u),w(a,s,u),D(s,o)},p(a,u){u[0]&40&&t!==(t=a[31].text+"")&&de(n,t),u[0]&40&&l!==(l=a[31].time+"")&&de(o,l)},d(a){a&&y(e),a&&y(r),a&&y(s)}}}function iN(i){let e,t,n,r;function s(){return i[24](i[31])}e=new He({props:{className:"text-red-500",icon:!0,$$slots:{default:[cxe]},$$scope:{ctx:i}}}),e.$on("click",s);function l(){return i[25](i[31])}return n=new He({props:{icon:!0,$$slots:{default:[fxe]},$$scope:{ctx:i}}}),n.$on("click",l),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(o,a){O(e,o,a),w(o,t,a),O(n,o,a),r=!0},p(o,a){i=o;const u={};a[1]&32&&(u.$$scope={dirty:a,ctx:i}),e.$set(u);const c={};a[1]&32&&(c.$$scope={dirty:a,ctx:i}),n.$set(c)},i(o){r||(_(e.$$.fragment,o),_(n.$$.fragment,o),r=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),r=!1},d(o){I(e,o),o&&y(t),I(n,o)}}}function cxe(i){let e,t;return e=new et({props:{icon:Pp}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fxe(i){let e,t;return e=new et({props:{icon:ca}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function dxe(i){let e,t,n=i[0]&&iN(i);return{c(){e=P("div"),n&&n.c(),h(e,"slot","right"),h(e,"class","flex item-center space-x-1 -mr-2")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[0]?n?(n.p(r,s),s[0]&1&&_(n,1)):(n=iN(r),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function rN(i){let e,t;function n(){return i[26](i[31])}return e=new lt({props:{bottomLine:16,detail:!i[0],$$slots:{right:[dxe],default:[uxe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&1&&(l.detail=!i[0]),s[0]&41|s[1]&32&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function hxe(i){let e;return{c(){e=P("span"),e.textContent="Add Custom Prompt",h(e,"class","text-primary-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function mxe(i){let e,t,n,r=i[5].filter(i[23]),s=[];for(let o=0;o<r.length;o+=1)s[o]=rN(tN(i,r,o));const l=o=>v(s[o],1,1,()=>{s[o]=null});return t=new lt({props:{$$slots:{default:[hxe]},$$scope:{ctx:i}}}),t.$on("click",i[27]),{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=W(),B(t.$$.fragment)},m(o,a){for(let u=0;u<s.length;u+=1)s[u].m(o,a);w(o,e,a),O(t,o,a),n=!0},p(o,a){if(a[0]&873){r=o[5].filter(o[23]);let c;for(c=0;c<r.length;c+=1){const f=tN(o,r,c);s[c]?(s[c].p(f,a),_(s[c],1)):(s[c]=rN(f),s[c].c(),_(s[c],1),s[c].m(e.parentNode,e))}for(ae(),c=r.length;c<s.length;c+=1)l(c);ue()}const u={};a[1]&32&&(u.$$scope={dirty:a,ctx:o}),t.$set(u)},i(o){if(!n){for(let a=0;a<r.length;a+=1)_(s[a]);_(t.$$.fragment,o),n=!0}},o(o){s=s.filter(Boolean);for(let a=0;a<s.length;a+=1)v(s[a]);v(t.$$.fragment,o),n=!1},d(o){pt(s,o),o&&y(e),I(t,o)}}}function pxe(i){let e,t=i[31].text+"",n,r;return{c(){e=P("p"),n=K(t),r=W(),h(e,"class","font-medium")},m(s,l){w(s,e,l),D(e,n),w(s,r,l)},p(s,l){l[0]&8&&t!==(t=s[31].text+"")&&de(n,t)},d(s){s&&y(e),s&&y(r)}}}function sN(i){let e,t;function n(){return i[29](i[31])}return e=new lt({props:{bottomLine:16,detail:!i[0],$$slots:{default:[pxe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s[0]&1&&(l.detail=!i[0]),s[0]&8|s[1]&32&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function _xe(i){let e,t,n=Ik.filter(i[28]),r=[];for(let l=0;l<n.length;l+=1)r[l]=sN(eN(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&265){n=Ik.filter(l[28]);let a;for(a=0;a<n.length;a+=1){const u=eN(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=sN(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function gxe(i){let e,t,n,r,s,l,o,a,u,c,f,d=i[2]&&nN(i);return r=new jt({props:{solo:!0,$$slots:{default:[mxe]},$$scope:{ctx:i}}}),a=new jt({props:{solo:!0,$$slots:{default:[_xe]},$$scope:{ctx:i}}}),{c(){d&&d.c(),e=W(),t=P("div"),n=W(),B(r.$$.fragment),s=W(),l=P("div"),o=W(),B(a.$$.fragment),u=W(),c=P("div"),h(t,"class","h-4"),h(l,"class","h-4"),h(c,"class","h-8")},m(m,p){d&&d.m(m,p),w(m,e,p),w(m,t,p),w(m,n,p),O(r,m,p),w(m,s,p),w(m,l,p),w(m,o,p),O(a,m,p),w(m,u,p),w(m,c,p),f=!0},p(m,p){m[2]?d?(d.p(m,p),p[0]&4&&_(d,1)):(d=nN(m),d.c(),_(d,1),d.m(e.parentNode,e)):d&&(ae(),v(d,1,1,()=>{d=null}),ue());const g={};p[0]&41|p[1]&32&&(g.$$scope={dirty:p,ctx:m}),r.$set(g);const k={};p[0]&9|p[1]&32&&(k.$$scope={dirty:p,ctx:m}),a.$set(k)},i(m){f||(_(d),_(r.$$.fragment,m),_(a.$$.fragment,m),f=!0)},o(m){v(d),v(r.$$.fragment,m),v(a.$$.fragment,m),f=!1},d(m){d&&d.d(m),m&&y(e),m&&y(t),m&&y(n),I(r,m),m&&y(s),m&&y(l),m&&y(o),I(a,m),m&&y(u),m&&y(c)}}}function vxe(i){let e;return{c(){e=P("h1"),e.textContent=`${Fe.t("general.writing-prompts","Writing Prompts")}`,h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function bxe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function kxe(i){let e,t;return e=new He({props:{slot:"left",clear:!0,primary:!0,$$slots:{default:[bxe]},$$scope:{ctx:i}}}),e.$on("click",i[14]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function yxe(i){let e,t;return e=new He({props:{clear:!0,primary:!0,$$slots:{default:[$xe]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wxe(i){let e,t;return e=new He({props:{clear:!0,primary:!0,$$slots:{default:[Fxe]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $xe(i){let e=Fe.t("general.edit","Edit")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Fxe(i){let e;return{c(){e=P("span"),e.textContent=`${Fe.t("general.done","Done")}`,h(e,"class","text-red-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Exe(i){let e,t,n,r;const s=[wxe,yxe],l=[];function o(a,u){return a[0]?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function Cxe(i){let e,t;return e=new Hl({props:{className:"bg-white dark:bg-black",size:"sm",value:i[3],buttons:[{label:"All",active:i[3]=="any",click:i[15]},{label:"Morning",active:i[3]=="morning",click:i[16]},{label:"Afternoon",active:i[3]=="afternoon",click:i[17]},{label:"Evening",active:i[3]=="evening",click:i[18]}]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&8&&(s.value=n[3]),r[0]&8&&(s.buttons=[{label:"All",active:n[3]=="any",click:n[15]},{label:"Morning",active:n[3]=="morning",click:n[16]},{label:"Afternoon",active:n[3]=="afternoon",click:n[17]},{label:"Evening",active:n[3]=="evening",click:n[18]}]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Dxe(i){let e,t,n,r,s;return t=new Sn({props:{$$slots:{right:[Exe],left:[kxe],default:[vxe]},$$scope:{ctx:i}}}),r=new Os({props:{$$slots:{default:[Cxe]},$$scope:{ctx:i}}}),{c(){e=P("header"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"slot","header"),h(e,"class","bg-white dark:bg-gray-950 shadow-sm")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),O(r,e,null),s=!0},p(l,o){const a={};o[0]&3|o[1]&32&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o[0]&8|o[1]&32&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),I(t),I(r)}}}function Sxe(i){let e,t;return e=new ti({props:{mainClass:"px-2 lg:px-4",$$slots:{header:[Dxe],default:[gxe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&63|r[1]&32&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Txe(i,e,t){let n;Le(i,Id,X=>t(11,n=X));let{id:r}=e,{editMode:s=!1}=e,{onSelect:l}=e,o="any",a,u=!1;const c=X=>{t(2,a=new bq(X))};Yt(()=>{});let f=[];const d=()=>{t(5,f=[...n])},m=async()=>{(a==null?void 0:a.text.length)>1&&(await Id.upsert(a),t(2,a=void 0),qn({message:"Saved"}))},p=async X=>{s||(Ixe(),Ok(X),l&&l(X))},g=async X=>{await at.confirm("Delete this Prompt?")&&(await Id.remove(X),qn({message:"Deleted"}),d())},k=()=>t(0,s=!1),$=()=>t(0,s=!0),C=()=>tn(r),E=()=>{t(3,o="any")},S=()=>{t(3,o="morning")},T=()=>{t(3,o="afternoon")},M=()=>{t(3,o="evening")};function R(X){i.$$.not_equal(a.time,X)&&(a.time=X,t(2,a))}function Y(X){i.$$.not_equal(a.text,X)&&(a.text=X,t(2,a))}const z=()=>m(),j=()=>{t(2,a=void 0)},V=X=>o==="any"?!0:X.time==o,x=X=>{g(X)},ee=X=>c(X),J=X=>p(X),q=()=>{c({text:"",time:o})},le=X=>o==="any"?!0:X.time==o,G=X=>p(X);return i.$$set=X=>{"id"in X&&t(1,r=X.id),"editMode"in X&&t(0,s=X.editMode),"onSelect"in X&&t(10,l=X.onSelect)},i.$$.update=()=>{var X;i.$$.dirty[0]&4&&t(4,u=!!(((X=a==null?void 0:a.text)==null?void 0:X.length)>1&&(a==null?void 0:a.time))),i.$$.dirty[0]&2048&&n&&n.length&&d()},[s,r,a,o,u,f,c,m,p,g,l,n,k,$,C,E,S,T,M,R,Y,z,j,V,x,ee,J,q,le,G]}class Axe extends pe{constructor(e){super(),me(this,e,Txe,Sxe,he,{id:1,editMode:0,onSelect:10},null,[-1,-1])}}const Pxe=[{time:"evening",text:"What are you grateful for today?"},{time:"evening",text:"What brought you satisfaction today?"},{time:"evening",text:"What did you do today?"},{time:"evening",text:"What frustrated you today?"},{time:"morning",text:"How did you sleep?"},{time:"morning",text:"What is one positive thing that will happen today?"},{time:"morning",text:"What did you dream about?"},{time:"any",text:"Who is someone you miss hanging out with?"},{time:"any",text:"What is your favorite thing to watch right now?"},{time:"any",text:"What are some of your bad habits that you'd like to work on?"},{time:"any",text:"How can you show your loved ones more love?"},{time:"morning",text:"What are your top 3 goals for this week?"},{time:"evening",text:"What did you do today to work towards your goals?"},{time:"evening",text:"What was the best part of your day?"},{time:"evening",text:"What was the worst part of your day?"},{time:"morning",text:"What 3 things would make today amazing?"},{time:"morning",text:"How can you be kinder to yourself today?"},{time:"afternoon",text:"What are you feeling today?"},{time:"evening",text:"What did you learn today?"},{time:"evening",text:"Did you have feelings of regret today?"},{time:"any",text:"What is one of your favorite memories?"},{time:"any",text:"What has been your biggest accomplishment?"},{time:"any",text:"What is your biggest fear currently? "},{time:"any",text:"When was a time you were really proud of yourself?"},{time:"any",text:"When was the last time you felt really sad?"},{time:"any",text:"When was the last time you felt really embarrassed?"},{time:"any",text:"When was the last time you felt really angry?"},{time:"any",text:"When was the last time you felt really happy?"},{time:"any",text:"In the next few months I want to "},{time:"any",text:"What do you hope to accomplish in the next year?"},{time:"any",text:"What do you hope to accomplish in the next five years?"},{time:"any",text:"What do you hope to accomplish in the next ten years?"},{time:"any",text:"What is your favorite place, and why?"},{time:"any",text:"How are you improving your mental health?"},{time:"any",text:"How are you improving your physical health?"},{time:"any",text:"How can you improve your relationships with others?"},{time:"any",text:"How can you better manage your time and resources?"},{time:"any",text:"What do you do to improve your emotional health?"},{time:"any",text:"How can you become more self-aware and in tune with your needs?"},{time:"any",text:"What do you do to reduce stress and promote relaxation?"},{time:"any",text:"What do you do to improve your diet and nutrition?"},{time:"any",text:"How can you increase your physical activity and exercise?"},{time:"any",text:"What do you do to improve your sleep habits?"},{time:"any",text:"How do you usually feel when you wake up in the morning? "},{time:"any",text:"Did your moods change throughout the day? How so? "},{time:"any",text:"What kind of things usually put you in a bad mood? "},{time:"any",text:"What are some things that always make you happy? "},{time:"any",text:"What do you do when you're feeling down? "},{time:"any",text:"Do you ever get random mood swings? What causes them? "},{time:"any",text:"What is your go-to comfort food when you're feeling sad or stressed? "},{time:"any",text:"What kind of music do you usually listen to when you're in a good mood? "},{time:"any",text:"What do you like to do when you're feeling bored? "},{time:"any",text:"Are there any certain smells that affect your mood?"},{time:"evening",text:"Today I felt "},{time:"any",text:"Three things I'm grateful for are: "},{time:"any",text:"What did you do today that made you feel good?"},{time:"any",text:"The last time I was feeling stressed "},{time:"any",text:"The last time I was feeling down "},{time:"any",text:"The last time I was feeling overwhelmed  "},{time:"any",text:"The last time I was feeling anxious  "},{time:"any",text:"The last time I was feeling angry "},{time:"any",text:"The last time I was feeling lonely  "},{time:"any",text:"The last time I was feeling loved "},{time:"any",text:"What is your favorite thing to do?"}];function Nxe(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Shuffle"),r=ye("path"),s=ye("path"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linecap","round"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(r,"d","M400 304l48 48-48 48M400 112l48 48-48 48M64 352h85.19a80 80 0 0066.56-35.62L256 256"),h(s,"d","M64 160h85.19a80 80 0 0166.56 35.62l80.5 120.76A80 80 0 00362.81 352H416M416 160h-53.19a80 80 0 00-66.56 35.62L288 208"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function Mxe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Lxe extends pe{constructor(e){super(),me(this,e,Mxe,Nxe,he,{size:0})}}const Ok=i=>{Rf({note:`#prompt ${i.text}
`})},Oxe=()=>{const i=Id.rawState(),e=hne(new Date);return[...i.filter(t=>t.time===e).map(t=>({title:t.text,click:()=>{Ok(t)}})),{icon:Lxe,divider:!0,title:"Prompt Me...",click:()=>{const t=i.filter(s=>s.time===e);let n;const r=[...t,...Ik];n=Nt.random(r),Ok(n)}}]},Ixe=()=>{tn("writing-prompt-modal")},Bxe=i=>{On({id:"writing-prompt-modal",component:Axe,componentProps:i||{}})},Ik=Pxe;class bq{constructor(e){je(this,"time");je(this,"text");je(this,"id");this.time=(e==null?void 0:e.time)||"any",this.text=(e==null?void 0:e.text)||"",this.id=(e==null?void 0:e.id)||Jn()}}const Id=Tf(Ii.storage.writingPrompts(),{label:"Writing Prompts",key:"id",itemInitializer:i=>new bq(i),itemSerializer:i=>JSON.parse(JSON.stringify(i))});function Rxe(i){let e;return{c(){e=P("span"),e.textContent="Plugins",h(e,"class","pl-2 text-xs text-center leading-tight")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function zxe(i){let e,t;return e=new et({props:{size:16,icon:sB,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function jxe(i){let e;return{c(){e=P("span"),e.textContent="Prompts",h(e,"class","pl-2 whitespace-pre text-xs text-center leading-tight")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Yxe(i){let e,t;return e=new et({props:{size:16,icon:ca,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Uxe(i){let e,t,n,r,s;return t=new He({props:{clear:!0,primary:!0,$$slots:{left:[zxe],default:[Rxe]},$$scope:{ctx:i}}}),t.$on("click",oY),r=new He({props:{clear:!0,primary:!0,$$slots:{left:[Yxe],default:[jxe]},$$scope:{ctx:i}}}),r.$on("click",Bxe),{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"class","w-full flex space-x-2")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),O(r,e,null),s=!0},p(l,[o]){const a={};o&4&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&4&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),I(t),I(r)}}}function Wxe(i,e,t){let{id:n}=e,{closeEvent:r}=e;return i.$$set=s=>{"id"in s&&t(0,n=s.id),"closeEvent"in s&&t(1,r=s.closeEvent)},[n,r]}class qxe extends pe{constructor(e){super(),me(this,e,Wxe,Uxe,he,{id:0,closeEvent:1})}}function lN(i){let e,t,n;return t=new $h({props:{compact:!0,buttonStyle:"width:40px !important;",y:"bottom",x:"right",id:"prompt-button",buttonClass:"stiff block max-w-8 h-8 w-8 z-40  text-primary bg-transparent rounded-full",menuButtons:i[1],$$slots:{default:[Hxe]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","absolute right-1 top-1 flex items-center ")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[0]&2&&(l.menuButtons=r[1]),s[1]&64&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Hxe(i){let e,t;return e=new et({props:{icon:QVe,size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function oN(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$;r=new $h({props:{id:"pos-menu",buttonClass:"text-xl rounded-full flex-shrink-0 focus:bg-gray-500 focus:bg-opacity-20 rounded-md flex items-center justify-center",menuButtons:z1(i[2].score,i[22]),y:"bottom",$$slots:{default:[Vxe]},$$scope:{ctx:i}}});let C=i[2].lat&&aN();f=new et({props:{icon:uee,size:22,className:"text-gray-500"}});function E(T){i[24](T)}let S={className:"stiff",is24Hour:i[10].use24hour,showDateButton:!0,dateButtonClass:i[7]?"dark:text-primary-400 text-primary-600":""};return i[3].date!==void 0&&(S.value=i[3].date),m=new MR({props:S}),Oe.push(()=>Qe(m,"value",E,i[3].date)),m.$on("dateClick",i[25]),m.$on("change",i[26]),{c(){e=P("section"),t=P("div"),n=P("div"),B(r.$$.fragment),s=W(),l=P("button"),o=K("\u{1F5FA} "),C&&C.c(),u=W(),c=P("button"),B(f.$$.fragment),d=W(),B(m.$$.fragment),h(l,"class",a="flex relative px-1 rounded-lg items-center mx-0 text-2xl "+(i[2].lat?"":"opacity-50")),h(l,"aria-label","Location and Date settings"),h(c,"aria-label","Expand Note"),h(c,"class","clear-button flex items-center"),h(t,"class","flex-grow flex items-center space-x-1 py-1 px-0"),h(e,"aria-label","Note tools"),h(e,"class","bottom-section")},m(T,M){w(T,e,M),D(e,t),D(t,n),O(r,n,null),D(t,s),D(t,l),D(l,o),C&&C.m(l,null),D(t,u),D(t,c),O(f,c,null),D(e,d),O(m,e,null),g=!0,k||($=[Se(l,"click",i[12]),Se(c,"click",i[23])],k=!0)},p(T,M){const R={};M[0]&4&&(R.menuButtons=z1(T[2].score,T[22])),M[0]&4|M[1]&64&&(R.$$scope={dirty:M,ctx:T}),r.$set(R),T[2].lat?C||(C=aN(),C.c(),C.m(l,null)):C&&(C.d(1),C=null),(!g||M[0]&4&&a!==(a="flex relative px-1 rounded-lg items-center mx-0 text-2xl "+(T[2].lat?"":"opacity-50")))&&h(l,"class",a);const Y={};M[0]&1024&&(Y.is24Hour=T[10].use24hour),M[0]&128&&(Y.dateButtonClass=T[7]?"dark:text-primary-400 text-primary-600":""),!p&&M[0]&8&&(p=!0,Y.value=T[3].date,tt(()=>p=!1)),m.$set(Y)},i(T){g||(_(r.$$.fragment,T),_(f.$$.fragment,T),_(m.$$.fragment,T),g=!0)},o(T){v(r.$$.fragment,T),v(f.$$.fragment,T),v(m.$$.fragment,T),g=!1},d(T){T&&y(e),I(r),C&&C.d(),I(f),I(m),k=!1,Ot($)}}}function Vxe(i){let e,t=qu(i[2].score,!0)+"",n;return{c(){e=P("span"),n=K(t),h(e,"class","w-8 dark:text-gray-300")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s[0]&4&&t!==(t=qu(r[2].score,!0)+"")&&de(n,t)},d(r){r&&y(e)}}}function aN(i){let e;return{c(){e=P("span"),h(e,"class","dot far-right positive -right-2")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function uN(i){let e,t,n,r,s;function l(a){i[27](a)}let o={is24Hour:i[10].use24hour};return i[3].date!==void 0&&(o.time=i[3].date),t=new ixe({props:o}),Oe.push(()=>Qe(t,"time",l,i[3].date)),t.$on("change",i[28]),{c(){e=P("div"),B(t.$$.fragment)},m(a,u){w(a,e,u),O(t,e,null),s=!0},p(a,u){i=a;const c={};u[0]&1024&&(c.is24Hour=i[10].use24hour),!n&&u[0]&8&&(n=!0,c.time=i[3].date,tt(()=>n=!1)),t.$set(c)},i(a){s||(_(t.$$.fragment,a),Ei(()=>{r||(r=as(e,Yl,{delay:250,duration:300,easing:na},!0)),r.run(1)}),s=!0)},o(a){v(t.$$.fragment,a),r||(r=as(e,Yl,{delay:250,duration:300,easing:na},!1)),r.run(0),s=!1},d(a){a&&y(e),I(t),a&&r&&r.end()}}}function xxe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g=!i[9]&&lN(i);function k(S){i[19](S)}let $={"aria-label":"Note entry field",id:"textarea-capture-note",class:"overflow-y-scroll",placeholder:i[9]||i[8]?Fe.t("general.whats-up","What's up?"):"",disabled:i[6]||fN};i[2].note!==void 0&&($.value=i[2].note),u=new sq({props:$}),Oe.push(()=>Qe(u,"value",k,i[2].note)),i[20](u),u.$on("input",i[13]),u.$on("keydown",i[14].keyPress),u.$on("focus",i[21]),u.$on("blur",tGe),u.$on("paste",i[14].keyPress);let C=(i[8]||i[9])&&oN(i),E=i[7]&&uN(i);return{c(){e=P("div"),n=W(),r=P("div"),s=P("div"),g&&g.c(),l=W(),o=P("div"),a=P("div"),B(u.$$.fragment),f=W(),C&&C.c(),d=W(),E&&E.c(),h(e,"class",t="save-progress  "+(i[6]?"saving":"")+" "+(i[4]?"saving":"")),h(a,"data-placeholder",Fe.t("general.whats-up","What's up?")),h(a,"class","mask-textarea-wrapper top-section mock-textarea"),h(o,"class",m="mask-textarea min-h-10 "+(i[8]?"focused":"blurred")+" "+(i[9]?"populated":"empty")),h(s,"class","p-0 relative"),h(r,"class","capture-log"),ct(r,"negative",i[2].score<0),ct(r,"positive",i[2].score>0)},m(S,T){w(S,e,T),w(S,n,T),w(S,r,T),D(r,s),g&&g.m(s,null),D(s,l),D(s,o),D(o,a),O(u,a,null),D(o,f),C&&C.m(o,null),D(o,d),E&&E.m(o,null),p=!0},p(S,T){(!p||T[0]&80&&t!==(t="save-progress  "+(S[6]?"saving":"")+" "+(S[4]?"saving":"")))&&h(e,"class",t),S[9]?g&&(ae(),v(g,1,1,()=>{g=null}),ue()):g?(g.p(S,T),T[0]&512&&_(g,1)):(g=lN(S),g.c(),_(g,1),g.m(s,l));const M={};T[0]&768&&(M.placeholder=S[9]||S[8]?Fe.t("general.whats-up","What's up?"):""),T[0]&64&&(M.disabled=S[6]||fN),!c&&T[0]&4&&(c=!0,M.value=S[2].note,tt(()=>c=!1)),u.$set(M),S[8]||S[9]?C?(C.p(S,T),T[0]&768&&_(C,1)):(C=oN(S),C.c(),_(C,1),C.m(o,d)):C&&(ae(),v(C,1,1,()=>{C=null}),ue()),S[7]?E?(E.p(S,T),T[0]&128&&_(E,1)):(E=uN(S),E.c(),_(E,1),E.m(o,null)):E&&(ae(),v(E,1,1,()=>{E=null}),ue()),(!p||T[0]&768&&m!==(m="mask-textarea min-h-10 "+(S[8]?"focused":"blurred")+" "+(S[9]?"populated":"empty")))&&h(o,"class",m),(!p||T[0]&4)&&ct(r,"negative",S[2].score<0),(!p||T[0]&4)&&ct(r,"positive",S[2].score>0)},i(S){p||(_(g),_(u.$$.fragment,S),_(C),_(E),p=!0)},o(S){v(g),v(u.$$.fragment,S),v(C),v(E),p=!1},d(S){S&&y(e),S&&y(n),S&&y(r),g&&g.d(),i[20](null),I(u),C&&C.d(),E&&E.d()}}}function cN(i){let e,t,n;return t=new Li({props:{$$slots:{default:[Qxe]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","glass absolute -bottom-14 xl:-bottom-8 z-50 h-14 w-full pt-2")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s[0]&16|s[1]&64&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Gxe(i){let e=Fe.t("general.cancel","Cancel")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Zxe(i){let e,t;return e=new He({props:{className:"bg-green-500 text-white",$$slots:{default:[Kxe]},$$scope:{ctx:i}}}),e.$on("click",i[14].logSave),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&64&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Xxe(i){let e,t;return e=new He({props:{className:"bg-green-500 text-white",disabled:!0,$$slots:{default:[Jxe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&64&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Kxe(i){let e=Fe.t("general.save","Save")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Jxe(i){let e=Fe.t("general.saving","Saving")+"",t,n;return{c(){t=K(e),n=K("...")},m(r,s){w(r,t,s),w(r,n,s)},p:Z,d(r){r&&y(t),r&&y(n)}}}function Qxe(i){let e,t,n,r,s,l;t=new He({props:{className:"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300",$$slots:{default:[Gxe]},$$scope:{ctx:i}}}),t.$on("click",i[29]);const o=[Xxe,Zxe],a=[];function u(c,f){return c[4]?0:1}return r=u(i),s=a[r]=o[r](i),{c(){e=P("div"),B(t.$$.fragment),n=W(),s.c(),h(e,"class","xl:ml-auto xl:w-80 grid grid-cols-2 justify-center gap-4 items-center px-4")},m(c,f){w(c,e,f),O(t,e,null),D(e,n),a[r].m(e,null),l=!0},p(c,f){const d={};f[1]&64&&(d.$$scope={dirty:f,ctx:c}),t.$set(d);let m=r;r=u(c),r===m?a[r].p(c,f):(ae(),v(a[m],1,1,()=>{a[m]=null}),ue(),s=a[r],s?s.p(c,f):(s=a[r]=o[r](c),s.c()),_(s,1),s.m(e,null))},i(c){l||(_(t.$$.fragment,c),_(s),l=!0)},o(c){v(t.$$.fragment,c),v(s),l=!1},d(c){c&&y(e),I(t),a[r].d()}}}function eGe(i){let e,t,n,r,s;t=new Li({props:{$$slots:{default:[xxe]},$$scope:{ctx:i}}});let l=(i[8]||i[9])&&cN(i);return{c(){e=P("div"),B(t.$$.fragment),n=W(),l&&l.c(),h(e,"class",r="capture-wrapper "+i[0]+" relative"),h(e,"id","note-capture")},m(o,a){w(o,e,a),O(t,e,null),D(e,n),l&&l.m(e,null),s=!0},p(o,a){const u={};a[0]&2046|a[1]&64&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),o[8]||o[9]?l?(l.p(o,a),a[0]&768&&_(l,1)):(l=cN(o),l.c(),_(l,1),l.m(e,null)):l&&(ae(),v(l,1,1,()=>{l=null}),ue()),(!s||a[0]&1&&r!==(r="capture-wrapper "+o[0]+" relative"))&&h(e,"class",r)},i(o){s||(_(t.$$.fragment,o),_(l),s=!0)},o(o){v(t.$$.fragment,o),v(l),s=!1},d(o){o&&y(e),I(t),l&&l.d()}}}let fN=!1;const tGe=()=>{};function nGe(i,e,t){let n,r,s,l,o,a,u,c;Le(i,en,re=>t(33,n=re)),Le(i,Oi,re=>t(2,r=re)),Le(i,Ls,re=>t(34,s=re)),Le(i,ls,re=>t(17,l=re)),Le(i,Id,re=>t(18,o=re)),Le(i,Ht,re=>t(10,a=re)),Le(i,Zo,re=>t(3,u=re)),Le(i,nf,re=>t(4,c=re));let f,d=!1,m=!1,p=!1,g=!1,{className:k=""}=e,$=[];const C=()=>{(!r.end||!p)&&ZYe(new Date().getTime()),t(8,p=!0)};let E=a.use24hour?"HH:mm":"h:mm a";const S=async()=>{if(r.lat)Oi.update(re=>({...re,lat:void 0,lng:void 0,location:void 0}));else{let re=await at.pickLocation();re&&Oi.update(be=>(be.lat=re.lat,be.lng=re.lng,be.location=re.name,be))}};let T;const M=re=>{clearTimeout(T),T=setTimeout(()=>{let be;Oi.update(we=>(be=np.parse(we.note),we.score=Cf(we.note,new Date,s),we)),R(be||[])},500)},R=re=>{lq();for(let be=0;be<re.length;be++){const we=re[be];try{const De=document.querySelector(`button#${we.type}-${we.id}`);De&&De.classList.add("in-note")}catch{}}},Y={async logSave(){t(6,d=!0);try{await xu(new gn(r)),t(6,d=!1),await Lt(300),Y.clear()}catch(re){console.error(`Error in capture-log logSave ${re.message}`),t(6,d=!1)}},keyPress(re){let be=re.detail;be.key==="Enter"&&be.getModifierState("Shift")?be.preventDefault():be.key==="Enter"&&(be.getModifierState("Control")||be.getModifierState("Meta"))?Y.logSave():be.key==="Escape"&&(z(),be.preventDefault(),be.stopPropagation())},async clear(re=!1){await Lt(100),Oi.clear(),t(7,m=!1),t(8,p=!1),setTimeout(()=>{t(7,m=!1),Vu({knownTrackables:n.trackables,date:Te()}),re&&Ni.scrollToTop()},120)}};dn.hook("onLogSaved",re=>{setTimeout(()=>{Y.clear()},100)}),Oi.hook("onAddElement",re=>{M()});const z=async()=>{var re;((re=r.note)==null?void 0:re.length)>0?await at.confirm("Discard this note?")&&Y.clear(!0):Y.clear()},j=re=>{ui(Oi,r.end=Te(re.detail).toDate(),r),Vu({knownTrackables:n.trackables,date:Te(re.detail)})};function V(re){i.$$.not_equal(r.note,re)&&(r.note=re,Oi.set(r))}function x(re){Oe[re?"unshift":"push"](()=>{f=re,t(5,f)})}const ee=()=>{C()},J=re=>{ui(Oi,r.score=re.score,r)},q=async re=>{re.preventDefault(),re.stopPropagation(),Rf(r)};function le(re){i.$$.not_equal(u.date,re)&&(u.date=re,Zo.set(u))}const G=()=>{t(7,m=!m)},X=re=>j(re);function se(re){i.$$.not_equal(u.date,re)&&(u.date=re,Zo.set(u))}const te=re=>j(re),ie=()=>z();return i.$$set=re=>{"className"in re&&t(0,k=re.className)},i.$$.update=()=>{var re;i.$$.dirty[0]&16&&(c?t(6,d=!0):t(6,d=!1)),i.$$.dirty[0]&8&&u.date.format("YYYY-MM-DD")!==Te().format("YYYY-MM-DD")&&ui(Oi,r.end=u.date.toDate(),r),i.$$.dirty[0]&4&&t(9,g=((re=r.note)==null?void 0:re.trim().length)>0),i.$$.dirty[0]&4&&Te(new Date(r.end||new Date().getTime())).format(E),i.$$.dirty[0]&393218&&o&&(t(1,$=Oxe()),l&&l.length&&l.filter(be=>be.addToCaptureMenu&&be.active).map((be,we)=>{$.push({title:be.name,disabled:be.locked,divider:we===0,emoji:be.emoji,click(){Fw(be)}})}),$.push({divider:!0,click(){},component:qxe}))},[k,$,r,u,c,f,d,m,p,g,a,C,S,M,Y,z,j,l,o,V,x,ee,J,q,le,G,X,se,te,ie]}class iGe extends pe{constructor(e){super(),me(this,e,nGe,eGe,he,{className:0},null,[-1,-1])}}function rGe(){const i=[],{subscribe:e,update:t,set:n}=rn(i);function r(){let c;return t(f=>(c=`bd-${f.length}`,f.push(c),f)),c}function s(c){t(f=>(f.indexOf(c)===-1&&f.push(c),f))}function l(){let c;return t(f=>(c=f,f)),c}function o(c){t(f=>f.filter(d=>d!==c))}async function a(){const c=l().filter(f=>{const d=`child-${f}`;return!!document.getElementById(d)});t(f=>(f=c,f))}function u(){t(c=>[])}return{clearAll:u,remove:o,getId:r,add:s,subscribe:e,update:t,set:n,refresh:a}}const sGe=rGe();function dN(i){let e,t,n,r,s,l,o;return{c(){e=P("div"),t=P("span"),n=W(),r=P("span"),s=K(i[1]),l=W(),o=P("span"),h(t,"class","buffer filler svelte-3qv0yy"),h(r,"class","label svelte-3qv0yy"),h(o,"class","buffer filler svelte-3qv0yy"),h(e,"class","time-gap svelte-3qv0yy")},m(a,u){w(a,e,u),D(e,t),D(e,n),D(e,r),D(r,s),D(e,l),D(e,o)},p(a,u){u&2&&de(s,a[1])},d(a){a&&y(e)}}}function lGe(i){let e,t=i[0]>1&&dN(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[0]>1?t?t.p(n,r):(t=dN(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(n){t&&t.d(n),n&&y(e)}}}function oGe(i,e,t){let{log1:n}=e,{log2:r}=e,s=0,l="";async function o(){t(0,s=n.endDayjs().startOf("day").diff(r.endDayjs().startOf("day"),"day")),s>365?t(1,l=`${Nt.round(s/365,2)} years later`):s>30?t(1,l=`${Nt.round(s/30,2)} months later`):t(1,l=`${s} ${s===1?"day":"days"} later`)}return Yt(o),i.$$set=a=>{"log1"in a&&t(2,n=a.log1),"log2"in a&&t(3,r=a.log2)},[s,l,n,r]}class aGe extends pe{constructor(e){super(),me(this,e,oGe,lGe,he,{log1:2,log2:3})}}function hN(i,e,t){const n=i.slice();return n[12]=e[t],n[14]=t,n}function uGe(i){let e,t=[],n=new Map,r,s,l=i[5];const o=a=>a[12]._key;for(let a=0;a<l.length;a+=1){let u=hN(i,l,a),c=o(u);n.set(c,t[a]=pN(c,u))}return{c(){e=P("div");for(let a=0;a<t.length;a+=1)t[a].c();h(e,"class",r="space-y-4 "+i[2]),h(e,"style",i[1])},m(a,u){w(a,e,u);for(let c=0;c<t.length;c+=1)t[c].m(e,null);s=!0},p(a,u){u&121&&(l=a[5],ae(),t=Pi(t,u,o,1,a,l,n,e,br,pN,null,hN),ue()),(!s||u&4&&r!==(r="space-y-4 "+a[2]))&&h(e,"class",r),(!s||u&2)&&h(e,"style",a[1])},i(a){if(!s){for(let u=0;u<l.length;u+=1)_(t[u]);s=!0}},o(a){for(let u=0;u<t.length;u+=1)v(t[u]);s=!1},d(a){a&&y(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function cGe(i){let e,t,n;return t=new ki({}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","flex-grow n-panel center-all h-100")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function mN(i){let e,t;return e=new aGe({props:{log1:i[12],log2:i[5][i[14]+1]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&32&&(s.log1=n[12]),r&32&&(s.log2=n[5][n[14]+1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function pN(i,e){let t,n,r,s,l;n=new mc({props:{fullDate:e[3],className:e[0]?"compact":"",log:e[12]}}),n.$on("trackerClick",e[8]),n.$on("locationClick",e[9]),n.$on("textClick",e[10]),n.$on("moreClick",e[11]);let o=e[4]&&e[14]!==e[5].length-1&&mN(e);return{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),r=W(),o&&o.c(),s=Ae(),this.first=t},m(a,u){w(a,t,u),O(n,a,u),w(a,r,u),o&&o.m(a,u),w(a,s,u),l=!0},p(a,u){e=a;const c={};u&8&&(c.fullDate=e[3]),u&1&&(c.className=e[0]?"compact":""),u&32&&(c.log=e[12]),n.$set(c),e[4]&&e[14]!==e[5].length-1?o?(o.p(e,u),u&48&&_(o,1)):(o=mN(e),o.c(),_(o,1),o.m(s.parentNode,s)):o&&(ae(),v(o,1,1,()=>{o=null}),ue())},i(a){l||(_(n.$$.fragment,a),_(o),l=!0)},o(a){v(n.$$.fragment,a),v(o),l=!1},d(a){a&&y(t),I(n,a),a&&y(r),o&&o.d(a),a&&y(s)}}}function fGe(i){let e,t,n,r;const s=[cGe,uGe],l=[];function o(a,u){return 1}return e=o(),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){t.p(a,u)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function dGe(i){return i.map((e,t)=>(e._key=e._id+t,e)).sort((e,t)=>e.end<t.end?1:-1)}function hGe(i,e,t){const n=Ut();let{logs:r=null}=e,{compact:s=!1}=e,{style:l=""}=e,{className:o=""}=e,{fullDate:a=!1}=e,{showTimeDiff:u=!1}=e,c=[];const f=g=>{n("trackerClick",g.detail)},d=g=>{n("locationClick",g.detail)},m=g=>{n("textClick",g.detail)},p=g=>{n("moreClick",g.detail)};return i.$$set=g=>{"logs"in g&&t(7,r=g.logs),"compact"in g&&t(0,s=g.compact),"style"in g&&t(1,l=g.style),"className"in g&&t(2,o=g.className),"fullDate"in g&&t(3,a=g.fullDate),"showTimeDiff"in g&&t(4,u=g.showTimeDiff)},i.$$.update=()=>{i.$$.dirty&128&&r&&t(5,c=dGe(r))},[s,l,o,a,u,c,n,r,f,d,m,p]}class mGe extends pe{constructor(e){super(),me(this,e,hGe,fGe,he,{logs:7,compact:0,style:1,className:2,fullDate:3,showTimeDiff:4})}}function _N(i){let e,t,n,r=i[6].format(i[9].date)+"",s;return{c(){e=P("div"),t=K("Nothing found since now and "),n=P("strong"),s=K(r),h(e,"class","px-4 py-10 text-center text-gray-800 dark:text-gray-100")},m(l,o){w(l,e,o),D(e,t),D(e,n),D(n,s)},p(l,o){o&64&&r!==(r=l[6].format(l[9].date)+"")&&de(s,r)},d(l){l&&y(e)}}}function pGe(i){let e,t,n,r,s;return r=new He({props:{block:!0,className:"mx-auto bg-primary-500 text-white",style:"max-width:300px;",disabled:!0,$$slots:{default:[gGe]},$$scope:{ctx:i}}}),{c(){e=P("div"),t=P("p"),t.textContent="Going back in time...",n=W(),B(r.$$.fragment),h(t,"class","text-xs font-bold pb-2 text-gray-700 dark:text-gray-300"),h(e,"class","px-4 pb-4 text-center")},m(l,o){w(l,e,o),D(e,t),D(e,n),O(r,e,null),s=!0},p(l,o){const a={};o&1048576&&(a.$$scope={dirty:o,ctx:l}),r.$set(a)},i(l){s||(_(r.$$.fragment,l),s=!0)},o(l){v(r.$$.fragment,l),s=!1},d(l){l&&y(e),I(r)}}}function _Ge(i){let e,t,n,r,s,l=i[6].fromNow()+"",o,a,u,c=i[6].format(i[9].date)+"",f,d;return e=new He({props:{block:!0,className:"mx-auto bg-primary-500 focus:ring-2 ring-yellow-500  text-white",style:"max-width:300px;",$$slots:{default:[vGe]},$$scope:{ctx:i}}}),e.$on("click",i[10]),{c(){B(e.$$.fragment),t=W(),n=P("div"),r=P("p"),s=K("Point in time: ("),o=K(l),a=K(`)
        `),u=P("br"),f=K(c),h(r,"class","text-xs pb-2 text-gray-500"),h(n,"class","text-center px-4 py-4")},m(m,p){O(e,m,p),w(m,t,p),w(m,n,p),D(n,r),D(r,s),D(r,o),D(r,a),D(r,u),D(r,f),d=!0},p(m,p){const g={};p&1048576&&(g.$$scope={dirty:p,ctx:m}),e.$set(g),(!d||p&64)&&l!==(l=m[6].fromNow()+"")&&de(o,l),(!d||p&64)&&c!==(c=m[6].format(m[9].date)+"")&&de(f,c)},i(m){d||(_(e.$$.fragment,m),d=!0)},o(m){v(e.$$.fragment,m),d=!1},d(m){I(e,m),m&&y(t),m&&y(n)}}}function gGe(i){let e,t,n,r;return e=new ki({props:{size:18}}),{c(){B(e.$$.fragment),t=W(),n=P("span"),n.textContent=`${Fe.t("general.searching","Searching...")}`,h(n,"class","ml-2")},m(s,l){O(e,s,l),w(s,t,l),w(s,n,l),r=!0},p:Z,i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),s&&y(n)}}}function vGe(i){let e=Fe.t("general.continue","Continue Looking")+"",t,n;return{c(){t=K(e),n=K("...")},m(r,s){w(r,t,s),w(r,n,s)},p:Z,d(r){r&&y(t),r&&y(n)}}}function bGe(i){let e,t,n,r,s,l,o;t=new mGe({props:{fullDate:i[2],className:"bg-transparent mb-4 "+i[0],compact:i[1],logs:i[5],showTimeDiff:i[3]}}),t.$on("trackerClick",i[15]),t.$on("locationClick",i[16]),t.$on("textClick",i[17]),t.$on("moreClick",i[18]);let a=!i[4]&&i[5].length==0&&_N(i);const u=[_Ge,pGe],c=[];function f(d,m){return!d[4]&&d[7]?0:d[4]?1:-1}return~(s=f(i))&&(l=c[s]=u[s](i)),{c(){e=P("div"),B(t.$$.fragment),n=W(),a&&a.c(),r=W(),l&&l.c(),h(e,"class","log-list-loader svelte-1qv8767")},m(d,m){w(d,e,m),O(t,e,null),D(e,n),a&&a.m(e,null),D(e,r),~s&&c[s].m(e,null),o=!0},p(d,[m]){const p={};m&4&&(p.fullDate=d[2]),m&1&&(p.className="bg-transparent mb-4 "+d[0]),m&2&&(p.compact=d[1]),m&32&&(p.logs=d[5]),m&8&&(p.showTimeDiff=d[3]),t.$set(p),!d[4]&&d[5].length==0?a?a.p(d,m):(a=_N(d),a.c(),a.m(e,r)):a&&(a.d(1),a=null);let g=s;s=f(d),s===g?~s&&c[s].p(d,m):(l&&(ae(),v(c[g],1,1,()=>{c[g]=null}),ue()),~s?(l=c[s],l?l.p(d,m):(l=c[s]=u[s](d),l.c()),_(l,1),l.m(e,null)):l=null)},i(d){o||(_(t.$$.fragment,d),_(l),o=!0)},o(d){v(t.$$.fragment,d),v(l),o=!1},d(d){d&&y(e),I(t),a&&a.d(),~s&&c[s].d()}}}function kGe(i,e,t){const n=Ut();let{term:r=null}=e,{limit:s=20}=e,{className:l=""}=e,{compact:o=!1}=e,{fullDate:a=!0}=e,{results:u=[]}=e,{showTimeDiff:c=!1}=e,f=!1,d=[],m,p;const g=pi();let k;function $(){t(5,d=[]),t(7,p=null),t(6,m=null),t(14,k=null)}async function C(){t(4,f=!0);const R=us.book_time_unit,Y=m?Te(m).subtract(s,R):Te().subtract(s,R),z=p?Te(p).subtract(s,R):Te();let j=await dn.query({start:Y.toDate(),end:z.toDate(),search:r,caller:"log-list-loader"});t(5,d=[...d,...j].sort((V,x)=>V.end>x.end?1:-1)),t(6,m=Y),t(7,p=z),await Ps(12),t(4,f=!1),t(11,u=d)}Yt(()=>{$()});const E=R=>{n("trackerClick",R.detail)},S=R=>{n("locationClick",R.detail)},T=R=>{n("textClick",R.detail)},M=R=>{n("moreClick",R.detail)};return i.$$set=R=>{"term"in R&&t(12,r=R.term),"limit"in R&&t(13,s=R.limit),"className"in R&&t(0,l=R.className),"compact"in R&&t(1,o=R.compact),"fullDate"in R&&t(2,a=R.fullDate),"results"in R&&t(11,u=R.results),"showTimeDiff"in R&&t(3,c=R.showTimeDiff)},i.$$.update=()=>{i.$$.dirty&20480&&r&&k!==r&&(t(14,k=r),$(),C())},[l,o,a,c,f,d,m,p,n,g,C,u,r,s,k,E,S,T,M]}class yGe extends pe{constructor(e){super(),me(this,e,kGe,bGe,he,{term:12,limit:13,className:0,compact:1,fullDate:2,results:11,showTimeDiff:3})}}function gN(i){let e,t,n,r;function s(o){i[3](o)}let l={fullDate:!0,showTimeDiff:!0,term:i[0],limit:20,className:"bg-transparent"};return i[1]!==void 0&&(l.results=i[1]),t=new yGe({props:l}),Oe.push(()=>Qe(t,"results",s,i[1])),t.$on("textClick",i[4]),t.$on("moreClick",i[5]),{c(){e=P("section"),B(t.$$.fragment),h(e,"class","h-full p-4 search-results")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};a&1&&(u.term=o[0]),!n&&a&2&&(n=!0,u.results=o[1],tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function wGe(i){let e,t,n=i[0]&&gN(i);return{c(){e=P("main"),n&&n.c(),h(e,"class","h-full mb-4 bg-gray-200 filler dark:bg-gray-800")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=gN(r),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function $Ge(i){let e,t;return e=new T0({props:{className:"h-full",$$slots:{default:[wGe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&71&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function FGe(i,e,t){let n;Le(i,en,u=>t(2,n=u));let{term:r}=e,s=[];function l(u){s=u,t(1,s)}const o=u=>{Hr(rr(u.detail,n.trackables))},a=u=>{at.logOptions(u.detail).then(()=>{})};return i.$$set=u=>{"term"in u&&t(0,r=u.term)},[r,s,n,l,o,a]}class EGe extends pe{constructor(e){super(),me(this,e,FGe,$Ge,he,{term:0})}}function vN(i,e,t){const n=i.slice();return n[9]=e[t],n}function bN(i,e,t){const n=i.slice();return n[9]=e[t],n}function kN(i){let e,t,n,r,s,l;e=new lt({props:{itemDivider:!0,compact:!0,className:"bg-transparent",$$slots:{right:[PGe],default:[CGe]},$$scope:{ctx:i}}});const o=[MGe,NGe],a=[];function u(c,f){return c[1].view==="trackers"?0:1}return n=u(i),r=a[n]=o[n](i),{c(){B(e.$$.fragment),t=W(),r.c(),s=Ae()},m(c,f){O(e,c,f),w(c,t,f),a[n].m(c,f),w(c,s,f),l=!0},p(c,f){const d={};f&16388&&(d.$$scope={dirty:f,ctx:c}),e.$set(d);let m=n;n=u(c),n===m?a[n].p(c,f):(ae(),v(a[m],1,1,()=>{a[m]=null}),ue(),r=a[n],r?r.p(c,f):(r=a[n]=o[n](c),r.c()),_(r,1),r.m(s.parentNode,s))},i(c){l||(_(e.$$.fragment,c),_(r),l=!0)},o(c){v(e.$$.fragment,c),v(r),l=!1},d(c){I(e,c),c&&y(t),a[n].d(c),c&&y(s)}}}function CGe(i){let e=Fe.t("search.previous-searches","Previous Searches")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function DGe(i){let e,t;return e=new He({props:{size:"sm",color:"transparent",className:"text-red",$$slots:{default:[TGe]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function SGe(i){let e,t;return e=new He({props:{color:"transparent",size:"sm",$$slots:{default:[AGe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16384&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function TGe(i){let e=Fe.t("general.done","Done")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function AGe(i){let e=Fe.t("general.edit","Edit")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function PGe(i){let e,t,n,r;const s=[SGe,DGe],l=[];function o(a,u){return a[2]!="edit"?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function NGe(i){let e=[],t=new Map,n,r,s=i[0];const l=o=>o[9].term;for(let o=0;o<s.length;o+=1){let a=vN(i,s,o),u=l(a);t.set(u,e[o]=wN(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),r=!0},p(o,a){a&5&&(s=o[0],ae(),e=Pi(e,a,l,1,o,s,t,n.parentNode,br,wN,n,vN),ue())},i(o){if(!r){for(let a=0;a<s.length;a+=1)_(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)v(e[a]);r=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&y(n)}}}function MGe(i){let e,t,n,r;const s=[zGe,RGe],l=[];function o(a,u){return a[2]!=="edit"?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function LGe(i){let e=i[9].term+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&1&&e!==(e=n[9].term+"")&&de(t,e)},d(n){n&&y(t)}}}function OGe(i){let e,t,n;return e=new vr({props:{$$slots:{default:[LGe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W()},m(r,s){O(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&16385&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){I(e,r),r&&y(t)}}}function yN(i){let e,t;function n(){return i[7](i[9])}return e=new He({props:{size:"sm",color:"danger",$$slots:{default:[IGe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&16384&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function IGe(i){let e;return{c(){e=K("Delete")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function BGe(i){let e,t,n,r=i[2]=="edit"&&yN(i);return{c(){e=P("div"),r&&r.c(),t=W(),h(e,"slot","right")},m(s,l){w(s,e,l),r&&r.m(e,null),D(e,t),n=!0},p(s,l){s[2]=="edit"?r?(r.p(s,l),l&4&&_(r,1)):(r=yN(s),r.c(),_(r,1),r.m(e,t)):r&&(ae(),v(r,1,1,()=>{r=null}),ue())},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(e),r&&r.d()}}}function wN(i,e){let t,n,r;function s(...l){return e[8](e[9],...l)}return n=new lt({props:{clickable:e[2]!=="edit",bottomLine:42,$$slots:{right:[BGe],default:[OGe]},$$scope:{ctx:e}}}),n.$on("click",s),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),O(n,l,o),r=!0},p(l,o){e=l;const a={};o&4&&(a.clickable=e[2]!=="edit"),o&16389&&(a.$$scope={dirty:o,ctx:e}),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),I(n,l)}}}function RGe(i){let e=[],t=new Map,n,r,s=i[0].reverse();const l=o=>o[9].term;for(let o=0;o<s.length;o+=1){let a=bN(i,s,o),u=l(a);t.set(u,e[o]=$N(u,a))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();n=Ae()},m(o,a){for(let u=0;u<e.length;u+=1)e[u].m(o,a);w(o,n,a),r=!0},p(o,a){a&1&&(s=o[0].reverse(),ae(),e=Pi(e,a,l,1,o,s,t,n.parentNode,br,$N,n,bN),ue())},i(o){if(!r){for(let a=0;a<s.length;a+=1)_(e[a]);r=!0}},o(o){for(let a=0;a<e.length;a+=1)v(e[a]);r=!1},d(o){for(let a=0;a<e.length;a+=1)e[a].d(o);o&&y(n)}}}function zGe(i){return{c:Z,m:Z,p:Z,i:Z,o:Z,d:Z}}function jGe(i){let e;return{c(){e=K("Delete")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function YGe(i){let e,t,n,r;function s(){return i[6](i[9])}return t=new He({props:{text:!0,size:"sm",style:"color:var(--color-red)",$$slots:{default:[jGe]},$$scope:{ctx:i}}}),t.$on("click",s),{c(){e=P("div"),B(t.$$.fragment),n=W(),h(e,"slot","right")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),r=!0},p(l,o){i=l;const a={};o&16384&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(l){r||(_(t.$$.fragment,l),r=!0)},o(l){v(t.$$.fragment,l),r=!1},d(l){l&&y(e),I(t)}}}function $N(i,e){let t,n,r;return n=new lt({props:{title:e[9].term,$$slots:{right:[YGe]},$$scope:{ctx:e}}}),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),O(n,s,l),r=!0},p(s,l){e=s;const o={};l&1&&(o.title=e[9].term),l&16385&&(o.$$scope={dirty:l,ctx:e}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),I(n,s)}}}function UGe(i){let e,t,n=i[0].length&&kN(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0].length?n?(n.p(r,s),s&1&&_(n,1)):(n=kN(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function WGe(i,e,t){let n;Le(i,Wo,d=>t(1,n=d));let r="view",s;function l(){t(2,r=r==="view"?"edit":"view")}const o=()=>{l()},a=()=>{l()},u=d=>{Wo.remove(d)},c=d=>{Wo.remove(d)},f=(d,m)=>{r=="view"&&Wo.update(p=>(p.active=d,p.view=d.type,p))};return i.$$.update=()=>{i.$$.dirty&3&&(n.saved.length||n.view)&&(t(0,s=n.saved.filter(d=>d.type===n.view).reverse()),t(0,s),t(1,n))},[s,n,r,l,o,a,u,c,f]}class qGe extends pe{constructor(e){super(),me(this,e,WGe,UGe,he,{})}}function FN(i){let e,t;return e=new qGe({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function HGe(i){let e,t,n,r,s;function l(u){i[13](u)}let o={};i[2]!==void 0&&(o.term=i[2]),t=new EGe({props:o}),Oe.push(()=>Qe(t,"term",l,i[2]));let a=!i[3].active&&i[3].show&&FN();return{c(){e=P("main"),B(t.$$.fragment),r=W(),a&&a.c()},m(u,c){w(u,e,c),O(t,e,null),D(e,r),a&&a.m(e,null),s=!0},p(u,c){const f={};!n&&c&4&&(n=!0,f.term=u[2],tt(()=>n=!1)),t.$set(f),!u[3].active&&u[3].show?a?c&8&&_(a,1):(a=FN(),a.c(),_(a,1),a.m(e,null)):a&&(ae(),v(a,1,1,()=>{a=null}),ue())},i(u){s||(_(t.$$.fragment,u),_(a),s=!0)},o(u){v(t.$$.fragment,u),v(a),s=!1},d(u){u&&y(e),I(t),a&&a.d()}}}function VGe(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function EN(i){let e,t;return e=new tv({}),e.$on("Escape",i[12]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xGe(i){let e,t,n,r,s;e=new He({props:{clear:!0,primary:!0,$$slots:{default:[VGe]},$$scope:{ctx:i}}}),e.$on("click",i[5]);let l=i[4]===i[1]&&EN(i);return r=new Nf({props:{compact:!0,className:"filler",autofocus:!0,searchTerm:i[0]||"",placeholder:Fe.t("search.search-history","Search History...")}}),r.$on("search",i[7]),r.$on("clear",i[6]),{c(){B(e.$$.fragment),t=W(),l&&l.c(),n=W(),B(r.$$.fragment)},m(o,a){O(e,o,a),w(o,t,a),l&&l.m(o,a),w(o,n,a),O(r,o,a),s=!0},p(o,a){const u={};a&16384&&(u.$$scope={dirty:a,ctx:o}),e.$set(u),o[4]===o[1]?l?(l.p(o,a),a&18&&_(l,1)):(l=EN(o),l.c(),_(l,1),l.m(n.parentNode,n)):l&&(ae(),v(l,1,1,()=>{l=null}),ue());const c={};a&1&&(c.searchTerm=o[0]||""),r.$set(c)},i(o){s||(_(e.$$.fragment,o),_(l),_(r.$$.fragment,o),s=!0)},o(o){v(e.$$.fragment,o),v(l),v(r.$$.fragment,o),s=!1},d(o){I(e,o),o&&y(t),l&&l.d(o),o&&y(n),I(r,o)}}}function GGe(i){let e,t;return e=new Os({props:{slot:"header",$$slots:{default:[xGe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16403&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ZGe(i){let e;return{c(){e=P("div"),h(e,"slot","footer")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function XGe(i){let e,t;return e=new ti({props:{className:"h-full",headerClass:"glass",$$slots:{footer:[ZGe],header:[GGe],default:[HGe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&16415&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function KGe(i,e,t){let n,r;Le(i,Wo,$=>t(3,n=$)),Le(i,MB,$=>t(4,r=$));const s=void 0,l=void 0,o="";let{id:a}=e,{term:u}=e,c;function f(){Wo.clear(),t(0,u=void 0),tn(a)}let d=!1;function m(){Wo.clear(),t(0,u=void 0)}function p($){t(0,u=$.detail),u&&Wo.setActiveTerm(new Bk({term:u,type:"history"}))}const g=()=>{tn(a)};function k($){c=$,t(2,c),t(3,n)}return i.$$set=$=>{"id"in $&&t(1,a=$.id),"term"in $&&t(0,u=$.term)},i.$$.update=()=>{var $,C;i.$$.dirty&8&&n&&(($=n.active)==null?void 0:$.term)&&t(2,c=n.active.term),i.$$.dirty&8&&(C=n.active)!=null&&C.term&&t(0,u=n.active.term),i.$$.dirty&2052&&c&&!d&&(t(11,d=!0),Wo.setActiveTerm(new Bk({searchTerm:c,type:"history"})))},[u,a,c,n,r,f,m,p,s,l,o,d,g,k]}class JGe extends pe{constructor(e){super(),me(this,e,KGe,XGe,he,{location:8,style:9,className:10,id:1,term:0})}get location(){return this.$$.ctx[8]}get style(){return this.$$.ctx[9]}get className(){return this.$$.ctx[10]}}new lc("\u{1F575}\uFE0F\u200D\u2642\uFE0F $Search Store");class Bk{constructor(e){je(this,"term");je(this,"date");je(this,"type");typeof e=="string"?this.term=e:(e=e||{},this.term=e.term,this.date=new Date),this.type=e.type||"history"}}let Pg;const QGe=()=>{let i={saved:[],active:null,show:!1,view:"history"};const{update:e,subscribe:t,set:n}=rn(i);function r(l,o){return l.saved.find(u=>(u.term||"").toLowerCase().trim()==(o.term||"").toLowerCase().trim())||l.saved.push(o),Pg.put(Ii.storage.search(),l.saved),l}const s={init(){Pg=new ry("search"),e(l=>(l.saved=Pg.get(Ii.storage.search())||[],l.saved=l.saved.filter(o=>o).map(o=>new Bk(o)),l))},view(l,o){e(a=>(a.view=l,a.active={term:o,date:new Date,type:l},a.show=!0,a)),On({id:`search-${o}`,position:"fullscreen",tappable:!0,component:JGe,componentProps:{searchTerm:o}})},clear(){e(l=>(l.active=void 0,l))},hide(){e(l=>(l.show=!1,l))},search(l,o="history"){s.view("history",l)},setActiveTerm(l){e(o=>(o=r(o,l),o.active=l,o))},save(l){e(o=>(o=r(o,l),o))},close(){e(l=>(l.active=void 0,l.show=!1,l))},remove(l){e(o=>(o.saved=o.saved.filter(a=>(a.term||"").toLowerCase().trim()!=(l.term||"").toLowerCase().trim()),Pg.put(Ii.storage.search(),o.saved),o))}};return{update:e,subscribe:t,set:n,...s}},Wo=QGe();function CN(i,e,t){const n=i.slice();return n[35]=e[t],n[37]=t,n}function DN(i,e,t){const n=i.slice();return n[38]=e[t],n[37]=t,n}function SN(i,e,t){const n=i.slice();return n[40]=e[t],n[37]=t,n}function TN(i,e,t){const n=i.slice();return n[42]=e[t],n[37]=t,n}function AN(i){let e,t;return e=new tv({}),e.$on("Escape",i[18]),e.$on("key",i[19]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function PN(i){var S,T,M;let e,t,n=i[2].trackables.length>0||((S=i[0])==null?void 0:S.substring(0,1))==="#"||((T=i[0])==null?void 0:T.substring(0,1))==="@"||((M=i[0])==null?void 0:M.substring(0,1))==="+",r,s,l,o,a,u,c,f,d,m,p,g,k,$=i[2].exactTrackable&&NN(i),C=i[2].commands.length&&ON(i),E=n&&jN(i);return s=new jt({props:{$$slots:{default:[rZe]},$$scope:{ctx:i}}}),o=new hi({props:{left:1}}),m=new jt({props:{$$slots:{default:[sZe]},$$scope:{ctx:i}}}),{c(){$&&$.c(),e=W(),C&&C.c(),t=W(),E&&E.c(),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment),a=W(),u=P("header"),c=K("Notes"),d=W(),B(m.$$.fragment),h(u,"class",f="list-header "+(i[4]?"":"opacity-50"))},m(R,Y){$&&$.m(R,Y),w(R,e,Y),C&&C.m(R,Y),w(R,t,Y),E&&E.m(R,Y),w(R,r,Y),O(s,R,Y),w(R,l,Y),O(o,R,Y),w(R,a,Y),w(R,u,Y),D(u,c),w(R,d,Y),O(m,R,Y),p=!0,g||(k=Se(u,"click",i[27]),g=!0)},p(R,Y){var V,x,ee;R[2].exactTrackable?$?($.p(R,Y),Y[0]&4&&_($,1)):($=NN(R),$.c(),_($,1),$.m(e.parentNode,e)):$&&(ae(),v($,1,1,()=>{$=null}),ue()),R[2].commands.length?C?(C.p(R,Y),Y[0]&4&&_(C,1)):(C=ON(R),C.c(),_(C,1),C.m(t.parentNode,t)):C&&(ae(),v(C,1,1,()=>{C=null}),ue()),Y[0]&5&&(n=R[2].trackables.length>0||((V=R[0])==null?void 0:V.substring(0,1))==="#"||((x=R[0])==null?void 0:x.substring(0,1))==="@"||((ee=R[0])==null?void 0:ee.substring(0,1))==="+"),n?E?E.p(R,Y):(E=jN(R),E.c(),E.m(r.parentNode,r)):E&&(E.d(1),E=null);const z={};Y[0]&37|Y[1]&8192&&(z.$$scope={dirty:Y,ctx:R}),s.$set(z),(!p||Y[0]&16&&f!==(f="list-header "+(R[4]?"":"opacity-50")))&&h(u,"class",f);const j={};Y[0]&21|Y[1]&8192&&(j.$$scope={dirty:Y,ctx:R}),m.$set(j)},i(R){p||(_($),_(C),_(s.$$.fragment,R),_(o.$$.fragment,R),_(m.$$.fragment,R),p=!0)},o(R){v($),v(C),v(s.$$.fragment,R),v(o.$$.fragment,R),v(m.$$.fragment,R),p=!1},d(R){$&&$.d(R),R&&y(e),C&&C.d(R),R&&y(t),E&&E.d(R),R&&y(r),I(s,R),R&&y(l),I(o,R),R&&y(a),R&&y(u),R&&y(d),I(m,R),g=!1,k()}}}function NN(i){let e,t=i[2].exactTrackable.label+"",n,r,s,l,o,a,u,c;return s=new jt({props:{$$slots:{default:[eZe]},$$scope:{ctx:i}}}),o=new hi({props:{left:1}}),{c(){e=P("header"),n=K(t),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment),h(e,"class","list-header")},m(f,d){w(f,e,d),D(e,n),w(f,r,d),O(s,f,d),w(f,l,d),O(o,f,d),a=!0,u||(c=Se(e,"click",fZe),u=!0)},p(f,d){(!a||d[0]&4)&&t!==(t=f[2].exactTrackable.label+"")&&de(n,t);const m={};d[0]&12|d[1]&8192&&(m.$$scope={dirty:d,ctx:f}),s.$set(m)},i(f){a||(_(s.$$.fragment,f),_(o.$$.fragment,f),a=!0)},o(f){v(s.$$.fragment,f),v(o.$$.fragment,f),a=!1},d(f){f&&y(e),f&&y(r),I(s,f),f&&y(l),I(o,f),u=!1,c()}}}function MN(i){let e,t;return e=new hi({props:{left:16}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function LN(i){let e,t,n,r,s=i[42].title+"",l,o,a,u,c,f,d,m;t=new er({props:{trackable:i[2].exactTrackable,size:22}}),a=new et({props:{icon:i[42].icon}});function p(){return i[20](i[42])}let g=i[37]<i[3].length-1&&MN();return{c(){e=P("button"),B(t.$$.fragment),n=W(),r=P("main"),l=K(s),o=W(),B(a.$$.fragment),u=W(),g&&g.c(),c=Ae(),h(e,"class","selectable capitalize")},m(k,$){w(k,e,$),O(t,e,null),D(e,n),D(e,r),D(r,l),D(e,o),O(a,e,null),w(k,u,$),g&&g.m(k,$),w(k,c,$),f=!0,d||(m=Se(e,"click",p),d=!0)},p(k,$){i=k;const C={};$[0]&4&&(C.trackable=i[2].exactTrackable),t.$set(C),(!f||$[0]&8)&&s!==(s=i[42].title+"")&&de(l,s);const E={};$[0]&8&&(E.icon=i[42].icon),a.$set(E),i[37]<i[3].length-1?g?$[0]&8&&_(g,1):(g=MN(),g.c(),_(g,1),g.m(c.parentNode,c)):g&&(ae(),v(g,1,1,()=>{g=null}),ue())},i(k){f||(_(t.$$.fragment,k),_(a.$$.fragment,k),_(g),f=!0)},o(k){v(t.$$.fragment,k),v(a.$$.fragment,k),v(g),f=!1},d(k){k&&y(e),I(t),I(a),k&&y(u),g&&g.d(k),k&&y(c),d=!1,m()}}}function eZe(i){let e,t,n=i[3],r=[];for(let l=0;l<n.length;l+=1)r[l]=LN(TN(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&12){n=l[3];let a;for(a=0;a<n.length;a+=1){const u=TN(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=LN(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function ON(i){let e,t,n,r,s,l,o,a,u,c;return s=new jt({props:{className:"rounded-none",$$slots:{default:[tZe]},$$scope:{ctx:i}}}),o=new hi({props:{left:1}}),{c(){e=P("header"),t=K("Commands"),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment),h(e,"class",n="list-header "+(i[6]?"":"opacity-50"))},m(f,d){w(f,e,d),D(e,t),w(f,r,d),O(s,f,d),w(f,l,d),O(o,f,d),a=!0,u||(c=Se(e,"click",i[21]),u=!0)},p(f,d){(!a||d[0]&64&&n!==(n="list-header "+(f[6]?"":"opacity-50")))&&h(e,"class",n);const m={};d[0]&68|d[1]&8192&&(m.$$scope={dirty:d,ctx:f}),s.$set(m)},i(f){a||(_(s.$$.fragment,f),_(o.$$.fragment,f),a=!0)},o(f){v(s.$$.fragment,f),v(o.$$.fragment,f),a=!1},d(f){f&&y(e),f&&y(r),I(s,f),f&&y(l),I(o,f),u=!1,c()}}}function IN(i){let e,t,n=i[2].commands,r=[];for(let l=0;l<n.length;l+=1)r[l]=zN(SN(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&4){n=l[2].commands;let a;for(a=0;a<n.length;a+=1){const u=SN(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=zN(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function BN(i){let e,t;return e=new et({props:{icon:i[40].icon}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&4&&(s.icon=n[40].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function RN(i){let e,t;return e=new hi({props:{left:16}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zN(i){let e,t,n=i[40].title+"",r,s,l,o,a,u,c,f=i[40].icon&&BN(i);function d(){return i[22](i[40])}let m=i[37]<i[2].commands.length-1&&RN();return{c(){e=P("button"),t=P("main"),r=K(n),s=W(),f&&f.c(),l=W(),m&&m.c(),o=Ae(),h(e,"class","selectable")},m(p,g){w(p,e,g),D(e,t),D(t,r),D(e,s),f&&f.m(e,null),w(p,l,g),m&&m.m(p,g),w(p,o,g),a=!0,u||(c=Se(e,"click",d),u=!0)},p(p,g){i=p,(!a||g[0]&4)&&n!==(n=i[40].title+"")&&de(r,n),i[40].icon?f?(f.p(i,g),g[0]&4&&_(f,1)):(f=BN(i),f.c(),_(f,1),f.m(e,null)):f&&(ae(),v(f,1,1,()=>{f=null}),ue()),i[37]<i[2].commands.length-1?m?g[0]&4&&_(m,1):(m=RN(),m.c(),_(m,1),m.m(o.parentNode,o)):m&&(ae(),v(m,1,1,()=>{m=null}),ue())},i(p){a||(_(f),_(m),a=!0)},o(p){v(f),v(m),a=!1},d(p){p&&y(e),f&&f.d(),p&&y(l),m&&m.d(p),p&&y(o),u=!1,c()}}}function tZe(i){let e,t,n=i[6]&&IN(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[6]?n?(n.p(r,s),s[0]&64&&_(n,1)):(n=IN(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function jN(i){let e,t,n,r,s;return{c(){e=P("header"),t=K("Trackables"),h(e,"class",n="list-header "+(i[5]?"":"opacity-50"))},m(l,o){w(l,e,o),D(e,t),r||(s=Se(e,"click",i[23]),r=!0)},p(l,o){o[0]&32&&n!==(n="list-header "+(l[5]?"":"opacity-50"))&&h(e,"class",n)},d(l){l&&y(e),r=!1,s()}}}function YN(i){let e,t,n,r,s,l=i[2].trackables,o=[];for(let d=0;d<l.length;d+=1)o[d]=WN(DN(i,l,d));const a=d=>v(o[d],1,1,()=>{o[d]=null});function u(d,m){var p,g;if(m[0]&5&&(t=null),m[0]&5&&(n=null),t==null&&(t=((p=d[0])==null?void 0:p.substring(0,1))==="#"&&d[2].trackables.length===0),t)return iZe;if(n==null&&(n=((g=d[0])==null?void 0:g.substring(0,1))==="@"&&d[2].trackables.length===0),n)return nZe}let c=u(i,[-1,-1]),f=c&&c(i);return{c(){for(let d=0;d<o.length;d+=1)o[d].c();e=W(),f&&f.c(),r=Ae()},m(d,m){for(let p=0;p<o.length;p+=1)o[p].m(d,m);w(d,e,m),f&&f.m(d,m),w(d,r,m),s=!0},p(d,m){if(m[0]&4){l=d[2].trackables;let p;for(p=0;p<l.length;p+=1){const g=DN(d,l,p);o[p]?(o[p].p(g,m),_(o[p],1)):(o[p]=WN(g),o[p].c(),_(o[p],1),o[p].m(e.parentNode,e))}for(ae(),p=l.length;p<o.length;p+=1)a(p);ue()}c===(c=u(d,m))&&f?f.p(d,m):(f&&f.d(1),f=c&&c(d),f&&(f.c(),f.m(r.parentNode,r)))},i(d){if(!s){for(let m=0;m<l.length;m+=1)_(o[m]);s=!0}},o(d){o=o.filter(Boolean);for(let m=0;m<o.length;m+=1)v(o[m]);s=!1},d(d){pt(o,d),d&&y(e),f&&f.d(d),d&&y(r)}}}function UN(i){let e,t;return e=new hi({props:{left:48}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function WN(i){let e,t,n,r,s=i[38].label+"",l,o,a,u,c,f,d,m;t=new er({props:{trackable:i[38],size:22}});function p(){return i[24](i[38])}let g=i[37]<i[2].trackables.length-1&&UN();return{c(){e=P("button"),B(t.$$.fragment),n=W(),r=P("main"),l=K(s),o=W(),a=P("span"),a.textContent="Open",u=W(),g&&g.c(),c=Ae(),h(a,"class","action"),h(e,"class","selectable")},m(k,$){w(k,e,$),O(t,e,null),D(e,n),D(e,r),D(r,l),D(e,o),D(e,a),w(k,u,$),g&&g.m(k,$),w(k,c,$),f=!0,d||(m=Se(e,"click",p),d=!0)},p(k,$){i=k;const C={};$[0]&4&&(C.trackable=i[38]),t.$set(C),(!f||$[0]&4)&&s!==(s=i[38].label+"")&&de(l,s),i[37]<i[2].trackables.length-1?g?$[0]&4&&_(g,1):(g=UN(),g.c(),_(g,1),g.m(c.parentNode,c)):g&&(ae(),v(g,1,1,()=>{g=null}),ue())},i(k){f||(_(t.$$.fragment,k),_(g),f=!0)},o(k){v(t.$$.fragment,k),v(g),f=!1},d(k){k&&y(e),I(t),k&&y(u),g&&g.d(k),k&&y(c),d=!1,m()}}}function nZe(i){let e,t,n,r,s,l,o,a;return{c(){e=P("button"),t=P("main"),n=K(i[0]),r=K(" not found"),s=W(),l=P("div"),l.textContent="Create...",h(l,"class","action"),h(e,"class","selectable")},m(u,c){w(u,e,c),D(e,t),D(t,n),D(t,r),D(e,s),D(e,l),o||(a=Se(e,"click",i[26]),o=!0)},p(u,c){c[0]&1&&de(n,u[0])},d(u){u&&y(e),o=!1,a()}}}function iZe(i){let e,t,n,r,s,l,o,a;return{c(){e=P("button"),t=P("main"),n=K(i[0]),r=K(" doesn't exist"),s=W(),l=P("div"),l.textContent="Create...",h(l,"class","action"),h(e,"class","selectable")},m(u,c){w(u,e,c),D(e,t),D(t,n),D(t,r),D(e,s),D(e,l),o||(a=Se(e,"click",i[25]),o=!0)},p(u,c){c[0]&1&&de(n,u[0])},d(u){u&&y(e),o=!1,a()}}}function rZe(i){let e,t,n=i[5]&&YN(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[5]?n?(n.p(r,s),s[0]&32&&_(n,1)):(n=YN(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function qN(i){let e,t,n,r,s,l,o,a,u,c,f=i[2].logs,d=[];for(let p=0;p<f.length;p+=1)d[p]=HN(CN(i,f,p));const m=p=>v(d[p],1,1,()=>{d[p]=null});return{c(){for(let p=0;p<d.length;p+=1)d[p].c();e=W(),t=P("button"),n=P("main"),r=K("Search all notes for: "),s=K(i[0]),l=W(),o=P("div"),o.textContent="Search...",h(n,"class","text-sm leading-tight"),h(o,"class","action"),h(t,"class","selectable")},m(p,g){for(let k=0;k<d.length;k+=1)d[k].m(p,g);w(p,e,g),w(p,t,g),D(t,n),D(n,r),D(n,s),D(t,l),D(t,o),a=!0,u||(c=Se(t,"click",i[29]),u=!0)},p(p,g){if(g[0]&260){f=p[2].logs;let k;for(k=0;k<f.length;k+=1){const $=CN(p,f,k);d[k]?(d[k].p($,g),_(d[k],1)):(d[k]=HN($),d[k].c(),_(d[k],1),d[k].m(e.parentNode,e))}for(ae(),k=f.length;k<d.length;k+=1)m(k);ue()}(!a||g[0]&1)&&de(s,p[0])},i(p){if(!a){for(let g=0;g<f.length;g+=1)_(d[g]);a=!0}},o(p){d=d.filter(Boolean);for(let g=0;g<d.length;g+=1)v(d[g]);a=!1},d(p){pt(d,p),p&&y(e),p&&y(t),u=!1,c()}}}function HN(i){let e,t,n,r=i[35].endDayjs().format(`${i[8].date} ${i[8].time}`)+"",s,l,o,a=i[35].note+"",u,c,f,d,m,p;function g(){return i[28](i[35])}return f=new hi({props:{left:1}}),{c(){e=P("button"),t=P("main"),n=P("div"),s=K(r),l=W(),o=P("p"),u=K(a),c=W(),B(f.$$.fragment),h(n,"class","time text-xs text-gray-500"),h(o,"class","text-sm line-clamp-2 "),h(e,"class","selectable log")},m(k,$){w(k,e,$),D(e,t),D(t,n),D(n,s),D(t,l),D(t,o),D(o,u),w(k,c,$),O(f,k,$),d=!0,m||(p=Se(e,"click",g),m=!0)},p(k,$){i=k,(!d||$[0]&4)&&r!==(r=i[35].endDayjs().format(`${i[8].date} ${i[8].time}`)+"")&&de(s,r),(!d||$[0]&4)&&a!==(a=i[35].note+"")&&de(u,a)},i(k){d||(_(f.$$.fragment,k),d=!0)},o(k){v(f.$$.fragment,k),d=!1},d(k){k&&y(e),k&&y(c),I(f,k),m=!1,p()}}}function sZe(i){let e,t,n=i[4]&&qN(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[4]?n?(n.p(r,s),s[0]&16&&_(n,1)):(n=qN(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function VN(i){let e,t,n,r,s,l,o,a,u;return{c(){e=P("button"),t=P("main"),n=K('"'),r=K(i[0]),s=K('"'),l=W(),o=P("span"),o.textContent="Save as Note",h(t,"class","line-clamp-2"),h(o,"class","stiff action"),h(e,"class","selectable")},m(c,f){w(c,e,f),D(e,t),D(t,n),D(t,r),D(t,s),D(e,l),D(e,o),a||(u=Se(e,"click",i[30]),a=!0)},p(c,f){f[0]&1&&de(r,c[0])},d(c){c&&y(e),a=!1,u()}}}function lZe(i){let e;return{c(){e=P("div"),e.textContent="Search notes, trackables, and trigger commands (like Create...)",h(e,"class","text-opacity-80 dark:bg-gray-900 text-gray-500 flex px-4 w-full items-center border-t text-xs leading-tight border-gray-500 border-opacity-20 py-2 pb-3 stiff space-x-4")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function oZe(i){let e;return{c(){e=P("div"),e.innerHTML=`<div class="text-sm">\u2191\u2193 <span class="text-gray-400 text-sm">Select</span></div> 
      <div class="text-xs">\u2B90 <span class="text-gray-400 text-sm">Open</span></div> 
      <div class="filler"></div> 
      <div class="text-xs">esc <span class="text-gray-400 text-sm">Close</span></div>`,h(e,"class","hidden dark:text-gray-500 xl:flex px-4 w-full items-center border-t border-gray-500 border-opacity-20 py-2 stiff space-x-4")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function aZe(i){let e,t,n,r,s,l,o,a,u=i[7]===i[1]&&AN(i),c=i[2]&&PN(i),f=i[0]&&i[0].length>9&&VN(i);function d(g,k){return g[2]?oZe:lZe}let m=d(i),p=m(i);return{c(){u&&u.c(),e=W(),t=P("main"),n=P("div"),r=W(),c&&c.c(),s=W(),f&&f.c(),l=W(),p.c(),o=Ae(),h(n,"id","unisearch-scroll-point"),h(t,"class","")},m(g,k){u&&u.m(g,k),w(g,e,k),w(g,t,k),D(t,n),D(t,r),c&&c.m(t,null),D(t,s),f&&f.m(t,null),w(g,l,k),p.m(g,k),w(g,o,k),a=!0},p(g,k){g[7]===g[1]?u?(u.p(g,k),k[0]&130&&_(u,1)):(u=AN(g),u.c(),_(u,1),u.m(e.parentNode,e)):u&&(ae(),v(u,1,1,()=>{u=null}),ue()),g[2]?c?(c.p(g,k),k[0]&4&&_(c,1)):(c=PN(g),c.c(),_(c,1),c.m(t,s)):c&&(ae(),v(c,1,1,()=>{c=null}),ue()),g[0]&&g[0].length>9?f?f.p(g,k):(f=VN(g),f.c(),f.m(t,null)):f&&(f.d(1),f=null),m!==(m=d(g))&&(p.d(1),p=m(g),p&&(p.c(),p.m(o.parentNode,o)))},i(g){a||(_(u),_(c),a=!0)},o(g){v(u),v(c),a=!1},d(g){u&&u.d(g),g&&y(e),g&&y(t),c&&c.d(),f&&f.d(),g&&y(l),p.d(g),g&&y(o)}}}function uZe(i){let e,t,n,r,s,l,o,a,u,c;return t=new et({props:{size:28,icon:Z1,className:"text-gray-600 dark:text-gray-400  text-opacity-50 absolute top-3 left-2"}}),o=new et({props:{size:28,icon:ua,className:"text-gray-500"}}),{c(){e=P("header"),B(t.$$.fragment),n=W(),r=P("input"),s=W(),l=P("button"),B(o.$$.fragment),h(r,"id","search-field"),r.autofocus=!0,h(r,"type","text"),h(r,"placeholder","Search your Nomie"),h(r,"class","search-input rounded-t-2xl w-full"),h(l,"class","absolute top-3 rounded-full right-3 h-7 w-7 flex items-center justify-center"),h(e,"slot","header"),h(e,"class","input-wrapper w-full stuff flex items-stretch justify-items-stretch relative border-b border-gray-500 border-opacity-20")},m(f,d){w(f,e,d),O(t,e,null),D(e,n),D(e,r),Kn(r,i[0]),D(e,s),D(e,l),O(o,l,null),a=!0,r.focus(),u||(c=[Se(r,"input",i[16]),Se(r,"input",i[17]),Se(l,"click",i[9])],u=!0)},p(f,d){d[0]&1&&r.value!==f[0]&&Kn(r,f[0])},i(f){a||(_(t.$$.fragment,f),_(o.$$.fragment,f),a=!0)},o(f){v(t.$$.fragment,f),v(o.$$.fragment,f),a=!1},d(f){f&&y(e),I(t),I(o),u=!1,Ot(c)}}}function cZe(i){let e,t;return e=new ti({props:{className:"unisearch",mainClass:"transition-all duration-200 h-50vh relative filler overflow-y-auto w-full",$$slots:{header:[uZe],default:[aZe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&255|r[1]&8192&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}const fZe=()=>{};function dZe(i,e,t){let n,r,s,l;Le(i,sGe,re=>t(14,n=re)),Le(i,en,re=>t(33,r=re)),Le(i,kq,re=>t(15,s=re)),Le(i,MB,re=>t(7,l=re));let{searchTerm:o}=e,{id:a}=e,u,c=[],f=-1,d=pi(),m=!0,p=!0,g=!0;Yt(()=>{document.getElementById("search-field").focus(),s.term&&E(s.term)});let k=!1;const $=async()=>{tn(a)};let C;const E=async re=>{t(0,o=re),clearTimeout(C),o.length>1&&(C=setTimeout(async()=>{const be=await _Ze(re);t(2,u=u||{commands:[],trackables:[],exactTrackable:void 0,logs:[]}),t(2,u.commands=be.commands||[],u),t(2,u.trackables=be.trackables||[],u),t(2,u.exactTrackable=be.exactTrackable,u),t(2,u.logs=await dn.query({search:yy(o),start:Te().subtract(30,"day")}),u),t(3,c=M()),T(0)},400))},S=()=>{const re=document.querySelectorAll(".unisearch .selectable")[f];re&&re.click()};function T(re){const be=document.querySelectorAll(".unisearch .selectable");re<0&&f<be.length&&f>-2?f=f-1:re>0&&f>-2?f=f+1:f=0,f<-1&&(f=0),f>be.length&&(f=0),be.forEach((we,De)=>{De!=f?we.classList.remove("selected"):(we.classList.add("selected"),De!==0?we.scrollIntoView({behavior:"smooth"}):document.getElementById("unisearch-scroll-point").scrollIntoView({behavior:"smooth"}))})}const M=()=>{var re,be,we;return[{title:`${(re=u==null?void 0:u.exactTrackable)==null?void 0:re.label} Stats`,icon:nB,click(){xm(u==null?void 0:u.exactTrackable,{date:new Date,known:r.trackables})}},{title:`Track ${(be=u==null?void 0:u.exactTrackable)==null?void 0:be.tag}`,icon:x1,click(){var De,Be;((De=u.exactTrackable)==null?void 0:De.type)==="tracker"?nv(u.exactTrackable.tracker,r.trackables):($(),Oi.addElement((Be=u==null?void 0:u.exactTrackable)==null?void 0:Be.tag),Oi.focus())}},{title:`Edit ${(we=u==null?void 0:u.exactTrackable)==null?void 0:we.label}`,icon:ca,click(){u.exactTrackable.type=="tracker"&&Kr(u.exactTrackable.tracker.toTrackable())}}]};function R(){o=this.value,t(0,o),t(15,s),t(13,k)}const Y=re=>{E(re.target.value)},z=()=>{tn(a)},j=re=>{re.preventDefault(),re.stopPropagation(),re.stopImmediatePropagation(),re.detail=="ArrowDown"?T(1):re.detail=="ArrowUp"?T(-1):re.detail=="Enter"&&S()},V=re=>{re.click()},x=()=>{t(6,g=!g)},ee=re=>{re.click()},J=()=>{t(5,p=!p)},q=re=>{Hr(re)},le=()=>{Kr(new qi({label:o.replace("#","")}).toTrackable())},G=()=>{QW(o.replace("@",""))},X=()=>{t(4,m=!m)},se=re=>{lh(re)},te=()=>{ZW({search:o,notes:!0})},ie=()=>{xu(new gn({note:o}))};return i.$$set=re=>{"searchTerm"in re&&t(0,o=re.searchTerm),"id"in re&&t(1,a=re.id)},i.$$.update=()=>{var re,be;i.$$.dirty[0]&40961&&!o&&s.term&&!k&&(t(13,k=!0),t(0,o=s.term)),i.$$.dirty[0]&1&&(o==null?void 0:o.length)===0&&t(2,u=void 0),i.$$.dirty[0]&8193&&o&&!k&&(t(13,k=!0),E(o)),i.$$.dirty[0]&16384&&(n[n.length-1]==="unisearch"?(re=document.querySelector(".unisearch input"))==null||re.focus():(be=document.querySelector(".unisearch input"))==null||be.blur())},[o,a,u,c,m,p,g,l,d,$,E,S,T,k,n,s,R,Y,z,j,V,x,ee,J,q,le,G,X,se,te,ie]}class hZe extends pe{constructor(e){super(),me(this,e,dZe,cZe,he,{searchTerm:0,id:1},null,[-1,-1])}}const mZe=[{title:"Create Custom tracker",description:"Create and Add a new tracker! ",click(){Kr(new Wi({type:"tracker"}))}},JW(),{title:"Write Journal Entry",icon:ca,description:"Browse the nomie library of trackers, add create",click(){Oi.journal(new gn({}))}},{title:"Open Library",description:"Browse the nomie library of trackers, add create",click(){Iw.toggle()}},{title:"Dark Theme",click(){Ht.update(i=>(i.theme="dark",Bm(i.theme),f2(),i))}},{title:"Light Theme",click(){Ht.update(i=>(i.theme="light",Bm(i.theme),f2(),i))}},{title:"System Theme",click(){Ht.update(i=>(i.theme="auto",Bm(i.theme),f2(),i))}},{title:"Generate Backup",click(){w$()}}],pZe={term:void 0,visible:!1},kq=rn(pZe),f2=()=>{tn("unisearch"),kq.update(i=>({term:void 0,visible:!1}))},kf=i=>{iu("open_unisearch"),On({id:"unisearch",component:hZe,componentProps:{searchTerm:i},tappable:!0,position:"center"})},_Ze=async i=>{let e;if(!i)return{commands:[],trackables:[],logs:[],exactTrackable:void 0};const t=mZe.filter(l=>JSON.stringify(l).toLowerCase().search(i.toLowerCase())>-1),n=await cj(),r=Sf(n).filter(l=>JSON.stringify(l).toLowerCase().search(i.toLowerCase())>-1);return n[i]?e=n[i]:n[`#${i}`]?e=n[`#${i}`]:n[`@${i}`]&&(e=n[`@${i}`]),{commands:t,trackables:r,logs:[],exactTrackable:e}};function gZe(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Calendar Number"),r=ye("path"),h(r,"d","M416 64h-16V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00368 48v16H144V48.45c0-8.61-6.62-16-15.23-16.43A16 16 0 00112 48v16H96a64 64 0 00-64 64v12a4 4 0 004 4h440a4 4 0 004-4v-12a64 64 0 00-64-64zM476 176H36a4 4 0 00-4 4v236a64 64 0 0064 64h320a64 64 0 0064-64V180a4 4 0 00-4-4zM239.58 401.1c-12.17 9.61-28.75 14.9-46.7 14.9-27.87 0-48.48-18.16-57.66-33.7a16 16 0 0127.56-16.3c1.08 1.84 11.15 18 30.1 18 16.66 0 36.12-7.29 36.12-27.82 0-6.25-1.22-14.95-7-20.88-8.54-8.74-22.75-12.67-30.11-12.67a16 16 0 010-32c4.85 0 17.41-2.6 25.28-10.65a22 22 0 006.57-16.08c0-23.23-28.63-23.9-31.89-23.9-17.34 0-23.8 10.61-24.07 11.06a16 16 0 11-27.55-16.26c7.64-13 25.22-26.8 51.62-26.8 16.44 0 31.76 4.77 43.13 13.42 13.39 10.2 20.76 25.28 20.76 42.48A54 54 0 01240 302.35c-1.15 1.18-2.36 2.28-3.59 3.35a66.18 66.18 0 018.42 7.23c10.56 10.8 16.14 25.75 16.14 43.25.03 18.06-7.58 34.01-21.39 44.92zM368 396a16 16 0 01-32 0V256.29l-22.51 16.59a16 16 0 11-19-25.76l43.42-32a16 16 0 019.49-3.12h4.6a16 16 0 0116 16z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function vZe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class bZe extends pe{constructor(e){super(),me(this,e,vZe,gZe,he,{size:0})}}function kZe(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Calendar Number"),r=ye("rect"),s=ye("path"),h(r,"x","48"),h(r,"y","80"),h(r,"width","416"),h(r,"height","384"),h(r,"rx","48"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-linejoin","round"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M128 48v32M384 48v32M464 160H48M304 260l43.42-32H352v168M191.87 306.63c9.11 0 25.79-4.28 36.72-15.47a37.9 37.9 0 0011.13-27.26c0-26.12-22.59-39.9-47.89-39.9-21.4 0-33.52 11.61-37.85 18.93M149 374.16c4.88 8.27 19.71 25.84 43.88 25.84 28.59 0 52.12-15.94 52.12-43.82 0-12.62-3.66-24-11.58-32.07-12.36-12.64-31.25-17.48-41.55-17.48"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function yZe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class wZe extends pe{constructor(e){super(),me(this,e,yZe,kZe,he,{size:0})}}function xN(i,e,t){const n=i.slice();return n[8]=e[t],n}function GN(i){let e,t;return{c(){e=P("img"),Jr(e.src,t="/app-icons/nomie6-head-72.png")||h(e,"src",t),h(e,"class","rounded-xl h-12 w-12"),h(e,"alt","app-logo")},m(n,r){w(n,e,r)},d(n){n&&y(e)}}}function $Ze(i){let e;return{c(){e=P("div"),h(e,"class","text-gray-500 px-4 h-full text-sm flex flex-col justify-center space-y-4")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function FZe(i){let e,t,n,r=Ni.isDesktop(),s,l,o=i[4],a=[];for(let f=0;f<o.length;f+=1)a[f]=KN(xN(i,o,f));const u=f=>v(a[f],1,1,()=>{a[f]=null});let c=r&&DZe(i);return{c(){for(let f=0;f<a.length;f+=1)a[f].c();e=W(),t=P("div"),n=W(),c&&c.c(),s=Ae(),h(t,"class","filler")},m(f,d){for(let m=0;m<a.length;m+=1)a[m].m(f,d);w(f,e,d),w(f,t,d),w(f,n,d),c&&c.m(f,d),w(f,s,d),l=!0},p(f,d){if(d&30){o=f[4];let m;for(m=0;m<o.length;m+=1){const p=xN(f,o,m);a[m]?(a[m].p(p,d),_(a[m],1)):(a[m]=KN(p),a[m].c(),_(a[m],1),a[m].m(e.parentNode,e))}for(ae(),m=o.length;m<a.length;m+=1)u(m);ue()}r&&c.p(f,d)},i(f){if(!l){for(let d=0;d<o.length;d+=1)_(a[d]);_(c),l=!0}},o(f){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)v(a[d]);v(c),l=!1},d(f){pt(a,f),f&&y(e),f&&y(t),f&&y(n),c&&c.d(f),f&&y(s)}}}function ZN(i){let e,t;return e=new mq({props:{size:8,className:"absolute animate-pulse top-1 bg-red-500 ml-2"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function EZe(i){let e,t,n=i[1]&&XN(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[1]?n?(n.p(r,s),s&2&&_(n,1)):(n=XN(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function XN(i){let e,t;return e=new Of({props:{className:`${i[1]>80?"bg-green-300 text-green-900":i[1]>49?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`,$$slots:{default:[CZe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.className=`${n[1]>80?"bg-green-300 text-green-900":n[1]>49?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"}`),r&2050&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function CZe(i){let e,t;return e=new If({props:{text:`${i[1]}%`}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.text=`${n[1]}%`),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function KN(i){let e,t,n,r,s,l,o,a=i[8].title+"",u,c,f,d,m,p,g=i[8].path=="/"&&i[3].length&&ZN();n=new et({props:{icon:i[8].icon,className:"inactive"}}),s=new et({props:{icon:i[8].activeIcon,className:"active"}});let k=i[8].path=="/goals"&&EZe(i);function $(){return i[6](i[8])}return{c(){e=P("a"),g&&g.c(),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment),l=W(),o=P("div"),u=K(a),c=W(),k&&k.c(),h(o,"class","mr-2 link-title"),h(e,"role","menuitem"),h(e,"href",i[8].path),h(e,"class",f="nav-item ntitle "+(window.location.pathname==i[8].path?"current":"")+" "+(window.location.pathname=="/"&&i[2].startPage==i[8].id?"current":""))},m(C,E){w(C,e,E),g&&g.m(e,null),D(e,t),O(n,e,null),D(e,r),O(s,e,null),D(e,l),D(e,o),D(o,u),D(e,c),k&&k.m(e,null),d=!0,m||(p=Se(e,"click",ic(il($))),m=!0)},p(C,E){i=C,i[8].path=="/"&&i[3].length?g?E&8&&_(g,1):(g=ZN(),g.c(),_(g,1),g.m(e,t)):g&&(ae(),v(g,1,1,()=>{g=null}),ue()),i[8].path=="/goals"&&k.p(i,E),(!d||E&4&&f!==(f="nav-item ntitle "+(window.location.pathname==i[8].path?"current":"")+" "+(window.location.pathname=="/"&&i[2].startPage==i[8].id?"current":"")))&&h(e,"class",f)},i(C){d||(_(g),_(n.$$.fragment,C),_(s.$$.fragment,C),_(k),d=!0)},o(C){v(g),v(n.$$.fragment,C),v(s.$$.fragment,C),v(k),d=!1},d(C){C&&y(e),g&&g.d(),I(n),I(s),k&&k.d(),m=!1,p()}}}function DZe(i){let e,t,n,r,s,l,o;return t=new et({props:{icon:Z1}}),{c(){e=P("button"),B(t.$$.fragment),n=W(),r=P("span"),r.textContent="Super Search",h(e,"class","focus:outline-none focus:ring-2 ring-primary-500 py-2 rounded-md flex items-center space-x-2 text-sm leading-tight px-4 text-left text-gray-500 my-10")},m(a,u){w(a,e,u),O(t,e,null),D(e,n),D(e,r),s=!0,l||(o=Se(e,"click",i[7]),l=!0)},p:Z,i(a){s||(_(t.$$.fragment,a),s=!0)},o(a){v(t.$$.fragment,a),s=!1},d(a){a&&y(e),I(t),l=!1,o()}}}function SZe(i){let e,t,n,r,s,l,o=i[0]&&GN();const a=[FZe,$Ze],u=[];function c(f,d){return f[0]?0:1}return r=c(i),s=u[r]=a[r](i),{c(){e=P("aside"),t=P("div"),o&&o.c(),n=W(),s.c(),h(t,"class","p-4 flex justify-start items-center space-x-3 my-4"),h(e,"class","desktop-sidebar bg-white dark:bg-gray-900 px-4 shadow-xl z-50"),h(e,"role","menu"),h(e,"aria-hidden","false"),h(e,"title","Nomie Navigation")},m(f,d){w(f,e,d),D(e,t),o&&o.m(t,null),D(e,n),u[r].m(e,null),l=!0},p(f,[d]){f[0]?o||(o=GN(),o.c(),o.m(t,null)):o&&(o.d(1),o=null);let m=r;r=c(f),r===m?u[r].p(f,d):(ae(),v(u[m],1,1,()=>{u[m]=null}),ue(),s=u[r],s?s.p(f,d):(s=u[r]=a[r](f),s.c()),_(s,1),s.m(e,null))},i(f){l||(_(s),l=!0)},o(f){v(s),l=!1},d(f){f&&y(e),o&&o.d(),u[r].d()}}}function TZe(i,e,t){let n,r,s;Le(i,R0,f=>t(5,n=f)),Le(i,Ht,f=>t(2,r=f)),Le(i,F0,f=>t(3,s=f));let{loggedIn:l=!1}=e,o;const a=[{id:"track",path:"/track",title:Fe.t("tabs.track","Track"),icon:x1,activeIcon:VI},{id:"timeline",path:"/timeline",title:Fe.t("tabs.timeline","Timeline"),icon:Gk,activeIcon:XI},{id:"history",path:"/history",title:Fe.t("tabs.on-this-day","On This Day"),icon:wZe,activeIcon:bZe},{id:"dashboard",path:"/dashboard",title:Fe.t("tabs.dashboard-full","Dashboard"),icon:Xk,activeIcon:QI},{id:"goals",path:"/goals",title:Fe.t("tabs.goals","Goals"),icon:iB,activeIcon:rB},{id:"settings",path:"/settings",title:Fe.t("tabs.more","More"),icon:zd,activeIcon:zd}],u=f=>{Xo(f.path)},c=()=>{kf()};return i.$$set=f=>{"loggedIn"in f&&t(0,l=f.loggedIn)},i.$$.update=()=>{if(i.$$.dirty&32&&n[1]){const f=Math.round(n[0]/n[1]*100);isNaN(f)||t(1,o=f)}},[l,o,r,s,a,n,u,c]}class AZe extends pe{constructor(e){super(),me(this,e,TZe,SZe,he,{loggedIn:0})}}const PZe=i=>({}),JN=i=>({}),NZe=i=>({}),QN=i=>({}),MZe=i=>({}),eM=i=>({}),LZe=i=>({}),tM=i=>({});function nM(i){let e,t,n;return{c(){e=P("div"),h(e,"class","menu-blocker bg-transparent fixed w-screen h-screen top-0 left-0 r-0 bottom-0 z-20")},m(r,s){w(r,e,s),t||(n=Se(e,"click",rR),t=!0)},p:Z,d(r){r&&y(e),t=!1,n()}}}function iM(i){let e,t,n,r,s;t=new XVe({});const l=i[18].header,o=nt(l,i,i[17],tM);return{c(){e=P("header"),B(t.$$.fragment),n=W(),o&&o.c(),h(e,"class",r="z-50 sticky top-0 glass "+i[4])},m(a,u){w(a,e,u),O(t,e,null),D(e,n),o&&o.m(e,null),s=!0},p(a,u){o&&o.p&&(!s||u&131072)&&rt(o,l,a,a[17],s?it(l,a[17],u,LZe):st(a[17]),tM),(!s||u&16&&r!==(r="z-50 sticky top-0 glass "+a[4]))&&h(e,"class",r)},i(a){s||(_(t.$$.fragment,a),_(o,a),s=!0)},o(a){v(t.$$.fragment,a),v(o,a),s=!1},d(a){a&&y(e),I(t),o&&o.d(a)}}}function OZe(i){let e;const t=i[18].default,n=nt(t,i,i[17],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&131072)&&rt(n,t,r,r[17],e?it(t,r[17],s,null):st(r[17]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function IZe(i){let e;const t=i[18].content,n=nt(t,i,i[17],eM);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&131072)&&rt(n,t,r,r[17],e?it(t,r[17],s,MZe):st(r[17]),eM)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function rM(i){let e,t;return e=new AZe({props:{loggedIn:i[3]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.loggedIn=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sM(i){let e,t;const n=i[18].bottom,r=nt(n,i,i[17],QN);return{c(){e=P("main"),r&&r.c(),h(e,"id","nomie-main-bottom"),h(e,"class","glass xl:ml-56")},m(s,l){w(s,e,l),r&&r.m(e,null),t=!0},p(s,l){r&&r.p&&(!t||l&131072)&&rt(r,n,s,s[17],t?it(n,s[17],l,NZe):st(s[17]),QN)},i(s){t||(_(r,s),t=!0)},o(s){v(r,s),t=!1},d(s){s&&y(e),r&&r.d(s)}}}function lM(i){let e,t,n,r,s,l=i[5]&&oM();const o=[RZe,BZe],a=[];function u(c,f){return c[8].width<900?0:1}return t=u(i),n=a[t]=o[t](i),{c(){l&&l.c(),e=W(),n.c(),r=Ae()},m(c,f){l&&l.m(c,f),w(c,e,f),a[t].m(c,f),w(c,r,f),s=!0},p(c,f){c[5]?l?f&32&&_(l,1):(l=oM(),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(ae(),v(l,1,1,()=>{l=null}),ue());let d=t;t=u(c),t===d?a[t].p(c,f):(ae(),v(a[d],1,1,()=>{a[d]=null}),ue(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),_(n,1),n.m(r.parentNode,r))},i(c){s||(_(l),_(n),s=!0)},o(c){v(l),v(n),s=!1},d(c){l&&l.d(c),c&&y(e),a[t].d(c),c&&y(r)}}}function oM(i){let e,t;return e=new iGe({props:{slot:"footer"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function BZe(i){let e;return{c(){e=P("div"),h(e,"class","p-4")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function RZe(i){let e,t;return e=new WVe({props:{className:(i[14]?"pointer-events-none":"")+" "}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16384&&(s.className=(n[14]?"pointer-events-none":"")+" "),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zZe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$;document.title=e=i[2]?`${i[2]} \u2192 Nomie 6`:"Nomie 6";let C=i[14]&&nM(),E=i[13]&&iM(i);const S=[IZe,OZe],T=[];function M(x,ee){return x[11]?0:1}u=M(i),c=T[u]=S[u](i);let R=i[8].width>899&&rM(i),Y=i[10]&&sM(i);const z=i[18].footer,j=nt(z,i,i[17],JN);let V=i[3]&&lM(i);return{c(){t=W(),n=P("div"),r=P("div"),C&&C.c(),s=W(),l=P("section"),E&&E.c(),o=W(),a=P("main"),c.c(),f=W(),R&&R.c(),d=W(),Y&&Y.c(),m=W(),p=P("footer"),j&&j.c(),g=W(),V&&V.c(),h(a,"id","nomie-main"),h(a,"class","layout-main z-20"),gt(a,"--mainHeight",i[9]),h(l,"class","xl:ml-56 layout-section-wrap"),h(r,"class","layout-frame z-10"),h(p,"class","xl:ml-56 sticky self-justify-start left-0 right-0 bottom-0 z-50 border-t border-gray-300 layout-footer glass dark:border-gray-400 dark:border-opacity-20"),h(n,"id",i[15]),h(n,"class",k="n-layout z-50 "+(i[1]?i[1]:"bg-gray-100 dark:bg-gray-800")+" "+(i[12]?"has-footer":"")+" "+(i[13]?"has-header":"")+" "+(i[3]?"has-tabs":"no-tabs")),h(n,"style",i[0])},m(x,ee){w(x,t,ee),w(x,n,ee),D(n,r),C&&C.m(r,null),D(r,s),D(r,l),E&&E.m(l,null),D(l,o),D(l,a),T[u].m(a,null),i[19](a),D(r,f),R&&R.m(r,null),D(n,d),Y&&Y.m(n,null),D(n,m),D(n,p),j&&j.m(p,null),D(p,g),V&&V.m(p,null),i[20](p),$=!0},p(x,[ee]){(!$||ee&4)&&e!==(e=x[2]?`${x[2]} \u2192 Nomie 6`:"Nomie 6")&&(document.title=e),x[14]?C?C.p(x,ee):(C=nM(),C.c(),C.m(r,s)):C&&(C.d(1),C=null),x[13]?E?(E.p(x,ee),ee&8192&&_(E,1)):(E=iM(x),E.c(),_(E,1),E.m(l,o)):E&&(ae(),v(E,1,1,()=>{E=null}),ue());let J=u;u=M(x),u===J?T[u].p(x,ee):(ae(),v(T[J],1,1,()=>{T[J]=null}),ue(),c=T[u],c?c.p(x,ee):(c=T[u]=S[u](x),c.c()),_(c,1),c.m(a,null)),(!$||ee&512)&&gt(a,"--mainHeight",x[9]),x[8].width>899?R?(R.p(x,ee),ee&256&&_(R,1)):(R=rM(x),R.c(),_(R,1),R.m(r,null)):R&&(ae(),v(R,1,1,()=>{R=null}),ue()),x[10]?Y?(Y.p(x,ee),ee&1024&&_(Y,1)):(Y=sM(x),Y.c(),_(Y,1),Y.m(n,m)):Y&&(ae(),v(Y,1,1,()=>{Y=null}),ue()),j&&j.p&&(!$||ee&131072)&&rt(j,z,x,x[17],$?it(z,x[17],ee,PZe):st(x[17]),JN),x[3]?V?(V.p(x,ee),ee&8&&_(V,1)):(V=lM(x),V.c(),_(V,1),V.m(p,null)):V&&(ae(),v(V,1,1,()=>{V=null}),ue()),(!$||ee&12298&&k!==(k="n-layout z-50 "+(x[1]?x[1]:"bg-gray-100 dark:bg-gray-800")+" "+(x[12]?"has-footer":"")+" "+(x[13]?"has-header":"")+" "+(x[3]?"has-tabs":"no-tabs")))&&h(n,"class",k),(!$||ee&1)&&h(n,"style",x[0])},i(x){$||(_(E),_(c),_(R),_(Y),_(j,x),_(V),$=!0)},o(x){v(E),v(c),v(R),v(Y),v(j,x),v(V),$=!1},d(x){x&&y(t),x&&y(n),C&&C.d(),E&&E.d(),T[u].d(),i[19](null),R&&R.d(),Y&&Y.d(),j&&j.d(x),V&&V.d(),i[20](null)}}}function jZe(i,e,t){let n,r,s,l,o,a;Le(i,Ni,Y=>t(8,o=Y)),Le(i,vy,Y=>t(14,a=Y));let{$$slots:u={},$$scope:c}=e,{style:f=""}=e,{className:d=""}=e,{pageTitle:m=void 0}=e,{showTabs:p=!0}=e,{headerClassNames:g=""}=e,{showCapture:k=!0}=e,$,C="100%",E=`layout-${Jn()}`,S,T;function M(Y){Oe[Y?"unshift":"push"](()=>{$=Y,t(6,$)})}function R(Y){Oe[Y?"unshift":"push"](()=>{T=Y,t(7,T)})}return i.$$set=Y=>{"style"in Y&&t(0,f=Y.style),"className"in Y&&t(1,d=Y.className),"pageTitle"in Y&&t(2,m=Y.pageTitle),"showTabs"in Y&&t(3,p=Y.showTabs),"headerClassNames"in Y&&t(4,g=Y.headerClassNames),"showCapture"in Y&&t(5,k=Y.showCapture),"$$scope"in Y&&t(17,c=Y.$$scope)},i.$$.update=()=>{if(i.$$.dirty&65664){const Y=ip(T);Y&&S&&t(16,S.style.height=`${Y.eleHeight+70}px`,S)}if(i.$$.dirty&320&&o.height&&$){const Y=ip($);t(9,C=`${Y.eleHeight}px`)}},t(13,n=(arguments[1].$$slots||{}).hasOwnProperty("header")),t(12,r=(arguments[1].$$slots||{}).hasOwnProperty("footer")),t(11,s=(arguments[1].$$slots||{}).hasOwnProperty("content")),t(10,l=(arguments[1].$$slots||{}).hasOwnProperty("bottom")),[f,d,m,p,g,k,$,T,o,C,l,s,r,n,a,E,S,c,u,M,R]}class Is extends pe{constructor(e){super(),me(this,e,jZe,zZe,he,{style:0,className:1,pageTitle:2,showTabs:3,headerClassNames:4,showCapture:5})}}function aM(i){let e,t=(i[0]||Fe.t("general.back","Back"))+"",n;return{c(){e=P("span"),n=K(t),h(e,"class","ml-2 text-primary-500")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=(r[0]||Fe.t("general.back","Back"))+"")&&de(n,t)},d(r){r&&y(e)}}}function YZe(i){let e,t,n,r,s,l,o;t=new et({props:{icon:eee,className:"text-primary-500"}});let a=i[1].width>400&&aM(i);return{c(){e=P("button"),B(t.$$.fragment),n=W(),a&&a.c(),h(e,"class",r=(i[1].width<399?"nbtn-icon circle":"clear")+" flex items-center text-primary-500")},m(u,c){w(u,e,c),O(t,e,null),D(e,n),a&&a.m(e,null),s=!0,l||(o=Se(e,"click",i[5]),l=!0)},p(u,[c]){u[1].width>400?a?a.p(u,c):(a=aM(u),a.c(),a.m(e,null)):a&&(a.d(1),a=null),(!s||c&2&&r!==(r=(u[1].width<399?"nbtn-icon circle":"clear")+" flex items-center text-primary-500"))&&h(e,"class",r)},i(u){s||(_(t.$$.fragment,u),s=!0)},o(u){v(t.$$.fragment,u),s=!1},d(u){u&&y(e),I(t),a&&a.d(),l=!1,o()}}}function UZe(i,e,t){let n;Le(i,Ni,c=>t(1,n=c));let{to:r=void 0}=e,{back:s=void 0}=e,{label:l=void 0}=e;const o=Ut(),a=c=>{document.referrer.match(document.location.origin)?history.back():s?s(c):r&&Xo(r),o("click",c)},u=c=>a(c);return i.$$set=c=>{"to"in c&&t(3,r=c.to),"back"in c&&t(4,s=c.back),"label"in c&&t(0,l=c.label)},[l,n,a,r,s,u]}class Ph extends pe{constructor(e){super(),me(this,e,UZe,YZe,he,{to:3,back:4,label:0})}}function uM(i,e,t){const n=i.slice();return n[23]=e[t],n}function WZe(i){let e,t;return e=new Is({props:{className:"n-file-browser",showTabs:!1,$$slots:{footer:[lXe],default:[eXe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108871&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qZe(i){let e,t;return e=new Is({props:{className:"n-file-browser",$$slots:{header:[kXe],default:[gXe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108869&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function HZe(i){let e,t=i[0].file+"",n;return{c(){e=P("h1"),n=K(t),h(e,"class","ntitle")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].file+"")&&de(n,t)},d(r){r&&y(e)}}}function VZe(i){let e,t;return e=new Ph({props:{slot:"left"}}),e.$on("click",i[5]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xZe(i){let e,t;return e=new et({props:{icon:mee,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function GZe(i){let e,t;return e=new et({props:{icon:wf,className:"text-red-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ZZe(i){let e,t,n,r,s;return t=new He({props:{icon:!0,$$slots:{default:[xZe]},$$scope:{ctx:i}}}),t.$on("click",i[17]),r=new He({props:{icon:!0,$$slots:{default:[GZe]},$$scope:{ctx:i}}}),r.$on("click",i[18]),{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"slot","right"),h(e,"class","flex items-center space-x-2")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),O(r,e,null),s=!0},p(l,o){const a={};o&67108864&&(a.$$scope={dirty:o,ctx:l}),t.$set(a);const u={};o&67108864&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),I(t),I(r)}}}function XZe(i){let e,t,n;return t=new ki({props:{size:30}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","p-4 n-panel h-20 flex items-center justify-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function KZe(i){let e;function t(s,l){return s[0].edit?JZe:QZe}let n=t(i),r=n(i);return{c(){r.c(),e=Ae()},m(s,l){r.m(s,l),w(s,e,l)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},i:Z,o:Z,d(s){r.d(s),s&&y(e)}}}function JZe(i){let e;return{c(){e=P("textarea"),h(e,"id","file-editor"),h(e,"class","min-h-screen"),h(e,"autocapitalize","off"),h(e,"autocorrect","off"),e.value=i[1]},m(t,n){w(t,e,n)},p(t,n){n&2&&(e.value=t[1])},d(t){t&&y(e)}}}function QZe(i){let e,t;return{c(){e=P("pre"),t=K(i[1]),h(e,"class","text-gray-800 dark:text-gray-200")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&2&&de(t,n[1])},d(n){n&&y(e)}}}function eXe(i){let e,t,n,r,s,l;e=new Sn({props:{$$slots:{right:[ZZe],left:[VZe],default:[HZe]},$$scope:{ctx:i}}});const o=[KZe,XZe],a=[];function u(c,f){return c[1]?0:1}return r=u(i),s=a[r]=o[r](i),{c(){B(e.$$.fragment),t=W(),n=P("div"),s.c(),h(n,"class","min-h-screen bg-gray-100 dark:bg-gray-900 flex filler pb-12")},m(c,f){O(e,c,f),w(c,t,f),w(c,n,f),a[r].m(n,null),l=!0},p(c,f){const d={};f&67108865&&(d.$$scope={dirty:f,ctx:c}),e.$set(d);let m=r;r=u(c),r===m?a[r].p(c,f):(ae(),v(a[m],1,1,()=>{a[m]=null}),ue(),s=a[r],s?s.p(c,f):(s=a[r]=o[r](c),s.c()),_(s,1),s.m(n,null))},i(c){l||(_(e.$$.fragment,c),_(s),l=!0)},o(c){v(e.$$.fragment,c),v(s),l=!1},d(c){I(e,c),c&&y(t),c&&y(n),a[r].d()}}}function cM(i){let e,t,n,r;const s=[nXe,tXe],l=[];function o(a,u){return a[0].edit?0:1}return t=o(i),n=l[t]=s[t](i),{c(){e=P("div"),n.c(),h(e,"class","px-2 pt-1 pb-2 flex")},m(a,u){w(a,e,u),l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?l[t].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null))},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),l[t].d()}}}function tXe(i){let e,t;return e=new He({props:{clear:!0,primary:!0,block:!0,$$slots:{default:[iXe]},$$scope:{ctx:i}}}),e.$on("click",i[9]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nXe(i){let e,t,n,r;return e=new He({props:{clear:!0,primary:!0,block:!0,$$slots:{default:[rXe]},$$scope:{ctx:i}}}),e.$on("click",i[3]),n=new He({props:{primary:!0,block:!0,$$slots:{default:[sXe]},$$scope:{ctx:i}}}),n.$on("click",i[4]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&67108864&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&67108864&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function iXe(i){let e;return{c(){e=K("Edit")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function rXe(i){let e;return{c(){e=K("Cancel")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function sXe(i){let e;return{c(){e=K("Save Changes")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function lXe(i){let e,t,n=i[2].allowFileEdit&&cM(i);return{c(){e=P("div"),n&&n.c(),h(e,"slot","footer")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[2].allowFileEdit?n?(n.p(r,s),s&4&&_(n,1)):(n=cM(r),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function fM(i){let e,t,n;return t=new ki({props:{size:30}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","p-4 n-panel h-20 flex items-center justify-center")},m(r,s){w(r,e,s),O(t,e,null),n=!0},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function oXe(i){let e,t;function n(){return i[15](i[23])}return e=new lt({props:{bottomLine:!0,detail:!0,$$slots:{left:[cXe],default:[uXe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&67108865&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function aXe(i){let e,t;function n(){return i[14](i[23])}return e=new lt({props:{bottomLine:!0,detail:!0,$$slots:{left:[dXe],default:[fXe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&67108865&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function uXe(i){let e=i[23]+"",t,n;return{c(){t=K(e),n=W()},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s&1&&e!==(e=r[23]+"")&&de(t,e)},d(r){r&&y(t),r&&y(n)}}}function cXe(i){let e;return{c(){e=P("div"),e.innerHTML=`<span class="text-md">\u{1F4DD}</span> 
                `,h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function fXe(i){let e=i[23]+"",t,n;return{c(){t=K(e),n=W()},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s&1&&e!==(e=r[23]+"")&&de(t,e)},d(r){r&&y(t),r&&y(n)}}}function dXe(i){let e;return{c(){e=P("div"),e.innerHTML=`<span class="text-md">\u{1F5C2}</span> 
                `,h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function dM(i){let e,t,n,r,s;const l=[aXe,oXe],o=[];function a(u,c){return c&1&&(e=null),e==null&&(e=!u[8](u[23])),e?0:1}return t=a(i,-1),n=o[t]=l[t](i),{c(){n.c(),r=Ae()},m(u,c){o[t].m(u,c),w(u,r,c),s=!0},p(u,c){let f=t;t=a(u,c),t===f?o[t].p(u,c):(ae(),v(o[f],1,1,()=>{o[f]=null}),ue(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(r.parentNode,r))},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){o[t].d(u),u&&y(r)}}}function hXe(i){let e,t,n,r=i[0].loading&&fM(),s=i[0].files,l=[];for(let a=0;a<s.length;a+=1)l[a]=dM(uM(i,s,a));const o=a=>v(l[a],1,1,()=>{l[a]=null});return{c(){r&&r.c(),e=W();for(let a=0;a<l.length;a+=1)l[a].c();t=Ae()},m(a,u){r&&r.m(a,u),w(a,e,u);for(let c=0;c<l.length;c+=1)l[c].m(a,u);w(a,t,u),n=!0},p(a,u){if(a[0].loading?r?u&1&&_(r,1):(r=fM(),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ae(),v(r,1,1,()=>{r=null}),ue()),u&1281){s=a[0].files;let c;for(c=0;c<s.length;c+=1){const f=uM(a,s,c);l[c]?(l[c].p(f,u),_(l[c],1)):(l[c]=dM(f),l[c].c(),_(l[c],1),l[c].m(t.parentNode,t))}for(ae(),c=s.length;c<l.length;c+=1)o(c);ue()}},i(a){if(!n){_(r);for(let u=0;u<s.length;u+=1)_(l[u]);n=!0}},o(a){v(r),l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)v(l[u]);n=!1},d(a){r&&r.d(a),a&&y(e),pt(l,a),a&&y(t)}}}function mXe(i){let e,t;return{c(){e=K(`Edit data files.
            `),t=P("span"),t.textContent="Use with caution.",h(t,"class","text-red")},m(n,r){w(n,e,r),w(n,t,r)},p:Z,d(n){n&&y(e),n&&y(t)}}}function pXe(i){let e,t;return e=new vr({props:{size:"sm",faded:!0,$$slots:{default:[mXe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108864&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function _Xe(i){let e,t,n,r;function s(o){i[16](o)}let l={};return i[2].allowFileEdit!==void 0&&(l.value=i[2].allowFileEdit),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[2].allowFileEdit)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&4&&(n=!0,u.value=o[2].allowFileEdit,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function hM(i){return{c:Z,m:Z,d:Z}}function gXe(i){let e,t,n,r,s,l,o;n=new jt({props:{className:"mt-2",solo:!0,role:"menu",$$slots:{default:[hXe]},$$scope:{ctx:i}}}),s=new lt({props:{className:"bg-transparent mt-2",title:Fe.t("settings.allow-file-editing","Allow file editing"),$$slots:{right:[_Xe],default:[pXe]},$$scope:{ctx:i}}});let a=i[2].allowFileEdit&&hM();return{c(){e=P("div"),t=P("div"),B(n.$$.fragment),r=W(),B(s.$$.fragment),l=W(),a&&a.c(),h(t,"class",""),h(e,"class","content n-panel vertical scroll-y")},m(u,c){w(u,e,c),D(e,t),O(n,t,null),D(t,r),O(s,t,null),D(t,l),a&&a.m(t,null),o=!0},p(u,c){const f={};c&67108865&&(f.$$scope={dirty:c,ctx:u}),n.$set(f);const d={};c&67108868&&(d.$$scope={dirty:c,ctx:u}),s.$set(d),u[2].allowFileEdit?a||(a=hM(),a.c(),a.m(t,null)):a&&(a.d(1),a=null)},i(u){o||(_(n.$$.fragment,u),_(s.$$.fragment,u),o=!0)},o(u){v(n.$$.fragment,u),v(s.$$.fragment,u),o=!1},d(u){u&&y(e),I(n),I(s),a&&a.d()}}}function vXe(i){let e,t=i[0].title+"",n;return{c(){e=P("h1"),n=K(t),h(e,"class","ntitle")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].title+"")&&de(n,t)},d(r){r&&y(e)}}}function bXe(i){let e,t;return e=new Ph({props:{slot:"left"}}),e.$on("click",i[13]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function kXe(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{left:[bXe],default:[vXe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&67108865&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mM(i){return{c:Z,m:Z,d:Z}}function yXe(i){let e,t,n,r,s;const l=[qZe,WZe],o=[];function a(c,f){return c[0].file?1:0}e=a(i),t=o[e]=l[e](i);let u=i[0].showMassEditor&&mM();return{c(){t.c(),n=W(),u&&u.c(),r=Ae()},m(c,f){o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,r,f),s=!0},p(c,[f]){let d=e;e=a(c),e===d?o[e].p(c,f):(ae(),v(o[d],1,1,()=>{o[d]=null}),ue(),t=o[e],t?t.p(c,f):(t=o[e]=l[e](c),t.c()),_(t,1),t.m(n.parentNode,n)),c[0].showMassEditor?u||(u=mM(),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null)},i(c){s||(_(t),s=!0)},o(c){v(t),s=!1},d(c){o[e].d(c),c&&y(n),u&&u.d(c),c&&y(r)}}}function wXe(i){var e={};if(!(i instanceof Array))throw new Error("Expected an Array of file paths, but saw "+i);function t(r,s,l,o){return l===o.length-1&&(r[s]="file"),r.hasOwnProperty(s)||(r[s]={}),r[s]}function n(r){var s=r.split("/");if(s.length===1)return e[s[0]]="file";s.reduce(t,e)}return i.forEach(n),e}function $Xe(i){if(i.code,i.keyCode===9){var e=this.value,t=this.selectionStart,n=this.selectionEnd;return this.value=(e||"").substring(0,t)+"	"+(e||"").substring(n),this.selectionStart=this.selectionEnd=(t||0)+1,!1}}function FXe(i,e,t){let n;Le(i,Ht,j=>t(2,n=j));const r={title:"File Browser",path:[],tree:{},files:[],animateForward:!1,animateBack:!1,file:null,loading:!0,edit:!1,showMassEditor:!1};let s,l,{path:o=void 0}=e,a=null;async function u(){t(0,r.file=null,r),t(0,r.edit=!1,r),t(12,a=o),o.substr(0,1)=="/"&&t(11,o=o.replace("/","")),t(11,o=o.replace(/\/\//g,"/"));let j=o.split("/");if(j.length>0){let V=j[j.length-1];$(V)?(t(0,r.file=V,r),t(0,r.path=j,r),g()):(t(0,r.path=j,r),t(0,r.files=m(),r))}t(0,r.title=j.join("/"),r),t(0,r.path=j,r)}function c(){t(0,r.edit=!1,r)}async function f(){l||(l=document.getElementById("file-editor"));let j;if(l){j=l.value;try{let V=JSON.parse(j);l.value=JSON.stringify(V,null,2),await _n.put(r.path.join("/"),V),qn({message:"File Saved",buttonLabel:"Reload",timeout:2500,buttonClick(){window.location.href=window.location.href}})}catch(V){at.error(V.message)}}}async function d(){r.path.length?(r.path.pop(),await Ps(10),t(0,r.files=m(),r),u()):Xo("/settings")}function m(){if(r.path.length){let j={...r.tree};return r.path.forEach(V=>{j.hasOwnProperty(V)&&(j=j[V])}),Object.keys(j)}else return Object.keys(r.tree)}Yt(async()=>{t(0,r.loading=!0,r),_n.getEngine().onReady(async()=>{let j=await _n.list();t(0,r.tree=wXe(j),r),t(0,r.files=m(),r),t(0,r.loading=!1,r)}),await _n.init()});async function p(j){let V=`${r.path.join("/")}`;await at.confirm(`Really delete ${j}?`,`This can cause serious issues if you don't know what you're doing. File to delete: ${V}`,"Yes, Delete")&&(await _n.delete(V),qn({message:"Deleted"}),d())}async function g(){const j=_n.getEngine().basePath();let V=await _n.get(o.replace(`${j}/`,""));return V&&t(1,s=JSON.stringify(V,null,2)),s}async function k(j){let V=r.path[r.path.length-1],x=await _n.get(r.path.join("/"));kh.json(V,x)}function $(j){const V=["last-usage","nomie-capture"];return j.split(".").length>1||V.indexOf(j)>-1?!0:r.path[r.path.length-1]=="books"}async function C(){t(0,r.edit=!0,r),await Ps(200),l=document.getElementById("file-editor"),l.addEventListener("onkeydown",$Xe)}function E(j){let V;if(r.path.length==1){let x=r.path[0];x.substr(0,1)=="/"&&(x=x.substr(1,x.length-2)),V=`/files/${x}/${j}`}else V=`/files/${r.path.join("/")}/${j}`;return V.replace("//","/")}const S=()=>d(),T=j=>{Xo(E(j))},M=j=>{Xo(E(j))};function R(j){i.$$.not_equal(n.allowFileEdit,j)&&(n.allowFileEdit=j,Ht.set(n))}const Y=()=>{k(r.file)},z=()=>{p(r.file)};return i.$$set=j=>{"path"in j&&t(11,o=j.path)},i.$$.update=()=>{i.$$.dirty&6144&&o&&o!==a&&u()},[r,s,n,c,f,d,p,k,$,C,E,o,a,S,T,M,R,Y,z]}class EXe extends pe{constructor(e){super(),me(this,e,FXe,yXe,he,{path:11})}}function CXe(i){let e,t;return e=new EXe({props:{path:i[0].replace("//","/")}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.path=n[0].replace("//","/")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function DXe(i,e,t){let{path:n=null}=e;return i.$$set=r=>{"path"in r&&t(0,n=r.path)},[n]}class SXe extends pe{constructor(e){super(),me(this,e,DXe,CXe,he,{path:0})}}function TXe(){return new Worker("/assets/csv-column-worker.7655bd8b.js")}const AXe=async(i,e,t)=>new Promise(n=>{let r=new TXe;r.onmessage=s=>{let l=s.data;n(l)},r.postMessage({logs:i,includeTrackables:e,knownTrackables:t})}),PXe=(i,e)=>{let t=["epoch","start","end","offset","note","lat","lng","location","score"],n=[],r=e.map(s=>s.tag);return i.forEach(s=>{s.getMeta();const l=(s.offset||new Date().getTimezoneOffset())*6e4,o=new Date(s.start.getTime()-l).toISOString().slice(0,-1),a=new Date(s.end.getTime()-l).toISOString().slice(0,-1),c=s.elements.filter(d=>d.type!=="generic").map(d=>PR(d)).filter(d=>r.indexOf(d)!==-1);let f=!1;r.length?c.length&&(f=!0):f=!0,f&&n.push([s.end.getTime(),o,a,s.offset,(s.note||"").replace(/(\"|\,|\n|\r)/g," "),s.lat,s.lng,`${s.location||""}`.replace(/(\"|\,|\n|\r)/g," "),s.score])}),[t,...n.reverse()]};function pM(i,e,t){const n=i.slice();return n[18]=e[t],n}function _M(i,e,t){const n=i.slice();return n[21]=e[t],n}function gM(i,e,t){const n=i.slice();return n[24]=e[t],n}function vM(i,e,t){const n=i.slice();return n[27]=e[t],n}function NXe(i){let e,t,n=i[27].label+"",r,s,l,o=i[27].description+"",a,u;return{c(){e=P("main"),t=P("h1"),r=K(n),s=W(),l=P("p"),a=K(o),u=W(),h(t,"class","ntitle"),h(l,"class","text-gray-500 text-xs leading-tight")},m(c,f){w(c,e,f),D(e,t),D(t,r),D(e,s),D(e,l),D(l,a),w(c,u,f)},p:Z,d(c){c&&y(e),c&&y(u)}}}function MXe(i){let e,t;return e=new et({props:{slot:"left",icon:i[27]===i[0]?Go:v2,className:i[27]===i[0]?"text-primary-500":""}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.icon=n[27]===n[0]?Go:v2),r&1&&(s.className=n[27]===n[0]?"text-primary-500":""),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function bM(i){let e,t;function n(){return i[11](i[27])}return e=new lt({props:{clickable:!0,$$slots:{left:[MXe],default:[NXe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&1073741825&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function LXe(i){let e,t,n=i[5],r=[];for(let l=0;l<n.length;l+=1)r[l]=bM(vM(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&49){n=l[5];let a;for(a=0;a<n.length;a+=1){const u=vM(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=bM(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function OXe(i){let e,t,n;function r(l){i[12](l)}let s={title:"Export all Known Trackables",slot:"right"};return i[2]!==void 0&&(s.value=i[2]),e=new Ar({props:s}),Oe.push(()=>Qe(e,"value",r,i[2])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&4&&(t=!0,a.value=l[2],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function kM(i){let e,t,n,r;e=new lt({props:{disabled:i[2],title:i[0].required.indexOf("trackables")>-1?"Select Trackables (required)":"Trackables",$$slots:{right:[IXe]},$$scope:{ctx:i}}}),e.$on("click",i[6].selectTrackers);let s=i[3].trackables,l=[];for(let a=0;a<s.length;a+=1)l[a]=yM(gM(i,s,a));const o=a=>v(l[a],1,1,()=>{l[a]=null});return{c(){B(e.$$.fragment),t=W();for(let a=0;a<l.length;a+=1)l[a].c();n=Ae()},m(a,u){O(e,a,u),w(a,t,u);for(let c=0;c<l.length;c+=1)l[c].m(a,u);w(a,n,u),r=!0},p(a,u){const c={};if(u&4&&(c.disabled=a[2]),u&1&&(c.title=a[0].required.indexOf("trackables")>-1?"Select Trackables (required)":"Trackables"),u&1073741824&&(c.$$scope={dirty:u,ctx:a}),e.$set(c),u&8){s=a[3].trackables;let f;for(f=0;f<s.length;f+=1){const d=gM(a,s,f);l[f]?(l[f].p(d,u),_(l[f],1)):(l[f]=yM(d),l[f].c(),_(l[f],1),l[f].m(n.parentNode,n))}for(ae(),f=s.length;f<l.length;f+=1)o(f);ue()}},i(a){if(!r){_(e.$$.fragment,a);for(let u=0;u<s.length;u+=1)_(l[u]);r=!0}},o(a){v(e.$$.fragment,a),l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)v(l[u]);r=!1},d(a){I(e,a),a&&y(t),pt(l,a),a&&y(n)}}}function IXe(i){let e;return{c(){e=P("div"),e.textContent=`${Fe.t("general.add","Add")}`,h(e,"class","text-primary"),h(e,"slot","right")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function BXe(i){let e,t,n;return e=new fa({props:{trackable:i[24],hideValue:!0}}),{c(){B(e.$$.fragment),t=W()},m(r,s){O(e,r,s),w(r,t,s),n=!0},p(r,s){const l={};s&8&&(l.trackable=r[24]),e.$set(l)},i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){I(e,r),r&&y(t)}}}function RXe(i){let e,t;return e=new et({props:{icon:vQ}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zXe(i){let e,t;function n(...r){return i[13](i[24],...r)}return e=new He({props:{size:"sm",type:"clear",className:"text-sm  text-red-500",slot:"right",$$slots:{default:[RXe]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&1073741824&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function yM(i){let e,t;return e=new lt({props:{$$slots:{right:[zXe],default:[BXe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1073741832&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function jXe(i){let e,t,n,r;e=new lt({props:{title:"All Official Trackables",$$slots:{right:[OXe]},$$scope:{ctx:i}}});let s=!i[2]&&kM(i);return{c(){B(e.$$.fragment),t=W(),s&&s.c(),n=Ae()},m(l,o){O(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o&1073741828&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[2]?s&&(ae(),v(s,1,1,()=>{s=null}),ue()):s?(s.p(l,o),o&4&&_(s,1)):(s=kM(l),s.c(),_(s,1),s.m(n.parentNode,n))},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){I(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function YXe(i){let e;return{c(){e=P("span"),e.textContent=`${Fe.t("general.preview","Preview")}...`},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function UXe(i){let e,t,n,r,s;return t=new ki({props:{size:22}}),{c(){e=P("span"),B(t.$$.fragment),n=W(),r=P("span"),r.textContent=`${Fe.t("general.generating","Generating")}...`,h(e,"class","mr-2")},m(l,o){w(l,e,o),O(t,e,null),w(l,n,o),w(l,r,o),s=!0},p:Z,i(l){s||(_(t.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),s=!1},d(l){l&&y(e),I(t),l&&y(n),l&&y(r)}}}function WXe(i){let e,t,n,r;const s=[UXe,YXe],l=[];function o(a,u){return a[1]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function wM(i){let e,t;return e=new He({props:{disabled:i[4].length==0,className:"bg-green-500 text-white w-full",$$slots:{default:[qXe]},$$scope:{ctx:i}}}),e.$on("click",i[6].download),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.disabled=n[4].length==0),r&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qXe(i){let e,t,n,r;return e=new et({props:{icon:Ap,className:"mr-2"}}),{c(){B(e.$$.fragment),t=W(),n=P("span"),n.textContent=`${Fe.t("general.download","Download")}`},m(s,l){O(e,s,l),w(s,t,l),w(s,n,l),r=!0},p:Z,i(s){r||(_(e.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),s&&y(n)}}}function HXe(i){let e,t,n,r,s,l,o,a,u,c;function f(k){i[14](k)}let d={listItem:!0,type:"date",label:Fe.t("general.start-date","Start Date")};i[3].start!==void 0&&(d.value=i[3].start),e=new Wn({props:d}),Oe.push(()=>Qe(e,"value",f,i[3].start));function m(k){i[15](k)}let p={listItem:!0,type:"date",label:Fe.t("general.end-date","End Date")};i[3].end!==void 0&&(p.value=i[3].end),r=new Wn({props:p}),Oe.push(()=>Qe(r,"value",m,i[3].end)),a=new He({props:{disabled:i[1],className:"text-primary-50 w-full bg-primary-500",$$slots:{default:[WXe]},$$scope:{ctx:i}}}),a.$on("click",i[6].generateCSV);let g=i[4].length&&wM(i);return{c(){B(e.$$.fragment),n=W(),B(r.$$.fragment),l=W(),o=P("div"),B(a.$$.fragment),u=W(),g&&g.c(),h(o,"class","p-4 flex items-center space-x-2")},m(k,$){O(e,k,$),w(k,n,$),O(r,k,$),w(k,l,$),w(k,o,$),O(a,o,null),D(o,u),g&&g.m(o,null),c=!0},p(k,$){const C={};!t&&$&8&&(t=!0,C.value=k[3].start,tt(()=>t=!1)),e.$set(C);const E={};!s&&$&8&&(s=!0,E.value=k[3].end,tt(()=>s=!1)),r.$set(E);const S={};$&2&&(S.disabled=k[1]),$&1073741826&&(S.$$scope={dirty:$,ctx:k}),a.$set(S),k[4].length?g?(g.p(k,$),$&16&&_(g,1)):(g=wM(k),g.c(),_(g,1),g.m(o,null)):g&&(ae(),v(g,1,1,()=>{g=null}),ue())},i(k){c||(_(e.$$.fragment,k),_(r.$$.fragment,k),_(a.$$.fragment,k),_(g),c=!0)},o(k){v(e.$$.fragment,k),v(r.$$.fragment,k),v(a.$$.fragment,k),v(g),c=!1},d(k){I(e,k),k&&y(n),I(r,k),k&&y(l),k&&y(o),I(a),g&&g.d()}}}function $M(i){let e,t=i[4].filter(CM),n=[];for(let r=0;r<t.length;r+=1)n[r]=EM(pM(i,t,r));return{c(){e=P("table");for(let r=0;r<n.length;r+=1)n[r].c();h(e,"class","border border-gray-500 p-2 w-full rounded-lg ")},m(r,s){w(r,e,s);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(r,s){if(s&16){t=r[4].filter(CM);let l;for(l=0;l<t.length;l+=1){const o=pM(r,t,l);n[l]?n[l].p(o,s):(n[l]=EM(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){r&&y(e),pt(n,r)}}}function FM(i){let e,t=(i[21]||"")+"",n;return{c(){e=P("td"),n=K(t),h(e,"class","cell text-xs p-2 border border-gray-500 text-gray-600 font-mono dark:text-gray-300")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&16&&t!==(t=(r[21]||"")+"")&&de(n,t)},d(r){r&&y(e)}}}function EM(i){let e,t,n=i[18],r=[];for(let s=0;s<n.length;s+=1)r[s]=FM(_M(i,n,s));return{c(){e=P("tr");for(let s=0;s<r.length;s+=1)r[s].c();t=W()},m(s,l){w(s,e,l);for(let o=0;o<r.length;o+=1)r[o].m(e,null);D(e,t)},p(s,l){if(l&16){n=s[18];let o;for(o=0;o<n.length;o+=1){const a=_M(s,n,o);r[o]?r[o].p(a,l):(r[o]=FM(a),r[o].c(),r[o].m(e,t))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){s&&y(e),pt(r,s)}}}function VXe(i){let e,t,n,r,s,l,o,a,u,c,f;t=new jt({props:{solo:!0,className:"pt-2 mb-4",$$slots:{default:[LXe]},$$scope:{ctx:i}}}),l=new jt({props:{solo:!0,className:"pt-2 mb-4",$$slots:{default:[jXe]},$$scope:{ctx:i}}}),a=new jt({props:{solo:!0,$$slots:{default:[HXe]},$$scope:{ctx:i}}});let d=i[4].length>1&&$M(i);return{c(){e=P("div"),B(t.$$.fragment),n=W(),r=P("div"),r.textContent="Which trackables would you like to include?",s=W(),B(l.$$.fragment),o=W(),B(a.$$.fragment),u=W(),c=P("div"),d&&d.c(),h(r,"class","list-note"),h(c,"class","csv-preview overflow-y-auto py-4 px-2"),h(e,"class","csv pt-4")},m(m,p){w(m,e,p),O(t,e,null),D(e,n),D(e,r),D(e,s),O(l,e,null),D(e,o),O(a,e,null),D(e,u),D(e,c),d&&d.m(c,null),f=!0},p(m,p){const g={};p&1073741841&&(g.$$scope={dirty:p,ctx:m}),t.$set(g);const k={};p&1073741837&&(k.$$scope={dirty:p,ctx:m}),l.$set(k);const $={};p&1073741850&&($.$$scope={dirty:p,ctx:m}),a.$set($),m[4].length>1?d?d.p(m,p):(d=$M(m),d.c(),d.m(c,null)):d&&(d.d(1),d=null)},i(m){f||(_(t.$$.fragment,m),_(l.$$.fragment,m),_(a.$$.fragment,m),f=!0)},o(m){v(t.$$.fragment,m),v(l.$$.fragment,m),v(a.$$.fragment,m),f=!1},d(m){m&&y(e),I(t),I(l),I(a),d&&d.d()}}}function xXe(i){let e,t;return e=new Li({props:{$$slots:{default:[VXe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1073741855&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function GXe(i){let e;return{c(){e=P("h1"),e.textContent="Export to CSV",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function ZXe(i){let e,t;return e=new Ph({props:{slot:"left",to:"/"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function XXe(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{left:[ZXe],default:[GXe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1073741824&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function KXe(i){let e,t;return e=new Is({props:{pageTitle:"Export your Data",className:"Export",$$slots:{header:[XXe],default:[xXe]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&1073741855&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}const CM=(i,e)=>e<10;function JXe(i,e,t){let n,r;Le(i,en,S=>t(17,n=S)),Le(i,k0e,S=>t(10,r=S));let s=[{type:"column",required:["trackables"],label:"Trackable Per Column",description:"Each day is a row, with each trackable and its value a column"},{type:"detailed",required:[],label:"Note View",description:"Each Note containing any matching trackables"}],l=s[0],o=!1,a=!0,u={trackables:[],start:Te().subtract(1,"month").format("YYYY-MM-DD"),end:Te().format("YYYY-MM-DD")},c,f,d=!a,m=[];const p={async generateCSV(){t(1,o=!0);const S=await dn.query({start:c,end:f,fresh:!0,caller:"csv"});return l.type==="column"?(t(1,o=!0),t(4,m=await AXe(S,u.trackables,n.trackables)),t(1,o=!1)):t(4,m=PXe(S,u.trackables)),t(1,o=!1),setTimeout(()=>{const T=document.querySelector(".csv-preview");T&&T.scrollIntoView({behavior:"smooth"})},400),m},async download(){let S=`export-${c.format("YYYY-M-D")}-${f.format("YYYY-M-D")}.${Jn(6)}.6.3.0.csv`;kh.csv(S,m.join(`\r
`)),await Ps(120),at.stopBlocker(),t(1,o=!1)},async selectTrackers(){const S=await Ch();t(3,u.trackables=hf([...u.trackables,...S],"tag"),u),t(4,m=[])},export(){}};Yt(()=>{});const g=S=>{t(0,l=S),t(4,m=[])};function k(S){a=S,t(2,a)}const $=(S,T)=>{t(3,u.trackables=u.trackables.filter(M=>M.tag!==S.tag),u)};function C(S){i.$$.not_equal(u.start,S)&&(u.start=S,t(3,u),t(2,a),t(9,d),t(10,r))}function E(S){i.$$.not_equal(u.end,S)&&(u.end=S,t(3,u),t(2,a),t(9,d),t(10,r))}return i.$$.update=()=>{i.$$.dirty&1540&&a!==d&&(t(9,d=a),a?t(3,u.trackables=r,u):t(3,u.trackables=[],u)),i.$$.dirty&136&&u.start&&Te(u.start,"YYYY-MM-DD")!==c&&(t(7,c=Te(u.start,"YYYY-MM-DD")),t(4,m=[])),i.$$.dirty&264&&u.end&&Te(u.end,"YYYY-MM-DD")!==f&&(t(8,f=Te(u.end,"YYYY-MM-DD")),t(4,m=[])),i.$$.dirty&11&&l.required.indexOf("trackables")>-1&&u.trackables.length>0},[l,o,a,u,m,s,p,c,f,d,r,g,k,$,C,E]}class QXe extends pe{constructor(e){super(),me(this,e,JXe,KXe,he,{})}}function eKe(i,e,t){let n;const r=dw();return Le(i,r,s=>t(1,n=s)),i.$$.update=()=>{i.$$.dirty&2&&(document.body.dataset.path=`${n.pathname}`)},[r,n]}class tKe extends pe{constructor(e){super(),me(this,e,eKe,null,he,{})}}function DM(i){let e,t;return e=new He({props:{className:"bg-primary-500 text-white",shape:"round",size:"sm",$$slots:{default:[nKe]},$$scope:{ctx:i}}}),e.$on("click",i[8]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nKe(i){let e=Fe.t("general.save","Save Changes")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function iKe(i){let e,t,n=i[1].label!==i[0].label&&DM(i);return{c(){e=P("div"),n&&n.c(),h(e,"slot","right")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[1].label!==r[0].label?n?(n.p(r,s),s&3&&_(n,1)):(n=DM(r),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function rKe(i){let e,t,n,r;function s(o){i[9](o)}let l={listItem:!0,label:"Dashboard Label",placeholder:"Dashboard Label",type:"text",$$slots:{right:[iKe]},$$scope:{ctx:i}};return i[1].label!==void 0&&(l.value=i[1].label),t=new Wn({props:l}),Oe.push(()=>Qe(t,"value",s,i[1].label)),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","bg-white rounded-md dark:bg-black mt-4 ")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};a&65539&&(u.$$scope={dirty:a,ctx:o}),!n&&a&2&&(n=!0,u.value=o[1].label,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function sKe(i){let e=i[15].token.raw+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&32768&&e!==(e=n[15].token.raw+"")&&de(t,e)},i:Z,o:Z,d(n){n&&y(t)}}}function lKe(i){var n;let e,t;return e=new fa({props:{transparent:!0,trackable:i[3].trackables[(n=i[15].token)==null?void 0:n.raw],hideValue:!0,size:32}}),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){var o;const l={};s&32776&&(l.trackable=r[3].trackables[(o=r[15].token)==null?void 0:o.raw]),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function oKe(i){var o;let e=((o=i[2].find(l))==null?void 0:o.label)+"",t,n,r=i[15].timeRange+"",s;function l(...a){return i[13](i[15],...a)}return{c(){t=K(e),n=W(),s=K(r)},m(a,u){w(a,t,u),w(a,n,u),w(a,s,u)},p(a,u){var c;i=a,u&32772&&e!==(e=((c=i[2].find(l))==null?void 0:c.label)+"")&&de(t,e),u&32768&&r!==(r=i[15].timeRange+"")&&de(s,r)},d(a){a&&y(t),a&&y(n),a&&y(s)}}}function aKe(i){var c,f;let e,t=((c=i[2].find(a))==null?void 0:c.emoji)+"",n,r,s,l=((f=i[2].find(u))==null?void 0:f.label)+"",o;function a(...d){return i[11](i[15],...d)}function u(...d){return i[12](i[15],...d)}return{c(){e=P("span"),n=K(t),r=W(),s=P("span"),o=K(l),h(e,"class","text-2xl")},m(d,m){w(d,e,m),D(e,n),w(d,r,m),w(d,s,m),D(s,o)},p(d,m){var p,g;i=d,m&32772&&t!==(t=((p=i[2].find(a))==null?void 0:p.emoji)+"")&&de(n,t),m&32772&&l!==(l=((g=i[2].find(u))==null?void 0:g.label)+"")&&de(o,l)},d(d){d&&y(e),d&&y(r),d&&y(s)}}}function uKe(i){let e,t,n,r,s,l,o,a,u,c,f,d;n=new et({props:{icon:Qa,className:"text-white",size:12}});function m(){return i[10](i[15])}const p=[lKe,sKe],g=[];function k(S,T){var M,R;return S[15].token&&((R=S[3])==null?void 0:R.trackables[(M=S[15].token)==null?void 0:M.raw])?0:S[15].token?1:-1}~(s=k(i))&&(l=g[s]=p[s](i));function $(S,T){return S[15].type=="plugin"?aKe:oKe}let C=$(i),E=C(i);return{c(){e=P("div"),t=P("button"),B(n.$$.fragment),r=W(),l&&l.c(),o=W(),a=P("div"),E.c(),h(t,"class","delete-button"),h(a,"class","text-gray-500 text-sm"),h(e,"class",u=`mock-widget animate-shake
        ${i[15].size=="sm"?"w-40 lg:w-60":""} 
        ${i[15].size=="md"?"w-80 lg:w-80":""} 
        ${i[15].size=="lg"?"w-96":""} 
      `)},m(S,T){w(S,e,T),D(e,t),O(n,t,null),D(e,r),~s&&g[s].m(e,null),D(e,o),D(e,a),E.m(a,null),c=!0,f||(d=Se(t,"click",m),f=!0)},p(S,T){i=S;let M=s;s=k(i),s===M?~s&&g[s].p(i,T):(l&&(ae(),v(g[M],1,1,()=>{g[M]=null}),ue()),~s?(l=g[s],l?l.p(i,T):(l=g[s]=p[s](i),l.c()),_(l,1),l.m(e,o)):l=null),C===(C=$(i))&&E?E.p(i,T):(E.d(1),E=C(i),E&&(E.c(),E.m(a,null))),(!c||T&32768&&u!==(u=`mock-widget animate-shake
        ${i[15].size=="sm"?"w-40 lg:w-60":""} 
        ${i[15].size=="md"?"w-80 lg:w-80":""} 
        ${i[15].size=="lg"?"w-96":""} 
      `))&&h(e,"class",u)},i(S){c||(_(n.$$.fragment,S),_(l),c=!0)},o(S){v(n.$$.fragment,S),v(l),c=!1},d(S){S&&y(e),I(n),~s&&g[s].d(),E.d(),f=!1,d()}}}function SM(i){let e,t;return e=new Th({props:{direction:"xy",className:"",items:i[1].widgets,key:"id",$$slots:{default:[uKe,({item:n})=>({15:n}),({item:n})=>n?32768:0]},$$scope:{ctx:i}}}),e.$on("update",i[14]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.items=n[1].widgets),r&98316&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function cKe(i){let e,t,n,r=i[1].hash,s;t=new Li({props:{size:"md",className:"px-4 lg:px-0",$$slots:{default:[rKe]},$$scope:{ctx:i}}});let l=SM(i);return{c(){e=P("section"),B(t.$$.fragment),n=W(),l.c(),h(e,"class","max-w-full w-96 lg:w-full lg:max-w-screen-xl mx-auto")},m(o,a){w(o,e,a),O(t,e,null),D(e,n),l.m(e,null),s=!0},p(o,[a]){const u={};a&65539&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),a&2&&he(r,r=o[1].hash)?(ae(),v(l,1,1,Z),ue(),l=SM(o),l.c(),_(l,1),l.m(e,null)):l.p(o,a)},i(o){s||(_(t.$$.fragment,o),_(l),s=!0)},o(o){v(t.$$.fragment,o),v(l),s=!1},d(o){o&&y(e),I(t),l.d(o)}}}function fKe(i,e,t){let n,r;Le(i,ls,C=>t(7,n=C)),Le(i,en,C=>t(3,r=C));let{dashboard:s}=e;const l=Ut();let o,a=[],u=!1;const c=async C=>{await at.confirm("Remove Widget?","You can always add it back later.")&&await Zj(C),t(1,o.widgets=s.widgets,o)};Yt(()=>{t(6,u=!0)});const f=()=>{l("save",o)};function d(C){i.$$.not_equal(o.label,C)&&(o.label=C,t(1,o),t(0,s))}const m=C=>c(C),p=(C,E)=>E.data&&E.data.pluginId===C.data.pluginId,g=(C,E)=>E.data&&E.data.pluginId===C.data.pluginId,k=(C,E)=>E.id===C.type,$=C=>{t(1,o.widgets=C.detail,o),t(1,o=new Kd(o)),l("update",o)};return i.$$set=C=>{"dashboard"in C&&t(0,s=C.dashboard)},i.$$.update=()=>{i.$$.dirty&196&&u&&!a.length&&t(2,a=bw(n)),i.$$.dirty&3&&s&&!o&&(t(1,o=new Kd(s)),t(1,o.widgets=hf(o.widgets,"id"),o))},[s,o,a,r,l,c,u,n,f,d,m,p,g,k,$]}class dKe extends pe{constructor(e){super(),me(this,e,fKe,cKe,he,{dashboard:0})}}function hKe(i){let e,t;return e=new zi({props:{className:"mt-6",title:Fe.t("dashboard.empty-dashboard","Empty Dashboard"),description:Fe.t("dashboard.starter-message","Mix and match charts, notes, and other widgets to create your own custom views of your life."),buttonLabel:Fe.t("dashboard.add-a-widget","Add a Widget..."),buttonClick:i[0]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mKe(i){return[()=>{rk()}]}class pKe extends pe{constructor(e){super(),me(this,e,mKe,hKe,he,{})}}function TM(i,e,t){const n=i.slice();return n[2]=e[t],n[4]=t,n}function AM(i,e){let t,n=e[2].label+"",r,s,l,o,a;function u(){return e[1](e[4])}return{key:i,first:null,c(){t=P("button"),r=K(n),s=W(),h(t,"class",l="tab board-"+e[2].id+" whitespace-nowrap truncate-1 "+(e[4]==e[0].activeIndex?"selected":"inactive opacity-80")),this.first=t},m(c,f){w(c,t,f),D(t,r),D(t,s),o||(a=Se(t,"click",u),o=!0)},p(c,f){e=c,f&1&&n!==(n=e[2].label+"")&&de(r,n),f&1&&l!==(l="tab board-"+e[2].id+" whitespace-nowrap truncate-1 "+(e[4]==e[0].activeIndex?"selected":"inactive opacity-80"))&&h(t,"class",l)},d(c){c&&y(t),o=!1,a()}}}function _Ke(i){let e=[],t=new Map,n,r=i[0].dashboards||[];const s=l=>l[2].id;for(let l=0;l<r.length;l+=1){let o=TM(i,r,l),a=s(o);t.set(a,e[l]=AM(a,o))}return{c(){for(let l=0;l<e.length;l+=1)e[l].c();n=Ae()},m(l,o){for(let a=0;a<e.length;a+=1)e[a].m(l,o);w(l,n,o)},p(l,o){o&1&&(r=l[0].dashboards||[],e=Pi(e,o,s,1,l,r,t,n.parentNode,ef,AM,n,TM))},d(l){for(let o=0;o<e.length;o+=1)e[o].d(l);l&&y(n)}}}function gKe(i){let e,t;return e=new Fh({props:{centerIfPossible:!0,activeIndex:i[0].activeIndex,className:"n-dashboard-tabs filler",wrapperClass:"space-x-4",$$slots:{default:[_Ke]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.activeIndex=n[0].activeIndex),r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function vKe(i,e,t){let n;return Le(i,oa,s=>t(0,n=s)),[n,s=>{Xj(s)}]}class bKe extends pe{constructor(e){super(),me(this,e,vKe,gKe,he,{})}}function kKe(i,e){let t=[],n={};e.forEach(l=>{let o=l.trackers.find(a=>a.id==i);if(o){let u=Te(l.end).format("YYYY-MM-DD");n[u]=n[u]||[],(!n[u].end||n[u].end>l.end)&&(n[u].end=l.end);let c=Te(l.end).subtract(o.value,"second").toDate().getTime();(!n[u].start||n[u].start>c)&&(n[u].start=c)}else console.error("Tracker not found?",l)}),t=Object.keys(n).map(l=>({...n[l],date:l,hours:Nt.round(Te(n[l].end).diff(Te(n[l].start),"minute")/60,100),startTimeFormatted:Te(n[l].start).format("h:mm a"),endTimeFormatted:Te(n[l].end).format("h:mm a"),startTime:Te(n[l].start).format("HHmm"),endTime:Te(n[l].end).format("HHmm"),percent:0}));let r=t.map(l=>l.hours),s=Nt.percentile(r);return t=t.map((l,o)=>(l.percent=s[o],l)),t}function PM(i,e,t){const n=i.slice();return n[4]=e[t],n}function yKe(i){let e,t=i[7].message+"",n;return{c(){e=K("error"),n=K(t)},m(r,s){w(r,e,s),w(r,n,s)},p:Z,d(r){r&&y(e),r&&y(n)}}}function wKe(i){let e,t,n=i[0],r=[];for(let s=0;s<n.length;s+=1)r[s]=NM(PM(i,n,s));return{c(){e=P("div"),t=P("div");for(let s=0;s<r.length;s+=1)r[s].c();h(t,"class","days svelte-rtowbd"),h(e,"class","time-graph svelte-rtowbd")},m(s,l){w(s,e,l),D(e,t);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(s,l){if(l&1){n=s[0];let o;for(o=0;o<n.length;o+=1){const a=PM(s,n,o);r[o]?r[o].p(a,l):(r[o]=NM(a),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(s){s&&y(e),pt(r,s)}}}function NM(i){let e,t,n;return{c(){e=P("div"),t=P("div"),n=W(),h(t,"class","bar svelte-rtowbd"),gt(t,"height",i[4].percent+"%"),h(e,"class","day svelte-rtowbd")},m(r,s){w(r,e,s),D(e,t),D(e,n)},p(r,s){s&1&&gt(t,"height",r[4].percent+"%")},d(r){r&&y(e)}}}function $Ke(i){let e;return{c(){e=K("Loading...")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function FKe(i){let e,t={ctx:i,current:null,token:null,hasCatch:!0,pending:$Ke,then:wKe,catch:yKe,value:3,error:7};return qk(i[1](),t),{c(){e=Ae(),t.block.c()},m(n,r){w(n,e,r),t.block.m(n,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(n,[r]){i=n,Hk(t,i,r)},i:Z,o:Z,d(n){n&&y(e),t.block.d(n),t.token=null,t=null}}}function EKe(i,e,t){let{widget:n}=e,r=[];async function s(){t(0,r=kKe(n.token.id,n.logs))}return i.$$set=l=>{"widget"in l&&t(2,n=l.widget)},[r,s,n]}class CKe extends pe{constructor(e){super(),me(this,e,EKe,FKe,he,{widget:2})}}function MM(i,e,t){const n=i.slice();return n[2]=e[t],n}function LM(i){let e,t,n,r=i[2].focus.emoji+"",s,l,o,a=i[2].focus.label+"",u,c;return{c(){e=P("div"),t=P("div"),n=P("div"),s=K(r),l=W(),o=P("div"),u=K(a),c=W(),h(n,"class","-mt-6 text-4xl"),h(t,"class","bar w-full rounded-2xl text-center"),gt(t,"height",i[2].score+"%"),gt(t,"background-color",i[2].focus.color),h(o,"class","label my-2 leading-tight text-center text-sm"),h(e,"class","focus-column")},m(f,d){w(f,e,d),D(e,t),D(t,n),D(n,s),D(e,l),D(e,o),D(o,u),D(e,c)},p(f,d){d&1&&r!==(r=f[2].focus.emoji+"")&&de(s,r),d&1&&gt(t,"height",f[2].score+"%"),d&1&&gt(t,"background-color",f[2].focus.color),d&1&&a!==(a=f[2].focus.label+"")&&de(u,a)},d(f){f&&y(e)}}}function DKe(i){let e,t=i[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=LM(MM(i,t,r));return{c(){e=P("div");for(let r=0;r<n.length;r+=1)n[r].c();h(e,"class","focus-graph")},m(r,s){w(r,e,s);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(r,[s]){if(s&1){t=r[0];let l;for(l=0;l<t.length;l+=1){const o=MM(r,t,l);n[l]?n[l].p(o,s):(n[l]=LM(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},i:Z,o:Z,d(r){r&&y(e),pt(n,r)}}}function SKe(i,e,t){let{scores:n=[]}=e,r=[];return i.$$set=s=>{"scores"in s&&t(1,n=s.scores)},i.$$.update=()=>{if(i.$$.dirty&2&&n){const s=Nt.percentile(n.map(l=>l.score));t(0,r=n.map((l,o)=>({score:s[o],focus:l.focus})))}},[r,n]}class TKe extends pe{constructor(e){super(),me(this,e,SKe,DKe,he,{scores:1})}}function AKe(i){let e,t=i[5].message+"",n;return{c(){e=K("error"),n=K(t)},m(r,s){w(r,e,s),w(r,n,s)},p:Z,i:Z,o:Z,d(r){r&&y(e),r&&y(n)}}}function PKe(i){let e,t,n;return t=new TKe({props:{scores:i[0]}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","mind-body-spirit flex item-center justify-center h-full")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.scores=r[0]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function NKe(i){let e;return{c(){e=K("Loading...")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function MKe(i){let e,t,n={ctx:i,current:null,token:null,hasCatch:!0,pending:NKe,then:PKe,catch:AKe,value:4,error:5,blocks:[,,,]};return qk(i[1](),n),{c(){e=Ae(),n.block.c()},m(r,s){w(r,e,s),n.block.m(r,n.anchor=s),n.mount=()=>e.parentNode,n.anchor=e,t=!0},p(r,[s]){i=r,Hk(n,i,s)},i(r){t||(_(n.block),t=!0)},o(r){for(let s=0;s<3;s+=1){const l=n.blocks[s];v(l)}t=!1},d(r){r&&y(e),n.block.d(r),n.token=null,n=null}}}function LKe(i,e,t){let n;Le(i,en,o=>t(3,n=o));let{logs:r}=e,s=[];async function l(){return t(0,s=dY(r,n.trackables)),s}return i.$$set=o=>{"logs"in o&&t(2,r=o.logs)},[s,l,r]}class OKe extends pe{constructor(e){super(),me(this,e,LKe,MKe,he,{logs:2})}}function OM(i){let e,t;function n(l,o){return l[2]?BKe:IKe}let r=n(i),s=r(i);return{c(){e=P("div"),t=P("div"),s.c(),h(t,"class","current"),h(e,"class","value last-used h-full flex flex-col items-center justify-center space-y-2")},m(l,o){w(l,e,o),D(e,t),s.m(t,null)},p(l,o){r===(r=n(l))&&s?s.p(l,o):(s.d(1),s=r(l),s&&(s.c(),s.m(t,null)))},d(l){l&&y(e),s.d()}}}function IKe(i){let e;return{c(){e=P("div"),e.textContent="Unknown"},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function BKe(i){let e,t,n=i[1].formatValue(i[3])+"",r,s,l,o=Te(i[2]).fromNow()+"",a,u,c,f=Te(i[2]).format(`${i[4].mmm_d_yyyy} ${i[4].time} `)+"",d;return{c(){e=P("div"),t=P("div"),r=K(n),s=W(),l=P("div"),a=K(o),u=W(),c=P("div"),d=K(f),h(t,"class","text-2xl font-bold text-solid ml-1"),h(l,"class","text-base line-clamp-1 font-medium"),h(e,"class","mb-1 dark:text-white break-words leading-tight px-2 text-center"),h(c,"class","text-xs font-normal leading-tight text-gray-500")},m(m,p){w(m,e,p),D(e,t),D(t,r),D(e,s),D(e,l),D(l,a),w(m,u,p),w(m,c,p),D(c,d)},p(m,p){p&10&&n!==(n=m[1].formatValue(m[3])+"")&&de(r,n),p&4&&o!==(o=Te(m[2]).fromNow()+"")&&de(a,o),p&4&&f!==(f=Te(m[2]).format(`${m[4].mmm_d_yyyy} ${m[4].time} `)+"")&&de(d,f)},d(m){m&&y(e),m&&y(u),m&&y(c)}}}function RKe(i){let e,t=i[0]&&OM(i);return{c(){t&&t.c(),e=Ae()},m(n,r){t&&t.m(n,r),w(n,e,r)},p(n,[r]){n[0]?t?t.p(n,r):(t=OM(n),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Z,o:Z,d(n){t&&t.d(n),n&&y(e)}}}function zKe(i,e,t){let n;Le(i,sl,f=>t(7,n=f));let{widget:r}=e,{trackable:s}=e,{usage:l}=e,o=pi(),a,u,c;return i.$$set=f=>{"widget"in f&&t(0,r=f.widget),"trackable"in f&&t(1,s=f.trackable),"usage"in f&&t(5,l=f.usage)},i.$$.update=()=>{i.$$.dirty&194&&n[s.tag]&&(t(6,c=n[s.tag].last),c&&(t(2,a=new Date(c.d)),t(3,u=c.v)))},[r,s,a,u,o,l,c,n]}class jKe extends pe{constructor(e){super(),me(this,e,zKe,RKe,he,{widget:0,trackable:1,usage:5})}}function IM(i){let e,t,n;return t=new ev({props:{id:`usage-${Jn(i[0].id)}`,hideValues:i[0].size=="sm",usages:[i[2]],type:i[1],className:"w-full"}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","chart-value relative h-full svelte-10sb5n7")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.id=`usage-${Jn(r[0].id)}`),s&1&&(l.hideValues=r[0].size=="sm"),s&4&&(l.usages=[r[2]]),s&2&&(l.type=r[1]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function YKe(i){let e,t,n=i[0]&&IM(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=IM(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function UKe(i,e,t){let n;Le(i,Ht,a=>t(4,n=a));let{widget:r}=e,{usage:s}=e,l="bar",o;return i.$$set=a=>{"widget"in a&&t(0,r=a.widget),"usage"in a&&t(3,s=a.usage)},i.$$.update=()=>{i.$$.dirty&25&&s&&(["last-365","this-year"].indexOf(r.timeframe.details.id)>-1?t(2,o=s.reverse().groupBy("week","YYYY-MM-D").backfill(r.getStartDate(n.weekStarts).toDate(),r.getEndDate(n.weekStarts).toDate())):t(2,o=s.reverse().byDay.backfill(r.getStartDate(n.weekStarts).toDate(),r.getEndDate(n.weekStarts).toDate()))),i.$$.dirty&9&&s&&(r.type=="barchart"?t(1,l="bar"):t(1,l="line"))},[r,l,o,s,n]}class WKe extends pe{constructor(e){super(),me(this,e,UKe,YKe,he,{widget:0,usage:3})}}function qKe(i){var r;let e,t=(((r=i[1])==null?void 0:r.totalDisplay)||0)+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","mb-2 text-3xl leading-tight")},m(s,l){w(s,e,l),D(e,n)},p(s,l){var o;l&2&&t!==(t=(((o=s[1])==null?void 0:o.totalDisplay)||0)+"")&&de(n,t)},i:Z,o:Z,d(s){s&&y(e)}}}function HKe(i){let e,t=(i[1].totalDisplay||0)+"",n,r,s,l;return s=new Dl({props:{className:"w-20 mx-auto h-2 bg-gray-500 bg-opacity-40",percentage:Nt.percentage(i[1].trackable.tracker.max||10,i[1].total)}}),{c(){e=P("div"),n=K(t),r=W(),B(s.$$.fragment),h(e,"class","mb-2 text-3xl leading-tight")},m(o,a){w(o,e,a),D(e,n),w(o,r,a),O(s,o,a),l=!0},p(o,a){(!l||a&2)&&t!==(t=(o[1].totalDisplay||0)+"")&&de(n,t);const u={};a&2&&(u.percentage=Nt.percentage(o[1].trackable.tracker.max||10,o[1].total)),s.$set(u)},i(o){l||(_(s.$$.fragment,o),l=!0)},o(o){v(s.$$.fragment,o),l=!1},d(o){o&&y(e),o&&y(r),I(s,o)}}}function BM(i){let e,t,n,r=i[1].trackable.formatValue(Nt.average(i[1].byDay.values))+"",s;return{c(){e=P("div"),t=K("Avg "),n=P("span"),s=K(r),h(n,"class","font-bold"),h(e,"class","avg text-primary-500 font-medium text-sm mt-1")},m(l,o){w(l,e,o),D(e,t),D(e,n),D(n,s)},p(l,o){o&2&&r!==(r=l[1].trackable.formatValue(Nt.average(l[1].byDay.values))+"")&&de(s,r)},d(l){l&&y(e)}}}function VKe(i){let e,t,n,r,s,l,o;const a=[HKe,qKe],u=[];function c(d,m){var p,g,k;return((k=(g=(p=d[1])==null?void 0:p.trackable)==null?void 0:g.tracker)==null?void 0:k.type)==="range"?0:1}n=c(i),r=u[n]=a[n](i);let f=i[0].includeAvg&&i[1]&&BM(i);return{c(){e=P("div"),t=P("div"),r.c(),s=W(),f&&f.c(),h(t,"class","current dark:text-white h-full w-full flex items-center justify-center flex-col"),h(e,"class",l="value px-4 flex flex-col items-center h-full justify-center "+(i[0].includeAvg?"value-sm":""))},m(d,m){w(d,e,m),D(e,t),u[n].m(t,null),D(e,s),f&&f.m(e,null),o=!0},p(d,[m]){let p=n;n=c(d),n===p?u[n].p(d,m):(ae(),v(u[p],1,1,()=>{u[p]=null}),ue(),r=u[n],r?r.p(d,m):(r=u[n]=a[n](d),r.c()),_(r,1),r.m(t,null)),d[0].includeAvg&&d[1]?f?f.p(d,m):(f=BM(d),f.c(),f.m(e,null)):f&&(f.d(1),f=null),(!o||m&1&&l!==(l="value px-4 flex flex-col items-center h-full justify-center "+(d[0].includeAvg?"value-sm":"")))&&h(e,"class",l)},i(d){o||(_(r),o=!0)},o(d){v(r),o=!1},d(d){d&&y(e),u[n].d(),f&&f.d()}}}function xKe(i,e,t){let{widget:n}=e,{usage:r}=e;return i.$$set=s=>{"widget"in s&&t(0,n=s.widget),"usage"in s&&t(1,r=s.usage)},[n,r]}class GKe extends pe{constructor(e){super(),me(this,e,xKe,VKe,he,{widget:0,usage:1})}}function ZKe(i){let e,t,n,r,s=i[3].length>1&&RM(i),l=i[2]>-1&&zM(i),o=i[3].length>1&&jM(i);return{c(){e=P("div"),s&&s.c(),t=W(),l&&l.c(),n=W(),o&&o.c(),h(e,"class","note-navigator flex items-start px-2 sm:px-0 h-full space-x-1")},m(a,u){w(a,e,u),s&&s.m(e,null),D(e,t),l&&l.m(e,null),D(e,n),o&&o.m(e,null),r=!0},p(a,u){a[3].length>1?s?(s.p(a,u),u&8&&_(s,1)):(s=RM(a),s.c(),_(s,1),s.m(e,t)):s&&(ae(),v(s,1,1,()=>{s=null}),ue()),a[2]>-1?l?(l.p(a,u),u&4&&_(l,1)):(l=zM(a),l.c(),_(l,1),l.m(e,n)):l&&(ae(),v(l,1,1,()=>{l=null}),ue()),a[3].length>1?o?(o.p(a,u),u&8&&_(o,1)):(o=jM(a),o.c(),_(o,1),o.m(e,null)):o&&(ae(),v(o,1,1,()=>{o=null}),ue())},i(a){r||(_(s),_(l),_(o),r=!0)},o(a){v(s),v(l),v(o),r=!1},d(a){a&&y(e),s&&s.d(),l&&l.d(),o&&o.d()}}}function XKe(i){let e;return{c(){e=P("div"),e.textContent=`${Fe.t("general.no-note-found","No note found")}`,h(e,"class","empty value")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function RM(i){let e,t;return e=new He({props:{title:"Previous Note",className:"tap-icon",icon:!0,$$slots:{default:[KKe]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function KKe(i){let e,t;return e=new et({props:{icon:gB}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zM(i){let e,t,n,r,s,l=i[3][i[2]].endDayjs().format(`${i[4].date}`)+"",o,a,u=i[3][i[2]].endDayjs().fromNow()+"",c,f;return n=new b$({props:{className:(i[0].size==="sm"?"text-xs":"text-sm")+" leading-tight",note:i[3][i[2]].note}}),n.$on("noteChange",i[7]),{c(){e=P("div"),t=P("div"),B(n.$$.fragment),r=W(),s=P("div"),o=K(l),a=K(`
          - `),c=K(u),h(t,"class","text-center overflow-y-auto max-h-36"),h(s,"class","text-center leading-tight text-xs line-clamp-2 w-full mt-2 text-gray-500"),h(e,"class","note-wrapper flex flex-col h-full w-full max-h-full items-center justify-center "),gt(e,"font-size","12px")},m(d,m){w(d,e,m),D(e,t),O(n,t,null),D(e,r),D(e,s),D(s,o),D(s,a),D(s,c),f=!0},p(d,m){const p={};m&1&&(p.className=(d[0].size==="sm"?"text-xs":"text-sm")+" leading-tight"),m&12&&(p.note=d[3][d[2]].note),n.$set(p),(!f||m&12)&&l!==(l=d[3][d[2]].endDayjs().format(`${d[4].date}`)+"")&&de(o,l),(!f||m&12)&&u!==(u=d[3][d[2]].endDayjs().fromNow()+"")&&de(c,u)},i(d){f||(_(n.$$.fragment,d),f=!0)},o(d){v(n.$$.fragment,d),f=!1},d(d){d&&y(e),I(n)}}}function jM(i){let e,t;return e=new He({props:{title:"Next note",className:"tap-icon",icon:!0,$$slots:{default:[JKe]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function JKe(i){let e,t;return e=new et({props:{icon:vB}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function QKe(i){let e,t,n,r;const s=[XKe,ZKe],l=[];function o(a,u){return a[1]?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function eJe(i,e,t){let{widget:n}=e,{usage:r}=e,s=-1,l=pi(),o=[];const a=()=>{s==0?t(2,s=o.length-1):t(2,s=s-1)},u=()=>{s>=o.length-1?t(2,s=0):t(2,s=s+1)},c=f=>{Ym(f.detail,o[s])};return i.$$set=f=>{"widget"in f&&t(0,n=f.widget),"usage"in f&&t(1,r=f.usage)},i.$$.update=()=>{i.$$.dirty&2&&r&&r.logs.length>0&&(t(2,s=0),t(3,o=r.logs.sort((f,d)=>f.end<d.end?1:-1)))},[n,r,s,o,l,a,u,c]}class tJe extends pe{constructor(e){super(),me(this,e,eJe,QKe,he,{widget:0,usage:1})}}function nJe(i){let e,t,n,r=i[0].formatValue(i[1].min.value)+"",s,l,o,a,u,c,f=Te(i[1].min.date).format(i[2].shortDate)+"",d,m,p,g,k=i[0].formatValue(i[1].max.value)+"",$,C,E,S,T,M,R=Te(i[1].max.date).format(i[2].shortDate)+"",Y,z,j;return{c(){e=P("div"),t=P("div"),n=P("div"),s=K(r),l=W(),o=P("div"),a=P("span"),a.textContent="Min",u=W(),c=P("button"),d=K(f),m=W(),p=P("div"),g=P("div"),$=K(k),C=W(),E=P("div"),S=P("span"),S.textContent="Max",T=W(),M=P("button"),Y=K(R),h(n,"class","value"),h(a,"class","label"),h(c,"class","date"),h(o,"class","label-date"),h(t,"class","min mm-block"),h(g,"class","value"),h(S,"class","label"),h(M,"class","date"),h(E,"class","label-date"),h(p,"class","min mm-block"),h(e,"class","min-max-widget")},m(V,x){w(V,e,x),D(e,t),D(t,n),D(n,s),D(t,l),D(t,o),D(o,a),D(o,u),D(o,c),D(c,d),D(e,m),D(e,p),D(p,g),D(g,$),D(p,C),D(p,E),D(E,S),D(E,T),D(E,M),D(M,Y),z||(j=[Se(c,"click",i[3]),Se(M,"click",i[4])],z=!0)},p(V,[x]){x&3&&r!==(r=V[0].formatValue(V[1].min.value)+"")&&de(s,r),x&6&&f!==(f=Te(V[1].min.date).format(V[2].shortDate)+"")&&de(d,f),x&3&&k!==(k=V[0].formatValue(V[1].max.value)+"")&&de($,k),x&6&&R!==(R=Te(V[1].max.date).format(V[2].shortDate)+"")&&de(Y,R)},i:Z,o:Z,d(V){V&&y(e),z=!1,Ot(j)}}}function iJe(i,e,t){let n,{trackable:r}=e,{usage:s}=e;const l=()=>af(s.min.date.toDate()),o=()=>af(s.max.date.toDate());return i.$$set=a=>{"trackable"in a&&t(0,r=a.trackable),"usage"in a&&t(1,s=a.usage)},t(2,n=pi()),[r,s,n,l,o]}class rJe extends pe{constructor(e){super(),me(this,e,iJe,nJe,he,{trackable:0,usage:1})}}function YM(i){let e,t;return e=new ev({props:{id:"positivity-chart",usages:[i[1]]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.usages=[n[1]]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sJe(i){let e,t,n=i[0]&&i[0].length&&YM(i);return{c(){e=P("div"),n&&n.c(),h(e,"class","value")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,[s]){r[0]&&r[0].length?n?(n.p(r,s),s&1&&_(n,1)):(n=YM(r),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function lJe(i,e,t){let{widget:n}=e,{logs:r}=e,{usage:s}=e,l,o=[];return i.$$set=a=>{"widget"in a&&t(2,n=a.widget),"logs"in a&&t(0,r=a.logs),"usage"in a&&t(3,s=a.usage)},i.$$.update=()=>{var a;i.$$.dirty&17&&r&&r.length&&(t(4,o=r.map(u=>{let c=`#int_score(${u.score||0})`;return new gn({note:c,end:u.end})})),t(1,l=(a=_o(o)["#int_score"])==null?void 0:a.byDay))},[r,l,n,s,o]}class oJe extends pe{constructor(e){super(),me(this,e,lJe,sJe,he,{widget:2,logs:0,usage:3})}}function UM(i){let e,t,n;return t=new Ah({props:{height:190,records:i[1].logs}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","map-value relative h-full"),gt(e,"width","100%")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&2&&(l.records=r[1].logs),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function aJe(i){let e,t,n=i[0]&&UM(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=UM(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function uJe(i,e,t){let{widget:n}=e,{usage:r}=e;return i.$$set=s=>{"widget"in s&&t(0,n=s.widget),"usage"in s&&t(1,r=s.usage)},[n,r]}class cJe extends pe{constructor(e){super(),me(this,e,uJe,aJe,he,{widget:0,usage:1})}}function fJe(i){let e;return{c(){e=K("Streaks currently only support Trackers")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function dJe(i){let e,t;return{c(){e=P("div"),t=K(i[1]),h(e,"class","calendar-wrapper svelte-fhlbio")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&2&&de(t,n[1])},d(n){n&&y(e)}}}function hJe(i){let e;function t(s,l){return s[0]&&s[0].token.type=="tracker"?dJe:fJe}let n=t(i),r=n(i);return{c(){r.c(),e=Ae()},m(s,l){r.m(s,l),w(s,e,l)},p(s,[l]){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e.parentNode,e)))},i:Z,o:Z,d(s){r.d(s),s&&y(e)}}}function mJe(i,e,t){let{widget:n}=e,r=0;async function s(){let l=n.stats._stats.getStreakData();t(1,r=l.streak)}return Yt(s),i.$$set=l=>{"widget"in l&&t(0,n=l.widget)},[n,r]}class pJe extends pe{constructor(e){super(),me(this,e,mJe,hJe,he,{widget:0})}}function _Je(i){let e,t,n,r,s=i[1].length>1&&WM(i),l=i[2]>-1&&qM(i),o=i[1].length>1&&HM(i);return{c(){e=P("div"),s&&s.c(),t=W(),l&&l.c(),n=W(),o&&o.c(),h(e,"class","note-navigator flex items-start px-2 sm:px-0 h-full space-x-1")},m(a,u){w(a,e,u),s&&s.m(e,null),D(e,t),l&&l.m(e,null),D(e,n),o&&o.m(e,null),r=!0},p(a,u){a[1].length>1?s?(s.p(a,u),u&2&&_(s,1)):(s=WM(a),s.c(),_(s,1),s.m(e,t)):s&&(ae(),v(s,1,1,()=>{s=null}),ue()),a[2]>-1?l?(l.p(a,u),u&4&&_(l,1)):(l=qM(a),l.c(),_(l,1),l.m(e,n)):l&&(ae(),v(l,1,1,()=>{l=null}),ue()),a[1].length>1?o?(o.p(a,u),u&2&&_(o,1)):(o=HM(a),o.c(),_(o,1),o.m(e,null)):o&&(ae(),v(o,1,1,()=>{o=null}),ue())},i(a){r||(_(s),_(l),_(o),r=!0)},o(a){v(s),v(l),v(o),r=!1},d(a){a&&y(e),s&&s.d(),l&&l.d(),o&&o.d()}}}function gJe(i){let e,t=Fe.t("general.no-todos-found","No todos found.")+"",n,r,s,l;return{c(){e=P("div"),n=K(t),r=W(),s=P("br"),l=K("Include [] or [x] to turn an entry into a todo"),h(e,"class","text-center px-4 -mt-2 empty value flex items-center justify-center text-gray-500 h-full text-xs")},m(o,a){w(o,e,a),D(e,n),D(e,r),D(e,s),D(e,l)},p:Z,i:Z,o:Z,d(o){o&&y(e)}}}function WM(i){let e,t;return e=new He({props:{title:"Previous Note",className:"tap-icon",icon:!0,$$slots:{default:[vJe]},$$scope:{ctx:i}}}),e.$on("click",i[4]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function vJe(i){let e,t;return e=new et({props:{icon:gB}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qM(i){let e,t,n,r,s,l=i[1][i[2]].endDayjs().format(`${i[3].date}`)+"",o,a,u=i[1][i[2]].endDayjs().fromNow()+"",c,f;return n=new b$({props:{className:(i[0].size==="sm"?"text-xs":"text-sm")+" leading-1",note:i[1][i[2]].note}}),n.$on("noteChange",i[7]),{c(){e=P("div"),t=P("div"),B(n.$$.fragment),r=W(),s=P("div"),o=K(l),a=K(`
          - `),c=K(u),h(t,"class","text-xs overflow-y-auto max-h-36"),h(s,"class","leading-tight text-xs line-clamp-2 w-full mt-2 text-gray-500"),h(e,"class","note-wrapper pb-4 px-2 lg:px-4 pt-2 flex flex-col h-full w-full max-h-full "),gt(e,"font-size","12px")},m(d,m){w(d,e,m),D(e,t),O(n,t,null),D(e,r),D(e,s),D(s,o),D(s,a),D(s,c),f=!0},p(d,m){const p={};m&1&&(p.className=(d[0].size==="sm"?"text-xs":"text-sm")+" leading-1"),m&6&&(p.note=d[1][d[2]].note),n.$set(p),(!f||m&6)&&l!==(l=d[1][d[2]].endDayjs().format(`${d[3].date}`)+"")&&de(o,l),(!f||m&6)&&u!==(u=d[1][d[2]].endDayjs().fromNow()+"")&&de(c,u)},i(d){f||(_(n.$$.fragment,d),f=!0)},o(d){v(n.$$.fragment,d),f=!1},d(d){d&&y(e),I(n)}}}function HM(i){let e,t;return e=new He({props:{title:"Next note",className:"tap-icon",icon:!0,$$slots:{default:[bJe]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function bJe(i){let e,t;return e=new et({props:{icon:vB}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function kJe(i){let e,t,n,r;const s=[gJe,_Je],l=[];function o(a,u){return!a[1]||!a[1].length?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function yJe(i,e,t){let{widget:n}=e,{logs:r=[]}=e,s=-1,l=pi(),o=[];const a=()=>{s==0?t(2,s=o.length-1):t(2,s=s-1)},u=()=>{s>=o.length-1?t(2,s=0):t(2,s=s+1)},c=f=>{Ym(f.detail,o[s])};return i.$$set=f=>{"widget"in f&&t(0,n=f.widget),"logs"in f&&t(6,r=f.logs)},i.$$.update=()=>{i.$$.dirty&64&&t(1,o=r.filter(f=>f.hasTodo)),i.$$.dirty&2&&o.length>0&&t(2,s=0)},[n,o,s,l,a,u,r,c]}class wJe extends pe{constructor(e){super(),me(this,e,yJe,kJe,he,{widget:0,logs:6})}}function $Je(i){let e;return{c(){e=P("div"),e.textContent="Plugin not found or disabled",h(e,"class","w-full h-full flex text-xs text-gray-500 items-center justify-center")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function FJe(i){let e,t;return e=new $w({props:{lid:"widget-"+i[0].id,openAction:"onWidget",plugin:i[1],widgetindexparam:i[2]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.lid="widget-"+n[0].id),r&2&&(s.plugin=n[1]),r&4&&(s.widgetindexparam=n[2]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function EJe(i){let e,t,n,r;const s=[FJe,$Je],l=[];function o(a,u){return a[1]?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function CJe(i,e,t){let n;Le(i,ls,o=>t(3,n=o));let{widget:r}=e,s,l="";return i.$$set=o=>{"widget"in o&&t(0,r=o.widget)},i.$$.update=()=>{var o;i.$$.dirty&9&&r&&((o=r.data)==null?void 0:o.pluginId)&&(r.data.widgetindex&&t(2,l="&widgetindex="+r.data.widgetindex),t(1,s=n.find(a=>a.id==r.data.pluginId&&a.active==!0)))},[r,s,l,n]}class DJe extends pe{constructor(e){super(),me(this,e,CJe,EJe,he,{widget:0})}}function VM(i){let e,t,n,r,s;const l=[jJe,zJe,RJe,BJe,IJe,OJe,LJe,MJe,NJe,PJe,AJe,TJe,SJe],o=[];function a(u,c){return c[0]&6&&(e=null),e==null&&(e=!!(["barchart","linechart"].indexOf(u[1].type)>-1&&u[2])),e?0:u[1].type=="value"?1:u[1].type=="note"&&u[2]?2:u[1].type=="what-time"?3:u[1].type=="last-used"?4:u[1].type=="focus"?5:u[1].type=="positivity"?6:u[1].type=="min-max"&&u[2]?7:u[1].type=="map"&&u[2]?8:u[1].type=="streak"&&u[2]?9:u[1].type=="todos"&&u[3].length?10:u[1].type=="plugin"?11:12}return t=a(i,[-1,-1]),n=o[t]=l[t](i),{c(){n.c(),r=Ae()},m(u,c){o[t].m(u,c),w(u,r,c),s=!0},p(u,c){let f=t;t=a(u,c),t===f?o[t].p(u,c):(ae(),v(o[f],1,1,()=>{o[f]=null}),ue(),n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(r.parentNode,r))},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){o[t].d(u),u&&y(r)}}}function SJe(i){let e;return{c(){e=P("div"),e.textContent="Not enough data",h(e,"class","value -mt-2 text-xs text-gray-300 flex w-full justify-center items-center h-full dark:text-gray-500")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function TJe(i){let e,t,n;function r(l){i[35](l)}let s={};return i[1]!==void 0&&(s.widget=i[1]),e=new DJe({props:s}),Oe.push(()=>Qe(e,"widget",r,i[1])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o[0]&2&&(t=!0,a.widget=l[1],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function AJe(i){let e,t,n;function r(l){i[34](l)}let s={logs:i[3]};return i[1]!==void 0&&(s.widget=i[1]),e=new wJe({props:s}),Oe.push(()=>Qe(e,"widget",r,i[1])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o[0]&8&&(a.logs=l[3]),!t&&o[0]&2&&(t=!0,a.widget=l[1],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function PJe(i){let e,t,n,r,s;function l(c){i[31](c)}function o(c){i[32](c)}function a(c){i[33](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new pJe({props:u}),Oe.push(()=>Qe(e,"widget",l,i[1])),Oe.push(()=>Qe(e,"trackable",o,i[0])),Oe.push(()=>Qe(e,"usage",a,i[2])),{c(){B(e.$$.fragment)},m(c,f){O(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],tt(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],tt(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],tt(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){I(e,c)}}}function NJe(i){let e,t,n,r,s;function l(c){i[28](c)}function o(c){i[29](c)}function a(c){i[30](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new cJe({props:u}),Oe.push(()=>Qe(e,"widget",l,i[1])),Oe.push(()=>Qe(e,"trackable",o,i[0])),Oe.push(()=>Qe(e,"usage",a,i[2])),{c(){B(e.$$.fragment)},m(c,f){O(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],tt(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],tt(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],tt(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){I(e,c)}}}function MJe(i){let e,t,n,r,s;function l(c){i[25](c)}function o(c){i[26](c)}function a(c){i[27](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new rJe({props:u}),Oe.push(()=>Qe(e,"widget",l,i[1])),Oe.push(()=>Qe(e,"trackable",o,i[0])),Oe.push(()=>Qe(e,"usage",a,i[2])),{c(){B(e.$$.fragment)},m(c,f){O(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],tt(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],tt(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],tt(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){I(e,c)}}}function LJe(i){let e,t,n,r,s,l;function o(d){i[21](d)}function a(d){i[22](d)}function u(d){i[23](d)}function c(d){i[24](d)}let f={};return i[1]!==void 0&&(f.widget=i[1]),i[0]!==void 0&&(f.trackable=i[0]),i[3]!==void 0&&(f.logs=i[3]),i[2]!==void 0&&(f.usage=i[2]),e=new oJe({props:f}),Oe.push(()=>Qe(e,"widget",o,i[1])),Oe.push(()=>Qe(e,"trackable",a,i[0])),Oe.push(()=>Qe(e,"logs",u,i[3])),Oe.push(()=>Qe(e,"usage",c,i[2])),{c(){B(e.$$.fragment)},m(d,m){O(e,d,m),l=!0},p(d,m){const p={};!t&&m[0]&2&&(t=!0,p.widget=d[1],tt(()=>t=!1)),!n&&m[0]&1&&(n=!0,p.trackable=d[0],tt(()=>n=!1)),!r&&m[0]&8&&(r=!0,p.logs=d[3],tt(()=>r=!1)),!s&&m[0]&4&&(s=!0,p.usage=d[2],tt(()=>s=!1)),e.$set(p)},i(d){l||(_(e.$$.fragment,d),l=!0)},o(d){v(e.$$.fragment,d),l=!1},d(d){I(e,d)}}}function OJe(i){let e,t,n,r;function s(a){i[19](a)}function l(a){i[20](a)}let o={};return i[1]!==void 0&&(o.widget=i[1]),i[3]!==void 0&&(o.logs=i[3]),e=new OKe({props:o}),Oe.push(()=>Qe(e,"widget",s,i[1])),Oe.push(()=>Qe(e,"logs",l,i[3])),{c(){B(e.$$.fragment)},m(a,u){O(e,a,u),r=!0},p(a,u){const c={};!t&&u[0]&2&&(t=!0,c.widget=a[1],tt(()=>t=!1)),!n&&u[0]&8&&(n=!0,c.logs=a[3],tt(()=>n=!1)),e.$set(c)},i(a){r||(_(e.$$.fragment,a),r=!0)},o(a){v(e.$$.fragment,a),r=!1},d(a){I(e,a)}}}function IJe(i){let e,t,n,r,s;function l(c){i[16](c)}function o(c){i[17](c)}function a(c){i[18](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new jKe({props:u}),Oe.push(()=>Qe(e,"widget",l,i[1])),Oe.push(()=>Qe(e,"trackable",o,i[0])),Oe.push(()=>Qe(e,"usage",a,i[2])),{c(){B(e.$$.fragment)},m(c,f){O(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],tt(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],tt(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],tt(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){I(e,c)}}}function BJe(i){let e,t,n,r,s;function l(c){i[13](c)}function o(c){i[14](c)}function a(c){i[15](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new CKe({props:u}),Oe.push(()=>Qe(e,"widget",l,i[1])),Oe.push(()=>Qe(e,"trackable",o,i[0])),Oe.push(()=>Qe(e,"usage",a,i[2])),{c(){B(e.$$.fragment)},m(c,f){O(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],tt(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],tt(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],tt(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){I(e,c)}}}function RJe(i){let e,t,n,r,s;function l(c){i[10](c)}function o(c){i[11](c)}function a(c){i[12](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new tJe({props:u}),Oe.push(()=>Qe(e,"widget",l,i[1])),Oe.push(()=>Qe(e,"trackable",o,i[0])),Oe.push(()=>Qe(e,"usage",a,i[2])),{c(){B(e.$$.fragment)},m(c,f){O(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],tt(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],tt(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],tt(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){I(e,c)}}}function zJe(i){let e,t,n,r,s;function l(c){i[7](c)}function o(c){i[8](c)}function a(c){i[9](c)}let u={};return i[1]!==void 0&&(u.widget=i[1]),i[0]!==void 0&&(u.trackable=i[0]),i[2]!==void 0&&(u.usage=i[2]),e=new GKe({props:u}),Oe.push(()=>Qe(e,"widget",l,i[1])),Oe.push(()=>Qe(e,"trackable",o,i[0])),Oe.push(()=>Qe(e,"usage",a,i[2])),{c(){B(e.$$.fragment)},m(c,f){O(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&2&&(t=!0,d.widget=c[1],tt(()=>t=!1)),!n&&f[0]&1&&(n=!0,d.trackable=c[0],tt(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],tt(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){I(e,c)}}}function jJe(i){let e,t,n,r,s;function l(c){i[4](c)}function o(c){i[5](c)}function a(c){i[6](c)}let u={};return i[0]!==void 0&&(u.trackable=i[0]),i[1]!==void 0&&(u.widget=i[1]),i[2]!==void 0&&(u.usage=i[2]),e=new WKe({props:u}),Oe.push(()=>Qe(e,"trackable",l,i[0])),Oe.push(()=>Qe(e,"widget",o,i[1])),Oe.push(()=>Qe(e,"usage",a,i[2])),{c(){B(e.$$.fragment)},m(c,f){O(e,c,f),s=!0},p(c,f){const d={};!t&&f[0]&1&&(t=!0,d.trackable=c[0],tt(()=>t=!1)),!n&&f[0]&2&&(n=!0,d.widget=c[1],tt(()=>n=!1)),!r&&f[0]&4&&(r=!0,d.usage=c[2],tt(()=>r=!1)),e.$set(d)},i(c){s||(_(e.$$.fragment,c),s=!0)},o(c){v(e.$$.fragment,c),s=!1},d(c){I(e,c)}}}function YJe(i){let e,t,n=i[1]&&VM(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[1]?n?(n.p(r,s),s[0]&2&&_(n,1)):(n=VM(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function UJe(i,e,t){let n;Le(i,en,we=>t(36,n=we));let{trackable:r=void 0}=e,{widget:s}=e,{usage:l}=e,{logs:o}=e;Yt(()=>{r&&l&&t(2,l.trackable=r||(n==null?void 0:n.trackables[l.trackable.tag])||l.trackable,l)});function a(we){r=we,t(0,r)}function u(we){s=we,t(1,s)}function c(we){l=we,t(2,l)}function f(we){s=we,t(1,s)}function d(we){r=we,t(0,r)}function m(we){l=we,t(2,l)}function p(we){s=we,t(1,s)}function g(we){r=we,t(0,r)}function k(we){l=we,t(2,l)}function $(we){s=we,t(1,s)}function C(we){r=we,t(0,r)}function E(we){l=we,t(2,l)}function S(we){s=we,t(1,s)}function T(we){r=we,t(0,r)}function M(we){l=we,t(2,l)}function R(we){s=we,t(1,s)}function Y(we){o=we,t(3,o)}function z(we){s=we,t(1,s)}function j(we){r=we,t(0,r)}function V(we){o=we,t(3,o)}function x(we){l=we,t(2,l)}function ee(we){s=we,t(1,s)}function J(we){r=we,t(0,r)}function q(we){l=we,t(2,l)}function le(we){s=we,t(1,s)}function G(we){r=we,t(0,r)}function X(we){l=we,t(2,l)}function se(we){s=we,t(1,s)}function te(we){r=we,t(0,r)}function ie(we){l=we,t(2,l)}function re(we){s=we,t(1,s)}function be(we){s=we,t(1,s)}return i.$$set=we=>{"trackable"in we&&t(0,r=we.trackable),"widget"in we&&t(1,s=we.widget),"usage"in we&&t(2,l=we.usage),"logs"in we&&t(3,o=we.logs)},[r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M,R,Y,z,j,V,x,ee,J,q,le,G,X,se,te,ie,re,be]}class WJe extends pe{constructor(e){super(),me(this,e,UJe,YJe,he,{trackable:0,widget:1,usage:2,logs:3},null,[-1,-1])}}function qJe(i){let e,t=i[0].description+"",n,r,s,l;return{c(){e=P("div"),n=K(t),h(e,"id",i[8]),h(e,"class",r="dashboard-text type-text text-center widget-size-"+i[0].size)},m(o,a){w(o,e,a),D(e,n),s||(l=Se(e,"click",i[16]),s=!0)},p(o,a){a&1&&t!==(t=o[0].description+"")&&de(n,t),a&1&&r!==(r="dashboard-text type-text text-center widget-size-"+o[0].size)&&h(e,"class",r)},i:Z,o:Z,d(o){o&&y(e),s=!1,l()}}}function HJe(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C;const E=[GJe,xJe,VJe],S=[];function T(x,ee){return x[1]?0:x[0].type=="plugin"?1:2}n=T(i),r=S[n]=E[n](i);let M=!i[5]&&xM(i);const R=[JJe,KJe,XJe],Y=[];function z(x,ee){return x[2]?x[3]||x[4]?1:x[2]&&!x[3]?2:-1:0}~(c=z(i))&&(f=Y[c]=R[c](i));let j=i[0].timeRange&&i[0].type!=="plugin"&&GM(i),V=!i[5]&&ZM(i);return{c(){e=P("div"),t=P("div"),r.c(),s=W(),l=P("div"),o=W(),M&&M.c(),a=W(),u=P("div"),f&&f.c(),d=W(),m=P("footer"),j&&j.c(),p=W(),V&&V.c(),g=W(),k=P("div"),h(l,"class","filler"),h(t,"class","flex widget-header px-2 py-1"),h(u,"class","widget-main"),h(k,"class","filler pointer-events-none"),h(m,"class","px-1 flex widget-footer space-x-2 justify-between"),h(e,"class",$="dashboard-widget "+XM(i[0])),h(e,"id",i[8])},m(x,ee){w(x,e,ee),D(e,t),S[n].m(t,null),D(t,s),D(t,l),D(t,o),M&&M.m(t,null),D(e,a),D(e,u),~c&&Y[c].m(u,null),D(e,d),D(e,m),j&&j.m(m,null),D(m,p),V&&V.m(m,null),D(m,g),D(m,k),C=!0},p(x,ee){let J=n;n=T(x),n===J?S[n].p(x,ee):(ae(),v(S[J],1,1,()=>{S[J]=null}),ue(),r=S[n],r?r.p(x,ee):(r=S[n]=E[n](x),r.c()),_(r,1),r.m(t,s)),x[5]?M&&(ae(),v(M,1,1,()=>{M=null}),ue()):M?(M.p(x,ee),ee&32&&_(M,1)):(M=xM(x),M.c(),_(M,1),M.m(t,null));let q=c;c=z(x),c===q?~c&&Y[c].p(x,ee):(f&&(ae(),v(Y[q],1,1,()=>{Y[q]=null}),ue()),~c?(f=Y[c],f?f.p(x,ee):(f=Y[c]=R[c](x),f.c()),_(f,1),f.m(u,null)):f=null),x[0].timeRange&&x[0].type!=="plugin"?j?j.p(x,ee):(j=GM(x),j.c(),j.m(m,p)):j&&(j.d(1),j=null),x[5]?V&&(V.d(1),V=null):V?V.p(x,ee):(V=ZM(x),V.c(),V.m(m,g)),(!C||ee&1&&$!==($="dashboard-widget "+XM(x[0])))&&h(e,"class",$)},i(x){C||(_(r),_(M),_(f),C=!0)},o(x){v(r),v(M),v(f),C=!1},d(x){x&&y(e),S[n].d(),M&&M.d(),~c&&Y[c].d(),j&&j.d(),V&&V.d()}}}function VJe(i){let e,t=i[0].getTitle()+"",n;return{c(){e=P("span"),n=K(t),h(e,"class","capitalize text-xs font-semibold pt-1 pl-1")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].getTitle()+"")&&de(n,t)},i:Z,o:Z,d(r){r&&y(e)}}}function xJe(i){let e;return{c(){e=K(i[6])},m(t,n){w(t,e,n)},p(t,n){n&64&&de(e,t[6])},i:Z,o:Z,d(t){t&&y(e)}}}function GJe(i){let e,t;return e=new fa({props:{hideValue:!0,size:30,transparent:!0,trackable:i[1]}}),e.$on("click",i[9]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.trackable=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xM(i){let e,t;return e=new He({props:{size:"xs",icon:!0,primary:!0,className:"p-1 -mr-1 bg-gray-500 bg-opacity-5 mt-px",$$slots:{default:[ZJe]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ZJe(i){let e,t;return e=new et({props:{icon:Jk,size:16}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function XJe(i){let e;return{c(){e=P("div"),e.textContent="No Value",h(e,"class","flex items-center justify-center px-4 py-6 h-28")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}function KJe(i){let e,t;return e=new WJe({props:{widget:i[0],trackable:i[1],logs:i[4],usage:i[3]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.widget=n[0]),r&2&&(s.trackable=n[1]),r&16&&(s.logs=n[4]),r&8&&(s.usage=n[3]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function JJe(i){let e,t,n;return t=new ki({props:{size:32}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","flex items-center justify-center px-4 py-6 h-28")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function GM(i){let e,t=i[0].getLabel().replace("days","")+"",n,r,s;return{c(){e=P("button"),n=K(t),h(e,"class","")},m(l,o){w(l,e,o),D(e,n),r||(s=Se(e,"click",i[14]),r=!0)},p(l,o){o&1&&t!==(t=l[0].getLabel().replace("days","")+"")&&de(n,t)},d(l){l&&y(e),r=!1,s()}}}function ZM(i){let e,t,n;return{c(){e=P("button"),e.innerHTML='<svg width="13" height="13" viewBox="0 0 13 13" fill="none" xmlns="http://www.w3.org/2000/svg"><rect y="6" width="7" height="7" fill="#868686" fill-opacity="0.31"></rect><rect x="0.5" y="6.5" width="6" height="6" stroke="white" stroke-opacity="0.34"></rect><rect x="3" width="10" height="10" fill="#868686" fill-opacity="0.31"></rect><rect x="3.5" y="0.5" width="9" height="9" stroke="white" stroke-opacity="0.34"></rect></svg>',h(e,"class","text-xs px-1 ")},m(r,s){w(r,e,s),t||(n=Se(e,"click",i[15]),t=!0)},p:Z,d(r){r&&y(e),t=!1,n()}}}function QJe(i){let e,t,n,r;const s=[HJe,qJe],l=[];function o(a,u){return a[0]&&a[0].type!=="text"?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function XM(i){let e=[`type-${i.type}`],t;return i.stats&&(i.type=="last-used"?t=i.stats.daysPast:t=i.math!=="sum"?i.stats.avg:i.stats.sum),t=t||0,i.compareValue&&(t>i.compareValue?e.push(`over widget-${i.compareOverColor}`):t<i.compareValue&&e.push(`over widget-${i.compareUnderColor}`)),e.push(`widget-size-${i.size}`),e.join(" ")}function eQe(i,e,t){let n;Le(i,ls,S=>t(12,n=S));const r=Ut(),s=Jn();let{widget:l}=e,{trackable:o}=e,{loaded:a}=e,{usage:u}=e,{logs:c}=e,{hideTools:f=!1}=e;function d(){Hr(o,{title:o.label})}const m=S=>{const T=[{id:"sm",label:"Small"},{id:"md",label:"Medium"},{id:"lg",label:"Large"}].map(M=>({title:M.label,click(){t(0,l.size=M.id,l),o1(l)}}));by(S,T)},p=S=>{const T=l1.map(M=>({title:M.label,async click(){t(0,l.timeRange=M.id,l);try{await o1(l),qn({message:Fe.t("general.saved","Saved")})}catch(R){qn({message:R.message})}}}));at.popmenu({id:"widget-time-frame",title:"Time Frame",buttons:T})};let g="loading";const k=()=>{gye(l)},$=S=>p(),C=S=>{m(S.target)},E=()=>{r("click")};return i.$$set=S=>{"widget"in S&&t(0,l=S.widget),"trackable"in S&&t(1,o=S.trackable),"loaded"in S&&t(2,a=S.loaded),"usage"in S&&t(3,u=S.usage),"logs"in S&&t(4,c=S.logs),"hideTools"in S&&t(5,f=S.hideTools)},i.$$.update=()=>{if(i.$$.dirty&4097&&l.type=="plugin"){let S=n.find(T=>T.id==l.data.pluginId);S?t(6,g=`${S.emoji} ${S.name}`):t(6,g="Unknown Plugin")}},[l,o,a,u,c,f,g,r,s,d,m,p,n,k,$,C,E]}class tQe extends pe{constructor(e){super(),me(this,e,eQe,QJe,he,{widget:0,trackable:1,loaded:2,usage:3,logs:4,hideTools:5})}}function KM(i,e,t){const n=i.slice();return n[10]=e[t],n}function JM(i){let e,t=i[0].label+"",n,r,s=Te().format(i[4].mmm_d_yyyy)+"",l,o,a;return{c(){e=P("h1"),n=K(t),r=K(" - "),l=K(s),o=W(),a=P("p"),a.textContent="Nomie.app",h(e,"class","text-lg font-bold text-center mt-2 dark:text-white"),h(a,"class","mb-2 text-sm text-center text-primary")},m(u,c){w(u,e,c),D(e,n),D(e,r),D(e,l),w(u,o,c),w(u,a,c)},p(u,c){c&1&&t!==(t=u[0].label+"")&&de(n,t)},d(u){u&&y(e),u&&y(o),u&&y(a)}}}function QM(i){let e,t,n;function r(l){i[5](l)}let s={hideTools:i[1],widget:i[10].widget,trackable:i[10].trackable,usage:i[10].usage,logs:i[10].logs};return i[2]!==void 0&&(s.loaded=i[2]),e=new tQe({props:s}),Oe.push(()=>Qe(e,"loaded",r,i[2])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o&2&&(a.hideTools=l[1]),o&8&&(a.widget=l[10].widget),o&8&&(a.trackable=l[10].trackable),o&8&&(a.usage=l[10].usage),o&8&&(a.logs=l[10].logs),!t&&o&4&&(t=!0,a.loaded=l[2],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function nQe(i){let e,t,n,r,s,l=i[1]&&JM(i),o=i[3],a=[];for(let c=0;c<o.length;c+=1)a[c]=QM(KM(i,o,c));const u=c=>v(a[c],1,1,()=>{a[c]=null});return{c(){e=P("div"),l&&l.c(),t=W(),n=P("div");for(let c=0;c<a.length;c+=1)a[c].c();h(n,"id","widget-grid"),h(n,"class","grid grid-cols-2 lg:grid-cols-6 gap-2 lg:gap-4 lg:gap-6 p-2 lg:p-4 "),h(e,"id","widgets-frame"),h(e,"class",r=i[1]?"bg-gray-100 pt-4 dark:bg-gray-800":"")},m(c,f){w(c,e,f),l&&l.m(e,null),D(e,t),D(e,n);for(let d=0;d<a.length;d+=1)a[d].m(n,null);s=!0},p(c,[f]){if(c[1]?l?l.p(c,f):(l=JM(c),l.c(),l.m(e,t)):l&&(l.d(1),l=null),f&14){o=c[3];let d;for(d=0;d<o.length;d+=1){const m=KM(c,o,d);a[d]?(a[d].p(m,f),_(a[d],1)):(a[d]=QM(m),a[d].c(),_(a[d],1),a[d].m(n,null))}for(ae(),d=o.length;d<a.length;d+=1)u(d);ue()}(!s||f&2&&r!==(r=c[1]?"bg-gray-100 pt-4 dark:bg-gray-800":""))&&h(e,"class",r)},i(c){if(!s){for(let f=0;f<o.length;f+=1)_(a[f]);s=!0}},o(c){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)v(a[f]);s=!1},d(c){c&&y(e),l&&l.d(),pt(a,c)}}}function iQe(i,e,t){let n,r;Le(i,Ht,m=>t(7,n=m)),Le(i,en,m=>t(8,r=m));let{dashboard:s}=e,{showDate:l=!1}=e,o=!1,a=[],u=[],c=pi();const f=async()=>{t(2,o=!1),await Lt(200);const m=r.trackables;let p=hf([...s.widgets],"id"),g=s.timeframe.start,k=s.timeframe.end.add(1,"day");t(3,u=p.map(C=>{let E;return C.token&&(E=rr(C.token,m)),{hash:ia(JSON.stringify(C)),id:C.id,widget:C,trackable:E,usage:void 0,logs:[]}})),a=await dn.query({start:g,end:k,caller:"dashboard-widget-grid"});let $=p.map((C,E)=>{let S=ia(JSON.stringify(C));if(C.token){let T=rr(C.token,m);const M=K6(a,{trackables:[T],start:C.getStartDate(n.weekStarts),end:C.getEndDate(n.weekStarts)}),R=_o(M,{trackables:m}),Y=R[T.tag]?new As(R[T.tag]):void 0;return t(2,o=!0),{id:C.id,widget:C,trackable:T,usage:Y,logs:(Y==null?void 0:Y.logs)||[],hash:S}}else{const T=K6(a,{start:C.getStartDate(n.weekStarts),end:C.getEndDate(n.weekStarts)});return{widget:C,id:C.id,trackable:void 0,usage:void 0,logs:T,hash:S}}});t(3,u=$),t(2,o=!0)};function d(m){o=m,t(2,o)}return i.$$set=m=>{"dashboard"in m&&t(0,s=m.dashboard),"showDate"in m&&t(1,l=m.showDate)},i.$$.update=()=>{i.$$.dirty&1&&s&&f()},[s,l,o,u,c,d]}class rQe extends pe{constructor(e){super(),me(this,e,iQe,nQe,he,{dashboard:0,showDate:1})}}function sQe(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Caret Down Circle"),r=ye("path"),s=ye("path"),h(r,"d","M342.43 238.23l-74.13 89.09a16 16 0 01-24.6 0l-74.13-89.09A16 16 0 01181.86 212h148.28a16 16 0 0112.29 26.23z"),h(s,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-miterlimit","10"),h(s,"stroke-width","32"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function lQe(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class $$ extends pe{constructor(e){super(),me(this,e,lQe,sQe,he,{size:0})}}function oQe(i,e){if(i.match(/^[a-z]+:\/\//i))return i;if(i.match(/^\/\//))return window.location.protocol+i;if(i.match(/^[a-z]+:/i))return i;const t=document.implementation.createHTMLDocument(),n=t.createElement("base"),r=t.createElement("a");return t.head.appendChild(n),t.body.appendChild(r),e&&(n.href=e),r.href=i,r.href}const aQe=(()=>{let i=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(i+=1,`u${e()}${i}`)})();function nc(i){const e=[];for(let t=0,n=i.length;t<n;t++)e.push(i[t]);return e}function U1(i,e){const n=(i.ownerDocument.defaultView||window).getComputedStyle(i).getPropertyValue(e);return n?parseFloat(n.replace("px","")):0}function uQe(i){const e=U1(i,"border-left-width"),t=U1(i,"border-right-width");return i.clientWidth+e+t}function cQe(i){const e=U1(i,"border-top-width"),t=U1(i,"border-bottom-width");return i.clientHeight+e+t}function yq(i,e={}){const t=e.width||uQe(i),n=e.height||cQe(i);return{width:t,height:n}}function fQe(){let i,e;try{e=process}catch{}const t=e&&e.env?e.env.devicePixelRatio:null;return t&&(i=parseInt(t,10),Number.isNaN(i)&&(i=1)),i||window.devicePixelRatio||1}const bl=16384;function dQe(i){(i.width>bl||i.height>bl)&&(i.width>bl&&i.height>bl?i.width>i.height?(i.height*=bl/i.width,i.width=bl):(i.width*=bl/i.height,i.height=bl):i.width>bl?(i.height*=bl/i.width,i.width=bl):(i.width*=bl/i.height,i.height=bl))}function hQe(i,e={}){return i.toBlob?new Promise(t=>{i.toBlob(t,e.type?e.type:"image/png",e.quality?e.quality:1)}):new Promise(t=>{const n=window.atob(i.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),r=n.length,s=new Uint8Array(r);for(let l=0;l<r;l+=1)s[l]=n.charCodeAt(l);t(new Blob([s],{type:e.type?e.type:"image/png"}))})}function W1(i){return new Promise((e,t)=>{const n=new Image;n.decode=()=>e(n),n.onload=()=>e(n),n.onerror=t,n.crossOrigin="anonymous",n.decoding="async",n.src=i})}async function mQe(i){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(i)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function pQe(i,e,t){const n="http://www.w3.org/2000/svg",r=document.createElementNS(n,"svg"),s=document.createElementNS(n,"foreignObject");return r.setAttribute("width",`${e}`),r.setAttribute("height",`${t}`),r.setAttribute("viewBox",`0 0 ${e} ${t}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),r.appendChild(s),s.appendChild(i),mQe(r)}function _Qe(i){const e=i.getPropertyValue("content");return`${i.cssText} content: '${e.replace(/'|"/g,"")}';`}function gQe(i){return nc(i).map(e=>{const t=i.getPropertyValue(e),n=i.getPropertyPriority(e);return`${e}: ${t}${n?" !important":""};`}).join(" ")}function vQe(i,e,t){const n=`.${i}:${e}`,r=t.cssText?_Qe(t):gQe(t);return document.createTextNode(`${n}{${r}}`)}function eL(i,e,t){const n=window.getComputedStyle(i,t),r=n.getPropertyValue("content");if(r===""||r==="none")return;const s=aQe();try{e.className=`${e.className} ${s}`}catch{return}const l=document.createElement("style");l.appendChild(vQe(s,t,n)),e.appendChild(l)}function bQe(i,e){eL(i,e,":before"),eL(i,e,":after")}const tL="application/font-woff",nL="image/jpeg",kQe={woff:tL,woff2:tL,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:nL,jpeg:nL,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function yQe(i){const e=/\.([^./]*?)$/g.exec(i);return e?e[1]:""}function F$(i){const e=yQe(i).toLowerCase();return kQe[e]||""}function wQe(i){return i.split(/,/)[1]}function Rk(i){return i.search(/^(data:)/)!==-1}function wq(i,e){return`data:${e};base64,${i}`}async function $q(i,e,t){const n=await fetch(i,e);if(n.status===404)throw new Error(`Resource "${n.url}" not found`);const r=await n.blob();return new Promise((s,l)=>{const o=new FileReader;o.onerror=l,o.onloadend=()=>{try{s(t({res:n,result:o.result}))}catch(a){l(a)}},o.readAsDataURL(r)})}const d2={};function $Qe(i,e,t){let n=i.replace(/\?.*/,"");return t&&(n=i),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),e?`[${e}]${n}`:n}async function E$(i,e,t){const n=$Qe(i,e,t.includeQueryParams);if(d2[n]!=null)return d2[n];t.cacheBust&&(i+=(/\?/.test(i)?"&":"?")+new Date().getTime());let r;try{const s=await $q(i,t.fetchRequestInit,({res:l,result:o})=>(e||(e=l.headers.get("Content-Type")||""),wQe(o)));r=wq(s,e)}catch(s){r=t.imagePlaceholder||"";let l=`Failed to fetch resource: ${i}`;s&&(l=typeof s=="string"?s:s.message),l&&console.warn(l)}return d2[n]=r,r}async function FQe(i){const e=i.toDataURL();return e==="data:,"?i.cloneNode(!1):W1(e)}async function EQe(i,e){if(i.currentSrc){const s=document.createElement("canvas"),l=s.getContext("2d");s.width=i.clientWidth,s.height=i.clientHeight,l==null||l.drawImage(i,0,0,s.width,s.height);const o=s.toDataURL();return W1(o)}const t=i.poster,n=F$(t),r=await E$(t,n,e);return W1(r)}async function CQe(i){var e;try{if(!((e=i==null?void 0:i.contentDocument)===null||e===void 0)&&e.body)return await rv(i.contentDocument.body,{},!0)}catch{}return i.cloneNode(!1)}async function DQe(i,e){return i instanceof HTMLCanvasElement?FQe(i):i instanceof HTMLVideoElement?EQe(i,e):i instanceof HTMLIFrameElement?CQe(i):i.cloneNode(!1)}const SQe=i=>i.tagName!=null&&i.tagName.toUpperCase()==="SLOT";async function TQe(i,e,t){var n;const r=SQe(i)&&i.assignedNodes?nc(i.assignedNodes()):nc(((n=i.shadowRoot)!==null&&n!==void 0?n:i).childNodes);return r.length===0||i instanceof HTMLVideoElement||await r.reduce((s,l)=>s.then(()=>rv(l,t)).then(o=>{o&&e.appendChild(o)}),Promise.resolve()),e}function AQe(i,e){const t=e.style;if(!t)return;const n=window.getComputedStyle(i);n.cssText?(t.cssText=n.cssText,t.transformOrigin=n.transformOrigin):nc(n).forEach(r=>{let s=n.getPropertyValue(r);r==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),t.setProperty(r,s,n.getPropertyPriority(r))})}function PQe(i,e){i instanceof HTMLTextAreaElement&&(e.innerHTML=i.value),i instanceof HTMLInputElement&&e.setAttribute("value",i.value)}function NQe(i,e){if(i instanceof HTMLSelectElement){const t=e,n=Array.from(t.children).find(r=>i.value===r.getAttribute("value"));n&&n.setAttribute("selected","")}}function MQe(i,e){return e instanceof Element&&(AQe(i,e),bQe(i,e),PQe(i,e),NQe(i,e)),e}async function LQe(i,e){const t=i.querySelectorAll?i.querySelectorAll("use"):[];if(t.length===0)return i;const n={};for(let s=0;s<t.length;s++){const o=t[s].getAttribute("xlink:href");if(o){const a=i.querySelector(o),u=document.querySelector(o);!a&&u&&!n[o]&&(n[o]=await rv(u,e,!0))}}const r=Object.values(n);if(r.length){const s="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg");l.setAttribute("xmlns",s),l.style.position="absolute",l.style.width="0",l.style.height="0",l.style.overflow="hidden",l.style.display="none";const o=document.createElementNS(s,"defs");l.appendChild(o);for(let a=0;a<r.length;a++)o.appendChild(r[a]);i.appendChild(l)}return i}async function rv(i,e,t){return!t&&e.filter&&!e.filter(i)?null:Promise.resolve(i).then(n=>DQe(n,e)).then(n=>TQe(i,n,e)).then(n=>MQe(i,n)).then(n=>LQe(n,e))}const Fq=/url\((['"]?)([^'"]+?)\1\)/g,OQe=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,IQe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function BQe(i){const e=i.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function RQe(i){const e=[];return i.replace(Fq,(t,n,r)=>(e.push(r),t)),e.filter(t=>!Rk(t))}async function zQe(i,e,t,n,r){try{const s=t?oQe(e,t):e,l=F$(e);let o;if(r){const a=await r(s);o=wq(a,l)}else o=await E$(s,l,n);return i.replace(BQe(e),`$1${o}$3`)}catch{}return i}function jQe(i,{preferredFontFormat:e}){return e?i.replace(IQe,t=>{for(;;){const[n,,r]=OQe.exec(t)||[];if(!r)return"";if(r===e)return`src: ${n};`}}):i}function Eq(i){return i.search(Fq)!==-1}async function Cq(i,e,t){if(!Eq(i))return i;const n=jQe(i,t);return RQe(n).reduce((s,l)=>s.then(o=>zQe(o,l,e,t)),Promise.resolve(n))}async function YQe(i,e){var t;const n=(t=i.style)===null||t===void 0?void 0:t.getPropertyValue("background");if(n){const r=await Cq(n,null,e);i.style.setProperty("background",r,i.style.getPropertyPriority("background"))}}async function UQe(i,e){if(!(i instanceof HTMLImageElement&&!Rk(i.src))&&!(i instanceof SVGImageElement&&!Rk(i.href.baseVal)))return;const t=i instanceof HTMLImageElement?i.src:i.href.baseVal,n=await E$(t,F$(t),e);await new Promise((r,s)=>{i.onload=r,i.onerror=s;const l=i;l.decode&&(l.decode=r),i instanceof HTMLImageElement?(i.srcset="",i.src=n):i.href.baseVal=n})}async function WQe(i,e){const n=nc(i.childNodes).map(r=>Dq(r,e));await Promise.all(n).then(()=>i)}async function Dq(i,e){i instanceof Element&&(await YQe(i,e),await UQe(i,e),await WQe(i,e))}function qQe(i,e){const{style:t}=i;e.backgroundColor&&(t.backgroundColor=e.backgroundColor),e.width&&(t.width=`${e.width}px`),e.height&&(t.height=`${e.height}px`);const n=e.style;return n!=null&&Object.keys(n).forEach(r=>{t[r]=n[r]}),i}const iL={};async function rL(i){let e=iL[i];if(e!=null)return e;const n=await(await fetch(i)).text();return e={url:i,cssText:n},iL[i]=e,e}async function sL(i,e){let t=i.cssText;const n=/url\(["']?([^"')]+)["']?\)/g,s=(t.match(/url\([^)]+\)/g)||[]).map(async l=>{let o=l.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,i.url).href),$q(o,e.fetchRequestInit,({result:a})=>(t=t.replace(l,`url(${a})`),[l,a]))});return Promise.all(s).then(()=>t)}function lL(i){if(i==null)return[];const e=[],t=/(\/\*[\s\S]*?\*\/)/gi;let n=i.replace(t,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const a=r.exec(n);if(a===null)break;e.push(a[0])}n=n.replace(r,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,l="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(l,"gi");for(;;){let a=s.exec(n);if(a===null){if(a=o.exec(n),a===null)break;s.lastIndex=o.lastIndex}else o.lastIndex=s.lastIndex;e.push(a[0])}return e}async function HQe(i,e){const t=[],n=[];return i.forEach(r=>{if("cssRules"in r)try{nc(r.cssRules||[]).forEach((s,l)=>{if(s.type===CSSRule.IMPORT_RULE){let o=l+1;const a=s.href,u=rL(a).then(c=>sL(c,e)).then(c=>lL(c).forEach(f=>{try{r.insertRule(f,f.startsWith("@import")?o+=1:r.cssRules.length)}catch(d){console.error("Error inserting rule from remote css",{rule:f,error:d})}})).catch(c=>{console.error("Error loading remote css",c.toString())});n.push(u)}})}catch(s){const l=i.find(o=>o.href==null)||document.styleSheets[0];r.href!=null&&n.push(rL(r.href).then(o=>sL(o,e)).then(o=>lL(o).forEach(a=>{l.insertRule(a,r.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o.toString())})),console.error("Error inlining remote css file",s.toString())}}),Promise.all(n).then(()=>(i.forEach(r=>{if("cssRules"in r)try{nc(r.cssRules||[]).forEach(s=>{t.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${r.href}`,s.toString())}}),t))}function VQe(i){return i.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>Eq(e.style.getPropertyValue("src")))}async function xQe(i,e){if(i.ownerDocument==null)throw new Error("Provided element is not within a Document");const t=nc(i.ownerDocument.styleSheets),n=await HQe(t,e);return VQe(n)}async function GQe(i,e){const t=await xQe(i,e);return(await Promise.all(t.map(r=>{const s=r.parentStyleSheet?r.parentStyleSheet.href:null;return Cq(r.cssText,s,e)}))).join(`
`)}async function ZQe(i,e){const t=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await GQe(i,e);if(t){const n=document.createElement("style"),r=document.createTextNode(t);n.appendChild(r),i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n)}}async function XQe(i,e={}){const{width:t,height:n}=yq(i,e),r=await rv(i,e,!0);return await ZQe(r,e),await Dq(r,e),qQe(r,e),await pQe(r,t,n)}async function KQe(i,e={}){const{width:t,height:n}=yq(i,e),r=await XQe(i,e),s=await W1(r),l=document.createElement("canvas"),o=l.getContext("2d"),a=e.pixelRatio||fQe(),u=e.canvasWidth||t,c=e.canvasHeight||n;return l.width=u*a,l.height=c*a,e.skipAutoScale||dQe(l),l.style.width=`${u}`,l.style.height=`${c}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,l.width,l.height)),o.drawImage(s,0,0,l.width,l.height),l}async function oL(i,e={}){const t=await KQe(i,e);return await hQe(t)}let $m=(i,e,t)=>{let n="",r=encodeURIComponent(e),s=encodeURIComponent(t);switch(i){case"twitter":n=`https://twitter.com/intent/tweet?url=${s}&text=${r}&via=nomieapp&hashtags=quantifedself`;break;case"facebook":n=`https://www.facebook.com/sharer.php?u=${s}`;break;case"linkedin":n=`https://www.linkedin.com/shareArticle?mini=true&url=${s}&title=${r}&summary=&source=nomie.app`;break;case"reddit":n=`https://reddit.com/submit?url=${s}&title=${r}`;break;case"email":n=`mailto:?subject=Check%20out%20Nomie&body=${r}%0A%0A${t}`;break}n&&window.open(n,"_system")};const Sq=(i,e,t)=>{let n=[{title:"Twitter",click(){$m("twitter",i,e)}},{title:"Facebook",click(){$m("facebook",i,e)}},{title:"LinkedIn",click(){$m("linkedin",i,e)}},{title:"Reddit",click(){$m("reddit",i,e)}},{title:"Email",click(){$m("email",i,e)}}];if(navigator.share){if(e)return navigator.share({title:i,url:e});if(t){let r=[t];navigator.share({files:r,title:i})}}else e&&!t?at.popmenu({id:"share",buttons:n}):t&&kh.file(t);return Promise.resolve(null)};function JQe(i){let e,t;return e=new zi({props:{title:"No Dashboard Selected",description:"Create custom dashboards to highlight your data",buttonLabel:"Create a Dashboard",buttonClick:i[14]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function QQe(i){let e,t,n,r,s,l;return e=new Li({props:{size:"xl",$$slots:{default:[iet]},$$scope:{ctx:i}}}),s=new Li({props:{size:"md",$$slots:{default:[het]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),n=P("hr"),r=W(),B(s.$$.fragment),h(n,"class","mt-4 mb-6 border-gray-500 dark:border-opacity-20 dark:border-gray-200 border-opacity-20")},m(o,a){O(e,o,a),w(o,t,a),w(o,n,a),w(o,r,a),O(s,o,a),l=!0},p(o,a){const u={};a&65541&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&65537&&(c.$$scope={dirty:a,ctx:o}),s.$set(c)},i(o){l||(_(e.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){I(e,o),o&&y(t),o&&y(n),o&&y(r),I(s,o)}}}function eet(i){let e,t;return e=new rQe({props:{showDate:i[2],dashboard:i[0].activeDashboard}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4&&(s.showDate=n[2]),r&1&&(s.dashboard=n[0].activeDashboard),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function tet(i){let e,t;return e=new dKe({props:{dashboard:i[0].activeDashboard}}),e.$on("save",i[8]),e.$on("update",i[9]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.dashboard=n[0].activeDashboard),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function net(i){let e,t;return e=new pKe({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function iet(i){let e,t,n,r;const s=[net,tet,eet],l=[];function o(a,u){return a[0].activeDashboard.widgets.length===0?0:a[0].editMode?1:2}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function ret(i){let e;return{c(){e=P("span"),e.textContent="Add Widget",h(e,"class","")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function set(i){let e,t;return e=new et({props:{icon:Tp,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function aL(i){let e,t,n,r;return e=new lt({props:{clickable:!0,bottomLine:24,$$slots:{left:[aet],default:[oet]},$$scope:{ctx:i}}}),e.$on("click",i[11]),n=new lt({props:{bottomLine:24,clickable:!0,$$slots:{left:[cet],default:[uet]},$$scope:{ctx:i}}}),n.$on("click",i[12]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&65536&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&65536&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function oet(i){let e;return{c(){e=K("Share Dashboard View")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function aet(i){let e,t;return e=new et({props:{icon:lB,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function uet(i){let e;return{c(){e=P("span"),e.textContent="Edit Dashboard"},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function cet(i){let e,t;return e=new et({props:{icon:tB,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fet(i){let e;return{c(){e=P("span"),e.textContent="Delete Dashboard",h(e,"class","text-danger")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function det(i){let e,t;return e=new et({props:{icon:Pp,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function het(i){var o,a;let e,t,n,r,s;e=new lt({props:{clickable:!0,bottomLine:24,$$slots:{left:[set],default:[ret]},$$scope:{ctx:i}}}),e.$on("click",i[10]);let l=((a=(o=i[0].activeDashboard)==null?void 0:o.widgets)==null?void 0:a.length)>0&&aL(i);return r=new lt({props:{clickable:!0,$$slots:{left:[det],default:[fet]},$$scope:{ctx:i}}}),r.$on("click",i[13]),{c(){B(e.$$.fragment),t=W(),l&&l.c(),n=W(),B(r.$$.fragment)},m(u,c){O(e,u,c),w(u,t,c),l&&l.m(u,c),w(u,n,c),O(r,u,c),s=!0},p(u,c){var m,p;const f={};c&65536&&(f.$$scope={dirty:c,ctx:u}),e.$set(f),((p=(m=u[0].activeDashboard)==null?void 0:m.widgets)==null?void 0:p.length)>0?l?(l.p(u,c),c&1&&_(l,1)):(l=aL(u),l.c(),_(l,1),l.m(n.parentNode,n)):l&&(ae(),v(l,1,1,()=>{l=null}),ue());const d={};c&65536&&(d.$$scope={dirty:c,ctx:u}),r.$set(d)},i(u){s||(_(e.$$.fragment,u),_(l),_(r.$$.fragment,u),s=!0)},o(u){v(e.$$.fragment,u),v(l),v(r.$$.fragment,u),s=!1},d(u){I(e,u),u&&y(t),l&&l.d(u),u&&y(n),I(r,u)}}}function met(i){let e,t,n,r,s;const l=[QQe,JQe],o=[];function a(u,c){return u[0].activeDashboard?0:1}return e=a(i),t=o[e]=l[e](i),{c(){t.c(),n=W(),r=P("div"),h(r,"class","h-40")},m(u,c){o[e].m(u,c),w(u,n,c),w(u,r,c),s=!0},p(u,c){let f=e;e=a(u),e===f?o[e].p(u,c):(ae(),v(o[f],1,1,()=>{o[f]=null}),ue(),t=o[e],t?t.p(u,c):(t=o[e]=l[e](u),t.c()),_(t,1),t.m(n.parentNode,n))},i(u){s||(_(t),s=!0)},o(u){v(t),s=!1},d(u){o[e].d(u),u&&y(n),u&&y(r)}}}function pet(i){let e,t;return e=new et({props:{className:"text-primary-500",icon:$$,size:32}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function _et(i){let e,t;return e=new He({props:{shape:"round",size:"sm",className:"ml-2 bg-primary-500 text-white w-32",$$slots:{default:[vet]},$$scope:{ctx:i}}}),e.$on("click",i[7]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&65536&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function get(i){let e,t;return e=new bKe({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function vet(i){let e;return{c(){e=K("Done")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function bet(i){let e,t,n,r,s,l;e=new $h({props:{id:"dashboard-menu",menuButtons:i[1],buttonClass:"menu-button-icon",$$slots:{default:[pet]},$$scope:{ctx:i}}});const o=[get,_et],a=[];function u(c,f){return c[0].editMode?1:0}return n=u(i),r=a[n]=o[n](i),{c(){B(e.$$.fragment),t=W(),r.c(),s=Ae()},m(c,f){O(e,c,f),w(c,t,f),a[n].m(c,f),w(c,s,f),l=!0},p(c,f){const d={};f&2&&(d.menuButtons=c[1]),f&65536&&(d.$$scope={dirty:f,ctx:c}),e.$set(d);let m=n;n=u(c),n===m?a[n].p(c,f):(ae(),v(a[m],1,1,()=>{a[m]=null}),ue(),r=a[n],r?r.p(c,f):(r=a[n]=o[n](c),r.c()),_(r,1),r.m(s.parentNode,s))},i(c){l||(_(e.$$.fragment,c),_(r),l=!0)},o(c){v(e.$$.fragment,c),v(r),l=!1},d(c){I(e,c),c&&y(t),a[n].d(c),c&&y(s)}}}function ket(i){let e,t;return e=new Os({props:{slot:"header",className:"pr-8",$$slots:{default:[bet]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&65539&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function yet(i){let e,t;return e=new Is({props:{className:"h-full",$$slots:{header:[ket],default:[met]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&65543&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wet(i,e,t){let n,r;Le(i,oa,E=>t(0,n=E)),Le(i,en,E=>t(6,r=E));let s=[];const l=()=>{var E;return[{title:"Add New Widget",icon:Tp,click(){rk()}},{title:"Add New Dashboard",icon:Xk,click(){kE()}},{title:`Edit ${((E=n.activeDashboard)==null?void 0:E.label)||""}`,disabled:!n.activeDashboard,icon:ca,divider:!0,click(){ag()}}]},o=async()=>{if(await at.confirm("Delete this dashboard?","This cannot be undone"))try{const S=await hye(n.activeDashboard);Xj(0),ui(oa,n.editMode=!1,n)}catch(S){at.error(S.message)}};let a=!1;const u=async()=>{at.blocker("Generating..."),t(2,a=!0);try{await Lt(600);const E=document.getElementById("widgets-frame");let S=await oL(E,{pixelRatio:1});S=await oL(E,{pixelRatio:1});const T=new File([S],`${n.activeDashboard.id.substring(0,5)}-dashboard.png`,{type:"image/png"});return t(2,a=!1),at.stopBlocker(),at.popmenu({title:"Dashboard Report Generated",description:"You can now share this as an image",id:"share-dashboard",buttons:[{title:navigator.share?"Share...":"Download...",click(){Sq(n.activeDashboard.label,void 0,T)}}]}),T}catch(E){at.error(E.message),t(2,a=!1),at.stopBlocker();return}},c=(E,S=!1)=>{try{Jd(E),S||ag()}catch(T){at.error(T.message)}},f=()=>{ag()},d=E=>{c(E.detail)},m=E=>{c(E.detail,!0)},p=()=>rk(),g=async()=>{await u()},k=()=>{ag()},$=()=>{o()},C=()=>{kE()};return i.$$.update=()=>{i.$$.dirty&64&&Object.keys(r.trackables)&&_w(),i.$$.dirty&1&&n&&t(1,s=l())},[n,s,a,o,u,c,r,f,d,m,p,g,k,$,C]}class $et extends pe{constructor(e){super(),me(this,e,wet,yet,he,{})}}function Fet(i){let e,t;return e=new $et({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}class Tq extends pe{constructor(e){super(),me(this,e,null,Fet,he,{})}}const Eet=i=>({}),uL=i=>({});function cL(i,e,t){const n=i.slice();return n[18]=e[t],n}function Cet(i){let e,t,n,r,s;const l=[Aet,Tet],o=[];function a(u,c){return u[4].editMode?u[5]?1:-1:0}return~(t=a(i))&&(n=o[t]=l[t](i)),{c(){e=P("div"),n&&n.c(),h(e,"class",r="n-board-tabs "+i[0])},m(u,c){w(u,e,c),~t&&o[t].m(e,null),s=!0},p(u,c){let f=t;t=a(u),t===f?~t&&o[t].p(u,c):(n&&(ae(),v(o[f],1,1,()=>{o[f]=null}),ue()),~t?(n=o[t],n?n.p(u,c):(n=o[t]=l[t](u),n.c()),_(n,1),n.m(e,null)):n=null),(!s||c&1&&r!==(r="n-board-tabs "+u[0]))&&h(e,"class",r)},i(u){s||(_(n),s=!0)},o(u){v(n),s=!1},d(u){u&&y(e),~t&&o[t].d()}}}function Det(i){let e,t;return{c(){e=P("div"),h(e,"class",t="flex items-center flex-grow flex-shrink n-board-tabs min-h-14 max-h-14 h-14 "+i[0]),h(e,"data-scroll","0")},m(n,r){w(n,e,r)},p(n,r){r&1&&t!==(t="flex items-center flex-grow flex-shrink n-board-tabs min-h-14 max-h-14 h-14 "+n[0])&&h(e,"class",t)},i:Z,o:Z,d(n){n&&y(e)}}}function Tet(i){let e,t,n;function r(l){i[15](l)}let s={containerClass:"w-full items-center flex-nowrap flex overflow-x-auto overflow-y-hidden mx-auto max-w-screen-xl border-2 border-gray-500 border-opacity-20 rounded-full",className:"items-center h-10",handleClass:"board-tab",key:"id",direction:"x",$$slots:{default:[Met,({item:l})=>({21:l}),({item:l})=>l?2097152:0]},$$scope:{ctx:i}};return i[1]!==void 0&&(s.items=i[1]),e=new Th({props:s}),Oe.push(()=>Qe(e,"items",r,i[1])),e.$on("update",i[16]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o&2228228&&(a.$$scope={dirty:o,ctx:l}),!t&&o&2&&(t=!0,a.items=l[1],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function Aet(i){let e,t;return e=new Fh({props:{activeIndex:i[4].activeIndex,wrapperClass:"space-x-2",className:"n-board-tabs overflow-y-hidden",$$slots:{default:[Iet]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.activeIndex=n[4].activeIndex),r&131078&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Pet(i){let e=i[21].label+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&2097152&&e!==(e=n[21].label+"")&&de(t,e)},i:Z,o:Z,d(n){n&&y(t)}}}function Net(i){let e,t;return e=new et({props:{icon:i[21].icon,size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2097152&&(s.icon=n[21].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Met(i){let e,t,n,r,s,l,o,a,u,c,f;n=new et({props:{className:"text-white",icon:ua,size:10}});function d(){return i[14](i[21])}const m=[Net,Pet],p=[];function g(k,$){return k[21].icon?0:1}return l=g(i),o=p[l]=m[l](i),{c(){e=P("div"),t=P("button"),B(n.$$.fragment),r=W(),s=P("button"),o.c(),h(t,"class","rounded-full h-4 w-4 absolute z-50 -right-2 bg-red-500 text-white"),h(s,"class",a="tab animate-shake-big board-tab mt-1 board-"+i[21].id+" "+(i[21]==i[2]?"selected ":"inactive")),h(e,"class","px-1")},m(k,$){w(k,e,$),D(e,t),O(n,t,null),D(e,r),D(e,s),p[l].m(s,null),u=!0,c||(f=Se(t,"click",il(d)),c=!0)},p(k,$){i=k;let C=l;l=g(i),l===C?p[l].p(i,$):(ae(),v(p[C],1,1,()=>{p[C]=null}),ue(),o=p[l],o?o.p(i,$):(o=p[l]=m[l](i),o.c()),_(o,1),o.m(s,null)),(!u||$&2097156&&a!==(a="tab animate-shake-big board-tab mt-1 board-"+i[21].id+" "+(i[21]==i[2]?"selected ":"inactive")))&&h(s,"class",a)},i(k){u||(_(n.$$.fragment,k),_(o),u=!0)},o(k){v(n.$$.fragment,k),v(o),u=!1},d(k){k&&y(e),I(n),p[l].d(),c=!1,f()}}}function Let(i){let e=i[18].label+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&2&&e!==(e=n[18].label+"")&&de(t,e)},i:Z,o:Z,d(n){n&&y(t)}}}function Oet(i){let e,t;return e=new et({props:{icon:i[18].icon,size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.icon=n[18].icon),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fL(i){let e,t,n,r,s,l,o,a;const u=[Oet,Let],c=[];function f(m,p){return m[18].icon?0:1}t=f(i),n=c[t]=u[t](i);function d(){return i[13](i[18])}return{c(){e=P("button"),n.c(),h(e,"title",r=`${i[18].label} board tab`),h(e,"type","menu"),h(e,"class",s="tab board-"+i[18].id+" "+(i[18]==i[2]?"selected":"inactive"))},m(m,p){w(m,e,p),c[t].m(e,null),l=!0,o||(a=Se(e,"click",d),o=!0)},p(m,p){i=m;let g=t;t=f(i),t===g?c[t].p(i,p):(ae(),v(c[g],1,1,()=>{c[g]=null}),ue(),n=c[t],n?n.p(i,p):(n=c[t]=u[t](i),n.c()),_(n,1),n.m(e,null)),(!l||p&2&&r!==(r=`${i[18].label} board tab`))&&h(e,"title",r),(!l||p&6&&s!==(s="tab board-"+i[18].id+" "+(i[18]==i[2]?"selected":"inactive")))&&h(e,"class",s)},i(m){l||(_(n),l=!0)},o(m){v(n),l=!1},d(m){m&&y(e),c[t].d(),o=!1,a()}}}function Iet(i){let e,t,n,r=i[1],s=[];for(let f=0;f<r.length;f+=1)s[f]=fL(cL(i,r,f));const l=f=>v(s[f],1,1,()=>{s[f]=null}),o=i[12].default,a=nt(o,i,i[17],null),u=i[12].right,c=nt(u,i,i[17],uL);return{c(){for(let f=0;f<s.length;f+=1)s[f].c();e=W(),a&&a.c(),t=W(),c&&c.c()},m(f,d){for(let m=0;m<s.length;m+=1)s[m].m(f,d);w(f,e,d),a&&a.m(f,d),w(f,t,d),c&&c.m(f,d),n=!0},p(f,d){if(d&70){r=f[1];let m;for(m=0;m<r.length;m+=1){const p=cL(f,r,m);s[m]?(s[m].p(p,d),_(s[m],1)):(s[m]=fL(p),s[m].c(),_(s[m],1),s[m].m(e.parentNode,e))}for(ae(),m=r.length;m<s.length;m+=1)l(m);ue()}a&&a.p&&(!n||d&131072)&&rt(a,o,f,f[17],n?it(o,f[17],d,null):st(f[17]),null),c&&c.p&&(!n||d&131072)&&rt(c,u,f,f[17],n?it(u,f[17],d,Eet):st(f[17]),uL)},i(f){if(!n){for(let d=0;d<r.length;d+=1)_(s[d]);_(a,f),_(c,f),n=!0}},o(f){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)v(s[d]);v(a,f),v(c,f),n=!1},d(f){pt(s,f),f&&y(e),a&&a.d(f),f&&y(t),c&&c.d(f)}}}function Bet(i){let e,t,n,r;const s=[Det,Cet],l=[];function o(a,u){return a[3]&&a[3].length===1?0:a[3]&&a[3].length>1?1:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=Ae()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,[u]){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function Ret(i,e,t){let n,r,s;Le(i,w0,T=>t(10,n=T)),Le(i,Up,T=>t(3,r=T)),Le(i,Ht,T=>t(11,s=T));let{$$slots:l={},$$scope:o}=e,{boards:a=[]}=e,{className:u=""}=e,{editMode:c=!1}=e;const f=Ut(),d={active:null,activeIndex:0,hasTimers:!1,editMode:!1};let m=!0,p=[],g;async function k(T){await at.confirm("Delete "+T.label+" tab?","You can recreate it later, but it's not super easy.")===!0&&(t(5,m=!1),await c0e(T),t(5,m=!0),qn({message:"Deleted"}))}const $=T=>{f("tabTap",T)},C=T=>{k(T)};function E(T){p=T,t(1,p),t(3,r),t(11,s),t(10,n)}const S=T=>{p0e(T.detail)};return i.$$set=T=>{"boards"in T&&t(8,a=T.boards),"className"in T&&t(0,u=T.className),"editMode"in T&&t(9,c=T.editMode),"$$scope"in T&&t(17,o=T.$$scope)},i.$$.update=()=>{i.$$.dirty&3082&&r&&s&&(t(1,p=r||[]),t(2,g=n),t(1,p),t(3,r),t(11,s),t(10,n)),i.$$.dirty&512&&(c===!0?t(4,d.editMode=!0,d):c===!1&&t(4,d.editMode=!1,d)),i.$$.dirty&260&&a.length&&g&&a.forEach((T,M)=>{T.id==g.id&&T.id!=="_all"&&T.id!=="_timers"&&t(4,d.activeIndex=M,d)})},[u,p,g,r,d,m,f,k,a,c,n,s,l,$,C,E,S,o]}class zet extends pe{constructor(e){super(),me(this,e,Ret,Bet,he,{boards:8,className:0,editMode:9})}}function dL(i,e,t){const n=i.slice();return n[2]=e[t],n}function hL(i){let e,t;return{c(){e=P("div"),h(e,"class","active"),h(e,"style",t=(i[1]?`background-color:${i[1]};`:"")+" --index:"+i[2]+";")},m(n,r){w(n,e,r)},p(n,r){r&3&&t!==(t=(n[1]?`background-color:${n[1]};`:"")+" --index:"+n[2]+";")&&h(e,"style",t)},d(n){n&&y(e)}}}function jet(i){let e,t=i[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=hL(dL(i,t,r));return{c(){e=P("div");for(let r=0;r<n.length;r+=1)n[r].c();h(e,"class","time-balls")},m(r,s){w(r,e,s);for(let l=0;l<n.length;l+=1)n[l].m(e,null)},p(r,[s]){if(s&3){t=r[0];let l;for(l=0;l<t.length;l+=1){const o=dL(r,t,l);n[l]?n[l].p(o,s):(n[l]=hL(o),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},i:Z,o:Z,d(r){r&&y(e),pt(n,r)}}}function Yet(i,e,t){let{hours:n=[]}=e,{color:r=void 0}=e;return i.$$set=s=>{"hours"in s&&t(0,n=s.hours),"color"in s&&t(1,r=s.color)},[n,r]}class Uet extends pe{constructor(e){super(),me(this,e,Yet,jet,he,{hours:0,color:1})}}const Wet=i=>({}),mL=i=>({}),qet=i=>({}),pL=i=>({});function _L(i){let e,t,n,r,s,l;return t=new et({props:{icon:i[12],size:20}}),{c(){e=P("button"),B(t.$$.fragment),h(e,"type","button"),h(e,"aria-label","More about this Trackable"),h(e,"class",n="more "+(Ci.truthy(i[2])?"has-value text-white":"no-value text-gray-500 dark:text-white"))},m(o,a){w(o,e,a),O(t,e,null),r=!0,s||(l=Se(e,"click",i[20]),s=!0)},p(o,a){const u={};a&4096&&(u.icon=o[12]),t.$set(u),(!r||a&4&&n!==(n="more "+(Ci.truthy(o[2])?"has-value text-white":"no-value text-gray-500 dark:text-white")))&&h(e,"class",n)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t),s=!1,l()}}}function gL(i){let e=i[4]||i[5]||i[0],t,n,r=vL(i);return{c(){r.c(),t=Ae()},m(s,l){r.m(s,l),w(s,t,l),n=!0},p(s,l){l&49&&he(e,e=s[4]||s[5]||s[0])?(ae(),v(r,1,1,Z),ue(),r=vL(s),r.c(),_(r,1),r.m(t.parentNode,t)):r.p(s,l)},i(s){n||(_(r),n=!0)},o(s){v(r),n=!1},d(s){s&&y(t),r.d(s)}}}function vL(i){let e,t;return e=new kr({props:{label:i[0],emoji:i[4],src:i[5],size:i[16]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.label=n[0]),r&16&&(s.emoji=n[4]),r&32&&(s.src=n[5]),r&65536&&(s.size=n[16]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function bL(i){let e,t,n;return{c(){e=P("div"),t=K(i[0]),h(e,"class",n="title "+(i[0].length>15?"long":"")+" "+(i[11]?"line-clamp-1":"line-clamp-2"))},m(r,s){w(r,e,s),D(e,t)},p(r,s){s&1&&de(t,r[0]),s&2049&&n!==(n="title "+(r[0].length>15?"long":"")+" "+(r[11]?"line-clamp-1":"line-clamp-2"))&&h(e,"class",n)},d(r){r&&y(e)}}}function kL(i){let e,t;return{c(){e=P("span"),t=K(i[2]),h(e,"class","value")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&4&&de(t,n[2])},d(n){n&&y(e)}}}function yL(i){let e,t;return{c(){e=P("span"),t=K(i[1]),h(e,"class","subtitle")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&2&&de(t,n[1])},d(n){n&&y(e)}}}function Het(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$=(i[4]||i[5]||i[0])&&gL(i);const C=i[19].emoji,E=nt(C,i,i[23],pL),S=i[19].subtitle,T=nt(S,i,i[23],mL),M=i[19].default,R=nt(M,i,i[23],null);let Y=i[0]&&bL(i),z=i[2]&&!i[9]&&kL(i),j=i[1]&&yL(i);return p=new Uet({props:{color:"#FFF",hours:i[14]}}),{c(){e=P("div"),$&&$.c(),t=W(),E&&E.c(),r=W(),s=P("div"),T&&T.c(),l=W(),R&&R.c(),o=W(),a=P("div"),Y&&Y.c(),u=W(),c=P("div"),z&&z.c(),f=W(),j&&j.c(),d=W(),m=P("div"),B(p.$$.fragment),h(e,"class","emoji-holder"),h(e,"style",n=Ci.truthy(i[2])?"color:#FFF":`color:${i[3]}`),h(s,"class","subtitle-slot"),h(c,"class","value-sub"),h(a,"class","title-value"),h(m,"class",g="highlight "+(i[13]?"one-tap":""))},m(V,x){w(V,e,x),$&&$.m(e,null),D(e,t),E&&E.m(e,null),w(V,r,x),w(V,s,x),T&&T.m(s,null),w(V,l,x),R&&R.m(V,x),w(V,o,x),w(V,a,x),Y&&Y.m(a,null),D(a,u),D(a,c),z&&z.m(c,null),D(c,f),j&&j.m(c,null),w(V,d,x),w(V,m,x),O(p,m,null),k=!0},p(V,x){V[4]||V[5]||V[0]?$?($.p(V,x),x&49&&_($,1)):($=gL(V),$.c(),_($,1),$.m(e,t)):$&&(ae(),v($,1,1,()=>{$=null}),ue()),E&&E.p&&(!k||x&8388608)&&rt(E,C,V,V[23],k?it(C,V[23],x,qet):st(V[23]),pL),(!k||x&12&&n!==(n=Ci.truthy(V[2])?"color:#FFF":`color:${V[3]}`))&&h(e,"style",n),T&&T.p&&(!k||x&8388608)&&rt(T,S,V,V[23],k?it(S,V[23],x,Wet):st(V[23]),mL),R&&R.p&&(!k||x&8388608)&&rt(R,M,V,V[23],k?it(M,V[23],x,null):st(V[23]),null),V[0]?Y?Y.p(V,x):(Y=bL(V),Y.c(),Y.m(a,u)):Y&&(Y.d(1),Y=null),V[2]&&!V[9]?z?z.p(V,x):(z=kL(V),z.c(),z.m(c,f)):z&&(z.d(1),z=null),V[1]?j?j.p(V,x):(j=yL(V),j.c(),j.m(c,null)):j&&(j.d(1),j=null);const ee={};x&16384&&(ee.hours=V[14]),p.$set(ee),(!k||x&8192&&g!==(g="highlight "+(V[13]?"one-tap":"")))&&h(m,"class",g)},i(V){k||(_($),_(E,V),_(T,V),_(R,V),_(p.$$.fragment,V),k=!0)},o(V){v($),v(E,V),v(T,V),v(R,V),v(p.$$.fragment,V),k=!1},d(V){V&&y(e),$&&$.d(),E&&E.d(V),V&&y(r),V&&y(s),T&&T.d(V),V&&y(l),R&&R.d(V),V&&y(o),V&&y(a),Y&&Y.d(),z&&z.d(),j&&j.d(),V&&y(d),V&&y(m),I(p)}}}function Vet(i){let e,t,n,r,s,l=!i[8]&&_L(i);return n=new He({props:{id:i[7],ariaLabel:i[0]||"button",title:i[0]||"button",color:"clear",className:"w-full "+i[10]+" "+(i[11]?"compact":"normal")+" shortcut-button "+(Ci.truthy(i[2])?"has-value":"no-value bg-white dark:bg-black")+`
  `+(i[11]?"compact":""),style:[i[6],`--tracker-color:${i[3]};`,i[2]?`background-color:${i[3]};`:""].join(""),$$slots:{default:[Het]},$$scope:{ctx:i}}}),n.$on("longpress",i[21]),n.$on("click",i[22]),{c(){e=P("div"),l&&l.c(),t=W(),B(n.$$.fragment),h(e,"class",r="button-wrapper relative w-full flex-grow flex-shrink "+(i[11]?"compact":"normal"))},m(o,a){w(o,e,a),l&&l.m(e,null),D(e,t),O(n,e,null),s=!0},p(o,[a]){o[8]?l&&(ae(),v(l,1,1,()=>{l=null}),ue()):l?(l.p(o,a),a&256&&_(l,1)):(l=_L(o),l.c(),_(l,1),l.m(e,t));const u={};a&128&&(u.id=o[7]),a&1&&(u.ariaLabel=o[0]||"button"),a&1&&(u.title=o[0]||"button"),a&3076&&(u.className="w-full "+o[10]+" "+(o[11]?"compact":"normal")+" shortcut-button "+(Ci.truthy(o[2])?"has-value":"no-value bg-white dark:bg-black")+`
  `+(o[11]?"compact":"")),a&76&&(u.style=[o[6],`--tracker-color:${o[3]};`,o[2]?`background-color:${o[3]};`:""].join("")),a&8481343&&(u.$$scope={dirty:a,ctx:o}),n.$set(u),(!s||a&2048&&r!==(r="button-wrapper relative w-full flex-grow flex-shrink "+(o[11]?"compact":"normal")))&&h(e,"class",r)},i(o){s||(_(l),_(n.$$.fragment,o),s=!0)},o(o){v(l),v(n.$$.fragment,o),s=!1},d(o){o&&y(e),l&&l.d(),I(n)}}}function xet(i,e,t){let n,{$$slots:r={},$$scope:s}=e,{title:l=void 0}=e,{subtitle:o=void 0}=e,{value:a=void 0}=e,{color:u=void 0}=e,{emoji:c=void 0}=e,{avatar:f=void 0}=e,{style:d=""}=e,{id:m=void 0}=e,{hideMore:p=!1}=e,{hideValue:g=!1}=e,{className:k=""}=e,{compact:$=!1}=e,{moreIcon:C=Jk}=e,{oneTap:E=!1}=e,{hoursUsed:S=[]}=e,T;const M=Ut();async function R(){M("more")}const Y=V=>{V.preventDefault(),V.stopPropagation(),R()},z=()=>{M("longpress"),t(15,T=!0)},j=()=>{T||M("click"),t(15,T=void 0)};return i.$$set=V=>{"title"in V&&t(0,l=V.title),"subtitle"in V&&t(1,o=V.subtitle),"value"in V&&t(2,a=V.value),"color"in V&&t(3,u=V.color),"emoji"in V&&t(4,c=V.emoji),"avatar"in V&&t(5,f=V.avatar),"style"in V&&t(6,d=V.style),"id"in V&&t(7,m=V.id),"hideMore"in V&&t(8,p=V.hideMore),"hideValue"in V&&t(9,g=V.hideValue),"className"in V&&t(10,k=V.className),"compact"in V&&t(11,$=V.compact),"moreIcon"in V&&t(12,C=V.moreIcon),"oneTap"in V&&t(13,E=V.oneTap),"hoursUsed"in V&&t(14,S=V.hoursUsed),"$$scope"in V&&t(23,s=V.$$scope)},i.$$.update=()=>{i.$$.dirty&2048&&t(16,n=$?30:40)},[l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,n,M,R,r,Y,z,j,s]}class Aq extends pe{constructor(e){super(),me(this,e,xet,Vet,he,{title:0,subtitle:1,value:2,color:3,emoji:4,avatar:5,style:6,id:7,hideMore:8,hideValue:9,className:10,compact:11,moreIcon:12,oneTap:13,hoursUsed:14})}}function wL(i,e,t){const n=i.slice();return n[17]=e[t],n[19]=t,n}const Get=i=>({}),$L=i=>({});function FL(i){let e;const t=i[11]["no-results"],n=nt(t,i,i[16],$L);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&65536)&&rt(n,t,r,r[16],e?it(t,r[16],s,Get):st(r[16]),$L)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function EL(i){var l,o;let e,t;function n(){return i[12](i[17])}function r(){return i[13](i[17])}function s(){return i[14](i[17])}return e=new Aq({props:{compact:i[5].compactTrackers,id:i[17].type+"-"+`${i[17].tag}`.replace(/(\#|\@|\+)/gi,""),title:i[17].label,hoursUsed:i[4].usage[i[17].tag]?i[4].usage[i[17].tag].hours:[],subtitle:i[6][i[17].tag]?rs.fromNow((l=i[6][i[17].tag])==null?void 0:l.d):void 0,emoji:i[17].emoji,avatar:i[17].avatar,value:i[4].usage[i[17].tag]?i[4].usage[i[17].tag].displayValue:void 0,oneTap:(o=i[17].tracker)==null?void 0:o.one_tap,color:i[17].color,className:i[17].type+"-"+sp(i[17].tag)+" tracker-board-button",hideMore:i[1],$$slots:{subtitle:[Zet]},$$scope:{ctx:i}}}),e.$on("longpress",n),e.$on("click",r),e.$on("more",s),{c(){B(e.$$.fragment)},m(a,u){O(e,a,u),t=!0},p(a,u){var f,d;i=a;const c={};u&32&&(c.compact=i[5].compactTrackers),u&1&&(c.id=i[17].type+"-"+`${i[17].tag}`.replace(/(\#|\@|\+)/gi,"")),u&1&&(c.title=i[17].label),u&17&&(c.hoursUsed=i[4].usage[i[17].tag]?i[4].usage[i[17].tag].hours:[]),u&65&&(c.subtitle=i[6][i[17].tag]?rs.fromNow((f=i[6][i[17].tag])==null?void 0:f.d):void 0),u&1&&(c.emoji=i[17].emoji),u&1&&(c.avatar=i[17].avatar),u&17&&(c.value=i[4].usage[i[17].tag]?i[4].usage[i[17].tag].displayValue:void 0),u&1&&(c.oneTap=(d=i[17].tracker)==null?void 0:d.one_tap),u&1&&(c.color=i[17].color),u&1&&(c.className=i[17].type+"-"+sp(i[17].tag)+" tracker-board-button"),u&2&&(c.hideMore=i[1]),u&65537&&(c.$$scope={dirty:u,ctx:i}),e.$set(c)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){v(e.$$.fragment,a),t=!1},d(a){I(e,a)}}}function CL(i){let e,t;return e=new _$({props:{initialDuration:i[17].tracker.timeTracked,started:i[17].tracker.started,color:i[17].tracker.color}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.initialDuration=n[17].tracker.timeTracked),r&1&&(s.started=n[17].tracker.started),r&1&&(s.color=n[17].tracker.color),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Zet(i){var r;let e,t,n=((r=i[17].tracker)==null?void 0:r.started)&&CL(i);return{c(){e=P("div"),n&&n.c(),h(e,"slot","subtitle")},m(s,l){w(s,e,l),n&&n.m(e,null),t=!0},p(s,l){var o;(o=s[17].tracker)!=null&&o.started?n?(n.p(s,l),l&1&&_(n,1)):(n=CL(s),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(s){t||(_(n),t=!0)},o(s){v(n),t=!1},d(s){s&&y(e),n&&n.d()}}}function DL(i){let e,t,n=i[17]&&i[17].tag&&EL(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[17]&&r[17].tag?n?(n.p(r,s),s&1&&_(n,1)):(n=EL(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function SL(i){let e,t,n,r,s,l;return t=new et({props:{className:"text-gray-500",icon:xk}}),{c(){e=P("button"),B(t.$$.fragment),h(e,"class",n="addButton filler border border-gray-500 rounded-2xl flex items-center justify-center opacity-25 hover:opacity-100 "+(i[5].compactTrackers?"h-14":"h-28 lg:h-32"))},m(o,a){w(o,e,a),O(t,e,null),r=!0,s||(l=Se(e,"click",i[15]),s=!0)},p(o,a){(!r||a&32&&n!==(n="addButton filler border border-gray-500 rounded-2xl flex items-center justify-center opacity-25 hover:opacity-100 "+(o[5].compactTrackers?"h-14":"h-28 lg:h-32")))&&h(e,"class",n)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t),s=!1,l()}}}function Xet(i){let e,t,n,r,s=!i[0].length&&FL(i),l=i[0],o=[];for(let c=0;c<l.length;c+=1)o[c]=DL(wL(i,l,c));const a=c=>v(o[c],1,1,()=>{o[c]=null});let u=!i[2]&&!i[3]&&SL(i);return{c(){s&&s.c(),e=W(),t=P("div");for(let c=0;c<o.length;c+=1)o[c].c();n=W(),u&&u.c(),h(t,"class","item-grid")},m(c,f){s&&s.m(c,f),w(c,e,f),w(c,t,f);for(let d=0;d<o.length;d+=1)o[d].m(t,null);D(t,n),u&&u.m(t,null),r=!0},p(c,[f]){if(c[0].length?s&&(ae(),v(s,1,1,()=>{s=null}),ue()):s?(s.p(c,f),f&1&&_(s,1)):(s=FL(c),s.c(),_(s,1),s.m(e.parentNode,e)),f&243){l=c[0];let d;for(d=0;d<l.length;d+=1){const m=wL(c,l,d);o[d]?(o[d].p(m,f),_(o[d],1)):(o[d]=DL(m),o[d].c(),_(o[d],1),o[d].m(t,n))}for(ae(),d=l.length;d<o.length;d+=1)a(d);ue()}!c[2]&&!c[3]?u?(u.p(c,f),f&12&&_(u,1)):(u=SL(c),u.c(),_(u,1),u.m(t,null)):u&&(ae(),v(u,1,1,()=>{u=null}),ue())},i(c){if(!r){_(s);for(let f=0;f<l.length;f+=1)_(o[f]);_(u),r=!0}},o(c){v(s),o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);v(u),r=!1},d(c){s&&s.d(c),c&&y(e),c&&y(t),pt(o,c),u&&u.d()}}}function Ket(i,e,t){let n,r,s,l,o;Le(i,Zo,S=>t(4,n=S)),Le(i,en,S=>t(9,r=S)),Le(i,dn,S=>t(10,s=S)),Le(i,Ht,S=>t(5,l=S)),Le(i,Wz,S=>t(6,o=S));let{$$slots:a={},$$scope:u}=e;const c=Ut();let{trackables:f=[]}=e,{hideMore:d=!1}=e,{hideAdd:m=!1}=e,{searching:p=!1}=e,g="";const k=S=>{c("longpress",S)},$=S=>{c("tap",S)},C=S=>{c("more",S)},E=()=>{c("add")};return i.$$set=S=>{"trackables"in S&&t(0,f=S.trackables),"hideMore"in S&&t(1,d=S.hideMore),"hideAdd"in S&&t(2,m=S.hideAdd),"searching"in S&&t(3,p=S.searching),"$$scope"in S&&t(16,u=S.$$scope)},i.$$.update=()=>{i.$$.dirty&1808&&s.hash!==g&&(t(8,g=s.hash),Vu({knownTrackables:r.trackables,date:n.date}))},[f,d,m,p,n,l,o,c,g,r,s,a,k,$,C,E,u]}class Jet extends pe{constructor(e){super(),me(this,e,Ket,Xet,he,{trackables:0,hideMore:1,hideAdd:2,searching:3})}}function Qet(i){let e;const t=i[4].default,n=nt(t,i,i[6],null);return{c(){n&&n.c()},m(r,s){n&&n.m(r,s),e=!0},p(r,s){n&&n.p&&(!e||s&64)&&rt(n,t,r,r[6],e?it(t,r[6],s,null):st(r[6]),null)},i(r){e||(_(n,r),e=!0)},o(r){v(n,r),e=!1},d(r){n&&n.d(r)}}}function ett(i){let e,t,n,r;return t=new Fh({props:{wrapperClass:"swiper-wrapper",captureCenter:!0,$$slots:{default:[Qet]},$$scope:{ctx:i}}}),t.$on("centerElement",i[5]),{c(){e=P("div"),B(t.$$.fragment),h(e,"class",n="n-swiper "+i[1]),h(e,"id",i[0])},m(s,l){w(s,e,l),O(t,e,null),r=!0},p(s,[l]){const o={};l&64&&(o.$$scope={dirty:l,ctx:s}),t.$set(o),(!r||l&2&&n!==(n="n-swiper "+s[1]))&&h(e,"class",n),(!r||l&1)&&h(e,"id",s[0])},i(s){r||(_(t.$$.fragment,s),r=!0)},o(s){v(t.$$.fragment,s),r=!1},d(s){s&&y(e),I(t)}}}function ttt(i,e,t){let{$$slots:n={},$$scope:r}=e;const s=Ut();let{id:l=`sw-${Jn()}`}=e,{className:o=""}=e;const a=c=>{if(c>-1){const f=document.querySelector(`#${l} [data-child-id='${c}']`);f&&f.scrollIntoView()}};Yt(()=>{setTimeout(()=>{const c=document.querySelector(".n-swiper [data-index]");c&&c.classList.add("active-slide")},100)});const u=c=>{const f=c.detail.ele.dataset.childId;isNaN(f)||s("index",f)};return i.$$set=c=>{"id"in c&&t(0,l=c.id),"className"in c&&t(1,o=c.className),"$$scope"in c&&t(6,r=c.$$scope)},[l,o,s,a,n,u,r]}class ntt extends pe{constructor(e){super(),me(this,e,ttt,ett,he,{id:0,className:1,scrollTo:3})}get scrollTo(){return this.$$.ctx[3]}}function itt(i){let e,t,n;function r(l){i[10](l)}let s={type:"text",listItem:!0,placeholder:"Tab Label"};return i[0].label!==void 0&&(s.value=i[0].label),e=new Wn({props:s}),Oe.push(()=>Qe(e,"value",r,i[0].label)),e.$on("input",i[11]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&1&&(t=!0,a.value=l[0].label,tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function rtt(i){let e,t;return e=new jt({props:{solo:!0,$$slots:{default:[itt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&262145&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function stt(i){let e,t,n,r,s;t=new et({props:{icon:Qa,className:"text-white",size:12}});function l(){return i[12](i[17])}return{c(){e=P("button"),B(t.$$.fragment),h(e,"class","delete-button")},m(o,a){w(o,e,a),O(t,e,null),n=!0,r||(s=Se(e,"click",l),r=!0)},p(o,a){i=o},i(o){n||(_(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&y(e),I(t),r=!1,s()}}}function ltt(i){var n,r;let e,t;return e=new Aq({props:{hideMore:!0,style:"width:"+(i[2].size==="xs"?"150px; margin:6px;":i[2].size==="sm"?"150px; margin:8px;":i[2].size==="md"?"150px; margin:10px;":"160px; margin:12px;"),compact:i[3].compactTrackers,id:"tracker-"+i[17].tag,title:i[17].label,hoursUsed:i[4].usage[i[17].tag]?i[4].usage[i[17].tag].hours:[],subtitle:i[5][i[17].tag]?rs.fromNow(i[5][i[17].tag].d):void 0,emoji:(n=i[17].tracker)==null?void 0:n.emoji,value:i[4].usage[i[17].tag]?i[4].usage[i[17].tag].displayValue:void 0,oneTap:(r=i[17].tracker)==null?void 0:r.one_tap,color:i[17].color,className:"tracker-"+i[17].id+" animate-shake tracker-board-button",$$slots:{default:[stt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(s,l){O(e,s,l),t=!0},p(s,l){var a,u;const o={};l&4&&(o.style="width:"+(s[2].size==="xs"?"150px; margin:6px;":s[2].size==="sm"?"150px; margin:8px;":s[2].size==="md"?"150px; margin:10px;":"160px; margin:12px;")),l&8&&(o.compact=s[3].compactTrackers),l&131072&&(o.id="tracker-"+s[17].tag),l&131072&&(o.title=s[17].label),l&131088&&(o.hoursUsed=s[4].usage[s[17].tag]?s[4].usage[s[17].tag].hours:[]),l&131104&&(o.subtitle=s[5][s[17].tag]?rs.fromNow(s[5][s[17].tag].d):void 0),l&131072&&(o.emoji=(a=s[17].tracker)==null?void 0:a.emoji),l&131088&&(o.value=s[4].usage[s[17].tag]?s[4].usage[s[17].tag].displayValue:void 0),l&131072&&(o.oneTap=(u=s[17].tracker)==null?void 0:u.one_tap),l&131072&&(o.color=s[17].color),l&131072&&(o.className="tracker-"+s[17].id+" animate-shake tracker-board-button"),l&393216&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){t||(_(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){I(e,s)}}}function ott(i){let e,t;return e=new Th({props:{key:"id",items:i[1],direction:"xy",$$slots:{default:[ltt,({item:n})=>({17:n}),({item:n})=>n?131072:0]},$$scope:{ctx:i}}}),e.$on("update",i[13]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.items=n[1]),r&393276&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function TL(i){let e,t;return e=new Li({props:{size:"md",$$slots:{default:[ott]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&262207&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function att(i){let e,t,n,r=i[0].elements.length,s;t=new Li({props:{$$slots:{default:[rtt]},$$scope:{ctx:i}}});let l=TL(i);return{c(){e=P("section"),B(t.$$.fragment),n=W(),l.c(),h(e,"aria-label","Edit this Tabs name and trackables")},m(o,a){w(o,e,a),O(t,e,null),D(e,n),l.m(e,null),s=!0},p(o,[a]){const u={};a&262145&&(u.$$scope={dirty:a,ctx:o}),t.$set(u),a&1&&he(r,r=o[0].elements.length)?(ae(),v(l,1,1,Z),ue(),l=TL(o),l.c(),_(l,1),l.m(e,null)):l.p(o,a)},i(o){s||(_(t.$$.fragment,o),_(l),s=!0)},o(o){v(t.$$.fragment,o),v(l),s=!1},d(o){o&&y(e),I(t),l.d(o)}}}function utt(i,e,t){let n,r,s,l,o;Le(i,en,S=>t(9,n=S)),Le(i,Ni,S=>t(2,r=S)),Le(i,Ht,S=>t(3,s=S)),Le(i,Zo,S=>t(4,l=S)),Le(i,Wz,S=>t(5,o=S));let{board:a}=e;const u=Ut();let c,f,d;const m=()=>c.elements.map(S=>f.find(T=>T.tag===S)).filter(S=>S),p=()=>{u("updated",c)},g=async S=>{await at.confirm(`Remove ${S.tag} from this tab?`,"You can always add it back later.")&&(t(0,c.elements=c.elements.filter(M=>M!==S.tag),c),p()),t(0,c),t(8,a),t(9,n),t(1,d=m())};function k(S){i.$$.not_equal(c.label,S)&&(c.label=S,t(0,c),t(8,a),t(9,n))}const $=()=>{p()},C=S=>g(S),E=S=>{let T=S.detail;t(0,c.elements=T.map(M=>new Wi(M).tag),c),p()};return i.$$set=S=>{"board"in S&&t(8,a=S.board)},i.$$.update=()=>{i.$$.dirty&769&&a&&!c&&(t(0,c={...a}),f=Sf(n.trackables),t(1,d=m()))},[c,d,r,s,l,o,p,g,a,n,k,$,C,E]}class ctt extends pe{constructor(e){super(),me(this,e,utt,att,he,{board:8})}}const ftt=async(i,e)=>{let t;if(i.type=="timer")if(i.started){const n=(new Date().getTime()-i.started)/1e3;t=i.toNoteString(n),uj(i)}else aj(i);else i.type!=="note"&&i.type!=="picker"&&(t=i.toNoteString());return t&&t.length?await at.confirm("Save Note?",t)&&(Oi.addElement(t),await xu(Oi.asLog()),await Oi.clear()):i.type!=="timer"&&nv(i,e),!1};function AL(i,e,t){const n=i.slice();return n[33]=e[t],n}function PL(i,e,t){const n=i.slice();return n[36]=e[t],n}function dtt(i){let e,t,n;return t=new ki({props:{size:32}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","loading-box")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function htt(i){let e,t,n={id:"uniboard-swiper",$$slots:{default:[ytt]},$$scope:{ctx:i}};return e=new ntt({props:n}),i[29](e),e.$on("index",i[30]),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){const l={};s[0]&497|s[1]&256&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){i[29](null),I(e,r)}}}function mtt(i){let e,t=[1,2,3,4,5,6],n=[];for(let r=0;r<6;r+=1)n[r]=NL(PL(i,t,r));return{c(){e=P("div");for(let r=0;r<6;r+=1)n[r].c();h(e,"class","item-grid mock")},m(r,s){w(r,e,s);for(let l=0;l<6;l+=1)n[l].m(e,null)},p(r,s){if(s[0]&256){t=[1,2,3,4,5,6];let l;for(l=0;l<6;l+=1){const o=PL(r,t,l);n[l]?n[l].p(o,s):(n[l]=NL(o),n[l].c(),n[l].m(e,null))}for(;l<6;l+=1)n[l].d(1)}},i:Z,o:Z,d(r){r&&y(e),pt(n,r)}}}function ptt(i){let e,t,n,r,s;const l=[gtt,_tt],o=[];function a(c,f){return c[5].editMode?c[5].editMode?1:-1:0}~(e=a(i))&&(t=o[e]=l[e](i));let u=i[4].elements.length===0&&LL(i);return{c(){t&&t.c(),n=W(),u&&u.c(),r=Ae()},m(c,f){~e&&o[e].m(c,f),w(c,n,f),u&&u.m(c,f),w(c,r,f),s=!0},p(c,f){let d=e;e=a(c),e===d?~e&&o[e].p(c,f):(t&&(ae(),v(o[d],1,1,()=>{o[d]=null}),ue()),~e?(t=o[e],t?t.p(c,f):(t=o[e]=l[e](c),t.c()),_(t,1),t.m(n.parentNode,n)):t=null),c[4].elements.length===0?u?(u.p(c,f),f[0]&16&&_(u,1)):(u=LL(c),u.c(),_(u,1),u.m(r.parentNode,r)):u&&(ae(),v(u,1,1,()=>{u=null}),ue())},i(c){s||(_(t),_(u),s=!0)},o(c){v(t),v(u),s=!1},d(c){~e&&o[e].d(c),c&&y(n),u&&u.d(c),c&&y(r)}}}function NL(i){let e,t;return{c(){e=P("div"),h(e,"class",t="mock shortcut h-3 rounded-xl "+(i[8].compactTrackers?"h-14":"h-28 lg:h-32")+" bg-gray-300 opacity-30 animate-pulse dark:bg-gray-700")},m(n,r){w(n,e,r)},p(n,r){r[0]&256&&t!==(t="mock shortcut h-3 rounded-xl "+(n[8].compactTrackers?"h-14":"h-28 lg:h-32")+" bg-gray-300 opacity-30 animate-pulse dark:bg-gray-700")&&h(e,"class",t)},d(n){n&&y(e)}}}function _tt(i){let e,t;return e=new ctt({props:{board:i[4]}}),e.$on("updated",i[28]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&16&&(s.board=n[4]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function gtt(i){let e,t;return e=new Jet({props:{searching:!!i[0],hideAdd:!i[4].elements.length,trackables:i[7],$$slots:{"no-results":[ktt]},$$scope:{ctx:i}}}),e.$on("tap",i[24]),e.$on("more",i[25]),e.$on("add",i[26]),e.$on("longpress",i[27]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1&&(s.searching=!!n[0]),r[0]&16&&(s.hideAdd=!n[4].elements.length),r[0]&128&&(s.trackables=n[7]),r[0]&1|r[1]&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ML(i){let e,t,n,r,s,l,o,a,u,c;return o=new He({props:{size:"sm",clear:!0,primary:!0,$$slots:{default:[vtt]},$$scope:{ctx:i}}}),o.$on("click",i[22]),u=new He({props:{size:"sm",clear:!0,primary:!0,$$slots:{default:[btt]},$$scope:{ctx:i}}}),u.$on("click",i[23]),{c(){e=P("div"),t=P("span"),n=K("No trackables found for '"),r=K(i[0]),s=K("'"),l=W(),B(o.$$.fragment),a=W(),B(u.$$.fragment),h(t,"class","text-gray-500"),h(e,"class","text-center px-4 py-1 flex flex-col space-y-2 max-w-lg mx-auto")},m(f,d){w(f,e,d),D(e,t),D(t,n),D(t,r),D(t,s),D(e,l),O(o,e,null),D(e,a),O(u,e,null),c=!0},p(f,d){(!c||d[0]&1)&&de(r,f[0]);const m={};d[1]&256&&(m.$$scope={dirty:d,ctx:f}),o.$set(m);const p={};d[0]&1|d[1]&256&&(p.$$scope={dirty:d,ctx:f}),u.$set(p)},i(f){c||(_(o.$$.fragment,f),_(u.$$.fragment,f),c=!0)},o(f){v(o.$$.fragment,f),v(u.$$.fragment,f),c=!1},d(f){f&&y(e),I(o),I(u)}}}function vtt(i){let e;return{c(){e=K("Search Everything \u2192")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function btt(i){let e,t,n;return{c(){e=K('Create new "'),t=K(i[0]),n=K('" tracker \u2192')},m(r,s){w(r,e,s),w(r,t,s),w(r,n,s)},p(r,s){s[0]&1&&de(t,r[0])},d(r){r&&y(e),r&&y(t),r&&y(n)}}}function ktt(i){let e,t,n=i[0]&&ML(i);return{c(){e=P("div"),n&&n.c(),h(e,"slot","no-results")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[0]?n?(n.p(r,s),s[0]&1&&_(n,1)):(n=ML(r),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function LL(i){let e,t,n,r,s,l,o,a=i[33].label+"",u,c,f,d,m;return d=new k$({props:{size:"sm",buttons:i[14](),className:"max-w-xs mx-auto rounded-2xl border border-gray-500 border-opacity-30"}}),{c(){e=P("div"),t=P("div"),n=P("div"),r=P("h1"),r.textContent="Empty.",s=W(),l=P("p"),o=K("This is your "),u=K(a),c=K(` board; used to display your trackable buttons. Get started by adding a trackable
                      below.`),f=W(),B(d.$$.fragment),h(r,"class","text-black dark:text-white font-bold mb-1"),h(l,"class","text-xs"),h(n,"class","text-center text-gray-500 dark:text-gray-400 leading-snug px-6 mb-6 lg:mb-10 flex-fill "),h(t,"class","text-center py-4"),h(e,"class","px-4 max-w-md mx-auto pb-10")},m(p,g){w(p,e,g),D(e,t),D(t,n),D(n,r),D(n,s),D(n,l),D(l,o),D(l,u),D(l,c),D(e,f),O(d,e,null),m=!0},p(p,g){(!m||g[0]&64)&&a!==(a=p[33].label+"")&&de(u,a)},i(p){m||(_(d.$$.fragment,p),m=!0)},o(p){v(d.$$.fragment,p),m=!1},d(p){p&&y(e),I(d)}}}function OL(i){let e,t,n,r,s,l;const o=[ptt,mtt],a=[];function u(c,f){var d;return c[4]&&c[4].id===((d=c[33])==null?void 0:d.id)?0:1}return t=u(i),n=a[t]=o[t](i),{c(){var c;e=P("section"),n.c(),r=W(),h(e,"class","min-w-full w-full text-white"),h(e,"id",s=`b-${(c=i[33])==null?void 0:c.id}`),gt(e,"min-height","45vh")},m(c,f){w(c,e,f),a[t].m(e,null),D(e,r),l=!0},p(c,f){var m;let d=t;t=u(c),t===d?a[t].p(c,f):(ae(),v(a[d],1,1,()=>{a[d]=null}),ue(),n=a[t],n?n.p(c,f):(n=a[t]=o[t](c),n.c()),_(n,1),n.m(e,r)),(!l||f[0]&64&&s!==(s=`b-${(m=c[33])==null?void 0:m.id}`))&&h(e,"id",s)},i(c){l||(_(n),l=!0)},o(c){v(n),l=!1},d(c){c&&y(e),a[t].d()}}}function ytt(i){let e,t,n=i[6].filter(IL),r=[];for(let l=0;l<n.length;l+=1)r[l]=OL(AL(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o[0]&32753){n=l[6].filter(IL);let a;for(a=0;a<n.length;a+=1){const u=AL(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=OL(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function wtt(i){let e,t,n,r;const s=[htt,dtt],l=[];function o(a,u){return a[6]?0:!a[3].ready&&!a[6]?1:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=P("section"),n&&n.c(),h(e,"class","nomie-board-tab py-2"),gt(e,"min-height","45vh")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}const IL=i=>i;function $tt(i,e,t){let n,r,s,l,o,a,u,c,f;Le(i,en,te=>t(3,n=te)),Le(i,su,te=>t(20,r=te)),Le(i,w0,te=>t(4,s=te)),Le(i,ol,te=>t(5,l=te)),Le(i,Up,te=>t(6,o=te)),Le(i,Oi,te=>t(31,a=te)),Le(i,Ls,te=>t(32,u=te)),Le(i,sl,te=>t(21,c=te)),Le(i,Ht,te=>t(8,f=te));const d=Ut();let{searching:m=void 0}=e,{sort:p}=e,{filter:g=te=>!0}=e,k=[];const $=te=>{te.type==="tracker"?nv(te.tracker,n.trackables):(Oi.addElement(te.tag),Oi.focus())},C=te=>{Hr(te,{title:`${te.label}`})},E=async te=>{te.type==="tracker"?ftt(te.tracker,u):(Oi.addElement(te.tag),await xu(new gn(a)),Oi.clear())},S=async()=>{pYe(l.boards.find(te=>te.id==l.activeId),n.trackables)},T=()=>{const te=[{...tq,description:"Browse Nomie's pre-built tracker library"},{...XW(),description:Fe.t("general.create-a-tracker-description","Create a custom tracker to monitor any aspect of your life"),title:Fe.t("general.create-tracker","Create Custom Tracker")},{title:`${Fe.t("general.import-from-backup"," Import from Backup")}`,description:`${Fe.t("general.import-from-backup-description","Have a Nomie backup file? Import it here")}`,icon:See,click(){gU()}}];return Object.keys(n.trackables).length&&te.unshift(eq(s)),te};let M,R=!1,Y="",z="",j="";const V=()=>{kf(m)},x=()=>{let te=new Wi({type:"tracker",tracker:new qi({label:m})});Kr(te)},ee=te=>$(te.detail),J=te=>C(te.detail),q=te=>S(),le=te=>E(te.detail),G=te=>{d("editted",te.detail)};function X(te){Oe[te?"unshift":"push"](()=>{M=te,t(1,M)})}const se=te=>{let ie=te.detail;R?K2(o[ie]):t(2,R=!0)};return i.$$set=te=>{"searching"in te&&t(0,m=te.searching),"sort"in te&&t(15,p=te.sort),"filter"in te&&t(16,g=te.filter)},i.$$.update=()=>{if(i.$$.dirty[0]&2195480&&n.trackables){const te=c,ie=s;t(7,k=Sf(n.trackables).filter(re=>g(re)).map(re=>re).sort((re,be)=>{var we,De,Be,ze;if(((ie==null?void 0:ie.id)||"").substring(0,1)==="_"){let ke=(De=(we=te[re.tag])==null?void 0:we.last)!=null&&De.d?new Date(te[re.tag].last.d):1,Ue=(ze=(Be=te[be.tag])==null?void 0:Be.last)!=null&&ze.d?new Date(te[be.tag].last.d):0;return ke>Ue?-1:1}else{if(p)return p(re,be);{let ke=ie.elements.indexOf(re.tag),Ue=ie.elements.indexOf(be.tag);return ke>Ue?1:-1}}}))}i.$$.dirty[0]&131088&&s&&s.id!==Y&&(t(17,Y=s.id),setTimeout(()=>{let te=document.querySelector(`#uniboard-swiper .wrapper #b-${s.id}`);te&&te.scrollIntoView(!1),Ni.scrollToTop()},200)),i.$$.dirty[0]&131182&&l.activeId&&o.length&&n.ready&&!R&&!Y.length&&M&&(K2(l.activeId),t(2,R=!0)),i.$$.dirty[0]&262152&&di(n.trackables)!==z&&Object.keys(n.trackables).length>0&&(t(18,z=di(n.trackables)),n1(n.trackables)),i.$$.dirty[0]&1572872&&di(r)!==j&&Object.keys(r).length>0&&(t(19,j=di(r)),Af(),setTimeout(()=>{n1(n.trackables)},200))},[m,M,R,n,s,l,o,k,f,d,$,C,E,S,T,p,g,Y,z,j,r,c,V,x,ee,J,q,le,G,X,se]}class Ftt extends pe{constructor(e){super(),me(this,e,$tt,wtt,he,{searching:0,sort:15,filter:16},null,[-1,-1])}}function BL(i,e,t){const n=i.slice();return n[6]=e[t],n[8]=t,n}function Ett(i){let e,t=i[6].label+"",n;return{c(){e=P("h1"),n=K(t),h(e,"class","ntitle py-3")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[6].label+"")&&de(n,t)},d(r){r&&y(e)}}}function Ctt(i){let e,t;return e=new er({props:{trackable:i[6],slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.trackable=n[6]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Dtt(i){let e,t;return e=new _$({props:{slot:"right",initialDuration:i[6].tracker.timeTracked,started:i[6].tracker.started,color:i[6].tracker.color}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.initialDuration=n[6].tracker.timeTracked),r&1&&(s.started=n[6].tracker.started),r&1&&(s.color=n[6].tracker.color),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function RL(i){let e,t;return e=new hi({props:{center:!0}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zL(i){let e,t,n,r;function s(){return i[5](i[6])}e=new lt({props:{$$slots:{right:[Dtt],left:[Ctt],default:[Ett]},$$scope:{ctx:i}}}),e.$on("click",s);let l=i[8]<i[0].length-1&&RL();return{c(){B(e.$$.fragment),t=W(),l&&l.c(),n=Ae()},m(o,a){O(e,o,a),w(o,t,a),l&&l.m(o,a),w(o,n,a),r=!0},p(o,a){i=o;const u={};a&513&&(u.$$scope={dirty:a,ctx:i}),e.$set(u),i[8]<i[0].length-1?l?a&1&&_(l,1):(l=RL(),l.c(),_(l,1),l.m(n.parentNode,n)):l&&(ae(),v(l,1,1,()=>{l=null}),ue())},i(o){r||(_(e.$$.fragment,o),_(l),r=!0)},o(o){v(e.$$.fragment,o),v(l),r=!1},d(o){I(e,o),o&&y(t),l&&l.d(o),o&&y(n)}}}function jL(i){let e,t;return e=new lt({props:{$$slots:{default:[Stt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Stt(i){let e=Fe.t("trackers.no-running-timers","No Running Timers")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Ttt(i){let e,t,n,r=i[0],s=[];for(let a=0;a<r.length;a+=1)s[a]=zL(BL(i,r,a));const l=a=>v(s[a],1,1,()=>{s[a]=null});let o=i[0].length===0&&jL(i);return{c(){for(let a=0;a<s.length;a+=1)s[a].c();e=W(),o&&o.c(),t=Ae()},m(a,u){for(let c=0;c<s.length;c+=1)s[c].m(a,u);w(a,e,u),o&&o.m(a,u),w(a,t,u),n=!0},p(a,u){if(u&3){r=a[0];let c;for(c=0;c<r.length;c+=1){const f=BL(a,r,c);s[c]?(s[c].p(f,u),_(s[c],1)):(s[c]=zL(f),s[c].c(),_(s[c],1),s[c].m(e.parentNode,e))}for(ae(),c=r.length;c<s.length;c+=1)l(c);ue()}a[0].length===0?o?(o.p(a,u),u&1&&_(o,1)):(o=jL(a),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(ae(),v(o,1,1,()=>{o=null}),ue())},i(a){if(!n){for(let u=0;u<r.length;u+=1)_(s[u]);_(o),n=!0}},o(a){s=s.filter(Boolean);for(let u=0;u<s.length;u+=1)v(s[u]);v(o),n=!1},d(a){pt(s,a),a&&y(e),o&&o.d(a),a&&y(t)}}}function Att(i){let e,t,n;return t=new jt({props:{solo:!0,$$slots:{default:[Ttt]},$$scope:{ctx:i}}}),{c(){e=P("main"),B(t.$$.fragment),gt(e,"min-height","40vh")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&515&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Ptt(i){let e;return{c(){e=P("h1"),e.textContent="Running Timers",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Ntt(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Mtt(i){let e,t;return e=new He({props:{primary:!0,clear:!0,slot:"left",$$slots:{default:[Ntt]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ltt(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{left:[Mtt],default:[Ptt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ott(i){let e,t;return e=new ti({props:{className:"h-full bg-gray-100 dark:bg-gray-900",$$slots:{header:[Ltt],default:[Att]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&515&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Itt(i,e,t){let n,r,s;Le(i,F0,u=>t(4,r=u)),Le(i,Ls,u=>t(1,s=u));let{id:l}=e;const o=()=>{tn(l)},a=u=>{nv(u.tracker,s)};return i.$$set=u=>{"id"in u&&t(3,l=u.id)},i.$$.update=()=>{i.$$.dirty&16&&t(0,n=r.map(u=>u.toTrackable()))},[n,s,o,l,r,a]}class Btt extends pe{constructor(e){super(),me(this,e,Itt,Ott,he,{id:3})}}const Rtt=async()=>{On({id:"timers-modal",component:Btt,tappable:!0,componentProps:{},position:"bottom"})};function ztt(i){let e,t,n;return{c(){e=ye("svg"),t=ye("path"),h(t,"fill-rule","evenodd"),h(t,"clip-rule","evenodd"),h(t,"d",`M63.9958 40.8859C68.1747 45.8904 70.2642 53.4456 70.2642 63.5517V97.2225C70.2642 100.429 69.268 102.956 67.2757 104.802C65.2835
    106.648 62.5866 107.571 59.1852 107.571C55.7837 107.571 53.1112 106.648 51.1675 104.802C49.2238 102.956 48.2519 100.429 48.2519
    97.2225V64.5721C48.2519 59.7133 47.353 56.1665 45.5551 53.9315C43.7572 51.6965 40.9631 50.579 37.1729 50.579C32.6053 50.579 28.9366
    52.0366 26.1668 54.9518C23.3971 57.867 22.0122 61.754 22.0122 66.6127V97.2225C22.0122 100.429 21.0404 102.956 19.0967 104.802C17.153
    106.648 14.4805 107.571 11.079 107.571C7.67753 107.571 4.9807 106.648 2.98841 104.802C0.996128 102.956 0 100.429 0 97.2225V43.7282C0
    40.7158 1.04472 38.2865 3.13419 36.4402C5.22366 34.5939 7.92049 33.6707 11.2248 33.6707C14.2375 33.6707 16.6914 34.5696 18.5865
    36.3673C20.4816 38.165 21.4291 40.4729 21.4291 43.291V45.3316C23.9559 41.4446 27.2358 38.4808 31.269 36.4402C35.3022 34.3995 39.8455
    33.3792 44.8991 33.3792C53.4513 33.3792 59.8168 35.8814 63.9958 40.8859ZM92.9735 103.272C87.2396 100.211 82.8178 95.8864 79.7079
    90.2988C76.598 84.7113 75.043 78.1278 75.043 70.5482C75.043 62.9686 76.598 56.3852 79.7079 50.7976C82.8178 45.2101 87.2396 40.9102
    92.9735 37.8978C98.7074 34.8854 105.364 33.3792 112.945 33.3792C120.525 33.3792 127.182 34.8854 132.916 37.8978C138.65 40.9102 143.072
    45.2101 146.182 50.7976C149.292 56.3852 150.847 62.9686 150.847 70.5482C150.847 78.1278 149.292 84.7113 146.182 90.2988C143.072 95.8864
    138.65 100.211 132.916 103.272C127.182 106.333 120.525 107.863 112.945 107.863C105.364 107.863 98.7074 106.333 92.9735 103.272ZM128.98
    70.5482C128.98 63.6489 127.595 58.4987 124.826 55.0976C122.056 51.6965 118.096 49.996 112.945 49.996C102.255 49.996 96.9095 56.8467
    96.9095 70.5482C96.9095 84.2498 102.255 91.1005 112.945 91.1005C123.635 91.1005 128.98 84.2498 128.98 70.5482ZM261.318 40.4486C265.497
    45.1616 267.586 52.8625 267.586 63.5517V97.2225C267.586 100.624 266.566 103.199 264.525 104.948C262.484 106.697 259.86 107.571 256.653
    107.571C253.543 107.571 250.919 106.697 248.781 104.948C246.643 103.199 245.574 100.624 245.574 97.2225V63.2602C245.574 58.5958 244.772
    55.3162 243.169 53.4213C241.565 51.5264 239.112 50.579 235.807 50.579C231.725 50.579 228.47 51.988 226.04 54.8061C223.611 57.6241
    222.396 61.5596 222.396 66.6127V97.2225C222.396 100.624 221.375 103.199 219.335 104.948C217.294 106.697 214.67 107.571 211.463
    107.571C208.353 107.571 205.729 106.697 203.591 104.948C201.453 103.199 200.384 100.624 200.384 97.2225V63.2602C200.384 58.5958 199.582
    55.3162 197.978 53.4213C196.375 51.5264 193.921 50.579 190.617 50.579C186.535 50.579 183.279 51.988 180.85 54.8061C178.42 57.6241
    177.205 61.5596 177.205 66.6127V97.2225C177.205 100.624 176.16 103.199 174.071 104.948C171.982 106.697 169.382 107.571 166.272
    107.571C163.162 107.571 160.538 106.697 158.4 104.948C156.262 103.199 155.193 100.624 155.193 97.2225V43.7282C155.193 40.5215 156.286
    38.0436 158.473 36.2944C160.66 34.5453 163.308 33.6707 166.418 33.6707C169.333 33.6707 171.763 34.521 173.707 36.2216C175.65 37.9221
    176.622 40.2785 176.622 43.291V44.7486C178.955 41.0559 181.991 38.2379 185.733 36.2944C189.475 34.3509 193.726 33.3792 198.489
    33.3792C203.639 33.3792 207.988 34.4238 211.535 36.5131C215.083 38.6023 217.828 41.9791 219.772 46.6435C222.007 42.5621 225.19 39.3312
    229.32 36.9504C233.451 34.5696 238.14 33.3792 243.388 33.3792C251.162 33.3792 257.139 35.7357 261.318 40.4486ZM276.534 104.948C274.445
    103.199 273.4 100.624 273.4 97.2225V44.0198C273.4 40.6187 274.469 38.0436 276.607 36.2944C278.745 34.5453 281.369 33.6707 284.479
    33.6707C287.589 33.6707 290.188 34.5453 292.278 36.2944C294.367 38.0436 295.412 40.6187 295.412 44.0198V97.2225C295.412 100.624 294.367
    103.199 292.278 104.948C290.188 106.697 287.589 107.571 284.479 107.571C281.272 107.571 278.624 106.697 276.534 104.948ZM275.295
    20.9819C273.06 18.7845 271.942 15.8101 271.942 12.0585C271.942 8.30697 273.06 5.35936 275.295 3.21561C277.53 1.07185 280.591 0 284.479
    0C288.269 0 291.306 1.09864 293.59 3.29599C295.874 5.49334 297.016 8.41415 297.016 12.0585C297.016 15.8101 295.898 18.7845 293.663
    20.9819C291.428 23.1792 288.366 24.2779 284.479 24.2779C280.591 24.2779 277.53 23.1792 275.295 20.9819ZM365.431 87.748C366.645 89.3028
    367.253 91.2949 367.253 93.7242C367.253 95.3762 366.767 96.9066 365.795 98.3157C364.823 99.7247 363.463 100.915 361.713 101.887C358.409
    103.636 354.57 105.069 350.197 106.187C345.824 107.304 341.79 107.863 338.097 107.863C330.323 107.863 323.544 106.357 317.762
    103.344C311.979 100.332 307.533 96.0321 304.423 90.4446C301.313 84.8571 299.758 78.2736 299.758 70.694C299.758 63.4059 301.265 56.9439
    304.277 51.3078C307.29 45.6717 311.469 41.2746 316.814 38.1165C322.159 34.9583 328.233 33.3792 335.036 33.3792C341.548 33.3792 347.257
    34.8125 352.165 37.6792C357.073 40.5458 360.887 44.6271 363.608 49.9231C366.33 55.2191 367.69 61.4138 367.69 68.5076C367.69 70.6454
    367.18 72.2731 366.159 73.3906C365.139 74.5081 363.706 75.0668 361.859 75.0668H321.042C321.722 80.8001 323.471 84.9542 326.29
    87.5294C329.108 90.1045 333.141 91.392 338.389 91.392C341.207 91.392 343.734 91.0519 345.969 90.3717C348.205 89.6915 350.683 88.7684
    353.404 87.6023C354.765 87.0192 356.077 86.5091 357.34 86.0718C358.603 85.6345 359.721 85.4158 360.693 85.4158C362.637 85.4158 364.216
    86.1932 365.431 87.748ZM325.561 52.5468C323.034 55.2191 321.528 59.0817 321.042 64.1348H349.176C348.885 58.9845 347.597 55.0976 345.313
    52.4739C343.03 49.8502 339.798 48.5384 335.619 48.5384C331.44 48.5384 328.088 49.8745 325.561 52.5468ZM363.349 33.1092C363.349 33.9515
    363.511 34.7506 363.835 35.5065C364.16 36.2624 364.603 36.9265 365.165 37.4988C365.728 38.0711 366.387 38.5193 367.144 38.8432C367.901
    39.1672 368.712 39.3292 369.577 39.3292C370.442 39.3292 371.253 39.1672 372.01 38.8432C372.767 38.5193 373.427 38.0711 373.989
    37.4988C374.551 36.9265 374.995 36.2624 375.319 35.5065C375.643 34.7506 375.806 33.9515 375.806 33.1092C375.806 32.2453 375.643 31.4354
    375.319 30.6795C374.995 29.9236 374.551 29.2649 373.989 28.7033C373.427 28.1418 372.767 27.6991 372.01 27.3751C371.253 27.0512 370.442
    26.8892 369.577 26.8892C368.712 26.8892 367.901 27.0512 367.144 27.3751C366.387 27.6991 365.728 28.1418 365.165 28.7033C364.603 29.2649
    364.16 29.9236 363.835 30.6795C363.511 31.4354 363.349 32.2453 363.349 33.1092ZM372.886 36.0027C372.886 36.1819 372.814 36.3292 372.67
    36.4445C372.526 36.5597 372.358 36.6173 372.165 36.6173C372.044 36.6173 371.925 36.5885 371.81 36.5309C371.695 36.4733 371.599 36.3836
    371.522 36.262L370.254 34.3798C370.145 34.2133 370.03 34.0932 369.908 34.0196C369.787 33.946 369.633 33.9092 369.447
    33.9092H368.67V35.8491C368.67 36.0795 368.604 36.262 368.473 36.3964C368.341 36.5309 368.164 36.5981 367.94 36.5981C367.709 36.5981
    367.527 36.5309 367.392 36.3964C367.258 36.262 367.19 36.0795 367.19 35.8491V30.4712C367.19 30.2471 367.251 30.0743 367.373
    29.9526C367.495 29.831 367.668 29.7702 367.892 29.7702H370.302C371.096 29.7702 371.697 29.9446 372.103 30.2935C372.51 30.6425 372.713
    31.1466 372.713 31.8061C372.713 32.3246 372.569 32.7568 372.281 33.1025C371.993 33.4482 371.586 33.6755 371.061 33.7843C371.253 33.8227
    371.424 33.898 371.575 34.01C371.725 34.122 371.871 34.2837 372.012 34.495L372.742 35.5898C372.838 35.7306 372.886 35.8682 372.886
    36.0027ZM371.013 32.5503C371.205 32.3999 371.301 32.1646 371.301 31.8445C371.301 31.518 371.205 31.2811 371.013 31.1339C370.821 30.9866
    370.51 30.913 370.081 30.913H368.65V32.776H370.081C370.51 32.776 370.821 32.7008 371.013 32.5503Z`),h(t,"fill",i[1]),h(e,"height",i[0]),h(e,"style",i[3]),h(e,"viewBox","0 0 376 108"),h(e,"fill","none"),h(e,"aria-label","Nomie Logo"),h(e,"class",n=i[2]+" nomie-logo wordmark"),h(e,"xmlns","http://www.w3.org/2000/svg")},m(r,s){w(r,e,s),D(e,t)},p(r,[s]){s&2&&h(t,"fill",r[1]),s&1&&h(e,"height",r[0]),s&8&&h(e,"style",r[3]),s&4&&n!==(n=r[2]+" nomie-logo wordmark")&&h(e,"class",n)},i:Z,o:Z,d(r){r&&y(e)}}}function jtt(i,e,t){let{size:n=32}=e,{color:r="#319ED7"}=e,{className:s=""}=e,{style:l=""}=e;return i.$$set=o=>{"size"in o&&t(0,n=o.size),"color"in o&&t(1,r=o.color),"className"in o&&t(2,s=o.className),"style"in o&&t(3,l=o.style)},[n,r,s,l]}class Pq extends pe{constructor(e){super(),me(this,e,jtt,ztt,he,{size:0,color:1,className:2,style:3})}}function Ytt(i){let e,t=Te().subtract(Cd-(i[6]+1),"day").format(i[1].tinyDate)+"",n,r,s,l,o;function a(){return i[4](i[6])}return{c(){e=P("button"),n=K(t),h(e,"id",r="bit-"+i[6]),h(e,"class",s=(Te().subtract(Cd-(i[6]+1),"day").format("YYYY-MM-DD")===i[0].date.format("YYYY-MM-DD")?"active ring-2 ring-white":"inactive")+" bit-button whitespace-nowrap py-1 my-1 w-auto stiff flex-wrap leading-tight text-sm font-semibold px-2 rounded-lg")},m(u,c){w(u,e,c),D(e,n),l||(o=Se(e,"click",a),l=!0)},p(u,c){i=u,c&64&&t!==(t=Te().subtract(Cd-(i[6]+1),"day").format(i[1].tinyDate)+"")&&de(n,t),c&64&&r!==(r="bit-"+i[6])&&h(e,"id",r),c&65&&s!==(s=(Te().subtract(Cd-(i[6]+1),"day").format("YYYY-MM-DD")===i[0].date.format("YYYY-MM-DD")?"active ring-2 ring-white":"inactive")+" bit-button whitespace-nowrap py-1 my-1 w-auto stiff flex-wrap leading-tight text-sm font-semibold px-2 rounded-lg")&&h(e,"class",s)},d(u){u&&y(e),l=!1,o()}}}function Utt(i){let e,t,n,r,s,l,o,a;return t=new F1({props:{className:"filler min-w-0 py-2",start:"end",snapToItem:"center",direction:"x",items:Array(Cd).fill(0).map(Wtt),$$slots:{default:[Ytt,({item:u})=>({6:u}),({item:u})=>u?64:0]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),n=W(),r=P("button"),r.textContent="Done",h(r,"class","bg-white text-red-500 py-1 w-auto leading-tight px-3 rounded-full mx-2 stiff"),h(e,"class","date-setting flex items-center justify-center bg-red-500")},m(u,c){w(u,e,c),O(t,e,null),D(e,n),D(e,r),l=!0,o||(a=Se(r,"click",i[3]),o=!0)},p(u,[c]){i=u;const f={};c&193&&(f.$$scope={dirty:c,ctx:i}),t.$set(f)},i(u){l||(_(t.$$.fragment,u),Ei(()=>{s||(s=as(e,Yl,{delay:250,duration:300,easing:na},!0)),s.run(1)}),l=!0)},o(u){v(t.$$.fragment,u),s||(s=as(e,Yl,{delay:250,duration:300,easing:na},!1)),s.run(0),l=!1},d(u){u&&y(e),I(t),u&&s&&s.end(),o=!1,a()}}}let Cd=30;const Wtt=(i,e)=>e;function qtt(i,e,t){let n,r;Le(i,en,u=>t(5,n=u)),Le(i,Zo,u=>t(0,r=u));let s=pi();const l=u=>{Vu({knownTrackables:n.trackables,date:Te().subtract(u,"day")})},o=()=>{Vu({knownTrackables:n.trackables,date:Te(),showController:!1})};return Yt(()=>{setTimeout(()=>{document.querySelector(".date-setting .time-wrapper").scrollTo({left:1e6})},100)}),[r,s,l,o,u=>{l(Cd-(u+1)),Ni.scrollToTop()}]}class Htt extends pe{constructor(e){super(),me(this,e,qtt,Utt,he,{})}}function YL(i){let e,t;return e=new Nf({props:{className:"",compact:!0,$$slots:{"right-inside":[xtt]},$$scope:{ctx:i}}}),e.$on("clear",i[26]),e.$on("change",i[27]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&1|r[1]&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Vtt(i){let e,t;return e=new et({props:{icon:Kk,className:"text-gray-500",size:18}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xtt(i){let e,t;return e=new He({props:{icon:!0,slot:"right-inside",$$slots:{default:[Vtt]},$$scope:{ctx:i}}}),e.$on("click",i[25]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Gtt(i){let e=!i[2].editMode&&Object.keys(i[3].trackables).length>5&&i[11].width<699,t,n,r,s,l,o=e&&YL(i);function a(f){i[28](f)}function u(f){i[29](f)}let c={searching:i[0]};return i[8]!==void 0&&(c.sort=i[8]),i[7]!==void 0&&(c.filter=i[7]),n=new Ftt({props:c}),Oe.push(()=>Qe(n,"sort",a,i[8])),Oe.push(()=>Qe(n,"filter",u,i[7])),n.$on("editted",i[30]),{c(){o&&o.c(),t=W(),B(n.$$.fragment)},m(f,d){o&&o.m(f,d),w(f,t,d),O(n,f,d),l=!0},p(f,d){d[0]&2060&&(e=!f[2].editMode&&Object.keys(f[3].trackables).length>5&&f[11].width<699),e?o?(o.p(f,d),d[0]&2060&&_(o,1)):(o=YL(f),o.c(),_(o,1),o.m(t.parentNode,t)):o&&(ae(),v(o,1,1,()=>{o=null}),ue());const m={};d[0]&1&&(m.searching=f[0]),!r&&d[0]&256&&(r=!0,m.sort=f[8],tt(()=>r=!1)),!s&&d[0]&128&&(s=!0,m.filter=f[7],tt(()=>s=!1)),n.$set(m)},i(f){l||(_(o),_(n.$$.fragment,f),l=!0)},o(f){v(o),v(n.$$.fragment,f),l=!1},d(f){o&&o.d(f),f&&y(t),I(n,f)}}}function UL(i){let e,t;return e=new Htt({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function WL(i){let e,t,n,r,s;t=new He({props:{size:"sm",shape:"round",className:"bg-red-500 text-white w-32",$$slots:{default:[Ztt]},$$scope:{ctx:i}}}),t.$on("click",i[19]);let l=i[5]&&qL(i);return{c(){e=P("div"),B(t.$$.fragment),n=W(),l&&l.c(),h(e,"class","flex bg-white dark:bg-black items-center justify-center space-x-4 px-4 py-2")},m(o,a){w(o,e,a),O(t,e,null),D(e,n),l&&l.m(e,null),s=!0},p(o,a){i=o;const u={};a[1]&2&&(u.$$scope={dirty:a,ctx:i}),t.$set(u),i[5]?l?(l.p(i,a),a[0]&32&&_(l,1)):(l=qL(i),l.c(),_(l,1),l.m(e,null)):l&&(ae(),v(l,1,1,()=>{l=null}),ue())},i(o){s||(_(t.$$.fragment,o),_(l),Ei(()=>{r||(r=as(e,Yl,{delay:250,duration:300,easing:na},!0)),r.run(1)}),s=!0)},o(o){v(t.$$.fragment,o),v(l),r||(r=as(e,Yl,{delay:250,duration:300,easing:na},!1)),r.run(0),s=!1},d(o){o&&y(e),I(t),l&&l.d(),o&&r&&r.end()}}}function Ztt(i){let e;return{c(){e=P("span"),e.textContent="Close",h(e,"class","text-base")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function qL(i){let e,t;return e=new He({props:{size:"sm",shape:"round",className:"ml-2 bg-primary-500 text-white w-32",$$slots:{default:[Xtt]},$$scope:{ctx:i}}}),e.$on("click",i[20]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Xtt(i){let e;return{c(){e=P("span"),e.textContent="Save",h(e,"class","text-base")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function HL(i){let e,t,n,r;e=new $h({props:{id:"add-menu-button",x:"left",y:"top",menuButtons:i[6],buttonClass:"add-menu-button menu-icon-button",$$slots:{default:[Ktt]},$$scope:{ctx:i}}});let s=i[10].length&&VL(i);return{c(){B(e.$$.fragment),t=W(),s&&s.c(),n=Ae()},m(l,o){O(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o[0]&64&&(a.menuButtons=l[6]),o[1]&2&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[10].length?s?(s.p(l,o),o[0]&1024&&_(s,1)):(s=VL(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){I(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function Ktt(i){let e,t;return e=new et({props:{className:"text-primary-500",icon:$$,size:32}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function VL(i){let e,t;return e=new He({props:{icon:!0,$$slots:{default:[Jtt]},$$scope:{ctx:i}}}),e.$on("click",i[21]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[1]&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Jtt(i){let e,t;return e=new et({props:{className:"text-red-500 flex justify-center animate-pulse ",size:30,icon:wee}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Qtt(i){let e,t,n,r,s,l;return n=new Pq({props:{color:us.primary_color,className:"-mt-2 ml-2 mr-10",size:20}}),{c(){e=P("div"),t=W(),B(n.$$.fragment),r=W(),s=P("div"),h(e,"class","filler lg:hidden"),h(s,"class","filler")},m(o,a){w(o,e,a),w(o,t,a),O(n,o,a),w(o,r,a),w(o,s,a),l=!0},p:Z,i(o){l||(_(n.$$.fragment,o),l=!0)},o(o){v(n.$$.fragment,o),l=!1},d(o){o&&y(e),o&&y(t),I(n,o),o&&y(r),o&&y(s)}}}function ent(i){let e,t;return e=new zet({props:{editMode:i[2].editMode,className:"w-full filler"}}),e.$on("tabTap",i[22]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&4&&(s.editMode=n[2].editMode),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xL(i){let e,t;return e=new Nf({props:{style:"max-width:220px;",compact:!0}}),e.$on("clear",i[23]),e.$on("change",i[24]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function tnt(i){let e,t,n,r,s,l=!i[2].editMode&&Object.keys(i[3].trackables).length>5&&i[11].width>699,o,a,u=!i[2].editMode&&HL(i);const c=[ent,Qtt],f=[];function d(p,g){return p[4]&&p[4].length>1?0:1}n=d(i),r=f[n]=c[n](i);let m=l&&xL(i);return{c(){e=P("div"),u&&u.c(),t=W(),r.c(),s=W(),m&&m.c(),o=Ae(),h(e,"class","flex items-center space-x-1")},m(p,g){w(p,e,g),u&&u.m(e,null),w(p,t,g),f[n].m(p,g),w(p,s,g),m&&m.m(p,g),w(p,o,g),a=!0},p(p,g){p[2].editMode?u&&(ae(),v(u,1,1,()=>{u=null}),ue()):u?(u.p(p,g),g[0]&4&&_(u,1)):(u=HL(p),u.c(),_(u,1),u.m(e,null));let k=n;n=d(p),n===k?f[n].p(p,g):(ae(),v(f[k],1,1,()=>{f[k]=null}),ue(),r=f[n],r?r.p(p,g):(r=f[n]=c[n](p),r.c()),_(r,1),r.m(s.parentNode,s)),g[0]&2060&&(l=!p[2].editMode&&Object.keys(p[3].trackables).length>5&&p[11].width>699),l?m?(m.p(p,g),g[0]&2060&&_(m,1)):(m=xL(p),m.c(),_(m,1),m.m(o.parentNode,o)):m&&(ae(),v(m,1,1,()=>{m=null}),ue())},i(p){a||(_(u),_(r),_(m),a=!0)},o(p){v(u),v(r),v(m),a=!1},d(p){p&&y(e),u&&u.d(),p&&y(t),f[n].d(p),p&&y(s),m&&m.d(p),p&&y(o)}}}function nnt(i){let e,t,n,r,s,l=i[9].showController&&UL(),o=i[2].editMode&&WL(i);return r=new Os({props:{slot:"header",className:"stiff h-14 max-h-14 min-h-14",$$slots:{default:[tnt]},$$scope:{ctx:i}}}),{c(){e=P("header"),l&&l.c(),t=W(),o&&o.c(),n=W(),B(r.$$.fragment),h(e,"slot","header"),h(e,"class","")},m(a,u){w(a,e,u),l&&l.m(e,null),D(e,t),o&&o.m(e,null),D(e,n),O(r,e,null),s=!0},p(a,u){a[9].showController?l?u[0]&512&&_(l,1):(l=UL(),l.c(),_(l,1),l.m(e,t)):l&&(ae(),v(l,1,1,()=>{l=null}),ue()),a[2].editMode?o?(o.p(a,u),u[0]&4&&_(o,1)):(o=WL(a),o.c(),_(o,1),o.m(e,n)):o&&(ae(),v(o,1,1,()=>{o=null}),ue());const c={};u[0]&3165|u[1]&2&&(c.$$scope={dirty:u,ctx:a}),r.$set(c)},i(a){s||(_(l),_(o),_(r.$$.fragment,a),s=!0)},o(a){v(l),v(o),v(r.$$.fragment,a),s=!1},d(a){a&&y(e),l&&l.d(),o&&o.d(),I(r)}}}function int(i){var n;let e,t;return e=new Is({props:{pageTitle:`${((n=i[1])==null?void 0:n.label)||""} Track`,$$slots:{header:[nnt],default:[Gtt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){var o;const l={};s[0]&2&&(l.pageTitle=`${((o=r[1])==null?void 0:o.label)||""} Track`),s[0]&4093|s[1]&2&&(l.$$scope={dirty:s,ctx:r}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function rnt(i,e,t){let n,r,s,l,o,a,u,c;Le(i,w0,se=>t(1,n=se)),Le(i,ol,se=>t(2,r=se)),Le(i,en,se=>t(3,s=se)),Le(i,Ht,se=>t(18,l=se)),Le(i,Up,se=>t(4,o=se)),Le(i,Zo,se=>t(9,a=se)),Le(i,F0,se=>t(10,u=se)),Le(i,Ni,se=>t(11,c=se));const f=void 0,d="";let m,p,g,k="",$=[],C=!1,E=se=>se.type,S=(se,te)=>se.label.toLowerCase()>te.label.toLowerCase()?1:-1;const T=async se=>{se&&(t(8,S=(te,ie)=>se.elements.indexOf(te.tag)>se.elements.indexOf(ie.tag)?1:-1),t(7,E=te=>se.elements.indexOf(te.tag)>-1))},M=async()=>{const se={...g};await fYe(se),t(5,g=void 0),m0e(),qn({message:`${se.label} updated`})},R=()=>sj(),Y=()=>M(),z=se=>Rtt(),j=async se=>{const te=se.detail;K2(te),Ni.scrollToTop()},V=()=>{t(0,p=void 0)},x=se=>{t(0,p=se.detail)},ee=()=>kf(p),J=()=>{t(0,p=void 0)},q=se=>{t(0,p=se.detail)};function le(se){S=se,t(8,S)}function G(se){E=se,t(7,E),t(0,p),t(17,C),t(15,m),t(4,o),t(2,r)}const X=se=>{t(5,g=se.detail)};return i.$$.update=()=>{i.$$.dirty[0]&32788&&o&&o.length&&r.activeId&&r.activeId!==(m==null?void 0:m.id)&&(t(15,m=o.find(se=>se.id===r.activeId)),m&&T(m)),i.$$.dirty[0]&262154&&l&&t(6,$=[...nq(n,s.trackables),...Y1(_Ye()),{title:"Search Nomie",divider:!0,icon:Z1,click(){kf()}}]),i.$$.dirty[0]&65542&&r.hash!==k&&(t(16,k=r.hash),T(n)),i.$$.dirty[0]&163841&&(p?(t(17,C=!0),t(7,E=se=>JSON.stringify(se).toLowerCase().search(p.toLowerCase())>-1)):C&&(t(17,C=!1),T(m)))},[p,n,r,s,o,g,$,E,S,a,u,c,M,f,d,m,k,C,l,R,Y,z,j,V,x,ee,J,q,le,G,X]}class C$ extends pe{constructor(e){super(),me(this,e,rnt,int,he,{location:13,style:14},null,[-1,-1])}get location(){return this.$$.ctx[13]}get style(){return this.$$.ctx[14]}}function GL(i){let e,t;return e=new Li({props:{className:"px-4 py-2",$$slots:{default:[snt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16777218&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function snt(i){let e,t,n;function r(l){i[17](l)}let s={height:150};return i[1]!==void 0&&(s.date=i[1]),e=new WU({props:s}),Oe.push(()=>Qe(e,"date",r,i[1])),e.$on("item-click",hnt),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&2&&(t=!0,a.date=l[1],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function lnt(i){let e,t,n,r,s,l,o,a=i[4].context&&GL(i);function u(d){i[18](d)}function c(d){i[19](d)}let f={};return i[0]!==void 0&&(f.startingDate=i[0]),i[4]!==void 0&&(f.filters=i[4]),t=new GW({props:f}),Oe.push(()=>Qe(t,"startingDate",u,i[0])),Oe.push(()=>Qe(t,"filters",c,i[4])),t.$on("xfilters",i[20]),t.$on("topItem",i[21]),{c(){a&&a.c(),e=W(),B(t.$$.fragment),s=W(),l=P("div"),h(l,"class","h-14")},m(d,m){a&&a.m(d,m),w(d,e,m),O(t,d,m),w(d,s,m),w(d,l,m),o=!0},p(d,m){d[4].context?a?(a.p(d,m),m&16&&_(a,1)):(a=GL(d),a.c(),_(a,1),a.m(e.parentNode,e)):a&&(ae(),v(a,1,1,()=>{a=null}),ue());const p={};!n&&m&1&&(n=!0,p.startingDate=d[0],tt(()=>n=!1)),!r&&m&16&&(r=!0,p.filters=d[4],tt(()=>r=!1)),t.$set(p)},i(d){o||(_(a),_(t.$$.fragment,d),o=!0)},o(d){v(a),v(t.$$.fragment,d),o=!1},d(d){a&&a.d(d),d&&y(e),I(t,d),d&&y(s),d&&y(l)}}}function ont(i){let e,t;return e=new et({props:{className:"text-primary-500",icon:$$,size:32}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ZL(i){let e,t,n,r,s;return t=new If({props:{className:"font-bold",text:i[1].format(`ddd ${i[7].mmm_d_yyyy}`)}}),r=new et({props:{icon:rc,className:"text-gray-500",size:12}}),{c(){e=P("h1"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"class","flex-nowrap flex items-center")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),O(r,e,null),s=!0},p(l,o){const a={};o&2&&(a.text=l[1].format(`ddd ${l[7].mmm_d_yyyy}`)),t.$set(a)},i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),I(t),I(r)}}}function ant(i){let e,t;return e=new et({props:{className:i[3]?"text-white":"text-primary",icon:yf,size:28}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.className=n[3]?"text-white":"text-primary"),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function unt(i){let e,t;return e=new et({props:{className:"text-primary-500",icon:ah,size:28}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function cnt(i){var C;let e,t,n,r,s=i[6],l,o,a,u,c,f,d,m,p,g,k;e=new $h({props:{id:"timeline-filter",menuButtons:i[5],buttonClass:"menu-icon-button",$$slots:{default:[ont]},$$scope:{ctx:i}}});let $=ZL(i);return a=new qU({props:{className:"h-3",logs:((C=i[2])==null?void 0:C.logs)||[]}}),f=new He({props:{className:`${i[3]?"bg-red-500 ":""}`,icon:!0,$$slots:{default:[ant]},$$scope:{ctx:i}}}),f.$on("click",i[15]),m=new He({props:{icon:!0,className:"mr-6",$$slots:{default:[unt]},$$scope:{ctx:i}}}),m.$on("click",i[16]),{c(){B(e.$$.fragment),t=W(),n=P("div"),r=P("button"),$.c(),l=W(),o=P("div"),B(a.$$.fragment),u=W(),c=P("div"),B(f.$$.fragment),d=W(),B(m.$$.fragment),h(r,"type","button"),h(r,"class","mx-auto mb-1 hover:text-gray-500 transform-gpu transition-all duration-200 items-center grid grid-cols-1"),h(o,"class","max-w-xl w-full mt-1 mx-auto items-center stiff"),h(n,"class","ntitle w-full mt-2 px-4 justify-center items-center grid grid-cols-1"),h(c,"class","space-x-2 flex-nowrap flex")},m(E,S){O(e,E,S),w(E,t,S),w(E,n,S),D(n,r),$.m(r,null),D(n,l),D(n,o),O(a,o,null),w(E,u,S),w(E,c,S),O(f,c,null),D(c,d),O(m,c,null),p=!0,g||(k=Se(r,"click",i[14]),g=!0)},p(E,S){var z;const T={};S&32&&(T.menuButtons=E[5]),S&16777216&&(T.$$scope={dirty:S,ctx:E}),e.$set(T),S&64&&he(s,s=E[6])?(ae(),v($,1,1,Z),ue(),$=ZL(E),$.c(),_($,1),$.m(r,null)):$.p(E,S);const M={};S&4&&(M.logs=((z=E[2])==null?void 0:z.logs)||[]),a.$set(M);const R={};S&8&&(R.className=`${E[3]?"bg-red-500 ":""}`),S&16777224&&(R.$$scope={dirty:S,ctx:E}),f.$set(R);const Y={};S&16777216&&(Y.$$scope={dirty:S,ctx:E}),m.$set(Y)},i(E){p||(_(e.$$.fragment,E),_($),_(a.$$.fragment,E),_(f.$$.fragment,E),_(m.$$.fragment,E),p=!0)},o(E){v(e.$$.fragment,E),v($),v(a.$$.fragment,E),v(f.$$.fragment,E),v(m.$$.fragment,E),p=!1},d(E){I(e,E),E&&y(t),E&&y(n),$.d(E),I(a),E&&y(u),E&&y(c),I(f),I(m),g=!1,k()}}}function fnt(i){let e,t;return e=new Os({props:{slot:"header",className:"py-2 h-14",$$slots:{default:[cnt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16777326&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function dnt(i){let e,t;return e=new Is({props:{pageTitle:"Timeline",className:"timeline-layout bg-gray-200 dark:bg-gray-800",$$slots:{header:[fnt],default:[lnt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&16777343&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Om(i){const e={...i};return e.search=void 0,e}const hnt=i=>{};function mnt(i,e,t){let n,r;Le(i,wm,j=>t(12,n=j)),Le(i,en,j=>t(13,r=j));let s=new Date,l=Te(s),o=Te(),a,u=!1;const c=pi();let f;const d=async()=>{const j=await qw(Te(l),!1);j&&(t(10,l=Te(j)),t(0,s=j.toDate()),t(1,o=l),s.toDateString()!==new Date().toDateString()?t(3,u=!0):t(3,u=!1))};let p={...{notes:!0,maps:!1,trackables:!1,context:!1}};const g=()=>[{title:"Notes",checked:p.notes,icon:ca,click(){t(4,p.notes=!p.notes,p),wm.setItem("filters",Om(p))}},{title:"Trackables",checked:p.trackables,icon:x1,click(){t(4,p.trackables=!p.trackables,p),wm.setItem("filters",Om(p))}},{title:"Context Chart",icon:GI,checked:p.context,click(){t(4,p.context=!p.context,p),wm.setItem("filters",Om(p))}}];let k=g(),$;Yt(async()=>{t(6,$=!0)});const C=()=>{q0(o.toDate())},E=()=>d(),S=()=>kf();function T(j){o=j,t(1,o)}function M(j){s=j,t(0,s)}function R(j){p=j,t(4,p),t(12,n)}const Y=j=>{t(4,p={...p,...j.detail}),wm.setItem("filters",p)},z=j=>{t(2,a=j.detail),t(1,o=a.time)};return i.$$.update=()=>{i.$$.dirty&11264&&l&&l!==f&&r.ready&&t(11,f=l),i.$$.dirty&4096&&n.filters&&(t(4,p=n.filters),t(5,k=g()))},[s,o,a,u,p,k,$,c,d,Om,l,f,n,r,C,E,S,T,M,R,Y,z]}class D$ extends pe{constructor(e){super(),me(this,e,mnt,dnt,he,{clearFilterSearch:9})}get clearFilterSearch(){return Om}}function pnt(i){let e,t,n,r,s,l;return{c(){e=ye("svg"),t=ye("title"),n=K("Remove Circle"),r=ye("path"),h(r,"d","M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm80 224H176a16 16 0 010-32h160a16 16 0 010 32z"),h(e,"height",s=i[0]+"px"),h(e,"width",l=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(e,r)},p(o,[a]){a&1&&s!==(s=o[0]+"px")&&h(e,"height",s),a&1&&l!==(l=o[0]+"px")&&h(e,"width",l)},i:Z,o:Z,d(o){o&&y(e)}}}function _nt(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class gnt extends pe{constructor(e){super(),me(this,e,_nt,pnt,he,{size:0})}}function XL(i,e,t){const n=i.slice();return n[23]=e[t],n[25]=t,n}function KL(i,e,t){const n=i.slice();return n[26]=e[t],n}function JL(i){let e,t;return e=new jt({props:{solo:!0,className:"max-w-screen-lg mx-auto",$$slots:{default:[Ant]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&536870938&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function QL(i){let e,t;return e=new et({props:{icon:Go,className:"text-green-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function eO(i){var k;let e,t,n,r,s,l,o,a=((k=i[4].trackables[i[23].goal.tag])==null?void 0:k.formatValue(i[23].goal.target))+"",u,c,f,d;function m($,C){return $[23].trackableUsage?vnt:bnt}let p=m(i),g=p(i);return f=new et({props:{icon:rc,size:14,className:"opacity-50"}}),{c(){e=P("div"),t=P("span"),n=P("span"),g.c(),r=W(),s=P("span"),s.textContent="/",l=W(),o=P("span"),u=K(a),c=W(),B(f.$$.fragment),h(n,"class","usage-value font-semibold "),h(s,"class","opacity-40"),h(o,"class","target-value opacity-70"),h(e,"class","filler whitespace-nowrap text-right")},m($,C){w($,e,C),D(e,t),D(t,n),g.m(n,null),D(t,r),D(t,s),D(t,l),D(t,o),D(o,u),D(e,c),O(f,e,null),d=!0},p($,C){var E;p===(p=m($))&&g?g.p($,C):(g.d(1),g=p($),g&&(g.c(),g.m(n,null))),(!d||C&18)&&a!==(a=((E=$[4].trackables[$[23].goal.tag])==null?void 0:E.formatValue($[23].goal.target))+"")&&de(u,a)},i($){d||(_(f.$$.fragment,$),d=!0)},o($){v(f.$$.fragment,$),d=!1},d($){$&&y(e),g.d(),I(f)}}}function vnt(i){let e=i[23].trackableUsage.totalOnly+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p(n,r){r&2&&e!==(e=n[23].trackableUsage.totalOnly+"")&&de(t,e)},d(n){n&&y(t)}}}function bnt(i){let e;return{c(){e=K("0")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function tO(i){let e,t;return e=new Dl({props:{percentage:0}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function knt(i){let e,t;return e=new Dl({props:{r2l:i[23].goal.isDontDoIt,percentage:i[26].percent||0}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.r2l=n[23].goal.isDontDoIt),r&2&&(s.percentage=n[26].percent||0),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ynt(i){let e,t;return e=new Dl({props:{percentage:i[26].percent||0,r2l:i[23].goal.isDontDoIt,barClass:"bg-green-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.percentage=n[26].percent||0),r&2&&(s.r2l=n[23].goal.isDontDoIt),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wnt(i){let e,t;return e=new Dl({props:{r2l:i[23].goal.isDontDoIt,barClass:"bg-yellow-500",percentage:i[26].percent||0}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.r2l=n[23].goal.isDontDoIt),r&2&&(s.percentage=n[26].percent||0),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $nt(i){let e,t;return e=new Dl({props:{barClass:"bg-red-500",r2l:i[23].goal.isDontDoIt,percentage:i[26].percent||0}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.r2l=n[23].goal.isDontDoIt),r&2&&(s.percentage=n[26].percent||0),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nO(i){let e,t,n,r;const s=[$nt,wnt,ynt,knt],l=[];function o(a,u){return a[26].failure?0:a[23].goal.isDontDoIt&&a[26].percent>80?1:a[26].success?2:3}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Fnt(i){var E,S;let e,t,n,r,s=((E=i[4].trackables[i[23].goal.tag])==null?void 0:E.label)+"",l,o,a,u,c,f,d,m=(i[23].scores&&((S=i[23].scores[0])==null?void 0:S.success)||i[23].goal.isDontDoIt&&!i[23].scores.length)&&QL(),p=!i[3]&&eO(i),g=!i[23].scores.length&&tO(),k=i[23].scores||[],$=[];for(let T=0;T<k.length;T+=1)$[T]=nO(KL(i,k,T));const C=T=>v($[T],1,1,()=>{$[T]=null});return{c(){e=P("div"),t=P("div"),n=P("h1"),r=P("div"),l=K(s),o=W(),m&&m.c(),a=W(),p&&p.c(),u=W(),c=P("div"),g&&g.c(),f=W();for(let T=0;T<$.length;T+=1)$[T].c();h(r,"class","line-clamp-1"),h(n,"class","font-semibold flex items-center space-x-2"),h(t,"class","flex items-center justify-between mb-2"),h(c,"class","progress pb-2"),h(e,"class","title-progress filler")},m(T,M){w(T,e,M),D(e,t),D(t,n),D(n,r),D(r,l),D(n,o),m&&m.m(n,null),D(t,a),p&&p.m(t,null),D(e,u),D(e,c),g&&g.m(c,null),D(c,f);for(let R=0;R<$.length;R+=1)$[R].m(c,null);d=!0},p(T,M){var R,Y;if((!d||M&18)&&s!==(s=((R=T[4].trackables[T[23].goal.tag])==null?void 0:R.label)+"")&&de(l,s),T[23].scores&&((Y=T[23].scores[0])==null?void 0:Y.success)||T[23].goal.isDontDoIt&&!T[23].scores.length?m?(m.p(T,M),M&2&&_(m,1)):(m=QL(),m.c(),_(m,1),m.m(n,null)):m&&(ae(),v(m,1,1,()=>{m=null}),ue()),T[3]?p&&(ae(),v(p,1,1,()=>{p=null}),ue()):p?(p.p(T,M),M&8&&_(p,1)):(p=eO(T),p.c(),_(p,1),p.m(t,null)),T[23].scores.length?g&&(ae(),v(g,1,1,()=>{g=null}),ue()):g?M&2&&_(g,1):(g=tO(),g.c(),_(g,1),g.m(c,f)),M&2){k=T[23].scores||[];let z;for(z=0;z<k.length;z+=1){const j=KL(T,k,z);$[z]?($[z].p(j,M),_($[z],1)):($[z]=nO(j),$[z].c(),_($[z],1),$[z].m(c,null))}for(ae(),z=k.length;z<$.length;z+=1)C(z);ue()}},i(T){if(!d){_(m),_(p),_(g);for(let M=0;M<k.length;M+=1)_($[M]);d=!0}},o(T){v(m),v(p),v(g),$=$.filter(Boolean);for(let M=0;M<$.length;M+=1)v($[M]);d=!1},d(T){T&&y(e),m&&m.d(),p&&p.d(),g&&g.d(),pt($,T)}}}function Ent(i){let e,t,n,r,s,l;n=new er({props:{className:" my-2",trackable:i[4].trackables[i[23].goal.tag],size:48}});function o(...a){return i[17](i[23],...a)}return{c(){e=P("div"),t=P("button"),B(n.$$.fragment),h(e,"slot","left"),h(e,"class","flex items-center space-x-2 stiff")},m(a,u){w(a,e,u),D(e,t),O(n,t,null),r=!0,s||(l=Se(t,"click",ic(il(o)),!0),s=!0)},p(a,u){i=a;const c={};u&18&&(c.trackable=i[4].trackables[i[23].goal.tag]),n.$set(c)},i(a){r||(_(n.$$.fragment,a),r=!0)},o(a){v(n.$$.fragment,a),r=!1},d(a){a&&y(e),I(n),s=!1,l()}}}function iO(i){let e,t,n,r,s,l,o;function a(...c){return i[15](i[23],...c)}r=new He({props:{clear:!0,icon:!0,$$slots:{default:[Cnt]},$$scope:{ctx:i}}}),r.$on("click",a);function u(...c){return i[16](i[23],...c)}return l=new He({props:{clear:!0,icon:!0,$$slots:{default:[Dnt]},$$scope:{ctx:i}}}),l.$on("click",u),{c(){e=P("div"),t=W(),n=P("div"),B(r.$$.fragment),s=W(),B(l.$$.fragment),h(e,"class","w-4 stiff"),h(n,"class","flex items-center space-x-1")},m(c,f){w(c,e,f),w(c,t,f),w(c,n,f),O(r,n,null),D(n,s),O(l,n,null),o=!0},p(c,f){i=c;const d={};f&536870912&&(d.$$scope={dirty:f,ctx:i}),r.$set(d);const m={};f&536870912&&(m.$$scope={dirty:f,ctx:i}),l.$set(m)},i(c){o||(_(r.$$.fragment,c),_(l.$$.fragment,c),o=!0)},o(c){v(r.$$.fragment,c),v(l.$$.fragment,c),o=!1},d(c){c&&y(e),c&&y(t),c&&y(n),I(r),I(l)}}}function Cnt(i){let e,t;return e=new et({props:{icon:ca,size:28,className:"text-black dark:text-white"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Dnt(i){let e,t;return e=new et({props:{icon:gnt,size:28,className:"text-red-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Snt(i){let e,t,n=i[3]&&iO(i);return{c(){e=P("div"),n&&n.c(),h(e,"slot","right"),h(e,"class","flex items-center")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[3]?n?(n.p(r,s),s&8&&_(n,1)):(n=iO(r),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function rO(i,e){let t,n,r;function s(...l){return e[18](e[23],...l)}return n=new lt({props:{clickable:!0,bottomLine:72,className:"relative transition-all duration-200",$$slots:{right:[Snt],left:[Ent],default:[Fnt]},$$scope:{ctx:e}}}),n.$on("click",s),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(l,o){w(l,t,o),O(n,l,o),r=!0},p(l,o){e=l;const a={};o&536870938&&(a.$$scope={dirty:o,ctx:e}),n.$set(a)},i(l){r||(_(n.$$.fragment,l),r=!0)},o(l){v(n.$$.fragment,l),r=!1},d(l){l&&y(t),I(n,l)}}}function Tnt(i){let e;return{c(){e=P("div"),e.textContent="Add Goal",h(e,"class","text-center text-primary")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Ant(i){let e=[],t=new Map,n,r,s,l=i[1];const o=a=>a[23].id;for(let a=0;a<l.length;a+=1){let u=XL(i,l,a),c=o(u);t.set(c,e[a]=rO(c,u))}return r=new lt({props:{$$slots:{default:[Tnt]},$$scope:{ctx:i}}}),r.$on("click",i[6]),{c(){for(let a=0;a<e.length;a+=1)e[a].c();n=W(),B(r.$$.fragment)},m(a,u){for(let c=0;c<e.length;c+=1)e[c].m(a,u);w(a,n,u),O(r,a,u),s=!0},p(a,u){u&442&&(l=a[1],ae(),e=Pi(e,u,o,1,a,l,t,n.parentNode,br,rO,n,XL),ue());const c={};u&536870912&&(c.$$scope={dirty:u,ctx:a}),r.$set(c)},i(a){if(!s){for(let u=0;u<l.length;u+=1)_(e[u]);_(r.$$.fragment,a),s=!0}},o(a){for(let u=0;u<e.length;u+=1)v(e[u]);v(r.$$.fragment,a),s=!1},d(a){for(let u=0;u<e.length;u+=1)e[u].d(a);a&&y(n),I(r,a)}}}function Pnt(i){let e,t;return e=new zi({props:{$$slots:{default:[Mnt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Nnt(i){let e,t;return e=new zi({props:{icon:_B,title:"No goals found",$$slots:{default:[jnt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Mnt(i){let e,t;return e=new ki({props:{size:32}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Lnt(i){let e,t;return e=new He({props:{className:"mt-2",clear:!0,primary:!0,$$slots:{default:[Bnt]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ont(i){let e,t;return e=new He({props:{className:"mt-2",clear:!0,primary:!0,$$slots:{default:[Rnt]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Int(i){let e,t;return e=new He({props:{className:"mt-2",clear:!0,primary:!0,$$slots:{default:[znt]},$$scope:{ctx:i}}}),e.$on("click",i[6]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Bnt(i){let e;return{c(){e=K("Create a Monthly Goal \u2192")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Rnt(i){let e;return{c(){e=K("Create a Weekly Goal \u2192")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function znt(i){let e;return{c(){e=K("Create a Daily Goal \u2192")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function jnt(i){let e,t,n,r;const s=[Int,Ont,Lnt],l=[];function o(a,u){return 0}return~(e=o())&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=Ae()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){t&&t.p(a,u)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function Ynt(i){let e,t,n,r;const s=[Nnt,Pnt],l=[];function o(a,u){return a[0].length===0&&!a[2]?0:a[2]?1:-1}return~(e=o(i))&&(t=l[e]=s[e](i)),{c(){t&&t.c(),n=Ae()},m(a,u){~e&&l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?~e&&l[e].p(a,u):(t&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~e?(t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n)):t=null)},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){~e&&l[e].d(a),a&&y(n)}}}function Unt(i){let e,t,n,r,s=i[0].length&&JL(i);return n=new jt({props:{transparent:!0,className:"max-w-md mx-auto",$$slots:{default:[Ynt]},$$scope:{ctx:i}}}),{c(){e=P("main"),s&&s.c(),t=W(),B(n.$$.fragment),h(e,"class","py-4 relative z-10 px-2 lg:px-4")},m(l,o){w(l,e,o),s&&s.m(e,null),D(e,t),O(n,e,null),r=!0},p(l,o){l[0].length?s?(s.p(l,o),o&1&&_(s,1)):(s=JL(l),s.c(),_(s,1),s.m(e,t)):s&&(ae(),v(s,1,1,()=>{s=null}),ue());const a={};o&536870917&&(a.$$scope={dirty:o,ctx:l}),n.$set(a)},i(l){r||(_(s),_(n.$$.fragment,l),r=!0)},o(l){v(s),v(n.$$.fragment,l),r=!1},d(l){l&&y(e),s&&s.d(),I(n)}}}function Wnt(i){let e;return{c(){e=P("h1"),e.textContent=`${Fe.t("goals.my-goals","My Goals")}`,h(e,"class","ntitle outline-none focus:ring-none")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function qnt(i){let e,t;return e=new et({props:{icon:Qk,size:32}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Hnt(i){let e,t,n;return t=new He({props:{primary:!0,clear:!0,icon:!0,$$slots:{default:[qnt]},$$scope:{ctx:i}}}),t.$on("click",i[6]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&536870912&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Vnt(i){let e,t;return e=new He({props:{clear:!0,primary:!0,$$slots:{default:[Gnt]},$$scope:{ctx:i}}}),e.$on("click",i[14]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function xnt(i){let e,t;return e=new He({props:{clear:!0,primary:!0,$$slots:{default:[Znt]},$$scope:{ctx:i}}}),e.$on("click",i[13]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&536870912&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Gnt(i){let e;return{c(){e=K("Edit")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Znt(i){let e;return{c(){e=K("Done")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Xnt(i){let e,t,n,r;const s=[xnt,Vnt],l=[];function o(a,u){return a[3]?0:a[0].length?1:-1}return~(t=o(i))&&(n=l[t]=s[t](i)),{c(){e=P("div"),n&&n.c(),h(e,"slot","right")},m(a,u){w(a,e,u),~t&&l[t].m(e,null),r=!0},p(a,u){let c=t;t=o(a),t===c?~t&&l[t].p(a,u):(n&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue()),~t?(n=l[t],n?n.p(a,u):(n=l[t]=s[t](a),n.c()),_(n,1),n.m(e,null)):n=null)},i(a){r||(_(n),r=!0)},o(a){v(n),r=!1},d(a){a&&y(e),~t&&l[t].d()}}}function Knt(i){let e,t,n;return t=new Sn({props:{$$slots:{right:[Xnt],left:[Hnt],default:[Wnt]},$$scope:{ctx:i}}}),{c(){e=P("header"),B(t.$$.fragment),h(e,"slot","header"),h(e,"class","glass z-50")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&536870921&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Jnt(i){let e,t;return e=new Is({props:{pageTitle:Fe.t("goals.goals","Goals"),$$slots:{header:[Knt],default:[Unt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&536870943&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}let Qnt="day";function eit(i,e,t){let n,r,s;Le(i,vf,j=>t(11,n=j)),Le(i,R0,j=>t(12,r=j)),Le(i,en,j=>t(4,s=j));let l=[],o=[],a=!0,u=!1,c=Te(),f=!0;const d=()=>{f=!1,setTimeout(()=>{f=!0},500)},m=Ey(()=>{try{n.length&&(t(2,a=!0),t(0,l=[...n]),uU(l,s.trackables,c).then(j=>{t(1,o=j)})),t(2,a=!1)}catch(j){at.error(j.message),t(2,a=!1)}t(1,o=[...o])},1e3);let p="";const g=()=>{const j=new b1({duration:Qnt});fk(j)},k=j=>{!C&&f&&jDe(j.goal)},$=async j=>{await at.confirm(`Delete the ${j.tag} goal?`,"You can always recreate it")&&(await vf.remove(j),m())};let C=!1,E;Yt(()=>{t(9,u=!0),E=dn.hook("onLogSaved",j=>{m()})}),Ns(()=>{E&&E()});const S=()=>{t(3,C=!1)},T=()=>{t(3,C=!0)},M=(j,V)=>{V.detail.preventDefault(),V.detail.stopPropagation(),fk(j.goal)},R=(j,V)=>{V.detail.preventDefault(),V.detail.stopPropagation(),$(j.goal)},Y=(j,V)=>{d(),Hr(s.trackables[j.goal.tag])},z=(j,V)=>{k(j)};return i.$$.update=()=>{i.$$.dirty&5632&&r.join(",")!==p&&u&&(t(10,p=r.join(",")),m()),i.$$.dirty&2048&&n&&m()},[l,o,a,C,s,d,g,k,$,u,p,n,r,S,T,M,R,Y,z]}class tit extends pe{constructor(e){super(),me(this,e,eit,Jnt,he,{})}}function nit(i){let e,t;return e=new tit({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}class Nq extends pe{constructor(e){super(),me(this,e,null,nit,he,{})}}function iit(i){let e;return{c(){e=P("main"),h(e,"class","p-4 analytics-view")},m(t,n){w(t,e,n)},p:Z,i:Z,o:Z,d(t){t&&y(e)}}}class rit extends pe{constructor(e){super(),me(this,e,null,iit,he,{})}}function sit(i){let e,t;return e=new rit({props:{endDate:i[0],startDate:i[1]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.endDate=n[0]),r&2&&(s.startDate=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lit(i){let e=i[1].format(i[2].tinyDate)+"",t,n,r,s,l=i[0].format(i[2].tinyDate)+"",o,a,u=i[0].format("YYYY")+"",c;return{c(){t=K(e),n=W(),r=P("span"),r.textContent="to",s=W(),o=K(l),a=W(),c=K(u),h(r,"class","font-normal px-2")},m(f,d){w(f,t,d),w(f,n,d),w(f,r,d),w(f,s,d),w(f,o,d),w(f,a,d),w(f,c,d)},p(f,d){d&2&&e!==(e=f[1].format(f[2].tinyDate)+"")&&de(t,e),d&1&&l!==(l=f[0].format(f[2].tinyDate)+"")&&de(o,l),d&1&&u!==(u=f[0].format("YYYY")+"")&&de(c,u)},d(f){f&&y(t),f&&y(n),f&&y(r),f&&y(s),f&&y(o),f&&y(a),f&&y(c)}}}function oit(i){let e,t,n;return t=new mh({props:{className:" items-center justify-center",hideCal:!0,$$slots:{default:[lit]},$$scope:{ctx:i}}}),t.$on("next",i[4]),t.$on("previous",i[3]),{c(){e=P("h1"),B(t.$$.fragment),h(e,"class","ntitle w-full")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&35&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function ait(i){let e,t;return e=new Os({props:{slot:"header",$$slots:{default:[oit]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function uit(i){let e,t;return e=new Is({props:{pageTitle:"My Analytics",$$slots:{header:[ait],default:[sit]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&35&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function cit(i,e,t){let n=Te(),r=Te().subtract(90,"days");const s=pi(),l=()=>{t(0,n=n.subtract(90,"days"))},o=()=>{t(0,n=n.add(90,"days"))};return i.$$.update=()=>{i.$$.dirty&1&&t(1,r=n.subtract(90,"days"))},[n,r,s,l,o]}class fit extends pe{constructor(e){super(),me(this,e,cit,uit,he,{})}}function sO(i,e,t){const n=i.slice();return n[31]=e[t],n[33]=t,n}function lO(i,e,t){const n=i.slice();return n[34]=e[t],n[33]=t,n}function oO(i,e,t){const n=i.slice();return n[31]=e[t],n[33]=t,n}function aO(i,e,t){const n=i.slice();return n[37]=e[t],n}function uO(i,e,t){const n=i.slice();return n[40]=e[t],n[33]=t,n}function cO(i,e,t){const n=i.slice();return n[42]=e[t],n[33]=t,n}const dit=i=>({}),fO=i=>({});function dO(i){let e,t=i[42]+"",n;return{c(){e=P("option"),n=K(t),e.__value=i[33],e.value=e.__value},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function hO(i){let e,t=i[40]+"",n;return{c(){e=P("option"),n=K(t),e.__value=i[40],e.value=e.__value},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function mO(i){let e,t,n;return{c(){e=P("button"),e.textContent="Today",h(e,"class","nselect"),ct(e,"sm",i[1]=="sm")},m(r,s){w(r,e,s),t||(n=Se(e,"click",i[25]),t=!0)},p(r,s){s[0]&2&&ct(e,"sm",r[1]=="sm")},d(r){r&&y(e),t=!1,n()}}}function pO(i){let e,t=i[37].substring(0,3)+"",n,r;return{c(){e=P("div"),n=K(t),r=W(),h(e,"class","cell")},m(s,l){w(s,e,l),D(e,n),D(e,r)},p:Z,d(s){s&&y(e)}}}function _O(i){let e,t,n=i[8]-(i[7]-(i[33]+1))+"",r,s,l,o,a,u,c,f;function d(){return i[26](i[33])}return{c(){var m,p,g;e=P("button"),t=P("span"),r=K(n),s=W(),h(e,"data-positivity",l=(m=i[3][i[2].toDate().toDateString()])==null?void 0:m.positivity),h(e,"data-value",o=(p=i[3][i[2].toDate().toDateString()])==null?void 0:p.value),h(e,"data-max",a=(g=i[3][i[2].toDate().toDateString()])==null?void 0:g.max),h(e,"class",u="past-month day d-"+i[2].format("YYYY-MM-DD")),ct(e,"today",i[2].format("YYYY-MM-DD")===i[10])},m(m,p){w(m,e,p),D(e,t),D(t,r),D(e,s),c||(f=Se(e,"click",d),c=!0)},p(m,p){var g,k,$;i=m,p[0]&384&&n!==(n=i[8]-(i[7]-(i[33]+1))+"")&&de(r,n),p[0]&12&&l!==(l=(g=i[3][i[2].toDate().toDateString()])==null?void 0:g.positivity)&&h(e,"data-positivity",l),p[0]&12&&o!==(o=(k=i[3][i[2].toDate().toDateString()])==null?void 0:k.value)&&h(e,"data-value",o),p[0]&12&&a!==(a=($=i[3][i[2].toDate().toDateString()])==null?void 0:$.max)&&h(e,"data-max",a),p[0]&4&&u!==(u="past-month day d-"+i[2].format("YYYY-MM-DD"))&&h(e,"class",u),p[0]&1028&&ct(e,"today",i[2].format("YYYY-MM-DD")===i[10])},d(m){m&&y(e),c=!1,f()}}}function gO(i){let e,t;return e=new Dl({props:{className:" h-1 absolute bottom-1 left-1 right-1",barClass:"h-1 "+(i[34].positivity==="positive"?"bg-green-500":i[34].positivity=="negative"?"bg-red-500":"bg-primary-500"),percentage:i[34].percentage}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r[0]&524&&(s.barClass="h-1 "+(n[34].positivity==="positive"?"bg-green-500":n[34].positivity=="negative"?"bg-red-500":"bg-primary-500")),r[0]&524&&(s.percentage=n[34].percentage),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function vO(i){let e,t,n=i[33]+1+"",r,s,l,o,a,u,c,f=i[34].percentage&&gO(i);function d(){return i[28](i[34])}return{c(){e=P("button"),t=P("span"),r=K(n),s=W(),f&&f.c(),l=W(),h(e,"class",o="cell day day-"+i[33]+" positivity-"+i[34].positivity),ct(e,"today",i[34].date.format("YYYY-MM-DD")===i[10])},m(m,p){w(m,e,p),D(e,t),D(t,r),D(e,s),f&&f.m(e,null),D(e,l),a=!0,u||(c=Se(e,"click",d),u=!0)},p(m,p){i=m,i[34].percentage?f?(f.p(i,p),p[0]&524&&_(f,1)):(f=gO(i),f.c(),_(f,1),f.m(e,l)):f&&(ae(),v(f,1,1,()=>{f=null}),ue()),(!a||p[0]&524&&o!==(o="cell day day-"+i[33]+" positivity-"+i[34].positivity))&&h(e,"class",o),(!a||p[0]&1548)&&ct(e,"today",i[34].date.format("YYYY-MM-DD")===i[10])},i(m){a||(_(f),a=!0)},o(m){v(f),a=!1},d(m){m&&y(e),f&&f.d(),u=!1,c()}}}function bO(i){let e,t,n=i[33]+1+"",r,s,l,o,a;function u(){return i[29](i[33])}return{c(){e=P("button"),t=P("span"),r=K(n),s=W(),h(e,"class",l="next-month day d-"+i[2].format("YYYY-MM-DD")),ct(e,"today",i[2].format("YYYY-MM-DD")==i[10])},m(c,f){w(c,e,f),D(e,t),D(t,r),D(e,s),o||(a=Se(e,"click",u),o=!0)},p(c,f){i=c,f[0]&4&&l!==(l="next-month day d-"+i[2].format("YYYY-MM-DD"))&&h(e,"class",l),f[0]&1028&&ct(e,"today",i[2].format("YYYY-MM-DD")==i[10])},d(c){c&&y(e),o=!1,a()}}}function hit(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C=i[0].toDateString()!==new Date().toDateString(),E,S,T,M,R,Y,z,j,V;const x=i[18]["header-left"],ee=nt(x,i,i[17],fO);let J=Array(12).fill(0).map(i[19]),q=[];for(let ke=0;ke<J.length;ke+=1)q[ke]=dO(cO(i,J,ke));let le=Array(12).fill(0).map(i[21]),G=[];for(let ke=0;ke<le.length;ke+=1)G[ke]=hO(uO(i,le,ke));m=new et({props:{icon:X1,size:22}}),k=new et({props:{icon:rc,size:22}});let X=C&&mO(i),se=i[12],te=[];for(let ke=0;ke<se.length;ke+=1)te[ke]=pO(aO(i,se,ke));let ie=Array(i[7]).fill(0),re=[];for(let ke=0;ke<ie.length;ke+=1)re[ke]=_O(oO(i,ie,ke));let be=Array(i[9]).fill(0).map(i[27]),we=[];for(let ke=0;ke<be.length;ke+=1)we[ke]=vO(lO(i,be,ke));const De=ke=>v(we[ke],1,1,()=>{we[ke]=null});let Be=Array(7-i[6]).fill(0),ze=[];for(let ke=0;ke<Be.length;ke+=1)ze[ke]=bO(sO(i,Be,ke));return{c(){e=P("div"),t=P("header"),n=P("div"),ee&&ee.c(),r=W(),s=P("div"),l=P("select");for(let ke=0;ke<q.length;ke+=1)q[ke].c();o=W(),a=P("select");for(let ke=0;ke<G.length;ke+=1)G[ke].c();u=W(),c=P("div"),f=W(),d=P("button"),B(m.$$.fragment),p=W(),g=P("button"),B(k.$$.fragment),$=W(),X&&X.c(),E=W(),S=P("div");for(let ke=0;ke<te.length;ke+=1)te[ke].c();T=W(),M=P("main");for(let ke=0;ke<re.length;ke+=1)re[ke].c();R=W();for(let ke=0;ke<we.length;ke+=1)we[ke].c();Y=W();for(let ke=0;ke<ze.length;ke+=1)ze[ke].c();h(l,"class","nselect rounded-r-none"),ct(l,"sm",i[1]=="sm"),h(a,"class","nselect rounded-l-none"),ct(a,"sm",i[1]=="sm"),h(s,"class","divide-x-2 divide-opacity-30 divide-gray-500 flex items-center nselect-group"),h(c,"class","filler"),h(d,"class","nselect clear"),ct(d,"sm",i[1]=="sm"),h(g,"class","nselect clear"),ct(g,"sm",i[1]=="sm"),h(n,"class","title py-2 px-2 ntitle flex items-center space-x-1"),h(S,"class","header-days grid grid-cols-7 w-full"),h(M,"class","grid grid-cols-7 w-full calendar-days"),h(e,"class","calendar-4"),h(e,"style","")},m(ke,Ue){w(ke,e,Ue),D(e,t),D(t,n),ee&&ee.m(n,null),D(n,r),D(n,s),D(s,l);for(let Ce=0;Ce<q.length;Ce+=1)q[Ce].m(l,null);ei(l,i[5]),D(s,o),D(s,a);for(let Ce=0;Ce<G.length;Ce+=1)G[Ce].m(a,null);ei(a,i[4]),D(n,u),D(n,c),D(n,f),D(n,d),O(m,d,null),D(n,p),D(n,g),O(k,g,null),D(n,$),X&&X.m(n,null),D(t,E),D(t,S);for(let Ce=0;Ce<te.length;Ce+=1)te[Ce].m(S,null);D(e,T),D(e,M);for(let Ce=0;Ce<re.length;Ce+=1)re[Ce].m(M,null);D(M,R);for(let Ce=0;Ce<we.length;Ce+=1)we[Ce].m(M,null);D(M,Y);for(let Ce=0;Ce<ze.length;Ce+=1)ze[Ce].m(M,null);z=!0,j||(V=[Se(l,"input",i[20]),Se(a,"input",i[22]),Se(d,"click",i[23]),Se(g,"click",i[24])],j=!0)},p(ke,Ue){if(ee&&ee.p&&(!z||Ue[0]&131072)&&rt(ee,x,ke,ke[17],z?it(x,ke[17],Ue,dit):st(ke[17]),fO),Ue&0){J=Array(12).fill(0).map(ke[19]);let Ce;for(Ce=0;Ce<J.length;Ce+=1){const vt=cO(ke,J,Ce);q[Ce]?q[Ce].p(vt,Ue):(q[Ce]=dO(vt),q[Ce].c(),q[Ce].m(l,null))}for(;Ce<q.length;Ce+=1)q[Ce].d(1);q.length=J.length}if((!z||Ue[0]&32)&&ei(l,ke[5]),(!z||Ue[0]&2)&&ct(l,"sm",ke[1]=="sm"),Ue&0){le=Array(12).fill(0).map(ke[21]);let Ce;for(Ce=0;Ce<le.length;Ce+=1){const vt=uO(ke,le,Ce);G[Ce]?G[Ce].p(vt,Ue):(G[Ce]=hO(vt),G[Ce].c(),G[Ce].m(a,null))}for(;Ce<G.length;Ce+=1)G[Ce].d(1);G.length=le.length}if((!z||Ue[0]&16)&&ei(a,ke[4]),(!z||Ue[0]&2)&&ct(a,"sm",ke[1]=="sm"),(!z||Ue[0]&2)&&ct(d,"sm",ke[1]=="sm"),(!z||Ue[0]&2)&&ct(g,"sm",ke[1]=="sm"),Ue[0]&1&&(C=ke[0].toDateString()!==new Date().toDateString()),C?X?X.p(ke,Ue):(X=mO(ke),X.c(),X.m(n,null)):X&&(X.d(1),X=null),Ue[0]&4096){se=ke[12];let Ce;for(Ce=0;Ce<se.length;Ce+=1){const vt=aO(ke,se,Ce);te[Ce]?te[Ce].p(vt,Ue):(te[Ce]=pO(vt),te[Ce].c(),te[Ce].m(S,null))}for(;Ce<te.length;Ce+=1)te[Ce].d(1);te.length=se.length}if(Ue[0]&17804){ie=Array(ke[7]).fill(0);let Ce;for(Ce=0;Ce<ie.length;Ce+=1){const vt=oO(ke,ie,Ce);re[Ce]?re[Ce].p(vt,Ue):(re[Ce]=_O(vt),re[Ce].c(),re[Ce].m(M,R))}for(;Ce<re.length;Ce+=1)re[Ce].d(1);re.length=ie.length}if(Ue[0]&17932){be=Array(ke[9]).fill(0).map(ke[27]);let Ce;for(Ce=0;Ce<be.length;Ce+=1){const vt=lO(ke,be,Ce);we[Ce]?(we[Ce].p(vt,Ue),_(we[Ce],1)):(we[Ce]=vO(vt),we[Ce].c(),_(we[Ce],1),we[Ce].m(M,Y))}for(ae(),Ce=be.length;Ce<we.length;Ce+=1)De(Ce);ue()}if(Ue[0]&17476){Be=Array(7-ke[6]).fill(0);let Ce;for(Ce=0;Ce<Be.length;Ce+=1){const vt=sO(ke,Be,Ce);ze[Ce]?ze[Ce].p(vt,Ue):(ze[Ce]=bO(vt),ze[Ce].c(),ze[Ce].m(M,null))}for(;Ce<ze.length;Ce+=1)ze[Ce].d(1);ze.length=Be.length}},i(ke){if(!z){_(ee,ke),_(m.$$.fragment,ke),_(k.$$.fragment,ke);for(let Ue=0;Ue<be.length;Ue+=1)_(we[Ue]);z=!0}},o(ke){v(ee,ke),v(m.$$.fragment,ke),v(k.$$.fragment,ke),we=we.filter(Boolean);for(let Ue=0;Ue<we.length;Ue+=1)v(we[Ue]);z=!1},d(ke){ke&&y(e),ee&&ee.d(ke),pt(q,ke),pt(G,ke),I(m),I(k),X&&X.d(),pt(te,ke),pt(re,ke),pt(we,ke),pt(ze,ke),j=!1,Ot(V)}}}function mit(i,e,t){let n,r,s,l,o,a,u,{$$slots:c={},$$scope:f}=e,{date:d=new Date}=e,{weekStarts:m="sunday"}=e,{days:p=[]}=e,{size:g="base"}=e,k=Te().format("YYYY-MM-DD");const $=Ut();let C=[Fe.t("days.monday","Monday"),Fe.t("days.tuesday","Tuesday"),Fe.t("days.wednesday","Wednesday"),Fe.t("days.thursday","Thursday"),Fe.t("days.friday","Friday"),Fe.t("days.saturday","Saturday"),Fe.t("days.sunday","Sunday")],E={};const S=G=>{G==="next"?t(0,d=Te(d).add(1,"month").toDate()):t(0,d=Te(d).subtract(1,"month").toDate()),$("dateChange",d)},T=G=>{$("input",G.toDate())},M=(G,X)=>Te().month(X).startOf("month").format("MMM"),R=G=>{let X=n.month(G.target.value);t(0,d=X.toDate()),$("dateChange",X.toDate())},Y=(G,X)=>gi(Te().format("YYYY"))-X,z=G=>{let X=n.year(gi(G.target.value));t(0,d=X.toDate()),$("dateChange",X)},j=()=>S("previous"),V=()=>S("next"),x=()=>{t(0,d=new Date)},ee=G=>{let X=s-(l-(G+1));T(n.subtract(1,"month").date(X))},J=(G,X)=>{const se=n.date(X+1);let te=E[se.toDate().toDateString()];return{date:se,key:se.toDate().toDateString(),value:te==null?void 0:te.value,positivity:(te==null?void 0:te.positivity)>0?"positive":(te==null?void 0:te.positivity)<0?"negative":"neutral",percentage:(te==null?void 0:te.percentage)||Nt.percentage((te==null?void 0:te.max)||10,(te==null?void 0:te.value)||0)}},q=G=>{T(G.date)},le=G=>{T(n.add(1,"month").date(G+1))};return i.$$set=G=>{"date"in G&&t(0,d=G.date),"weekStarts"in G&&t(15,m=G.weekStarts),"days"in G&&t(16,p=G.days),"size"in G&&t(1,g=G.size),"$$scope"in G&&t(17,f=G.$$scope)},i.$$.update=()=>{if(i.$$.dirty[0]&65536&&di(p)&&p.forEach(G=>{t(3,E[G.date.toDateString()]=G,E)}),i.$$.dirty[0]&1&&t(2,n=Te(d).startOf("month")),i.$$.dirty[0]&4&&t(9,r=n.daysInMonth()),i.$$.dirty[0]&4&&t(8,s=n.subtract(1,"month").daysInMonth()),i.$$.dirty[0]&32772&&t(7,l=n.day()-(m==="monday"?1:0)),i.$$.dirty[0]&32772&&t(6,o=n.endOf("month").day()+(m==="monday"?0:1)),i.$$.dirty[0]&4&&t(5,a=n.month()),i.$$.dirty[0]&4&&t(4,u=gi(n.format("YYYY"))),i.$$.dirty[0]&32768&&m=="sunday"){const G=C.pop();C.unshift(G)}},[d,g,n,E,u,a,o,l,s,r,k,$,C,S,T,m,p,f,c,M,R,Y,z,j,V,x,ee,J,q,le]}class pit extends pe{constructor(e){super(),me(this,e,mit,hit,he,{date:0,weekStarts:15,days:16,size:1},null,[-1,-1])}}function _it(i){let e;return{c(){e=K("Ripple Test")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function git(i){let e,t,n,r,s,l;return e=new Wn({props:{listItem:!0,placeholder:"Name"}}),n=new hi({props:{left:16}}),s=new Wn({props:{listItem:!0,placeholder:"Address"}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment)},m(o,a){O(e,o,a),w(o,t,a),O(n,o,a),w(o,r,a),O(s,o,a),l=!0},p:Z,i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){I(e,o),o&&y(t),I(n,o),o&&y(r),I(s,o)}}}function vit(i){let e,t,n=i[3]+"",r,s;return{c(){e=P("div"),t=P("div"),r=K(n),h(t,"class",s="text-center "+(i[3]===i[2]?"bg-green-400":"bg-blue-500")+" rounded-lg h-10"),h(e,"class","item p-2 P "),gt(e,"width","10vw")},m(l,o){w(l,e,o),D(e,t),D(t,r)},p(l,o){o&8&&n!==(n=l[3]+"")&&de(r,n),o&12&&s!==(s="text-center "+(l[3]===l[2]?"bg-green-400":"bg-blue-500")+" rounded-lg h-10")&&h(t,"class",s)},d(l){l&&y(e)}}}function bit(i){let e,t,n=i[3]+"",r,s,l;return{c(){e=P("div"),t=P("div"),r=K(n),s=K("}"),h(t,"class",l="text-center "+(i[3]===i[2]?"bg-green-400":"bg-blue-500")+" h-12 rounded-lg"),h(e,"class","item p-2")},m(o,a){w(o,e,a),D(e,t),D(t,r),D(t,s)},p(o,a){a&8&&n!==(n=o[3]+"")&&de(r,n),a&12&&l!==(l="text-center "+(o[3]===o[2]?"bg-green-400":"bg-blue-500")+" h-12 rounded-lg")&&h(t,"class",l)},d(o){o&&y(e)}}}function kit(i){let e,t,n,r,s;return e=new F1({props:{snapToItem:"start",direction:"x",start:"start",scrollToIndex:6,items:Array(20).fill(0).map(Cit),itemClass:"",$$slots:{default:[vit,({firstPosItem:l,centerPosItem:o,item:a})=>({1:l,2:o,3:a}),({firstPosItem:l,centerPosItem:o,item:a})=>(l?2:0)|(o?4:0)|(a?8:0)]},$$scope:{ctx:i}}}),e.$on("change",Dit),r=new F1({props:{snapToItem:"end",start:"center",direction:"y",items:[1,2,3,4,5,6,7,8,9,10],itemClass:"",$$slots:{default:[bit,({firstPosItem:l,centerPosItem:o,item:a})=>({1:l,2:o,3:a}),({firstPosItem:l,centerPosItem:o,item:a})=>(l?2:0)|(o?4:0)|(a?8:0)]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),n=P("div"),B(r.$$.fragment),h(n,"class","h-80 bg-green-800 max-h-80 flex flex-col")},m(l,o){O(e,l,o),w(l,t,o),w(l,n,o),O(r,n,null),s=!0},p(l,o){const a={};o&28&&(a.$$scope={dirty:o,ctx:l}),e.$set(a);const u={};o&28&&(u.$$scope={dirty:o,ctx:l}),r.$set(u)},i(l){s||(_(e.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(e.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){I(e,l),l&&y(t),l&&y(n),I(r)}}}function yit(i){let e,t;return e=new pit({props:{weekStarts:i[0].weekStarts,date:new Date,days:[{date:Te().subtract(2,"day").toDate(),value:24,max:24,positivity:-1},{date:new Date,value:12,max:24}]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.weekStarts=n[0].weekStarts),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wit(i){let e,t,n,r,s,l,o,a,u,c,f;return t=new He({props:{className:"bg-primary-500",size:"lg",$$slots:{default:[_it]},$$scope:{ctx:i}}}),l=new jt({props:{solo:!0,className:"mb-5",$$slots:{default:[git]},$$scope:{ctx:i}}}),a=new jt({props:{solo:!0,className:"mb-5",$$slots:{default:[kit]},$$scope:{ctx:i}}}),c=new jt({props:{solo:!0,$$slots:{default:[yit]},$$scope:{ctx:i}}}),{c(){e=P("main"),B(t.$$.fragment),n=W(),r=P("div"),s=W(),B(l.$$.fragment),o=W(),B(a.$$.fragment),u=W(),B(c.$$.fragment),h(r,"class","h-12"),h(e,"class","p-4")},m(d,m){w(d,e,m),O(t,e,null),D(e,n),D(e,r),D(e,s),O(l,e,null),D(e,o),O(a,e,null),D(e,u),O(c,e,null),f=!0},p(d,m){const p={};m&16&&(p.$$scope={dirty:m,ctx:d}),t.$set(p);const g={};m&16&&(g.$$scope={dirty:m,ctx:d}),l.$set(g);const k={};m&16&&(k.$$scope={dirty:m,ctx:d}),a.$set(k);const $={};m&17&&($.$$scope={dirty:m,ctx:d}),c.$set($)},i(d){f||(_(t.$$.fragment,d),_(l.$$.fragment,d),_(a.$$.fragment,d),_(c.$$.fragment,d),f=!0)},o(d){v(t.$$.fragment,d),v(l.$$.fragment,d),v(a.$$.fragment,d),v(c.$$.fragment,d),f=!1},d(d){d&&y(e),I(t),I(l),I(a),I(c)}}}function $it(i){let e;return{c(){e=P("h1"),e.textContent="UI Tests N6",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Fit(i){let e,t;return e=new Sn({props:{slot:"header",className:"shadow-md",$$slots:{default:[$it]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Eit(i){let e,t;return e=new Is({props:{$$slots:{header:[Fit],default:[wit]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&17&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}const Cit=(i,e)=>e,Dit=i=>{};function Sit(i,e,t){let n;return Le(i,Ht,r=>t(0,n=r)),[n]}class Tit extends pe{constructor(e){super(),me(this,e,Sit,Eit,he,{})}}function Ait(i){let e;return{c(){e=P("h1"),e.textContent="Units of Measure",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Pit(i){let e,t;return e=new et({props:{icon:cee,className:"text-primary-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Nit(i){let e,t;return e=new He({props:{slot:"left",icon:!0,$$slots:{default:[Pit]},$$scope:{ctx:i}}}),e.$on("click",Oit),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Mit(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{left:[Nit],default:[Ait]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Lit(i){let e,t;return e=new Is({props:{$$slots:{header:[Mit]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}const Oit=()=>{};class Iit extends pe{constructor(e){super(),me(this,e,null,Lit,he,{})}}function Bit(i){let e,t,n,r,s,l,o,a=i[1].name+"",u,c,f,d=Te(i[1].timestamp).fromNow()+"",m;return{c(){e=P("div"),t=P("img"),s=W(),l=P("div"),o=P("div"),u=K(a),c=W(),f=P("p"),m=K(d),Jr(t.src,n=`/images/awards/${i[1].id}.svg`)||h(t,"src",n),h(t,"alt",r=i[1].name),h(t,"class","w-100"),h(o,"class","title"),h(f,"class","desc"),h(l,"class","main"),h(e,"class","award-badge"),ct(e,"sm",i[0])},m(p,g){w(p,e,g),D(e,t),D(e,s),D(e,l),D(l,o),D(o,u),D(l,c),D(l,f),D(f,m)},p(p,[g]){g&2&&!Jr(t.src,n=`/images/awards/${p[1].id}.svg`)&&h(t,"src",n),g&2&&r!==(r=p[1].name)&&h(t,"alt",r),g&2&&a!==(a=p[1].name+"")&&de(u,a),g&2&&d!==(d=Te(p[1].timestamp).fromNow()+"")&&de(m,d),g&1&&ct(e,"sm",p[0])},i:Z,o:Z,d(p){p&&y(e)}}}function Rit(i,e,t){let{sm:n=!1}=e,{award:r}=e;return i.$$set=s=>{"sm"in s&&t(0,n=s.sm),"award"in s&&t(1,r=s.award)},[n,r]}class zit extends pe{constructor(e){super(),me(this,e,Rit,Bit,he,{sm:0,award:1})}}function kO(i,e,t){const n=i.slice();return n[1]=e[t],n[3]=t,n}function yO(i){let e,t;return e=new zit({props:{award:i[1]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.award=n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function jit(i){let e,t,n=i[0].awards,r=[];for(let l=0;l<n.length;l+=1)r[l]=yO(kO(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=P("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","px-4 grid grid-cols-3 gap-3")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&1){n=l[0].awards;let a;for(a=0;a<n.length;a+=1){const u=kO(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=yO(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),pt(r,l)}}}function Yit(i){let e,t,n;return t=new Li({props:{className:"py-4",$$slots:{default:[jit]},$$scope:{ctx:i}}}),{c(){e=P("main"),B(t.$$.fragment),h(e,"class","h-full ")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&17&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Uit(i){let e;return{c(){e=P("h1"),e.textContent="My Awards",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Wit(i){let e,t,n;return t=new Ph({props:{to:"/settings"}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function qit(i){let e,t,n;return t=new Sn({props:{$$slots:{left:[Wit],default:[Uit]},$$scope:{ctx:i}}}),{c(){e=P("header"),B(t.$$.fragment),h(e,"slot","header")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&16&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Hit(i){let e,t;return e=new Is({props:{$$slots:{header:[qit],default:[Yit]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&17&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Vit(i,e,t){let n;return Le(i,ll,r=>t(0,n=r)),[n]}class xit extends pe{constructor(e){super(),me(this,e,Vit,Hit,he,{})}}function Git(i){let e,t;return e=new xit({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}class Zit extends pe{constructor(e){super(),me(this,e,null,Git,he,{})}}const wO=[{question:"What should I track?",answer:`That's really up to you. But, you can't go wrong tracking your 
				mood a couple times a day, and each time you drink water. From there, you'll start to see what 
				else you might want to track and understand.`},{question:"Can I order my trackers?",answer:'On the Track view, tap the \u2022\u2022\u2022 icon in the upper right, then select "Manage this tab"'},{question:"Can I delete a tracker off the main screen?",answer:"Only if you want to delete that tracker from Nomie. You can always recreate it, and the data you tracked with that tracker will remain. Only the tracker button will be deleted."},{question:"When should I track?",answer:`That's really up to you too, but the key is to keep it balanced, 
				track a few times throughout the day maybe?`},{question:"Where's my data stored?",answer:`If you went with the cloud option, your data is stored encrypted in Blockstack's instance of GaiaHub. 
				The only person able to decrypt your data is you. If you picked local storage, then your data is stored 
				in the browser that's running this instance of Nomie.`},{question:"Can I host my own data?",answer:`Yes! If you're technical search "Blockstack DigitalOcean GaiaHub" and follow the instructions.
				This will direct you to Blockstack where you'll set your own GaiaHub storage`},{question:"Can the Nomie API export data from Nomie?",answer:"No, the API is only for pulling content INTO Nomie. To get your data out, either use the Backup or CSV Export methods."},{question:"What are the limits of Nomie's API?",answer:`You get 10 slots to store data to push into Nomie. When Nomie imports a record, it will be removed, freeing up the slot. 
    I do this to ensure people don't go hog wild like they did with Nomie 2 and 3's API`},{question:"Can I auto import things into this version of Nomie?",answer:`Yes! Using the Nomie API, or by using a custom URL parameter. If you add "/?note=Hi" to the end of any Nomie URL - it will create a note. Apps like Tasker (Android) and 
				Shortcuts in iOS can open web browsers. So you url encode a note with the 
				data you need. For example: #water(34)`},{question:"Why create Nomie?",answer:"Because I (@brandoncorbin) need it."}];function $O(i,e,t){const n=i.slice();return n[0]=e[t],n}function Xit(i){let e,t=i[0].question+"",n,r,s,l=i[0].answer+"",o;return{c(){e=P("div"),n=K(t),r=W(),s=P("p"),o=K(l),h(e,"class","mb-1 font-bold leading-tight"),h(s,"class","leading-tight text-gray-700 dark:text-gray-300 font-sm")},m(a,u){w(a,e,u),D(e,n),w(a,r,u),w(a,s,u),D(s,o)},p:Z,d(a){a&&y(e),a&&y(r),a&&y(s)}}}function FO(i){let e,t,n,r;return t=new lt({props:{className:"solo py-3 bg-white dark:bg-gray-900",$$slots:{default:[Xit]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),n=W(),h(e,"class","my-3")},m(s,l){w(s,e,l),O(t,e,null),D(e,n),r=!0},p(s,l){const o={};l&8&&(o.$$scope={dirty:l,ctx:s}),t.$set(o)},i(s){r||(_(t.$$.fragment,s),r=!0)},o(s){v(t.$$.fragment,s),r=!1},d(s){s&&y(e),I(t)}}}function Kit(i){let e,t,n=wO,r=[];for(let l=0;l<n.length;l+=1)r[l]=FO($O(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=P("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"class","min-h-full bg-gray-200 dark:bg-gray-800")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,o){if(o&0){n=wO;let a;for(a=0;a<n.length;a+=1){const u=$O(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=FO(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),pt(r,l)}}}function Jit(i){let e,t,n,r,s,l,o,a;return n=new Ph({}),{c(){e=P("div"),t=P("div"),B(n.$$.fragment),r=W(),s=P("div"),s.textContent="Q&A",l=W(),o=P("div"),h(t,"class","left"),h(s,"class","main title"),h(o,"class","right"),h(e,"slot","header"),h(e,"class","n-toolbar-grid")},m(u,c){w(u,e,c),D(e,t),O(n,t,null),D(e,r),D(e,s),D(e,l),D(e,o),a=!0},p:Z,i(u){a||(_(n.$$.fragment,u),a=!0)},o(u){v(n.$$.fragment,u),a=!1},d(u){u&&y(e),I(n)}}}function Qit(i){let e,t;return e=new Is({props:{className:"faq",pageTitle:"Common Questions about Nomie",showTabs:!1,$$slots:{header:[Jit],default:[Kit]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&8&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}class ert extends pe{constructor(e){super(),me(this,e,null,Qit,he,{})}}const trt=()=>{const{update:i,subscribe:e,set:t}=rn({logs:[],lastSync:void 0,status:"idle"}),n={async init(){let o=await _n.engines.local.get(`${us.data_root}/offline-queue`)||{logs:[],lastSync:void 0};o.logs=(o.logs||[]).map(a=>new gn(a)).sort((a,u)=>a.end<u.end?1:-1),n.state(o)},async sync(){let o=n.state({status:"syncing"}),a=[];for(let u=0;u<o.logs.length;u++){const c=o.logs[u];let f=await dn._saveLog(c);await Ps(500),f&&a.push(c)}return o.logs.length==a.length?l({status:"idle",logs:[]}):(at.alert("Error","Some logs did not save, check the console for more information"),console.error({logs:a,stateLogs:o.logs})),a},state(o={}){let a;return i(u=>(a={...u,...o},a)),a},async record(o){let a=n.state();return a.logs.push(o),l(a),!0}};async function r(o){try{if(confirm(Fe.t("board.delete-log-from-offline-queue","Delete this note from offline queue?"))){const u=n.state();u.logs=u.logs.filter(c=>c!==o),await l(u)}return!0}catch(a){alert(a.message)}}async function s(){return await at.confirm(Fe.t("board.empty-offline-title","Delete logs in offline queue?"),"This cannot be undone")&&(await l({status:"idle",logs:[]}),qn({message:"Offline Queue cleared"})),!0}function l(o){i(a=>(a={...a,...o},_n.engines.local.put(`${us.data_root}/offline-queue`,a),a))}return{update:i,subscribe:e,set:t,...n,clear:s,removeLog:r}},Cp=trt();window.OQ=Cp;function EO(i,e,t){const n=i.slice();return n[5]=e[t],n}function CO(i){let e,t,n,r,s,l,o,a,u,c;s=new He({props:{className:`offline-queue-button ${i[0]?"active":""}`,shape:"round",size:"sm",color:"light",$$slots:{default:[drt]},$$scope:{ctx:i}}}),s.$on("click",i[3]);let f=i[0]&&DO(i);return{c(){e=P("div"),t=P("div"),n=P("div"),r=W(),B(s.$$.fragment),l=W(),o=P("div"),a=W(),f&&f.c(),u=Ae(),h(n,"class","filler"),h(o,"class","filler"),h(t,"class","items-center flex justify-center"),h(e,"class","mx-auto")},m(d,m){w(d,e,m),D(e,t),D(t,n),D(t,r),O(s,t,null),D(t,l),D(t,o),w(d,a,m),f&&f.m(d,m),w(d,u,m),c=!0},p(d,m){const p={};m&1&&(p.className=`offline-queue-button ${d[0]?"active":""}`),m&262&&(p.$$scope={dirty:m,ctx:d}),s.$set(p),d[0]?f?(f.p(d,m),m&1&&_(f,1)):(f=DO(d),f.c(),_(f,1),f.m(u.parentNode,u)):f&&(ae(),v(f,1,1,()=>{f=null}),ue())},i(d){c||(_(s.$$.fragment,d),_(f),c=!0)},o(d){v(s.$$.fragment,d),v(f),c=!1},d(d){d&&y(e),I(s),d&&y(a),f&&f.d(d),d&&y(u)}}}function nrt(i){let e,t;return e=new vr({props:{size:"sm",$$slots:{default:[rrt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function irt(i){let e,t,n,r,s,l;e=new vr({props:{inline:!0,size:"sm",faded:!0,$$slots:{default:[srt]},$$scope:{ctx:i}}});const o=[ort,lrt],a=[];function u(c,f){return c[2].offline?1:0}return n=u(i),r=a[n]=o[n](i),{c(){B(e.$$.fragment),t=W(),r.c(),s=Ae()},m(c,f){O(e,c,f),w(c,t,f),a[n].m(c,f),w(c,s,f),l=!0},p(c,f){const d={};f&258&&(d.$$scope={dirty:f,ctx:c}),e.$set(d);let m=n;n=u(c),n===m?a[n].p(c,f):(ae(),v(a[m],1,1,()=>{a[m]=null}),ue(),r=a[n],r?r.p(c,f):(r=a[n]=o[n](c),r.c()),_(r,1),r.m(s.parentNode,s))},i(c){l||(_(e.$$.fragment,c),_(r),l=!0)},o(c){v(e.$$.fragment,c),v(r),l=!1},d(c){I(e,c),c&&y(t),a[n].d(c),c&&y(s)}}}function rrt(i){let e,t,n;return e=new ki({props:{size:16}}),{c(){B(e.$$.fragment),t=K(`
            Syncing...`)},m(r,s){O(e,r,s),w(r,t,s),n=!0},p:Z,i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){I(e,r),r&&y(t)}}}function srt(i){let e=i[1].logs.length+"",t,n,r=i[1].logs.length>1?"logs":"log",s,l;return{c(){t=K(e),n=W(),s=K(r),l=K(" in the offline queue.")},m(o,a){w(o,t,a),w(o,n,a),w(o,s,a),w(o,l,a)},p(o,a){a&2&&e!==(e=o[1].logs.length+"")&&de(t,e),a&2&&r!==(r=o[1].logs.length>1?"logs":"log")&&de(s,r)},d(o){o&&y(t),o&&y(n),o&&y(s),o&&y(l)}}}function lrt(i){let e,t;return e=new vr({props:{inline:!0,className:"ml-2",size:"sm",$$slots:{default:[art]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&256&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function ort(i){let e,t,n,r,s,l;return e=new vr({props:{inline:!0,underline:!0,color:"primary-bright",className:"ml-2",size:"sm",$$slots:{default:[urt]},$$scope:{ctx:i}}}),e.$on("click",Cp.sync),n=new vr({props:{inline:!0,color:"fill-solid-3",className:"ml-2",size:"sm",$$slots:{default:[crt]},$$scope:{ctx:i}}}),s=new He({props:{size:"sm",icon:!0,$$slots:{default:[frt]},$$scope:{ctx:i}}}),s.$on("click",Cp.clear),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment)},m(o,a){O(e,o,a),w(o,t,a),O(n,o,a),w(o,r,a),O(s,o,a),l=!0},p(o,a){const u={};a&256&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&256&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&256&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){I(e,o),o&&y(t),I(n,o),o&&y(r),I(s,o)}}}function art(i){let e;return{c(){e=K("Offline")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function urt(i){let e=Fe.t("general.sync-now","Sync")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function crt(i){let e;return{c(){e=K("or")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function frt(i){let e,t;return e=new et({props:{icon:wf}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function drt(i){let e,t,n,r;const s=[irt,nrt],l=[];function o(a,u){return a[1].status!=="syncing"?0:1}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function DO(i){let e,t;return e=new jt({props:{className:"bg-transparent container-sm",$$slots:{default:[prt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&258&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function hrt(i){let e,t;return e=new et({props:{icon:wf,size:24,className:"text-red-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mrt(i){let e,t,n,r;function s(){return i[4](i[5])}return t=new He({props:{icon:!0,$$slots:{default:[hrt]},$$scope:{ctx:i}}}),t.$on("click",s),{c(){e=P("div"),B(t.$$.fragment),n=W(),h(e,"slot","more"),h(e,"class","ml-4")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),r=!0},p(l,o){i=l;const a={};o&256&&(a.$$scope={dirty:o,ctx:i}),t.$set(a)},i(l){r||(_(t.$$.fragment,l),r=!0)},o(l){v(t.$$.fragment,l),r=!1},d(l){l&&y(e),I(t)}}}function SO(i){let e,t;return e=new mc({props:{log:i[5],hideMore:!0,$$slots:{more:[mrt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.log=n[5]),r&258&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function prt(i){let e,t,n=i[1].logs,r=[];for(let l=0;l<n.length;l+=1)r[l]=SO(EO(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&2){n=l[1].logs;let a;for(a=0;a<n.length;a+=1){const u=EO(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=SO(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function _rt(i){let e,t,n=i[1].logs&&i[1].logs.length&&CO(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[1].logs&&r[1].logs.length?n?(n.p(r,s),s&2&&_(n,1)):(n=CO(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function grt(i,e,t){let n,r;Le(i,Cp,a=>t(1,n=a)),Le(i,Ni,a=>t(2,r=a));let s=!1;return[s,n,r,()=>{t(0,s=!s)},a=>{Cp.removeLog(a)}]}class vrt extends pe{constructor(e){super(),me(this,e,grt,_rt,he,{})}}function brt(i){let e,t;return e=new et({props:{className:"text-primary-500",icon:ah,size:24}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function TO(i){let e,t;return e=new ki({props:{size:16}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function krt(i){let e,t,n,r,s=i[1].date.format("ddd")+"",l,o,a=i[1].date.format(i[9].date)+"",u,c,f,d,m,p;e=new He({props:{icon:!0,$$slots:{default:[brt]},$$scope:{ctx:i}}}),e.$on("click",i[11].search);let g=i[3]&&TO();return m=new mh({props:{isToday:i[6]}}),m.$on("previous",i[11].previous),m.$on("next",i[11].next),m.$on("calendar",i[11].selectDate),{c(){B(e.$$.fragment),t=W(),g&&g.c(),n=W(),r=P("h1"),l=K(s),o=W(),u=K(a),c=W(),f=P("div"),d=W(),B(m.$$.fragment),h(r,"class","leading-none ntitle line-clamp-1 text-left ml-2"),h(r,"aria-label","Current Active Date"),h(f,"class","filler")},m(k,$){O(e,k,$),w(k,t,$),g&&g.m(k,$),w(k,n,$),w(k,r,$),D(r,l),D(r,o),D(r,u),w(k,c,$),w(k,f,$),w(k,d,$),O(m,k,$),p=!0},p(k,$){const C={};$&2097152&&(C.$$scope={dirty:$,ctx:k}),e.$set(C),k[3]?g?$&8&&_(g,1):(g=TO(),g.c(),_(g,1),g.m(n.parentNode,n)):g&&(ae(),v(g,1,1,()=>{g=null}),ue()),(!p||$&2)&&s!==(s=k[1].date.format("ddd")+"")&&de(l,s),(!p||$&2)&&a!==(a=k[1].date.format(k[9].date)+"")&&de(u,a);const E={};$&64&&(E.isToday=k[6]),m.$set(E)},i(k){p||(_(e.$$.fragment,k),_(g),_(m.$$.fragment,k),p=!0)},o(k){v(e.$$.fragment,k),v(g),v(m.$$.fragment,k),p=!1},d(k){I(e,k),k&&y(t),g&&g.d(k),k&&y(n),k&&y(r),k&&y(c),k&&y(f),k&&y(d),I(m,k)}}}function AO(i){let e,t;return e=new Os({props:{className:"px-4",$$slots:{default:[yrt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2097280&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function yrt(i){let e,t,n;function r(l){i[15](l)}let s={compact:!0,buttons:wU.map(Trt)};return i[7]!==void 0&&(s.value=i[7]),e=new Hl({props:s}),Oe.push(()=>Qe(e,"value",r,i[7])),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};!t&&o&128&&(t=!0,a.value=l[7],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function wrt(i){let e,t,n,r;e=new Os({props:{className:" px-2 items-center",$$slots:{default:[krt]},$$scope:{ctx:i}}});let s=i[4].length&&AO(i);return{c(){B(e.$$.fragment),t=W(),s&&s.c(),n=Ae()},m(l,o){O(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o&2097226&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[4].length?s?(s.p(l,o),o&16&&_(s,1)):(s=AO(l),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){I(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function $rt(i){let e,t,n;return t=new Li({props:{$$slots:{default:[wrt]},$$scope:{ctx:i}}}),{c(){e=P("header"),B(t.$$.fragment),h(e,"slot","header"),h(e,"class","items-center flex-column z-30")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&2097370&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Frt(i){let e,t;return e=new Li({props:{className:"flex items-center justify-center max-h-full h-75vh",$$slots:{default:[Crt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2097410&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ert(i){let e,t,n;return t=new ki({}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","flex items-center justify-center w-full max-h-full h-75vh")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Crt(i){let e,t;return e=new zi({props:{emoji:"\u23F3",title:i[1].date.format(i[8].use24hour?"ddd Do MMM YYYY":"ddd MMM Do YYYY"),description:`${Fe.t("history.empty-day","No data was found on this day")}`,buttonLabel:Fe.t("history.add-a-note","Add a Note..."),buttonClick:i[10]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&258&&(s.title=n[1].date.format(n[8].use24hour?"ddd Do MMM YYYY":"ddd MMM Do YYYY")),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Drt(i){let e,t,n,r,s,l,o,a,u,c,f;n=new vrt({});const d=[Ert,Frt],m=[];function p(g,k){return g[5]?0:!g[5]&&!g[4].length?1:-1}return~(s=p(i))&&(l=m[s]=d[s](i)),a=new HU({props:{view:i[7],logs:i[4]}}),a.$on("date",i[14]),{c(){e=P("main"),t=P("div"),B(n.$$.fragment),r=W(),l&&l.c(),o=W(),B(a.$$.fragment),u=W(),c=P("div"),h(t,"class","relative flex-grow min-h-full h-full"),h(c,"class","h-20"),h(e,"slot","content"),h(e,"class","flex flex-col h-full page flex-grow h-75vh page-history")},m(g,k){w(g,e,k),D(e,t),O(n,t,null),D(t,r),~s&&m[s].m(t,null),D(t,o),O(a,t,null),D(e,u),D(e,c),f=!0},p(g,k){let $=s;s=p(g),s===$?~s&&m[s].p(g,k):(l&&(ae(),v(m[$],1,1,()=>{m[$]=null}),ue()),~s?(l=m[s],l?l.p(g,k):(l=m[s]=d[s](g),l.c()),_(l,1),l.m(t,o)):l=null);const C={};k&128&&(C.view=g[7]),k&16&&(C.logs=g[4]),a.$set(C)},i(g){f||(_(n.$$.fragment,g),_(l),_(a.$$.fragment,g),f=!0)},o(g){v(n.$$.fragment,g),v(l),v(a.$$.fragment,g),f=!1},d(g){g&&y(e),I(n),~s&&m[s].d(),I(a)}}}function Srt(i){let e,t;return e=new Is({props:{pageTitle:i[2],style:i[0],$$slots:{content:[Drt],header:[$rt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&4&&(s.pageTitle=n[2]),r&1&&(s.style=n[0]),r&2097658&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}const Trt=i=>({label:i.view,icon:i.icon,value:i.view});function Art(i,e,t){let n,r;Le(i,en,Y=>t(19,n=Y)),Le(i,Ht,Y=>t(8,r=Y));const s=void 0;let{style:l=void 0}=e,o=null;const a=pi(),u={date:Te(new Date),logs:[],ledger:null,locations:[],showAllLocations:!1};let c=!1,f=[],d=!0,m=!0,p="all",g;function k(){let Y={end:void 0};m||(Y.end=u.date.hour(Te().hour()).toDate().getTime());let z=new gn(Y);Oi.journal(z)}const $={async textClick(Y){let z=Y.detail,j=rr(z,n.trackables);Hr(j)},async getLogs(Y){return Y=Y!==!1,t(5,d=!0),t(4,f=await dn.query({start:u.date.startOf("day"),end:u.date.endOf("day"),fresh:Y})),t(4,f=f||[]),t(5,d=!1),f||[]},previous(){$.getDate(u.date.subtract(1,"day"))},getDate(Y){t(1,u.date=Y,u),$.getLogs(),$.scrollTop()},next(){$.getDate(u.date.add(1,"day"))},scrollTop(){document.getElementById("nomie-main").scrollTo({top:0})},goto(Y){t(1,u.date=Y,u),$.getLogs(),$.scrollTop()},search(){kf()},trackerTapped(Y,z){xm(Y.toTrackable())},personTapped(Y,z){xm(Y.toTrackable())},contextTapped(Y,z){xm(new Wi({type:"context",context:Y}))},showLogOptions(Y){at.logOptions(Y)},async selectDate(){const Y=await qw(u.date,m);$.goto(Y)}};async function C(){t(3,c=!0),await Ps(500),await $.getLogs(!0),await dn.getMemories(),t(3,c=!1)}let E,S,T;Yt(()=>{Ni.scrollToTop(),C(),E=dn.hook("onLogUpdate",async Y=>{await Ps(600),C()}),S=dn.hook("onLogSaved",async Y=>{await Ps(600),C()}),T=dn.hook("onLogsDeleted",async()=>{await Ps(600),C()})}),Ns(()=>{S(),E(),T()});const M=Y=>{$.getDate(Te(Y.detail))};function R(Y){p=Y,t(7,p)}return i.$$set=Y=>{"style"in Y&&t(0,l=Y.style)},i.$$.update=()=>{i.$$.dirty&8194&&u.date&&u.date!==g&&(t(13,g=u.date),t(6,m=new Date().toDateString()==u.date.toDate().toDateString())),i.$$.dirty&2&&t(2,o=`History ${u.date.format("YYYY-MM-DD")}`)},[l,u,o,c,f,d,m,p,r,a,k,$,s,g,M,R]}class Mq extends pe{constructor(e){super(),me(this,e,Art,Srt,he,{location:12,style:0})}get location(){return this.$$.ctx[12]}}function PO(i,e,t){const n=i.slice();return n[8]=e[t],n}function Prt(i){let e,t;return e=new kr({props:{slot:"left",emoji:"\u{1F4D0}",className:"-ml-1 mr-2",size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Nrt(i){let e,t,n;return t=new Hl({props:{buttons:[{label:Fe.t("settings.imperial","Imperial"),active:i[0].useMetric==!1,click:i[2]},{label:Fe.t("settings.metric","Metric"),active:i[0].useMetric==!0,click:i[3]}]}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.buttons=[{label:Fe.t("settings.imperial","Imperial"),active:r[0].useMetric==!1,click:r[2]},{label:Fe.t("settings.metric","Metric"),active:r[0].useMetric==!0,click:r[3]}]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Mrt(i){let e,t;return e=new kr({props:{slot:"left",emoji:"\u{1F5D3}",className:"-ml-1 mr-2",size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Lrt(i){let e,t,n,r;function s(o){i[4](o)}let l={buttons:[{label:Fe.t("settings.sun","Sun"),value:"sunday"},{label:Fe.t("settings.mon","Mon"),value:"monday"}]};return i[0].weekStarts!==void 0&&(l.value=i[0].weekStarts),t=new Hl({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].weekStarts)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].weekStarts,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function Ort(i){let e,t;return e=new kr({props:{slot:"left",emoji:"\u231A\uFE0F",className:"-ml-1 mr-2",size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Irt(i){let e,t,n,r;function s(o){i[5](o)}let l={title:"24 Hour Mode"};return i[0].use24hour!==void 0&&(l.value=i[0].use24hour),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].use24hour)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].use24hour,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function Brt(i){let e,t;return e=new kr({props:{slot:"left",emoji:"\u{1F30E}",className:"-ml-1 mr-2",size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function NO(i){let e,t=i[8].label+"",n;return{c(){e=P("option"),n=K(t),e.__value=i[8].key,e.value=e.__value},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function Rrt(i){let e,t,n,r,s=Fe.getLangs(),l=[];for(let o=0;o<s.length;o+=1)l[o]=NO(PO(i,s,o));return{c(){e=P("div"),t=P("select");for(let o=0;o<l.length;o+=1)l[o].c();h(t,"title","Select a Language"),h(t,"class","nselect clear"),i[1].lang===void 0&&Ei(()=>i[6].call(t)),h(e,"slot","right")},m(o,a){w(o,e,a),D(e,t);for(let u=0;u<l.length;u+=1)l[u].m(t,null);ei(t,i[1].lang),n||(r=[Se(t,"change",i[6]),Se(t,"change",i[7])],n=!0)},p(o,a){if(a&0){s=Fe.getLangs();let u;for(u=0;u<s.length;u+=1){const c=PO(o,s,u);l[u]?l[u].p(c,a):(l[u]=NO(c),l[u].c(),l[u].m(t,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=s.length}a&2&&ei(t,o[1].lang)},d(o){o&&y(e),pt(l,o),n=!1,Ot(r)}}}function zrt(i){let e,t,n,r,s,l,o,a;return e=new lt({props:{bottomLine:42,title:Fe.t("settings.unit-system,","Units"),$$slots:{right:[Nrt],left:[Prt]},$$scope:{ctx:i}}}),n=new lt({props:{bottomLine:42,title:Fe.t("settings.week-starts","Week Starts"),$$slots:{right:[Lrt],left:[Mrt]},$$scope:{ctx:i}}}),s=new lt({props:{bottomLine:42,title:Fe.t("settings.24-hour-clock","24 hour clock"),$$slots:{right:[Irt],left:[Ort]},$$scope:{ctx:i}}}),o=new lt({props:{bottomLine:42,title:Fe.t("settings.language","Language"),$$slots:{right:[Rrt],left:[Brt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment)},m(u,c){O(e,u,c),w(u,t,c),O(n,u,c),w(u,r,c),O(s,u,c),w(u,l,c),O(o,u,c),a=!0},p(u,c){const f={};c&2049&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const d={};c&2049&&(d.$$scope={dirty:c,ctx:u}),n.$set(d);const m={};c&2049&&(m.$$scope={dirty:c,ctx:u}),s.$set(m);const p={};c&2050&&(p.$$scope={dirty:c,ctx:u}),o.$set(p)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(s.$$.fragment,u),v(o.$$.fragment,u),a=!1},d(u){I(e,u),u&&y(t),I(n,u),u&&y(r),I(s,u),u&&y(l),I(o,u)}}}function jrt(i){let e,t;return e=new jt({props:{solo:!0,outside:!0,title:Fe.t("settings.locale","Locale"),className:"pb-2",$$slots:{default:[zrt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&2051&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Yrt(i,e,t){let n,r;Le(i,Ht,f=>t(0,n=f)),Le(i,Fe,f=>t(1,r=f));const s=function(){ui(Ht,n.useMetric=!1,n)},l=function(){ui(Ht,n.useMetric=!0,n)};function o(f){i.$$.not_equal(n.weekStarts,f)&&(n.weekStarts=f,Ht.set(n))}function a(f){i.$$.not_equal(n.use24hour,f)&&(n.use24hour=f,Ht.set(n))}function u(){r.lang=qo(this),Fe.set(r)}return[n,r,s,l,o,a,u,f=>{Fe.setLang(r.lang)}]}class Urt extends pe{constructor(e){super(),me(this,e,Yrt,jrt,he,{})}}function MO(i){let e;return{c(){e=P("div"),h(e,"class","gap"),gt(e,"height",i[2]*4+"px"),gt(e,"width",i[2]*4+"px")},m(t,n){w(t,e,n)},p(t,n){n&4&&gt(e,"height",t[2]*4+"px"),n&4&&gt(e,"width",t[2]*4+"px")},d(t){t&&y(e)}}}function Wrt(i){let e,t,n=i[2]&&MO(i);return{c(){e=P("div"),n&&n.c(),h(e,"class",t=(i[1]?"w-0":"flex-grow flex-shrink w-full")+" "+i[0])},m(r,s){w(r,e,s),n&&n.m(e,null)},p(r,[s]){r[2]?n?n.p(r,s):(n=MO(r),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&3&&t!==(t=(r[1]?"w-0":"flex-grow flex-shrink w-full")+" "+r[0])&&h(e,"class",t)},i:Z,o:Z,d(r){r&&y(e),n&&n.d()}}}function qrt(i,e,t){let{className:n=""}=e,{noFill:r=!1}=e,{gap:s=void 0}=e;return i.$$set=l=>{"className"in l&&t(0,n=l.className),"noFill"in l&&t(1,r=l.noFill),"gap"in l&&t(2,s=l.gap)},[n,r,s]}class Lq extends pe{constructor(e){super(),me(this,e,qrt,Wrt,he,{className:0,noFill:1,gap:2})}}function LO(i){let e={url:void 0,original:i,valid:!1};const t=n=>{let r=!0,s=(n||"").split("/");return s[0].search("http")==-1&&(r=!1),s.length<2&&(r=!1),r};try{e.url=new URL(i),e.valid=t(i)}catch{e.valid=!1}return e}function OO(i){let e,t,n,r=i[0].canSync&&IO(i),s=(!i[0].syncing||i[3])&&BO(i);return{c(){e=P("div"),r&&r.c(),t=W(),s&&s.c(),h(e,"class","pouchdb storage-option")},m(l,o){w(l,e,o),r&&r.m(e,null),D(e,t),s&&s.m(e,null),n=!0},p(l,o){l[0].canSync?r?(r.p(l,o),o&1&&_(r,1)):(r=IO(l),r.c(),_(r,1),r.m(e,t)):r&&(ae(),v(r,1,1,()=>{r=null}),ue()),!l[0].syncing||l[3]?s?(s.p(l,o),o&9&&_(s,1)):(s=BO(l),s.c(),_(s,1),s.m(e,null)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){n||(_(r),_(s),n=!0)},o(l){v(r),v(s),n=!1},d(l){l&&y(e),r&&r.d(),s&&s.d()}}}function IO(i){let e,t;return e=new lt({props:{title:"Sync",$$slots:{right:[xrt],left:[Vrt],default:[Hrt]},$$scope:{ctx:i}}}),e.$on("click",i[12]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&131089&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Hrt(i){let e,t;return{c(){e=P("div"),t=K(i[4]),h(e,"class","line-clamp-1 text-xs text-gray-500")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&16&&de(t,n[4])},d(n){n&&y(e)}}}function Vrt(i){let e,t,n;return{c(){e=P("div"),t=K("\u267B\uFE0F"),h(e,"slot","left"),h(e,"class",n=i[0].remote.syncEnabled?"":"opacity-20")},m(r,s){w(r,e,s),D(e,t)},p(r,s){s&1&&n!==(n=r[0].remote.syncEnabled?"":"opacity-20")&&h(e,"class",n)},d(r){r&&y(e)}}}function xrt(i){let e,t,n,r;function s(o){i[10](o)}let l={};return i[0].remote.syncEnabled!==void 0&&(l.value=i[0].remote.syncEnabled),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].remote.syncEnabled)),t.$on("change",i[11]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].remote.syncEnabled,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function BO(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M,R,Y,z,j;function V(De){i[13](De)}let x={listItem:!0,type:"text",label:"Server URL",placeholder:"https://my-couch-server:12345",autocomplete:"off",autocorrect:"false",autocapitalize:"off"};i[0].form.host!==void 0&&(x.value=i[0].form.host),e=new Wn({props:x}),Oe.push(()=>Qe(e,"value",V,i[0].form.host)),r=new hi({props:{left:16}});function ee(De){i[14](De)}let J={listItem:!0,type:"text",placeholder:"Database Name",autocomplete:"off",autocorrect:"false",autocapitalize:"off"};i[0].form.database!==void 0&&(J.value=i[0].form.database),l=new Wn({props:J}),Oe.push(()=>Qe(l,"value",ee,i[0].form.database)),u=new hi({props:{left:16}});function q(De){i[15](De)}let le={listItem:!0,className:"mr-1 w-50",autocomplete:"off",autocorrect:"false",autocapitalize:"off",type:"email",placeholder:"Username"};i[0].form.username!==void 0&&(le.value=i[0].form.username),d=new Wn({props:le}),Oe.push(()=>Qe(d,"value",q,i[0].form.username));function G(De){i[16](De)}let X={listItem:!0,className:"mr-1 w-50",autocomplete:"off",autocorrect:"false",autocapitalize:"off",type:"password",placeholder:"Password"};i[0].form.password!==void 0&&(X.value=i[0].form.password),g=new Wn({props:X}),Oe.push(()=>Qe(g,"value",G,i[0].form.password)),C=new hi({props:{left:16}});function se(De,Be){return De[4]?Zrt:Grt}let te=se(i),ie=te(i);const re=[Krt,Xrt],be=[];function we(De,Be){return De[0].isValidSyncURL?0:1}return Y=we(i),z=be[Y]=re[Y](i),{c(){B(e.$$.fragment),n=W(),B(r.$$.fragment),s=W(),B(l.$$.fragment),a=W(),B(u.$$.fragment),c=W(),f=P("div"),B(d.$$.fragment),p=W(),B(g.$$.fragment),$=W(),B(C.$$.fragment),E=W(),S=P("div"),T=P("div"),ie.c(),M=W(),R=P("div"),z.c(),h(f,"class","grid grid-cols-2"),h(T,"class","connection-string text-gray-500 text-sm py-2"),h(R,"class","actions mb-4"),h(S,"class","grid grid-cols-1 xl:grid-cols-2 px-4 mt-4 items-center")},m(De,Be){O(e,De,Be),w(De,n,Be),O(r,De,Be),w(De,s,Be),O(l,De,Be),w(De,a,Be),O(u,De,Be),w(De,c,Be),w(De,f,Be),O(d,f,null),D(f,p),O(g,f,null),w(De,$,Be),O(C,De,Be),w(De,E,Be),w(De,S,Be),D(S,T),ie.m(T,null),D(S,M),D(S,R),be[Y].m(R,null),j=!0},p(De,Be){const ze={};!t&&Be&1&&(t=!0,ze.value=De[0].form.host,tt(()=>t=!1)),e.$set(ze);const ke={};!o&&Be&1&&(o=!0,ke.value=De[0].form.database,tt(()=>o=!1)),l.$set(ke);const Ue={};!m&&Be&1&&(m=!0,Ue.value=De[0].form.username,tt(()=>m=!1)),d.$set(Ue);const Ce={};!k&&Be&1&&(k=!0,Ce.value=De[0].form.password,tt(()=>k=!1)),g.$set(Ce),te===(te=se(De))&&ie?ie.p(De,Be):(ie.d(1),ie=te(De),ie&&(ie.c(),ie.m(T,null)));let vt=Y;Y=we(De),Y===vt?be[Y].p(De,Be):(ae(),v(be[vt],1,1,()=>{be[vt]=null}),ue(),z=be[Y],z?z.p(De,Be):(z=be[Y]=re[Y](De),z.c()),_(z,1),z.m(R,null))},i(De){j||(_(e.$$.fragment,De),_(r.$$.fragment,De),_(l.$$.fragment,De),_(u.$$.fragment,De),_(d.$$.fragment,De),_(g.$$.fragment,De),_(C.$$.fragment,De),_(z),j=!0)},o(De){v(e.$$.fragment,De),v(r.$$.fragment,De),v(l.$$.fragment,De),v(u.$$.fragment,De),v(d.$$.fragment,De),v(g.$$.fragment,De),v(C.$$.fragment,De),v(z),j=!1},d(De){I(e,De),De&&y(n),I(r,De),De&&y(s),I(l,De),De&&y(a),I(u,De),De&&y(c),De&&y(f),I(d),I(g),De&&y($),I(C,De),De&&y(E),De&&y(S),ie.d(),be[Y].d()}}}function Grt(i){let e;return{c(){e=K("No Connection String")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Zrt(i){let e;return{c(){e=K(i[4])},m(t,n){w(t,e,n)},p(t,n){n&16&&de(e,t[4])},d(t){t&&y(e)}}}function Xrt(i){let e,t;return e=new He({props:{disabled:!0,block:!0,className:"bg-gray-100 dark:bg-gray-900 text-gray-500 font-bold",$$slots:{default:[Jrt]},$$scope:{ctx:i}}}),e.$on("click",i[5].connect),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Krt(i){let e,t,n,r;const s=[est,Qrt],l=[];function o(a,u){return a[2]?1:0}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e===c?l[e].p(a,u):(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t?t.p(a,u):(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function Jrt(i){let e;return{c(){e=K("Connect...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Qrt(i){let e,t;return e=new He({props:{block:!0,className:"bg-primary-500 text-white font-bold",$$slots:{default:[tst]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function est(i){let e,t;return e=new He({props:{block:!0,className:"bg-primary-500 text-white font-bold",$$slots:{default:[nst]},$$scope:{ctx:i}}}),e.$on("click",i[5].connect),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&131072&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function tst(i){let e,t,n;return e=new ki({props:{size:20}}),{c(){B(e.$$.fragment),t=K(`
                Connecting...`)},m(r,s){O(e,r,s),w(r,t,s),n=!0},p:Z,i(r){n||(_(e.$$.fragment,r),n=!0)},o(r){v(e.$$.fragment,r),n=!1},d(r){I(e,r),r&&y(t)}}}function nst(i){let e;return{c(){e=K("Connect...")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function ist(i){let e,t,n=i[1]&&OO(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[1]?n?(n.p(r,s),s&2&&_(n,1)):(n=OO(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function rst(i,e,t){let n,r=!1,s=!1,l={engine:null,isValidSyncURL:!1,form:{username:null,password:null,host:null,database:null},success:!1,syncing:!1,canSync:!1};const o={init(){l.remote.isValid()&&(t(0,l.form.host=l.remote.url.toString(),l),t(0,l.form.username=l.remote.username,l),t(0,l.form.password=l.remote.password,l),t(0,l.form.database=l.remote.database,l),t(0,l.canSync=!0,l))},isValidURL(){return LO(l.form.host).valid},isSyncing(){return n.syncer!==null},saveRemote(){let S=new Iz({url:l.form.host,database:l.form.database,username:l.form.username?l.form.username:null,password:l.form.password?l.form.password:null,syncEnabled:!0});t(0,l.canSync=!0,l),t(0,l.remote=S,l),n.saveRemote(S)},startSync(){t(0,l.syncing=!0,l),t(0,l.remote.syncEnabled=!0,l),n.saveRemote(l.remote),n.startSync()},stopSync(){t(0,l.syncing=!1,l),n.stopSync(),t(0,l.remote.syncEnabled=!1,l)},async connect(){try{t(2,r=!0);let S=o.getConnectionURL(),T={};(l.form.username||l.form.password)&&(T={auth:{username:l.form.username,password:l.form.password}});let R=await new kn(S,T).info();console.info(R),await at.confirm(Fe.t("general.success"),"Connected successfully! Would you like to save this connection?")&&(o.saveRemote(),setTimeout(()=>{o.startSync(),t(0,l.syncing=!0,l),t(0,l.remote.syncEnabled=!0,l)},120)),t(2,r=!1)}catch(S){console.error("error connecting",S.message),at.alert(Fe.t("general.error-connecting","Error Connecting"),S.message),t(2,r=!1)}},getConnectionURL(S=!1){let T=M=>"\u{1F511}";try{let M=LO(l.form.host);t(0,l.isValidSyncURL=M.valid,l);let R=`${M.url.protocol}//`;const Y=l.form.username||"",z=l.form.password||"";let j="";return S&&(Y.length||z.length)?j=`${Y}:${T(z)}@`:(Y.length||z.length)&&(j=`${Y}:${z}@`),R=`${R}${j}${M.url.host||""}/${l.form.database||""}`,R}catch{return t(0,l.isValidSyncURL=!1,l),""}}};let a=null,u=null,c=null,f=null,d=null;Yt(async()=>{t(1,n=_n.getEngine()),t(0,l.remote=n.getRemote(),l),n.onReady(()=>{setTimeout(()=>{t(0,l.syncing=n.syncer!==null,l)},500)}),o.init()});function m(S){i.$$.not_equal(l.remote.syncEnabled,S)&&(l.remote.syncEnabled=S,t(0,l))}const p=S=>{S.detail==!1?o.stopSync():S.detail===!0&&o.startSync()},g=()=>{t(3,s=!s)};function k(S){i.$$.not_equal(l.form.host,S)&&(l.form.host=S,t(0,l))}function $(S){i.$$.not_equal(l.form.database,S)&&(l.form.database=S,t(0,l))}function C(S){i.$$.not_equal(l.form.username,S)&&(l.form.username=S,t(0,l))}function E(S){i.$$.not_equal(l.form.password,S)&&(l.form.password=S,t(0,l))}return i.$$.update=()=>{i.$$.dirty&65&&l.form.host&&l.form.host!==u&&(t(6,u=l.form.host),t(4,a=o.getConnectionURL(!0))),i.$$.dirty&129&&l.form.database&&l.form.database!==c&&(t(7,c=l.form.database),t(4,a=o.getConnectionURL(!0))),i.$$.dirty&257&&l.form.username&&l.form.username!==f&&(t(8,f=l.form.username),t(4,a=o.getConnectionURL(!0))),i.$$.dirty&513&&l.form.password&&l.form.password!==d&&(t(9,d=l.form.password),t(4,a=o.getConnectionURL(!0)))},[l,n,r,s,a,o,u,c,f,d,m,p,g,k,$,C,E]}class sst extends pe{constructor(e){super(),me(this,e,rst,ist,he,{})}}function lst(i){let e,t,n=(i[1]||i[2])+"",r,s,l,o,a,u,c;l=new et({props:{icon:Zk,size:16}});let f=[{class:o="select-pop "+(i[4].class||"")+" "+(i[0]||"")},i[4]],d={};for(let m=0;m<f.length;m+=1)d=St(d,f[m]);return{c(){e=P("button"),t=P("span"),r=K(n),s=W(),B(l.$$.fragment),h(t,"class","mr-4 font-medium"),Bt(e,d),ct(e,"svelte-17szjqg",!0)},m(m,p){w(m,e,p),D(e,t),D(t,r),D(e,s),O(l,e,null),e.autofocus&&e.focus(),a=!0,u||(c=Se(e,"click",i[3]),u=!0)},p(m,[p]){(!a||p&6)&&n!==(n=(m[1]||m[2])+"")&&de(r,n),Bt(e,d=Zt(f,[(!a||p&17&&o!==(o="select-pop "+(m[4].class||"")+" "+(m[0]||"")))&&{class:o},p&16&&m[4]])),ct(e,"svelte-17szjqg",!0)},i(m){a||(_(l.$$.fragment,m),a=!0)},o(m){v(l.$$.fragment,m),a=!1},d(m){m&&y(e),I(l),u=!1,c()}}}function ost(i,e,t){const n=["className","value","options","placeholder","id"];let r=mi(e,n),{className:s=""}=e,{value:l}=e,{options:o=[]}=e,{placeholder:a=""}=e,{id:u}=e;const c=Ut(),f=()=>{const d=o.map(m=>({title:m.value,icon:m.selected?eJ:void 0,click(){c("change",m)}}));Js({id:u,buttons:d})};return i.$$set=d=>{e=St(St({},e),Qi(d)),t(4,r=mi(e,n)),"className"in d&&t(0,s=d.className),"value"in d&&t(1,l=d.value),"options"in d&&t(5,o=d.options),"placeholder"in d&&t(2,a=d.placeholder),"id"in d&&t(6,u=d.id)},[s,l,a,f,r,o,u]}class S$ extends pe{constructor(e){super(),me(this,e,ost,lst,he,{className:0,value:1,options:5,placeholder:2,id:6})}}function ast(i){let e,t,n;return t=new S$({props:{id:"start-page",value:i[2],options:i[0]}}),t.$on("change",i[5]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&4&&(l.value=r[2]),s&1&&(l.options=r[0]),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function ust(i){let e,t,n,r;return e=new lt({props:{bottomLine:16,detail:!0,title:Fe.t("general.backup-now","Backup Data")}}),e.$on("click",i[4]),n=new lt({props:{bottomLine:16,title:Fe.t("settings.backup-reminder","Backup Reminder"),$$slots:{right:[ast]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&71&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function cst(i){let e,t;return e=new jt({props:{solo:!0,$$slots:{default:[ust]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&71&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fst(i,e,t){let n;Le(i,Ht,u=>t(1,n=u));let r=[],s="",l=n.backupDays||7;const o=()=>{w$()},a=u=>{ui(Ht,n.backupDays=u.detail.key,n)};return i.$$.update=()=>{i.$$.dirty&2&&n.backupDays&&t(3,l=n.backupDays),i.$$.dirty&9&&(t(0,r=[{key:-1,value:"Never",selected:`${l}`=="-1"},{key:1,value:"Daily",selected:`${l}`=="1"},{key:3,value:"Every Few Days",selected:`${l}`=="3"},{key:7,value:"Weekly",selected:`${l}`=="7"},{key:14,value:"Every Other Week",selected:`${l}`=="14"}]),t(2,s=(r.find(u=>u.selected)||{}).value))},[r,n,s,l,o,a]}class dst extends pe{constructor(e){super(),me(this,e,fst,cst,he,{})}}function hst(i){let e,t,n=i[1].name+"",r,s,l,o=i[1].description+"",a;return{c(){e=P("div"),t=K("Stored on "),r=K(n),s=W(),l=P("div"),a=K(o),h(e,"class","font-semibold leading-tight"),h(l,"class","text-xs text-gray-500 line-clamp-2 leading-tight mt-1")},m(u,c){w(u,e,c),D(e,t),D(e,r),w(u,s,c),w(u,l,c),D(l,a)},p(u,c){c&2&&n!==(n=u[1].name+"")&&de(r,n),c&2&&o!==(o=u[1].description+"")&&de(a,o)},d(u){u&&y(e),u&&y(s),u&&y(l)}}}function mst(i){let e;return{c(){e=K("\u{1F6CB}")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function pst(i){let e;return{c(){e=K("\u2601\uFE0F")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function _st(i){let e;return{c(){e=K("\u{1F5C4}")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function gst(i){let e;function t(s,l){if(s[0].storageType==="local")return _st;if(s[0].storageType==="firebase")return pst;if(s[0].storageType=="pouchdb")return mst}let n=t(i),r=n&&n(i);return{c(){e=P("span"),r&&r.c(),h(e,"slot","left")},m(s,l){w(s,e,l),r&&r.m(e,null)},p(s,l){n!==(n=t(s))&&(r&&r.d(1),r=n&&n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r&&r.d()}}}function RO(i){let e,t,n,r;return e=new hi({props:{left:32}}),n=new sst({}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function vst(i){let e,t,n,r;e=new lt({props:{detail:!0,$$slots:{left:[gst],default:[hst]},$$scope:{ctx:i}}}),e.$on("click",i[3]);let s=i[0].storageType==="pouchdb"&&RO();return{c(){B(e.$$.fragment),t=W(),s&&s.c(),n=Ae()},m(l,o){O(e,l,o),w(l,t,o),s&&s.m(l,o),w(l,n,o),r=!0},p(l,o){const a={};o&131&&(a.$$scope={dirty:o,ctx:l}),e.$set(a),l[0].storageType==="pouchdb"?s?o&1&&_(s,1):(s=RO(),s.c(),_(s,1),s.m(n.parentNode,n)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){r||(_(e.$$.fragment,l),_(s),r=!0)},o(l){v(e.$$.fragment,l),v(s),r=!1},d(l){I(e,l),l&&y(t),s&&s.d(l),l&&y(n)}}}function bst(i){let e;return{c(){e=P("div"),e.textContent="CSV or Nomie Backup",h(e,"slot","right"),h(e,"class","opacity-50 text-sm")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function kst(i){let e,t,n,r;return e=new lt({props:{bottomLine:16,detail:!0,title:Fe.t("general.import-data","Import Data"),$$slots:{right:[bst]},$$scope:{ctx:i}}}),e.$on("click",i[4]),n=new lt({props:{bottomLine:16,detail:!0,title:Fe.t("settings.download-csv","Download CSV"),to:"/settings/export/csv"}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&128&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function yst(i){let e,t,n,r;return e=new lt({props:{bottomLine:16,detail:!0,title:Fe.t("general.browse-files","Browse Files")}}),e.$on("click",i[5]),n=new lt({props:{bottomLine:16,detail:!0,clickable:!0,title:Fe.t("settings.update-last-used-date","Update Last-Used Dates")}}),n.$on("click",i[2]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p:Z,i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function wst(i){let e,t,n,r,s,l,o,a;return e=new jt({props:{solo:!0,className:"mb-4",title:Fe.t("settings.my-data","My Data"),outside:!0,$$slots:{default:[vst]},$$scope:{ctx:i}}}),n=new dst({}),s=new jt({props:{solo:!0,className:"mb-3 mt-4",outside:!0,$$slots:{default:[kst]},$$scope:{ctx:i}}}),o=new jt({props:{solo:!0,className:"mb-3",outside:!0,$$slots:{default:[yst]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment)},m(u,c){O(e,u,c),w(u,t,c),O(n,u,c),w(u,r,c),O(s,u,c),w(u,l,c),O(o,u,c),a=!0},p(u,[c]){const f={};c&131&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const d={};c&128&&(d.$$scope={dirty:c,ctx:u}),s.$set(d);const m={};c&128&&(m.$$scope={dirty:c,ctx:u}),o.$set(m)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(s.$$.fragment,u),v(o.$$.fragment,u),a=!1},d(u){I(e,u),u&&y(t),I(n,u),u&&y(r),I(s,u),u&&y(l),I(o,u)}}}function $st(i,e,t){let n,r;Le(i,Ht,c=>t(0,n=c)),Le(i,en,c=>t(6,r=c));const s=async()=>{await at.confirm("Update all streaks and last used data?","Depending on how much you track, this can take a while.")&&(await Lt(100),at.blocker("Analyzing Usage Data..."),await A1e(r.trackables),at.stopBlocker(),qn({message:"Update Complete"}))},l=()=>{qhe({current:n.storageType,async onSelect(c){await at.confirm("Switch storage?","You can always switch back. No data is shared between storage types.")&&(oy(c),await Lt(500),Ni.reload())}})};let o;const a=()=>{Lw()},u=()=>{Xo("/files")};return i.$$.update=()=>{i.$$.dirty&1&&t(1,o=tge(n.storageType))},[n,o,s,l,a,u]}class Fst extends pe{constructor(e){super(),me(this,e,$st,wst,he,{})}}const Est=[{version:"6.0.17",title:"adding support for plugins to open trackable editor"},{version:"6.0.17",title:"allowing direct image urls for trackable images"},{version:"6.0.17",title:"updated positivity score emojis"},{version:"6.0.17",title:"allowing editing of score at the list item level"},{version:"6.0.16",title:"adding language selection to plugin registration"},{version:"6.0.15",title:"adding irl integration"},{version:"6.0.15",title:"Adding a todo widget"},{version:"6.0.15",title:"adding backup reminder selection to more tab"},{version:"6.0.15",title:"allowing pinning from the expanded note entry modal"},{version:"6.0.15",title:"allowing combo trackers to have a custom default value"},{version:"6.0.15",title:"when adding people using the streak scroller, it will open the editor now"},{version:"6.0.15",title:"adding positivity chart widget"},{version:"6.0.15",title:"including duplication back into the trackable editor"},{version:"6.0.15",title:"adding location look up on expanded journal modal"},{version:"6.0.15",title:"better UI for longer trackable names and tags"},{version:"6.0.15",title:"adding date controls to the trending modal"},{version:"6.0.15",title:"adding url validation to is lib"},{version:"6.0.15",title:"adding connect library for plugin developers"},{version:"6.0.15",title:"plugins version 1"},{version:"6.0.15",title:"adding markdown support to alertbox descriptions"},{version:"6.0.15",title:"adding direct url support for opening external templates"},{version:"6.0.15",title:"adding plugin widget support"},{version:"6.0.15",title:"adding plugin access in capture menu"},{version:"6.0.15",title:"adding permissions access for plugins"},{version:"6.0.15",title:"adding openNoteEditor"},{version:"6.0.15",title:"adding initialization and data passing to KVStore"},{version:"6.0.13",title:"integrating irl.nomie.app - beta feature"},{version:"6.0.13",title:"note pinning for the day"},{version:"6.0.12",title:"adding templates"},{version:"6.0.12",title:"added [] and [x] support to notes"},{version:"6.0.12",title:"writing prompts can not be edited."},{version:"6.0.12",title:"improved onboarding flow"},{version:"6.0.12",title:"created pop select to start replacing traditional selects"},{version:"6.0.12",title:"adding title to iframe modal"},{version:"6.0.12",title:"convert metric if needed for templates"},{version:"6.0.12",title:"merging streak and calendar modals"},{version:"6.0.12",title:"improved goal view"},{version:"6.0.12",title:"added an Add button to the log card"},{version:"6.0.12",title:"adding min max labels for range trackers"},{version:"6.0.12",title:"limiting controls for encrypted cloud storage without a subscription"},{version:"6.0.11",title:"adding CSV importer back"},{version:"6.0.11",title:"preparing for other payment systems - like iOS maybe"},{version:"6.0.11",title:"including custom prompts in Prompt selector"},{version:"6.0.11",title:"requesting the browser persist storage if available"},{version:"6.0.11",title:"ability to delete a dashboard"},{version:"6.0.11",title:"dashboard sharing on mobile / downloading on desktop"},{version:"6.0.11",title:"timeline componentized and used for notes"},{version:"6.0.11",title:"better chart widget displays"}],Cst=[{version:"6.0.18",title:"tally trackers also include ignored by typeahead"},{version:"6.0.18",title:"dark mode positivity icon is hard to see"},{version:"6.0.18",title:"tracker editor - advanced not expanding if has also include"},{version:"6.0.17",title:"backup message slide down breaks page routing"},{version:"6.0.17",title:"highlighted trackable buttons are flickering when typing"},{version:"6.0.17",title:"note list item displays wrong values in trackable"},{version:"6.0.17",title:"renaming close to exit on plugin window"},{version:"6.0.17",title:"avatars are not centered vertically"},{version:"6.0.16",title:"slider needs a better value display"},{version:"6.0.16",title:"running time showing a TRUE on track tab"},{version:"6.0.16",title:"all plugin widgets are being selected when one is"},{version:"6.0.16",title:"allowing up to 3 plugins"},{version:"6.0.16",title:"combo not respecting also include"},{version:"6.0.15",title:"dashboard note with todo is not updating."},{version:"6.0.15",title:"editor ui with super long tags and labels looks awful"},{version:"6.0.15",title:"respecting defaults of zero in the note combo tracker"},{version:"6.0.15",title:"working on trackable popmenu"},{version:"6.0.15",title:"deduping positivity calcs"},{version:"6.0.15",title:"decreasing location lookup timeout to 3 seconds"},{version:"6.0.15",title:"trending modal is flipping values"},{version:"6.0.15",title:"todo widget says 'What is it?'"},{version:"6.0.15",title:"trackable selector errors when adding + to the search"},{version:"6.0.15",title:"trackable editor default value not selectable."},{version:"6.0.15",title:"display value widget showing wrong value for timer"},{version:"6.0.15",title:"latest note widget showing oldest first."},{version:"6.0.15",title:"catching error if storage engine cannot be found."},{version:"6.0.15",title:"related labels being cut off"},{version:"6.0.15",title:"6m and 1y chart is jacked"},{version:"6.0.15",title:"removing some opacities to help speed things up."},{version:"6.0.15",title:"update usage / streaks showing oldest dates first"},{version:"6.0.15",title:"capture menu / footer z-index height bug"},{version:"6.0.15",title:"adding plugin iframe portal for plugins that need to be on launch"},{version:"6.0.15",title:"plugin booting before account validation"},{version:"6.0.15",title:"allow createArrayStore to support initializing of data"},{version:"6.0.15",title:"disabling auto correct on plugin url"},{version:"6.0.15",title:"if missing dashboard plugin - wait for plugin store"},{version:"6.0.15",title:"test"},{version:"6.0.15",title:"tally default does not work"},{version:"6.0.15",title:"default value being over written with last tracked value"},{version:"6.0.15",title:"removing ripple effect to help with resources"},{version:"6.0.15",title:"writing prompt not opening prompt"},{version:"6.0.15",title:"weather fixes"},{version:"6.0.15",title:"multiple  dashboard widgets have Unknown as title"},{version:"6.0.15",title:"making global adjustments for smaller screen sizes"},{version:"6.0.15",title:"combo list editor doesn't allow manual adds, and is buggy in general"},{version:"6.0.15",title:"trackable not allowing default changes"},{version:"6.0.15",title:"dashboard duplicate error when importing dashboards"},{version:"6.0.13",title:"making widgets index more unique incase someone double imports"},{version:"6.0.13",title:"input styling work"},{version:"6.0.13",title:"resurrecting notes after using a list."},{version:"6.0.13",title:"track on this day failed for list and combo trackers"},{version:"6.0.13",title:"security passcode modal not showing after user hits ok"},{version:"6.0.13",title:"importing from onboarding is throwing an error"},{version:"6.0.13",title:"adding ability to delete context"},{version:"6.0.13",title:"tracking location if enabled"},{version:"6.0.12",title:"typeahead selected values ignoring the positivity score"},{version:"6.0.12",title:"positivity editor not allowing additional settings"},{version:"6.0.12",title:"auto import loop causing multiple imports"},{version:"6.0.12",title:"android scroll performance"},{version:"6.0.12",title:"catching if usage is found in widget"},{version:"6.0.12",title:"combo box using a tick item was saving it as a 1 on save"},{version:"6.0.12",title:"login register fiasco"},{version:"6.0.12",title:"double tracker value bug"},{version:"6.0.12",title:"grammar"},{version:"6.0.12",title:"reloading board, trackables and dashboard after template install"},{version:"6.0.11",title:"memories not linking properly"},{version:"6.0.11",title:"clearing on log save."},{version:"6.0.11",title:"timeselect not bound to value"},{version:"6.0.11",title:"adding smart merge, to ensure n6 imports merge properly"},{version:"6.0.11",title:"combo box - value trackers not always capturing value"},{version:"6.0.11",title:"dashboard share not working in production on iOS"},{version:"6.0.11",title:"catching error on widgets not having a type"},{version:"6.0.11",title:"trackable label should be visible while scrolling stats"},{version:"6.0.11",title:"chartjs touch improvements"},{version:"6.0.11",title:"stop scroll to top of trackable board after a note is saved"},{version:"6.0.11",title:"goal edit button not opening modal"},{version:"6.0.11",title:"goal config erased after setting the goal target value"},{version:"6.0.11",title:"app freezes after toggling goal edit mode, and navigating to dashboard"},{version:"6.0.11",title:"updating terminology for prompts"},{version:"6.0.11",title:"combo box range does not respect the step setting"},{version:"6.0.11",title:"allowing multiple note modals open at one time"}],Dst=[],Sst="2022-09-21T14:06:29.915Z",h2={features:Est,fixes:Cst,chores:Dst,build_date:Sst},tl={version:pf,features:h2.features,fixes:h2.fixes,chores:h2.chores};function zO(i,e,t){const n=i.slice();return n[6]=e[t],n}function jO(i,e,t){const n=i.slice();return n[9]=e[t],n}function YO(i){let e;return{c(){e=P("div"),e.textContent=`Nomie 6.3.0 adds ${tl.features.length} features, and ${tl.fixes.length} bug fixes.`,h(e,"class","p-6 text-gray-800 dark:text-gray-200")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function UO(i){let e,t,n,r=tl.features.length&&Tst(i),s=tl.fixes.length&&Nst(i);return{c(){r&&r.c(),e=W(),s&&s.c(),t=Ae()},m(l,o){r&&r.m(l,o),w(l,e,o),s&&s.m(l,o),w(l,t,o),n=!0},p(l,o){tl.features.length&&r.p(l,o),tl.fixes.length&&s.p(l,o)},i(l){n||(_(r),_(s),n=!0)},o(l){v(r),v(s),n=!1},d(l){r&&r.d(l),l&&y(e),s&&s.d(l),l&&y(t)}}}function Tst(i){let e,t;return e=new jt({props:{solo:!0,outside:!0,title:"Features",$$slots:{default:[Pst]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ast(i){let e=i[9].title+"",t,n;return{c(){t=K(e),n=W()},m(r,s){w(r,t,s),w(r,n,s)},p:Z,d(r){r&&y(t),r&&y(n)}}}function WO(i){let e,t;return e=new lt({props:{bottomLine:16,className:"text-sm py-1",compact:!0,$$slots:{default:[Ast]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Pst(i){let e,t,n=tl.features,r=[];for(let l=0;l<n.length;l+=1)r[l]=WO(jO(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&0){n=tl.features;let a;for(a=0;a<n.length;a+=1){const u=jO(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=WO(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function Nst(i){let e,t;return e=new jt({props:{outside:!0,solo:!0,title:"Bug Fixes",$$slots:{"header-right":[Ist],default:[Lst]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4098&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qO(i){let e,t,n=tl.fixes,r=[];for(let l=0;l<n.length;l+=1)r[l]=HO(zO(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&0){n=tl.fixes;let a;for(a=0;a<n.length;a+=1){const u=zO(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=HO(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function Mst(i){let e=i[6].title+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function HO(i){let e,t;return e=new lt({props:{bottomLine:16,className:"text-sm py-1",compact:!0,$$slots:{default:[Mst]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Lst(i){let e,t,n=i[1]&&qO(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,s){r[1]?n?(n.p(r,s),s&2&&_(n,1)):(n=qO(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function Ost(i){let e;return{c(){e=K("Show Fixes")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Ist(i){let e,t;return e=new He({props:{slot:"header-right",clear:!0,primary:!0,size:"sm",$$slots:{default:[Ost]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Bst(i){let e,t,n,r=tl&&!i[2]&&YO(),s=tl&&i[2]&&UO(i);return{c(){r&&r.c(),e=W(),s&&s.c(),t=Ae()},m(l,o){r&&r.m(l,o),w(l,e,o),s&&s.m(l,o),w(l,t,o),n=!0},p(l,o){tl&&!l[2]?r?r.p(l,o):(r=YO(),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),tl&&l[2]?s?(s.p(l,o),o&4&&_(s,1)):(s=UO(l),s.c(),_(s,1),s.m(t.parentNode,t)):s&&(ae(),v(s,1,1,()=>{s=null}),ue())},i(l){n||(_(s),n=!0)},o(l){v(s),n=!1},d(l){r&&r.d(l),l&&y(e),s&&s.d(l),l&&y(t)}}}function Rst(i){let e;return{c(){e=P("h2"),e.textContent="Nomie 6.3.0",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function zst(i){let e=Fe.t("general.close","Close")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function jst(i){let e,t,n;return t=new He({props:{clear:!0,primary:!0,$$slots:{default:[zst]},$$scope:{ctx:i}}}),t.$on("click",i[4]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","left")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&4096&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Yst(i){let e,t,n;return t=new Sn({props:{$$slots:{left:[jst],default:[Rst]},$$scope:{ctx:i}}}),{c(){e=P("header"),B(t.$$.fragment),h(e,"slot","header")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&4097&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function VO(i){let e,t;return e=new He({props:{block:!0,color:"primary",$$slots:{default:[Ust]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&4096&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Ust(i){let e;return{c(){e=K("View Changes")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Wst(i){let e,t,n=!i[2]&&VO(i);return{c(){e=P("footer"),n&&n.c(),h(e,"slot","footer"),h(e,"class","flex-shrink-0 p-4")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[2]?n&&(ae(),v(n,1,1,()=>{n=null}),ue()):n?(n.p(r,s),s&4&&_(n,1)):(n=VO(r),n.c(),_(n,1),n.m(e,null))},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function qst(i){let e,t;return e=new ti({props:{$$slots:{footer:[Wst],header:[Yst],default:[Bst]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&4103&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Hst(i,e,t){let{id:n}=e,r=!1,s=!1;const l=()=>{t(2,s=!0)},o=()=>{tn(n)},a=()=>t(1,r=!0);return i.$$set=u=>{"id"in u&&t(0,n=u.id)},[n,r,s,l,o,a]}class Vst extends pe{constructor(e){super(),me(this,e,Hst,qst,he,{id:0})}}function xst(i){let e;return{c(){e=P("span"),e.textContent="Read",h(e,"slot","right"),h(e,"class","text-inverse-3")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Gst(i){let e;return{c(){e=P("span"),e.textContent="Nomie.app",h(e,"slot","right"),h(e,"class","text-inverse-3")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Zst(i){let e;return{c(){e=P("span"),e.textContent="/r/nomie",h(e,"slot","right"),h(e,"class","flex text-inverse-3")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Xst(i){let e;return{c(){e=P("span"),e.textContent="@nomieapp",h(e,"slot","right"),h(e,"class","flex text-inverse-3")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Kst(i){let e,t,n,r,s,l,o,a;return e=new lt({props:{bottomLine:16,detail:!0,title:"N6 Docs",href:"https://docs.nomie.app",$$slots:{right:[xst]},$$scope:{ctx:i}}}),n=new lt({props:{bottomLine:16,detail:!0,title:"Learn More",href:"https://nomie.app?s=dap",$$slots:{right:[Gst]},$$scope:{ctx:i}}}),s=new lt({props:{bottomLine:16,title:"Reddit r/nomie",detail:!0,href:"https://reddit.com/r/nomie",$$slots:{right:[Zst]},$$scope:{ctx:i}}}),o=new lt({props:{bottomLine:16,title:"Nomie on TikTok",detail:!0,href:"https://www.tiktok.com/@nomieapp",$$slots:{right:[Xst]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment)},m(u,c){O(e,u,c),w(u,t,c),O(n,u,c),w(u,r,c),O(s,u,c),w(u,l,c),O(o,u,c),a=!0},p(u,c){const f={};c&2048&&(f.$$scope={dirty:c,ctx:u}),e.$set(f);const d={};c&2048&&(d.$$scope={dirty:c,ctx:u}),n.$set(d);const m={};c&2048&&(m.$$scope={dirty:c,ctx:u}),s.$set(m);const p={};c&2048&&(p.$$scope={dirty:c,ctx:u}),o.$set(p)},i(u){a||(_(e.$$.fragment,u),_(n.$$.fragment,u),_(s.$$.fragment,u),_(o.$$.fragment,u),a=!0)},o(u){v(e.$$.fragment,u),v(n.$$.fragment,u),v(s.$$.fragment,u),v(o.$$.fragment,u),a=!1},d(u){I(e,u),u&&y(t),I(n,u),u&&y(r),I(s,u),u&&y(l),I(o,u)}}}function Jst(i){return{c:Z,m:Z,p:Z,d:Z}}function Qst(i){let e,t=i[10].format("MMM YYYY")+"",n;return{c(){e=P("div"),n=K(t),h(e,"class","text-sm")},m(r,s){w(r,e,s),D(e,n)},p:Z,d(r){r&&y(e)}}}function elt(i){let e;return{c(){e=K("Loading...")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function tlt(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:elt,then:Qst,catch:Jst,value:10};return qk(dn.getFirstDate(!0),t),{c(){e=P("div"),t.block.c(),h(e,"class",""),h(e,"slot","right")},m(n,r){w(n,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(n,r){i=n,Hk(t,i,r)},d(n){n&&y(e),t.block.d(),t.token=null,t=null}}}function nlt(i){let e,t;return{c(){e=P("div"),t=K(i[1]),h(e,"class",""),h(e,"slot","right")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&2&&de(t,n[1])},d(n){n&&y(e)}}}function ilt(i){let e,t=i[2].device+"",n;return{c(){e=P("span"),n=K(t),h(e,"slot","right")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&4&&t!==(t=r[2].device+"")&&de(n,t)},d(r){r&&y(e)}}}function rlt(i){let e,t=i[2].platform+"",n;return{c(){e=P("span"),n=K(t),h(e,"slot","right")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&4&&t!==(t=r[2].platform+"")&&de(n,t)},d(r){r&&y(e)}}}function slt(i){let e,t=i[2].pwa+"",n;return{c(){e=P("span"),n=K(t),h(e,"slot","right")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&4&&t!==(t=r[2].pwa+"")&&de(n,t)},d(r){r&&y(e)}}}function llt(i){let e;return{c(){e=P("span"),e.textContent="Counts",h(e,"class","text-gray-500 text-sm")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function olt(i){let e,t=i[0].trackers+"",n;return{c(){e=P("div"),n=K(t),h(e,"slot","right")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].trackers+"")&&de(n,t)},d(r){r&&y(e)}}}function alt(i){let e,t=i[0].people+"",n;return{c(){e=P("div"),n=K(t),h(e,"slot","right")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].people+"")&&de(n,t)},d(r){r&&y(e)}}}function ult(i){let e,t=i[0].context+"",n;return{c(){e=P("div"),n=K(t),h(e,"slot","right")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].context+"")&&de(n,t)},d(r){r&&y(e)}}}function clt(i){let e,t=i[0].locations+"",n;return{c(){e=P("div"),n=K(t),h(e,"slot","right")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[0].locations+"")&&de(n,t)},d(r){r&&y(e)}}}function flt(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M;return e=new lt({props:{bottomLine:16,title:Fe.t("general.first_log","First Log"),$$slots:{right:[tlt]},$$scope:{ctx:i}}}),n=new lt({props:{bottomLine:16,title:Fe.t("general.launch_count","Launch Count"),$$slots:{right:[nlt]},$$scope:{ctx:i}}}),s=new lt({props:{bottomLine:16,title:Fe.t("general.device","Device"),$$slots:{right:[ilt]},$$scope:{ctx:i}}}),o=new lt({props:{bottomLine:16,title:Fe.t("general.platform","Platform"),$$slots:{right:[rlt]},$$scope:{ctx:i}}}),u=new lt({props:{bottomLine:16,title:Fe.t("general.pwa","PWA"),$$slots:{right:[slt]},$$scope:{ctx:i}}}),f=new lt({props:{bottomLine:16,title:"UI Test",to:"/test",detail:!0}}),m=new lt({props:{$$slots:{default:[llt]},$$scope:{ctx:i}}}),g=new lt({props:{bottomLine:16,title:"Trackers",$$slots:{right:[olt]},$$scope:{ctx:i}}}),$=new lt({props:{bottomLine:16,title:"People",$$slots:{right:[alt]},$$scope:{ctx:i}}}),E=new lt({props:{bottomLine:16,title:"Context",$$slots:{right:[ult]},$$scope:{ctx:i}}}),T=new lt({props:{bottomLine:16,title:"Locations",$$slots:{right:[clt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment),a=W(),B(u.$$.fragment),c=W(),B(f.$$.fragment),d=W(),B(m.$$.fragment),p=W(),B(g.$$.fragment),k=W(),B($.$$.fragment),C=W(),B(E.$$.fragment),S=W(),B(T.$$.fragment)},m(R,Y){O(e,R,Y),w(R,t,Y),O(n,R,Y),w(R,r,Y),O(s,R,Y),w(R,l,Y),O(o,R,Y),w(R,a,Y),O(u,R,Y),w(R,c,Y),O(f,R,Y),w(R,d,Y),O(m,R,Y),w(R,p,Y),O(g,R,Y),w(R,k,Y),O($,R,Y),w(R,C,Y),O(E,R,Y),w(R,S,Y),O(T,R,Y),M=!0},p(R,Y){const z={};Y&2048&&(z.$$scope={dirty:Y,ctx:R}),e.$set(z);const j={};Y&2050&&(j.$$scope={dirty:Y,ctx:R}),n.$set(j);const V={};Y&2052&&(V.$$scope={dirty:Y,ctx:R}),s.$set(V);const x={};Y&2052&&(x.$$scope={dirty:Y,ctx:R}),o.$set(x);const ee={};Y&2052&&(ee.$$scope={dirty:Y,ctx:R}),u.$set(ee);const J={};Y&2048&&(J.$$scope={dirty:Y,ctx:R}),m.$set(J);const q={};Y&2049&&(q.$$scope={dirty:Y,ctx:R}),g.$set(q);const le={};Y&2049&&(le.$$scope={dirty:Y,ctx:R}),$.$set(le);const G={};Y&2049&&(G.$$scope={dirty:Y,ctx:R}),E.$set(G);const X={};Y&2049&&(X.$$scope={dirty:Y,ctx:R}),T.$set(X)},i(R){M||(_(e.$$.fragment,R),_(n.$$.fragment,R),_(s.$$.fragment,R),_(o.$$.fragment,R),_(u.$$.fragment,R),_(f.$$.fragment,R),_(m.$$.fragment,R),_(g.$$.fragment,R),_($.$$.fragment,R),_(E.$$.fragment,R),_(T.$$.fragment,R),M=!0)},o(R){v(e.$$.fragment,R),v(n.$$.fragment,R),v(s.$$.fragment,R),v(o.$$.fragment,R),v(u.$$.fragment,R),v(f.$$.fragment,R),v(m.$$.fragment,R),v(g.$$.fragment,R),v($.$$.fragment,R),v(E.$$.fragment,R),v(T.$$.fragment,R),M=!1},d(R){I(e,R),R&&y(t),I(n,R),R&&y(r),I(s,R),R&&y(l),I(o,R),R&&y(a),I(u,R),R&&y(c),I(f,R),R&&y(d),I(m,R),R&&y(p),I(g,R),R&&y(k),I($,R),R&&y(C),I(E,R),R&&y(S),I(T,R)}}}function dlt(i){let e;return{c(){e=P("span"),e.textContent="What's New",h(e,"slot","right"),h(e,"class","flex text-sm text-primary-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function hlt(i){let e;return{c(){e=P("span"),e.textContent=`${Fe.t("settings.redo-setup","Redo Setup")}`,h(e,"slot","right"),h(e,"class","text-sm text-primary-500")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function mlt(i){let e,t,n,r;return e=new lt({props:{bottomLine:16,title:"Version 6.3.0 ",detail:!0,$$slots:{right:[dlt]},$$scope:{ctx:i}}}),e.$on("click",i[3]),n=new lt({props:{detail:!0,title:"Onboarded",$$slots:{right:[hlt]},$$scope:{ctx:i}}}),n.$on("click",i[4]),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&2048&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&2048&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function plt(i){let e,t,n,r,s,l;return e=new jt({props:{solo:!0,className:" mb-3",title:Fe.t("settings.learn-more","Learn More"),outside:!0,$$slots:{default:[Kst]},$$scope:{ctx:i}}}),n=new jt({props:{solo:!0,className:"mb-3",outside:!0,title:"App",$$slots:{default:[flt]},$$scope:{ctx:i}}}),s=new jt({props:{solo:!0,title:"Version",outside:!0,className:"mb-3",$$slots:{default:[mlt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment)},m(o,a){O(e,o,a),w(o,t,a),O(n,o,a),w(o,r,a),O(s,o,a),l=!0},p(o,[a]){const u={};a&2048&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&2055&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&2048&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){I(e,o),o&&y(t),I(n,o),o&&y(r),I(s,o)}}}function _lt(i,e,t){let n,r,s,l,o,a,u;Le(i,yl,m=>t(5,n=m)),Le(i,en,m=>t(6,r=m)),Le(i,su,m=>t(7,s=m)),Le(i,Wp,m=>t(8,l=m)),Le(i,Ls,m=>t(9,o=m)),Le(i,_q,m=>t(1,a=m)),Le(i,Ni,m=>t(2,u=m));let c={trackers:0,people:0,context:0,locations:0,total:0};return Yt(()=>{t(0,c.trackers=Object.keys(o).length,c),t(0,c.context=Object.keys(l).length,c),t(0,c.people=Object.keys(s).length,c),t(0,c.total=Object.keys(r).length,c),t(0,c.locations=n.length,c)}),[c,a,u,()=>{On({id:"whats-new",component:Vst,position:"bottom"})},()=>{Xo("/setup")}]}class glt extends pe{constructor(e){super(),me(this,e,_lt,plt,he,{})}}function vlt(i){let e;return{c(){e=K("1")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function blt(i){let e;return{c(){e=K("2")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function klt(i){let e;return{c(){e=K("3")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function ylt(i){let e;return{c(){e=K("4")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function wlt(i){let e;return{c(){e=K("5")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function $lt(i){let e;return{c(){e=K("6")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Flt(i){let e;return{c(){e=K("7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Elt(i){let e;return{c(){e=K("8")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Clt(i){let e;return{c(){e=K("9")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Dlt(i){let e;return{c(){e=K("Clear")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Slt(i){let e;return{c(){e=K("0")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Tlt(i){let e;return{c(){e=K("Submit")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Alt(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M,R,Y,z;return t=new He({props:{delay:0,color:"clear",$$slots:{default:[vlt]},$$scope:{ctx:i}}}),t.$on("click",i[1](1)),r=new He({props:{delay:0,color:"clear",$$slots:{default:[blt]},$$scope:{ctx:i}}}),r.$on("click",i[1](2)),l=new He({props:{delay:0,color:"clear",$$slots:{default:[klt]},$$scope:{ctx:i}}}),l.$on("click",i[1](3)),a=new He({props:{delay:0,color:"clear",$$slots:{default:[ylt]},$$scope:{ctx:i}}}),a.$on("click",i[1](4)),c=new He({props:{delay:0,color:"clear",$$slots:{default:[wlt]},$$scope:{ctx:i}}}),c.$on("click",i[1](5)),d=new He({props:{delay:0,color:"clear",$$slots:{default:[$lt]},$$scope:{ctx:i}}}),d.$on("click",i[1](6)),p=new He({props:{delay:0,color:"clear",$$slots:{default:[Flt]},$$scope:{ctx:i}}}),p.$on("click",i[1](7)),k=new He({props:{delay:0,color:"clear",$$slots:{default:[Elt]},$$scope:{ctx:i}}}),k.$on("click",i[1](8)),C=new He({props:{delay:0,color:"clear",$$slots:{default:[Clt]},$$scope:{ctx:i}}}),C.$on("click",i[1](9)),S=new He({props:{delay:0,color:"clear",disabled:!i[0],$$slots:{default:[Dlt]},$$scope:{ctx:i}}}),S.$on("click",i[2]),M=new He({props:{delay:0,color:"clear",$$slots:{default:[Slt]},$$scope:{ctx:i}}}),M.$on("click",i[1](0)),Y=new He({props:{delay:0,color:"clear",disabled:!i[0],$$slots:{default:[Tlt]},$$scope:{ctx:i}}}),Y.$on("click",i[3]),{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),s=W(),B(l.$$.fragment),o=W(),B(a.$$.fragment),u=W(),B(c.$$.fragment),f=W(),B(d.$$.fragment),m=W(),B(p.$$.fragment),g=W(),B(k.$$.fragment),$=W(),B(C.$$.fragment),E=W(),B(S.$$.fragment),T=W(),B(M.$$.fragment),R=W(),B(Y.$$.fragment),h(e,"class","keypad")},m(j,V){w(j,e,V),O(t,e,null),D(e,n),O(r,e,null),D(e,s),O(l,e,null),D(e,o),O(a,e,null),D(e,u),O(c,e,null),D(e,f),O(d,e,null),D(e,m),O(p,e,null),D(e,g),O(k,e,null),D(e,$),O(C,e,null),D(e,E),O(S,e,null),D(e,T),O(M,e,null),D(e,R),O(Y,e,null),z=!0},p(j,[V]){const x={};V&32&&(x.$$scope={dirty:V,ctx:j}),t.$set(x);const ee={};V&32&&(ee.$$scope={dirty:V,ctx:j}),r.$set(ee);const J={};V&32&&(J.$$scope={dirty:V,ctx:j}),l.$set(J);const q={};V&32&&(q.$$scope={dirty:V,ctx:j}),a.$set(q);const le={};V&32&&(le.$$scope={dirty:V,ctx:j}),c.$set(le);const G={};V&32&&(G.$$scope={dirty:V,ctx:j}),d.$set(G);const X={};V&32&&(X.$$scope={dirty:V,ctx:j}),p.$set(X);const se={};V&32&&(se.$$scope={dirty:V,ctx:j}),k.$set(se);const te={};V&32&&(te.$$scope={dirty:V,ctx:j}),C.$set(te);const ie={};V&1&&(ie.disabled=!j[0]),V&32&&(ie.$$scope={dirty:V,ctx:j}),S.$set(ie);const re={};V&32&&(re.$$scope={dirty:V,ctx:j}),M.$set(re);const be={};V&1&&(be.disabled=!j[0]),V&32&&(be.$$scope={dirty:V,ctx:j}),Y.$set(be)},i(j){z||(_(t.$$.fragment,j),_(r.$$.fragment,j),_(l.$$.fragment,j),_(a.$$.fragment,j),_(c.$$.fragment,j),_(d.$$.fragment,j),_(p.$$.fragment,j),_(k.$$.fragment,j),_(C.$$.fragment,j),_(S.$$.fragment,j),_(M.$$.fragment,j),_(Y.$$.fragment,j),z=!0)},o(j){v(t.$$.fragment,j),v(r.$$.fragment,j),v(l.$$.fragment,j),v(a.$$.fragment,j),v(c.$$.fragment,j),v(d.$$.fragment,j),v(p.$$.fragment,j),v(k.$$.fragment,j),v(C.$$.fragment,j),v(S.$$.fragment,j),v(M.$$.fragment,j),v(Y.$$.fragment,j),z=!1},d(j){j&&y(e),I(t),I(r),I(l),I(a),I(c),I(d),I(p),I(k),I(C),I(S),I(M),I(Y)}}}function Plt(i,e,t){let{value:n=""}=e;const r=Ut(),s=a=>()=>t(0,n+=a),l=()=>t(0,n=""),o=a=>{setTimeout(()=>{r("submit"),a.stopPropagation()},10)};return i.$$set=a=>{"value"in a&&t(0,n=a.value)},[n,s,l,o]}class Nlt extends pe{constructor(e){super(),me(this,e,Plt,Alt,he,{value:0})}}function xO(i,e,t){const n=i.slice();return n[7]=e[t],n}function Mlt(i){let e=Fe.t("settings.pin-requirements","1 to 6 digits")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function GO(i){let e;return{c(){e=K("\u2022")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function ZO(i){let e,t;return e=new He({props:{icon:!0,color:"clear",className:"pin-close-btn",ariaLabel:"Cancel",$$slots:{default:[Llt]},$$scope:{ctx:i}}}),e.$on("click",i[3].cancelInput),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1024&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Llt(i){let e,t;return e=new et({props:{icon:Qa,size:32}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Olt(i){let e,t,n,r,s,l,o,a,u,c,f,d;t=new vr({props:{center:!0,size:"sm",faded:!0,className:"text-white mb-2",$$slots:{default:[Mlt]},$$scope:{ctx:i}}});let m=i[2].split(""),p=[];for(let C=0;C<m.length;C+=1)p[C]=GO(xO(i,m,C));function g(C){i[6](C)}let k={};i[2]!==void 0&&(k.value=i[2]),u=new Nlt({props:k}),Oe.push(()=>Qe(u,"value",g,i[2])),u.$on("submit",i[3].submit);let $=i[1]&&ZO(i);return{c(){e=P("div"),B(t.$$.fragment),n=W(),r=P("h1"),s=K(i[0]),l=W(),o=P("div");for(let C=0;C<p.length;C+=1)p[C].c();a=W(),B(u.$$.fragment),f=W(),$&&$.c(),h(o,"class","text-2xl text-white pin-holder "),h(e,"aria-modal",""),h(e,"aria-label","Lock Screen"),gt(e,"zIndex","10000"),h(e,"class","lock-screen relative p-4 w-full rounded-xl shadow-xl flex-col full-screen bg-primary-500")},m(C,E){w(C,e,E),O(t,e,null),D(e,n),D(e,r),D(r,s),D(e,l),D(e,o);for(let S=0;S<p.length;S+=1)p[S].m(o,null);D(e,a),O(u,e,null),D(e,f),$&&$.m(e,null),d=!0},p(C,E){const S={};if(E&1024&&(S.$$scope={dirty:E,ctx:C}),t.$set(S),(!d||E&1)&&de(s,C[0]),E&4){const M=m.length;m=C[2].split("");let R;for(R=M;R<m.length;R+=1)xO(C,m,R),p[R]||(p[R]=GO(),p[R].c(),p[R].m(o,null));for(R=m.length;R<M;R+=1)p[R].d(1);p.length=m.length}const T={};!c&&E&4&&(c=!0,T.value=C[2],tt(()=>c=!1)),u.$set(T),C[1]?$?($.p(C,E),E&2&&_($,1)):($=ZO(C),$.c(),_($,1),$.m(e,null)):$&&(ae(),v($,1,1,()=>{$=null}),ue())},i(C){d||(_(t.$$.fragment,C),_(u.$$.fragment,C),_($),d=!0)},o(C){v(t.$$.fragment,C),v(u.$$.fragment,C),v($),d=!1},d(C){C&&y(e),I(t),pt(p,C),I(u),$&&$.d()}}}function Ilt(i){let e,t;return e=new ti({props:{$$slots:{default:[Olt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&1031&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Blt(i,e,t){let n="",{id:r}=e,{onPin:s}=e,{title:l="Enter a Pin"}=e,{canClose:o=!1}=e;Yt(()=>{t(2,n="")});const a={submit(){let c=n||"";c.length<7&&c.length>0?(s(Jn(n)),o&&tn(r)):at.error("Pin must be between 1 and 6 characters")},cancelInput(){tn(r)}};function u(c){n=c,t(2,n)}return i.$$set=c=>{"id"in c&&t(4,r=c.id),"onPin"in c&&t(5,s=c.onPin),"title"in c&&t(0,l=c.title),"canClose"in c&&t(1,o=c.canClose)},i.$$.update=()=>{i.$$.dirty&4&&n.length>6&&t(2,n=n.substring(0,6))},[l,o,n,a,r,s,u]}class Rlt extends pe{constructor(e){super(),me(this,e,Blt,Ilt,he,{id:4,onPin:5,title:0,canClose:1})}}const Oq=async i=>new Promise(e=>{On({id:"pin-lock",position:"center",component:Rlt,tappable:i.canClose,componentProps:{title:i.title,canClose:i.canClose,onPin:t=>{i.isMatch(t)?e(t):at.error("Invalid Pin. Try again")}}})});function XO(i,e,t){const n=i.slice();return n[19]=e[t],n}function zlt(i){let e,t,n;return t=new S$({props:{id:"start-page",value:Uu(i[0].startPage),options:["track","dashboard","goals","timeline","history"].map(i[5])}}),t.$on("change",i[6]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.value=Uu(r[0].startPage)),s&1&&(l.options=["track","dashboard","goals","timeline","history"].map(r[5])),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function jlt(i){let e,t,n,r;function s(o){i[7](o)}let l={title:"Location Lookup"};return i[0].alwaysLocate!==void 0&&(l.value=i[0].alwaysLocate),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].alwaysLocate)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right"),h(e,"class","ml-2")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].alwaysLocate,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function Ylt(i){let e,t,n;return{c(){e=P("button"),e.textContent=`${Fe.t("settings.set-pin","Set Lock Pin")}`,h(e,"class","toggle-pin-button whitespace-nowrap text-primary-500 text-right")},m(r,s){w(r,e,s),t||(n=Se(e,"click",i[9]),t=!0)},p:Z,d(r){r&&y(e),t=!1,n()}}}function Ult(i){let e,t,n;return{c(){e=P("button"),e.textContent=`${Fe.t("settings.disable","Disable Pin")}`,h(e,"class","toggle-pin-button whitespace-nowrap text-primary-500 text-right")},m(r,s){w(r,e,s),t||(n=Se(e,"click",i[8]),t=!0)},p:Z,d(r){r&&y(e),t=!1,n()}}}function Wlt(i){let e;function t(s,l){return s[1]?Ult:Ylt}let n=t(i),r=n(i);return{c(){e=P("div"),r.c(),h(e,"slot","right"),h(e,"class","ml-2")},m(s,l){w(s,e,l),r.m(e,null)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r.d()}}}function qlt(i){let e,t,n,r,s,l;return e=new lt({props:{bottomLine:16,title:Fe.t("settings.start-page","Start Page"),$$slots:{right:[zlt]},$$scope:{ctx:i}}}),n=new lt({props:{bottomLine:16,title:Fe.t("settings.use-location","Use Location"),$$slots:{right:[jlt]},$$scope:{ctx:i}}}),s=new lt({props:{bottomLine:16,title:Fe.t("settings.require-pin","Require Access Pin"),$$slots:{right:[Wlt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment)},m(o,a){O(e,o,a),w(o,t,a),O(n,o,a),w(o,r,a),O(s,o,a),l=!0},p(o,a){const u={};a&4194305&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&4194305&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&4194306&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){I(e,o),o&&y(t),I(n,o),o&&y(r),I(s,o)}}}function Hlt(i){let e,t;return e=new kr({props:{slot:"left",className:"-ml-1 mr-2",emoji:"\u{1F4A1}",size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Vlt(i){let e,t,n;return t=new S$({props:{id:"theme",value:Uu(i[0].theme),options:i[3].map(i[10])}}),t.$on("change",i[11]),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&1&&(l.value=Uu(r[0].theme)),s&1&&(l.options=r[3].map(r[10])),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function xlt(i){let e,t;return e=new kr({props:{slot:"left",className:"-ml-1 mr-2",emoji:"\u{1F50E}",size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Glt(i){let e;return{c(){e=P("div"),e.textContent="A",h(e,"class","text-xs leading-7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Zlt(i){let e;return{c(){e=P("div"),e.textContent="A",h(e,"class","text-sm leading-7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Xlt(i){let e;return{c(){e=P("div"),e.textContent="A",h(e,"class","text-base leading-7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Klt(i){let e;return{c(){e=P("div"),e.textContent="A",h(e,"class","text-lg leading-7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Jlt(i){let e;return{c(){e=P("div"),e.textContent="A",h(e,"class","text-xl leading-7")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Qlt(i){let e,t,n,r,s,l=i[19]=="xs"&&Glt(),o=i[19]=="sm"&&Zlt(),a=i[19]=="md"&&Xlt(),u=i[19]=="lg"&&Klt(),c=i[19]=="xl"&&Jlt();return{c(){l&&l.c(),e=W(),o&&o.c(),t=W(),a&&a.c(),n=W(),u&&u.c(),r=W(),c&&c.c(),s=W()},m(f,d){l&&l.m(f,d),w(f,e,d),o&&o.m(f,d),w(f,t,d),a&&a.m(f,d),w(f,n,d),u&&u.m(f,d),w(f,r,d),c&&c.m(f,d),w(f,s,d)},p:Z,d(f){l&&l.d(f),f&&y(e),o&&o.d(f),f&&y(t),a&&a.d(f),f&&y(n),u&&u.d(f),f&&y(r),c&&c.d(f),f&&y(s)}}}function KO(i){let e,t;function n(){return i[12](i[19])}return e=new He({props:{style:"padding:0 10px !important;",id:"font-size-"+i[19],color:"",size:"sm",className:`${i[2].fontSize===i[19]?"active":""}`,$$slots:{default:[Qlt]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&4&&(l.className=`${i[2].fontSize===i[19]?"active":""}`),s&4194304&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function eot(i){let e,t,n=["xs","sm","md","lg","xl"],r=[];for(let l=0;l<5;l+=1)r[l]=KO(XO(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<5;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<5;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&4){n=["xs","sm","md","lg","xl"];let a;for(a=0;a<5;a+=1){const u=XO(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=KO(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=5;a<5;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<5;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<5;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function tot(i){let e,t,n;return t=new Hl({props:{style:"width:170px;",$$slots:{default:[eot]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&4194308&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function not(i){let e,t,n,r;return e=new lt({props:{bottomLine:52,title:Fe.t("settings.theme","Theme"),$$slots:{right:[Vlt],left:[Hlt]},$$scope:{ctx:i}}}),n=new lt({props:{bottomLine:52,title:Fe.t("settings.font-size","Font Size"),$$slots:{right:[tot],left:[xlt]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&4194305&&(o.$$scope={dirty:l,ctx:s}),e.$set(o);const a={};l&4194308&&(a.$$scope={dirty:l,ctx:s}),n.$set(a)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function iot(i){let e,t;return e=new et({props:{icon:ej,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function rot(i){let e,t,n,r;function s(o){i[13](o)}let l={title:"Toggle People Board"};return i[0].allBoard!==void 0&&(l.value=i[0].allBoard),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].allBoard)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].allBoard,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function sot(i){let e,t;return e=new et({props:{icon:tj,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lot(i){let e,t,n,r;function s(o){i[14](o)}let l={title:"Toggle People Board"};return i[0].peopleBoard!==void 0&&(l.value=i[0].peopleBoard),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].peopleBoard)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].peopleBoard,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function oot(i){let e,t;return e=new et({props:{icon:nj,slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function aot(i){let e,t,n,r;function s(o){i[15](o)}let l={title:"Toggle Context Board"};return i[0].contextBoard!==void 0&&(l.value=i[0].contextBoard),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].contextBoard)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].contextBoard,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function uot(i){let e,t,n,r,s,l;return e=new lt({props:{bottomLine:52,title:Fe.t("settings.show-all-board","Show All Board"),$$slots:{right:[rot],left:[iot]},$$scope:{ctx:i}}}),n=new lt({props:{bottomLine:52,title:Fe.t("settings.show-people-board","Show People Board"),$$slots:{right:[lot],left:[sot]},$$scope:{ctx:i}}}),s=new lt({props:{bottomLine:52,title:Fe.t("settings.show-context-board","Show Context Board"),$$slots:{right:[aot],left:[oot]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment)},m(o,a){O(e,o,a),w(o,t,a),O(n,o,a),w(o,r,a),O(s,o,a),l=!0},p(o,a){const u={};a&4194305&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&4194305&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&4194305&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){I(e,o),o&&y(t),I(n,o),o&&y(r),I(s,o)}}}function cot(i){let e,t;return e=new kr({props:{slot:"left",className:"-ml-1 mr-2",emoji:"\u{1F42D}",size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fot(i){let e,t,n,r;function s(o){i[16](o)}let l={title:"Compact Tracker Buttons"};return i[0].compactTrackers!==void 0&&(l.value=i[0].compactTrackers),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].compactTrackers)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].compactTrackers,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function dot(i){let e,t;return e=new kr({props:{slot:"left",className:"-ml-1 mr-2",emoji:"\u{1F4BE}",size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function hot(i){let e,t,n,r;function s(o){i[17](o)}let l={title:"Hide Backup Message"};return i[0].hideBackupMessage!==void 0&&(l.value=i[0].hideBackupMessage),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].hideBackupMessage)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].hideBackupMessage,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function mot(i){let e,t;return e=new kr({props:{slot:"left",className:"-ml-1 mr-2",emoji:"\u{1F4E2}",size:22}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function pot(i){let e,t,n,r;function s(o){i[18](o)}let l={title:"Hide Nomie Messages"};return i[0].hideMessages!==void 0&&(l.value=i[0].hideMessages),t=new Ar({props:l}),Oe.push(()=>Qe(t,"value",s,i[0].hideMessages)),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","right")},m(o,a){w(o,e,a),O(t,e,null),r=!0},p(o,a){const u={};!n&&a&1&&(n=!0,u.value=o[0].hideMessages,tt(()=>n=!1)),t.$set(u)},i(o){r||(_(t.$$.fragment,o),r=!0)},o(o){v(t.$$.fragment,o),r=!1},d(o){o&&y(e),I(t)}}}function _ot(i){let e,t,n,r,s,l;return e=new lt({props:{bottomLine:52,title:Fe.t("settings.small-tracker-buttons","Compact Trackers"),$$slots:{right:[fot],left:[cot]},$$scope:{ctx:i}}}),n=new lt({props:{bottomLine:52,title:Fe.t("settings.hide-backup-reminder","Hide Backup Reminder"),$$slots:{right:[hot],left:[dot]},$$scope:{ctx:i}}}),s=new lt({props:{bottomLine:52,title:Fe.t("settings.hide-message-notifications","Hide Message Alerts"),$$slots:{right:[pot],left:[mot]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment)},m(o,a){O(e,o,a),w(o,t,a),O(n,o,a),w(o,r,a),O(s,o,a),l=!0},p(o,a){const u={};a&4194305&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&4194305&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&4194305&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){I(e,o),o&&y(t),I(n,o),o&&y(r),I(s,o)}}}function got(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p;return e=new jt({props:{solo:!0,outside:!0,title:"Customize",$$slots:{default:[qlt]},$$scope:{ctx:i}}}),s=new jt({props:{solo:!0,$$slots:{default:[not]},$$scope:{ctx:i}}}),u=new jt({props:{solo:!0,$$slots:{default:[uot]},$$scope:{ctx:i}}}),m=new jt({props:{solo:!0,$$slots:{default:[_ot]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),n=P("div"),r=W(),B(s.$$.fragment),l=W(),o=P("div"),a=W(),B(u.$$.fragment),c=W(),f=P("div"),d=W(),B(m.$$.fragment),h(n,"class","mb-4"),h(o,"class","mb-4"),h(f,"class","mb-4")},m(g,k){O(e,g,k),w(g,t,k),w(g,n,k),w(g,r,k),O(s,g,k),w(g,l,k),w(g,o,k),w(g,a,k),O(u,g,k),w(g,c,k),w(g,f,k),w(g,d,k),O(m,g,k),p=!0},p(g,[k]){const $={};k&4194307&&($.$$scope={dirty:k,ctx:g}),e.$set($);const C={};k&4194309&&(C.$$scope={dirty:k,ctx:g}),s.$set(C);const E={};k&4194305&&(E.$$scope={dirty:k,ctx:g}),u.$set(E);const S={};k&4194305&&(S.$$scope={dirty:k,ctx:g}),m.$set(S)},i(g){p||(_(e.$$.fragment,g),_(s.$$.fragment,g),_(u.$$.fragment,g),_(m.$$.fragment,g),p=!0)},o(g){v(e.$$.fragment,g),v(s.$$.fragment,g),v(u.$$.fragment,g),v(m.$$.fragment,g),p=!1},d(g){I(e,g),g&&y(t),g&&y(n),g&&y(r),I(s,g),g&&y(l),g&&y(o),g&&y(a),I(u,g),g&&y(c),g&&y(f),g&&y(d),I(m,g)}}}function vot(i,e,t){let n,r;Le(i,Ht,M=>t(0,n=M)),Le(i,Ni,M=>t(2,r=M));const s=["light","dark","auto"];let l=!1;Yt(()=>{n.usePin&&t(1,l=!0)});let o={async lockToggle(M){if(await Ps(100),M===!0){t(1,l=!1);let Y=await Oq({canClose:!0,isMatch(z){return!0}});Y?(ui(Ht,n.usePin=Y,n),qn({message:"\u{1F510} Pin Enabled"})):ui(Ht,n.usePin=void 0,n)}else await at.confirm(" Disable Pin?")&&(ui(Ht,n.usePin=void 0,n),t(1,l=!1),qn({message:"\u{1F513} Pin Disabled"}))}};const a=M=>({key:M,value:Uu(M),selected:n.startPage==M}),u=M=>{ui(Ht,n.startPage=M.detail.key,n)};function c(M){i.$$.not_equal(n.alwaysLocate,M)&&(n.alwaysLocate=M,Ht.set(n))}const f=()=>{o.lockToggle(!1)},d=()=>{o.lockToggle(!0)},m=M=>({key:M,value:Uu(M),selected:n.theme==M}),p=M=>{ui(Ht,n.theme=M.detail.key,n),Bm(n.theme)},g=M=>{hce(M)};function k(M){i.$$.not_equal(n.allBoard,M)&&(n.allBoard=M,Ht.set(n))}function $(M){i.$$.not_equal(n.peopleBoard,M)&&(n.peopleBoard=M,Ht.set(n))}function C(M){i.$$.not_equal(n.contextBoard,M)&&(n.contextBoard=M,Ht.set(n))}function E(M){i.$$.not_equal(n.compactTrackers,M)&&(n.compactTrackers=M,Ht.set(n))}function S(M){i.$$.not_equal(n.hideBackupMessage,M)&&(n.hideBackupMessage=M,Ht.set(n))}function T(M){i.$$.not_equal(n.hideMessages,M)&&(n.hideMessages=M,Ht.set(n))}return i.$$.update=()=>{i.$$.dirty&1&&(n.usePin||"").length&&t(1,l=!0)},[n,l,r,s,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T]}class bot extends pe{constructor(e){super(),me(this,e,vot,got,he,{})}}function JO(i,e,t){const n=i.slice();return n[2]=e[t],n[4]=t,n}function kot(i){let e;return{c(){e=P("div"),e.textContent="\u{1F947}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function yot(i){let e;return{c(){e=K("None")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function wot(i){let e,t=i[0],n=[];for(let r=0;r<t.length;r+=1)n[r]=QO(JO(i,t,r));return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=Ae()},m(r,s){for(let l=0;l<n.length;l+=1)n[l].m(r,s);w(r,e,s)},p(r,s){if(s&1){t=r[0];let l;for(l=0;l<t.length;l+=1){const o=JO(r,t,l);n[l]?n[l].p(o,s):(n[l]=QO(o),n[l].c(),n[l].m(e.parentNode,e))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},d(r){pt(n,r),r&&y(e)}}}function QO(i){let e,t;return{c(){e=P("img"),h(e,"alt","award"),Jr(e.src,t=`/images/awards/${i[2].id}.svg`)||h(e,"src",t),h(e,"class","h-4 w-4")},m(n,r){w(n,e,r)},p(n,r){r&1&&!Jr(e.src,t=`/images/awards/${n[2].id}.svg`)&&h(e,"src",t)},d(n){n&&y(e)}}}function $ot(i){let e;function t(s,l){return s[0].length?wot:yot}let n=t(i),r=n(i);return{c(){e=P("div"),r.c(),h(e,"slot","right"),h(e,"class","flex items-center space-x-1")},m(s,l){w(s,e,l),r.m(e,null)},p(s,l){n===(n=t(s))&&r?r.p(s,l):(r.d(1),r=n(s),r&&(r.c(),r.m(e,null)))},d(s){s&&y(e),r.d()}}}function Fot(i){let e,t;return e=new lt({props:{title:"Awards",detail:!0,to:"/awards",$$slots:{right:[$ot],left:[kot]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&33&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Eot(i,e,t){let n,r;return Le(i,ll,s=>t(1,r=s)),i.$$.update=()=>{i.$$.dirty&2&&t(0,n=r.awards.sort((s,l)=>l.timestamp>s.timestamp?1:-1).filter((s,l)=>l<4))},[n,r]}class Cot extends pe{constructor(e){super(),me(this,e,Eot,Fot,he,{})}}function eI(i,e,t){const n=i.slice();return n[3]=e[t],n}function Dot(i){let e,t=i[3].emoji+"",n;return{c(){e=P("span"),n=K(t),h(e,"slot","left")},m(r,s){w(r,e,s),D(e,n)},p(r,s){s&1&&t!==(t=r[3].emoji+"")&&de(n,t)},d(r){r&&y(e)}}}function tI(i){let e,t;function n(){return i[2](i[3])}return e=new lt({props:{detail:!0,bottomLine:16,title:i[3].name,$$slots:{left:[Dot]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&1&&(l.title=i[3].name),s&65&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Sot(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=tI(eI(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,[o]){if(o&1){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=eI(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=tI(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function Tot(i,e,t){let n;Le(i,ls,l=>t(1,n=l));let r=[];const s=l=>Fw(l);return i.$$.update=()=>{i.$$.dirty&2&&n&&t(0,r=n.filter(l=>l.addToMoreMenu&&l.active))},[r,n,s]}class Aot extends pe{constructor(e){super(),me(this,e,Tot,Sot,he,{})}}function Pot(i){let e,t,n,r,s,l;return s=new KI({}),{c(){e=P("div"),t=P("a"),n=P("span"),n.textContent=`${Fe.t("general.feedback","Feedback")}`,r=W(),B(s.$$.fragment),h(t,"title","Find a bug? Want to provide feedback?"),h(t,"href","https://airtable.com/shrY9p9UJjC1PMMbI"),h(t,"class","font-semibold text-black dark:text-white text-sm flex items-center space-x-2"),h(t,"target","_blank"),h(e,"slot","right")},m(o,a){w(o,e,a),D(e,t),D(t,n),D(t,r),O(s,t,null),l=!0},p:Z,i(o){l||(_(s.$$.fragment,o),l=!0)},o(o){v(s.$$.fragment,o),l=!1},d(o){o&&y(e),I(s)}}}function Not(i){let e,t;return e=new Sn({props:{$$slots:{right:[Pot]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Mot(i){let e,t,n;return t=new Li({props:{$$slots:{default:[Not]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","header"),h(e,"class","z-40")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&512&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function nI(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M,R,Y,z,j,V,x,ee,J,q,le,G=Te().format("YYYY")+"",X,se,te,ie;return s=new jt({props:{solo:!0,outside:!0,$$slots:{default:[Lot]},$$scope:{ctx:i}}}),o=new jt({props:{solo:!0,className:"mt-4",$$slots:{default:[Iot]},$$scope:{ctx:i}}}),u=new jt({props:{solo:!0,className:"mt-4",$$slots:{default:[Rot]},$$scope:{ctx:i}}}),m=new Fst({}),m.$on("showImporter",i[6]),g=new bot({}),$=new Urt({}),E=new jt({props:{solo:!0,className:"mt-4",$$slots:{default:[Uot]},$$scope:{ctx:i}}}),R=new glt({}),z=new Lq({props:{gap:1}}),{c(){e=P("div"),t=P("div"),n=P("div"),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment),a=W(),B(u.$$.fragment),c=W(),f=P("div"),d=W(),B(m.$$.fragment),p=W(),B(g.$$.fragment),k=W(),B($.$$.fragment),C=W(),B(E.$$.fragment),S=W(),T=P("div"),M=W(),B(R.$$.fragment),Y=W(),B(z.$$.fragment),j=W(),V=P("button"),x=P("div"),x.textContent="Version v6.3.0",ee=W(),J=P("div"),q=P("strong"),q.textContent="Happy Data",le=K(", LLC \xA9 Copyright 2014 - "),X=K(G),h(n,"id","settings-marker"),h(f,"id","data-marker"),h(T,"id","about-marker"),h(x,"class","text-sm text-black dark:text-white"),h(J,"class","text-xs text-gray-800 dark:text-gray-500"),h(V,"class","w-full px-4 mt-4 mb-3 text-sm text-center "),h(t,"class","p-0 pt-4"),h(e,"class","page page-settings")},m(re,be){w(re,e,be),D(e,t),D(t,n),D(t,r),O(s,t,null),D(t,l),O(o,t,null),D(t,a),O(u,t,null),D(t,c),D(t,f),D(t,d),O(m,t,null),D(t,p),O(g,t,null),D(t,k),O($,t,null),D(t,C),O(E,t,null),D(t,S),D(t,T),D(t,M),O(R,t,null),D(t,Y),O(z,t,null),D(t,j),D(t,V),D(V,x),D(V,ee),D(V,J),D(J,q),D(J,le),D(J,X),se=!0,te||(ie=Se(V,"click",i[1]),te=!0)},p(re,be){const we={};be&512&&(we.$$scope={dirty:be,ctx:re}),s.$set(we);const De={};be&512&&(De.$$scope={dirty:be,ctx:re}),o.$set(De);const Be={};be&512&&(Be.$$scope={dirty:be,ctx:re}),u.$set(Be);const ze={};be&512&&(ze.$$scope={dirty:be,ctx:re}),E.$set(ze)},i(re){se||(_(s.$$.fragment,re),_(o.$$.fragment,re),_(u.$$.fragment,re),_(m.$$.fragment,re),_(g.$$.fragment,re),_($.$$.fragment,re),_(E.$$.fragment,re),_(R.$$.fragment,re),_(z.$$.fragment,re),se=!0)},o(re){v(s.$$.fragment,re),v(o.$$.fragment,re),v(u.$$.fragment,re),v(m.$$.fragment,re),v(g.$$.fragment,re),v($.$$.fragment,re),v(E.$$.fragment,re),v(R.$$.fragment,re),v(z.$$.fragment,re),se=!1},d(re){re&&y(e),I(s),I(o),I(u),I(m),I(g),I($),I(E),I(R),I(z),te=!1,ie()}}}function Lot(i){let e,t;return e=new Cot({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Oot(i){let e;return{c(){e=P("span"),e.textContent="\u{1F50C}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Iot(i){let e,t,n,r;return e=new lt({props:{detail:!0,bottomLine:16,title:"Plugins",$$slots:{left:[Oot]},$$scope:{ctx:i}}}),e.$on("click",i[4]),n=new Aot({}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment)},m(s,l){O(e,s,l),w(s,t,l),O(n,s,l),r=!0},p(s,l){const o={};l&512&&(o.$$scope={dirty:l,ctx:s}),e.$set(o)},i(s){r||(_(e.$$.fragment,s),_(n.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(n.$$.fragment,s),r=!1},d(s){I(e,s),s&&y(t),I(n,s)}}}function Bot(i){let e;return{c(){e=P("span"),e.textContent="\u{1F3ED}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function Rot(i){let e,t;return e=new lt({props:{detail:!0,bottomLine:16,title:"Templates",$$slots:{left:[Bot]},$$scope:{ctx:i}}}),e.$on("click",i[5]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zot(i){let e;return{c(){e=P("span"),e.textContent="\u{1F198}",h(e,"slot","left")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function jot(i){let e;return{c(){e=K("Email")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Yot(i){let e,t,n,r;return n=new Of({props:{pad:!0,className:"bg-gray-300 text-black",$$slots:{default:[jot]},$$scope:{ctx:i}}}),{c(){e=P("div"),t=P("a"),B(n.$$.fragment),h(t,"href",`mailto:${us.support_email}?subject=Nomie ${pf} `),h(e,"slot","right")},m(s,l){w(s,e,l),D(e,t),O(n,t,null),r=!0},p(s,l){const o={};l&512&&(o.$$scope={dirty:l,ctx:s}),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(e),I(n)}}}function Uot(i){let e,t;return e=new lt({props:{title:Fe.t("general.questions","Questions"),detail:!0,$$slots:{right:[Yot],left:[zot]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Wot(i){let e=Fe.t("settings.destroy-all-data","Destroy all Data")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function qot(i){let e,t;return e=new vr({props:{className:"text-red",$$slots:{default:[Wot]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Hot(i){let e,t;return e=new lt({props:{detail:!0,clickable:!0,$$slots:{default:[qot]},$$scope:{ctx:i}}}),e.$on("click",Hhe),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&512&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Vot(i){let e,t,n,r=i[0]&&nI(i);return t=new jt({props:{solo:!0,className:"mb-3",outside:!0,title:Fe.t("settings.danger-zone","Danger Zone"),$$slots:{default:[Hot]},$$scope:{ctx:i}}}),{c(){r&&r.c(),e=W(),B(t.$$.fragment)},m(s,l){r&&r.m(s,l),w(s,e,l),O(t,s,l),n=!0},p(s,l){s[0]?r?(r.p(s,l),l&1&&_(r,1)):(r=nI(s),r.c(),_(r,1),r.m(e.parentNode,e)):r&&(ae(),v(r,1,1,()=>{r=null}),ue());const o={};l&512&&(o.$$scope={dirty:l,ctx:s}),t.$set(o)},i(s){n||(_(r),_(t.$$.fragment,s),n=!0)},o(s){v(r),v(t.$$.fragment,s),n=!1},d(s){r&&r.d(s),s&&y(e),I(t,s)}}}function xot(i){let e,t,n;return t=new Li({props:{$$slots:{default:[Vot]},$$scope:{ctx:i}}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"slot","content"),h(e,"class","pt-2 z-10 relative lg:px-4")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p(r,s){const l={};s&513&&(l.$$scope={dirty:s,ctx:r}),t.$set(l)},i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Got(i){let e,t;return e=new Is({props:{pageTitle:"Settings",showCapture:!1,$$slots:{content:[xot],header:[Mot]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&513&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Zot(i,e,t){let n;Le(i,Ht,d=>t(0,n=d));const r=void 0,s=void 0;let l=0;async function o(){l=l+1,l>9&&a.unlockFeatures()}let a={share(){Sq("I track my life with Nomie! It's free, private, and you get to design what you track. @nomieapp","https://nomie.app")},async unlockFeatures(){ene(),at.confetti({show:!0}),qn({type:"success",message:"\u{1F381}  Secret Beta Features Unlocked"})},locations(){at.pickLocation()},bookAge(d){return Te(`${d}-01`).fromNow()},faq(){Xo("/faq")},shop(){Xo("/shop")}};return Yt(()=>{Ni.scrollToTop()}),[n,o,r,s,()=>oY(),()=>mAe(),()=>{Lw()}]}class Xot extends pe{constructor(e){super(),me(this,e,Zot,Got,he,{location:2,style:3})}get location(){return this.$$.ctx[2]}get style(){return this.$$.ctx[3]}}function Kot(i){let e,t;return e=new Xot({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Jot(i,e,t){return[void 0,void 0]}class Qot extends pe{constructor(e){super(),me(this,e,Jot,Kot,he,{location:0,style:1})}get location(){return this.$$.ctx[0]}get style(){return this.$$.ctx[1]}}function eat(i){let e,t,n,r,s;return t=new Lq({props:{gap:4}}),r=new zi({props:{title:Fe.t("export.export-date","Create a Backup"),description:Fe.t("export.backup-description","Export all your data as a single readable JSON file. This can be used to restore Nomie, or to inspect with your own programs."),emoji:"\u{1F4E6}",buttonLabel:Fe.t("export.backup-download","Download Backup"),buttonClick:i[0].export}}),{c(){e=P("div"),B(t.$$.fragment),n=W(),B(r.$$.fragment),h(e,"class","backup")},m(l,o){w(l,e,o),O(t,e,null),D(e,n),O(r,e,null),s=!0},p:Z,i(l){s||(_(t.$$.fragment,l),_(r.$$.fragment,l),s=!0)},o(l){v(t.$$.fragment,l),v(r.$$.fragment,l),s=!1},d(l){l&&y(e),I(t),I(r)}}}function tat(i){let e;return{c(){e=P("h1"),e.textContent="Generate Backup",h(e,"class","ntitle")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function nat(i){let e,t;return e=new Ph({props:{slot:"left"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function iat(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{left:[nat],default:[tat]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function rat(i){let e,t;return e=new Is({props:{pageTitle:"Export your Data",className:"Export",$$slots:{header:[iat],default:[eat]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&2&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sat(i){const e={export(){}};return Yt(()=>{}),[e]}class lat extends pe{constructor(e){super(),me(this,e,sat,rat,he,{})}}function oat(i){let e;return{c(){e=P("p"),e.textContent="\u{1F44B} Nomie has been updated.",h(e,"class","text-2xl leading-none font-extrabold text-center md:text-3xl text-black dark:text-white")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function aat(i){let e;return{c(){e=P("p"),e.textContent="Daily Journal for short attention spans.",h(e,"class","text-2xl leading-none font-extrabold text-center md:text-3xl text-black dark:text-white")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function uat(i){let e,t,n,r,s,l,o;n=new Pq({props:{size:32}});function a(f,d){return f[0].storageType?oat:aat}let u=a(i),c=u(i);return{c(){e=P("div"),t=P("div"),B(n.$$.fragment),r=W(),c.c(),s=W(),l=P("div"),l.innerHTML=`<p style="font-size:0.6rem" class="mt-4 lg:text-sm text-center text-gray-700 dark:text-gray-400">Nomie is a super fast, and super private way to journal, collect your life&#39;s data, and reflect on your life&#39;s
        direction.</p>`,h(t,"class","max-w-xl flex items-center justify-center flex-col space-y-4"),h(e,"class","flex flex-col px-6 py-4 min-h-fill justify-center items-center -mt-4")},m(f,d){w(f,e,d),D(e,t),O(n,t,null),D(t,r),c.m(t,null),D(t,s),D(t,l),o=!0},p(f,[d]){u!==(u=a(f))&&(c.d(1),c=u(f),c&&(c.c(),c.m(t,s)))},i(f){o||(_(n.$$.fragment,f),o=!0)},o(f){v(n.$$.fragment,f),o=!1},d(f){f&&y(e),I(n),c.d()}}}function cat(i,e,t){let n;return Le(i,Ht,r=>t(0,n=r)),[n]}class fat extends pe{constructor(e){super(),me(this,e,cat,uat,he,{})}}function dat(i){let e;return{c(){e=K("Tap Safari's Share Icon")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function hat(i){let e;return{c(){e=P("span"),e.textContent="1.",h(e,"slot","left"),h(e,"class","text-lg font-extrabold")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function mat(i){let e,t;return e=new et({props:{slot:"right",icon:fee,className:"text-gray-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function pat(i){let e,t;return{c(){e=K("Scroll to & select "),t=P("strong"),t.textContent='"Add to Home Screen"'},m(n,r){w(n,e,r),w(n,t,r)},p:Z,d(n){n&&y(e),n&&y(t)}}}function _at(i){let e;return{c(){e=P("span"),e.textContent="2.",h(e,"slot","left"),h(e,"class","text-lg font-extrabold")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function gat(i){let e,t;return e=new et({props:{slot:"right",icon:tee,className:"text-gray-500"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function vat(i){let e;return{c(){e=K("When added, go to your Home Screen and launch Nomie 6")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function bat(i){let e;return{c(){e=P("span"),e.textContent="3.",h(e,"slot","left"),h(e,"class","text-lg font-extrabold")},m(t,n){w(t,e,n)},p:Z,d(t){t&&y(e)}}}function kat(i){let e,t,n,r,s,l;return e=new lt({props:{bottomLine:48,$$slots:{right:[mat],left:[hat],default:[dat]},$$scope:{ctx:i}}}),n=new lt({props:{bottomLine:48,$$slots:{right:[gat],left:[_at],default:[pat]},$$scope:{ctx:i}}}),s=new lt({props:{$$slots:{left:[bat],default:[vat]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment)},m(o,a){O(e,o,a),w(o,t,a),O(n,o,a),w(o,r,a),O(s,o,a),l=!0},p(o,a){const u={};a&1&&(u.$$scope={dirty:a,ctx:o}),e.$set(u);const c={};a&1&&(c.$$scope={dirty:a,ctx:o}),n.$set(c);const f={};a&1&&(f.$$scope={dirty:a,ctx:o}),s.$set(f)},i(o){l||(_(e.$$.fragment,o),_(n.$$.fragment,o),_(s.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),v(n.$$.fragment,o),v(s.$$.fragment,o),l=!1},d(o){I(e,o),o&&y(t),I(n,o),o&&y(r),I(s,o)}}}function yat(i){let e,t,n,r,s;return r=new jt({props:{solo:!0,$$slots:{default:[kat]},$$scope:{ctx:i}}}),{c(){e=P("p"),e.textContent="\u{1F525} WAIT! For the best experience, install me on your iOS homescreen! \u{1F4F2}",t=W(),n=P("div"),B(r.$$.fragment),h(e,"class","px-10 mb-10 text-center text-xl leading-tight text-gray-800 dark:text-gray-200 font-bold"),h(n,"class","px-2")},m(l,o){w(l,e,o),w(l,t,o),w(l,n,o),O(r,n,null),s=!0},p(l,o){const a={};o&1&&(a.$$scope={dirty:o,ctx:l}),r.$set(a)},i(l){s||(_(r.$$.fragment,l),s=!0)},o(l){v(r.$$.fragment,l),s=!1},d(l){l&&y(e),l&&y(t),l&&y(n),I(r)}}}function wat(i){let e,t;return e=new Li({props:{className:"filler  flex items-center justify-center  flex-col px-2 slide-location -mt-14",$$slots:{default:[yat]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&1&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}class iI extends pe{constructor(e){super(),me(this,e,null,wat,he,{})}}function $at(i){let e=Te().format("h:mma")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Fat(i){let e=Te().format("HH:mm")+"",t;return{c(){t=K(e)},m(n,r){w(n,t,r)},p:Z,d(n){n&&y(t)}}}function Eat(i){let e;return{c(){e=K("10 lbs")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Cat(i){let e;return{c(){e=K("4.5 kg")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Dat(i){let e;return{c(){e=K("Sun")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Sat(i){let e;return{c(){e=K("Mon")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Tat(i){let e;return{c(){e=K("Disabled")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Aat(i){let e;return{c(){e=K("Enabled")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Pat(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M,R,Y,z,j,V,x,ee;return s=new He({props:{className:"whitespace-no-wrap "+(i[0].use24hour?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold"),block:!0,size:"md",type:"clear",delay:20,$$slots:{default:[$at]},$$scope:{ctx:i}}}),s.$on("click",i[1]),o=new He({props:{className:"whitespace-nowrap "+(i[0].use24hour?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500"),type:"clear",block:!0,size:"md",delay:20,$$slots:{default:[Fat]},$$scope:{ctx:i}}}),o.$on("click",i[2]),c=new He({props:{className:i[0].useMetric?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold",block:!0,size:"md",type:"clear",delay:20,$$slots:{default:[Eat]},$$scope:{ctx:i}}}),c.$on("click",i[3]),d=new He({props:{className:" "+(i[0].useMetric?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500"),type:"clear",block:!0,size:"md",delay:20,$$slots:{default:[Cat]},$$scope:{ctx:i}}}),d.$on("click",i[4]),$=new He({props:{className:i[0].weekStarts=="sunday"?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500",block:!0,size:"md",type:"clear",delay:20,$$slots:{default:[Dat]},$$scope:{ctx:i}}}),$.$on("click",i[5]),E=new He({props:{className:" "+(i[0].weekStarts=="monday"?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500"),type:"clear",block:!0,size:"md",delay:20,$$slots:{default:[Sat]},$$scope:{ctx:i}}}),E.$on("click",i[6]),R=new Of({props:{value:"?"}}),R.$on("click",i[7]),j=new He({props:{className:"whitespace-no-wrap "+(i[0].alwaysLocate?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold"),block:!0,size:"md",type:"clear",delay:20,$$slots:{default:[Tat]},$$scope:{ctx:i}}}),j.$on("click",i[8]),x=new He({props:{className:"whitespace-nowrap "+(i[0].alwaysLocate?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500"),type:"clear",block:!0,size:"md",delay:20,$$slots:{default:[Aat]},$$scope:{ctx:i}}}),x.$on("click",i[9]),{c(){e=P("div"),t=P("p"),t.textContent="Which looks right?",n=W(),r=P("div"),B(s.$$.fragment),l=W(),B(o.$$.fragment),a=W(),u=P("div"),B(c.$$.fragment),f=W(),B(d.$$.fragment),m=W(),p=P("p"),p.textContent="Week Starts On:",g=W(),k=P("div"),B($.$$.fragment),C=W(),B(E.$$.fragment),S=W(),T=P("p"),M=K("Location Tracking "),B(R.$$.fragment),Y=W(),z=P("div"),B(j.$$.fragment),V=W(),B(x.$$.fragment),h(t,"class","mb-4 text-gray-500 dark:text-gray-400 text-center text-sm"),h(r,"class","big-group p-2 bg-white dark:bg-black flex items-center shadow-lg rounded-2xl"),h(u,"class","big-group p-2 mt-4 bg-white dark:bg-black flex items-center shadow-lg rounded-2xl"),h(p,"class","mt-4 mb-1 text-gray-500 dark:text-gray-400 text-center text-sm"),h(k,"class","big-group p-2 mt-2 bg-white dark:bg-black flex items-center shadow-lg rounded-2xl"),h(T,"class","mt-4 mb-1 text-gray-500 dark:text-gray-400 text-center text-sm"),h(z,"class","big-group p-2 bg-white dark:bg-black flex items-center shadow-lg rounded-2xl"),h(e,"class","pt-3 mx-auto top center-grow min-w-full max-w-xl")},m(J,q){w(J,e,q),D(e,t),D(e,n),D(e,r),O(s,r,null),D(r,l),O(o,r,null),D(e,a),D(e,u),O(c,u,null),D(u,f),O(d,u,null),D(e,m),D(e,p),D(e,g),D(e,k),O($,k,null),D(k,C),O(E,k,null),D(e,S),D(e,T),D(T,M),O(R,T,null),D(e,Y),D(e,z),O(j,z,null),D(z,V),O(x,z,null),ee=!0},p(J,q){const le={};q&1&&(le.className="whitespace-no-wrap "+(J[0].use24hour?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold")),q&2048&&(le.$$scope={dirty:q,ctx:J}),s.$set(le);const G={};q&1&&(G.className="whitespace-nowrap "+(J[0].use24hour?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500")),q&2048&&(G.$$scope={dirty:q,ctx:J}),o.$set(G);const X={};q&1&&(X.className=J[0].useMetric?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold"),q&2048&&(X.$$scope={dirty:q,ctx:J}),c.$set(X);const se={};q&1&&(se.className=" "+(J[0].useMetric?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500")),q&2048&&(se.$$scope={dirty:q,ctx:J}),d.$set(se);const te={};q&1&&(te.className=J[0].weekStarts=="sunday"?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500"),q&2048&&(te.$$scope={dirty:q,ctx:J}),$.$set(te);const ie={};q&1&&(ie.className=" "+(J[0].weekStarts=="monday"?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500")),q&2048&&(ie.$$scope={dirty:q,ctx:J}),E.$set(ie);const re={};q&1&&(re.className="whitespace-no-wrap "+(J[0].alwaysLocate?"bg-white dark:bg-black text-gray-500":"bg-primary text-white font-bold")),q&2048&&(re.$$scope={dirty:q,ctx:J}),j.$set(re);const be={};q&1&&(be.className="whitespace-nowrap "+(J[0].alwaysLocate?"bg-primary text-white font-bold":"bg-white dark:bg-black text-gray-500")),q&2048&&(be.$$scope={dirty:q,ctx:J}),x.$set(be)},i(J){ee||(_(s.$$.fragment,J),_(o.$$.fragment,J),_(c.$$.fragment,J),_(d.$$.fragment,J),_($.$$.fragment,J),_(E.$$.fragment,J),_(R.$$.fragment,J),_(j.$$.fragment,J),_(x.$$.fragment,J),ee=!0)},o(J){v(s.$$.fragment,J),v(o.$$.fragment,J),v(c.$$.fragment,J),v(d.$$.fragment,J),v($.$$.fragment,J),v(E.$$.fragment,J),v(R.$$.fragment,J),v(j.$$.fragment,J),v(x.$$.fragment,J),ee=!1},d(J){J&&y(e),I(s),I(o),I(c),I(d),I($),I(E),I(R),I(j),I(x)}}}function Nat(i){let e,t;return e=new Li({props:{className:"filler px-5 flex items-center justify-center flex-col slide-location -mt-10",$$slots:{default:[Pat]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&2049&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Mat(i,e,t){let n;Le(i,Ht,p=>t(0,n=p));let r=!1;return Yt(()=>{r||(new Date(new Date().setHours(20)).toLocaleTimeString().search("PM")===-1&&(ui(Ht,n.use24hour=!0,n),ui(Ht,n.useMetric=!0,n),ui(Ht,n.weekStarts="monday",n)),r=!0)}),[n,()=>{ui(Ht,n.use24hour=!1,n)},()=>{ui(Ht,n.use24hour=!0,n)},()=>{ui(Ht,n.useMetric=!1,n)},()=>{ui(Ht,n.useMetric=!0,n)},()=>{ui(Ht,n.weekStarts="sunday",n)},()=>{ui(Ht,n.weekStarts="monday",n)},()=>{at.alert("Location Tracking","Have Nomie save your current location (lat,long) each time you record data.")},()=>{ui(Ht,n.alwaysLocate=!1,n)},()=>{ui(Ht,n.alwaysLocate=!0,n)}]}class Lat extends pe{constructor(e){super(),me(this,e,Mat,Nat,he,{})}}function Oat(i){let e;return{c(){e=K("Show Advanced")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Iat(i){let e;return{c(){e=K("Hide Advanced")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Bat(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k;a=new k$({props:{size:"sm",className:"border border-gray-500 border-opacity-20",buttons:i[1]}});function $(S,T){return S[0]?Iat:Oat}let C=$(i),E=C(i);return{c(){e=P("div"),t=P("h1"),t.textContent="Data Storage",n=W(),r=P("p"),r.textContent="Where would you like your data stored?",s=W(),l=P("div"),o=W(),B(a.$$.fragment),u=W(),c=P("div"),f=P("button"),E.c(),d=W(),m=P("div"),h(t,"class","leading-tight dark:text-white text-center font-bold px-4 text-xl"),h(r,"class","text-description text-center text-sm pt-1 px-1"),h(l,"class","h-4"),h(f,"class","nbtn-badge bg-gray-500 bg-opacity-10 text-gray-600 dark:text-gray-300 text-xs"),h(c,"class","flex items-center justify-center pt-4"),h(m,"class","h-20"),h(e,"class","max-w-screen-lg mx-auto pt-6")},m(S,T){w(S,e,T),D(e,t),D(e,n),D(e,r),D(e,s),D(e,l),D(e,o),O(a,e,null),D(e,u),D(e,c),D(c,f),E.m(f,null),D(e,d),D(e,m),p=!0,g||(k=Se(f,"click",i[4]),g=!0)},p(S,T){const M={};T&2&&(M.buttons=S[1]),a.$set(M),C!==(C=$(S))&&(E.d(1),E=C(S),E&&(E.c(),E.m(f,null)))},i(S){p||(_(a.$$.fragment,S),p=!0)},o(S){v(a.$$.fragment,S),p=!1},d(S){S&&y(e),I(a),E.d(),g=!1,k()}}}function Rat(i){let e,t;return e=new Li({props:{className:"filler  flex items-center lg:justify-center flex-col pt-3 px-5 slide-storage ",$$slots:{default:[Bat]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&67&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function zat(i,e,t){let n;Le(i,Ht,u=>t(3,n=u));const r=v0;let s="local";s=n.storageType;let l=!1,o=[];const a=()=>{t(0,l=!l)};return i.$$.update=()=>{i.$$.dirty&15&&(t(1,o=r.map(u=>({title:u.name,id:u.id,disabled:["firebase","s3"].indexOf(u.id)>-1&&!n.betaFeatures,description:`${u.description}  ${u.price}`,checked:`${s}`==`${u.id}`,click(){t(2,s=u.id),ui(Ht,n.storageType=s,n)}})).filter(u=>l?!0:u.id!=="pouchdb")),t(1,o),t(3,n),t(2,s),t(0,l))},[l,o,s,n,a]}class m2 extends pe{constructor(e){super(),me(this,e,zat,Rat,he,{})}}function rI(i,e,t){const n=i.slice();return n[4]=e[t],n}function sI(i,e,t){const n=i.slice();return n[4]=e[t],n}function jat(i){let e=i[4].title+"",t,n;return{c(){t=K(e),n=W()},m(r,s){w(r,t,s),w(r,n,s)},p(r,s){s&1&&e!==(e=r[4].title+"")&&de(t,e)},d(r){r&&y(t),r&&y(n)}}}function lI(i){let e,t;function n(){return i[2](i[4])}return e=new lt({props:{detail:!0,bottomLine:16,$$slots:{default:[jat]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&513&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Yat(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=lI(sI(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&1){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=sI(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=lI(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function Uat(i){let e=i[4].title+"",t,n;return{c(){t=K(e),n=W()},m(r,s){w(r,t,s),w(r,n,s)},p:Z,d(r){r&&y(t),r&&y(n)}}}function oI(i){let e,t;function n(){return i[3](i[4])}return e=new lt({props:{bottomLine:16,$$slots:{default:[Uat]},$$scope:{ctx:i}}}),e.$on("click",n),{c(){B(e.$$.fragment)},m(r,s){O(e,r,s),t=!0},p(r,s){i=r;const l={};s&512&&(l.$$scope={dirty:s,ctx:i}),e.$set(l)},i(r){t||(_(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){I(e,r)}}}function Wat(i){let e,t,n=i[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=oI(rI(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=Ae()},m(l,o){for(let a=0;a<r.length;a+=1)r[a].m(l,o);w(l,e,o),t=!0},p(l,o){if(o&2){n=l[1];let a;for(a=0;a<n.length;a+=1){const u=rI(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=oI(u),r[a].c(),_(r[a],1),r[a].m(e.parentNode,e))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){pt(r,l),l&&y(e)}}}function qat(i){let e,t,n,r,s,l,o,a,u,c,f,d,m;return a=new jt({props:{solo:!0,outside:!0,title:"Templates",$$slots:{default:[Yat]},$$scope:{ctx:i}}}),c=new jt({props:{solo:!0,outside:!0,title:"Other Options",$$slots:{default:[Wat]},$$scope:{ctx:i}}}),{c(){e=P("div"),t=P("h1"),t.textContent="Starter Templates",n=W(),r=P("p"),r.textContent="Want Nomie to be set up automatically? Use one of the following templates.",s=W(),l=P("div"),o=W(),B(a.$$.fragment),u=W(),B(c.$$.fragment),f=W(),d=P("div"),h(t,"class","leading-tight dark:text-white text-center font-bold px-4 text-lg"),h(r,"class","text-gray-500 text-sm leading-tight text-center px-2 py-1"),h(l,"class","h-4"),h(e,"class","max-w-screen-lg mx-auto pt-6"),h(d,"class","h-20")},m(p,g){w(p,e,g),D(e,t),D(e,n),D(e,r),D(e,s),D(e,l),D(e,o),O(a,e,null),D(e,u),O(c,e,null),w(p,f,g),w(p,d,g),m=!0},p(p,g){const k={};g&513&&(k.$$scope={dirty:g,ctx:p}),a.$set(k);const $={};g&512&&($.$$scope={dirty:g,ctx:p}),c.$set($)},i(p){m||(_(a.$$.fragment,p),_(c.$$.fragment,p),m=!0)},o(p){v(a.$$.fragment,p),v(c.$$.fragment,p),m=!1},d(p){p&&y(e),I(a),I(c),p&&y(f),p&&y(d)}}}function Hat(i){let e,t;return e=new Li({props:{className:"filler  flex items-center  flex-col pt-3 px-5 slide-templates ",$$slots:{default:[qat]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&513&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Vat(i,e,t){let n=[{title:"Open Template URL...",click:vU}],r=[];const s=o=>o.click(),l=o=>o.click();return i.$$.update=()=>{i.$$.dirty&1&&t(0,r=[...nk.map(o=>({...o,click(){Ow(o.url)}}))])},[r,n,s,l]}class aI extends pe{constructor(e){super(),me(this,e,Vat,Hat,he,{})}}function uI(i,e,t){const n=i.slice();return n[7]=e[t],n}function cI(i){let e,t;return{c(){e=P("div"),h(e,"class",t="step "+i[1]+" "+(i[7]?"active":"inactive"))},m(n,r){w(n,e,r)},p(n,r){r&10&&t!==(t="step "+n[1]+" "+(n[7]?"active":"inactive"))&&h(e,"class",t)},d(n){n&&y(e)}}}function xat(i){let e,t,n=i[3],r=[];for(let s=0;s<n.length;s+=1)r[s]=cI(uI(i,n,s));return{c(){e=P("div");for(let s=0;s<r.length;s+=1)r[s].c();h(e,"class",t="n-stepper "+(i[0]?"dark":"light")),h(e,"style",i[2])},m(s,l){w(s,e,l);for(let o=0;o<r.length;o+=1)r[o].m(e,null)},p(s,[l]){if(l&10){n=s[3];let o;for(o=0;o<n.length;o+=1){const a=uI(s,n,o);r[o]?r[o].p(a,l):(r[o]=cI(a),r[o].c(),r[o].m(e,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}l&1&&t!==(t="n-stepper "+(s[0]?"dark":"light"))&&h(e,"class",t),l&4&&h(e,"style",s[2])},i:Z,o:Z,d(s){s&&y(e),pt(r,s)}}}function Gat(i,e,t){let{steps:n=0}=e,{current:r=0}=e,{dark:s=!1}=e,{stepClass:l=""}=e,{single:o=!1}=e,{style:a=""}=e,u=[];return i.$$set=c=>{"steps"in c&&t(4,n=c.steps),"current"in c&&t(5,r=c.current),"dark"in c&&t(0,s=c.dark),"stepClass"in c&&t(1,l=c.stepClass),"single"in c&&t(6,o=c.single),"style"in c&&t(2,a=c.style)},i.$$.update=()=>{if(i.$$.dirty&120&&(n||r)){t(3,u=[]);for(let c=0;c<n;c++)o?u.push(r==c):u.push(r>=c)}},[s,l,a,u,n,r,o]}class Zat extends pe{constructor(e){super(),me(this,e,Gat,xat,he,{steps:4,current:5,dark:0,stepClass:1,single:6,style:2})}}const Xat=i=>({}),fI=i=>({});function Kat(i){let e,t;return e=new Zat({props:{steps:i[1],stepClass:"primary-bright",current:i[0]}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.steps=n[1]),r&1&&(s.current=n[0]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Jat(i){let e;return{c(){e=K("\u2190 Back")},m(t,n){w(t,e,n)},d(t){t&&y(e)}}}function Qat(i){let e,t;return e=new He({props:{slot:"left",className:(i[4]?"opacity-0":"")+" text-gray-500 whitespace-nowrap",clear:!0,$$slots:{default:[Jat]},$$scope:{ctx:i}}}),e.$on("click",i[10]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&16&&(s.className=(n[4]?"opacity-0":"")+" text-gray-500 whitespace-nowrap"),r&2048&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function eut(i){let e,t;return{c(){e=K(i[2]),t=K(" \u2192")},m(n,r){w(n,e,r),w(n,t,r)},p(n,r){r&4&&de(e,n[2])},d(n){n&&y(e),n&&y(t)}}}function tut(i){let e,t;return e=new He({props:{slot:"right",className:"font-bold whitespace-nowrap",disabled:i[3],primary:!0,$$slots:{default:[eut]},$$scope:{ctx:i}}}),e.$on("click",i[9]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&8&&(s.disabled=n[3]),r&2052&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function nut(i){let e,t,n,r,s,l,o;const a=i[7].header,u=nt(a,i,i[11],fI);var c=i[5];function f(d){return{}}return c&&(n=Un(c,f()),n.$on("next",i[8])),l=new Sn({props:{className:"mx-auto max-w-xl py-1",$$slots:{right:[tut],left:[Qat],default:[Kat]},$$scope:{ctx:i}}}),{c(){e=P("div"),u&&u.c(),t=W(),n&&B(n.$$.fragment),r=W(),s=P("div"),B(l.$$.fragment),h(s,"class","fixed bottom-0 w-full"),h(e,"class","min-h-fill flex flex-col w-full z-50")},m(d,m){w(d,e,m),u&&u.m(e,null),D(e,t),n&&O(n,e,null),D(e,r),D(e,s),O(l,s,null),o=!0},p(d,[m]){if(u&&u.p&&(!o||m&2048)&&rt(u,a,d,d[11],o?it(a,d[11],m,Xat):st(d[11]),fI),c!==(c=d[5])){if(n){ae();const g=n;v(g.$$.fragment,1,0,()=>{I(g,1)}),ue()}c?(n=Un(c,f()),n.$on("next",d[8]),B(n.$$.fragment),_(n.$$.fragment,1),O(n,e,r)):n=null}const p={};m&2079&&(p.$$scope={dirty:m,ctx:d}),l.$set(p)},i(d){o||(_(u,d),n&&_(n.$$.fragment,d),_(l.$$.fragment,d),o=!0)},o(d){v(u,d),n&&v(n.$$.fragment,d),v(l.$$.fragment,d),o=!1},d(d){d&&y(e),u&&u.d(d),n&&I(n),I(l)}}}function iut(i,e,t){let{$$slots:n={},$$scope:r}=e,{activeIndex:s=0}=e,{totalSlides:l=0}=e,{nextTitle:o="Next"}=e,{nextDisabled:a=!1}=e,{hideBack:u=!1}=e,{component:c}=e;const f=Ut(),d=()=>{console.log(" On Next")},m=()=>f("next"),p=()=>f("back");return i.$$set=g=>{"activeIndex"in g&&t(0,s=g.activeIndex),"totalSlides"in g&&t(1,l=g.totalSlides),"nextTitle"in g&&t(2,o=g.nextTitle),"nextDisabled"in g&&t(3,a=g.nextDisabled),"hideBack"in g&&t(4,u=g.hideBack),"component"in g&&t(5,c=g.component),"$$scope"in g&&t(11,r=g.$$scope)},[s,l,o,a,u,c,f,n,d,m,p,r]}class rut extends pe{constructor(e){super(),me(this,e,iut,nut,he,{activeIndex:0,totalSlides:1,nextTitle:2,nextDisabled:3,hideBack:4,component:5})}}function dI(i){let e,t,n;function r(l){i[6](l)}let s={activeIndex:i[0].activeSlide,totalSlides:i[5].length,hideBack:i[0].activeSlide==0,nextDisabled:!i[3],nextTitle:i[4]};return i[1]!==void 0&&(s.component=i[1]),e=new rut({props:s}),Oe.push(()=>Qe(e,"component",r,i[1])),e.$on("next",i[7]),e.$on("back",i[8]),{c(){B(e.$$.fragment)},m(l,o){O(e,l,o),n=!0},p(l,o){const a={};o&1&&(a.activeIndex=l[0].activeSlide),o&1&&(a.hideBack=l[0].activeSlide==0),o&8&&(a.nextDisabled=!l[3]),o&16&&(a.nextTitle=l[4]),!t&&o&2&&(t=!0,a.component=l[1],tt(()=>t=!1)),e.$set(a)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){v(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function sut(i){let e,t,n=i[1]&&dI(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[1]?n?(n.p(r,s),s&2&&_(n,1)):(n=dI(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function lut(i,e,t){let n,r;Le(i,Ht,m=>t(2,n=m)),Le(i,Ni,m=>t(9,r=m));const s={ready:!1,showMore:!1,activeSlide:0,showNext:!0,transitioning:!1,isTiny:!1,redirecting:!1,timeFormat:n.use24hour,theme:n.theme};let l=[fat];Ni.iOS()&&!r.pwa&&l.push(iI),l.push(Lat),l.push(m2),l.push(aI),Yt(()=>{setTimeout(()=>{window.document.body.offsetHeight<640&&t(0,s.isTiny=!0,s)},12)});let o=!0,a="Next",u;function c(m){u=m,t(1,u),t(5,l),t(0,s),t(2,n)}const f=()=>{s.activeSlide<l.length-1?t(0,s.activeSlide=s.activeSlide+1,s):s.activeSlide===l.length-1&&(ui(Ht,n.onboarded=!0,n),Lt(100).then(()=>{window.location.href="/"}))},d=()=>{s.activeSlide>0&&t(0,s.activeSlide=s.activeSlide-1,s)};return i.$$.update=()=>{i.$$.dirty&7&&(t(1,u=l[s.activeSlide]),t(4,a="Next"),u==m2&&!n.storageType?t(3,o=!1):u==iI?t(4,a="Skip"):u==m2&&!n.storageType?t(3,o=!1):u==aI?t(4,a="Begin"):t(3,o=!0))},[s,u,n,o,a,l,c,f,d]}class Iq extends pe{constructor(e){super(),me(this,e,lut,sut,he,{})}}function out(i){let e,t;return e=new Iq({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}class aut extends pe{constructor(e){super(),me(this,e,null,out,he,{})}}function uut(i){let e,t;return e=new C$({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function cut(i){let e,t;return e=new Nq({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fut(i){let e,t;return e=new D$({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function dut(i){let e,t;return e=new D$({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function hut(i){let e,t;return e=new Tq({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mut(i){let e,t;return e=new C$({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function put(i){let e,t,n,r;const s=[mut,hut,dut,fut,cut,uut],l=[];function o(a,u){return a[0].startPage==="track"?0:a[0].startPage==="dashboard"?1:a[0].startPage==="timeline"?2:a[0].startPage==="history"?3:a[0].startPage==="goals"?4:5}return e=o(i),t=l[e]=s[e](i),{c(){t.c(),n=Ae()},m(a,u){l[e].m(a,u),w(a,n,u),r=!0},p(a,u){let c=e;e=o(a),e!==c&&(ae(),v(l[c],1,1,()=>{l[c]=null}),ue(),t=l[e],t||(t=l[e]=s[e](a),t.c()),_(t,1),t.m(n.parentNode,n))},i(a){r||(_(t),r=!0)},o(a){v(t),r=!1},d(a){l[e].d(a),a&&y(n)}}}function _ut(i){let e,t;return e=new C$({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function gut(i){let e,t;return e=new fit({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function vut(i){let e,t;return e=new D$({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function but(i){let e,t;return e=new Nq({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function kut(i){let e,t;return e=new Tit({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function yut(i){let e,t;return e=new Iit({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wut(i){let e,t;return e=new Zit({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function $ut(i){let e,t;return e=new Tq({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Fut(i){let e,t;return e=new ert({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Eut(i){let e,t;return e=new Mq({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Cut(i){let e,t;return e=new Mq({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Dut(i){let e,t;return e=new Qot({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Sut(i){let e,t;return e=new lat({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Tut(i){let e,t;return e=new QXe({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Aut(i){let e,t;return e=new SXe({props:{path:i[1].path}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.path=n[1].path),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Put(i){let e,t;return e=new aut({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Nut(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E,S,T,M,R,Y,z,j,V,x,ee,J,q,le,G,X,se,te;return e=new tKe({}),n=new xr({props:{path:"/",$$slots:{default:[put]},$$scope:{ctx:i}}}),s=new xr({props:{path:"/track",$$slots:{default:[_ut]},$$scope:{ctx:i}}}),o=new xr({props:{path:"/analytics",$$slots:{default:[gut]},$$scope:{ctx:i}}}),u=new xr({props:{path:"/timeline",$$slots:{default:[vut]},$$scope:{ctx:i}}}),f=new xr({props:{path:"/goals",$$slots:{default:[but]},$$scope:{ctx:i}}}),m=new xr({props:{path:"/test",$$slots:{default:[kut]},$$scope:{ctx:i}}}),g=new xr({props:{path:"/uoms",$$slots:{default:[yut]},$$scope:{ctx:i}}}),$=new xr({props:{path:"/awards",$$slots:{default:[wut]},$$scope:{ctx:i}}}),E=new xr({props:{path:"/dashboard",$$slots:{default:[$ut]},$$scope:{ctx:i}}}),T=new xr({props:{path:"/faq",$$slots:{default:[Fut]},$$scope:{ctx:i}}}),R=new xr({props:{path:"/history",$$slots:{default:[Eut]},$$scope:{ctx:i}}}),z=new xr({props:{path:"/history/:date",$$slots:{default:[Cut]},$$scope:{ctx:i}}}),V=new xr({props:{path:"/settings",$$slots:{default:[Dut]},$$scope:{ctx:i}}}),ee=new xr({props:{path:"/settings/export",$$slots:{default:[Sut]},$$scope:{ctx:i}}}),q=new xr({props:{path:"/settings/export/csv",$$slots:{default:[Tut]},$$scope:{ctx:i}}}),G=new xr({props:{path:"/files/*path",$$slots:{default:[Aut,({params:ie})=>({1:ie}),({params:ie})=>ie?2:0]},$$scope:{ctx:i}}}),se=new xr({props:{path:"/setup",$$slots:{default:[Put]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment),t=W(),B(n.$$.fragment),r=W(),B(s.$$.fragment),l=W(),B(o.$$.fragment),a=W(),B(u.$$.fragment),c=W(),B(f.$$.fragment),d=W(),B(m.$$.fragment),p=W(),B(g.$$.fragment),k=W(),B($.$$.fragment),C=W(),B(E.$$.fragment),S=W(),B(T.$$.fragment),M=W(),B(R.$$.fragment),Y=W(),B(z.$$.fragment),j=W(),B(V.$$.fragment),x=W(),B(ee.$$.fragment),J=W(),B(q.$$.fragment),le=W(),B(G.$$.fragment),X=W(),B(se.$$.fragment)},m(ie,re){O(e,ie,re),w(ie,t,re),O(n,ie,re),w(ie,r,re),O(s,ie,re),w(ie,l,re),O(o,ie,re),w(ie,a,re),O(u,ie,re),w(ie,c,re),O(f,ie,re),w(ie,d,re),O(m,ie,re),w(ie,p,re),O(g,ie,re),w(ie,k,re),O($,ie,re),w(ie,C,re),O(E,ie,re),w(ie,S,re),O(T,ie,re),w(ie,M,re),O(R,ie,re),w(ie,Y,re),O(z,ie,re),w(ie,j,re),O(V,ie,re),w(ie,x,re),O(ee,ie,re),w(ie,J,re),O(q,ie,re),w(ie,le,re),O(G,ie,re),w(ie,X,re),O(se,ie,re),te=!0},p(ie,re){const be={};re&5&&(be.$$scope={dirty:re,ctx:ie}),n.$set(be);const we={};re&4&&(we.$$scope={dirty:re,ctx:ie}),s.$set(we);const De={};re&4&&(De.$$scope={dirty:re,ctx:ie}),o.$set(De);const Be={};re&4&&(Be.$$scope={dirty:re,ctx:ie}),u.$set(Be);const ze={};re&4&&(ze.$$scope={dirty:re,ctx:ie}),f.$set(ze);const ke={};re&4&&(ke.$$scope={dirty:re,ctx:ie}),m.$set(ke);const Ue={};re&4&&(Ue.$$scope={dirty:re,ctx:ie}),g.$set(Ue);const Ce={};re&4&&(Ce.$$scope={dirty:re,ctx:ie}),$.$set(Ce);const vt={};re&4&&(vt.$$scope={dirty:re,ctx:ie}),E.$set(vt);const $t={};re&4&&($t.$$scope={dirty:re,ctx:ie}),T.$set($t);const bt={};re&4&&(bt.$$scope={dirty:re,ctx:ie}),R.$set(bt);const Tt={};re&4&&(Tt.$$scope={dirty:re,ctx:ie}),z.$set(Tt);const It={};re&4&&(It.$$scope={dirty:re,ctx:ie}),V.$set(It);const Je={};re&4&&(Je.$$scope={dirty:re,ctx:ie}),ee.$set(Je);const Pt={};re&4&&(Pt.$$scope={dirty:re,ctx:ie}),q.$set(Pt);const sn={};re&6&&(sn.$$scope={dirty:re,ctx:ie}),G.$set(sn);const Tn={};re&4&&(Tn.$$scope={dirty:re,ctx:ie}),se.$set(Tn)},i(ie){te||(_(e.$$.fragment,ie),_(n.$$.fragment,ie),_(s.$$.fragment,ie),_(o.$$.fragment,ie),_(u.$$.fragment,ie),_(f.$$.fragment,ie),_(m.$$.fragment,ie),_(g.$$.fragment,ie),_($.$$.fragment,ie),_(E.$$.fragment,ie),_(T.$$.fragment,ie),_(R.$$.fragment,ie),_(z.$$.fragment,ie),_(V.$$.fragment,ie),_(ee.$$.fragment,ie),_(q.$$.fragment,ie),_(G.$$.fragment,ie),_(se.$$.fragment,ie),te=!0)},o(ie){v(e.$$.fragment,ie),v(n.$$.fragment,ie),v(s.$$.fragment,ie),v(o.$$.fragment,ie),v(u.$$.fragment,ie),v(f.$$.fragment,ie),v(m.$$.fragment,ie),v(g.$$.fragment,ie),v($.$$.fragment,ie),v(E.$$.fragment,ie),v(T.$$.fragment,ie),v(R.$$.fragment,ie),v(z.$$.fragment,ie),v(V.$$.fragment,ie),v(ee.$$.fragment,ie),v(q.$$.fragment,ie),v(G.$$.fragment,ie),v(se.$$.fragment,ie),te=!1},d(ie){I(e,ie),ie&&y(t),I(n,ie),ie&&y(r),I(s,ie),ie&&y(l),I(o,ie),ie&&y(a),I(u,ie),ie&&y(c),I(f,ie),ie&&y(d),I(m,ie),ie&&y(p),I(g,ie),ie&&y(k),I($,ie),ie&&y(C),I(E,ie),ie&&y(S),I(T,ie),ie&&y(M),I(R,ie),ie&&y(Y),I(z,ie),ie&&y(j),I(V,ie),ie&&y(x),I(ee,ie),ie&&y(J),I(q,ie),ie&&y(le),I(G,ie),ie&&y(X),I(se,ie)}}}function Mut(i){let e,t;return e=new Uj({props:{$$slots:{default:[Nut]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&5&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function Lut(i,e,t){let n;return Le(i,Ht,r=>t(0,n=r)),[n]}class Out extends pe{constructor(e){super(),me(this,e,Lut,Mut,he,{})}}function Iut(i){let e,t;return{c:Z,m(n,r){e||(t=Se(window,"keydown",i[0]),e=!0)},p:Z,i:Z,o:Z,d(n){e=!1,t()}}}function But(i){return[t=>{t.key=="p"&&t.metaKey&&(kf(),t.preventDefault())}]}class Rut extends pe{constructor(e){super(),me(this,e,But,Iut,he,{})}}function zut(i){let e,t,n,r,s,l,o;return{c(){e=ye("svg"),t=ye("title"),n=K("Close Circle"),r=ye("path"),s=ye("path"),h(r,"d","M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"),h(r,"fill","none"),h(r,"stroke","currentColor"),h(r,"stroke-miterlimit","10"),h(r,"stroke-width","32"),h(s,"fill","none"),h(s,"stroke","currentColor"),h(s,"stroke-linecap","round"),h(s,"stroke-linejoin","round"),h(s,"stroke-width","32"),h(s,"d","M320 320L192 192M192 320l128-128"),h(e,"height",l=i[0]+"px"),h(e,"width",o=i[0]+"px"),h(e,"xmlns","http://www.w3.org/2000/svg"),h(e,"class","ionicon"),h(e,"viewBox","0 0 512 512")},m(a,u){w(a,e,u),D(e,t),D(t,n),D(e,r),D(e,s)},p(a,[u]){u&1&&l!==(l=a[0]+"px")&&h(e,"height",l),u&1&&o!==(o=a[0]+"px")&&h(e,"width",o)},i:Z,o:Z,d(a){a&&y(e)}}}function jut(i,e,t){let{size:n=24}=e;return i.$$set=r=>{"size"in r&&t(0,n=r.size)},[n]}class Yut extends pe{constructor(e){super(),me(this,e,jut,zut,he,{size:0})}}function hI(i){let e,t,n,r,s,l,o=i[0].message+"",a,u,c,f,d,m,p,g,k;const $=[Wut,Uut],C=[];function E(R,Y){return R[0].type==="success"?0:R[0].type==="failure"?1:-1}~(t=E(i))&&(n=C[t]=$[t](i));let S=i[0].buttonLabel&&mI(i),T=i[0].timeout>2500&&pI(),M=i[0].buttonLabel&&_I(i);return{c(){e=P("div"),n&&n.c(),r=W(),s=P("div"),l=P("p"),a=K(o),u=W(),S&&S.c(),c=W(),T&&T.c(),f=W(),M&&M.c(),h(l,"class","filler line-clamp-3 leading-tight text-sm"),h(s,"class","toast"),h(e,"role","dialog"),h(e,"class","toast-wrapper transition-all duration-200")},m(R,Y){w(R,e,Y),~t&&C[t].m(e,null),D(e,r),D(e,s),D(s,l),D(l,a),D(s,u),S&&S.m(s,null),D(s,c),T&&T.m(s,null),D(e,f),M&&M.m(e,null),p=!0,g||(k=Se(s,"click",i[4]),g=!0)},p(R,Y){let z=t;t=E(R),t===z?~t&&C[t].p(R,Y):(n&&(ae(),v(C[z],1,1,()=>{C[z]=null}),ue()),~t?(n=C[t],n?n.p(R,Y):(n=C[t]=$[t](R),n.c()),_(n,1),n.m(e,r)):n=null),(!p||Y&1)&&o!==(o=R[0].message+"")&&de(a,o),R[0].buttonLabel?S?S.p(R,Y):(S=mI(R),S.c(),S.m(s,c)):S&&(S.d(1),S=null),R[0].timeout>2500?T?(T.p(R,Y),Y&1&&_(T,1)):(T=pI(),T.c(),_(T,1),T.m(s,null)):T&&(ae(),v(T,1,1,()=>{T=null}),ue()),R[0].buttonLabel?M?(M.p(R,Y),Y&1&&_(M,1)):(M=_I(R),M.c(),_(M,1),M.m(e,null)):M&&(ae(),v(M,1,1,()=>{M=null}),ue())},i(R){p||(_(n),_(T),_(M),Ei(()=>{m&&m.end(1),d=V1(e,Km,{}),d.start()}),p=!0)},o(R){v(n),v(T),v(M),d&&d.invalidate(),m=Wk(e,Rd,{y:100}),p=!1},d(R){R&&y(e),~t&&C[t].d(),S&&S.d(),T&&T.d(),M&&M.d(),R&&m&&m.end(),g=!1,k()}}}function Uut(i){let e,t,n;return t=new et({props:{icon:Yut,size:24}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","toast-type failure")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function Wut(i){let e,t,n;return t=new et({props:{icon:mw,size:24}}),{c(){e=P("div"),B(t.$$.fragment),h(e,"class","toast-type success")},m(r,s){w(r,e,s),O(t,e,null),n=!0},p:Z,i(r){n||(_(t.$$.fragment,r),n=!0)},o(r){v(t.$$.fragment,r),n=!1},d(r){r&&y(e),I(t)}}}function mI(i){let e,t=i[0].buttonLabel+"",n,r,s;return{c(){e=P("button"),n=K(t),h(e,"class","text-primary-500 uppercase font-semibold text-sm px-2 py-1 rounded-full focus:outline-none focus:ring-2 ring-primary-500")},m(l,o){w(l,e,o),D(e,n),r||(s=Se(e,"click",ic(il(i[3]))),r=!0)},p(l,o){o&1&&t!==(t=l[0].buttonLabel+"")&&de(n,t)},d(l){l&&y(e),r=!1,s()}}}function pI(i){let e,t;return e=new et({props:{icon:ua,className:"text-gray-500 pr-2"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function _I(i){let e,t,n=i[1]&&gI(i);return{c(){e=P("div"),n&&n.c(),h(e,"class","progress h-1 absolute bottom-1 left-1 right-1 overflow-hidden;")},m(r,s){w(r,e,s),n&&n.m(e,null),t=!0},p(r,s){r[1]?n?(n.p(r,s),s&2&&_(n,1)):(n=gI(r),n.c(),_(n,1),n.m(e,null)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){r&&y(e),n&&n.d()}}}function gI(i){let e,t;return e=new Dl({props:{percentage:100-i[1],className:"bg-black h-1",barClass:"h-1 bg-gray-800 w-full"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&2&&(s.percentage=100-n[1]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function qut(i){let e,t,n=i[0]&&hI(i);return{c(){n&&n.c(),e=Ae()},m(r,s){n&&n.m(r,s),w(r,e,s),t=!0},p(r,[s]){r[0]?n?(n.p(r,s),s&1&&_(n,1)):(n=hI(r),n.c(),_(n,1),n.m(e.parentNode,e)):n&&(ae(),v(n,1,1,()=>{n=null}),ue())},i(r){t||(_(n),t=!0)},o(r){v(n),t=!1},d(r){n&&n.d(r),r&&y(e)}}}function Hut(i,e,t){let{toast:n}=e,r=0,s,l=0;Yt(()=>{n&&(t(2,r=0),s=setInterval(()=>{if(t(2,r=r+100),r>=n.timeout){t(1,l=100);try{s()}catch{}}},100))}),Ns(()=>{try{s()}catch{}});const o=()=>{n.buttonClick(),$3(n)},a=()=>{$3(n)};return i.$$set=u=>{"toast"in u&&t(0,n=u.toast)},i.$$.update=()=>{i.$$.dirty&5&&n&&t(1,l=Nt.percentage((n.timeout||3e3)-200,r))},[n,l,r,o,a]}class Vut extends pe{constructor(e){super(),me(this,e,Hut,qut,he,{toast:0})}}function vI(i,e,t){const n=i.slice();return n[1]=e[t],n[3]=t,n}function bI(i,e){let t,n,r;return n=new Vut({props:{toast:e[1]}}),{key:i,first:null,c(){t=Ae(),B(n.$$.fragment),this.first=t},m(s,l){w(s,t,l),O(n,s,l),r=!0},p(s,l){e=s;const o={};l&1&&(o.toast=e[1]),n.$set(o)},i(s){r||(_(n.$$.fragment,s),r=!0)},o(s){v(n.$$.fragment,s),r=!1},d(s){s&&y(t),I(n,s)}}}function xut(i){let e,t=[],n=new Map,r,s,l,o=i[0];const a=u=>u[3];for(let u=0;u<o.length;u+=1){let c=vI(i,o,u),f=a(c);n.set(f,t[u]=bI(f,c))}return{c(){e=P("div");for(let u=0;u<t.length;u+=1)t[u].c();h(e,"class","toasts")},m(u,c){w(u,e,c);for(let f=0;f<t.length;f+=1)t[f].m(e,null);l=!0},p(u,[c]){c&1&&(o=u[0],ae(),t=Pi(t,c,a,1,u,o,n,e,br,bI,null,vI),ue())},i(u){if(!l){for(let c=0;c<o.length;c+=1)_(t[c]);Ei(()=>{s&&s.end(1),r=V1(e,Rd,{y:100}),r.start()}),l=!0}},o(u){for(let c=0;c<t.length;c+=1)v(t[c]);r&&r.invalidate(),s=Wk(e,Rd,{y:100}),l=!1},d(u){u&&y(e);for(let c=0;c<t.length;c+=1)t[c].d();u&&s&&s.end()}}}function Gut(i,e,t){let n;return Le(i,Jm,r=>t(0,n=r)),[n]}class Zut extends pe{constructor(e){super(),me(this,e,Gut,xut,he,{})}}function Xut(i){return Yt(()=>{document.body.classList.add("overflow-hidden")}),Ns(()=>{document.body.classList.remove("overflow-hidden")}),[]}class Kut extends pe{constructor(e){super(),me(this,e,Xut,null,he,{})}}function kI(i,e,t){const n=i.slice();return n[6]=e[t],n[8]=t,n}function yI(i){let e,t;return e=new Kut({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function wI(i){let e,t,n;return{c(){e=P("div"),h(e,"class","background-cover pointer-events-none absolute top-0 right-0 left-0 bottom-0 bg-black bg-opacity-10 backdrop-filter backdrop-blur-sm"),gt(e,"z-index",Dp+(i[8]+3))},m(r,s){w(r,e,s),n=!0},p(r,s){(!n||s&4)&&gt(e,"z-index",Dp+(r[8]+3))},i(r){n||(Ei(()=>{t||(t=as(e,Km,{},!0)),t.run(1)}),n=!0)},o(r){t||(t=as(e,Km,{},!1)),t.run(0),n=!1},d(r){r&&y(e),r&&t&&t.end()}}}function $I(i,e){let t,n,r,s,l,o,a,u,c;const f=[{id:e[6].id},e[6].componentProps];var d=e[6].component;function m(g){let k={};for(let $=0;$<f.length;$+=1)k=St(k,f[$]);return{props:k}}d&&(n=Un(d,m()),e[4](n));let p=e[8]<e[2].length-1&&wI(e);return{key:i,first:null,c(){t=P("div"),n&&B(n.$$.fragment),a=W(),p&&p.c(),u=Ae(),h(t,"class",r="backdrop-modal modal-"+(e[6].position||"fullscreen")),h(t,"id",s=e[6].id),gt(t,"--zIndex",Dp+(e[8]+2)),gt(t,"--index",e[8]+2),ct(t,"in-background",e[8]<e[2].length-1),ct(t,"in-forground",e[8]==e[2].length-1),this.first=t},m(g,k){w(g,t,k),n&&O(n,t,null),w(g,a,k),p&&p.m(g,k),w(g,u,k),c=!0},p(g,k){e=g;const $=k&4?Zt(f,[{id:e[6].id},Qr(e[6].componentProps)]):{};if(d!==(d=e[6].component)){if(n){ae();const C=n;v(C.$$.fragment,1,0,()=>{I(C,1)}),ue()}d?(n=Un(d,m()),e[4](n),B(n.$$.fragment),_(n.$$.fragment,1),O(n,t,null)):n=null}else d&&n.$set($);(!c||k&4&&r!==(r="backdrop-modal modal-"+(e[6].position||"fullscreen")))&&h(t,"class",r),(!c||k&4&&s!==(s=e[6].id))&&h(t,"id",s),(!c||k&4)&&gt(t,"--zIndex",Dp+(e[8]+2)),(!c||k&4)&&gt(t,"--index",e[8]+2),(!c||k&4)&&ct(t,"in-background",e[8]<e[2].length-1),(!c||k&4)&&ct(t,"in-forground",e[8]==e[2].length-1),e[8]<e[2].length-1?p?(p.p(e,k),k&4&&_(p,1)):(p=wI(e),p.c(),_(p,1),p.m(u.parentNode,u)):p&&(ae(),v(p,1,1,()=>{p=null}),ue())},i(g){c||(n&&_(n.$$.fragment,g),Ei(()=>{o&&o.end(1),l=V1(t,Rd,{y:200,duration:60,easing:m3}),l.start()}),_(p),c=!0)},o(g){n&&v(n.$$.fragment,g),l&&l.invalidate(),o=Wk(t,Rd,{y:200,duration:60,easing:m3}),v(p),c=!1},d(g){g&&y(t),e[4](null),n&&I(n),g&&o&&o.end(),g&&y(a),p&&p.d(g),g&&y(u)}}}function Jut(i){let e,t,n=[],r=new Map,s,l,o,a,u=i[2].length&&yI(),c=i[2];const f=d=>d[6].id;for(let d=0;d<c.length;d+=1){let m=kI(i,c,d),p=f(m);r.set(p,n[d]=$I(p,m))}return{c(){u&&u.c(),e=W(),t=P("div");for(let d=0;d<n.length;d+=1)n[d].c();h(t,"class",s="backdrop2 "+(i[0].transparent?"bg-transparent":"bg-nnormal")),gt(t,"--zIndex",Dp)},m(d,m){u&&u.m(d,m),w(d,e,m),w(d,t,m);for(let p=0;p<n.length;p+=1)n[p].m(t,null);l=!0,o||(a=Se(t,"click",BI(i[5])),o=!0)},p(d,[m]){d[2].length?u?m&4&&_(u,1):(u=yI(),u.c(),_(u,1),u.m(e.parentNode,e)):u&&(ae(),v(u,1,1,()=>{u=null}),ue()),m&6&&(c=d[2],ae(),n=Pi(n,m,f,1,d,c,r,t,br,$I,null,kI),ue()),(!l||m&1&&s!==(s="backdrop2 "+(d[0].transparent?"bg-transparent":"bg-nnormal")))&&h(t,"class",s)},i(d){if(!l){_(u);for(let m=0;m<c.length;m+=1)_(n[m]);l=!0}},o(d){v(u);for(let m=0;m<n.length;m+=1)v(n[m]);l=!1},d(d){u&&u.d(d),d&&y(e),d&&y(t);for(let m=0;m<n.length;m+=1)n[m].d();o=!1,a()}}}const Dp=5e3;function Qut(i,e,t){let n;Le(i,jd,u=>t(2,n=u));let r,s=n[n.length-1],l;function o(u){Oe[u?"unshift":"push"](()=>{l=u,t(1,l)})}const a=()=>{s.tappable&&ui(jd,n=n.slice(0,-1),n)};return i.$$.update=()=>{if(i.$$.dirty&4&&t(0,s=n[n.length-1]),i.$$.dirty&11){if(s&&r!==s.id)t(3,r=s.id);else if(!s&&r)try{l.$destroy()}catch{}}},[s,l,n,r,o,a]}class ect extends pe{constructor(e){super(),me(this,e,Qut,Jut,he,{})}}const Bq=async i=>new Promise(e=>{Oq({canClose:!1,title:"Pin to Unlock",isMatch(t){return t===i.usePin}}).then(t=>{t===i.usePin?(tn("pin-lock"),e(!0)):(at.error("Invalid Pin Code."),Bq(i))})}),Rq=async i=>(Vu({knownTrackables:i,date:new Date}),n1(i),yl.init(),Ni.init(),sl.init(),vf.init(),Wo.init(),Id.init(),hVe(),!0),tct=async i=>{let e=!!i.usePin;return new Promise(t=>{try{_n.onReady(async()=>{e&&i.usePin&&await Bq(i),await dn.init();const n=await Af();Rq(n),t(!0)})}catch(n){console.error(n)}})};function nct(i){let e,t;return{c(){e=P("iframe"),Jr(e.src,t=i[1])||h(e,"src",t),h(e,"title",i[0]),h(e,"class","w-full h-full")},m(n,r){w(n,e,r),i[6](e)},p(n,r){r&2&&!Jr(e.src,t=n[1])&&h(e,"src",t),r&1&&h(e,"title",n[0])},d(n){n&&y(e),i[6](null)}}}function ict(i){let e,t;return{c(){e=P("h2"),t=K(i[0]),h(e,"class","ntitle sm")},m(n,r){w(n,e,r),D(e,t)},p(n,r){r&1&&de(t,n[0])},d(n){n&&y(e)}}}function rct(i){let e,t;return e=new et({props:{icon:ua}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p:Z,i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function sct(i){let e,t;return e=new He({props:{icon:!0,primary:!0,slot:"left",$$slots:{default:[rct]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&128&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function lct(i){let e,t;return e=new Sn({props:{slot:"header",$$slots:{left:[sct],default:[ict]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&129&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function oct(i){let e,t;return e=new ti({props:{$$slots:{header:[lct],default:[nct]},$$scope:{ctx:i}}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,[r]){const s={};r&135&&(s.$$scope={dirty:r,ctx:n}),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function act(i,e,t){let{title:n}=e,{url:r}=e,{id:s}=e,{messagePayload:l}=e,o;const a=()=>{tn(s)};Yt(()=>{l&&t(2,o.onload=()=>{setTimeout(()=>{o.contentWindow.postMessage(l,"*")},120)},o)});function u(c){Oe[c?"unshift":"push"](()=>{o=c,t(2,o)})}return i.$$set=c=>{"title"in c&&t(0,n=c.title),"url"in c&&t(1,r=c.url),"id"in c&&t(4,s=c.id),"messagePayload"in c&&t(5,l=c.messagePayload)},[n,r,o,a,s,l,u]}class uct extends pe{constructor(e){super(),me(this,e,act,oct,he,{title:0,url:1,id:4,messagePayload:5})}}const cct=(i,e,t)=>{On({component:uct,id:`id-${ia(i)}`,componentProps:{url:i,title:e||i,messagePayload:t}})};function FI(i,e,t){const n=i.slice();return n[23]=e[t],n[25]=t,n}function EI(i){let e,t;return e=new $w({props:{lid:"auto",plugin:i[23],openAction:"onLaunch"}}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},p(n,r){const s={};r&1&&(s.plugin=n[23]),e.$set(s)},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function fct(i){let e,t,n=i[0],r=[];for(let l=0;l<n.length;l+=1)r[l]=EI(FI(i,n,l));const s=l=>v(r[l],1,1,()=>{r[l]=null});return{c(){e=P("div");for(let l=0;l<r.length;l+=1)r[l].c();h(e,"id","live-plugin-holder"),h(e,"class","w-0 h-0 overflow-hidden")},m(l,o){w(l,e,o);for(let a=0;a<r.length;a+=1)r[a].m(e,null);t=!0},p(l,[o]){if(o&1){n=l[0];let a;for(a=0;a<n.length;a+=1){const u=FI(l,n,a);r[a]?(r[a].p(u,o),_(r[a],1)):(r[a]=EI(u),r[a].c(),_(r[a],1),r[a].m(e,null))}for(ae(),a=n.length;a<r.length;a+=1)s(a);ue()}},i(l){if(!t){for(let o=0;o<n.length;o+=1)_(r[o]);t=!0}},o(l){r=r.filter(Boolean);for(let o=0;o<r.length;o+=1)v(r[o]);t=!1},d(l){l&&y(e),pt(r,l)}}}function dct(i,e,t){let n,r;Le(i,ls,j=>t(1,n=j)),Le(i,en,j=>t(3,r=j));const s=async j=>{var q;let V=j.data,x=V.action,ee=V.data,J=(q=V.data)==null?void 0:q.lid;if(x&&ee){let le=ee.pid,G=n.find(X=>X.id===`${le}`);G&&(!J&&x!=="register"&&console.error(`${x} was called without a LID`,G),x=="createNote"?f(G,x,ee):x=="register"||(x=="selectTrackables"?T(G,x,ee):x==="openURL"?cct(ee.url,ee.title||ee.url):x==="openPlugin"?Fw(G):x==="openNoteEditor"?o(G,ee):x==="openTemplateURL"?vU(ee.url):x==="openTrackableEditor"?u(G,ee):x==="getTrackableUsage"?M(G,x,ee):x==="getLocation"?R(G,x,ee):x==="prompt"?k(G,ee):x==="alert"?$(G,ee):x==="confirm"?g(G,ee):x==="searchNotes"?d(G,x,ee):x==="getStorageItem"?C(G,ee):x==="setStorageItem"?S(G,ee):x==="getTrackable"?c(G,ee):x==="getTrackableInput"&&a(G,ee)))}},l=j=>{const V=tp(j);return rr(V,r.trackables)},o=(j,V)=>{if(V.note){let x=new gn(V.note);Rf(x)}},a=async(j,V)=>{const x=l(V.tag);let ee={};if(x.type=="tracker"){const J=await hc({tracker:x.tracker,trackables:r.trackables,expandNote:!0,allowSave:!1});J&&(ee.note=J.raw,ee.value=gi(J.value))}else x.type=="context"?(ee.note=x.getNoteValue(),ee.value=x.ctx.duration):ee.note=x.getNoteValue();E(j,"getTrackableReply",{id:V.id,lid:V.lid,note:ee.note,value:ee.value})},u=(j,V)=>{let x=r.trackables[V.trackable.tag];x||(x=new Wi(V.trackable)),Kr(x)},c=async(j,V)=>{const x=l(V.tag);E(j,"getTrackableReply",{id:V.id,lid:V.lid,trackable:x})},f=async(j,V,x)=>{if(j.uses.includes("createNote")){let ee=new gn(x);xu(ee,{silent:!0})}else m(j,V)},d=async(j,V,x)=>{if(j.uses.includes("searchNotes")){let ee=Te(x.date||new Date).endOf("day"),J=x.daysBack>60?60:x.daysBack,q=ee.subtract(J,"days").startOf("day"),le=await dn.query({search:yy(x.term),start:q,end:ee});Yo({action:"searchReply",data:{id:x.id,results:le.map(G=>{let X=G.toObject();return X.elements=G.elements,X.hasNote=G.hasNote,X.hasTodo=G.hasTodo,X})}},j.id,x.lid)}else m(j,V)},m=(j,V)=>{at.alert("Action Not Registered",`${V} needs to be provided in the plugins (${j.name}) use: [] array`)},p=(j,V,x,ee)=>{Yo({action:j,data:{...x,value:ee}},V.id,x.lid)},g=async(j,V)=>{await Lt(200);const x=await at.confirm(V.title,V.message);p("confirmReply",j,V,x)},k=async(j,V)=>{await Lt(200);const x=await at.prompt(`${V.title}`,`${V.message||""} - for ${j.name}`,{placeholder:V.title,valueType:V.type});x&&p("promptReply",j,V,x)},$=async(j,V)=>{await Lt(200);const x=await at.alert(`${V.title}`,`${V.message||""} - for ${j.name}`);x&&p("alertReply",j,V,x.value)},C=async(j,V)=>{let x=`plugins/${j.id}/${Nd(V.key)}.json`,ee;try{ee=await _n.get(x)}catch(J){console.error(J)}E(j,"getStorageItemReply",{id:V.id,lid:V.lid,value:ee})},E=(j,V,x)=>{Yo({action:V,data:x},j.id,x.lid)},S=async(j,V)=>{let x=`plugins/${j.id}/${Nd(V.key)}.json`;try{await _n.put(x,V.value)}catch(ee){console.error(ee)}E(j,"setStorageItemReply",{id:V.id,lid:V.lid})},T=async(j,V,x)=>{if(j.uses.includes("selectTrackables")){const ee=x.type,J=await Ch(ee,x.multiple!=!1);J&&Yo({action:"trackablesSelected",data:{id:x.id,selected:J}},j.id,x.lid)}else m(j,V)},M=async(j,V,x)=>{if(j.uses.includes("getTrackableUsage")){const ee=rr(tp(x.tag),r.trackables);x.daysBack=x.daysBack||7;let J=x.date?new Date(x.date):new Date,q=x.daysBack>90?90:x.daysBack,le=!!x.groupByDay;const G={end:Te(J),start:Te(J).subtract(q,"days")},X=await qp(ee,G,r.trackables),se=le?X.byDay:X;se.dates=se.dates.map(te=>te.toDate());try{Yo({action:"getTrackableUsageReply",data:{id:x.id,trackable:ee,usage:se}},j.id,x.lid)}catch(te){console.error(te)}}else m(j,V)},R=async(j,V,x)=>{if(j.uses.includes("getLocation")){let ee={lat:void 0,lng:void 0};try{ee=await wh()}catch{}ee.latitude&&Yo({action:"locationReply",data:{id:x.id,lat:ee.latitude,lng:ee.longitude}},j.id,x.lid)}else m(j,V)};let Y=[],z;return Yt(()=>{window.addEventListener("message",s),z=dn.hook("onLogSaved",j=>{Yo({action:"onNote",data:j.expanded()})})}),Ns(()=>{window.removeEventListener("message",s),z()}),i.$$.update=()=>{i.$$.dirty&2&&n&&t(0,Y=n.filter(j=>j.active&&!j.locked).filter(j=>j.uses.includes("onLaunch")||j.uses.includes("onNote")))},[Y,n]}class hct extends pe{constructor(e){super(),me(this,e,dct,fct,he,{})}}function CI(i){let e,t;return e=new Iq({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function DI(i){let e,t;return e=new Out({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function SI(i){let e,t;return e=new ect({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function TI(i){let e,t;return e=new dK({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function AI(i){let e,t;return e=new Zut({}),{c(){B(e.$$.fragment)},m(n,r){O(e,n,r),t=!0},i(n){t||(_(e.$$.fragment,n),t=!0)},o(n){v(e.$$.fragment,n),t=!1},d(n){I(e,n)}}}function mct(i){let e,t,n,r,s,l,o,a,u,c,f,d,m,p,g,k,$,C,E;e=new sK({});let S=i[2]&&CI(),T=!i[2]&&i[0].storageType&&!i[1]&&DI();s=new Rut({});let M=i[3].length&&SI();a=new SVe({}),c=new iK({});let R=i[4].confetti.show&&TI(),Y=i[5].length&&AI();return p=new EVe({}),k=new hct({}),{c(){B(e.$$.fragment),t=W(),S&&S.c(),n=W(),T&&T.c(),r=W(),B(s.$$.fragment),l=W(),M&&M.c(),o=W(),B(a.$$.fragment),u=W(),B(c.$$.fragment),f=W(),R&&R.c(),d=W(),Y&&Y.c(),m=W(),B(p.$$.fragment),g=W(),B(k.$$.fragment),$=W(),C=P("div"),C.innerHTML='<img id="photo-holder-image " alt="avatar-holder"/>',h(C,"id","photo-holder"),h(C,"class","hidden"),gt(C,"display","none")},m(z,j){O(e,z,j),w(z,t,j),S&&S.m(z,j),w(z,n,j),T&&T.m(z,j),w(z,r,j),O(s,z,j),w(z,l,j),M&&M.m(z,j),w(z,o,j),O(a,z,j),w(z,u,j),O(c,z,j),w(z,f,j),R&&R.m(z,j),w(z,d,j),Y&&Y.m(z,j),w(z,m,j),O(p,z,j),w(z,g,j),O(k,z,j),w(z,$,j),w(z,C,j),E=!0},p(z,[j]){z[2]?S?j&4&&_(S,1):(S=CI(),S.c(),_(S,1),S.m(n.parentNode,n)):S&&(ae(),v(S,1,1,()=>{S=null}),ue()),!z[2]&&z[0].storageType&&!z[1]?T?j&7&&_(T,1):(T=DI(),T.c(),_(T,1),T.m(r.parentNode,r)):T&&(ae(),v(T,1,1,()=>{T=null}),ue()),z[3].length?M?j&8&&_(M,1):(M=SI(),M.c(),_(M,1),M.m(o.parentNode,o)):M&&(ae(),v(M,1,1,()=>{M=null}),ue()),z[4].confetti.show?R?j&16&&_(R,1):(R=TI(),R.c(),_(R,1),R.m(d.parentNode,d)):R&&(ae(),v(R,1,1,()=>{R=null}),ue()),z[5].length?Y?j&32&&_(Y,1):(Y=AI(),Y.c(),_(Y,1),Y.m(m.parentNode,m)):Y&&(ae(),v(Y,1,1,()=>{Y=null}),ue())},i(z){E||(_(e.$$.fragment,z),_(S),_(T),_(s.$$.fragment,z),_(M),_(a.$$.fragment,z),_(c.$$.fragment,z),_(R),_(Y),_(p.$$.fragment,z),_(k.$$.fragment,z),E=!0)},o(z){v(e.$$.fragment,z),v(S),v(T),v(s.$$.fragment,z),v(M),v(a.$$.fragment,z),v(c.$$.fragment,z),v(R),v(Y),v(p.$$.fragment,z),v(k.$$.fragment,z),E=!1},d(z){I(e,z),z&&y(t),S&&S.d(z),z&&y(n),T&&T.d(z),z&&y(r),I(s,z),z&&y(l),M&&M.d(z),z&&y(o),I(a,z),z&&y(u),I(c,z),z&&y(f),R&&R.d(z),z&&y(d),Y&&Y.d(z),z&&y(m),I(p,z),z&&y(g),I(k,z),z&&y($),z&&y(C)}}}let PI="YYYY-MM-DD";function pct(i,e,t){let n,r,s,l,o,a;Le(i,Ht,E=>t(0,n=E)),Le(i,en,E=>t(9,r=E)),Le(i,vf,E=>t(10,s=E)),Le(i,jd,E=>t(3,l=E)),Le(i,at,E=>t(4,o=E)),Le(i,Jm,E=>t(5,a=E)),lK(),window.Feature={beta(){ui(Ht,n.betaFeatures=!0,n)}};let u=1e3*60*2,c=Te().format(PI),f=!0,d;const m=()=>{let E=Te().format(PI);c!==E&&(qn({message:`It's ${Te().format("dddd")}!`}),c=E,Rq(r.trackables),setTimeout(()=>{C(),Vu({knownTrackables:r.trackables,date:Te()})},500))};setInterval(()=>{m(),g()},u);const p=()=>{document.querySelectorAll(".delete-on-app").forEach(E=>{E.classList.add("deleted"),setTimeout(()=>{E.remove()},500)})},g=()=>{Bm(n.theme)};window.addEventListener("load",async()=>{g()});let k=!1;window.location.href.search(/\?bypass/gi)>-1&&(ui(Ht,n.storageType="local",n),window.location.href="/");const $=async E=>zDe(s,r.trackables,{caller:E}),C=async()=>{t(6,k=!1),t(1,f=!0),t(6,k=!0),at.blocker("");try{await tct(n)}catch(E){at.error(E.message)}at.stopBlocker(),t(1,f=!1)};return Yt(async()=>{await C(),ls.init({}),dn.hook("onLogSaved",E=>{setTimeout(()=>{$("on-log-save")},3500)}),dn.hook("onLogsDeleted",E=>{setTimeout(()=>{$("on-log-deleted")},3500)}),document.location.pathname.search("/modal")>-1&&(document.location.href="/")}),i.$$.update=()=>{i.$$.dirty&65&&(k&&!n.onboarded?(t(2,d=!n.onboarded),at.stopBlocker(),t(1,f=!1),p()):k&&n.storageType&&(Lt(200).then(()=>{p()}),n.alwaysLocate&&wh().catch(E=>console.warn("Error fetching initial onload location",E)),_n.init().then(async()=>{Lt(2e3).then(()=>{$("storage-init"),qVe()})})))},[n,f,d,l,o,a,k]}class _ct extends pe{constructor(e){super(),me(this,e,pct,mct,he,{})}}var zq={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(fi,function(){var t="week",n="year";return function(r,s,l){var o=s.prototype;o.week=function(a){if(a===void 0&&(a=null),a!==null)return this.add(7*(a-this.week()),"day");var u=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var c=l(this).startOf(n).add(1,n).date(u),f=l(this).endOf(t);if(c.isBefore(f))return 1}var d=l(this).startOf(n).date(u).startOf(t).subtract(1,"millisecond"),m=this.diff(d,t,!0);return m<0?l(this).startOf("week").week():Math.ceil(m)},o.weeks=function(a){return a===void 0&&(a=null),this.week(a)}}})})(zq);const gct=zq.exports;var jq={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(fi,function(){return function(t,n){var r=n.prototype,s=r.format;r.format=function(l){var o=this,a=this.$locale();if(!this.isValid())return s.bind(this)(l);var u=this.$utils(),c=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(f){switch(f){case"Q":return Math.ceil((o.$M+1)/3);case"Do":return a.ordinal(o.$D);case"gggg":return o.weekYear();case"GGGG":return o.isoWeekYear();case"wo":return a.ordinal(o.week(),"W");case"w":case"ww":return u.s(o.week(),f==="w"?1:2,"0");case"W":case"WW":return u.s(o.isoWeek(),f==="W"?1:2,"0");case"k":case"kk":return u.s(String(o.$H===0?24:o.$H),f==="k"?1:2,"0");case"X":return Math.floor(o.$d.getTime()/1e3);case"x":return o.$d.getTime();case"z":return"["+o.offsetName()+"]";case"zzz":return"["+o.offsetName("long")+"]";default:return f}});return s.bind(this)(c)}}})})(jq);const vct=jq.exports;var Yq={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(fi,function(){return function(t,n,r){n.prototype.dayOfYear=function(s){var l=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return s==null?l:this.add(s-l,"day")}}})})(Yq);const bct=Yq.exports;var Uq={exports:{}};(function(i,e){(function(t,n){i.exports=n()})(fi,function(){var t="day";return function(n,r,s){var l=function(u){return u.add(4-u.isoWeekday(),t)},o=r.prototype;o.isoWeekYear=function(){return l(this).year()},o.isoWeek=function(u){if(!this.$utils().u(u))return this.add(7*(u-this.isoWeek()),t);var c,f,d,m,p=l(this),g=(c=this.isoWeekYear(),f=this.$u,d=(f?s.utc:s)().year(c).startOf("year"),m=4-d.isoWeekday(),d.isoWeekday()>4&&(m+=7),d.add(m,t));return p.diff(g,"week")+1},o.isoWeekday=function(u){return this.$utils().u(u)?this.day()||7:this.day(this.day()%7?u:u-7)};var a=o.startOf;o.startOf=function(u,c){var f=this.$utils(),d=!!f.u(c)||c;return f.p(u)==="isoweek"?d?this.date(this.date()-(this.isoWeekday()-1)).startOf("day"):this.date(this.date()-1-(this.isoWeekday()-1)+7).endOf("day"):a.bind(this)(u,c)}}})})(Uq);const kct=Uq.exports,yct=60*60*1e3;YI({onRegistered(i){i&&i.update(),i&&setInterval(()=>{i.update()},yct)}});Te.extend(ay);Te.extend(gct);Te.extend(vct);Te.extend(bct);Te.extend(kct);new _ct({target:document.body})});export default wct();
